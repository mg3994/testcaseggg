{"version":3,"file":"extension.js","mappings":";2DACAA,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQE,wBAA0BF,EAAQG,yBAAsB,EAChE,MAAMC,EAAK,EAAQ,MACnBJ,EAAQG,oBAAsB,CAC1BE,MAAOD,EAAGC,MACVC,KAAMF,EAAGE,KACTC,UAAWH,EAAGG,UACdC,SAAUJ,EAAGI,SACbC,QAASL,EAAGK,QACZC,YAAaN,EAAGM,aAQpBV,EAAQE,wBANR,SAAiCS,GAC7B,YAAkBC,IAAdD,EACOX,EAAQG,oBAEZL,OAAOe,OAAOf,OAAOe,OAAO,CAAC,EAAGb,EAAQG,qBAAsBQ,EACzE,6BChBAb,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQc,wCAAqC,EAC7C,MAAMC,EAA6BC,QAAQC,SAASC,KAAKC,MAAM,KAC/D,QAAsCP,IAAlCG,EAA2B,SAAsDH,IAAlCG,EAA2B,GAC1E,MAAM,IAAIK,MAAM,gFAAgFJ,QAAQC,SAASC,QAErH,MAAMG,EAAgBC,OAAOC,SAASR,EAA2B,GAAI,IAC/DS,EAAgBF,OAAOC,SAASR,EAA2B,GAAI,IAG/DU,EAAsBJ,EAFI,GAG1BK,EAH0B,KAGML,GAA6CG,GAFnD,GAMhCxB,EAAQc,mCAAqCW,GAAuBC,+BCfpE5B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2B,SAAW3B,EAAQ4B,YAAc5B,EAAQ6B,aAAU,EAC3D,MAAMC,EAAQ,EAAQ,MAChBC,EAAO,EAAQ,MACfC,EAAa,EAAQ,MAe3B,SAASC,EAAYC,EAAoB,CAAC,GACtC,OAAIA,aAA6BF,EAAWG,QACjCD,EAEJ,IAAIF,EAAWG,QAAQD,EAClC,CAnBAlC,EAAQ2B,SAAWK,EAAWG,QAQ9BnC,EAAQ6B,QAPR,SAAiBO,EAAMC,EAA6BC,GACL,mBAAhCD,EAIXP,EAAMS,KAAKH,EAAMH,EAAYI,GAA8BC,GAHvDR,EAAMS,KAAKH,EAAMH,IAAeI,EAIxC,EAMArC,EAAQ4B,YAJR,SAAqBQ,EAAMI,GACvB,MAAMC,EAAWR,EAAYO,GAC7B,OAAOT,EAAKQ,KAAKH,EAAMK,EAC3B,+BCjBA3C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQS,QAAUT,EAAQ0C,qBAAuB1C,EAAQuC,UAAO,EAChE,MAAMI,EAAS,EAAQ,MACjBC,EAAM,EAAQ,MACdC,EAAc,EAAQ,MACtBC,EAAQ,EAAQ,MAChBC,EAAS,EAAQ,MASvB,SAASL,EAAqBM,EAAWP,EAAUH,GAC/CG,EAASrC,GAAGK,QAAQuC,EAAW,CAAEC,eAAe,IAAQ,CAACC,EAAcC,KACnE,GAAqB,OAAjBD,EAEA,YADAE,EAAoBd,EAAUY,GAGlC,MAAMG,EAAUF,EAAQG,KAAKC,IAAW,CACpCA,SACAC,KAAMD,EAAOC,KACbpB,KAAMW,EAAOU,iBAAiBT,EAAWO,EAAOC,KAAMf,EAASiB,0BAEnE,IAAKjB,EAASkB,oBAEV,YADAC,EAAoBtB,EAAUe,GAGlC,MAAMQ,EAAQR,EAAQC,KAAKQ,GAWnC,SAA0BA,EAAOrB,GAC7B,OAAQsB,IACCD,EAAMP,OAAOS,iBAIlBvB,EAASrC,GAAGE,KAAKwD,EAAM1B,MAAM,CAAC6B,EAAWC,KACrC,GAAkB,OAAdD,EACA,OAAIxB,EAAS0B,oCACTJ,EAAKE,QAGTF,EAAK,KAAMD,GAGfA,EAAMP,OAAST,EAAM1C,GAAGgE,sBAAsBN,EAAMN,KAAMU,GAC1DH,EAAK,KAAMD,EAAM,IAbjBC,EAAK,KAAMD,EAcb,CAEV,CA9B6CO,CAAiBP,EAAOrB,KAC7DG,EAAIiB,GAAO,CAACS,EAAUC,KACD,OAAbD,EAIJV,EAAoBtB,EAAUiC,GAH1BnB,EAAoBd,EAAUgC,EAGO,GAC3C,GAEV,CAsBA,SAAS7D,EAAQuC,EAAWP,EAAUH,GAClCG,EAASrC,GAAGK,QAAQuC,GAAW,CAACE,EAAcsB,KAC1C,GAAqB,OAAjBtB,EAEA,YADAE,EAAoBd,EAAUY,GAGlC,MAAMW,EAAQW,EAAMlB,KAAKE,IACrB,MAAMpB,EAAOW,EAAOU,iBAAiBT,EAAWQ,EAAMf,EAASiB,sBAC/D,OAAQK,IACJpB,EAAOrC,KAAK8B,EAAMK,EAASgC,gBAAgB,CAACC,EAAOR,KAC/C,GAAc,OAAVQ,EAEA,YADAX,EAAKW,GAGT,MAAMZ,EAAQ,CACVN,OACApB,OACAmB,OAAQT,EAAM1C,GAAGgE,sBAAsBZ,EAAMU,IAE7CzB,EAASyB,QACTJ,EAAMI,MAAQA,GAElBH,EAAK,KAAMD,EAAM,GACnB,CACL,IAELlB,EAAIiB,GAAO,CAACS,EAAUjB,KACD,OAAbiB,EAIJV,EAAoBtB,EAAUe,GAH1BD,EAAoBd,EAAUgC,EAGI,GACxC,GAEV,CAEA,SAASlB,EAAoBd,EAAUoC,GACnCpC,EAASoC,EACb,CACA,SAASd,EAAoBtB,EAAUqC,GACnCrC,EAAS,KAAMqC,EACnB,CAxFA3E,EAAQuC,KAPR,SAAcS,EAAWP,EAAUH,GAC1BG,EAASyB,QAASrB,EAAY/B,mCAInCL,EAAQuC,EAAWP,EAAUH,GAHzBI,EAAqBM,EAAWP,EAAUH,EAIlD,EA2BAtC,EAAQ0C,qBAAuBA,EAwD/B1C,EAAQS,QAAUA,6BChGlBX,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyD,sBAAmB,EAU3BzD,EAAQyD,iBATR,SAA0BmB,EAAGC,EAAGC,GAI5B,OAAIF,EAAEG,SAASD,GACJF,EAAIC,EAERD,EAAIE,EAAYD,CAC3B,+BCVA/E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQS,QAAUT,EAAQ0C,qBAAuB1C,EAAQuC,UAAO,EAChE,MAAMI,EAAS,EAAQ,MACjBE,EAAc,EAAQ,MACtBC,EAAQ,EAAQ,MAChBC,EAAS,EAAQ,MAQvB,SAASL,EAAqBM,EAAWP,GAErC,OADgBA,EAASrC,GAAGM,YAAYsC,EAAW,CAAEC,eAAe,IACrDK,KAAKC,IAChB,MAAMO,EAAQ,CACVP,SACAC,KAAMD,EAAOC,KACbpB,KAAMW,EAAOU,iBAAiBT,EAAWO,EAAOC,KAAMf,EAASiB,uBAEnE,GAAII,EAAMP,OAAOS,kBAAoBvB,EAASkB,oBAC1C,IACI,MAAMO,EAAQzB,EAASrC,GAAGI,SAASsD,EAAM1B,MACzC0B,EAAMP,OAAST,EAAM1C,GAAGgE,sBAAsBN,EAAMN,KAAMU,EAC9D,CACA,MAAOQ,GACH,GAAIjC,EAAS0B,+BACT,MAAMO,CAEd,CAEJ,OAAOZ,CAAK,GAEpB,CAEA,SAASrD,EAAQuC,EAAWP,GAExB,OADcA,EAASrC,GAAGM,YAAYsC,GACzBM,KAAKE,IACd,MAAMwB,EAAYjC,EAAOU,iBAAiBT,EAAWQ,EAAMf,EAASiB,sBAC9DQ,EAAQvB,EAAOnC,SAASwE,EAAWvC,EAASgC,gBAC5CX,EAAQ,CACVN,OACApB,KAAM4C,EACNzB,OAAQT,EAAM1C,GAAGgE,sBAAsBZ,EAAMU,IAKjD,OAHIzB,EAASyB,QACTJ,EAAMI,MAAQA,GAEXJ,CAAK,GAEpB,CAvCA9D,EAAQuC,KANR,SAAcS,EAAWP,GACrB,OAAKA,EAASyB,OAASrB,EAAY/B,mCACxB4B,EAAqBM,EAAWP,GAEpChC,EAAQuC,EAAWP,EAC9B,EAwBAzC,EAAQ0C,qBAAuBA,EAiB/B1C,EAAQS,QAAUA,+BCpDlBX,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmC,EAAO,EAAQ,MACfO,EAAS,EAAQ,MACjBvC,EAAK,EAAQ,MAmBnBJ,EAAA,QAlBA,MACIiF,YAAYC,EAAW,CAAC,GACpBC,KAAKD,SAAWA,EAChBC,KAAKxB,oBAAsBwB,KAAKC,UAAUD,KAAKD,SAASvB,qBAAqB,GAC7EwB,KAAK/E,GAAKA,EAAGF,wBAAwBiF,KAAKD,SAAS9E,IACnD+E,KAAKzB,qBAAuByB,KAAKC,UAAUD,KAAKD,SAASxB,qBAAsBtB,EAAKiD,KACpFF,KAAKjB,MAAQiB,KAAKC,UAAUD,KAAKD,SAAShB,OAAO,GACjDiB,KAAKhB,+BAAiCgB,KAAKC,UAAUD,KAAKD,SAASf,gCAAgC,GACnGgB,KAAKV,eAAiB,IAAI9B,EAAOhB,SAAS,CACtC2D,mBAAoBH,KAAKxB,oBACzBvD,GAAI+E,KAAK/E,GACT+D,+BAAgCgB,KAAKhB,gCAE7C,CACAiB,UAAUG,EAAQtF,GACd,OAAOsF,QAAuCA,EAAStF,CAC3D,8BCpBJH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQoE,2BAAwB,EAChC,MAAMoB,EACFP,YAAYzB,EAAMU,GACdiB,KAAK3B,KAAOA,EACZ2B,KAAKM,cAAgBvB,EAAMuB,cAAcC,KAAKxB,GAC9CiB,KAAKQ,kBAAoBzB,EAAMyB,kBAAkBD,KAAKxB,GACtDiB,KAAKS,YAAc1B,EAAM0B,YAAYF,KAAKxB,GAC1CiB,KAAKU,OAAS3B,EAAM2B,OAAOH,KAAKxB,GAChCiB,KAAKW,OAAS5B,EAAM4B,OAAOJ,KAAKxB,GAChCiB,KAAKY,SAAW7B,EAAM6B,SAASL,KAAKxB,GACpCiB,KAAKnB,eAAiBE,EAAMF,eAAe0B,KAAKxB,EACpD,EAKJlE,EAAQoE,sBAHR,SAA+BZ,EAAMU,GACjC,OAAO,IAAIsB,EAAgBhC,EAAMU,EACrC,+BChBApE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQI,QAAK,EACb,MAAMA,EAAK,EAAQ,MACnBJ,EAAQI,GAAKA,+BCHbN,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQE,wBAA0BF,EAAQG,yBAAsB,EAChE,MAAMC,EAAK,EAAQ,MACnBJ,EAAQG,oBAAsB,CAC1BE,MAAOD,EAAGC,MACVC,KAAMF,EAAGE,KACTC,UAAWH,EAAGG,UACdC,SAAUJ,EAAGI,UAQjBR,EAAQE,wBANR,SAAiCS,GAC7B,YAAkBC,IAAdD,EACOX,EAAQG,oBAEZL,OAAOe,OAAOf,OAAOe,OAAO,CAAC,EAAGb,EAAQG,qBAAsBQ,EACzE,+BCdAb,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQQ,SAAWR,EAAQM,KAAON,EAAQ2B,cAAW,EACrD,MAAMG,EAAQ,EAAQ,MAChBC,EAAO,EAAQ,MACfC,EAAa,EAAQ,MAe3B,SAASC,EAAYC,EAAoB,CAAC,GACtC,OAAIA,aAA6BF,EAAWG,QACjCD,EAEJ,IAAIF,EAAWG,QAAQD,EAClC,CAnBAlC,EAAQ2B,SAAWK,EAAWG,QAQ9BnC,EAAQM,KAPR,SAAc8B,EAAMC,EAA6BC,GACF,mBAAhCD,EAIXP,EAAMS,KAAKH,EAAMH,EAAYI,GAA8BC,GAHvDR,EAAMS,KAAKH,EAAMH,IAAeI,EAIxC,EAMArC,EAAQQ,SAJR,SAAkB4B,EAAMI,GACpB,MAAMC,EAAWR,EAAYO,GAC7B,OAAOT,EAAKQ,KAAKH,EAAMK,EAC3B,6BCYA,SAASW,EAAoBd,EAAUoC,GACnCpC,EAASoC,EACb,CACA,SAASd,EAAoBtB,EAAUqC,GACnCrC,EAAS,KAAMqC,EACnB,CAlCA7E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQuC,UAAO,EA2BfvC,EAAQuC,KA1BR,SAAcH,EAAMK,EAAUH,GAC1BG,EAASrC,GAAGC,MAAM+B,GAAM,CAAC4D,EAAY3F,KACd,OAAf2F,EAIC3F,EAAM2D,kBAAqBvB,EAAS6C,mBAIzC7C,EAASrC,GAAGE,KAAK8B,GAAM,CAAC6B,EAAW3D,KAC/B,GAAkB,OAAd2D,EACA,OAAIxB,EAAS0B,oCACTf,EAAoBd,EAAU2B,QAGlCL,EAAoBtB,EAAUjC,GAG9BoC,EAASwD,mBACT3F,EAAK0D,eAAiB,KAAM,GAEhCJ,EAAoBtB,EAAUhC,EAAK,IAfnCsD,EAAoBtB,EAAUjC,GAJ9B+C,EAAoBd,EAAU0D,EAoBhC,GAEV,6BC3BAlG,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQuC,UAAO,EAoBfvC,EAAQuC,KAnBR,SAAcH,EAAMK,GAChB,MAAMpC,EAAQoC,EAASrC,GAAGG,UAAU6B,GACpC,IAAK/B,EAAM2D,mBAAqBvB,EAAS6C,mBACrC,OAAOjF,EAEX,IACI,MAAMC,EAAOmC,EAASrC,GAAGI,SAAS4B,GAIlC,OAHIK,EAASwD,mBACT3F,EAAK0D,eAAiB,KAAM,GAEzB1D,CACX,CACA,MAAOoE,GACH,IAAKjC,EAAS0B,+BACV,OAAO9D,EAEX,MAAMqE,CACV,CACJ,+BCpBA5E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMG,EAAK,EAAQ,MAanBJ,EAAA,QAZA,MACIiF,YAAYC,EAAW,CAAC,GACpBC,KAAKD,SAAWA,EAChBC,KAAKG,mBAAqBH,KAAKC,UAAUD,KAAKD,SAASI,oBAAoB,GAC3EH,KAAK/E,GAAKA,EAAGF,wBAAwBiF,KAAKD,SAAS9E,IACnD+E,KAAKc,iBAAmBd,KAAKC,UAAUD,KAAKD,SAASe,kBAAkB,GACvEd,KAAKhB,+BAAiCgB,KAAKC,UAAUD,KAAKD,SAASf,gCAAgC,EACvG,CACAiB,UAAUG,EAAQtF,GACd,OAAOsF,QAAuCA,EAAStF,CAC3D,gCCZJH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2B,SAAW3B,EAAQkG,WAAalG,EAAQmG,SAAWnG,EAAQoG,UAAO,EAC1E,MAAMC,EAAU,EAAQ,MAClBC,EAAW,EAAQ,MACnBC,EAAS,EAAQ,MACjBvE,EAAa,EAAQ,MAsB3B,SAASC,EAAYC,EAAoB,CAAC,GACtC,OAAIA,aAA6BF,EAAWG,QACjCD,EAEJ,IAAIF,EAAWG,QAAQD,EAClC,CA1BAlC,EAAQ2B,SAAWK,EAAWG,QAQ9BnC,EAAQoG,KAPR,SAAcpD,EAAWX,EAA6BC,GACP,mBAAhCD,EAIX,IAAIgE,EAAQlE,QAAQa,EAAWf,EAAYI,IAA8BE,KAAKD,GAH1E,IAAI+D,EAAQlE,QAAQa,EAAWf,KAAeM,KAAKF,EAI3D,EAOArC,EAAQmG,SALR,SAAkBnD,EAAWR,GACzB,MAAMC,EAAWR,EAAYO,GAE7B,OADiB,IAAI+D,EAAOpE,QAAQa,EAAWP,GAC/BF,MACpB,EAOAvC,EAAQkG,WALR,SAAoBlD,EAAWR,GAC3B,MAAMC,EAAWR,EAAYO,GAE7B,OADiB,IAAI8D,EAASnE,QAAQa,EAAWP,GACjCF,MACpB,+BCzBAzC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMoG,EAAU,EAAQ,MAqBxBrG,EAAA,QApBA,MACIiF,YAAYuB,EAAOC,GACftB,KAAKqB,MAAQA,EACbrB,KAAKsB,UAAYA,EACjBtB,KAAKuB,QAAU,IAAIL,EAAQlE,QAAQgD,KAAKqB,MAAOrB,KAAKsB,WACpDtB,KAAKwB,SAAW,EACpB,CACApE,KAAKD,GACD6C,KAAKuB,QAAQE,SAASlC,KAa9B,SAA6BpC,EAAUoC,GACnCpC,EAASoC,EACb,CAdYtB,CAAoBd,EAAUoC,EAAM,IAExCS,KAAKuB,QAAQG,SAAS/C,IAClBqB,KAAKwB,SAASG,KAAKhD,EAAM,IAE7BqB,KAAKuB,QAAQK,OAAM,MAU3B,SAA6BzE,EAAUe,GACnCf,EAAS,KAAMe,EACnB,CAXYO,CAAoBtB,EAAU6C,KAAKwB,SAAS,IAEhDxB,KAAKuB,QAAQnE,MACjB,gCCpBJzC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMqG,EAAW,EAAQ,MACnBD,EAAU,EAAQ,MA8BxBrG,EAAA,QA7BA,MACIiF,YAAYuB,EAAOC,GACftB,KAAKqB,MAAQA,EACbrB,KAAKsB,UAAYA,EACjBtB,KAAKuB,QAAU,IAAIL,EAAQlE,QAAQgD,KAAKqB,MAAOrB,KAAKsB,WACpDtB,KAAK6B,QAAU,IAAIV,EAASW,SAAS,CACjCC,YAAY,EACZ3E,KAAM,OACN4E,QAAS,KACAhC,KAAKuB,QAAQU,aACdjC,KAAKuB,QAAQS,SACjB,GAGZ,CACA5E,OAWI,OAVA4C,KAAKuB,QAAQE,SAASlC,IAClBS,KAAK6B,QAAQK,KAAK,QAAS3C,EAAM,IAErCS,KAAKuB,QAAQG,SAAS/C,IAClBqB,KAAK6B,QAAQF,KAAKhD,EAAM,IAE5BqB,KAAKuB,QAAQK,OAAM,KACf5B,KAAK6B,QAAQF,KAAK,KAAK,IAE3B3B,KAAKuB,QAAQnE,OACN4C,KAAK6B,OAChB,gCC9BJlH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMsG,EAAS,EAAQ,MAWvBvG,EAAA,QAVA,MACIiF,YAAYuB,EAAOC,GACftB,KAAKqB,MAAQA,EACbrB,KAAKsB,UAAYA,EACjBtB,KAAKuB,QAAU,IAAIH,EAAOpE,QAAQgD,KAAKqB,MAAOrB,KAAKsB,UACvD,CACAlE,OACI,OAAO4C,KAAKuB,QAAQnE,MACxB,gCCVJzC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMqH,EAAW,EAAQ,MACnBC,EAAY,EAAQ,MACpBC,EAAQ,EAAQ,MAChBzE,EAAS,EAAQ,MACjB0E,EAAW,EAAQ,MACzB,MAAMC,UAAoBD,EAAStF,QAC/B8C,YAAYuB,EAAOC,GACfkB,MAAMnB,EAAOC,GACbtB,KAAKsB,UAAYA,EACjBtB,KAAKyC,SAAWL,EAAU1F,QAC1BsD,KAAK0C,SAAW,IAAIP,EAASQ,aAC7B3C,KAAK4C,OAASP,EAAMrC,KAAK6C,QAAQtC,KAAKP,MAAOA,KAAKsB,UAAUwB,aAC5D9C,KAAK+C,eAAgB,EACrB/C,KAAKgD,cAAe,EACpBhD,KAAK4C,OAAOK,MAAQ,KACXjD,KAAK+C,eACN/C,KAAK0C,SAASR,KAAK,MACvB,CAER,CACA9E,OAMI,OALA4C,KAAK+C,eAAgB,EACrB/C,KAAKgD,cAAe,EACpBE,cAAa,KACTlD,KAAKmD,aAAanD,KAAKqB,MAAOrB,KAAKsB,UAAU8B,SAAS,IAEnDpD,KAAK0C,QAChB,CACIT,kBACA,OAAOjC,KAAKgD,YAChB,CACAhB,UACI,GAAIhC,KAAKgD,aACL,MAAM,IAAI/G,MAAM,mCAEpB+D,KAAKgD,cAAe,EACpBhD,KAAK4C,OAAOS,cAChB,CACA3B,QAAQvE,GACJ6C,KAAK0C,SAASY,GAAG,QAASnG,EAC9B,CACAsE,QAAQtE,GACJ6C,KAAK0C,SAASa,KAAK,QAASpG,EAChC,CACAyE,MAAMzE,GACF6C,KAAK0C,SAASa,KAAK,MAAOpG,EAC9B,CACAgG,aAAatF,EAAW2F,GACpB,MAAMC,EAAY,CAAE5F,YAAW2F,QAC/BxD,KAAK4C,OAAOjB,KAAK8B,GAAYlE,IACX,OAAVA,GACAS,KAAK0D,aAAanE,EACtB,GAER,CACAsD,QAAQc,EAAM/E,GACVoB,KAAKyC,SAASkB,EAAK9F,UAAWmC,KAAKsB,UAAUsC,mBAAmB,CAACrE,EAAOrB,KACpE,GAAc,OAAVqB,EAAJ,CAIA,IAAK,MAAMZ,KAAST,EAChB8B,KAAK6D,aAAalF,EAAOgF,EAAKH,MAElC5E,EAAK,UAAMnD,EAJX,MAFImD,EAAKW,OAAO9D,EAMK,GAE7B,CACAiI,aAAanE,IACLS,KAAKgD,cAAiBpF,EAAOkG,aAAa9D,KAAKsB,UAAW/B,KAG9DS,KAAK+C,eAAgB,EACrB/C,KAAKgD,cAAe,EACpBhD,KAAK0C,SAASR,KAAK,QAAS3C,GAChC,CACAsE,aAAalF,EAAO6E,GAChB,GAAIxD,KAAKgD,cAAgBhD,KAAK+C,cAC1B,OAEJ,MAAMgB,EAAWpF,EAAM1B,UACVxB,IAAT+H,IACA7E,EAAM1B,KAAOW,EAAOU,iBAAiBkF,EAAM7E,EAAMN,KAAM2B,KAAKsB,UAAU/C,uBAEtEX,EAAOoG,gBAAgBhE,KAAKsB,UAAU2C,YAAatF,IACnDqB,KAAKkE,WAAWvF,GAEhBA,EAAMP,OAAOqC,eAAiB7C,EAAOoG,gBAAgBhE,KAAKsB,UAAU6C,WAAYxF,IAChFqB,KAAKmD,aAAaY,OAAmBtI,IAAT+H,OAAqB/H,EAAYkD,EAAM1B,KAE3E,CACAiH,WAAWvF,GACPqB,KAAK0C,SAASR,KAAK,QAASvD,EAChC,EAEJ9D,EAAA,QAAkB0H,6BC/FlB5H,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyD,iBAAmBzD,EAAQuJ,4BAA8BvJ,EAAQmJ,gBAAkBnJ,EAAQiJ,kBAAe,EAOlHjJ,EAAQiJ,aANR,SAAsBxG,EAAUiC,GAC5B,OAA6B,OAAzBjC,EAAS+G,cAGL/G,EAAS+G,YAAY9E,EACjC,EAKA1E,EAAQmJ,gBAHR,SAAyBM,EAAQxJ,GAC7B,OAAkB,OAAXwJ,GAAmBA,EAAOxJ,EACrC,EAKAD,EAAQuJ,4BAHR,SAAqCG,EAAU5E,GAC3C,OAAO4E,EAASvI,MAAM,SAASwI,KAAK7E,EACxC,EAcA9E,EAAQyD,iBAZR,SAA0BmB,EAAGC,EAAGC,GAC5B,MAAU,KAANF,EACOC,EAKPD,EAAEG,SAASD,GACJF,EAAIC,EAERD,EAAIE,EAAYD,CAC3B,+BC5BA/E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM8C,EAAS,EAAQ,MAQvB/C,EAAA,QAPA,MACIiF,YAAYuB,EAAOC,GACftB,KAAKqB,MAAQA,EACbrB,KAAKsB,UAAYA,EACjBtB,KAAKqB,MAAQzD,EAAOwG,4BAA4B/C,EAAOC,EAAU/C,qBACrE,gCCPJ5D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMsH,EAAY,EAAQ,MACpBxE,EAAS,EAAQ,MACjB0E,EAAW,EAAQ,MACzB,MAAMmC,UAAmBnC,EAAStF,QAC9B8C,cACI0C,SAASkC,WACT1E,KAAKyC,SAAWL,EAAU3F,YAC1BuD,KAAKwB,SAAW,GAChBxB,KAAK4C,OAAS,IAAI+B,GACtB,CACAvH,OAGI,OAFA4C,KAAKmD,aAAanD,KAAKqB,MAAOrB,KAAKsB,UAAU8B,UAC7CpD,KAAK4E,eACE5E,KAAKwB,QAChB,CACA2B,aAAatF,EAAW2F,GACpBxD,KAAK4C,OAAOiC,IAAI,CAAEhH,YAAW2F,QACjC,CACAoB,eACI,IAAK,MAAMjB,KAAQ3D,KAAK4C,OAAOkC,SAC3B9E,KAAK+E,iBAAiBpB,EAAK9F,UAAW8F,EAAKH,KAEnD,CACAuB,iBAAiBlH,EAAW2F,GACxB,IACI,MAAMtF,EAAU8B,KAAKyC,SAAS5E,EAAWmC,KAAKsB,UAAUsC,mBACxD,IAAK,MAAMjF,KAAST,EAChB8B,KAAK6D,aAAalF,EAAO6E,EAEjC,CACA,MAAOjE,GACHS,KAAK0D,aAAanE,EACtB,CACJ,CACAmE,aAAanE,GACT,GAAK3B,EAAOkG,aAAa9D,KAAKsB,UAAW/B,GAGzC,MAAMA,CACV,CACAsE,aAAalF,EAAO6E,GAChB,MAAMO,EAAWpF,EAAM1B,UACVxB,IAAT+H,IACA7E,EAAM1B,KAAOW,EAAOU,iBAAiBkF,EAAM7E,EAAMN,KAAM2B,KAAKsB,UAAU/C,uBAEtEX,EAAOoG,gBAAgBhE,KAAKsB,UAAU2C,YAAatF,IACnDqB,KAAKgF,eAAerG,GAEpBA,EAAMP,OAAOqC,eAAiB7C,EAAOoG,gBAAgBhE,KAAKsB,UAAU6C,WAAYxF,IAChFqB,KAAKmD,aAAaY,OAAmBtI,IAAT+H,OAAqB/H,EAAYkD,EAAM1B,KAE3E,CACA+H,eAAerG,GACXqB,KAAKwB,SAASG,KAAKhD,EACvB,EAEJ9D,EAAA,QAAkB4J,+BCzDlB9J,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmC,EAAO,EAAQ,MACfmF,EAAY,EAAQ,MAsB1BvH,EAAA,QArBA,MACIiF,YAAYC,EAAW,CAAC,GACpBC,KAAKD,SAAWA,EAChBC,KAAKoD,SAAWpD,KAAKC,UAAUD,KAAKD,SAASqD,cAAU3H,GACvDuE,KAAK8C,YAAc9C,KAAKC,UAAUD,KAAKD,SAAS+C,YAAa3G,OAAO8I,mBACpEjF,KAAKmE,WAAanE,KAAKC,UAAUD,KAAKD,SAASoE,WAAY,MAC3DnE,KAAKiE,YAAcjE,KAAKC,UAAUD,KAAKD,SAASkE,YAAa,MAC7DjE,KAAKqE,YAAcrE,KAAKC,UAAUD,KAAKD,SAASsE,YAAa,MAC7DrE,KAAKzB,qBAAuByB,KAAKC,UAAUD,KAAKD,SAASxB,qBAAsBtB,EAAKiD,KACpFF,KAAK4D,kBAAoB,IAAIxB,EAAU5F,SAAS,CAC5CgC,oBAAqBwB,KAAKD,SAASvB,oBACnCvD,GAAI+E,KAAKD,SAAS9E,GAClBsD,qBAAsByB,KAAKD,SAASxB,qBACpCQ,MAAOiB,KAAKD,SAAShB,MACrBC,+BAAgCgB,KAAKD,SAASf,gCAEtD,CACAiB,UAAUG,EAAQtF,GACd,OAAOsF,QAAuCA,EAAStF,CAC3D,0BCrBJoK,EAAOrK,QAAU,IAAIsK,IACb,IAAI,IAAIR,IAAI,GAAGS,UAAUD,kCCDjC,MAAME,EAAY,EAAQ,MACpBC,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MACjBC,EAAQ,EAAQ,MAgBhBC,EAAS,CAACC,EAAOC,EAAU,CAAC,KAChC,IAAIC,EAAS,GAEb,GAAIC,MAAMC,QAAQJ,GAChB,IAAK,IAAIK,KAAWL,EAAO,CACzB,IAAIlG,EAASiG,EAAOO,OAAOD,EAASJ,GAChCE,MAAMC,QAAQtG,GAChBoG,EAAOjE,QAAQnC,GAEfoG,EAAOjE,KAAKnC,EAEhB,MAEAoG,EAAS,GAAGR,OAAOK,EAAOO,OAAON,EAAOC,IAM1C,OAHIA,IAA8B,IAAnBA,EAAQJ,SAAuC,IAApBI,EAAQM,UAChDL,EAAS,IAAI,IAAIjB,IAAIiB,KAEhBA,CAAM,EAiBfH,EAAOD,MAAQ,CAACE,EAAOC,EAAU,CAAC,IAAMH,EAAME,EAAOC,GAgBrDF,EAAOJ,UAAY,CAACK,EAAOC,EAAU,CAAC,IAE3BN,EADY,iBAAVK,EACQD,EAAOD,MAAME,EAAOC,GAEtBD,EAFgCC,GAoBnDF,EAAOH,QAAU,CAACI,EAAOC,EAAU,CAAC,KACb,iBAAVD,IACTA,EAAQD,EAAOD,MAAME,EAAOC,IAEvBL,EAAQI,EAAOC,IAoBxBF,EAAOF,OAAS,CAACG,EAAOC,EAAU,CAAC,KACZ,iBAAVD,IACTA,EAAQD,EAAOD,MAAME,EAAOC,IAG9B,IAAInG,EAAS+F,EAAOG,EAAOC,GAY3B,OATwB,IAApBA,EAAQO,UACV1G,EAASA,EAAO8E,OAAO6B,WAID,IAApBR,EAAQM,UACVzG,EAAS,IAAI,IAAImF,IAAInF,KAGhBA,CAAM,EAmBfiG,EAAOO,OAAS,CAACN,EAAOC,EAAU,CAAC,IACnB,KAAVD,GAAgBA,EAAMU,OAAS,EAC1B,CAACV,IAGe,IAAnBC,EAAQJ,OACVE,EAAOH,QAAQI,EAAOC,GACtBF,EAAOF,OAAOG,EAAOC,GAO3BT,EAAOrK,QAAU4K,+BCvKjB,MAAMY,EAAO,EAAQ,KACf1I,EAAQ,EAAQ,MAqDtBuH,EAAOrK,QAnDS,CAACyL,EAAKX,EAAU,CAAC,KAC/B,IAAI1E,EAAO,CAAClF,EAAMwK,EAAS,CAAC,KAC1B,IAAIC,EAAe7I,EAAM8I,eAAeF,GACpCG,GAA+B,IAAjB3K,EAAK4K,UAA8C,IAA1BhB,EAAQiB,cAC/CD,GAA2B,IAAjBH,IAAyC,IAAhBE,EACnCG,GAAmC,IAA1BlB,EAAQiB,cAAyB,KAAO,GACjDhB,EAAS,GAEb,IAAoB,IAAhB7J,EAAK+K,OACP,OAAOD,EAAS9K,EAAKjB,MAEvB,IAAqB,IAAjBiB,EAAKgL,QACP,OAAOF,EAAS9K,EAAKjB,MAGvB,GAAkB,SAAdiB,EAAKiL,KACP,OAAOL,EAAWE,EAAS9K,EAAKjB,MAAS,IAG3C,GAAkB,UAAdiB,EAAKiL,KACP,OAAOL,EAAWE,EAAS9K,EAAKjB,MAAS,IAG3C,GAAkB,UAAdiB,EAAKiL,KACP,MAA0B,UAAnBjL,EAAKkL,KAAKD,KAAmB,GAAML,EAAU5K,EAAKjB,MAAQ,IAGnE,GAAIiB,EAAKjB,MACP,OAAOiB,EAAKjB,MAGd,GAAIiB,EAAKmL,OAASnL,EAAKoL,OAAS,EAAG,CACjC,IAAIC,EAAOzJ,EAAM0J,OAAOtL,EAAKmL,OACzBI,EAAQjB,KAAQe,EAAM,IAAKzB,EAAS4B,MAAM,EAAOC,SAAS,IAE9D,GAAqB,IAAjBF,EAAMlB,OACR,OAAOgB,EAAKhB,OAAS,GAAKkB,EAAMlB,OAAS,EAAI,IAAIkB,KAAWA,CAEhE,CAEA,GAAIvL,EAAKmL,MACP,IAAK,IAAIO,KAAS1L,EAAKmL,MACrBtB,GAAU3E,EAAKwG,EAAO1L,GAG1B,OAAO6J,CAAM,EAGf,OAAO3E,EAAKqF,EAAI,yBCnDlBpB,EAAOrK,QAAU,CACf6M,WAAY,MAGZC,OAAQ,IACRC,OAAQ,IAGRC,iBAAkB,IAClBC,iBAAkB,IAClBC,iBAAkB,IAClBC,iBAAkB,IAElBC,sBAAuB,IACvBC,uBAAwB,IAExBC,cAAe,IAGfC,eAAgB,IAChBC,QAAS,IACTC,eAAgB,KAChBC,cAAe,IACfC,qBAAsB,KACtBC,uBAAwB,IACxBC,WAAY,IACZC,WAAY,IACZC,YAAa,IACbC,SAAU,IACVC,kBAAmB,IACnBC,WAAY,IACZC,sBAAuB,IACvBC,eAAgB,KAChBC,mBAAoB,IACpBC,UAAW,IACXC,kBAAmB,IACnBC,wBAAyB,IACzBC,sBAAuB,IACvBC,yBAA0B,IAC1BC,eAAgB,KAChBC,oBAAqB,IACrBC,aAAc,IACdC,UAAW,IACXC,mBAAoB,IACpBC,yBAA0B,IAC1BC,uBAAwB,IACxBC,0BAA2B,IAC3BC,eAAgB,IAChBC,kBAAmB,IACnBC,WAAY,IACZC,SAAU,KACVC,gBAAiB,IACjBC,mBAAoB,IACpBC,8BAA+B,uCCrDjC,MAAMjE,EAAO,EAAQ,KACfhB,EAAY,EAAQ,MACpB1H,EAAQ,EAAQ,MAEhB4M,EAAS,CAACC,EAAQ,GAAIC,EAAQ,GAAIC,GAAU,KAChD,IAAIlL,EAAS,GAKb,GAHAgL,EAAQ,GAAGpF,OAAOoF,KAClBC,EAAQ,GAAGrF,OAAOqF,IAEPrE,OAAQ,OAAOoE,EAC1B,IAAKA,EAAMpE,OACT,OAAOsE,EAAU/M,EAAMgN,QAAQF,GAAOtM,KAAIyM,GAAO,IAAIA,OAAUH,EAGjE,IAAK,IAAI9G,KAAQ6G,EACf,GAAI3E,MAAMC,QAAQnC,GAChB,IAAK,IAAI7I,KAAS6I,EAChBnE,EAAOmC,KAAK4I,EAAOzP,EAAO2P,EAAOC,SAGnC,IAAK,IAAIE,KAAOH,GACE,IAAZC,GAAmC,iBAARE,IAAkBA,EAAM,IAAIA,MAC3DpL,EAAOmC,KAAKkE,MAAMC,QAAQ8E,GAAOL,EAAO5G,EAAMiH,EAAKF,GAAY/G,EAAOiH,GAI5E,OAAOjN,EAAMgN,QAAQnL,EAAO,EAmF9B0F,EAAOrK,QAhFQ,CAACyL,EAAKX,EAAU,CAAC,KAC9B,IAAIkF,OAAoC,IAAvBlF,EAAQkF,WAAwB,IAAOlF,EAAQkF,WAE5D5J,EAAO,CAAClF,EAAMwK,EAAS,CAAC,KAC1BxK,EAAKyO,MAAQ,GAEb,IAAIM,EAAIvE,EACJwE,EAAIxE,EAAOiE,MAEf,KAAkB,UAAXM,EAAE9D,MAA+B,SAAX8D,EAAE9D,MAAmB8D,EAAEvE,QAClDuE,EAAIA,EAAEvE,OACNwE,EAAID,EAAEN,MAGR,GAAIzO,EAAK4K,SAAW5K,EAAKiP,OAEvB,YADAD,EAAEpJ,KAAK4I,EAAOQ,EAAEE,MAAO5F,EAAUtJ,EAAM4J,KAIzC,GAAkB,UAAd5J,EAAKiL,OAAqC,IAAjBjL,EAAK4K,SAA0C,IAAtB5K,EAAKmL,MAAMd,OAE/D,YADA2E,EAAEpJ,KAAK4I,EAAOQ,EAAEE,MAAO,CAAC,QAI1B,GAAIlP,EAAKmL,OAASnL,EAAKoL,OAAS,EAAG,CACjC,IAAIC,EAAOzJ,EAAM0J,OAAOtL,EAAKmL,OAE7B,GAAIvJ,EAAMuN,gBAAgB9D,EAAMzB,EAAQwF,KAAMN,GAC5C,MAAM,IAAIO,WAAW,uGAGvB,IAAI9D,EAAQjB,KAAQe,EAAMzB,GAO1B,OANqB,IAAjB2B,EAAMlB,SACRkB,EAAQjC,EAAUtJ,EAAM4J,IAG1BoF,EAAEpJ,KAAK4I,EAAOQ,EAAEE,MAAO3D,SACvBvL,EAAKmL,MAAQ,GAEf,CAEA,IAAIwD,EAAU/M,EAAM0N,aAAatP,GAC7ByO,EAAQzO,EAAKyO,MACbc,EAAQvP,EAEZ,KAAsB,UAAfuP,EAAMtE,MAAmC,SAAfsE,EAAMtE,MAAmBsE,EAAM/E,QAC9D+E,EAAQA,EAAM/E,OACdiE,EAAQc,EAAMd,MAGhB,IAAK,IAAIe,EAAI,EAAGA,EAAIxP,EAAKmL,MAAMd,OAAQmF,IAAK,CAC1C,IAAI9D,EAAQ1L,EAAKmL,MAAMqE,GAEJ,UAAf9D,EAAMT,MAAkC,UAAdjL,EAAKiL,KAMhB,UAAfS,EAAMT,KAKNS,EAAM3M,OAAwB,SAAf2M,EAAMT,KACvBwD,EAAM7I,KAAK4I,EAAOC,EAAMS,MAAOxD,EAAM3M,QAInC2M,EAAMP,OACRjG,EAAKwG,EAAO1L,GAVZgP,EAAEpJ,KAAK4I,EAAOQ,EAAEE,MAAOT,EAAOE,KANpB,IAANa,GAASf,EAAM7I,KAAK,IACxB6I,EAAM7I,KAAK,IAiBf,CAEA,OAAO6I,CAAK,EAGd,OAAO7M,EAAMgN,QAAQ1J,EAAKqF,GAAK,+BC3GjC,MAAMjB,EAAY,EAAQ,OAMpB,WACJqC,EAAU,eACVY,EAAc,cACdC,EAAa,WACbI,EAAU,SACVE,EAAQ,sBACRZ,EAAqB,uBACrBC,EAAsB,sBACtBoB,EAAqB,uBACrBQ,EAAsB,yBACtBP,EAAwB,0BACxBQ,EAAyB,kBACzBjB,EAAiB,kBACjBmB,EAAiB,oBACjBR,EAAmB,8BACnBa,GACE,EAAQ,MAoTZpF,EAAOrK,QA9SO,CAAC6K,EAAOC,EAAU,CAAC,KAC/B,GAAqB,iBAAVD,EACT,MAAM,IAAI8F,UAAU,qBAGtB,IAAIC,EAAO9F,GAAW,CAAC,EACnB+F,EAAgC,iBAAnBD,EAAKE,UAAyBC,KAAKC,IAAInE,EAAY+D,EAAKE,WAAajE,EACtF,GAAIhC,EAAMU,OAASsF,EACjB,MAAM,IAAII,YAAY,iBAAiBpG,EAAMU,oCAAoCsF,MAGnF,IAQI5Q,EARAwL,EAAM,CAAEU,KAAM,OAAQtB,QAAOwB,MAAO,IACpC6E,EAAQ,CAACzF,GACTgF,EAAQhF,EACRW,EAAOX,EACP0F,EAAW,EACX5F,EAASV,EAAMU,OACf6F,EAAQ,EACRC,EAAQ,EAQZ,MAAMC,EAAU,IAAMzG,EAAMuG,KACtBtK,EAAO5F,IAKX,GAJkB,SAAdA,EAAKiL,MAAiC,QAAdC,EAAKD,OAC/BC,EAAKD,KAAO,SAGVC,GAAsB,SAAdA,EAAKD,MAAiC,SAAdjL,EAAKiL,KASzC,OAJAsE,EAAMpE,MAAMvF,KAAK5F,GACjBA,EAAKwK,OAAS+E,EACdvP,EAAKkL,KAAOA,EACZA,EAAOlL,EACAA,EARLkL,EAAKnM,OAASiB,EAAKjB,KAQV,EAKb,IAFA6G,EAAK,CAAEqF,KAAM,QAENiF,EAAQ7F,GAQb,GAPAkF,EAAQS,EAAMA,EAAM3F,OAAS,GAC7BtL,EAAQqR,IAMJrR,IAAUwP,GAAiCxP,IAAU2O,EAQzD,GAAI3O,IAAUwN,EASd,GAAIxN,IAAUiP,EASd,GAAIjP,IAAUyO,EAoCd,GAAIzO,IAAUmN,EAOd,GAAInN,IAAUoN,EAed,GAAIpN,IAAUgO,GAAqBhO,IAAUmP,GAAqBnP,IAAUyN,EA8B5E,GAAIzN,IAAUwO,EAyBd,GAAIxO,IAAUgP,EAqBd,GAAIhP,IAAU6N,GAAcuD,EAAQ,EAApC,CACE,GAAIZ,EAAMnE,OAAS,EAAG,CACpBmE,EAAMnE,OAAS,EACf,IAAIiF,EAAOd,EAAMpE,MAAMmF,QACvBf,EAAMpE,MAAQ,CAACkF,EAAM,CAAEpF,KAAM,OAAQlM,MAAOuK,EAAUiG,IACxD,CAEA3J,EAAK,CAAEqF,KAAM,QAASlM,UACtBwQ,EAAMgB,QAER,MAMA,GAAIxR,IAAU+N,GAAYqD,EAAQ,GAAsB,IAAjBZ,EAAMgB,OAA7C,CACE,IAAIC,EAAWjB,EAAMpE,MAErB,GAAc,IAAVgF,GAAmC,IAApBK,EAASnG,OAAc,CACxCzE,EAAK,CAAEqF,KAAM,OAAQlM,UACrB,QACF,CAEA,GAAkB,QAAdmM,EAAKD,KAAgB,CAKvB,GAJAsE,EAAMhE,MAAQ,GACdL,EAAKnM,OAASA,EACdmM,EAAKD,KAAO,QAEe,IAAvBsE,EAAMpE,MAAMd,QAAuC,IAAvBkF,EAAMpE,MAAMd,OAAc,CACxDkF,EAAM3E,SAAU,EAChB2E,EAAMnE,OAAS,EACfF,EAAKD,KAAO,OACZ,QACF,CAEAsE,EAAMnE,SACNmE,EAAMlE,KAAO,GACb,QACF,CAEA,GAAkB,UAAdH,EAAKD,KAAkB,CACzBuF,EAAStB,MAET,IAAIuB,EAASD,EAASA,EAASnG,OAAS,GACxCoG,EAAO1R,OAASmM,EAAKnM,MAAQA,EAC7BmM,EAAOuF,EACPlB,EAAMnE,SACN,QACF,CAEAxF,EAAK,CAAEqF,KAAM,MAAOlM,SAEtB,MAMA6G,EAAK,CAAEqF,KAAM,OAAQlM,cAhFrB,CACE,GAAmB,UAAfwQ,EAAMtE,KAAkB,CAC1BrF,EAAK,CAAEqF,KAAM,OAAQlM,UACrB,QACF,CAEA,IAAIkM,EAAO,QACXsE,EAAQS,EAAMd,MACdK,EAAMmB,OAAQ,EAEd9K,EAAK,CAAEqF,OAAMlM,UACboR,IAEAZ,EAAQS,EAAMA,EAAM3F,OAAS,EAE/B,KAxCA,CACE8F,IAEA,IAAIlB,EAAS/D,EAAKnM,OAAkC,MAAzBmM,EAAKnM,MAAM4R,OAAO,KAA+B,IAAjBpB,EAAMN,OAYjEM,EAAQ3J,EAXI,CACVqF,KAAM,QACNoF,MAAM,EACNK,OAAO,EACPzB,SACAkB,QACAI,OAAQ,EACRnF,OAAQ,EACRD,MAAO,KAIT6E,EAAMpK,KAAK2J,GACX3J,EAAK,CAAEqF,KAAM,OAAQlM,SAEvB,KAjDA,CACE,IACI6R,EADAP,EAAOtR,EAOX,KAJ2B,IAAvB6K,EAAQiH,aACV9R,EAAQ,IAGHmR,EAAQ7F,IAAWuG,EAAOR,MAC/B,GAAIQ,IAASrE,EAAb,CAKA,GAAIqE,IAASP,EAAM,EACU,IAAvBzG,EAAQiH,aAAqB9R,GAAS6R,GAC1C,KACF,CAEA7R,GAAS6R,CAPT,MAFE7R,GAAS6R,EAAOR,IAYpBxK,EAAK,CAAEqF,KAAM,OAAQlM,SAEvB,KAvCA,CACE,GAAmB,UAAfwQ,EAAMtE,KAAkB,CAC1BrF,EAAK,CAAEqF,KAAM,OAAQlM,UACrB,QACF,CACAwQ,EAAQS,EAAMd,MACdtJ,EAAK,CAAEqF,KAAM,OAAQlM,UACrBwQ,EAAQS,EAAMA,EAAM3F,OAAS,EAE/B,MAfEkF,EAAQ3J,EAAK,CAAEqF,KAAM,QAASE,MAAO,KACrC6E,EAAMpK,KAAK2J,GACX3J,EAAK,CAAEqF,KAAM,OAAQlM,cAvCvB,CAGE,IACI6R,EAEJ,IALAX,IAKOC,EAAQ7F,IAAWuG,EAAOR,MAG/B,GAFArR,GAAS6R,EAELA,IAASpD,EAKb,GAAIoD,IAASrE,GAKb,GAAIqE,IAAS5C,IACXiC,IAEiB,IAAbA,GACF,WARFlR,GAASqR,SALTH,IAkBJrK,EAAK,CAAEqF,KAAM,OAAQlM,SAEvB,MAtCE6G,EAAK,CAAEqF,KAAM,OAAQlM,MAAO,KAAOA,SATnC6G,EAAK,CAAEqF,KAAM,OAAQlM,OAAQ6K,EAAQkH,aAAe/R,EAAQ,IAAMqR,MAsNtE,GAGE,GAFAb,EAAQS,EAAMd,MAEK,SAAfK,EAAMtE,KAAiB,CACzBsE,EAAMpE,MAAM4F,SAAQ/Q,IACbA,EAAKmL,QACU,SAAdnL,EAAKiL,OAAiBjL,EAAK+K,QAAS,GACtB,UAAd/K,EAAKiL,OAAkBjL,EAAKgL,SAAU,GACrChL,EAAKmL,QAAOnL,EAAKiL,KAAO,QAC7BjL,EAAK4K,SAAU,EACjB,IAIF,IAAIJ,EAASwF,EAAMA,EAAM3F,OAAS,GAC9B6F,EAAQ1F,EAAOW,MAAM6F,QAAQzB,GAEjC/E,EAAOW,MAAM8F,OAAOf,EAAO,KAAMX,EAAMpE,MACzC,QACO6E,EAAM3F,OAAS,GAGxB,OADAzE,EAAK,CAAEqF,KAAM,QACNV,CAAG,+BCvUZ,MAAM3I,EAAQ,EAAQ,MAEtBuH,EAAOrK,QAAU,CAACyL,EAAKX,EAAU,CAAC,KAChC,IAAIN,EAAY,CAACtJ,EAAMwK,EAAS,CAAC,KAC/B,IAAIC,EAAeb,EAAQiB,eAAiBjJ,EAAM8I,eAAeF,GAC7DG,GAA+B,IAAjB3K,EAAK4K,UAA8C,IAA1BhB,EAAQiB,cAC/ChB,EAAS,GAEb,GAAI7J,EAAKjB,MACP,OAAK0L,GAAgBE,IAAgB/I,EAAMsP,cAAclR,GAChD,KAAOA,EAAKjB,MAEdiB,EAAKjB,MAGd,GAAIiB,EAAKjB,MACP,OAAOiB,EAAKjB,MAGd,GAAIiB,EAAKmL,MACP,IAAK,IAAIO,KAAS1L,EAAKmL,MACrBtB,GAAUP,EAAUoC,GAGxB,OAAO7B,CAAM,EAGf,OAAOP,EAAUiB,EAAI,6BC3BvBzL,EAAQqS,UAAYC,GACC,iBAARA,EACFhR,OAAO+Q,UAAUC,GAEP,iBAARA,GAAmC,KAAfA,EAAIC,QAC1BjR,OAAO+Q,UAAU/Q,OAAOgR,IASnCtS,EAAQwS,KAAO,CAACtR,EAAMiL,IAASjL,EAAKmL,MAAMmG,MAAKtR,GAAQA,EAAKiL,OAASA,IAMrEnM,EAAQqQ,aAAe,CAACW,EAAKH,EAAKP,EAAO,EAAGmC,KAC5B,IAAVA,MACCzS,EAAQqS,UAAUrB,KAAShR,EAAQqS,UAAUxB,MACzCvP,OAAOuP,GAAOvP,OAAO0P,IAAQ1P,OAAOgP,IAAUmC,EAOzDzS,EAAQ0S,WAAa,CAACjC,EAAOkC,EAAI,EAAGxG,KAClC,IAAIjL,EAAOuP,EAAMpE,MAAMsG,GAClBzR,IAEAiL,GAAQjL,EAAKiL,OAASA,GAAuB,SAAdjL,EAAKiL,MAAiC,UAAdjL,EAAKiL,QAC1C,IAAjBjL,EAAK0R,UACP1R,EAAKjB,MAAQ,KAAOiB,EAAKjB,MACzBiB,EAAK0R,SAAU,EAEnB,EAOF5S,EAAQwQ,aAAetP,GACH,UAAdA,EAAKiL,MACJjL,EAAKuQ,QAAU,EAAIvQ,EAAKoL,QAAU,GAAO,IAC5CpL,EAAK4K,SAAU,GACR,GASX9L,EAAQ4L,eAAiB6E,KACJ,UAAfA,EAAMtE,OACY,IAAlBsE,EAAM3E,UAAoB2E,EAAMN,SAC/BM,EAAMgB,QAAU,EAAIhB,EAAMnE,QAAU,GAAO,IAI7B,IAAfmE,EAAMc,OAAiC,IAAhBd,EAAMmB,QAH/BnB,EAAM3E,SAAU,EACT,KAaX9L,EAAQoS,cAAgBlR,GACJ,SAAdA,EAAKiL,MAAiC,UAAdjL,EAAKiL,OAGZ,IAAdjL,EAAKqQ,OAAgC,IAAfrQ,EAAK0Q,MAOpC5R,EAAQwM,OAASH,GAASA,EAAMG,QAAO,CAACqG,EAAK3R,KACzB,SAAdA,EAAKiL,MAAiB0G,EAAI/L,KAAK5F,EAAKjB,OACtB,UAAdiB,EAAKiL,OAAkBjL,EAAKiL,KAAO,QAChC0G,IACN,IAMH7S,EAAQ8P,QAAU,IAAIvD,KACpB,MAAM5H,EAAS,GACTmO,EAAOC,IACX,IAAK,IAAIrC,EAAI,EAAGA,EAAIqC,EAAIxH,OAAQmF,IAAK,CACnC,IAAIX,EAAMgD,EAAIrC,GACd1F,MAAMC,QAAQ8E,GAAO+C,EAAK/C,EAAKpL,QAAkB,IAARoL,GAAkBpL,EAAOmC,KAAKiJ,EACzE,CACA,OAAOpL,CAAM,EAGf,OADAmO,EAAKvG,GACE5H,CAAM,yBC7Ef0F,EAAOrK,QAAU,CAAEgT,KArBN,CAACC,EAAQD,EAAMjI,EAAQmI,EAAQ3H,KAC1C,IAAK,IAAImF,EAAI,EAAGA,EAAInF,EAAQmF,IAC1B3F,EAAOmI,EAASxC,GAAKuC,EAAOvC,GAAKsC,EAAS,EAAJtC,EACxC,EAkBuByC,OARV,CAACC,EAAQJ,KAEtB,MAAMzH,EAAS6H,EAAO7H,OACtB,IAAK,IAAImF,EAAI,EAAGA,EAAInF,EAAQmF,IAC1B0C,EAAO1C,IAAMsC,EAAS,EAAJtC,EACpB,+BC5BF,IACErG,EAAOrK,QAAU,EAAQ,IAAR,CAA0BqT,UAC7C,CAAE,MAAOC,GACPjJ,EAAOrK,QAAU,EAAjB,KACF,kBCAAA,EAAQuT,WA2IR,SAAoBhH,GAQnB,GAPAA,EAAK,IAAMpH,KAAKqO,UAAY,KAAO,IAClCrO,KAAKsO,WACJtO,KAAKqO,UAAY,MAAQ,KAC1BjH,EAAK,IACJpH,KAAKqO,UAAY,MAAQ,KAC1B,IAAMnJ,EAAOrK,QAAQ0T,SAASvO,KAAKwO,OAE/BxO,KAAKqO,UACT,OAGD,MAAMI,EAAI,UAAYzO,KAAK0O,MAC3BtH,EAAK4F,OAAO,EAAG,EAAGyB,EAAG,kBAKrB,IAAIxC,EAAQ,EACR0C,EAAQ,EACZvH,EAAK,GAAGwH,QAAQ,eAAeC,IAChB,OAAVA,IAGJ5C,IACc,OAAV4C,IAGHF,EAAQ1C,GACT,IAGD7E,EAAK4F,OAAO2B,EAAO,EAAGF,EACvB,EA3KA5T,EAAQiU,KA6LR,SAAcC,GACb,IACKA,EACHlU,EAAQmU,QAAQC,QAAQ,QAASF,GAEjClU,EAAQmU,QAAQE,WAAW,QAE7B,CAAE,MAAO3P,GAGT,CACD,EAvMA1E,EAAQsU,KA+MR,WACC,IAAIC,EACJ,IACCA,EAAIvU,EAAQmU,QAAQK,QAAQ,QAC7B,CAAE,MAAO9P,GAGT,CAOA,OAJK6P,GAAwB,oBAAZvT,SAA2B,QAASA,UACpDuT,EAAIvT,QAAQyT,IAAIC,OAGVH,CACR,EA7NAvU,EAAQwT,UAyGR,WAIC,QAAsB,oBAAXmB,SAA0BA,OAAO3T,SAAoC,aAAxB2T,OAAO3T,QAAQmL,OAAuBwI,OAAO3T,QAAQ4T,UAKpF,oBAAdC,YAA6BA,UAAUC,YAAaD,UAAUC,UAAUC,cAAcf,MAAM,4BAM3E,oBAAbgB,UAA4BA,SAASC,iBAAmBD,SAASC,gBAAgBC,OAASF,SAASC,gBAAgBC,MAAMC,kBAEpH,oBAAXR,QAA0BA,OAAOS,UAAYT,OAAOS,QAAQC,SAAYV,OAAOS,QAAQE,WAAaX,OAAOS,QAAQG,QAGrG,oBAAdV,WAA6BA,UAAUC,WAAaD,UAAUC,UAAUC,cAAcf,MAAM,mBAAqBzS,SAASiU,OAAOC,GAAI,KAAO,IAE9H,oBAAdZ,WAA6BA,UAAUC,WAAaD,UAAUC,UAAUC,cAAcf,MAAM,sBACtG,EA/HAhU,EAAQmU,QAyOR,WACC,IAGC,OAAOuB,YACR,CAAE,MAAOhR,GAGT,CACD,CAlPkBiR,GAClB3V,EAAQmH,QAAU,MACjB,IAAIyO,GAAS,EAEb,MAAO,KACDA,IACJA,GAAS,EACTR,QAAQS,KAAK,yIACd,CAED,EATiB,GAelB7V,EAAQ8V,OAAS,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAsFD9V,EAAQ+V,IAAMX,QAAQY,OAASZ,QAAQW,KAAO,MAAS,GAkEvD1L,EAAOrK,QAAU,EAAQ,KAAR,CAAoBA,GAErC,MAAM,WAACiW,GAAc5L,EAAOrK,QAM5BiW,EAAWC,EAAI,SAAUC,GACxB,IACC,OAAOC,KAAK5L,UAAU2L,EACvB,CAAE,MAAOzR,GACR,MAAO,+BAAiCA,EAAM2R,OAC/C,CACD,kBCKAhM,EAAOrK,QA3QP,SAAeyU,GAqDd,SAAS6B,EAAY7C,GACpB,IAAI8C,EAEAC,EACAC,EAFAC,EAAiB,KAIrB,SAASV,KAASzJ,GAEjB,IAAKyJ,EAAMW,QACV,OAGD,MAAMC,EAAOZ,EAGPa,EAAOvV,OAAO,IAAIwV,MAClBC,EAAKF,GAAQN,GAAYM,GAC/BD,EAAKjD,KAAOoD,EACZH,EAAKxK,KAAOmK,EACZK,EAAKC,KAAOA,EACZN,EAAWM,EAEXtK,EAAK,GAAK+J,EAAYU,OAAOzK,EAAK,IAEX,iBAAZA,EAAK,IAEfA,EAAK0K,QAAQ,MAId,IAAI7F,EAAQ,EACZ7E,EAAK,GAAKA,EAAK,GAAGwH,QAAQ,iBAAiB,CAACC,EAAOkD,KAElD,GAAc,OAAVlD,EACH,MAAO,IAER5C,IACA,MAAM+F,EAAYb,EAAYL,WAAWiB,GACzC,GAAyB,mBAAdC,EAA0B,CACpC,MAAMC,EAAM7K,EAAK6E,GACjB4C,EAAQmD,EAAUE,KAAKT,EAAMQ,GAG7B7K,EAAK4F,OAAOf,EAAO,GACnBA,GACD,CACA,OAAO4C,CAAK,IAIbsC,EAAY/C,WAAW8D,KAAKT,EAAMrK,IAEpBqK,EAAKb,KAAOO,EAAYP,KAChCuB,MAAMV,EAAMrK,EACnB,CAgCA,OA9BAyJ,EAAMvC,UAAYA,EAClBuC,EAAMxC,UAAY8C,EAAY9C,YAC9BwC,EAAMnC,MAAQyC,EAAYiB,YAAY9D,GACtCuC,EAAMwB,OAASA,EACfxB,EAAM7O,QAAUmP,EAAYnP,QAE5BrH,OAAOC,eAAeiW,EAAO,UAAW,CACvCyB,YAAY,EACZC,cAAc,EACdC,IAAK,IACmB,OAAnBjB,EACIA,GAEJF,IAAoBF,EAAYpC,aACnCsC,EAAkBF,EAAYpC,WAC9BuC,EAAeH,EAAYK,QAAQlD,IAG7BgD,GAERmB,IAAKzB,IACJO,EAAiBP,CAAC,IAKY,mBAArBG,EAAYuB,MACtBvB,EAAYuB,KAAK7B,GAGXA,CACR,CAEA,SAASwB,EAAO/D,EAAWqE,GAC1B,MAAMC,EAAWzB,EAAYnR,KAAKsO,gBAAkC,IAAdqE,EAA4B,IAAMA,GAAarE,GAErG,OADAsE,EAAShC,IAAM5Q,KAAK4Q,IACbgC,CACR,CAwFA,SAASC,EAAYC,GACpB,OAAOA,EAAOC,WACZC,UAAU,EAAGF,EAAOC,WAAW3M,OAAS,GACxCwI,QAAQ,UAAW,IACtB,CA0BA,OAvQAuC,EAAYN,MAAQM,EACpBA,EAAYnU,QAAUmU,EACtBA,EAAYU,OAoPZ,SAAgBI,GACf,OAAIA,aAAehW,MACXgW,EAAIlG,OAASkG,EAAIf,QAElBe,CACR,EAxPAd,EAAY8B,QAwLZ,WACC,MAAMlE,EAAa,IACfoC,EAAY9R,MAAMlB,IAAI0U,MACtB1B,EAAY+B,MAAM/U,IAAI0U,GAAa1U,KAAImQ,GAAa,IAAMA,KAC5D9J,KAAK,KAEP,OADA2M,EAAYgC,OAAO,IACZpE,CACR,EA9LAoC,EAAYgC,OAsJZ,SAAgBpE,GAOf,IAAIxD,EANJ4F,EAAYrC,KAAKC,GACjBoC,EAAYpC,WAAaA,EAEzBoC,EAAY9R,MAAQ,GACpB8R,EAAY+B,MAAQ,GAGpB,MAAMlX,GAA+B,iBAAf+S,EAA0BA,EAAa,IAAI/S,MAAM,UACjEoX,EAAMpX,EAAMoK,OAElB,IAAKmF,EAAI,EAAGA,EAAI6H,EAAK7H,IACfvP,EAAMuP,KAOW,OAFtBwD,EAAa/S,EAAMuP,GAAGqD,QAAQ,MAAO,QAEtB,GACduC,EAAY+B,MAAMvR,KAAK,IAAI0O,OAAO,IAAMtB,EAAWrC,MAAM,GAAK,MAE9DyE,EAAY9R,MAAMsC,KAAK,IAAI0O,OAAO,IAAMtB,EAAa,MAGxD,EA9KAoC,EAAYK,QAsMZ,SAAiBnT,GAChB,GAA8B,MAA1BA,EAAKA,EAAK+H,OAAS,GACtB,OAAO,EAGR,IAAImF,EACA6H,EAEJ,IAAK7H,EAAI,EAAG6H,EAAMjC,EAAY+B,MAAM9M,OAAQmF,EAAI6H,EAAK7H,IACpD,GAAI4F,EAAY+B,MAAM3H,GAAG8H,KAAKhV,GAC7B,OAAO,EAIT,IAAKkN,EAAI,EAAG6H,EAAMjC,EAAY9R,MAAM+G,OAAQmF,EAAI6H,EAAK7H,IACpD,GAAI4F,EAAY9R,MAAMkM,GAAG8H,KAAKhV,GAC7B,OAAO,EAIT,OAAO,CACR,EA1NA8S,EAAY5C,SAAW,EAAQ,MAC/B4C,EAAYnP,QA0PZ,WACCiO,QAAQS,KAAK,wIACd,EA1PA/V,OAAO2Y,KAAKhE,GAAKxC,SAAQyG,IACxBpC,EAAYoC,GAAOjE,EAAIiE,EAAI,IAO5BpC,EAAY9R,MAAQ,GACpB8R,EAAY+B,MAAQ,GAOpB/B,EAAYL,WAAa,CAAC,EAkB1BK,EAAYiB,YAVZ,SAAqB9D,GACpB,IAAIkF,EAAO,EAEX,IAAK,IAAIjI,EAAI,EAAGA,EAAI+C,EAAUlI,OAAQmF,IACrCiI,GAASA,GAAQ,GAAKA,EAAQlF,EAAUmF,WAAWlI,GACnDiI,GAAQ,EAGT,OAAOrC,EAAYR,OAAO/E,KAAK8H,IAAIF,GAAQrC,EAAYR,OAAOvK,OAC/D,EA2NA+K,EAAYgC,OAAOhC,EAAYhC,QAExBgC,CACR,kBC1QuB,oBAAZtV,SAA4C,aAAjBA,QAAQmL,OAA2C,IAApBnL,QAAQ8X,SAAoB9X,QAAQ4T,OACxGvK,EAAOrK,QAAU,EAAjB,MAEAqK,EAAOrK,QAAU,EAAjB,sBCJD,MAAM+Y,EAAM,EAAQ,MACdC,EAAO,EAAQ,MAMrBhZ,EAAQ6X,KA2NR,SAAc7B,GACbA,EAAMiD,YAAc,CAAC,EAErB,MAAMR,EAAO3Y,OAAO2Y,KAAKzY,EAAQiZ,aACjC,IAAK,IAAIvI,EAAI,EAAGA,EAAI+H,EAAKlN,OAAQmF,IAChCsF,EAAMiD,YAAYR,EAAK/H,IAAM1Q,EAAQiZ,YAAYR,EAAK/H,GAExD,EAjOA1Q,EAAQ+V,IAoLR,YAAgBxJ,GACf,OAAOvL,QAAQkY,OAAOC,MAAMH,EAAK9B,UAAU3K,GAAQ,KACpD,EArLAvM,EAAQuT,WAyJR,SAAoBhH,GACnB,MAAOkH,UAAWjQ,EAAI,UAAEgQ,GAAarO,KAErC,GAAIqO,EAAW,CACd,MAAMI,EAAIzO,KAAK0O,MACTuF,EAAY,OAAcxF,EAAI,EAAIA,EAAI,OAASA,GAC/C5H,EAAS,KAAKoN,OAAe5V,SAEnC+I,EAAK,GAAKP,EAASO,EAAK,GAAGpL,MAAM,MAAMwI,KAAK,KAAOqC,GACnDO,EAAKzF,KAAKsS,EAAY,KAAO/O,EAAOrK,QAAQ0T,SAASvO,KAAKwO,MAAQ,OACnE,MACCpH,EAAK,IAKFvM,EAAQiZ,YAAYI,SAChB,IAED,IAAIvC,MAAOwC,cAAgB,KARX9V,EAAO,IAAM+I,EAAK,EAE1C,EArKAvM,EAAQiU,KA4LR,SAAcC,GACTA,EACHlT,QAAQyT,IAAIC,MAAQR,SAIblT,QAAQyT,IAAIC,KAErB,EAnMA1U,EAAQsU,KA4MR,WACC,OAAOtT,QAAQyT,IAAIC,KACpB,EA7MA1U,EAAQwT,UA0IR,WACC,MAAO,WAAYxT,EAAQiZ,YAC1B3N,QAAQtL,EAAQiZ,YAAYnD,QAC5BiD,EAAIQ,OAAOvY,QAAQkY,OAAOM,GAC5B,EA7IAxZ,EAAQmH,QAAU6R,EAAKS,WACtB,QACA,yIAODzZ,EAAQ8V,OAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAEjC,IAGC,MAAM4D,EAAgB,EAAQ,MAE1BA,IAAkBA,EAAcR,QAAUQ,GAAeC,OAAS,IACrE3Z,EAAQ8V,OAAS,CAChB,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAGH,CAAE,MAAOpR,GAET,CAQA1E,EAAQiZ,YAAcnZ,OAAO2Y,KAAKzX,QAAQyT,KAAKhL,QAAOiP,GAC9C,WAAWF,KAAKE,KACrBlM,QAAO,CAACoN,EAAKlB,KAEf,MAAMmB,EAAOnB,EACXP,UAAU,GACVpD,cACAhB,QAAQ,aAAa,CAAC+F,EAAGC,IAClBA,EAAEC,gBAIX,IAAI5C,EAAMpW,QAAQyT,IAAIiE,GAYtB,OAVCtB,IADG,2BAA2BoB,KAAKpB,KAEzB,6BAA6BoB,KAAKpB,KAE1B,SAARA,EACJ,KAEA9V,OAAO8V,IAGdwC,EAAIC,GAAQzC,EACLwC,CAAG,GACR,CAAC,GA2FJvP,EAAOrK,QAAU,EAAQ,KAAR,CAAoBA,GAErC,MAAM,WAACiW,GAAc5L,EAAOrK,QAM5BiW,EAAWgE,EAAI,SAAU9D,GAExB,OADAhR,KAAK8T,YAAYnD,OAAS3Q,KAAKqO,UACxBwF,EAAKkB,QAAQ/D,EAAGhR,KAAK8T,aAC1B9X,MAAM,MACNmC,KAAI6W,GAAOA,EAAI5H,SACf5I,KAAK,IACR,EAMAsM,EAAWmE,EAAI,SAAUjE,GAExB,OADAhR,KAAK8T,YAAYnD,OAAS3Q,KAAKqO,UACxBwF,EAAKkB,QAAQ/D,EAAGhR,KAAK8T,YAC7B,+BCrQA,MAAM7W,EAAO,EAAQ,MACfiY,EAAW,EAAQ,MAEnBC,EAAgBC,GAAcA,EAAWhP,OAAS,EAAI,IAAIgP,EAAW5Q,KAAK,QAAU4Q,EAAW,GAE/FC,EAAU,CAAC9Q,EAAU+Q,KAC1B,MAAMC,EAAsB,MAAhBhR,EAAS,GAAaA,EAASmI,MAAM,GAAKnI,EACtD,OAAOtH,EAAKuY,WAAWD,GAAOA,EAAMtY,EAAKuH,KAAK8Q,EAAKC,EAAI,EAWlDE,EAAU,CAAC5X,EAAW8H,KAC3B,GAAIA,EAAQ+P,QAAU7P,MAAMC,QAAQH,EAAQ+P,OAC3C,MAAM,IAAIlK,UAAU,yEAAyE7F,EAAQ+P,WAGtG,GAAI/P,EAAQyP,aAAevP,MAAMC,QAAQH,EAAQyP,YAChD,MAAM,IAAI5J,UAAU,8EAA8E7F,EAAQyP,gBAG3G,OAAIzP,EAAQ+P,OAAS/P,EAAQyP,WACrBzP,EAAQ+P,MAAMvX,KAAIwX,IAAK1Y,SAAK2Y,MAAMpR,KAAK3G,GAlBzBgY,EAkBkDF,EAlB5CP,EAkB+CzP,EAAQyP,WAjB/EnY,EAAK6Y,QAAQD,GACT,MAAMA,IAGP,MAAMA,KAAQV,EAAcC,OALd,IAACS,EAAMT,CAkBmE,IAG3FzP,EAAQ+P,MACJ/P,EAAQ+P,MAAMvX,KAAIwX,GAAK1Y,EAAK2Y,MAAMpR,KAAK3G,EAAW,MAAM8X,OAG5DhQ,EAAQyP,WACJ,CAACnY,EAAK2Y,MAAMpR,KAAK3G,EAAW,QAAQsX,EAAcxP,EAAQyP,gBAG3D,CAACnY,EAAK2Y,MAAMpR,KAAK3G,EAAW,MAAM,EAG1CqH,EAAOrK,QAAU8B,MAAO+I,EAAOC,KAM9B,GAA2B,iBAL3BA,EAAU,CACT2P,IAAKzZ,QAAQyZ,SACV3P,IAGe2P,IAClB,MAAM,IAAI9J,UAAU,wEAAwE7F,EAAQ2P,SAGrG,MAAMS,QAAcC,QAAQC,IAAI,GAAG7Q,OAAOM,GAAOvH,KAAIxB,eAC1BuY,EAASzU,YAAY4U,EAAQM,EAAGhQ,EAAQ2P,MAC7CG,EAAQE,EAAGhQ,GAAWgQ,KAG5C,MAAO,GAAGvQ,OAAO+M,MAAM,GAAI4D,EAAM,EAGlC7Q,EAAOrK,QAAQ+B,KAAO,CAAC8I,EAAOC,KAM7B,GAA2B,iBAL3BA,EAAU,CACT2P,IAAKzZ,QAAQyZ,SACV3P,IAGe2P,IAClB,MAAM,IAAI9J,UAAU,wEAAwE7F,EAAQ2P,SAGrG,MAAMS,EAAQ,GAAG3Q,OAAOM,GAAOvH,KAAIwX,GAAKT,EAASgB,gBAAgBb,EAAQM,EAAGhQ,EAAQ2P,MAAQG,EAAQE,EAAGhQ,GAAWgQ,IAElH,MAAO,GAAGvQ,OAAO+M,MAAM,GAAI4D,EAAM,yBCZlC7Q,EAAOrK,QAlDP,SAAqBsb,GACnB,MAAM/C,EAAM+C,EAAI/P,OAChB,IAAImF,EAAI,EAER,KAAOA,EAAI6H,GACT,GAAwB,IAAV,IAAT+C,EAAI5K,IACPA,SACK,GAAwB,MAAV,IAAT4K,EAAI5K,IAAqB,CACnC,GACEA,EAAI,IAAM6H,GACc,MAAV,IAAb+C,EAAI5K,EAAI,KACW,MAAV,IAAT4K,EAAI5K,IAEL,OAAO,EAGTA,GAAK,CACP,MAAO,GAAwB,MAAV,IAAT4K,EAAI5K,IAAqB,CACnC,GACEA,EAAI,GAAK6H,GACe,MAAV,IAAb+C,EAAI5K,EAAI,KACe,MAAV,IAAb4K,EAAI5K,EAAI,KACE,MAAX4K,EAAI5K,IAAuC,MAAV,IAAb4K,EAAI5K,EAAI,KACjB,MAAX4K,EAAI5K,IAAuC,MAAV,IAAb4K,EAAI5K,EAAI,IAE5B,OAAO,EAGTA,GAAK,CACP,KAAO,IAAwB,MAAV,IAAT4K,EAAI5K,IAcd,OAAO,EAbP,GACEA,EAAI,GAAK6H,GACe,MAAV,IAAb+C,EAAI5K,EAAI,KACe,MAAV,IAAb4K,EAAI5K,EAAI,KACe,MAAV,IAAb4K,EAAI5K,EAAI,KACE,MAAX4K,EAAI5K,IAAuC,MAAV,IAAb4K,EAAI5K,EAAI,KACjB,MAAX4K,EAAI5K,IAAe4K,EAAI5K,EAAI,GAAK,KAAQ4K,EAAI5K,GAAK,IAEjD,OAAO,EAGTA,GAAK,CAGP,CAGF,OAAO,CACT,+BCzDA,IACErG,EAAOrK,QAAU,EAAQ,IAAR,CAA0BqT,UAC7C,CAAE,MAAOC,GACPjJ,EAAOrK,QAAU,EAAjB,KACF,+BCJA,MAAMub,EAAY,EAAQ,MAE1BA,EAAUC,sBAAwB,EAAQ,MAC1CD,EAAUE,OAAS,EAAQ,MAC3BF,EAAUG,SAAW,EAAQ,MAC7BH,EAAUI,OAAS,EAAQ,MAE3BJ,EAAUA,UAAYA,EACtBA,EAAUK,gBAAkBL,EAAUE,OAEtCpR,EAAOrK,QAAUub,+BCVjB,MAAM,aAAEM,GAAiB,EAAQ,MAsCjC,SAASC,EAAM7I,EAAQD,EAAMjI,EAAQmI,EAAQ3H,GAC3C,IAAK,IAAImF,EAAI,EAAGA,EAAInF,EAAQmF,IAC1B3F,EAAOmI,EAASxC,GAAKuC,EAAOvC,GAAKsC,EAAS,EAAJtC,EAE1C,CASA,SAASqL,EAAQ3I,EAAQJ,GACvB,IAAK,IAAItC,EAAI,EAAGA,EAAI0C,EAAO7H,OAAQmF,IACjC0C,EAAO1C,IAAMsC,EAAS,EAAJtC,EAEtB,CAqDA,GATArG,EAAOrK,QAAU,CACfuK,OA1FF,SAAgByR,EAAMC,GACpB,GAAoB,IAAhBD,EAAKzQ,OAAc,OAAOsQ,EAC9B,GAAoB,IAAhBG,EAAKzQ,OAAc,OAAOyQ,EAAK,GAEnC,MAAME,EAASC,OAAOC,YAAYH,GAClC,IAAI/I,EAAS,EAEb,IAAK,IAAIxC,EAAI,EAAGA,EAAIsL,EAAKzQ,OAAQmF,IAAK,CACpC,MAAM4K,EAAMU,EAAKtL,GACjBwL,EAAOtE,IAAI0D,EAAKpI,GAChBA,GAAUoI,EAAI/P,MAChB,CAEA,OAAI2H,EAAS+I,EAAoBC,EAAOrK,MAAM,EAAGqB,GAE1CgJ,CACT,EA2EElJ,KAAM8I,EACNO,cAtCF,SAAuBf,GACrB,OAAIA,EAAIgB,aAAehB,EAAIlI,OAAOkJ,WACzBhB,EAAIlI,OAGNkI,EAAIlI,OAAOvB,MAAMyJ,EAAIiB,WAAYjB,EAAIiB,WAAajB,EAAIgB,WAC/D,EAiCEE,SAvBF,SAASA,EAASC,GAGhB,GAFAD,EAASE,UAAW,EAEhBP,OAAOQ,SAASF,GAAO,OAAOA,EAElC,IAAInB,EAWJ,OATImB,aAAgBG,YAClBtB,EAAMa,OAAOU,KAAKJ,GACTG,YAAYE,OAAOL,GAC5BnB,EAAMa,OAAOU,KAAKJ,EAAKrJ,OAAQqJ,EAAKF,WAAYE,EAAKH,aAErDhB,EAAMa,OAAOU,KAAKJ,GAClBD,EAASE,UAAW,GAGfpB,CACT,EAOEnI,OAAQ4I,IAIL/a,QAAQyT,IAAIsI,kBACf,IACE,MAAMC,EAAa,EAAQ,KAE3B3S,EAAOrK,QAAQgT,KAAO,SAAUC,EAAQD,EAAMjI,EAAQmI,EAAQ3H,GACxDA,EAAS,GAAIuQ,EAAM7I,EAAQD,EAAMjI,EAAQmI,EAAQ3H,GAChDyR,EAAWhK,KAAKC,EAAQD,EAAMjI,EAAQmI,EAAQ3H,EACrD,EAEAlB,EAAOrK,QAAQmT,OAAS,SAAUC,EAAQJ,GACpCI,EAAO7H,OAAS,GAAIwQ,EAAQ3I,EAAQJ,GACnCgK,EAAW7J,OAAOC,EAAQJ,EACjC,CACF,CAAE,MAAOM,GAET,yBC3HFjJ,EAAOrK,QAAU,CACfid,aAAc,CAAC,aAAc,cAAe,aAC5CpB,aAAcM,OAAOe,MAAM,GAC3BC,KAAM,uCACNC,qBAAsBC,OAAO,0BAC7BC,UAAWD,OAAO,aAClBE,YAAaF,OAAO,eACpBG,WAAYH,OAAO,aACnBI,KAAM,qCCRR,MAAM,qBAAEL,EAAoB,UAAEE,GAAc,EAAQ,MAE9CI,EAAQL,OAAO,SACfM,EAAQN,OAAO,SACfO,EAASP,OAAO,UAChBQ,EAAWR,OAAO,YAClBS,EAAUT,OAAO,WACjBU,EAAUV,OAAO,WACjBW,EAAQX,OAAO,SACfY,EAAYZ,OAAO,aAKzB,MAAMa,EAOJjZ,YAAYkH,GACVhH,KAAK4Y,GAAW,KAChB5Y,KAAK6Y,GAAS7R,CAChB,CAKI+P,aACF,OAAO/W,KAAK4Y,EACd,CAKI5R,WACF,OAAOhH,KAAK6Y,EACd,EAGFle,OAAOC,eAAeme,EAAMC,UAAW,SAAU,CAAE1G,YAAY,IAC/D3X,OAAOC,eAAeme,EAAMC,UAAW,OAAQ,CAAE1G,YAAY,IAO7D,MAAM2G,UAAmBF,EAcvBjZ,YAAYkH,EAAMrB,EAAU,CAAC,GAC3BnD,MAAMwE,GAENhH,KAAKuY,QAA0B9c,IAAjBkK,EAAQuT,KAAqB,EAAIvT,EAAQuT,KACvDlZ,KAAK2Y,QAA8Bld,IAAnBkK,EAAQwT,OAAuB,GAAKxT,EAAQwT,OAC5DnZ,KAAK8Y,QAAkCrd,IAArBkK,EAAQyT,UAAiCzT,EAAQyT,QACrE,CAKIF,WACF,OAAOlZ,KAAKuY,EACd,CAKIY,aACF,OAAOnZ,KAAK2Y,EACd,CAKIS,eACF,OAAOpZ,KAAK8Y,EACd,EAGFne,OAAOC,eAAeqe,EAAWD,UAAW,OAAQ,CAAE1G,YAAY,IAClE3X,OAAOC,eAAeqe,EAAWD,UAAW,SAAU,CAAE1G,YAAY,IACpE3X,OAAOC,eAAeqe,EAAWD,UAAW,WAAY,CAAE1G,YAAY,IAOtE,MAAM+G,UAAmBN,EAUvBjZ,YAAYkH,EAAMrB,EAAU,CAAC,GAC3BnD,MAAMwE,GAENhH,KAAKyY,QAA4Bhd,IAAlBkK,EAAQpG,MAAsB,KAAOoG,EAAQpG,MAC5DS,KAAK0Y,QAAgCjd,IAApBkK,EAAQuL,QAAwB,GAAKvL,EAAQuL,OAChE,CAKI3R,YACF,OAAOS,KAAKyY,EACd,CAKIvH,cACF,OAAOlR,KAAK0Y,EACd,EAGF/d,OAAOC,eAAeye,EAAWL,UAAW,QAAS,CAAE1G,YAAY,IACnE3X,OAAOC,eAAeye,EAAWL,UAAW,UAAW,CAAE1G,YAAY,IAOrE,MAAMgH,UAAqBP,EASzBjZ,YAAYkH,EAAMrB,EAAU,CAAC,GAC3BnD,MAAMwE,GAENhH,KAAKwY,QAA0B/c,IAAjBkK,EAAQ2R,KAAqB,KAAO3R,EAAQ2R,IAC5D,CAKIA,WACF,OAAOtX,KAAKwY,EACd,EAGF7d,OAAOC,eAAe0e,EAAaN,UAAW,OAAQ,CAAE1G,YAAY,IAQpE,MAAMiH,EAAc,CAalBC,iBAAiBxS,EAAMyS,EAAS9T,EAAU,CAAC,GACzC,IAAK,MAAM+T,KAAY1Z,KAAK2Z,UAAU3S,GACpC,IACGrB,EAAQsS,IACTyB,EAASvB,KAAesB,IACvBC,EAASzB,GAEV,OAIJ,IAAI2B,EAEJ,GAAa,YAAT5S,EACF4S,EAAU,SAAmBtC,EAAMuC,GACjC,MAAMC,EAAQ,IAAIR,EAAa,UAAW,CACxChC,KAAMuC,EAAWvC,EAAOA,EAAKvE,aAG/B+G,EAAMlB,GAAW5Y,KACjB+Z,EAAaN,EAASzZ,KAAM8Z,EAC9B,OACK,GAAa,UAAT9S,EACT4S,EAAU,SAAiBV,EAAMhI,GAC/B,MAAM4I,EAAQ,IAAIb,EAAW,QAAS,CACpCC,OACAC,OAAQjI,EAAQ6B,WAChBqG,SAAUpZ,KAAKga,qBAAuBha,KAAKia,kBAG7CH,EAAMlB,GAAW5Y,KACjB+Z,EAAaN,EAASzZ,KAAM8Z,EAC9B,OACK,GAAa,UAAT9S,EACT4S,EAAU,SAAiBra,GACzB,MAAMua,EAAQ,IAAIT,EAAW,QAAS,CACpC9Z,QACA2R,QAAS3R,EAAM2R,UAGjB4I,EAAMlB,GAAW5Y,KACjB+Z,EAAaN,EAASzZ,KAAM8Z,EAC9B,MACK,IAAa,SAAT9S,EAQT,OAPA4S,EAAU,WACR,MAAME,EAAQ,IAAIf,EAAM,QAExBe,EAAMlB,GAAW5Y,KACjB+Z,EAAaN,EAASzZ,KAAM8Z,EAC9B,CAGF,CAEAF,EAAQ3B,KAA0BtS,EAAQsS,GAC1C2B,EAAQzB,GAAasB,EAEjB9T,EAAQpC,KACVvD,KAAKuD,KAAKyD,EAAM4S,GAEhB5Z,KAAKsD,GAAG0D,EAAM4S,EAElB,EASAM,oBAAoBlT,EAAMyS,GACxB,IAAK,MAAMC,KAAY1Z,KAAK2Z,UAAU3S,GACpC,GAAI0S,EAASvB,KAAesB,IAAYC,EAASzB,GAAuB,CACtEjY,KAAKma,eAAenT,EAAM0S,GAC1B,KACF,CAEJ,GAmBF,SAASK,EAAaL,EAAUU,EAASN,GACf,iBAAbJ,GAAyBA,EAASW,YAC3CX,EAASW,YAAYnI,KAAKwH,EAAUI,GAEpCJ,EAASxH,KAAKkI,EAASN,EAE3B,CAtBA5U,EAAOrK,QAAU,CACfoe,aACAI,aACAN,QACAQ,cACAD,6CChRF,MAAM,WAAEgB,GAAe,EAAQ,MAY/B,SAAS3Y,EAAK4Y,EAAMlc,EAAMmc,QACL/e,IAAf8e,EAAKlc,GAAqBkc,EAAKlc,GAAQ,CAACmc,GACvCD,EAAKlc,GAAMsD,KAAK6Y,EACvB,CAyLAtV,EAAOrK,QAAU,CAAEkX,OAxBnB,SAAgBqD,GACd,OAAOza,OAAO2Y,KAAK8B,GAChBjX,KAAKsc,IACJ,IAAIC,EAAiBtF,EAAWqF,GAEhC,OADK5U,MAAMC,QAAQ4U,KAAiBA,EAAiB,CAACA,IAC/CA,EACJvc,KAAKwc,GACG,CAACF,GACLrV,OACCzK,OAAO2Y,KAAKqH,GAAQxc,KAAKyW,IACvB,IAAI9P,EAAS6V,EAAO/F,GAEpB,OADK/O,MAAMC,QAAQhB,KAASA,EAAS,CAACA,IAC/BA,EACJ3G,KAAK6S,IAAa,IAANA,EAAa4D,EAAI,GAAGA,KAAK5D,MACrCxM,KAAK,KAAK,KAGhBA,KAAK,QAETA,KAAK,KAAK,IAEdA,KAAK,KACV,EAE2BgB,MAhL3B,SAAeoV,GACb,MAAMC,EAASlgB,OAAOqL,OAAO,MAC7B,IAII8U,EACAC,EALAJ,EAAShgB,OAAOqL,OAAO,MACvBgV,GAAe,EACfC,GAAa,EACbC,GAAW,EAGXC,GAAS,EACTjC,GAAQ,EACRkC,GAAO,EACP7P,EAAI,EAER,KAAOA,EAAIqP,EAAOxU,OAAQmF,IAGxB,GAFA2N,EAAO0B,EAAOnH,WAAWlI,QAEH9P,IAAlBqf,EACF,IAAa,IAATM,GAAmC,IAArBd,EAAWpB,IACZ,IAAXiC,IAAcA,EAAQ5P,QACrB,GACC,IAANA,GACU,KAAT2N,GAAoC,IAATA,EAGvB,IAAa,KAATA,GAAoC,KAATA,EAgBpC,MAAM,IAAIpN,YAAY,iCAAiCP,KAhBM,CAC7D,IAAe,IAAX4P,EACF,MAAM,IAAIrP,YAAY,iCAAiCP,MAG5C,IAAT6P,IAAYA,EAAM7P,GACtB,MAAMlN,EAAOuc,EAAOlO,MAAMyO,EAAOC,GACpB,KAATlC,GACFvX,EAAKkZ,EAAQxc,EAAMsc,GACnBA,EAAShgB,OAAOqL,OAAO,OAEvB8U,EAAgBzc,EAGlB8c,EAAQC,GAAO,CACjB,CAEA,MAlBe,IAATA,IAAyB,IAAXD,IAAcC,EAAM7P,QAmBnC,QAAkB9P,IAAdsf,EACT,IAAa,IAATK,GAAmC,IAArBd,EAAWpB,IACZ,IAAXiC,IAAcA,EAAQ5P,QACrB,GAAa,KAAT2N,GAA0B,IAATA,GACb,IAATkC,IAAyB,IAAXD,IAAcC,EAAM7P,QACjC,GAAa,KAAT2N,GAA0B,KAATA,EAAe,CACzC,IAAe,IAAXiC,EACF,MAAM,IAAIrP,YAAY,iCAAiCP,MAG5C,IAAT6P,IAAYA,EAAM7P,GACtB5J,EAAKgZ,EAAQC,EAAOlO,MAAMyO,EAAOC,IAAM,GAC1B,KAATlC,IACFvX,EAAKkZ,EAAQC,EAAeH,GAC5BA,EAAShgB,OAAOqL,OAAO,MACvB8U,OAAgBrf,GAGlB0f,EAAQC,GAAO,CACjB,KAAO,IAAa,KAATlC,IAAsC,IAAXiC,IAAyB,IAATC,EAIpD,MAAM,IAAItP,YAAY,iCAAiCP,KAHvDwP,EAAYH,EAAOlO,MAAMyO,EAAO5P,GAChC4P,EAAQC,GAAO,CAGjB,MAOA,GAAIH,EAAY,CACd,GAAyB,IAArBX,EAAWpB,GACb,MAAM,IAAIpN,YAAY,iCAAiCP,MAE1C,IAAX4P,EAAcA,EAAQ5P,EAChByP,IAAcA,GAAe,GACvCC,GAAa,CACf,MAAO,GAAIC,EACT,GAAyB,IAArBZ,EAAWpB,IACE,IAAXiC,IAAcA,EAAQ5P,QACrB,GAAa,KAAT2N,IAAsC,IAAXiC,EACpCD,GAAW,EACXE,EAAM7P,MACD,IAAa,KAAT2N,EAGT,MAAM,IAAIpN,YAAY,iCAAiCP,KAFvD0P,GAAa,CAGf,MACK,GAAa,KAAT/B,GAA8C,KAA7B0B,EAAOnH,WAAWlI,EAAI,GAChD2P,GAAW,OACN,IAAa,IAATE,GAAmC,IAArBd,EAAWpB,IACnB,IAAXiC,IAAcA,EAAQ5P,QACrB,IAAe,IAAX4P,GAA0B,KAATjC,GAA0B,IAATA,EAEtC,IAAa,KAATA,GAA0B,KAATA,EAqB1B,MAAM,IAAIpN,YAAY,iCAAiCP,KArBd,CACzC,IAAe,IAAX4P,EACF,MAAM,IAAIrP,YAAY,iCAAiCP,MAG5C,IAAT6P,IAAYA,EAAM7P,GACtB,IAAIzQ,EAAQ8f,EAAOlO,MAAMyO,EAAOC,GAC5BJ,IACFlgB,EAAQA,EAAM8T,QAAQ,MAAO,IAC7BoM,GAAe,GAEjBrZ,EAAKgZ,EAAQI,EAAWjgB,GACX,KAAToe,IACFvX,EAAKkZ,EAAQC,EAAeH,GAC5BA,EAAShgB,OAAOqL,OAAO,MACvB8U,OAAgBrf,GAGlBsf,OAAYtf,EACZ0f,EAAQC,GAAO,CACjB,CAEA,MAvBe,IAATA,IAAYA,EAAM7P,GA2B5B,IAAe,IAAX4P,GAAgBD,GAAqB,KAAThC,GAA0B,IAATA,EAC/C,MAAM,IAAIpN,YAAY,4BAGX,IAATsP,IAAYA,EAAM7P,GACtB,MAAM8P,EAAQT,EAAOlO,MAAMyO,EAAOC,GAclC,YAbsB3f,IAAlBqf,EACFnZ,EAAKkZ,EAAQQ,EAAOV,SAEFlf,IAAdsf,EACFpZ,EAAKgZ,EAAQU,GAAO,GAEpB1Z,EAAKgZ,EAAQI,EADJC,EACeK,EAAMzM,QAAQ,MAAO,IAErByM,GAE1B1Z,EAAKkZ,EAAQC,EAAeH,IAGvBE,CACT,0BCvKA,MAAMS,EAAQpD,OAAO,SACfqD,EAAOrD,OAAO,QAmDpBhT,EAAOrK,QA7CP,MAOEiF,YAAYgD,GACV9C,KAAKsb,GAAS,KACZtb,KAAKwb,UACLxb,KAAKub,IAAO,EAEdvb,KAAK8C,YAAcA,GAAe2Y,IAClCzb,KAAK0b,KAAO,GACZ1b,KAAKwb,QAAU,CACjB,CAQA3W,IAAI8W,GACF3b,KAAK0b,KAAK/Z,KAAKga,GACf3b,KAAKub,IACP,CAOA,CAACA,KACC,GAAIvb,KAAKwb,UAAYxb,KAAK8C,aAEtB9C,KAAK0b,KAAKtV,OAAQ,CACpB,MAAMuV,EAAM3b,KAAK0b,KAAKrP,QAEtBrM,KAAKwb,UACLG,EAAI3b,KAAKsb,GACX,CACF,gCCjDF,MAAMM,EAAO,EAAQ,MAEf/D,EAAa,EAAQ,MACrBgE,EAAU,EAAQ,OAClB,YAAEzD,GAAgB,EAAQ,MAE1B0D,EAAU9E,OAAOU,KAAK,CAAC,EAAM,EAAM,IAAM,MACzCqE,EAAqB7D,OAAO,sBAC5B8D,EAAe9D,OAAO,gBACtB+D,EAAY/D,OAAO,YACnBgE,EAAWhE,OAAO,WAClBO,EAASP,OAAO,SAStB,IAAIiE,EA6bJ,SAASC,EAAcC,GACrBrc,KAAKkc,GAAUva,KAAK0a,GACpBrc,KAAKgc,IAAiBK,EAAMjW,MAC9B,CAQA,SAASkW,EAAcD,GACrBrc,KAAKgc,IAAiBK,EAAMjW,OAG1BpG,KAAK+b,GAAoBQ,YAAc,GACvCvc,KAAKgc,IAAiBhc,KAAK+b,GAAoBQ,YAE/Cvc,KAAKkc,GAAUva,KAAK0a,IAItBrc,KAAKyY,GAAU,IAAIrN,WAAW,6BAC9BpL,KAAKyY,GAAQS,KAAO,oCACpBlZ,KAAKyY,GAAQL,GAAe,KAC5BpY,KAAKma,eAAe,OAAQmC,GAC5Btc,KAAKwc,QACP,CAQA,SAASC,EAAeC,GAKtB1c,KAAK+b,GAAoBY,SAAW,KACpCD,EAAItE,GAAe,KACnBpY,KAAKic,GAAWS,EAClB,CAnDAxX,EAAOrK,QAhbP,MAyBEiF,YAAY6F,EAASiX,EAAUC,GAW7B,GAVA7c,KAAKuc,YAA2B,EAAbM,EACnB7c,KAAKD,SAAW4F,GAAW,CAAC,EAC5B3F,KAAK8c,gBACyBrhB,IAA5BuE,KAAKD,SAASgd,UAA0B/c,KAAKD,SAASgd,UAAY,KACpE/c,KAAKgd,YAAcJ,EACnB5c,KAAKid,SAAW,KAChBjd,KAAK2c,SAAW,KAEhB3c,KAAK2a,OAAS,MAETwB,EAAa,CAChB,MAAMrZ,OAC+BrH,IAAnCuE,KAAKD,SAASmd,iBACVld,KAAKD,SAASmd,iBACd,GACNf,EAAc,IAAIN,EAAQ/Y,EAC5B,CACF,CAKWgY,2BACT,MAAO,oBACT,CAQAqC,QACE,MAAMxC,EAAS,CAAC,EAiBhB,OAfI3a,KAAKD,SAASqd,0BAChBzC,EAAO0C,4BAA6B,GAElCrd,KAAKD,SAASud,0BAChB3C,EAAO4C,4BAA6B,GAElCvd,KAAKD,SAASyd,sBAChB7C,EAAO8C,uBAAyBzd,KAAKD,SAASyd,qBAE5Cxd,KAAKD,SAAS2d,oBAChB/C,EAAOgD,uBAAyB3d,KAAKD,SAAS2d,oBACA,MAArC1d,KAAKD,SAAS2d,sBACvB/C,EAAOgD,wBAAyB,GAG3BhD,CACT,CASAiD,OAAOlD,GAOL,OANAA,EAAiB1a,KAAK6d,gBAAgBnD,GAEtC1a,KAAK2a,OAAS3a,KAAKgd,UACfhd,KAAK8d,eAAepD,GACpB1a,KAAK+d,eAAerD,GAEjB1a,KAAK2a,MACd,CAOAqD,UAME,GALIhe,KAAK2c,WACP3c,KAAK2c,SAASlQ,QACdzM,KAAK2c,SAAW,MAGd3c,KAAKid,SAAU,CACjB,MAAM9f,EAAW6C,KAAKid,SAAShB,GAE/Bjc,KAAKid,SAASxQ,QACdzM,KAAKid,SAAW,KAEZ9f,GACFA,EACE,IAAIlB,MACF,gEAIR,CACF,CASA6hB,eAAejD,GACb,MAAMpP,EAAOzL,KAAKD,SACZke,EAAWpD,EAAOxN,MAAMsN,MAEQ,IAAjClP,EAAK2R,yBACJzC,EAAO0C,4BACR1C,EAAO8C,0BACwB,IAA7BhS,EAAK+R,qBACiC,iBAA7B/R,EAAK+R,qBACX/R,EAAK+R,oBAAsB7C,EAAO8C,yBACH,iBAA7BhS,EAAKiS,sBACV/C,EAAOgD,0BAQd,IAAKM,EACH,MAAM,IAAIhiB,MAAM,gDAqBlB,OAlBIwP,EAAK2R,0BACPa,EAASZ,4BAA6B,GAEpC5R,EAAK6R,0BACPW,EAASV,4BAA6B,GAEA,iBAA7B9R,EAAK+R,sBACdS,EAASR,uBAAyBhS,EAAK+R,qBAED,iBAA7B/R,EAAKiS,oBACdO,EAASN,uBAAyBlS,EAAKiS,qBAEH,IAApCO,EAASN,yBACoB,IAA7BlS,EAAKiS,4BAEEO,EAASN,uBAGXM,CACT,CASAF,eAAeG,GACb,MAAMvD,EAASuD,EAAS,GAExB,IAC4C,IAA1Cle,KAAKD,SAASud,yBACd3C,EAAO4C,2BAEP,MAAM,IAAIthB,MAAM,qDAGlB,GAAK0e,EAAOgD,wBAIL,IACiC,IAAtC3d,KAAKD,SAAS2d,qBACgC,iBAAtC1d,KAAKD,SAAS2d,qBACpB/C,EAAOgD,uBAAyB3d,KAAKD,SAAS2d,oBAEhD,MAAM,IAAIzhB,MACR,gEAT+C,iBAAtC+D,KAAKD,SAAS2d,sBACvB/C,EAAOgD,uBAAyB3d,KAAKD,SAAS2d,qBAYlD,OAAO/C,CACT,CASAkD,gBAAgBnD,GAkDd,OAjDAA,EAAe5N,SAAS6N,IACtBhgB,OAAO2Y,KAAKqH,GAAQ7N,SAASyG,IAC3B,IAAIzY,EAAQ6f,EAAOpH,GAEnB,GAAIzY,EAAMsL,OAAS,EACjB,MAAM,IAAInK,MAAM,cAAcsX,oCAKhC,GAFAzY,EAAQA,EAAM,GAEF,2BAARyY,GACF,IAAc,IAAVzY,EAAgB,CAClB,MAAMqS,GAAOrS,EACb,IAAKqB,OAAO+Q,UAAUC,IAAQA,EAAM,GAAKA,EAAM,GAC7C,MAAM,IAAI3B,UACR,gCAAgC+H,OAASzY,KAG7CA,EAAQqS,CACV,MAAO,IAAKnN,KAAKgd,UACf,MAAM,IAAIxR,UACR,gCAAgC+H,OAASzY,UAGxC,GAAY,2BAARyY,EAAkC,CAC3C,MAAMpG,GAAOrS,EACb,IAAKqB,OAAO+Q,UAAUC,IAAQA,EAAM,GAAKA,EAAM,GAC7C,MAAM,IAAI3B,UACR,gCAAgC+H,OAASzY,KAG7CA,EAAQqS,CACV,KAAO,IACG,+BAARoG,GACQ,+BAARA,EAQA,MAAM,IAAItX,MAAM,sBAAsBsX,MANtC,IAAc,IAAVzY,EACF,MAAM,IAAI0Q,UACR,gCAAgC+H,OAASzY,IAK/C,CAEA6f,EAAOpH,GAAOzY,CAAK,GACnB,IAGG4f,CACT,CAUAyD,WAAW7G,EAAM8G,EAAKjhB,GACpBgf,EAAYtX,KAAKjG,IACfoB,KAAKqe,YAAY/G,EAAM8G,GAAK,CAAC1B,EAAKld,KAChCZ,IACAzB,EAASuf,EAAKld,EAAO,GACrB,GAEN,CAUA8e,SAAShH,EAAM8G,EAAKjhB,GAClBgf,EAAYtX,KAAKjG,IACfoB,KAAKue,UAAUjH,EAAM8G,GAAK,CAAC1B,EAAKld,KAC9BZ,IACAzB,EAASuf,EAAKld,EAAO,GACrB,GAEN,CAUA6e,YAAY/G,EAAM8G,EAAKjhB,GACrB,MAAMqhB,EAAWxe,KAAKgd,UAAY,SAAW,SAE7C,IAAKhd,KAAK2c,SAAU,CAClB,MAAMpJ,EAAM,GAAGiL,oBACTC,EACwB,iBAArBze,KAAK2a,OAAOpH,GACfqI,EAAK8C,qBACL1e,KAAK2a,OAAOpH,GAElBvT,KAAK2c,SAAWf,EAAK+C,iBAAiB,IACjC3e,KAAKD,SAAS6e,mBACjBH,eAEFze,KAAK2c,SAASZ,GAAsB/b,KACpCA,KAAK2c,SAASX,GAAgB,EAC9Bhc,KAAK2c,SAAST,GAAY,GAC1Blc,KAAK2c,SAASrZ,GAAG,QAASmZ,GAC1Bzc,KAAK2c,SAASrZ,GAAG,OAAQgZ,EAC3B,CAEAtc,KAAK2c,SAASV,GAAa9e,EAE3B6C,KAAK2c,SAAS3I,MAAMsD,GAChB8G,GAAKpe,KAAK2c,SAAS3I,MAAM8H,GAE7B9b,KAAK2c,SAASkC,OAAM,KAClB,MAAMnC,EAAM1c,KAAK2c,SAASlE,GAE1B,GAAIiE,EAIF,OAHA1c,KAAK2c,SAASlQ,QACdzM,KAAK2c,SAAW,UAChBxf,EAASuf,GAIX,MAAMpF,EAAOO,EAAWzS,OACtBpF,KAAK2c,SAAST,GACdlc,KAAK2c,SAASX,IAGZhc,KAAK2c,SAASmC,eAAeC,YAC/B/e,KAAK2c,SAASlQ,QACdzM,KAAK2c,SAAW,OAEhB3c,KAAK2c,SAASX,GAAgB,EAC9Bhc,KAAK2c,SAAST,GAAY,GAEtBkC,GAAOpe,KAAK2a,OAAO,GAAG6D,0BACxBxe,KAAK2c,SAASH,SAIlBrf,EAAS,KAAMma,EAAK,GAExB,CAUAiH,UAAUjH,EAAM8G,EAAKjhB,GACnB,MAAMqhB,EAAWxe,KAAKgd,UAAY,SAAW,SAE7C,IAAKhd,KAAKid,SAAU,CAClB,MAAM1J,EAAM,GAAGiL,oBACTC,EACwB,iBAArBze,KAAK2a,OAAOpH,GACfqI,EAAK8C,qBACL1e,KAAK2a,OAAOpH,GAElBvT,KAAKid,SAAWrB,EAAKoD,iBAAiB,IACjChf,KAAKD,SAASkf,mBACjBR,eAGFze,KAAKid,SAASjB,GAAgB,EAC9Bhc,KAAKid,SAASf,GAAY,GAE1Blc,KAAKid,SAAS3Z,GAAG,OAAQ8Y,EAC3B,CAEApc,KAAKid,SAAShB,GAAa9e,EAE3B6C,KAAKid,SAASjJ,MAAMsD,GACpBtX,KAAKid,SAAS4B,MAAMjD,EAAKsD,cAAc,KACrC,IAAKlf,KAAKid,SAIR,OAGF,IAAI3F,EAAOO,EAAWzS,OACpBpF,KAAKid,SAASf,GACdlc,KAAKid,SAASjB,IAGZoC,IAAK9G,EAAOA,EAAK5K,MAAM,EAAG4K,EAAKlR,OAAS,IAM5CpG,KAAKid,SAAShB,GAAa,KAE3Bjc,KAAKid,SAASjB,GAAgB,EAC9Bhc,KAAKid,SAASf,GAAY,GAEtBkC,GAAOpe,KAAK2a,OAAO,GAAG6D,0BACxBxe,KAAKid,SAAST,QAGhBrf,EAAS,KAAMma,EAAK,GAExB,gCCtcF,MAAM,SAAE6H,GAAa,EAAQ,MAEvBC,EAAoB,EAAQ,OAC5B,aACJtH,EAAY,aACZpB,EAAY,YACZ0B,EAAW,WACXC,GACE,EAAQ,OACN,OAAEjT,EAAM,cAAE8R,EAAa,OAAElJ,GAAW,EAAQ,OAC5C,kBAAEqR,EAAiB,YAAEC,GAAgB,EAAQ,MAolBnD,SAAS/f,EAAMggB,EAAWrO,EAASrK,EAAQ2Y,EAAYC,GACrD,MAAM/C,EAAM,IAAI6C,EACd1Y,EAAS,4BAA4BqK,IAAYA,GAMnD,OAHAjV,MAAMyjB,kBAAkBhD,EAAKnd,GAC7Bmd,EAAIxD,KAAOuG,EACX/C,EAAItE,GAAeoH,EACZ9C,CACT,CAvBAxX,EAAOrK,QAxjBP,cAAuBskB,EAcrBrf,YAAY6F,EAAU,CAAC,GACrBnD,QAEAxC,KAAK2f,YAAcha,EAAQia,YAAc9H,EAAa,GACtD9X,KAAK6f,YAAcla,EAAQyP,YAAc,CAAC,EAC1CpV,KAAKgd,YAAcrX,EAAQiX,SAC3B5c,KAAKuc,YAAmC,EAArB5W,EAAQkX,WAC3B7c,KAAK8f,sBAAwBna,EAAQoa,mBACrC/f,KAAKqY,QAAc5c,EAEnBuE,KAAKggB,eAAiB,EACtBhgB,KAAKigB,SAAW,GAEhBjgB,KAAKkgB,aAAc,EACnBlgB,KAAKmgB,eAAiB,EACtBngB,KAAK2W,WAAQlb,EACbuE,KAAKogB,YAAc,EACnBpgB,KAAKqgB,SAAU,EACfrgB,KAAKsgB,MAAO,EACZtgB,KAAKugB,QAAU,EAEfvgB,KAAKwgB,oBAAsB,EAC3BxgB,KAAKygB,eAAiB,EACtBzgB,KAAK0gB,WAAa,GAElB1gB,KAAK2gB,OAnDQ,EAoDb3gB,KAAK4gB,OAAQ,CACf,CAUAC,OAAOxE,EAAOyE,EAAUC,GACtB,GAAqB,IAAjB/gB,KAAKugB,SAhEI,GAgEgBvgB,KAAK2gB,OAAoB,OAAOI,IAE7D/gB,KAAKggB,gBAAkB3D,EAAMjW,OAC7BpG,KAAKigB,SAASte,KAAK0a,GACnBrc,KAAKghB,UAAUD,EACjB,CASAE,QAAQzT,GAGN,GAFAxN,KAAKggB,gBAAkBxS,EAEnBA,IAAMxN,KAAKigB,SAAS,GAAG7Z,OAAQ,OAAOpG,KAAKigB,SAAS5T,QAExD,GAAImB,EAAIxN,KAAKigB,SAAS,GAAG7Z,OAAQ,CAC/B,MAAM+P,EAAMnW,KAAKigB,SAAS,GAE1B,OADAjgB,KAAKigB,SAAS,GAAK9J,EAAIzJ,MAAMc,GACtB2I,EAAIzJ,MAAM,EAAGc,EACtB,CAEA,MAAM0T,EAAMlK,OAAOC,YAAYzJ,GAE/B,EAAG,CACD,MAAM2I,EAAMnW,KAAKigB,SAAS,GACpBlS,EAASmT,EAAI9a,OAASoH,EAExBA,GAAK2I,EAAI/P,OACX8a,EAAIzO,IAAIzS,KAAKigB,SAAS5T,QAAS0B,IAE/BmT,EAAIzO,IAAI,IAAI0O,WAAWhL,EAAIlI,OAAQkI,EAAIiB,WAAY5J,GAAIO,GACvD/N,KAAKigB,SAAS,GAAK9J,EAAIzJ,MAAMc,IAG/BA,GAAK2I,EAAI/P,MACX,OAASoH,EAAI,GAEb,OAAO0T,CACT,CAQAF,UAAUD,GACR,IAAIrE,EACJ1c,KAAK4gB,OAAQ,EAEb,GACE,OAAQ5gB,KAAK2gB,QACX,KAxHS,EAyHPjE,EAAM1c,KAAKohB,UACX,MACF,KA1HsB,EA2HpB1E,EAAM1c,KAAKqhB,qBACX,MACF,KA5HsB,EA6HpB3E,EAAM1c,KAAKshB,qBACX,MACF,KA9HS,EA+HPthB,KAAKuhB,UACL,MACF,KAhIS,EAiIP7E,EAAM1c,KAAKwhB,QAAQT,GACnB,MACF,QAGE,YADA/gB,KAAK4gB,OAAQ,UAGV5gB,KAAK4gB,OAEdG,EAAGrE,EACL,CAQA0E,UACE,GAAIphB,KAAKggB,eAAiB,EAExB,YADAhgB,KAAK4gB,OAAQ,GAIf,MAAMzK,EAAMnW,KAAKihB,QAAQ,GAEzB,GAAwB,IAAV,GAAT9K,EAAI,IAEP,OADAnW,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,+BACA,EACA,KACA,6BAIJ,MAAMqW,EAAiC,KAAV,GAATtL,EAAI,IAExB,GAAIsL,IAAezhB,KAAK6f,YAAYT,EAAkBtE,eAEpD,OADA9a,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,sBACA,EACA,KACA,2BAQJ,GAJApL,KAAKsgB,KAA2B,MAAV,IAATnK,EAAI,IACjBnW,KAAKugB,QAAmB,GAATpK,EAAI,GACnBnW,KAAKmgB,eAA0B,IAAThK,EAAI,GAEL,IAAjBnW,KAAKugB,QAAkB,CACzB,GAAIkB,EAEF,OADAzhB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,sBACA,EACA,KACA,2BAIJ,IAAKpL,KAAKogB,YAER,OADApgB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,oBACA,EACA,KACA,yBAIJpL,KAAKugB,QAAUvgB,KAAKogB,WACtB,MAAO,GAAqB,IAAjBpgB,KAAKugB,SAAqC,IAAjBvgB,KAAKugB,QAAkB,CACzD,GAAIvgB,KAAKogB,YAEP,OADApgB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,kBAAkBpL,KAAKugB,WACvB,EACA,KACA,yBAIJvgB,KAAKkgB,YAAcuB,CACrB,KAAO,MAAIzhB,KAAKugB,QAAU,GAAQvgB,KAAKugB,QAAU,IAmC/C,OADAvgB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,kBAAkBpL,KAAKugB,WACvB,EACA,KACA,yBAvCF,IAAKvgB,KAAKsgB,KAER,OADAtgB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,mBACA,EACA,KACA,uBAIJ,GAAIqW,EAEF,OADAzhB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,sBACA,EACA,KACA,2BAIJ,GAAIpL,KAAKmgB,eAAiB,IAExB,OADAngB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,0BAA0BpL,KAAKmgB,kBAC/B,EACA,KACA,wCAYN,CAKA,GAHKngB,KAAKsgB,MAAStgB,KAAKogB,cAAapgB,KAAKogB,YAAcpgB,KAAKugB,SAC7DvgB,KAAKqgB,QAA8B,MAAV,IAATlK,EAAI,IAEhBnW,KAAKgd,WACP,IAAKhd,KAAKqgB,QAER,OADArgB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,oBACA,EACA,KACA,6BAGC,GAAIpL,KAAKqgB,QAEd,OADArgB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,sBACA,EACA,KACA,0BAIJ,GAA4B,MAAxBpL,KAAKmgB,eAAwBngB,KAAK2gB,OApSZ,MAqSrB,IAA4B,MAAxB3gB,KAAKmgB,eACT,OAAOngB,KAAK0hB,aADqB1hB,KAAK2gB,OApSjB,CAqSG,CAC/B,CAQAU,qBACE,KAAIrhB,KAAKggB,eAAiB,GAM1B,OADAhgB,KAAKmgB,eAAiBngB,KAAKihB,QAAQ,GAAGU,aAAa,GAC5C3hB,KAAK0hB,aALV1hB,KAAK4gB,OAAQ,CAMjB,CAQAU,qBACE,GAAIthB,KAAKggB,eAAiB,EAExB,YADAhgB,KAAK4gB,OAAQ,GAIf,MAAMzK,EAAMnW,KAAKihB,QAAQ,GACnB9T,EAAMgJ,EAAIyL,aAAa,GAM7B,OAAIzU,EAAMvB,KAAKiW,IAAI,EAAG,IAAW,GAC/B7hB,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,0DACA,EACA,KACA,4CAIJpL,KAAKmgB,eAAiBhT,EAAMvB,KAAKiW,IAAI,EAAG,IAAM1L,EAAIyL,aAAa,GACxD5hB,KAAK0hB,aACd,CAQAA,aACE,GAAI1hB,KAAKmgB,gBAAkBngB,KAAKugB,QAAU,IACxCvgB,KAAKwgB,qBAAuBxgB,KAAKmgB,eAC7BngB,KAAKwgB,oBAAsBxgB,KAAKuc,aAAevc,KAAKuc,YAAc,GAEpE,OADAvc,KAAK4gB,OAAQ,EACNrhB,EACL6L,WACA,6BACA,EACA,KACA,qCAKFpL,KAAKqgB,QAASrgB,KAAK2gB,OA9WV,EA+WR3gB,KAAK2gB,OA9WG,CA+Wf,CAOAY,UACMvhB,KAAKggB,eAAiB,EACxBhgB,KAAK4gB,OAAQ,GAIf5gB,KAAK2W,MAAQ3W,KAAKihB,QAAQ,GAC1BjhB,KAAK2gB,OA7XQ,EA8Xf,CASAa,QAAQT,GACN,IAAIzJ,EAAOZ,EAEX,GAAI1W,KAAKmgB,eAAgB,CACvB,GAAIngB,KAAKggB,eAAiBhgB,KAAKmgB,eAE7B,YADAngB,KAAK4gB,OAAQ,GAIftJ,EAAOtX,KAAKihB,QAAQjhB,KAAKmgB,gBAGvBngB,KAAKqgB,SAC+D,IAAnErgB,KAAK2W,MAAM,GAAK3W,KAAK2W,MAAM,GAAK3W,KAAK2W,MAAM,GAAK3W,KAAK2W,MAAM,KAE5D3I,EAAOsJ,EAAMtX,KAAK2W,MAEtB,CAEA,OAAI3W,KAAKugB,QAAU,EAAavgB,KAAK8hB,eAAexK,GAEhDtX,KAAKkgB,aACPlgB,KAAK2gB,OA5ZO,OA6ZZ3gB,KAAKme,WAAW7G,EAAMyJ,KAIpBzJ,EAAKlR,SAKPpG,KAAKygB,eAAiBzgB,KAAKwgB,oBAC3BxgB,KAAK0gB,WAAW/e,KAAK2V,IAGhBtX,KAAK+hB,cACd,CASA5D,WAAW7G,EAAMyJ,GACW/gB,KAAK6f,YAAYT,EAAkBtE,eAE3CqD,WAAW7G,EAAMtX,KAAKsgB,MAAM,CAAC5D,EAAKvG,KAClD,GAAIuG,EAAK,OAAOqE,EAAGrE,GAEnB,GAAIvG,EAAI/P,OAAQ,CAEd,GADApG,KAAKygB,gBAAkBtK,EAAI/P,OACvBpG,KAAKygB,eAAiBzgB,KAAKuc,aAAevc,KAAKuc,YAAc,EAC/D,OAAOwE,EACLxhB,EACE6L,WACA,6BACA,EACA,KACA,sCAKNpL,KAAK0gB,WAAW/e,KAAKwU,EACvB,CAEA,MAAM6L,EAAKhiB,KAAK+hB,cAChB,GAAIC,EAAI,OAAOjB,EAAGiB,GAElBhiB,KAAKghB,UAAUD,EAAG,GAEtB,CAQAgB,cACE,GAAI/hB,KAAKsgB,KAAM,CACb,MAAM2B,EAAgBjiB,KAAKygB,eACrByB,EAAYliB,KAAK0gB,WAOvB,GALA1gB,KAAKwgB,oBAAsB,EAC3BxgB,KAAKygB,eAAiB,EACtBzgB,KAAKogB,YAAc,EACnBpgB,KAAK0gB,WAAa,GAEG,IAAjB1gB,KAAKugB,QAAe,CACtB,IAAIjJ,EAGFA,EADuB,eAArBtX,KAAK2f,YACAva,EAAO8c,EAAWD,GACK,gBAArBjiB,KAAK2f,YACPzI,EAAc9R,EAAO8c,EAAWD,IAEhCC,EAGTliB,KAAKkC,KAAK,UAAWoV,GAAM,EAC7B,KAAO,CACL,MAAMnB,EAAM/Q,EAAO8c,EAAWD,GAE9B,IAAKjiB,KAAK8f,sBAAwBR,EAAYnJ,GAE5C,OADAnW,KAAK4gB,OAAQ,EACNrhB,EACLtD,MACA,0BACA,EACA,KACA,uBAIJ+D,KAAKkC,KAAK,UAAWiU,GAAK,EAC5B,CACF,CAEAnW,KAAK2gB,OArgBQ,CAsgBf,CASAmB,eAAexK,GACb,GAAqB,IAAjBtX,KAAKugB,QAGP,GAFAvgB,KAAK4gB,OAAQ,EAEO,IAAhBtJ,EAAKlR,OACPpG,KAAKkC,KAAK,WAAY,KAAMwU,GAC5B1W,KAAKob,UACA,IAAoB,IAAhB9D,EAAKlR,OACd,OAAO7G,EACL6L,WACA,4BACA,EACA,KACA,yCAEG,CACL,MAAM8N,EAAO5B,EAAKqK,aAAa,GAE/B,IAAKtC,EAAkBnG,GACrB,OAAO3Z,EACL6L,WACA,uBAAuB8N,KACvB,EACA,KACA,6BAIJ,MAAM/C,EAAMmB,EAAK5K,MAAM,GAEvB,IAAK1M,KAAK8f,sBAAwBR,EAAYnJ,GAC5C,OAAO5W,EACLtD,MACA,0BACA,EACA,KACA,uBAIJ+D,KAAKkC,KAAK,WAAYgX,EAAM/C,GAC5BnW,KAAKob,KACP,OAC0B,IAAjBpb,KAAKugB,QACdvgB,KAAKkC,KAAK,OAAQoV,GAElBtX,KAAKkC,KAAK,OAAQoV,GAGpBtX,KAAK2gB,OAhkBQ,CAikBf,gCC3kBU,EAAQ,MACR,EAAQ,MADpB,MAEM,eAAEwB,GAAmB,EAAQ,MAE7B/C,EAAoB,EAAQ,OAC5B,aAAE1I,GAAiB,EAAQ,OAC3B,kBAAE2I,GAAsB,EAAQ,OAC9BxR,KAAMuU,EAAS,SAAE/K,GAAa,EAAQ,MAExCgL,EAAcnK,OAAO,eACrBoK,EAAatL,OAAOe,MAAM,GAKhC,MAAMvB,EASJ1W,YAAYyiB,EAAQnN,EAAYoN,GAC9BxiB,KAAK6f,YAAczK,GAAc,CAAC,EAE9BoN,IACFxiB,KAAKyiB,cAAgBD,EACrBxiB,KAAK0iB,YAAc1L,OAAOe,MAAM,IAGlC/X,KAAK2iB,QAAUJ,EAEfviB,KAAK4iB,gBAAiB,EACtB5iB,KAAKue,WAAY,EAEjBve,KAAKggB,eAAiB,EACtBhgB,KAAK6iB,YAAa,EAClB7iB,KAAK4C,OAAS,EAChB,CAuBAkgB,aAAaxL,EAAM3R,GACjB,IAAIkI,EAkBAkV,EAjBAC,GAAQ,EACRjV,EAAS,EACTkV,GAAc,EAEdtd,EAAQkI,OACVA,EAAOlI,EAAQ2c,YAAcA,EAEzB3c,EAAQ6c,aACV7c,EAAQ6c,aAAa3U,GAErBsU,EAAetU,EAAM,EAAG,GAG1BoV,EAA0D,IAA3CpV,EAAK,GAAKA,EAAK,GAAKA,EAAK,GAAKA,EAAK,IAClDE,EAAS,GAKS,iBAATuJ,EAQPyL,EANEpd,EAAQkI,OAAQoV,QACOxnB,IAAzBkK,EAAQ0c,IAIR/K,EAAON,OAAOU,KAAKJ,IACDlR,OAHLT,EAAQ0c,IAMvBU,EAAazL,EAAKlR,OAClB4c,EAAQrd,EAAQkI,MAAQlI,EAAQ4R,WAAa0L,GAG/C,IAAIC,EAAgBH,EAEhBA,GAAc,OAChBhV,GAAU,EACVmV,EAAgB,KACPH,EAAa,MACtBhV,GAAU,EACVmV,EAAgB,KAGlB,MAAMnM,EAASC,OAAOC,YAAY+L,EAAQD,EAAahV,EAASA,GAchE,OAZAgJ,EAAO,GAAKpR,EAAQyY,IAAuB,IAAjBzY,EAAQwd,OAAgBxd,EAAQwd,OACtDxd,EAAQyd,OAAMrM,EAAO,IAAM,IAE/BA,EAAO,GAAKmM,EAEU,MAAlBA,EACFnM,EAAOsM,cAAcN,EAAY,GACN,MAAlBG,IACTnM,EAAO,GAAKA,EAAO,GAAK,EACxBA,EAAOuM,YAAYP,EAAY,EAAG,IAG/Bpd,EAAQkI,MAEbkJ,EAAO,IAAM,IACbA,EAAOhJ,EAAS,GAAKF,EAAK,GAC1BkJ,EAAOhJ,EAAS,GAAKF,EAAK,GAC1BkJ,EAAOhJ,EAAS,GAAKF,EAAK,GAC1BkJ,EAAOhJ,EAAS,GAAKF,EAAK,GAEtBoV,EAAoB,CAAClM,EAAQO,GAE7B0L,GACFZ,EAAU9K,EAAMzJ,EAAMkJ,EAAQhJ,EAAQgV,GAC/B,CAAChM,KAGVqL,EAAU9K,EAAMzJ,EAAMyJ,EAAM,EAAGyL,GACxB,CAAChM,EAAQO,KAhBU,CAACP,EAAQO,EAiBrC,CAWA7K,MAAMyM,EAAM5B,EAAMzJ,EAAMkT,GACtB,IAAI5K,EAEJ,QAAa1a,IAATyd,EACF/C,EAAMO,MACD,IAAoB,iBAATwC,IAAsBmG,EAAkBnG,GACxD,MAAM,IAAI1N,UAAU,oDACf,QAAa/P,IAAT6b,GAAuBA,EAAKlR,OAGhC,CACL,MAAMA,EAAS4Q,OAAOG,WAAWG,GAEjC,GAAIlR,EAAS,IACX,MAAM,IAAIgF,WAAW,kDAGvB+K,EAAMa,OAAOC,YAAY,EAAI7Q,GAC7B+P,EAAIkN,cAAcnK,EAAM,GAEJ,iBAAT5B,EACTnB,EAAInC,MAAMsD,EAAM,GAEhBnB,EAAI1D,IAAI6E,EAAM,EAElB,MAjBEnB,EAAMa,OAAOC,YAAY,GACzBd,EAAIkN,cAAcnK,EAAM,EAgB1B,CAEA,MAAMvT,EAAU,CACd,CAAC0c,GAAclM,EAAI/P,OACnBgY,KAAK,EACLoE,aAAcxiB,KAAKyiB,cACnB5U,OACAyU,WAAYtiB,KAAK0iB,YACjBS,OAAQ,EACR5L,UAAU,EACV6L,MAAM,GAGJpjB,KAAK6iB,WACP7iB,KAAKujB,QAAQ,CAACvjB,KAAKwjB,SAAUrN,GAAK,EAAOxQ,EAASob,IAElD/gB,KAAKyjB,UAAUjN,EAAOkN,MAAMvN,EAAKxQ,GAAUob,EAE/C,CAUA4C,KAAKrM,EAAMzJ,EAAMkT,GACf,IAAI5J,EACAI,EAWJ,GAToB,iBAATD,GACTH,EAAaH,OAAOG,WAAWG,GAC/BC,GAAW,IAGXJ,GADAG,EAAOD,EAASC,IACElR,OAClBmR,EAAWF,EAASE,UAGlBJ,EAAa,IACf,MAAM,IAAI/L,WAAW,oDAGvB,MAAMzF,EAAU,CACd,CAAC0c,GAAclL,EACfiH,KAAK,EACLoE,aAAcxiB,KAAKyiB,cACnB5U,OACAyU,WAAYtiB,KAAK0iB,YACjBS,OAAQ,EACR5L,WACA6L,MAAM,GAGJpjB,KAAK6iB,WACP7iB,KAAKujB,QAAQ,CAACvjB,KAAKwjB,SAAUlM,GAAM,EAAO3R,EAASob,IAEnD/gB,KAAKyjB,UAAUjN,EAAOkN,MAAMpM,EAAM3R,GAAUob,EAEhD,CAUA6C,KAAKtM,EAAMzJ,EAAMkT,GACf,IAAI5J,EACAI,EAWJ,GAToB,iBAATD,GACTH,EAAaH,OAAOG,WAAWG,GAC/BC,GAAW,IAGXJ,GADAG,EAAOD,EAASC,IACElR,OAClBmR,EAAWF,EAASE,UAGlBJ,EAAa,IACf,MAAM,IAAI/L,WAAW,oDAGvB,MAAMzF,EAAU,CACd,CAAC0c,GAAclL,EACfiH,KAAK,EACLoE,aAAcxiB,KAAKyiB,cACnB5U,OACAyU,WAAYtiB,KAAK0iB,YACjBS,OAAQ,GACR5L,WACA6L,MAAM,GAGJpjB,KAAK6iB,WACP7iB,KAAKujB,QAAQ,CAACvjB,KAAKwjB,SAAUlM,GAAM,EAAO3R,EAASob,IAEnD/gB,KAAKyjB,UAAUjN,EAAOkN,MAAMpM,EAAM3R,GAAUob,EAEhD,CAkBA8C,KAAKvM,EAAM3R,EAASob,GAClB,MAAM+C,EAAoB9jB,KAAK6f,YAAYT,EAAkBtE,eAC7D,IAGI3D,EACAI,EAJA4L,EAASxd,EAAQoe,OAAS,EAAI,EAC9BX,EAAOzd,EAAQ2Y,SAmCnB,GA9BoB,iBAAThH,GACTH,EAAaH,OAAOG,WAAWG,GAC/BC,GAAW,IAGXJ,GADAG,EAAOD,EAASC,IACElR,OAClBmR,EAAWF,EAASE,UAGlBvX,KAAK4iB,gBACP5iB,KAAK4iB,gBAAiB,EAEpBQ,GACAU,GACAA,EAAkBnJ,OAChBmJ,EAAkB9G,UACd,6BACA,gCAGNoG,EAAOjM,GAAc2M,EAAkBhH,YAEzC9c,KAAKue,UAAY6E,IAEjBA,GAAO,EACPD,EAAS,GAGPxd,EAAQyY,MAAKpe,KAAK4iB,gBAAiB,GAEnCkB,EAAmB,CACrB,MAAMrY,EAAO,CACX,CAAC4W,GAAclL,EACfiH,IAAKzY,EAAQyY,IACboE,aAAcxiB,KAAKyiB,cACnB5U,KAAMlI,EAAQkI,KACdyU,WAAYtiB,KAAK0iB,YACjBS,SACA5L,WACA6L,QAGEpjB,KAAK6iB,WACP7iB,KAAKujB,QAAQ,CAACvjB,KAAKwjB,SAAUlM,EAAMtX,KAAKue,UAAW9S,EAAMsV,IAEzD/gB,KAAKwjB,SAASlM,EAAMtX,KAAKue,UAAW9S,EAAMsV,EAE9C,MACE/gB,KAAKyjB,UACHjN,EAAOkN,MAAMpM,EAAM,CACjB,CAAC+K,GAAclL,EACfiH,IAAKzY,EAAQyY,IACboE,aAAcxiB,KAAKyiB,cACnB5U,KAAMlI,EAAQkI,KACdyU,WAAYtiB,KAAK0iB,YACjBS,SACA5L,WACA6L,MAAM,IAERrC,EAGN,CAyBAyC,SAASlM,EAAMgH,EAAU3Y,EAASob,GAChC,IAAKzC,EAEH,YADAte,KAAKyjB,UAAUjN,EAAOkN,MAAMpM,EAAM3R,GAAUob,GAI9C,MAAM+C,EAAoB9jB,KAAK6f,YAAYT,EAAkBtE,eAE7D9a,KAAKggB,gBAAkBra,EAAQ0c,GAC/BriB,KAAK6iB,YAAa,EAClBiB,EAAkBxF,SAAShH,EAAM3R,EAAQyY,KAAK,CAACzJ,EAAGwB,KAChD,GAAInW,KAAK2iB,QAAQqB,UAAjB,CACE,MAAMtH,EAAM,IAAIzgB,MACd,yDAGgB,mBAAP8kB,GAAmBA,EAAGrE,GAEjC,IAAK,IAAInR,EAAI,EAAGA,EAAIvL,KAAK4C,OAAOwD,OAAQmF,IAAK,CAC3C,MAAMoP,EAAS3a,KAAK4C,OAAO2I,GACrBpO,EAAWwd,EAAOA,EAAOvU,OAAS,GAEhB,mBAAbjJ,GAAyBA,EAASuf,EAC/C,CAGF,MAEA1c,KAAKggB,gBAAkBra,EAAQ0c,GAC/BriB,KAAK6iB,YAAa,EAClBld,EAAQ4R,UAAW,EACnBvX,KAAKyjB,UAAUjN,EAAOkN,MAAMvN,EAAKxQ,GAAUob,GAC3C/gB,KAAKikB,SAAS,GAElB,CAOAA,UACE,MAAQjkB,KAAK6iB,YAAc7iB,KAAK4C,OAAOwD,QAAQ,CAC7C,MAAMuU,EAAS3a,KAAK4C,OAAOyJ,QAE3BrM,KAAKggB,gBAAkBrF,EAAO,GAAG0H,GACjC6B,QAAQ/R,MAAMwI,EAAO,GAAI3a,KAAM2a,EAAOjO,MAAM,GAC9C,CACF,CAQA6W,QAAQ5I,GACN3a,KAAKggB,gBAAkBrF,EAAO,GAAG0H,GACjCriB,KAAK4C,OAAOjB,KAAKgZ,EACnB,CASA8I,UAAU5M,EAAMkK,GACM,IAAhBlK,EAAKzQ,QACPpG,KAAK2iB,QAAQwB,OACbnkB,KAAK2iB,QAAQ3O,MAAM6C,EAAK,IACxB7W,KAAK2iB,QAAQ3O,MAAM6C,EAAK,GAAIkK,GAC5B/gB,KAAK2iB,QAAQyB,UAEbpkB,KAAK2iB,QAAQ3O,MAAM6C,EAAK,GAAIkK,EAEhC,EAGF7b,EAAOrK,QAAU2b,+BC3djB,MAAM,OAAE6N,GAAW,EAAQ,MAQ3B,SAASC,EAAUC,GACjBA,EAAOriB,KAAK,QACd,CAOA,SAASsiB,KACFxkB,KAAKgkB,WAAahkB,KAAKykB,eAAeC,UACzC1kB,KAAKgC,SAET,CAQA,SAAS2iB,EAAcjI,GACrB1c,KAAKma,eAAe,QAASwK,GAC7B3kB,KAAKgC,UAC+B,IAAhChC,KAAK4kB,cAAc,UAErB5kB,KAAKkC,KAAK,QAASwa,EAEvB,CAwHAxX,EAAOrK,QA9GP,SAA+BgqB,EAAIlf,GACjC,IAAImf,GAAqB,EAEzB,MAAMC,EAAS,IAAIV,EAAO,IACrB1e,EACHqf,aAAa,EACbV,WAAW,EACXviB,YAAY,EACZkjB,oBAAoB,IAmGtB,OAhGAJ,EAAGvhB,GAAG,WAAW,SAAiB4hB,EAAKrL,GACrC,MAAMvC,GACHuC,GAAYkL,EAAOjG,eAAe/c,WAAamjB,EAAInS,WAAamS,EAE9DH,EAAOpjB,KAAK2V,IAAOuN,EAAGM,OAC7B,IAEAN,EAAGthB,KAAK,SAAS,SAAemZ,GAC1BqI,EAAOf,YAWXc,GAAqB,EACrBC,EAAO/iB,QAAQ0a,GACjB,IAEAmI,EAAGthB,KAAK,SAAS,WACXwhB,EAAOf,WAEXe,EAAOpjB,KAAK,KACd,IAEAojB,EAAOK,SAAW,SAAU1I,EAAKvf,GAC/B,GAAI0nB,EAAGQ,aAAeR,EAAGS,OAGvB,OAFAnoB,EAASuf,QACT7gB,QAAQ0pB,SAASjB,EAAWS,GAI9B,IAAIS,GAAS,EAEbX,EAAGthB,KAAK,SAAS,SAAemZ,GAC9B8I,GAAS,EACTroB,EAASuf,EACX,IAEAmI,EAAGthB,KAAK,SAAS,WACViiB,GAAQroB,EAASuf,GACtB7gB,QAAQ0pB,SAASjB,EAAWS,EAC9B,IAEID,GAAoBD,EAAGY,WAC7B,EAEAV,EAAOW,OAAS,SAAUvoB,GACpB0nB,EAAGQ,aAAeR,EAAGc,WAWN,OAAfd,EAAGlC,UAEHkC,EAAGlC,QAAQ8B,eAAeC,UAC5BvnB,IACI4nB,EAAOjG,eAAeC,YAAYgG,EAAO/iB,YAE7C6iB,EAAGlC,QAAQpf,KAAK,UAAU,WAIxBpG,GACF,IACA0nB,EAAGpY,UAtBHoY,EAAGthB,KAAK,QAAQ,WACdwhB,EAAOW,OAAOvoB,EAChB,GAsBJ,EAEA4nB,EAAOa,MAAQ,WACTf,EAAGgB,UAAUhB,EAAGiB,QACtB,EAEAf,EAAOlE,OAAS,SAAUxE,EAAOyE,EAAU3jB,GACrC0nB,EAAGQ,aAAeR,EAAGc,WAOzBd,EAAGhB,KAAKxH,EAAOlf,GANb0nB,EAAGthB,KAAK,QAAQ,WACdwhB,EAAOlE,OAAOxE,EAAOyE,EAAU3jB,EACjC,GAKJ,EAEA4nB,EAAOzhB,GAAG,MAAOkhB,GACjBO,EAAOzhB,GAAG,QAASqhB,GACZI,CACT,+BC1JA,MAAM,WAAEzK,GAAe,EAAQ,MA2D/BpV,EAAOrK,QAAU,CAAE2K,MAlDnB,SAAeoV,GACb,MAAMmL,EAAY,IAAIphB,IACtB,IAAIwW,GAAS,EACTC,GAAO,EACP7P,EAAI,EAER,KAAQA,EAAIqP,EAAOxU,OAAQmF,IAAK,CAC9B,MAAM2N,EAAO0B,EAAOnH,WAAWlI,GAE/B,IAAa,IAAT6P,GAAmC,IAArBd,EAAWpB,IACZ,IAAXiC,IAAcA,EAAQ5P,QACrB,GACC,IAANA,GACU,KAAT2N,GAAoC,IAATA,EAGvB,IAAa,KAATA,EAgBT,MAAM,IAAIpN,YAAY,iCAAiCP,KAhBrB,CAClC,IAAe,IAAX4P,EACF,MAAM,IAAIrP,YAAY,iCAAiCP,MAG5C,IAAT6P,IAAYA,EAAM7P,GAEtB,MAAMya,EAAWpL,EAAOlO,MAAMyO,EAAOC,GAErC,GAAI2K,EAAUE,IAAID,GAChB,MAAM,IAAIla,YAAY,QAAQka,gCAGhCD,EAAUlhB,IAAImhB,GACd7K,EAAQC,GAAO,CACjB,CAEA,MAlBe,IAATA,IAAyB,IAAXD,IAAcC,EAAM7P,EAmB1C,CAEA,IAAe,IAAX4P,IAAyB,IAATC,EAClB,MAAM,IAAItP,YAAY,2BAGxB,MAAMka,EAAWpL,EAAOlO,MAAMyO,EAAO5P,GAErC,GAAIwa,EAAUE,IAAID,GAChB,MAAM,IAAIla,YAAY,QAAQka,gCAIhC,OADAD,EAAUlhB,IAAImhB,GACPD,CACT,gCCPA,SAASG,EAAa/P,GACpB,MAAM/C,EAAM+C,EAAI/P,OAChB,IAAImF,EAAI,EAER,KAAOA,EAAI6H,GACT,GAAwB,IAAV,IAAT+C,EAAI5K,IAEPA,SACK,GAAwB,MAAV,IAAT4K,EAAI5K,IAAqB,CAEnC,GACEA,EAAI,IAAM6H,GACc,MAAV,IAAb+C,EAAI5K,EAAI,KACW,MAAV,IAAT4K,EAAI5K,IAEL,OAAO,EAGTA,GAAK,CACP,MAAO,GAAwB,MAAV,IAAT4K,EAAI5K,IAAqB,CAEnC,GACEA,EAAI,GAAK6H,GACe,MAAV,IAAb+C,EAAI5K,EAAI,KACe,MAAV,IAAb4K,EAAI5K,EAAI,KACG,MAAX4K,EAAI5K,IAAuC,MAAV,IAAb4K,EAAI5K,EAAI,KACjB,MAAX4K,EAAI5K,IAAuC,MAAV,IAAb4K,EAAI5K,EAAI,IAE7B,OAAO,EAGTA,GAAK,CACP,KAAO,IAAwB,MAAV,IAAT4K,EAAI5K,IAgBd,OAAO,EAdP,GACEA,EAAI,GAAK6H,GACe,MAAV,IAAb+C,EAAI5K,EAAI,KACe,MAAV,IAAb4K,EAAI5K,EAAI,KACe,MAAV,IAAb4K,EAAI5K,EAAI,KACG,MAAX4K,EAAI5K,IAAuC,MAAV,IAAb4K,EAAI5K,EAAI,KACjB,MAAX4K,EAAI5K,IAAe4K,EAAI5K,EAAI,GAAK,KACjC4K,EAAI5K,GAAK,IAET,OAAO,EAGTA,GAAK,CAGP,CAGF,OAAO,CACT,CASA,GAPArG,EAAOrK,QAAU,CACfwkB,kBA5EF,SAA2BnG,GACzB,OACGA,GAAQ,KACPA,GAAQ,MACC,OAATA,GACS,OAATA,GACS,OAATA,GACDA,GAAQ,KAAQA,GAAQ,IAE7B,EAoEEoG,YAAa4G,EACb5L,WAhGiB,CACjB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC7C,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KA4F1Cze,QAAQyT,IAAI6W,qBACf,IACE,MAAM7G,EAAc,EAAQ,MAE5Bpa,EAAOrK,QAAQykB,YAAc,SAAUnJ,GACrC,OAAOA,EAAI/P,OAAS,IAAM8f,EAAa/P,GAAOmJ,EAAYnJ,EAC5D,CACF,CAAE,MAAOhI,GAET,+BCvHF,MAAMxL,EAAe,EAAQ,MACvByjB,EAAO,EAAQ,OAIf,WAAEC,IAHM,EAAQ,MACV,EAAQ,MACR,EAAQ,MACG,EAAQ,OAEzB5L,EAAY,EAAQ,MACpB2E,EAAoB,EAAQ,MAC5BkH,EAAc,EAAQ,MACtBlQ,EAAY,EAAQ,OACpB,KAAE4B,EAAI,WAAEK,GAAe,EAAQ,MAE/BkO,EAAW,wBA6bjB,SAASjC,EAAUkC,GACjBA,EAAO7F,OA1bM,EA2bb6F,EAAOtkB,KAAK,QACd,CAOA,SAASukB,IACPzmB,KAAKgC,SACP,CAWA,SAAS0kB,EAAenE,EAAQrJ,EAAMhI,EAASyV,GAS7CzV,EAAUA,GAAWkV,EAAKQ,aAAa1N,GACvCyN,EAAU,CACRE,WAAY,QACZ,eAAgB,YAChB,iBAAkB7P,OAAOG,WAAWjG,MACjCyV,GAGLpE,EAAOhf,KAAK,SAAUgf,EAAOvgB,SAE7BugB,EAAOnH,IACL,YAAYlC,KAAQkN,EAAKQ,aAAa1N,SACpCve,OAAO2Y,KAAKqT,GACTxoB,KAAK2oB,GAAM,GAAGA,MAAMH,EAAQG,OAC5BtiB,KAAK,QACR,WACA0M,EAEN,CAaA,SAAS6V,EAAkCP,EAAQQ,EAAKzE,EAAQrJ,EAAMhI,GACpE,GAAIsV,EAAO5B,cAAc,iBAAkB,CACzC,MAAMlI,EAAM,IAAIzgB,MAAMiV,GACtBjV,MAAMyjB,kBAAkBhD,EAAKqK,GAE7BP,EAAOtkB,KAAK,gBAAiBwa,EAAK6F,EAAQyE,EAC5C,MACEN,EAAenE,EAAQrJ,EAAMhI,EAEjC,CApGAhM,EAAOrK,QAtZP,cAA8B8H,EA2B5B7C,YAAY6F,EAASxI,GAoBnB,GAnBAqF,QAoBmB,OAlBnBmD,EAAU,CACRkX,WAAY,UACZkD,oBAAoB,EACpB+D,mBAAmB,EACnBmD,gBAAiB,KACjBC,gBAAgB,EAChBC,aAAc,KACdC,UAAU,EACVC,QAAS,KACTb,OAAQ,KACRc,KAAM,KACNrqB,KAAM,KACNsqB,KAAM,KACNnR,eACGzQ,IAIM4hB,OAAiB5hB,EAAQ6gB,SAAW7gB,EAAQyhB,UACpC,MAAhBzhB,EAAQ4hB,OAAiB5hB,EAAQ6gB,QAAU7gB,EAAQyhB,WACnDzhB,EAAQ6gB,QAAU7gB,EAAQyhB,SAE3B,MAAM,IAAI5b,UACR,qFAyBJ,GApBoB,MAAhB7F,EAAQ4hB,MACVvnB,KAAKwnB,QAAUpB,EAAKqB,cAAa,CAACT,EAAKU,KACrC,MAAMC,EAAOvB,EAAKQ,aAAa,KAE/Bc,EAAIE,UAAU,IAAK,CACjB,iBAAkBD,EAAKvhB,OACvB,eAAgB,eAElBshB,EAAItM,IAAIuM,EAAK,IAEf3nB,KAAKwnB,QAAQK,OACXliB,EAAQ4hB,KACR5hB,EAAQ2hB,KACR3hB,EAAQ0hB,QACRlqB,IAEOwI,EAAQ6gB,SACjBxmB,KAAKwnB,QAAU7hB,EAAQ6gB,QAGrBxmB,KAAKwnB,QAAS,CAChB,MAAMM,EAAiB9nB,KAAKkC,KAAK3B,KAAKP,KAAM,cAE5CA,KAAK+nB,iBAiVX,SAAsBvB,EAAQroB,GAC5B,IAAK,MAAM2b,KAASnf,OAAO2Y,KAAKnV,GAAMqoB,EAAOljB,GAAGwW,EAAO3b,EAAI2b,IAE3D,OAAO,WACL,IAAK,MAAMA,KAASnf,OAAO2Y,KAAKnV,GAC9BqoB,EAAOrM,eAAeL,EAAO3b,EAAI2b,GAErC,CACF,CAzV8BkO,CAAahoB,KAAKwnB,QAAS,CACjDS,UAAWjoB,KAAKkC,KAAK3B,KAAKP,KAAM,aAChCT,MAAOS,KAAKkC,KAAK3B,KAAKP,KAAM,SAC5BkoB,QAAS,CAAClB,EAAKzE,EAAQ4F,KACrBnoB,KAAKooB,cAAcpB,EAAKzE,EAAQ4F,EAAML,EAAe,GAG3D,EAEkC,IAA9BniB,EAAQme,oBAA4Bne,EAAQme,kBAAoB,CAAC,GACjEne,EAAQuhB,iBACVlnB,KAAKqoB,QAAU,IAAI1jB,IACnB3E,KAAKsoB,kBAAmB,GAG1BtoB,KAAK2F,QAAUA,EACf3F,KAAK2gB,OA1GO,CA2Gd,CAWA4H,UACE,GAAIvoB,KAAK2F,QAAQyhB,SACf,MAAM,IAAInrB,MAAM,8CAGlB,OAAK+D,KAAKwnB,QACHxnB,KAAKwnB,QAAQe,UADM,IAE5B,CASA9b,MAAMsU,GACJ,GArIW,IAqIP/gB,KAAK2gB,OAQP,OAPII,GACF/gB,KAAKuD,KAAK,SAAS,KACjBwd,EAAG,IAAI9kB,MAAM,6BAA6B,SAI9CJ,QAAQ0pB,SAASjB,EAAWtkB,MAM9B,GAFI+gB,GAAI/gB,KAAKuD,KAAK,QAASwd,GAjJf,IAmJR/gB,KAAK2gB,OAGT,GAFA3gB,KAAK2gB,OApJO,EAsJR3gB,KAAK2F,QAAQyhB,UAAYpnB,KAAK2F,QAAQ6gB,OACpCxmB,KAAKwnB,UACPxnB,KAAK+nB,mBACL/nB,KAAK+nB,iBAAmB/nB,KAAKwnB,QAAU,MAGrCxnB,KAAKqoB,SACFroB,KAAKqoB,QAAQG,KAGhBxoB,KAAKsoB,kBAAmB,EAG1BzsB,QAAQ0pB,SAASjB,EAAWtkB,UAEzB,CACL,MAAMwmB,EAASxmB,KAAKwnB,QAEpBxnB,KAAK+nB,mBACL/nB,KAAK+nB,iBAAmB/nB,KAAKwnB,QAAU,KAMvChB,EAAO/Z,OAAM,KACX6X,EAAUtkB,KAAK,GAEnB,CACF,CASAyoB,aAAazB,GACX,GAAIhnB,KAAK2F,QAAQ1I,KAAM,CACrB,MAAMgP,EAAQ+a,EAAI0B,IAAI3b,QAAQ,KAG9B,KAF4B,IAAXd,EAAe+a,EAAI0B,IAAIhc,MAAM,EAAGT,GAAS+a,EAAI0B,OAE7C1oB,KAAK2F,QAAQ1I,KAAM,OAAO,CAC7C,CAEA,OAAO,CACT,CAYAmrB,cAAcpB,EAAKzE,EAAQ4F,EAAMpH,GAC/BwB,EAAOjf,GAAG,QAASmjB,GAEnB,MAAMlT,EAAMyT,EAAIL,QAAQ,qBAClBgC,GAAW3B,EAAIL,QAAQ,yBAE7B,GAAmB,QAAfK,EAAI4B,OAGN,YADA7B,EAAkC/mB,KAAMgnB,EAAKzE,EAAQ,IADrC,uBAKlB,GAA0C,cAAtCyE,EAAIL,QAAQuB,QAAQtY,cAGtB,YADAmX,EAAkC/mB,KAAMgnB,EAAKzE,EAAQ,IADrC,0BAKlB,IAAKhP,IAAQgT,EAASlT,KAAKE,GAGzB,YADAwT,EAAkC/mB,KAAMgnB,EAAKzE,EAAQ,IADrC,+CAKlB,GAAgB,IAAZoG,GAA6B,KAAZA,EAGnB,YADA5B,EAAkC/mB,KAAMgnB,EAAKzE,EAAQ,IADrC,mDAKlB,IAAKviB,KAAKyoB,aAAazB,GAErB,YADAN,EAAenE,EAAQ,KAIzB,MAAMsG,EAAuB7B,EAAIL,QAAQ,0BACzC,IAAIZ,EAAY,IAAIphB,IAEpB,QAA6BlJ,IAAzBotB,EACF,IACE9C,EAAYO,EAAY9gB,MAAMqjB,EAChC,CAAE,MAAOnM,GAGP,YADAqK,EAAkC/mB,KAAMgnB,EAAKzE,EAAQ,IADrC,wCAGlB,CAGF,MAAMuG,EAAyB9B,EAAIL,QAAQ,4BACrCvR,EAAa,CAAC,EAEpB,GACEpV,KAAK2F,QAAQme,wBACcroB,IAA3BqtB,EACA,CACA,MAAMhF,EAAoB,IAAI1E,EAC5Bpf,KAAK2F,QAAQme,mBACb,EACA9jB,KAAK2F,QAAQkX,YAGf,IACE,MAAMhC,EAASJ,EAAUjV,MAAMsjB,GAE3BjO,EAAOuE,EAAkBtE,iBAC3BgJ,EAAkBlG,OAAO/C,EAAOuE,EAAkBtE,gBAClD1F,EAAWgK,EAAkBtE,eAAiBgJ,EAElD,CAAE,MAAOpH,GAIP,YADAqK,EAAkC/mB,KAAMgnB,EAAKzE,EAAQ,IADnD,0DAGJ,CACF,CAKA,GAAIviB,KAAK2F,QAAQwhB,aAAc,CAC7B,MAAM4B,EAAO,CACXC,OACEhC,EAAIL,QAAuB,IAAZgC,EAAgB,uBAAyB,UAC1DM,UAAWjC,EAAIzE,OAAO2G,aAAclC,EAAIzE,OAAO4G,WAC/CnC,OAGF,GAAyC,IAArChnB,KAAK2F,QAAQwhB,aAAa/gB,OAgB5B,YAfApG,KAAK2F,QAAQwhB,aAAa4B,GAAM,CAACK,EAAUlQ,EAAMhI,EAASyV,KACxD,IAAKyC,EACH,OAAO1C,EAAenE,EAAQrJ,GAAQ,IAAKhI,EAASyV,GAGtD3mB,KAAKqpB,gBACHjU,EACA7B,EACAwS,EACAiB,EACAzE,EACA4F,EACApH,EACD,IAKL,IAAK/gB,KAAK2F,QAAQwhB,aAAa4B,GAAO,OAAOrC,EAAenE,EAAQ,IACtE,CAEAviB,KAAKqpB,gBAAgBjU,EAAY7B,EAAKwS,EAAWiB,EAAKzE,EAAQ4F,EAAMpH,EACtE,CAgBAsI,gBAAgBjU,EAAY7B,EAAKwS,EAAWiB,EAAKzE,EAAQ4F,EAAMpH,GAI7D,IAAKwB,EAAO+G,WAAa/G,EAAOgH,SAAU,OAAOhH,EAAOvgB,UAExD,GAAIugB,EAAOlK,GACT,MAAM,IAAIpc,MACR,6GAKJ,GAAI+D,KAAK2gB,OA7VG,EA6Ve,OAAO+F,EAAenE,EAAQ,KAEzD,MAIMoE,EAAU,CACd,mCACA,qBACA,sBACA,yBARaN,EAAW,QACvBmD,OAAOjW,EAAMyE,GACbyR,OAAO,aASJ5E,EAAK,IAAI7kB,KAAK2F,QAAQyQ,UAAU,MAEtC,GAAI2P,EAAUyC,KAAM,CAIlB,MAAMxC,EAAWhmB,KAAK2F,QAAQshB,gBAC1BjnB,KAAK2F,QAAQshB,gBAAgBlB,EAAWiB,GACxCjB,EAAUjhB,SAAS6H,OAAO7R,MAE1BkrB,IACFW,EAAQhlB,KAAK,2BAA2BqkB,KACxCnB,EAAG6E,UAAY1D,EAEnB,CAEA,GAAI5Q,EAAWgK,EAAkBtE,eAAgB,CAC/C,MAAMH,EAASvF,EAAWgK,EAAkBtE,eAAeH,OACrD7f,EAAQ2f,EAAU1I,OAAO,CAC7B,CAACqN,EAAkBtE,eAAgB,CAACH,KAEtCgM,EAAQhlB,KAAK,6BAA6B7G,KAC1C+pB,EAAGhF,YAAczK,CACnB,CAKApV,KAAKkC,KAAK,UAAWykB,EAASK,GAE9BzE,EAAOvO,MAAM2S,EAAQvhB,OAAO,QAAQZ,KAAK,SACzC+d,EAAOpI,eAAe,QAASsM,GAE/B5B,EAAG8E,UAAUpH,EAAQ4F,EAAM,CACzBtL,WAAY7c,KAAK2F,QAAQkX,WACzBkD,mBAAoB/f,KAAK2F,QAAQoa,qBAG/B/f,KAAKqoB,UACProB,KAAKqoB,QAAQxjB,IAAIggB,GACjBA,EAAGvhB,GAAG,SAAS,KACbtD,KAAKqoB,QAAQuB,OAAO/E,GAEhB7kB,KAAKsoB,mBAAqBtoB,KAAKqoB,QAAQG,MACzC3sB,QAAQ0pB,SAASjB,EAAWtkB,KAC9B,KAIJ+gB,EAAG8D,EAAImC,EACT,gCC3aF,MAAMrkB,EAAe,EAAQ,MACvBknB,EAAQ,EAAQ,MAChBzD,EAAO,EAAQ,MACf0D,EAAM,EAAQ,MACdC,EAAM,EAAQ,OACd,YAAEC,EAAW,WAAE3D,GAAe,EAAQ,OACtC,SAAEvkB,GAAa,EAAQ,OACvB,IAAEmoB,GAAQ,EAAQ,MAElB7K,EAAoB,EAAQ,MAC5B7I,EAAW,EAAQ,MACnBC,EAAS,EAAQ,OACjB,aACJsB,EAAY,aACZpB,EAAY,KACZsB,EAAI,qBACJC,EAAoB,UACpBE,EAAS,YACTC,EAAW,WACXC,EAAU,KACVC,GACE,EAAQ,OAEViB,aAAa,iBAAEC,EAAgB,oBAAEU,IAC/B,EAAQ,OACN,OAAEnI,EAAM,MAAEvM,GAAU,EAAQ,OAC5B,SAAE6R,GAAa,EAAQ,MAGvB6S,EAAWhS,OAAO,YAClBiS,EAAmB,CAAC,EAAG,IACvBC,EAAc,CAAC,aAAc,OAAQ,UAAW,UAChDC,EAAmB,iCAOzB,MAAMjU,UAAkBzT,EAQtB7C,YAAYyoB,EAASxC,EAAWpgB,GAC9BnD,QAEAxC,KAAK2f,YAAc7H,EAAa,GAChC9X,KAAKsqB,WAAa,KAClBtqB,KAAKga,qBAAsB,EAC3Bha,KAAKia,iBAAkB,EACvBja,KAAKuqB,cAAgB7T,EACrB1W,KAAKwqB,YAAc,KACnBxqB,KAAK6f,YAAc,CAAC,EACpB7f,KAAKyqB,SAAU,EACfzqB,KAAK0pB,UAAY,GACjB1pB,KAAK0qB,YAActU,EAAUuP,WAC7B3lB,KAAK2qB,UAAY,KACjB3qB,KAAK4qB,QAAU,KACf5qB,KAAK2iB,QAAU,KAEC,OAAZ4F,GACFvoB,KAAK6qB,gBAAkB,EACvB7qB,KAAKgd,WAAY,EACjBhd,KAAK8qB,WAAa,OAEArvB,IAAdsqB,EACFA,EAAY,GACFlgB,MAAMC,QAAQigB,KACC,iBAAdA,GAAwC,OAAdA,GACnCpgB,EAAUogB,EACVA,EAAY,IAEZA,EAAY,CAACA,IAIjBgF,EAAa/qB,KAAMuoB,EAASxC,EAAWpgB,IAEvC3F,KAAKgd,WAAY,CAErB,CASI4C,iBACF,OAAO5f,KAAK2f,WACd,CAEIC,eAAW5Y,GACR8Q,EAAakT,SAAShkB,KAE3BhH,KAAK2f,YAAc3Y,EAKfhH,KAAK2qB,YAAW3qB,KAAK2qB,UAAUhL,YAAc3Y,GACnD,CAKIikB,qBACF,OAAKjrB,KAAK2iB,QAEH3iB,KAAK2iB,QAAQ8B,eAAere,OAASpG,KAAK4qB,QAAQ5K,eAF/BhgB,KAAK6qB,eAGjC,CAKIzV,iBACF,OAAOza,OAAO2Y,KAAKtT,KAAK6f,aAAarb,MACvC,CAKIqhB,eACF,OAAO7lB,KAAKyqB,OACd,CAMIS,cACF,OAAO,IACT,CAMIC,cACF,OAAO,IACT,CAMIC,aACF,OAAO,IACT,CAMIC,gBACF,OAAO,IACT,CAKIrF,eACF,OAAOhmB,KAAK0pB,SACd,CAKIrE,iBACF,OAAOrlB,KAAK0qB,WACd,CAKIhC,UACF,OAAO1oB,KAAKsrB,IACd,CAgBA3B,UAAUpH,EAAQ4F,EAAMxiB,GACtB,MAAM4lB,EAAW,IAAIhV,EAAS,CAC5BqJ,WAAY5f,KAAK4f,WACjBxK,WAAYpV,KAAK6f,YACjBjD,SAAU5c,KAAKgd,UACfH,WAAYlX,EAAQkX,WACpBkD,mBAAoBpa,EAAQoa,qBAG9B/f,KAAK4qB,QAAU,IAAIpU,EAAO+L,EAAQviB,KAAK6f,YAAala,EAAQ6c,cAC5DxiB,KAAK2qB,UAAYY,EACjBvrB,KAAK2iB,QAAUJ,EAEfgJ,EAASlT,GAAcrY,KACvBuiB,EAAOlK,GAAcrY,KAErBurB,EAASjoB,GAAG,WAAYkoB,GACxBD,EAASjoB,GAAG,QAASmoB,GACrBF,EAASjoB,GAAG,QAASooB,GACrBH,EAASjoB,GAAG,UAAWqoB,GACvBJ,EAASjoB,GAAG,OAAQsoB,GACpBL,EAASjoB,GAAG,OAAQuoB,GAEpBtJ,EAAOuJ,WAAW,GAClBvJ,EAAOwJ,aAEH5D,EAAK/hB,OAAS,GAAGmc,EAAOzQ,QAAQqW,GAEpC5F,EAAOjf,GAAG,QAAS0oB,GACnBzJ,EAAOjf,GAAG,OAAQ2oB,GAClB1J,EAAOjf,GAAG,MAAO4oB,GACjB3J,EAAOjf,GAAG,QAASmjB,GAEnBzmB,KAAK0qB,YAActU,EAAU+V,KAC7BnsB,KAAKkC,KAAK,OACZ,CAOAoiB,YACE,IAAKtkB,KAAK2iB,QAGR,OAFA3iB,KAAK0qB,YAActU,EAAUkP,YAC7BtlB,KAAKkC,KAAK,QAASlC,KAAKsqB,WAAYtqB,KAAKuqB,eAIvCvqB,KAAK6f,YAAYT,EAAkBtE,gBACrC9a,KAAK6f,YAAYT,EAAkBtE,eAAekD,UAGpDhe,KAAK2qB,UAAUyB,qBACfpsB,KAAK0qB,YAActU,EAAUkP,OAC7BtlB,KAAKkC,KAAK,QAASlC,KAAKsqB,WAAYtqB,KAAKuqB,cAC3C,CAsBA9d,MAAMyM,EAAM5B,GACV,GAAItX,KAAKqlB,aAAejP,EAAUkP,OAAlC,CACA,GAAItlB,KAAKqlB,aAAejP,EAAUuP,WAAY,CAC5C,MAAMT,EAAM,6DACZ,OAAOwB,EAAe1mB,KAAMA,KAAKqsB,KAAMnH,EACzC,CAEIllB,KAAKqlB,aAAejP,EAAUkW,SAWlCtsB,KAAK0qB,YAActU,EAAUkW,QAC7BtsB,KAAK4qB,QAAQne,MAAMyM,EAAM5B,GAAOtX,KAAKgd,WAAYN,IAK3CA,IAEJ1c,KAAKia,iBAAkB,GAGrBja,KAAKga,qBACLha,KAAK2qB,UAAUlG,eAAe8H,eAE9BvsB,KAAK2iB,QAAQvH,MACf,IAMFpb,KAAKwqB,YAAcsB,WACjB9rB,KAAK2iB,QAAQ3gB,QAAQzB,KAAKP,KAAK2iB,SAhShB,MAiQb3iB,KAAKia,kBACJja,KAAKga,qBAAuBha,KAAK2qB,UAAUlG,eAAe8H,eAE3DvsB,KAAK2iB,QAAQvH,KAX+B,CA0ClD,CAOA+J,QAEInlB,KAAKqlB,aAAejP,EAAUuP,YAC9B3lB,KAAKqlB,aAAejP,EAAUkP,SAKhCtlB,KAAKyqB,SAAU,EACfzqB,KAAK2iB,QAAQwC,QACf,CAUAxB,KAAKrM,EAAMzJ,EAAMkT,GACf,GAAI/gB,KAAKqlB,aAAejP,EAAUuP,WAChC,MAAM,IAAI1pB,MAAM,oDAGE,mBAATqb,GACTyJ,EAAKzJ,EACLA,EAAOzJ,OAAOpS,GACW,mBAAToS,IAChBkT,EAAKlT,EACLA,OAAOpS,GAGW,iBAAT6b,IAAmBA,EAAOA,EAAKvE,YAEtC/S,KAAKqlB,aAAejP,EAAU+V,WAKrB1wB,IAAToS,IAAoBA,GAAQ7N,KAAKgd,WACrChd,KAAK4qB,QAAQjH,KAAKrM,GAAQZ,EAAc7I,EAAMkT,IAL5CyL,EAAexsB,KAAMsX,EAAMyJ,EAM/B,CAUA6C,KAAKtM,EAAMzJ,EAAMkT,GACf,GAAI/gB,KAAKqlB,aAAejP,EAAUuP,WAChC,MAAM,IAAI1pB,MAAM,oDAGE,mBAATqb,GACTyJ,EAAKzJ,EACLA,EAAOzJ,OAAOpS,GACW,mBAAToS,IAChBkT,EAAKlT,EACLA,OAAOpS,GAGW,iBAAT6b,IAAmBA,EAAOA,EAAKvE,YAEtC/S,KAAKqlB,aAAejP,EAAU+V,WAKrB1wB,IAAToS,IAAoBA,GAAQ7N,KAAKgd,WACrChd,KAAK4qB,QAAQhH,KAAKtM,GAAQZ,EAAc7I,EAAMkT,IAL5CyL,EAAexsB,KAAMsX,EAAMyJ,EAM/B,CAOA+E,SAEI9lB,KAAKqlB,aAAejP,EAAUuP,YAC9B3lB,KAAKqlB,aAAejP,EAAUkP,SAKhCtlB,KAAKyqB,SAAU,EACVzqB,KAAK2qB,UAAUlG,eAAegI,WAAWzsB,KAAK2iB,QAAQmD,SAC7D,CAiBAjC,KAAKvM,EAAM3R,EAASob,GAClB,GAAI/gB,KAAKqlB,aAAejP,EAAUuP,WAChC,MAAM,IAAI1pB,MAAM,oDAUlB,GAPuB,mBAAZ0J,IACTob,EAAKpb,EACLA,EAAU,CAAC,GAGO,iBAAT2R,IAAmBA,EAAOA,EAAKvE,YAEtC/S,KAAKqlB,aAAejP,EAAU+V,KAEhC,YADAK,EAAexsB,KAAMsX,EAAMyJ,GAI7B,MAAMtV,EAAO,CACXsY,OAAwB,iBAATzM,EACfzJ,MAAO7N,KAAKgd,UACZsB,UAAU,EACVF,KAAK,KACFzY,GAGA3F,KAAK6f,YAAYT,EAAkBtE,iBACtCrP,EAAK6S,UAAW,GAGlBte,KAAK4qB,QAAQ/G,KAAKvM,GAAQZ,EAAcjL,EAAMsV,EAChD,CAOA0E,YACE,GAAIzlB,KAAKqlB,aAAejP,EAAUkP,OAAlC,CACA,GAAItlB,KAAKqlB,aAAejP,EAAUuP,WAAY,CAC5C,MAAMT,EAAM,6DACZ,OAAOwB,EAAe1mB,KAAMA,KAAKqsB,KAAMnH,EACzC,CAEIllB,KAAK2iB,UACP3iB,KAAK0qB,YAActU,EAAUkW,QAC7BtsB,KAAK2iB,QAAQ3gB,UARiC,CAUlD,EAsJF,SAAS+oB,EAAa2B,EAAWnE,EAASxC,EAAWpgB,GACnD,MAAM8F,EAAO,CACXkhB,gBAAiBxC,EAAiB,GAClCtN,WAAY,UACZkD,oBAAoB,EACpB+D,mBAAmB,EACnB8I,iBAAiB,EACjBC,aAAc,MACXlnB,EACHmnB,sBAAkBrxB,EAClBsxB,gBAAYtxB,EACZuxB,cAAUvxB,EACVuqB,cAAUvqB,EACVwxB,aAASxxB,EACTmtB,OAAQ,MACRtB,UAAM7rB,EACNwB,UAAMxB,EACN8rB,UAAM9rB,GAGR,IAAK0uB,EAAiBa,SAASvf,EAAKkhB,iBAClC,MAAM,IAAIvhB,WACR,iCAAiCK,EAAKkhB,wCACZxC,EAAiB3lB,KAAK,UAIpD,IAAI0oB,EAEJ,GAAI3E,aAAmB0B,EACrBiD,EAAY3E,EACZmE,EAAUpB,KAAO/C,EAAQ4E,SACpB,CACL,IACED,EAAY,IAAIjD,EAAI1B,EACtB,CAAE,MAAOpa,GACP,MAAM,IAAIrC,YAAY,gBAAgByc,IACxC,CAEAmE,EAAUpB,KAAO/C,CACnB,CAEA,MAAM6E,EAAkC,SAAvBF,EAAUlH,SACrBqH,EAAkC,aAAvBH,EAAUlH,SAC3B,IAAIsH,EAWJ,GAT2B,QAAvBJ,EAAUlH,UAAuBoH,GAAaC,EAGvCA,IAAaH,EAAUK,SAChCD,EAAoB,8BACXJ,EAAU1Z,OACnB8Z,EAAoB,0CALpBA,EACE,kEAOAA,EAAmB,CACrB,MAAM5Q,EAAM,IAAI5Q,YAAYwhB,GAE5B,GAA6B,IAAzBZ,EAAU5B,WACZ,MAAMpO,EAGN,YADA8Q,EAAkBd,EAAWhQ,EAGjC,CAEA,MAAM+Q,EAAcL,EAAW,IAAM,GAC/B7Z,EAAMyW,EAAY,IAAIjX,SAAS,UAC/B2a,EAAUN,EAAWvD,EAAM6D,QAAUtH,EAAKsH,QAC1CC,EAAc,IAAIhpB,IACxB,IAAImf,EA+DAkD,EAnCJ,GA1BAvb,EAAKqhB,iBAAmBM,EAAWQ,EAAaC,EAChDpiB,EAAKgiB,YAAchiB,EAAKgiB,aAAeA,EACvChiB,EAAK8b,KAAO2F,EAAU3F,MAAQkG,EAC9BhiB,EAAK6b,KAAO4F,EAAUF,SAASc,WAAW,KACtCZ,EAAUF,SAAStgB,MAAM,GAAI,GAC7BwgB,EAAUF,SACdvhB,EAAKkb,QAAU,IACVlb,EAAKkb,QACR,wBAAyBlb,EAAKkhB,gBAC9B,oBAAqBpZ,EACrBsT,WAAY,UACZkH,QAAS,aAEXtiB,EAAKxO,KAAOiwB,EAAUK,SAAWL,EAAUc,OAC3CviB,EAAKwhB,QAAUxhB,EAAKwiB,iBAEhBxiB,EAAKqY,oBACPA,EAAoB,IAAI1E,GACK,IAA3B3T,EAAKqY,kBAA6BrY,EAAKqY,kBAAoB,CAAC,GAC5D,EACArY,EAAKoR,YAEPpR,EAAKkb,QAAQ,4BAA8B5U,EAAO,CAChD,CAACqN,EAAkBtE,eAAgBgJ,EAAkB3G,WAGrD4I,EAAU3f,OAAQ,CACpB,IAAK,MAAM4f,KAAYD,EAAW,CAChC,GACsB,iBAAbC,IACNqE,EAAiBhX,KAAK2S,IACvB2H,EAAY1H,IAAID,GAEhB,MAAM,IAAIla,YACR,sDAIJ6hB,EAAY9oB,IAAImhB,EAClB,CAEAva,EAAKkb,QAAQ,0BAA4BZ,EAAUvhB,KAAK,IAC1D,CAYA,GAXIiH,EAAKud,SACHvd,EAAKkhB,gBAAkB,GACzBlhB,EAAKkb,QAAQ,wBAA0Blb,EAAKud,OAE5Cvd,EAAKkb,QAAQuH,OAASziB,EAAKud,SAG3BkE,EAAUiB,UAAYjB,EAAUkB,YAClC3iB,EAAK4iB,KAAO,GAAGnB,EAAUiB,YAAYjB,EAAUkB,YAG7Cf,EAAU,CACZ,MAAMiB,EAAQ7iB,EAAKxO,KAAKjB,MAAM,KAE9ByP,EAAKshB,WAAauB,EAAM,GACxB7iB,EAAKxO,KAAOqxB,EAAM,EACpB,CAIA,GAAI7iB,EAAKmhB,gBAAiB,CACxB,GAA6B,IAAzBF,EAAU5B,WAAkB,CAC9B4B,EAAU6B,aAAelB,EACzBX,EAAU8B,gBAAkBpB,EAC5BV,EAAU+B,0BAA4BpB,EAClC5hB,EAAKshB,WACLG,EAAU5F,KAEd,MAAMX,EAAUhhB,GAAWA,EAAQghB,QAQnC,GAFAhhB,EAAU,IAAKA,EAASghB,QAAS,CAAC,GAE9BA,EACF,IAAK,MAAOpT,EAAKzY,KAAUH,OAAOuD,QAAQyoB,GACxChhB,EAAQghB,QAAQpT,EAAI3D,eAAiB9U,CAG3C,MAAO,GAA4C,IAAxC4xB,EAAU9H,cAAc,YAAmB,CACpD,MAAM8J,EAAarB,IACfX,EAAU6B,cACR9iB,EAAKshB,aAAeL,EAAU+B,2BAEhC/B,EAAU6B,cAEVrB,EAAU5F,OAASoF,EAAU+B,4BAE5BC,GAAehC,EAAU8B,kBAAoBpB,YAKzC3hB,EAAKkb,QAAQgI,qBACbljB,EAAKkb,QAAQiI,OAEfF,UAAmBjjB,EAAKkb,QAAQW,KAErC7b,EAAK4iB,UAAO5yB,EAEhB,CAOIgQ,EAAK4iB,OAAS1oB,EAAQghB,QAAQgI,gBAChChpB,EAAQghB,QAAQgI,cACd,SAAW3X,OAAOU,KAAKjM,EAAK4iB,MAAMtb,SAAS,WAG/CiU,EAAM0F,EAAUL,KAAOqB,EAAQjiB,GAE3BihB,EAAU5B,YAUZ4B,EAAUxqB,KAAK,WAAYwqB,EAAUhE,IAAK1B,EAE9C,MACEA,EAAM0F,EAAUL,KAAOqB,EAAQjiB,GAG7BA,EAAKwhB,SACPjG,EAAI1jB,GAAG,WAAW,KAChBojB,EAAegG,EAAW1F,EAAK,kCAAkC,IAIrEA,EAAI1jB,GAAG,SAAUoZ,IACH,OAARsK,GAAgBA,EAAIkD,KAExBlD,EAAM0F,EAAUL,KAAO,KACvBmB,EAAkBd,EAAWhQ,GAAI,IAGnCsK,EAAI1jB,GAAG,YAAaokB,IAClB,MAAMmH,EAAWnH,EAAIf,QAAQkI,SACvBrP,EAAakI,EAAIlI,WAEvB,GACEqP,GACApjB,EAAKmhB,iBACLpN,GAAc,KACdA,EAAa,IACb,CACA,KAAMkN,EAAU5B,WAAarf,EAAKohB,aAEhC,YADAnG,EAAegG,EAAW1F,EAAK,8BAMjC,IAAI8H,EAFJ9H,EAAI+H,QAIJ,IACED,EAAO,IAAI7E,EAAI4E,EAAUtG,EAC3B,CAAE,MAAOpa,GACP,MAAMuO,EAAM,IAAI5Q,YAAY,gBAAgB+iB,KAE5C,YADArB,EAAkBd,EAAWhQ,EAE/B,CAEAqO,EAAa2B,EAAWoC,EAAM/I,EAAWpgB,EAC3C,MAAY+mB,EAAUxqB,KAAK,sBAAuB8kB,EAAKU,IACrDhB,EACEgG,EACA1F,EACA,+BAA+BU,EAAIlI,aAEvC,IAGFwH,EAAI1jB,GAAG,WAAW,CAACokB,EAAKnF,EAAQ4F,KAO9B,GANAuE,EAAUxqB,KAAK,UAAWwlB,GAMtBgF,EAAUrH,aAAejP,EAAUuP,WAAY,OAInD,GAFAqB,EAAM0F,EAAUL,KAAO,KAEmB,cAAtC3E,EAAIf,QAAQuB,QAAQtY,cAEtB,YADA8W,EAAegG,EAAWnK,EAAQ,0BAIpC,MAAMkH,EAASpD,EAAW,QACvBmD,OAAOjW,EAAMyE,GACbyR,OAAO,UAEV,GAAI/B,EAAIf,QAAQ,0BAA4B8C,EAE1C,YADA/C,EAAegG,EAAWnK,EAAQ,uCAIpC,MAAMyM,EAAatH,EAAIf,QAAQ,0BAC/B,IAAIsI,EAYJ,QAVmBxzB,IAAfuzB,EACGrB,EAAYnF,KAELmF,EAAY1H,IAAI+I,KAC1BC,EAAY,sCAFZA,EAAY,mDAILtB,EAAYnF,OACrByG,EAAY,8BAGVA,EAEF,YADAvI,EAAegG,EAAWnK,EAAQ0M,GAIhCD,IAAYtC,EAAUhD,UAAYsF,GAEtC,MAAMlG,EAAyBpB,EAAIf,QAAQ,4BAE3C,QAA+BlrB,IAA3BqtB,EAAsC,CACxC,IAAKhF,EAKH,YADA4C,EAAegG,EAAWnK,EAFxB,gFAMJ,IAAInN,EAEJ,IACEA,EAAa5P,EAAMsjB,EACrB,CAAE,MAAOpM,GAGP,YADAgK,EAAegG,EAAWnK,EADV,0CAGlB,CAEA,MAAM2M,EAAiBv0B,OAAO2Y,KAAK8B,GAEnC,GAC4B,IAA1B8Z,EAAe9oB,QACf8oB,EAAe,KAAO9P,EAAkBtE,cAIxC,YADA4L,EAAegG,EAAWnK,EADV,wDAKlB,IACEuB,EAAkBlG,OAAOxI,EAAWgK,EAAkBtE,eACxD,CAAE,MAAO4B,GAGP,YADAgK,EAAegG,EAAWnK,EADV,0CAGlB,CAEAmK,EAAU7M,YAAYT,EAAkBtE,eACtCgJ,CACJ,CAEA4I,EAAU/C,UAAUpH,EAAQ4F,EAAM,CAChC3F,aAAc/W,EAAK+W,aACnB3F,WAAYpR,EAAKoR,WACjBkD,mBAAoBtU,EAAKsU,oBACzB,IAGJiH,EAAI5L,KACN,CASA,SAASoS,EAAkBd,EAAWhQ,GACpCgQ,EAAUhC,YAActU,EAAUkW,QAClCI,EAAUxqB,KAAK,QAASwa,GACxBgQ,EAAUpI,WACZ,CASA,SAASuJ,EAAWloB,GAElB,OADAA,EAAQ1I,KAAO0I,EAAQonB,WAChBjD,EAAIqF,QAAQxpB,EACrB,CASA,SAASioB,EAAWjoB,GAOlB,OANAA,EAAQ1I,UAAOxB,EAEVkK,EAAQypB,YAAqC,KAAvBzpB,EAAQypB,aACjCzpB,EAAQypB,WAAatF,EAAIuF,KAAK1pB,EAAQ2hB,MAAQ,GAAK3hB,EAAQ2hB,MAGtDyC,EAAIoF,QAAQxpB,EACrB,CAWA,SAAS+gB,EAAegG,EAAWnI,EAAQrT,GACzCwb,EAAUhC,YAActU,EAAUkW,QAElC,MAAM5P,EAAM,IAAIzgB,MAAMiV,GACtBjV,MAAMyjB,kBAAkBhD,EAAKgK,GAEzBnC,EAAO+K,WACT/K,EAAO2F,IAAY,EACnB3F,EAAOwK,QAEHxK,EAAOhC,SAAWgC,EAAOhC,OAAOyB,WAMlCO,EAAOhC,OAAOvgB,UAGhBnG,QAAQ0pB,SAASiI,EAAmBd,EAAWhQ,KAE/C6H,EAAOviB,QAAQ0a,GACf6H,EAAOhhB,KAAK,QAASmpB,EAAUxqB,KAAK3B,KAAKmsB,EAAW,UACpDnI,EAAOhhB,KAAK,QAASmpB,EAAUpI,UAAU/jB,KAAKmsB,IAElD,CAWA,SAASF,EAAeE,EAAWpV,EAAMyJ,GACvC,GAAIzJ,EAAM,CACR,MAAMlR,EAASiR,EAASC,GAAMlR,OAQ1BsmB,EAAU/J,QAAS+J,EAAU9B,QAAQ5K,gBAAkB5Z,EACtDsmB,EAAU7B,iBAAmBzkB,CACpC,CAEI2a,GAKFA,EAJY,IAAI9kB,MACd,qCAAqCywB,EAAUrH,eACzC+E,EAAYsC,EAAUrH,gBAIlC,CASA,SAASmG,EAAmBtS,EAAMC,GAChC,MAAMuT,EAAY1sB,KAAKqY,GAEvBqU,EAAU1S,qBAAsB,EAChC0S,EAAUnC,cAAgBpR,EAC1BuT,EAAUpC,WAAapR,OAEezd,IAAlCixB,EAAU/J,QAAQtK,KAEtBqU,EAAU/J,QAAQxI,eAAe,OAAQ8R,GACzCpwB,QAAQ0pB,SAASO,EAAQ4G,EAAU/J,SAEtB,OAATzJ,EAAewT,EAAUjgB,QACxBigB,EAAUjgB,MAAMyM,EAAMC,GAC7B,CAOA,SAASsS,IACP,MAAMiB,EAAY1sB,KAAKqY,GAElBqU,EAAU7G,UAAU6G,EAAU/J,QAAQmD,QAC7C,CAQA,SAAS4F,EAAgBhP,GACvB,MAAMgQ,EAAY1sB,KAAKqY,QAEe5c,IAAlCixB,EAAU/J,QAAQtK,KACpBqU,EAAU/J,QAAQxI,eAAe,OAAQ8R,GAMzCpwB,QAAQ0pB,SAASO,EAAQ4G,EAAU/J,SAEnC+J,EAAUjgB,MAAMiQ,EAAItE,KAGtBsU,EAAUxqB,KAAK,QAASwa,EAC1B,CAOA,SAAS6S,IACPvvB,KAAKqY,GAAYiM,WACnB,CASA,SAASqH,EAAkBrU,EAAMuC,GAC/B7Z,KAAKqY,GAAYnW,KAAK,UAAWoV,EAAMuC,EACzC,CAQA,SAAS+R,EAAetU,GACtB,MAAMoV,EAAY1sB,KAAKqY,GAEvBqU,EAAU9I,KAAKtM,GAAOoV,EAAU1P,UAAW1E,GAC3CoU,EAAUxqB,KAAK,OAAQoV,EACzB,CAQA,SAASuU,EAAevU,GACtBtX,KAAKqY,GAAYnW,KAAK,OAAQoV,EAChC,CAQA,SAASwO,EAAOvB,GACdA,EAAOuB,QACT,CAOA,SAASkG,IACP,MAAMU,EAAY1sB,KAAKqY,GAQvB,IAAIgE,EANJrc,KAAKma,eAAe,QAAS6R,GAC7BhsB,KAAKma,eAAe,OAAQ8R,GAC5BjsB,KAAKma,eAAe,MAAO+R,GAE3BQ,EAAUhC,YAActU,EAAUkW,QAc/BtsB,KAAK8e,eAAeC,YACpB2N,EAAU1S,qBACV0S,EAAU/B,UAAUlG,eAAe8H,cACG,QAAtClQ,EAAQqQ,EAAU/J,QAAQvlB,SAE3BsvB,EAAU/B,UAAU3W,MAAMqI,GAG5BqQ,EAAU/B,UAAUvP,MAEpBpb,KAAKqY,QAAc5c,EAEnB+zB,aAAa9C,EAAUlC,aAGrBkC,EAAU/B,UAAUlG,eAAeC,UACnCgI,EAAU/B,UAAUlG,eAAe8H,aAEnCG,EAAUpI,aAEVoI,EAAU/B,UAAUrnB,GAAG,QAASisB,GAChC7C,EAAU/B,UAAUrnB,GAAG,SAAUisB,GAErC,CAQA,SAAStD,EAAa5P,GACfrc,KAAKqY,GAAYsS,UAAU3W,MAAMqI,IACpCrc,KAAKmlB,OAET,CAOA,SAAS+G,IACP,MAAMQ,EAAY1sB,KAAKqY,GAEvBqU,EAAUhC,YAActU,EAAUkW,QAClCI,EAAU/B,UAAUvP,MACpBpb,KAAKob,KACP,CAOA,SAASqL,IACP,MAAMiG,EAAY1sB,KAAKqY,GAEvBrY,KAAKma,eAAe,QAASsM,GAC7BzmB,KAAKsD,GAAG,QAASgV,GAEboU,IACFA,EAAUhC,YAActU,EAAUkW,QAClCtsB,KAAKgC,UAET,CA3yBArH,OAAOC,eAAewb,EAAW,aAAc,CAC7C9D,YAAY,EACZxX,MAAOsvB,EAAYrd,QAAQ,gBAO7BpS,OAAOC,eAAewb,EAAU4C,UAAW,aAAc,CACvD1G,YAAY,EACZxX,MAAOsvB,EAAYrd,QAAQ,gBAO7BpS,OAAOC,eAAewb,EAAW,OAAQ,CACvC9D,YAAY,EACZxX,MAAOsvB,EAAYrd,QAAQ,UAO7BpS,OAAOC,eAAewb,EAAU4C,UAAW,OAAQ,CACjD1G,YAAY,EACZxX,MAAOsvB,EAAYrd,QAAQ,UAO7BpS,OAAOC,eAAewb,EAAW,UAAW,CAC1C9D,YAAY,EACZxX,MAAOsvB,EAAYrd,QAAQ,aAO7BpS,OAAOC,eAAewb,EAAU4C,UAAW,UAAW,CACpD1G,YAAY,EACZxX,MAAOsvB,EAAYrd,QAAQ,aAO7BpS,OAAOC,eAAewb,EAAW,SAAU,CACzC9D,YAAY,EACZxX,MAAOsvB,EAAYrd,QAAQ,YAO7BpS,OAAOC,eAAewb,EAAU4C,UAAW,SAAU,CACnD1G,YAAY,EACZxX,MAAOsvB,EAAYrd,QAAQ,YAG7B,CACE,aACA,iBACA,aACA,WACA,WACA,aACA,OACAD,SAAS2iB,IACT90B,OAAOC,eAAewb,EAAU4C,UAAWyW,EAAU,CAAEnd,YAAY,GAAO,IAO5E,CAAC,OAAQ,QAAS,QAAS,WAAWxF,SAAS8b,IAC7CjuB,OAAOC,eAAewb,EAAU4C,UAAW,KAAK4P,IAAU,CACxDtW,YAAY,EACZE,MACE,IAAK,MAAMkH,KAAY1Z,KAAK2Z,UAAUiP,GACpC,GAAIlP,EAASzB,GAAuB,OAAOyB,EAASvB,GAGtD,OAAO,IACT,EACA1F,IAAIgH,GACF,IAAK,MAAMC,KAAY1Z,KAAK2Z,UAAUiP,GACpC,GAAIlP,EAASzB,GAAuB,CAClCjY,KAAKma,eAAeyO,EAAQlP,GAC5B,KACF,CAGqB,mBAAZD,GAEXzZ,KAAKwZ,iBAAiBoP,EAAQnP,EAAS,CACrC,CAACxB,IAAuB,GAE5B,GACA,IAGJ7B,EAAU4C,UAAUQ,iBAAmBA,EACvCpD,EAAU4C,UAAUkB,oBAAsBA,EAE1ChV,EAAOrK,QAAUub,+BC7lBjB,IAAIsZ,EAAS,EAAQ,MACjBC,EAAmB,cAAsBC,QACzCC,EAAuC,UAA7B,mBAGVC,EAAY,MACZC,EAAY,kBACZC,EAAS,8BACTviB,EAAU,8BAQdvI,EAAOrK,QAAU,SAAoBma,EAAKvJ,GAC1B9Q,OAAOe,OAAO,CAAEu0B,iBAAiB,GAAQxkB,GAG3CwkB,iBAAmBJ,GAAW7a,EAAIjI,QAhBpC,KAgBqD,IAC7DiI,EAAMA,EAAIpG,QAAQkhB,EAjBV,MAqBNC,EAAU1c,KAAK2B,KACjBA,GAtBQ,KA0BVA,GAAO,IAGP,GACEA,EAAM2a,EAAiB3a,SAChB0a,EAAO1a,IAAQgb,EAAO3c,KAAK2B,IAGpC,OAAOA,EAAIpG,QAAQnB,EAAS,KAC9B,8BCxCA,MAAMyiB,EAAc,EAAQ,MACtBC,EAAiB,EAAQ,MACzBjvB,EAAU,EAAQ,MAClBC,EAAW,EAAQ,MACnBC,EAAS,EAAQ,MACjBvE,EAAa,EAAQ,MACrBc,EAAQ,EAAQ,MACtBhB,eAAeyzB,EAAStiB,EAAQnI,GAC5B0qB,EAAoBviB,GACpB,MAAMwiB,EAAQC,EAASziB,EAAQ5M,EAAQlE,QAAS2I,GAC1CnG,QAAewW,QAAQC,IAAIqa,GACjC,OAAO3yB,EAAM6yB,MAAM7lB,QAAQnL,EAC/B,CAwCA,SAAS+wB,EAASziB,EAAQ2iB,EAAW9qB,GACjC,MAAM+qB,EAAWP,EAAeQ,UAAU,GAAGvrB,OAAO0I,IAC9CxQ,EAAW,IAAIT,EAAWG,QAAQ2I,GAClCjH,EAAQwxB,EAAYU,SAASF,EAAUpzB,GACvCuzB,EAAW,IAAIJ,EAAUnzB,GAC/B,OAAOoB,EAAMP,IAAI0yB,EAASzzB,KAAMyzB,EACpC,CACA,SAASR,EAAoB3qB,GAGzB,IAFe,GAAGN,OAAOM,GACIorB,OAAOntB,GAAShG,EAAMozB,OAAOC,SAASrtB,KAAUhG,EAAMozB,OAAOE,QAAQttB,KAE9F,MAAM,IAAI6H,UAAU,+DAE5B,EAlDA,SAAW4kB,GAMPA,EAASxzB,KALT,SAAckR,EAAQnI,GAClB0qB,EAAoBviB,GACpB,MAAMwiB,EAAQC,EAASziB,EAAQ1M,EAAOpE,QAAS2I,GAC/C,OAAOhI,EAAM6yB,MAAM7lB,QAAQ2lB,EAC/B,EAYAF,EAAS7L,OAVT,SAAgBzW,EAAQnI,GACpB0qB,EAAoBviB,GACpB,MAAMwiB,EAAQC,EAASziB,EAAQ3M,EAASnE,QAAS2I,GAMjD,OAAOhI,EAAM4mB,OAAOvB,MAAMsN,EAC9B,EAQAF,EAASc,cANT,SAAuBpjB,EAAQnI,GAC3B0qB,EAAoBviB,GACpB,MAAM4iB,EAAWP,EAAeQ,UAAU,GAAGvrB,OAAO0I,IAC9CxQ,EAAW,IAAIT,EAAWG,QAAQ2I,GACxC,OAAOuqB,EAAYU,SAASF,EAAUpzB,EAC1C,EAOA8yB,EAASe,iBALT,SAA0BrjB,EAAQnI,GAC9B0qB,EAAoBviB,GACpB,MAAMxQ,EAAW,IAAIT,EAAWG,QAAQ2I,GACxC,OAAOhI,EAAMoI,QAAQorB,iBAAiBrjB,EAAQxQ,EAClD,EAMA8yB,EAASgB,WAJT,SAAoBtjB,GAEhB,OADAuiB,EAAoBviB,GACbnQ,EAAMV,KAAKo0B,OAAOvjB,EAC7B,CAEH,CApCD,CAoCGsiB,IAAaA,EAAW,CAAC,IAe5BlrB,EAAOrK,QAAUu1B,6BClEjBz1B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQy2B,uBAAyBz2B,EAAQ81B,eAAY,EAMrD,MAAMY,EAAkB,eASxB,SAASD,EAAuBvrB,GAC5B,OAAOA,EAAQ6I,QAAQ2iB,EAAiB,IAC5C,CAPA12B,EAAQ81B,UAHR,SAAmBD,GACf,OAAOA,EAASvyB,KAAK4H,GAAYurB,EAAuBvrB,IAC5D,EASAlL,EAAQy2B,uBAAyBA,+BCnBjC32B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ22B,0BAA4B32B,EAAQ42B,4BAA8B52B,EAAQ62B,6BAA+B72B,EAAQ82B,8BAAgC92B,EAAQ+2B,oBAAsB/2B,EAAQg3B,uBAAyBh3B,EAAQ+1B,cAAW,EAC3O,MAAMjzB,EAAQ,EAAQ,MAiBtB,SAASk0B,EAAuBC,EAAUC,EAAUC,GAChD,MAAMtzB,EAAQ,GACRuzB,EAAkCt0B,EAAMoI,QAAQmsB,mCAAmCJ,GACnFK,EAAiCx0B,EAAMoI,QAAQqsB,kCAAkCN,GACjFO,EAA+BX,EAA6BO,GAC5DK,EAA8BZ,EAA6BS,GAYjE,OAXAzzB,EAAMiD,QAAQ8vB,EAA4BY,EAA8BN,EAAUC,IAK9E,MAAOM,EACP5zB,EAAMiD,KAAK6vB,EAA0B,IAAKW,EAAgCJ,EAAUC,IAGpFtzB,EAAMiD,QAAQ8vB,EAA4Ba,EAA6BP,EAAUC,IAE9EtzB,CACX,CAEA,SAASkzB,EAAoBlB,GACzB,OAAO/yB,EAAMoI,QAAQ6rB,oBAAoBlB,EAC7C,CAEA,SAASiB,EAA8BjB,EAAU6B,GAG7C,OAFiB50B,EAAMoI,QAAQysB,oBAAoB9B,GAAUtrB,OAAOmtB,GAC1Cp0B,IAAIR,EAAMoI,QAAQ0sB,yBAEhD,CAEA,SAASf,EAA6BhB,GAElC,OAAOA,EAASrpB,QAAO,CAACqrB,EAAY3sB,KAChC,MAAMvC,EAAO7F,EAAMoI,QAAQ4sB,iBAAiB5sB,GAO5C,OANIvC,KAAQkvB,EACRA,EAAWlvB,GAAM7B,KAAKoE,GAGtB2sB,EAAWlvB,GAAQ,CAACuC,GAEjB2sB,CAAU,GATP,CAAC,EAWnB,CAEA,SAASjB,EAA4BK,EAAUC,EAAUC,GACrD,OAAOr3B,OAAO2Y,KAAKwe,GAAU3zB,KAAKqF,GACvBguB,EAA0BhuB,EAAMsuB,EAAStuB,GAAOuuB,EAAUC,IAEzE,CAEA,SAASR,EAA0BhuB,EAAMsuB,EAAUC,EAAUC,GACzD,MAAO,CACHA,UACAF,WACAC,WACAvuB,OACAktB,SAAU,GAAGtrB,OAAO0sB,EAAUC,EAAS5zB,IAAIR,EAAMoI,QAAQ6sB,2BAEjE,CAjEA/3B,EAAQ+1B,SATR,SAAkBF,EAAUpzB,GACxB,MAAMu1B,EAAmBjB,EAAoBlB,GACvCoC,EAAmBnB,EAA8BjB,EAAUpzB,EAASi1B,QACpEQ,EAAiBF,EAAiBvuB,QAAQyB,GAAYpI,EAAMoI,QAAQitB,gBAAgBjtB,EAASzI,KAC7F21B,EAAkBJ,EAAiBvuB,QAAQyB,GAAYpI,EAAMoI,QAAQorB,iBAAiBprB,EAASzI,KAC/F41B,EAAcrB,EAAuBkB,EAAgBD,GAAgC,GACrFK,EAAetB,EAAuBoB,EAAiBH,GAAgC,GAC7F,OAAOI,EAAY9tB,OAAO+tB,EAC9B,EA2BAt4B,EAAQg3B,uBAAyBA,EAIjCh3B,EAAQ+2B,oBAAsBA,EAM9B/2B,EAAQ82B,8BAAgCA,EAcxC92B,EAAQ62B,6BAA+BA,EAMvC72B,EAAQ42B,4BAA8BA,EAUtC52B,EAAQ22B,0BAA4BA,+BC9EpC72B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMoG,EAAU,EAAQ,MAClBkyB,EAAa,EAAQ,MAC3B,MAAMC,UAAsBD,EAAWp2B,QACnC8C,cACI0C,SAASkC,WACT1E,KAAKuB,QAAU,IAAIL,EAAQlE,QAAQgD,KAAKsB,UAC5C,CACA3E,WAAW22B,GACP,MAAMC,EAAOvzB,KAAKwzB,kBAAkBF,GAC9B3tB,EAAU3F,KAAKyzB,kBAAkBH,GAEvC,aADsBtzB,KAAK0zB,IAAIH,EAAMD,EAAM3tB,IAC5BxH,KAAKQ,GAAUgH,EAAQgrB,UAAUhyB,IACpD,CACA+0B,IAAIH,EAAMD,EAAM3tB,GACZ,OAAI2tB,EAAKtB,QACEhyB,KAAKuB,QAAQywB,QAAQuB,EAAM5tB,GAE/B3F,KAAKuB,QAAQuhB,OAAOwQ,EAAK5C,SAAU/qB,EAC9C,EAEJ9K,EAAA,QAAkBw4B,+BCrBlB14B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM6C,EAAQ,EAAQ,MAChBg2B,EAAY,EAAQ,MA0D1B94B,EAAA,QAzDA,MACIiF,YAAYwB,EAAWsyB,GACnB5zB,KAAKsB,UAAYA,EACjBtB,KAAK4zB,mBAAqBA,CAC9B,CACAC,UAAUzwB,EAAU0uB,EAAUC,GAC1B,MAAM+B,EAAU9zB,KAAK+zB,YAAYjC,GAC3BkC,EAAah0B,KAAKi0B,uBAAuBlC,GAC/C,OAAQpzB,GAAUqB,KAAKk0B,QAAQ9wB,EAAUzE,EAAOm1B,EAASE,EAC7D,CACAD,YAAYrD,GACR,OAAO,IAAIiD,EAAU32B,QAAQ0zB,EAAU1wB,KAAKsB,UAAWtB,KAAK4zB,mBAChE,CACAK,uBAAuBvD,GACnB,MAAMyD,EAA+BzD,EAASpsB,OAAO3G,EAAMoI,QAAQquB,+BACnE,OAAOz2B,EAAMoI,QAAQsuB,oBAAoBF,EAA8Bn0B,KAAK4zB,mBAChF,CACAM,QAAQ9wB,EAAUzE,EAAOm1B,EAASE,GAC9B,GAAIh0B,KAAKs0B,iBAAiBlxB,EAAUzE,EAAM1B,MACtC,OAAO,EAEX,GAAI+C,KAAKu0B,uBAAuB51B,GAC5B,OAAO,EAEX,MAAM4F,EAAW5G,EAAMV,KAAKu3B,wBAAwB71B,EAAM1B,MAC1D,OAAI+C,KAAKy0B,6BAA6BlwB,EAAUuvB,IAGzC9zB,KAAK00B,6BAA6BnwB,EAAUyvB,EACvD,CACAM,iBAAiBlxB,EAAUvD,GAIvB,OAAIG,KAAKsB,UAAUqzB,OAASlZ,KAGrBzb,KAAK40B,eAAexxB,EAAUvD,IAAcG,KAAKsB,UAAUqzB,IACtE,CACAC,eAAexxB,EAAUvD,GACrB,MAAMg1B,EAAiBh1B,EAAU7D,MAAM,KAAKoK,OAC5C,MAAiB,KAAbhD,EACOyxB,EAGJA,EADezxB,EAASpH,MAAM,KAAKoK,MAE9C,CACAmuB,uBAAuB51B,GACnB,OAAQqB,KAAKsB,UAAU9C,qBAAuBG,EAAMP,OAAOS,gBAC/D,CACA41B,6BAA6B50B,EAAWi0B,GACpC,OAAQ9zB,KAAKsB,UAAUwzB,gBAAkBhB,EAAQjlB,MAAMhP,EAC3D,CACA60B,6BAA6B70B,EAAWk1B,GACpC,OAAQp3B,EAAMoI,QAAQivB,SAASn1B,EAAWk1B,EAC9C,gCC1DJp6B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM6C,EAAQ,EAAQ,MA6DtB9C,EAAA,QA5DA,MACIiF,YAAYwB,EAAWsyB,GACnB5zB,KAAKsB,UAAYA,EACjBtB,KAAK4zB,mBAAqBA,EAC1B5zB,KAAKiM,MAAQ,IAAIgpB,GACrB,CACApB,UAAU/B,EAAUC,GAChB,MAAMmD,EAAav3B,EAAMoI,QAAQsuB,oBAAoBvC,EAAU9xB,KAAK4zB,oBAC9DI,EAAar2B,EAAMoI,QAAQsuB,oBAAoBtC,EAAU/xB,KAAK4zB,oBACpE,OAAQj1B,GAAUqB,KAAKk0B,QAAQv1B,EAAOu2B,EAAYlB,EACtD,CACAE,QAAQv1B,EAAOu2B,EAAYlB,GACvB,GAAIh0B,KAAKsB,UAAU6zB,QAAUn1B,KAAKo1B,kBAAkBz2B,GAChD,OAAO,EAEX,GAAIqB,KAAKq1B,gBAAgB12B,IAAUqB,KAAKs1B,qBAAqB32B,GACzD,OAAO,EAEX,GAAIqB,KAAKu1B,qCAAqC52B,EAAM1B,KAAM+2B,GACtD,OAAO,EAEX,MAAMzvB,EAAWvE,KAAKsB,UAAUwzB,cAAgBn2B,EAAMN,KAAOM,EAAM1B,KAC7DwD,EAAc9B,EAAMP,OAAOqC,cAC3B+0B,EAAYx1B,KAAKy1B,mBAAmBlxB,EAAU2wB,EAAYz0B,KAAiBT,KAAKy1B,mBAAmB92B,EAAM1B,KAAM+2B,EAAYvzB,GAIjI,OAHIT,KAAKsB,UAAU6zB,QAAUK,GACzBx1B,KAAK01B,mBAAmB/2B,GAErB62B,CACX,CACAJ,kBAAkBz2B,GACd,OAAOqB,KAAKiM,MAAMga,IAAItnB,EAAM1B,KAChC,CACAy4B,mBAAmB/2B,GACfqB,KAAKiM,MAAMwG,IAAI9T,EAAM1B,UAAMxB,EAC/B,CACA45B,gBAAgB12B,GACZ,OAAOqB,KAAKsB,UAAUq0B,YAAch3B,EAAMP,OAAOuC,QACrD,CACA20B,qBAAqB32B,GACjB,OAAOqB,KAAKsB,UAAUs0B,kBAAoBj3B,EAAMP,OAAOqC,aAC3D,CACA80B,qCAAqC11B,EAAWk1B,GAC5C,IAAK/0B,KAAKsB,UAAUu0B,SAChB,OAAO,EAEX,MAAM9xB,EAAWpG,EAAMV,KAAK64B,aAAa91B,KAAKsB,UAAUgU,IAAKzV,GAC7D,OAAOlC,EAAMoI,QAAQivB,SAASjxB,EAAUgxB,EAC5C,CACAU,mBAAmB51B,EAAWk1B,EAAYt0B,GACtC,MAAM8D,EAAW5G,EAAMV,KAAKu3B,wBAAwB30B,GAE9C21B,EAAY73B,EAAMoI,QAAQivB,SAASzwB,EAAUwwB,GAGnD,OAAKS,GAAa/0B,EACP9C,EAAMoI,QAAQivB,SAASzwB,EAAW,IAAKwwB,GAE3CS,CACX,gCC5DJ76B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM6C,EAAQ,EAAQ,MAYtB9C,EAAA,QAXA,MACIiF,YAAYwB,GACRtB,KAAKsB,UAAYA,CACrB,CACAuyB,YACI,OAAQt0B,GAAUS,KAAK+1B,iBAAiBx2B,EAC5C,CACAw2B,iBAAiBx2B,GACb,OAAO5B,EAAMq4B,MAAMC,kBAAkB12B,IAAUS,KAAKsB,UAAU40B,cAClE,+BCXJv7B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM6C,EAAQ,EAAQ,MA+CtB9C,EAAA,QA9CA,MACIiF,YAAYq2B,EAAW70B,EAAWsyB,GAC9B5zB,KAAKm2B,UAAYA,EACjBn2B,KAAKsB,UAAYA,EACjBtB,KAAK4zB,mBAAqBA,EAC1B5zB,KAAKwB,SAAW,GAChBxB,KAAKo2B,cACT,CACAA,eAKI,MAAM1F,EAAW/yB,EAAMoI,QAAQswB,iCAAiCr2B,KAAKm2B,WACrE,IAAK,MAAMpwB,KAAW2qB,EAAU,CAC5B,MAAM4F,EAAWt2B,KAAKu2B,oBAAoBxwB,GACpCywB,EAAWx2B,KAAKy2B,2BAA2BH,GACjDt2B,KAAKwB,SAASG,KAAK,CACf+0B,SAAUF,EAASpwB,QAAU,EAC7BL,UACAuwB,WACAE,YAER,CACJ,CACAD,oBAAoBxwB,GAEhB,OADcpI,EAAMoI,QAAQ4wB,gBAAgB5wB,EAAS/F,KAAK4zB,oBAC7Cz1B,KAAKy4B,GACEj5B,EAAMoI,QAAQorB,iBAAiByF,EAAM52B,KAAKsB,WAOnD,CACH0wB,SAAS,EACTjsB,QAAS6wB,EACTC,UAAWl5B,EAAMoI,QAAQ+wB,OAAOF,EAAM52B,KAAK4zB,qBARpC,CACH5B,SAAS,EACTjsB,QAAS6wB,IASzB,CACAH,2BAA2BH,GACvB,OAAO34B,EAAM6yB,MAAMuG,UAAUT,GAAWU,GAAYA,EAAQhF,SAAWr0B,EAAMoI,QAAQkxB,YAAYD,EAAQjxB,UAC7G,gCC9CJpL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMo8B,EAAY,EAAQ,KAC1B,MAAMC,UAAuBD,EAAUl6B,QACnC6R,MAAMtK,GACF,MAAM+pB,EAAQ/pB,EAASvI,MAAM,KACvBo7B,EAAS9I,EAAMloB,OACfsqB,EAAW1wB,KAAKwB,SAAS8C,QAAQykB,IAAUA,EAAK2N,UAAY3N,EAAKuN,SAASlwB,OAASgxB,IACzF,IAAK,MAAMrxB,KAAW2qB,EAAU,CAC5B,MAAM2G,EAAUtxB,EAAQywB,SAAS,GAQjC,IAAKzwB,EAAQ2wB,UAAYU,EAASC,EAAQjxB,OACtC,OAAO,EAYX,GAVckoB,EAAMwC,OAAM,CAAC8F,EAAM3qB,KAC7B,MAAM+qB,EAAUjxB,EAAQuwB,SAASrqB,GACjC,SAAI+qB,EAAQhF,UAAWgF,EAAQH,UAAUxjB,KAAKujB,MAGzCI,EAAQhF,SAAWgF,EAAQjxB,UAAY6wB,CAGhC,IAGZ,OAAO,CAEf,CACA,OAAO,CACX,EAEJ/7B,EAAA,QAAkBs8B,+BCpClBx8B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmC,EAAO,EAAQ,MACfq6B,EAAS,EAAQ,MACjBC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAyCxB58B,EAAA,QAxCA,MACIiF,YAAYwB,GACRtB,KAAKsB,UAAYA,EACjBtB,KAAKqE,YAAc,IAAImzB,EAAQx6B,QAAQgD,KAAKsB,WAC5CtB,KAAKiE,YAAc,IAAIszB,EAAQv6B,QAAQgD,KAAKsB,UAAWtB,KAAK03B,yBAC5D13B,KAAKmE,WAAa,IAAImzB,EAAOt6B,QAAQgD,KAAKsB,UAAWtB,KAAK03B,yBAC1D13B,KAAK23B,iBAAmB,IAAIF,EAAQz6B,QAAQgD,KAAKsB,UACrD,CACAkyB,kBAAkBF,GACd,OAAOr2B,EAAK26B,QAAQ53B,KAAKsB,UAAUgU,IAAKge,EAAK9vB,KACjD,CACAiwB,kBAAkBH,GACd,MAAMlwB,EAAyB,MAAdkwB,EAAK9vB,KAAe,GAAK8vB,EAAK9vB,KAC/C,MAAO,CACHJ,WACA7E,qBAAsB,IACtBuE,YAAa9C,KAAKsB,UAAUwB,YAC5BqB,WAAYnE,KAAKmE,WAAW0vB,UAAUzwB,EAAUkwB,EAAKxB,SAAUwB,EAAKvB,UACpE9tB,YAAajE,KAAKiE,YAAY4vB,UAAUP,EAAKxB,SAAUwB,EAAKvB,UAC5D1tB,YAAarE,KAAKqE,YAAYwvB,YAC9Br1B,oBAAqBwB,KAAKsB,UAAU9C,oBACpCvD,GAAI+E,KAAKsB,UAAUrG,GACnB8D,MAAOiB,KAAKsB,UAAUvC,MACtBC,+BAAgCgB,KAAKsB,UAAUtC,+BAC/C2xB,UAAW3wB,KAAK23B,iBAAiBE,iBAEzC,CACAH,wBACI,MAAO,CACHI,IAAK93B,KAAKsB,UAAUw2B,IACpBC,UAAW/3B,KAAKsB,UAAUwzB,cAC1BkD,SAAUh4B,KAAKsB,UAAU22B,eACzBC,QAASl4B,KAAKsB,UAAU62B,mBACxBC,OAAQp4B,KAAKsB,UAAU+2B,QACvBC,YAAat4B,KAAKsB,UAAUi3B,SAC5B3iB,OAAO,EACP4iB,eAAe,EAEvB,gCC5CJ79B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMqG,EAAW,EAAQ,MACnBs3B,EAAW,EAAQ,MACnBrF,EAAa,EAAQ,MAC3B,MAAMsF,UAAuBtF,EAAWp2B,QACpC8C,cACI0C,SAASkC,WACT1E,KAAKuB,QAAU,IAAIk3B,EAASz7B,QAAQgD,KAAKsB,UAC7C,CACAlE,KAAKk2B,GACD,MAAMC,EAAOvzB,KAAKwzB,kBAAkBF,GAC9B3tB,EAAU3F,KAAKyzB,kBAAkBH,GACjCxlB,EAAS9N,KAAK0zB,IAAIH,EAAMD,EAAM3tB,GAC9BgzB,EAAc,IAAIx3B,EAASW,SAAS,CAAEC,YAAY,EAAM3E,KAAM,SAOpE,OANA0Q,EACKvK,KAAK,SAAUhE,GAAUo5B,EAAYz2B,KAAK,QAAS3C,KACnD+D,GAAG,QAAS3E,GAAUg6B,EAAYz2B,KAAK,OAAQyD,EAAQgrB,UAAUhyB,MACjE4E,KAAK,OAAO,IAAMo1B,EAAYz2B,KAAK,SACxCy2B,EACKp1B,KAAK,SAAS,IAAMuK,EAAO9L,YACzB22B,CACX,CACAjF,IAAIH,EAAMD,EAAM3tB,GACZ,OAAI2tB,EAAKtB,QACEhyB,KAAKuB,QAAQywB,QAAQuB,EAAM5tB,GAE/B3F,KAAKuB,QAAQuhB,OAAOwQ,EAAK5C,SAAU/qB,EAC9C,EAEJ9K,EAAA,QAAkB69B,+BC7BlB/9B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMsG,EAAS,EAAQ,MACjBgyB,EAAa,EAAQ,MAC3B,MAAMwF,UAAqBxF,EAAWp2B,QAClC8C,cACI0C,SAASkC,WACT1E,KAAKuB,QAAU,IAAIH,EAAOpE,QAAQgD,KAAKsB,UAC3C,CACAlE,KAAKk2B,GACD,MAAMC,EAAOvzB,KAAKwzB,kBAAkBF,GAC9B3tB,EAAU3F,KAAKyzB,kBAAkBH,GAEvC,OADgBtzB,KAAK0zB,IAAIH,EAAMD,EAAM3tB,GACtBxH,IAAIwH,EAAQgrB,UAC/B,CACA+C,IAAIH,EAAMD,EAAM3tB,GACZ,OAAI2tB,EAAKtB,QACEhyB,KAAKuB,QAAQywB,QAAQuB,EAAM5tB,GAE/B3F,KAAKuB,QAAQuhB,OAAOwQ,EAAK5C,SAAU/qB,EAC9C,EAEJ9K,EAAA,QAAkB+9B,+BCrBlBj+B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM6C,EAAQ,EAAQ,MAuBtB9C,EAAA,QAtBA,MACIiF,YAAYwB,GACRtB,KAAKsB,UAAYA,CACrB,CACAu2B,iBACI,OAAQl5B,GAAUqB,KAAK64B,WAAWl6B,EACtC,CACAk6B,WAAWl6B,GACP,IAAI4F,EAAW5F,EAAM1B,KAQrB,OAPI+C,KAAKsB,UAAUu0B,WACftxB,EAAW5G,EAAMV,KAAK64B,aAAa91B,KAAKsB,UAAUgU,IAAK/Q,GACvDA,EAAW5G,EAAMV,KAAK67B,QAAQv0B,IAE9BvE,KAAKsB,UAAUy3B,iBAAmBp6B,EAAMP,OAAOqC,gBAC/C8D,GAAY,KAEXvE,KAAKsB,UAAUS,WAGbpH,OAAOe,OAAOf,OAAOe,OAAO,CAAC,EAAGiD,GAAQ,CAAE1B,KAAMsH,IAF5CA,CAGf,gCCtBJ5J,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMk+B,EAAS,EAAQ,MACjB12B,EAAW,EAAQ,MACnBnB,EAAW,EAAQ,MACzB,MAAM83B,UAAoB32B,EAAStF,QAC/B8C,cACI0C,SAASkC,WACT1E,KAAKk5B,WAAaF,EAAO/3B,KACzBjB,KAAKm5B,cAAgB,IAAIh4B,EAASnE,QAAQgD,KAAKsB,UACnD,CACA0wB,QAAQuB,EAAM5tB,GACV,OAAO,IAAIqQ,SAAQ,CAAC4hB,EAASwB,KACzBp5B,KAAKk5B,WAAW3F,EAAM5tB,GAAS,CAACpG,EAAOrB,KACrB,OAAVqB,EACAq4B,EAAQ15B,GAGRk7B,EAAO75B,EACX,GACF,GAEV,CACA5C,aAAa+zB,EAAU/qB,GACnB,MAAMzH,EAAU,GACVqmB,EAASvkB,KAAKm5B,cAAcrW,OAAO4N,EAAU/qB,GAEnD,OAAO,IAAIqQ,SAAQ,CAAC4hB,EAASwB,KACzB7U,EAAOhhB,KAAK,QAAS61B,GACrB7U,EAAOjhB,GAAG,QAAS3E,GAAUT,EAAQyD,KAAKhD,KAC1C4lB,EAAOhhB,KAAK,OAAO,IAAMq0B,EAAQ15B,IAAS,GAElD,EAEJrD,EAAA,QAAkBo+B,+BCjClBt+B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmC,EAAO,EAAQ,MACfO,EAAS,EAAQ,MACjBG,EAAQ,EAAQ,MA4BtB9C,EAAA,QA3BA,MACIiF,YAAYwB,GACRtB,KAAKsB,UAAYA,EACjBtB,KAAKq5B,gBAAkB,IAAI77B,EAAOhB,SAAS,CACvC2D,mBAAoBH,KAAKsB,UAAU9C,oBACnCvD,GAAI+E,KAAKsB,UAAUrG,GACnB+D,+BAAgCgB,KAAKsB,UAAU9C,qBAEvD,CACA86B,kBAAkB/0B,GACd,OAAOtH,EAAK26B,QAAQ53B,KAAKsB,UAAUgU,IAAK/Q,EAC5C,CACAg1B,WAAWx6B,EAAOgH,GACd,MAAMpH,EAAQ,CACVN,KAAM0H,EACN9I,KAAM8I,EACN3H,OAAQT,EAAM1C,GAAGgE,sBAAsB8G,EAAShH,IAKpD,OAHIiB,KAAKsB,UAAUvC,QACfJ,EAAMI,MAAQA,GAEXJ,CACX,CACAoE,cAAcxD,GACV,OAAQ5B,EAAMq4B,MAAMC,kBAAkB12B,KAAWS,KAAKsB,UAAU40B,cACpE,gCC7BJv7B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMqG,EAAW,EAAQ,MACnB3D,EAAS,EAAQ,MACjBw7B,EAAS,EAAQ,MACjB12B,EAAW,EAAQ,MACzB,MAAMk3B,UAAqBl3B,EAAStF,QAChC8C,cACI0C,SAASkC,WACT1E,KAAKy5B,YAAcT,EAAOj4B,WAC1Bf,KAAK05B,MAAQl8B,EAAOrC,IACxB,CACA62B,QAAQuB,EAAM5tB,GACV,OAAO3F,KAAKy5B,YAAYlG,EAAM5tB,EAClC,CACAmd,OAAO4N,EAAU/qB,GACb,MAAMg0B,EAAYjJ,EAASvyB,IAAI6B,KAAKs5B,kBAAmBt5B,MACjDukB,EAAS,IAAIpjB,EAASy4B,YAAY,CAAE73B,YAAY,IACtDwiB,EAAO1D,OAAS,CAAC5U,EAAO4tB,EAAMj7B,IACnBoB,KAAK85B,UAAUH,EAAU1tB,GAAQykB,EAASzkB,GAAQtG,GACpDo0B,MAAMp7B,IACO,OAAVA,GAAkBgH,EAAQ1B,YAAYtF,IACtC4lB,EAAO5iB,KAAKhD,GAEZsN,IAAU0tB,EAAUvzB,OAAS,GAC7Bme,EAAOnJ,MAEXxc,GAAM,IAELo7B,MAAMp7B,GAEf,IAAK,IAAI2M,EAAI,EAAGA,EAAIouB,EAAUvzB,OAAQmF,IAClCgZ,EAAOvQ,MAAMzI,GAEjB,OAAOgZ,CACX,CACAuV,UAAUv1B,EAAUwB,EAASJ,GACzB,OAAO3F,KAAKi6B,SAAS11B,GAChBw1B,MAAMh7B,GAAUiB,KAAKu5B,WAAWx6B,EAAOgH,KACvCi0B,OAAOz6B,IACR,GAAIoG,EAAQtB,YAAY9E,GACpB,OAAO,KAEX,MAAMA,CAAK,GAEnB,CACA06B,SAAS11B,GACL,OAAO,IAAIyR,SAAQ,CAAC4hB,EAASwB,KACzBp5B,KAAK05B,MAAMn1B,EAAUvE,KAAKq5B,iBAAiB,CAAC95B,EAAOR,IAC9B,OAAVQ,EAAiBq4B,EAAQ74B,GAASq6B,EAAO75B,IAClD,GAEV,EAEJ1E,EAAA,QAAkB2+B,+BCrDlB7+B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM0C,EAAS,EAAQ,MACjBw7B,EAAS,EAAQ,MACjB12B,EAAW,EAAQ,MACzB,MAAM43B,UAAmB53B,EAAStF,QAC9B8C,cACI0C,SAASkC,WACT1E,KAAKm6B,UAAYnB,EAAOh4B,SACxBhB,KAAKo6B,UAAY58B,EAAOnC,QAC5B,CACA22B,QAAQuB,EAAM5tB,GACV,OAAO3F,KAAKm6B,UAAU5G,EAAM5tB,EAChC,CACAmd,OAAO4N,EAAU/qB,GACb,MAAMzH,EAAU,GAChB,IAAK,MAAM6H,KAAW2qB,EAAU,CAC5B,MAAMnsB,EAAWvE,KAAKs5B,kBAAkBvzB,GAClCpH,EAAQqB,KAAK85B,UAAUv1B,EAAUwB,EAASJ,GAClC,OAAVhH,GAAmBgH,EAAQ1B,YAAYtF,IAG3CT,EAAQyD,KAAKhD,EACjB,CACA,OAAOT,CACX,CACA47B,UAAUv1B,EAAUwB,EAASJ,GACzB,IACI,MAAM5G,EAAQiB,KAAKi6B,SAAS11B,GAC5B,OAAOvE,KAAKu5B,WAAWx6B,EAAOgH,EAClC,CACA,MAAOxG,GACH,GAAIoG,EAAQtB,YAAY9E,GACpB,OAAO,KAEX,MAAMA,CACV,CACJ,CACA06B,SAAS11B,GACL,OAAOvE,KAAKo6B,UAAU71B,EAAUvE,KAAKq5B,gBACzC,EAEJx+B,EAAA,QAAkBq/B,+BCzClBv/B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQw/B,iCAA8B,EACtC,MAAMp/B,EAAK,EAAQ,MACbq/B,EAAK,EAAQ,MAKbC,EAAY3uB,KAAKF,IAAI4uB,EAAGE,OAAOp0B,OAAQ,GAC7CvL,EAAQw/B,4BAA8B,CAClCn/B,MAAOD,EAAGC,MACVE,UAAWH,EAAGG,UACdD,KAAMF,EAAGE,KACTE,SAAUJ,EAAGI,SACbC,QAASL,EAAGK,QACZC,YAAaN,EAAGM,aAwCpBV,EAAA,QAtCA,MACIiF,YAAYC,EAAW,CAAC,GACpBC,KAAKD,SAAWA,EAChBC,KAAK61B,SAAW71B,KAAKC,UAAUD,KAAKD,SAAS81B,UAAU,GACvD71B,KAAK80B,cAAgB90B,KAAKC,UAAUD,KAAKD,SAAS+0B,eAAe,GACjE90B,KAAKi4B,eAAiBj4B,KAAKC,UAAUD,KAAKD,SAASk4B,gBAAgB,GACnEj4B,KAAKm4B,mBAAqBn4B,KAAKC,UAAUD,KAAKD,SAASo4B,oBAAoB,GAC3En4B,KAAK8C,YAAc9C,KAAKC,UAAUD,KAAKD,SAAS+C,YAAay3B,GAC7Dv6B,KAAKsV,IAAMtV,KAAKC,UAAUD,KAAKD,SAASuV,IAAKzZ,QAAQyZ,OACrDtV,KAAK20B,KAAO30B,KAAKC,UAAUD,KAAKD,SAAS40B,KAAMlZ,KAC/Czb,KAAK83B,IAAM93B,KAAKC,UAAUD,KAAKD,SAAS+3B,KAAK,GAC7C93B,KAAKq4B,QAAUr4B,KAAKC,UAAUD,KAAKD,SAASs4B,SAAS,GACrDr4B,KAAKxB,oBAAsBwB,KAAKC,UAAUD,KAAKD,SAASvB,qBAAqB,GAC7EwB,KAAK/E,GAAK+E,KAAKy6B,sBAAsBz6B,KAAKD,SAAS9E,IACnD+E,KAAKu4B,SAAWv4B,KAAKC,UAAUD,KAAKD,SAASw4B,UAAU,GACvDv4B,KAAKuyB,OAASvyB,KAAKC,UAAUD,KAAKD,SAASwyB,OAAQ,IACnDvyB,KAAK+4B,gBAAkB/4B,KAAKC,UAAUD,KAAKD,SAASg5B,iBAAiB,GACrE/4B,KAAK+B,WAAa/B,KAAKC,UAAUD,KAAKD,SAASgC,YAAY,GAC3D/B,KAAK41B,gBAAkB51B,KAAKC,UAAUD,KAAKD,SAAS61B,iBAAiB,GACrE51B,KAAK21B,UAAY31B,KAAKC,UAAUD,KAAKD,SAAS41B,WAAW,GACzD31B,KAAKjB,MAAQiB,KAAKC,UAAUD,KAAKD,SAAShB,OAAO,GACjDiB,KAAKk2B,eAAiBl2B,KAAKC,UAAUD,KAAKD,SAASm2B,gBAAgB,GACnEl2B,KAAKhB,+BAAiCgB,KAAKC,UAAUD,KAAKD,SAASf,gCAAgC,GACnGgB,KAAKm1B,OAASn1B,KAAKC,UAAUD,KAAKD,SAASo1B,QAAQ,GAC/Cn1B,KAAK41B,kBACL51B,KAAK21B,WAAY,GAEjB31B,KAAKjB,QACLiB,KAAK+B,YAAa,EAE1B,CACA9B,UAAUG,EAAQtF,GACd,YAAkBW,IAAX2E,EAAuBtF,EAAQsF,CAC1C,CACAq6B,sBAAsBC,EAAU,CAAC,GAC7B,OAAO//B,OAAOe,OAAOf,OAAOe,OAAO,CAAC,EAAGb,EAAQw/B,6BAA8BK,EACjF,8BCrDJ//B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQk8B,UAAYl8B,EAAQ8P,aAAU,EAItC9P,EAAQ8P,QAHR,SAAiBgwB,GACb,OAAOA,EAAMtzB,QAAO,CAACqrB,EAAY/uB,IAAS,GAAGyB,OAAOstB,EAAY/uB,IAAO,GAC3E,EAgBA9I,EAAQk8B,UAdR,SAAmB4D,EAAOC,GACtB,MAAMp7B,EAAS,CAAC,IAChB,IAAIq7B,EAAa,EACjB,IAAK,MAAMl3B,KAAQg3B,EACXC,EAAUj3B,IACVk3B,IACAr7B,EAAOq7B,GAAc,IAGrBr7B,EAAOq7B,GAAYl5B,KAAKgC,GAGhC,OAAOnE,CACX,4BCnBA7E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQo7B,uBAAoB,EAI5Bp7B,EAAQo7B,kBAHR,SAA2B12B,GACvB,MAAsB,WAAfA,EAAM2Z,IACjB,6BCJAve,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQoE,2BAAwB,EAChC,MAAMoB,EACFP,YAAYzB,EAAMU,GACdiB,KAAK3B,KAAOA,EACZ2B,KAAKM,cAAgBvB,EAAMuB,cAAcC,KAAKxB,GAC9CiB,KAAKQ,kBAAoBzB,EAAMyB,kBAAkBD,KAAKxB,GACtDiB,KAAKS,YAAc1B,EAAM0B,YAAYF,KAAKxB,GAC1CiB,KAAKU,OAAS3B,EAAM2B,OAAOH,KAAKxB,GAChCiB,KAAKW,OAAS5B,EAAM4B,OAAOJ,KAAKxB,GAChCiB,KAAKY,SAAW7B,EAAM6B,SAASL,KAAKxB,GACpCiB,KAAKnB,eAAiBE,EAAMF,eAAe0B,KAAKxB,EACpD,EAKJlE,EAAQoE,sBAHR,SAA+BZ,EAAMU,GACjC,OAAO,IAAIsB,EAAgBhC,EAAMU,EACrC,+BChBApE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQk2B,OAASl2B,EAAQ0pB,OAAS1pB,EAAQkL,QAAUlL,EAAQoC,KAAOpC,EAAQI,GAAKJ,EAAQm7B,MAAQn7B,EAAQ21B,WAAQ,EAChH,MAAMA,EAAQ,EAAQ,MACtB31B,EAAQ21B,MAAQA,EAChB,MAAMwF,EAAQ,EAAQ,KACtBn7B,EAAQm7B,MAAQA,EAChB,MAAM/6B,EAAK,EAAQ,MACnBJ,EAAQI,GAAKA,EACb,MAAMgC,EAAO,EAAQ,MACrBpC,EAAQoC,KAAOA,EACf,MAAM8I,EAAU,EAAQ,MACxBlL,EAAQkL,QAAUA,EAClB,MAAMwe,EAAS,EAAQ,MACvB1pB,EAAQ0pB,OAASA,EACjB,MAAMwM,EAAS,EAAQ,MACvBl2B,EAAQk2B,OAASA,+BCfjBp2B,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ25B,wBAA0B35B,EAAQw2B,OAASx2B,EAAQi7B,aAAej7B,EAAQi+B,aAAU,EAC5F,MAAM77B,EAAO,EAAQ,MAEf69B,EAA4B,sCAOlCjgC,EAAQi+B,QAHR,SAAiBv0B,GACb,OAAOA,EAASqK,QAAQ,MAAO,IACnC,EAKA/T,EAAQi7B,aAHR,SAAsBxgB,EAAK/Q,GACvB,OAAOtH,EAAK26B,QAAQtiB,EAAK/Q,EAC7B,EAKA1J,EAAQw2B,OAHR,SAAgBtrB,GACZ,OAAOA,EAAQ6I,QAAQksB,EAA2B,OACtD,EAaAjgC,EAAQ25B,wBAXR,SAAiC71B,GAG7B,GAAwB,MAApBA,EAAMo8B,OAAO,GAAY,CACzB,MAAMC,EAAmBr8B,EAAMo8B,OAAO,GACtC,GAAyB,MAArBC,GAAiD,OAArBA,EAC5B,OAAOr8B,EAAM+N,MAvBoB,EAyBzC,CACA,OAAO/N,CACX,+BC9BAhE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQm6B,SAAWn6B,EAAQw5B,oBAAsBx5B,EAAQi8B,OAASj8B,EAAQ87B,gBAAkB97B,EAAQogC,qBAAuBpgC,EAAQw7B,iCAAmCx7B,EAAQu5B,8BAAgCv5B,EAAQqgC,sBAAwBrgC,EAAQo8B,YAAcp8B,EAAQ83B,iBAAmB93B,EAAQsgC,kCAAoCtgC,EAAQq3B,mCAAqCr3B,EAAQu3B,kCAAoCv3B,EAAQ+2B,oBAAsB/2B,EAAQ23B,oBAAsB33B,EAAQugC,kBAAoBvgC,EAAQwgC,kBAAoBxgC,EAAQ+3B,yBAA2B/3B,EAAQ43B,yBAA2B53B,EAAQs2B,iBAAmBt2B,EAAQm4B,qBAAkB,EACnpB,MAAM/1B,EAAO,EAAQ,MACfq+B,EAAa,EAAQ,MACrBC,EAAa,EAAQ,MAErBC,EAAgB,KAChBC,EAAyB,UACzBC,EAAmC,WACnCC,EAAyB,iCACzBC,EAA4B,mBAC5BC,EAAgC,SACtC,SAAS7I,EAAgBjtB,EAASJ,EAAU,CAAC,GACzC,OAAQwrB,EAAiBprB,EAASJ,EACtC,CAEA,SAASwrB,EAAiBprB,EAASJ,EAAU,CAAC,GAM1C,SAAgB,KAAZI,KAO+B,IAA/BJ,EAAQwyB,oBAAgCpyB,EAAQilB,SAASwQ,IAGzDC,EAAuBpoB,KAAKtN,IAAY21B,EAAiCroB,KAAKtN,IAAY41B,EAAuBtoB,KAAKtN,KAGlG,IAApBJ,EAAQ0yB,SAAqBuD,EAA0BvoB,KAAKtN,KAGjC,IAA3BJ,EAAQsyB,gBAMhB,SAA2BlyB,GACvB,MAAM+1B,EAAoB/1B,EAAQgH,QAAQ,KAC1C,IAA2B,IAAvB+uB,EACA,OAAO,EAEX,MAAMC,EAAoBh2B,EAAQgH,QAAQ,IAAK+uB,EAAoB,GACnE,IAA2B,IAAvBC,EACA,OAAO,EAEX,MAAMC,EAAej2B,EAAQ2G,MAAMovB,EAAmBC,GACtD,OAAOF,EAA8BxoB,KAAK2oB,EAC9C,CAjB4CC,CAAkBl2B,IAI9D,CAsBA,SAASs1B,EAAkBt1B,GACvB,OAAOA,EAAQ+nB,WAAW,MAAuB,MAAf/nB,EAAQ,EAC9C,CAEA,SAASq1B,EAAkBr1B,GACvB,OAAQs1B,EAAkBt1B,EAC9B,CAgCA,SAASo1B,EAAkCp1B,GACvC,OAAOA,EAAQ+nB,WAAW,OAAS/nB,EAAQ+nB,WAAW,OAC1D,CAUA,SAASoN,EAAsBn1B,GAC3B,OAAOA,EAAQnG,SAAS,MAC5B,CAaA,SAASq7B,EAAqBl1B,GAC1B,OAAOw1B,EAAW91B,OAAOM,EAAS,CAC9BR,QAAQ,EACRU,SAAS,GAEjB,CAsBA,SAAS6wB,EAAO/wB,EAASJ,GACrB,OAAO41B,EAAWzE,OAAO/wB,EAASJ,EACtC,CA/IA9K,EAAQm4B,gBAAkBA,EA4B1Bn4B,EAAQs2B,iBAAmBA,EAgB3Bt2B,EAAQ43B,yBAHR,SAAkC1sB,GAC9B,OAAOs1B,EAAkBt1B,GAAWA,EAAQ2G,MAAM,GAAK3G,CAC3D,EAKAlL,EAAQ+3B,yBAHR,SAAkC7sB,GAC9B,MAAO,IAAMA,CACjB,EAKAlL,EAAQwgC,kBAAoBA,EAI5BxgC,EAAQugC,kBAAoBA,EAI5BvgC,EAAQ23B,oBAHR,SAA6B9B,GACzB,OAAOA,EAASpsB,OAAO+2B,EAC3B,EAKAxgC,EAAQ+2B,oBAHR,SAA6BlB,GACzB,OAAOA,EAASpsB,OAAO82B,EAC3B,EAYAvgC,EAAQu3B,kCAHR,SAA2C1B,GACvC,OAAOA,EAASpsB,QAAQyB,IAAao1B,EAAkCp1B,IAC3E,EAYAlL,EAAQq3B,mCAHR,SAA4CxB,GACxC,OAAOA,EAASpsB,OAAO62B,EAC3B,EAKAtgC,EAAQsgC,kCAAoCA,EAI5CtgC,EAAQ83B,iBAHR,SAA0B5sB,GACtB,OAAOu1B,EAAWv1B,EAAS,CAAEkqB,iBAAiB,GAClD,EAKAp1B,EAAQo8B,YAHR,SAAqBlxB,GACjB,OAAOA,EAAQilB,SA1GF,KA2GjB,EAKAnwB,EAAQqgC,sBAAwBA,EAKhCrgC,EAAQu5B,8BAJR,SAAuCruB,GACnC,MAAMm2B,EAAWj/B,EAAKi/B,SAASn2B,GAC/B,OAAOm1B,EAAsBn1B,IAAYitB,EAAgBkJ,EAC7D,EAOArhC,EAAQw7B,iCALR,SAA0C3F,GACtC,OAAOA,EAASrpB,QAAO,CAACqrB,EAAY3sB,IACzB2sB,EAAWttB,OAAO61B,EAAqBl1B,KAC/C,GACP,EAQAlL,EAAQogC,qBAAuBA,EAoB/BpgC,EAAQ87B,gBAnBR,SAAyB5wB,EAASJ,GAC9B,IAAI,MAAE2oB,GAAUiN,EAAWY,KAAKp2B,EAASpL,OAAOe,OAAOf,OAAOe,OAAO,CAAC,EAAGiK,GAAU,CAAE2oB,OAAO,KAgB5F,OAXqB,IAAjBA,EAAMloB,SACNkoB,EAAQ,CAACvoB,IAMTuoB,EAAM,GAAGR,WAAW,OACpBQ,EAAM,GAAKA,EAAM,GAAG5hB,MAAM,GAC1B4hB,EAAMxc,QAAQ,KAEXwc,CACX,EAKAzzB,EAAQi8B,OAASA,EAIjBj8B,EAAQw5B,oBAHR,SAA6B3D,EAAU/qB,GACnC,OAAO+qB,EAASvyB,KAAK4H,GAAY+wB,EAAO/wB,EAASJ,IACrD,EAKA9K,EAAQm6B,SAHR,SAAkBr2B,EAAOo2B,GACrB,OAAOA,EAAWqH,MAAMvF,GAAcA,EAAUxjB,KAAK1U,IACzD,+BCtKAhE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmoB,WAAQ,EAChB,MAAMqZ,EAAS,EAAQ,MAWvB,SAASC,EAA6BC,GAClCA,EAAQzvB,SAASyX,GAAWA,EAAOriB,KAAK,UAC5C,CAHArH,EAAQmoB,MATR,SAAeuZ,GACX,MAAMC,EAAeH,EAAOE,GAM5B,OALAA,EAAQzvB,SAASyX,IACbA,EAAOhhB,KAAK,SAAUhE,GAAUi9B,EAAat6B,KAAK,QAAS3C,IAAO,IAEtEi9B,EAAaj5B,KAAK,SAAS,IAAM+4B,EAA6BC,KAC9DC,EAAaj5B,KAAK,OAAO,IAAM+4B,EAA6BC,KACrDC,CACX,6BCXA7hC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQo2B,QAAUp2B,EAAQm2B,cAAW,EAIrCn2B,EAAQm2B,SAHR,SAAkBtrB,GACd,MAAwB,iBAAVA,CAClB,EAKA7K,EAAQo2B,QAHR,SAAiBvrB,GACb,MAAiB,KAAVA,CACX,+BCLA,IAAI+2B,EAAU,EAAQ,MAEtB,SAASC,EAAWC,EAASC,EAAQ95B,GAOnC,GANuB,mBAAZ65B,IACT75B,EAAc85B,EACdA,EAASD,EACTA,EAAU,MAGR75B,EAAc,EAChB,MAAM,IAAI7G,MAAM,gDAGlB,IAAI4gC,EAAQJ,EAAQK,GAChBC,EAAY,KACZC,EAAY,KACZC,EAAW,EACXC,EAAe,KAEfzrB,EAAO,CACT9P,KAiEF,SAAe7G,EAAO8D,GACpB,IAAIu+B,EAAUN,EAAMrqB,MAEpB2qB,EAAQR,QAAUA,EAClBQ,EAAQC,QAAUA,EAClBD,EAAQriC,MAAQA,EAChBqiC,EAAQhgC,SAAWyB,GAAQy+B,EAC3BF,EAAQD,aAAeA,EAEnBD,IAAaxrB,EAAK3O,aAAe2O,EAAK6rB,OACpCN,GACFA,EAAUrwB,KAAOwwB,EACjBH,EAAYG,IAEZJ,EAAYI,EACZH,EAAYG,EACZ1rB,EAAK8rB,cAGPN,IACAL,EAAO1qB,KAAKyqB,EAASQ,EAAQriC,MAAOqiC,EAAQK,QAEhD,EAtFEv6B,MAAOo6B,EACPE,UAAWF,EACXlY,MAqBF,WACE1T,EAAK6rB,QAAS,CAChB,EAtBEA,QAAQ,EACRx6B,YAAaA,EACb26B,QAcF,WACE,OAAOR,CACT,EAfEnX,OA6CF,WACE,GAAKrU,EAAK6rB,OAAV,CACA7rB,EAAK6rB,QAAS,EACd,IAAK,IAAI/xB,EAAI,EAAGA,EAAIkG,EAAK3O,YAAayI,IACpC0xB,IACAG,GAJgB,CAMpB,EAnDEM,KAqDF,WACE,OAAoB,IAAbT,GAAoC,IAAlBxrB,EAAKrL,QAChC,EAtDEA,OAmBF,WAIE,IAHA,IAAI+2B,EAAUJ,EACVY,EAAU,EAEPR,GACLA,EAAUA,EAAQxwB,KAClBgxB,IAGF,OAAOA,CACT,EA5BEC,SA8BF,WAIE,IAHA,IAAIT,EAAUJ,EACVr+B,EAAQ,GAELy+B,GACLz+B,EAAMiD,KAAKw7B,EAAQriC,OACnBqiC,EAAUA,EAAQxwB,KAGpB,OAAOjO,CACT,EAvCEoT,QA8EF,SAAkBhX,EAAO8D,GACvB,IAAIu+B,EAAUN,EAAMrqB,MAEpB2qB,EAAQR,QAAUA,EAClBQ,EAAQC,QAAUA,EAClBD,EAAQriC,MAAQA,EAChBqiC,EAAQhgC,SAAWyB,GAAQy+B,EAEvBJ,IAAaxrB,EAAK3O,aAAe2O,EAAK6rB,OACpCP,GACFI,EAAQxwB,KAAOowB,EACfA,EAAYI,IAEZJ,EAAYI,EACZH,EAAYG,EACZ1rB,EAAK8rB,cAGPN,IACAL,EAAO1qB,KAAKyqB,EAASQ,EAAQriC,MAAOqiC,EAAQK,QAEhD,EAlGEK,MAAOR,EACPS,KA2HF,WACEf,EAAY,KACZC,EAAY,KACZvrB,EAAKxO,MAAQo6B,CACf,EA9HEh6B,aAgIF,WACE05B,EAAY,KACZC,EAAY,KACZvrB,EAAKxO,QACLwO,EAAKxO,MAAQo6B,CACf,EApIE99B,MAsIF,SAAgBka,GACdyjB,EAAezjB,CACjB,GArIA,OAAOhI,EA8FP,SAAS2rB,EAASW,GACZA,GACFlB,EAAMO,QAAQW,GAEhB,IAAIpxB,EAAOowB,EACPpwB,EACG8E,EAAK6rB,OAWRL,KAVID,IAAcD,IAChBC,EAAY,MAEdD,EAAYpwB,EAAKA,KACjBA,EAAKA,KAAO,KACZiwB,EAAO1qB,KAAKyqB,EAAShwB,EAAK7R,MAAO6R,EAAK6wB,QACpB,OAAdR,GACFvrB,EAAKosB,SAKe,KAAbZ,GACXxrB,EAAKxO,OAET,CAkBF,CAEA,SAASo6B,IAAS,CAElB,SAASP,IACP98B,KAAKlF,MAAQ,KACbkF,KAAK7C,SAAWkgC,EAChBr9B,KAAK2M,KAAO,KACZ3M,KAAKo9B,QAAUC,EACfr9B,KAAK28B,QAAU,KACf38B,KAAKk9B,aAAe,KAEpB,IAAIzrB,EAAOzR,KAEXA,KAAKw9B,OAAS,SAAiB9gB,EAAKld,GAClC,IAAIrC,EAAWsU,EAAKtU,SAChB+/B,EAAezrB,EAAKyrB,aACpBjrB,EAAMR,EAAK3W,MACf2W,EAAK3W,MAAQ,KACb2W,EAAKtU,SAAWkgC,EACZ5rB,EAAKyrB,cACPA,EAAaxgB,EAAKzK,GAEpB9U,EAAS+U,KAAKT,EAAKkrB,QAASjgB,EAAKld,GACjCiS,EAAK2rB,QAAQ3rB,EACf,CACF,CAqFAvM,EAAOrK,QAAU6hC,EACjBx3B,EAAOrK,QAAQmjC,QApFf,SAA0BrB,EAASC,EAAQ95B,GAClB,mBAAZ65B,IACT75B,EAAc85B,EACdA,EAASD,EACTA,EAAU,MAUZ,IAAInyB,EAAQkyB,EAAUC,GAPtB,SAAuBsB,EAAKld,GAC1B6b,EAAO1qB,KAAKlS,KAAMi+B,GACflE,MAAK,SAAUrS,GACd3G,EAAG,KAAM2G,EACX,GAAG3G,EACP,GAE6Cje,GAEzCo7B,EAAS1zB,EAAM7I,KACfw8B,EAAY3zB,EAAMsH,QAMtB,OAJAtH,EAAM7I,KAMN,SAAe7G,GACb,IAAIgQ,EAAI,IAAIkL,SAAQ,SAAU4hB,EAASwB,GACrC8E,EAAOpjC,GAAO,SAAU4hB,EAAKld,GACvBkd,EACF0c,EAAO1c,GAGTkb,EAAQp4B,EACV,GACF,IAOA,OAFAsL,EAAEkvB,MAAMqD,GAEDvyB,CACT,EAtBAN,EAAMsH,QAwBN,SAAkBhX,GAChB,IAAIgQ,EAAI,IAAIkL,SAAQ,SAAU4hB,EAASwB,GACrC+E,EAAUrjC,GAAO,SAAU4hB,EAAKld,GAC1Bkd,EACF0c,EAAO1c,GAGTkb,EAAQp4B,EACV,GACF,IAOA,OAFAsL,EAAEkvB,MAAMqD,GAEDvyB,CACT,EAxCAN,EAAM4zB,QA0CN,WACE,GAAI5zB,EAAMkzB,OACR,OAAO,IAAI1nB,SAAQ,SAAU4hB,GAC3BA,GACF,IAGF,IAAIyG,EAAgB7zB,EAAMvH,MAS1B,OAPQ,IAAI+S,SAAQ,SAAU4hB,GAC5BptB,EAAMvH,MAAQ,WACZo7B,IACAzG,GACF,CACF,GAGF,EAzDOptB,CA0DT,8BCpRA,MAAMqJ,EAAO,EAAQ,MACfyqB,EAAe,EAAQ,MAEvBC,EAAWtsB,GAAe,OAARA,GAA+B,iBAARA,IAAqBpM,MAAMC,QAAQmM,GAM5EusB,EAAe1jC,GACK,iBAAVA,GAAwC,iBAAVA,GAAgC,KAAVA,EAG9D2jC,EAAWtxB,GAAOhR,OAAO+Q,WAAWC,GAEpCuxB,EAAQh5B,IACZ,IAAI5K,EAAQ,GAAG4K,IACXuG,GAAS,EAEb,GADiB,MAAbnR,EAAM,KAAYA,EAAQA,EAAM4R,MAAM,IAC5B,MAAV5R,EAAe,OAAO,EAC1B,KAA0B,MAAnBA,IAAQmR,KACf,OAAOA,EAAQ,CAAC,EAUZ0yB,EAAM,CAACj5B,EAAOiG,EAAWizB,KAC7B,GAAIjzB,EAAY,EAAG,CACjB,IAAIkzB,EAAoB,MAAbn5B,EAAM,GAAa,IAAM,GAChCm5B,IAAMn5B,EAAQA,EAAMgH,MAAM,IAC9BhH,EAASm5B,EAAOn5B,EAAMo5B,SAASD,EAAOlzB,EAAY,EAAIA,EAAW,IACnE,CACA,OAAiB,IAAbizB,EACKG,OAAOr5B,GAETA,CAAK,EAGRs5B,EAAW,CAACt5B,EAAOiG,KACvB,IAAIomB,EAAwB,MAAbrsB,EAAM,GAAa,IAAM,GAKxC,IAJIqsB,IACFrsB,EAAQA,EAAMgH,MAAM,GACpBf,KAEKjG,EAAMU,OAASuF,GAAWjG,EAAQ,IAAMA,EAC/C,OAAOqsB,EAAY,IAAMrsB,EAASA,CAAK,EAiCnCu5B,EAAU,CAACx/B,EAAGC,EAAGw/B,EAAWv5B,KAChC,GAAIu5B,EACF,OAAOZ,EAAa7+B,EAAGC,EAAG,CAAE6H,MAAM,KAAU5B,IAG9C,IAAIwV,EAAQ4jB,OAAOI,aAAa1/B,GAChC,OAAIA,IAAMC,EAAUyb,EAGb,IAAIA,KADA4jB,OAAOI,aAAaz/B,KACJ,EAGvB8H,EAAU,CAAC2T,EAAOC,EAAKzV,KAC3B,GAAIE,MAAMC,QAAQqV,GAAQ,CACxB,IAAI5T,GAAwB,IAAjB5B,EAAQ4B,KACfV,EAASlB,EAAQy5B,QAAU,GAAK,KACpC,OAAO73B,EAAO,IAAIV,IAASsU,EAAM3W,KAAK,QAAU2W,EAAM3W,KAAK,IAC7D,CACA,OAAO85B,EAAanjB,EAAOC,EAAKzV,EAAQ,EAGpC05B,EAAa,IAAIj4B,IACd,IAAIgE,WAAW,4BAA8ByI,EAAKkB,WAAW3N,IAGhEk4B,EAAe,CAACnkB,EAAOC,EAAKzV,KAChC,IAA6B,IAAzBA,EAAQ45B,aAAuB,MAAMF,EAAW,CAAClkB,EAAOC,IAC5D,MAAO,EAAE,EAgGL/U,EAAO,CAAC8U,EAAOC,EAAKjQ,EAAMxF,EAAU,CAAC,KACzC,GAAW,MAAPyV,GAAeojB,EAAarjB,GAC9B,MAAO,CAACA,GAGV,IAAKqjB,EAAarjB,KAAWqjB,EAAapjB,GACxC,OAAOkkB,EAAankB,EAAOC,EAAKzV,GAGlC,GAAoB,mBAATwF,EACT,OAAO9E,EAAK8U,EAAOC,EAAK,EAAG,CAAEuV,UAAWxlB,IAG1C,GAAIozB,EAASpzB,GACX,OAAO9E,EAAK8U,EAAOC,EAAK,EAAGjQ,GAG7B,IAAIM,EAAO,IAAK9F,GAIhB,OAHqB,IAAjB8F,EAAK2zB,UAAkB3zB,EAAKlE,MAAO,GACvC4D,EAAOA,GAAQM,EAAKN,MAAQ,EAEvBszB,EAAStzB,GAKVszB,EAAStjB,IAAUsjB,EAASrjB,GAhHd,EAACD,EAAOC,EAAKjQ,EAAO,EAAGxF,EAAU,CAAC,KACpD,IAAIlG,EAAItD,OAAOgf,GACXzb,EAAIvD,OAAOif,GAEf,IAAKjf,OAAO+Q,UAAUzN,KAAOtD,OAAO+Q,UAAUxN,GAAI,CAChD,IAA6B,IAAzBiG,EAAQ45B,aAAuB,MAAMF,EAAW,CAAClkB,EAAOC,IAC5D,MAAO,EACT,CAGU,IAAN3b,IAASA,EAAI,GACP,IAANC,IAASA,EAAI,GAEjB,IAAI8/B,EAAa//B,EAAIC,EACjB+/B,EAAcV,OAAO5jB,GACrBukB,EAAYX,OAAO3jB,GACnBukB,EAAaZ,OAAO5zB,GACxBA,EAAOS,KAAKF,IAAIE,KAAK8H,IAAIvI,GAAO,GAEhC,IAAIy0B,EAASlB,EAAMe,IAAgBf,EAAMgB,IAAchB,EAAMiB,GACzDE,EAASD,EAASh0B,KAAKF,IAAI+zB,EAAYr5B,OAAQs5B,EAAUt5B,OAAQu5B,EAAWv5B,QAAU,EACtFw4B,GAAsB,IAAXgB,IAAuD,IArHtD,EAACzkB,EAAOC,EAAKzV,IACR,iBAAVwV,GAAqC,iBAARC,IAGX,IAAtBzV,EAAQN,UAiHoBA,CAAU8V,EAAOC,EAAKzV,GACrDoM,EAASpM,EAAQgrB,WAzILiO,IACT9jC,IAAsB,IAAb8jC,EAAoBziC,OAAOrB,GAASikC,OAAOjkC,GAwIzB61B,CAAUiO,GAE5C,GAAIj5B,EAAQ6B,SAAoB,IAAT2D,EACrB,OAAO8zB,EAAQD,EAAS7jB,EAAO0kB,GAASb,EAAS5jB,EAAKykB,IAAS,EAAMl6B,GAGvE,IAAI2oB,EAAQ,CAAEwR,UAAW,GAAIC,UAAW,IAEpCz4B,EAAQ,GACR2E,EAAQ,EAEZ,KAAOuzB,EAAa//B,GAAKC,EAAID,GAAKC,IACR,IAApBiG,EAAQ6B,SAAoB2D,EAAO,EALvBmjB,GAAPnhB,EAMF1N,GANqB,EAAI,YAAc,aAAakC,KAAKiK,KAAK8H,IAAIvG,IAQvE7F,EAAM3F,KAAKg9B,EAAI5sB,EAAOtS,EAAGwM,GAAQ4zB,EAAQjB,IAE3Cn/B,EAAI+/B,EAAa//B,EAAI0L,EAAO1L,EAAI0L,EAChCc,IAXSkB,MAcX,OAAwB,IAApBxH,EAAQ6B,QACH2D,EAAO,EA/GC,EAACmjB,EAAO3oB,KACzB2oB,EAAMwR,UAAUE,MAAK,CAACvgC,EAAGC,IAAMD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,IACxD4uB,EAAMyR,UAAUC,MAAK,CAACvgC,EAAGC,IAAMD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,IAExD,IAGIF,EAHAqH,EAASlB,EAAQy5B,QAAU,GAAK,KAChCW,EAAY,GACZD,EAAY,GAiBhB,OAdIxR,EAAMyR,UAAU35B,SAClB25B,EAAYzR,EAAMyR,UAAUv7B,KAAK,MAG/B8pB,EAAMwR,UAAU15B,SAClB05B,EAAY,KAAKj5B,IAASynB,EAAMwR,UAAUt7B,KAAK,SAI/ChF,EADEugC,GAAaD,EACN,GAAGC,KAAaD,IAEhBC,GAAaD,EAGpBn6B,EAAQ4B,KACH,IAAIV,IAASrH,KAGfA,CAAM,EAqFPygC,CAAW3R,EAAO3oB,GAClB6B,EAAQF,EAAO,KAAM,CAAEC,MAAM,KAAU5B,IAGtC2B,CAAK,EAgEH44B,CAAY/kB,EAAOC,EAAKjQ,EAAMM,GA7DrB,EAAC0P,EAAOC,EAAKjQ,EAAO,EAAGxF,EAAU,CAAC,KACpD,IAAM84B,EAAStjB,IAAUA,EAAM/U,OAAS,IAAQq4B,EAASrjB,IAAQA,EAAIhV,OAAS,EAC5E,OAAOk5B,EAAankB,EAAOC,EAAKzV,GAIlC,IAAIoM,EAASpM,EAAQgrB,WAAa,CAAC1e,GAAO8sB,OAAOI,aAAaltB,IAC1DxS,EAAI,GAAG0b,IAAQ1H,WAAW,GAC1B/T,EAAI,GAAG0b,IAAM3H,WAAW,GAExB+rB,EAAa//B,EAAIC,EACjBmM,EAAMD,KAAKC,IAAIpM,EAAGC,GAClBgM,EAAME,KAAKF,IAAIjM,EAAGC,GAEtB,GAAIiG,EAAQ6B,SAAoB,IAAT2D,EACrB,OAAO8zB,EAAQpzB,EAAKH,GAAK,EAAO/F,GAGlC,IAAI2B,EAAQ,GACR2E,EAAQ,EAEZ,KAAOuzB,EAAa//B,GAAKC,EAAID,GAAKC,GAChC4H,EAAM3F,KAAKoQ,EAAOtS,EAAGwM,IACrBxM,EAAI+/B,EAAa//B,EAAI0L,EAAO1L,EAAI0L,EAChCc,IAGF,OAAwB,IAApBtG,EAAQ6B,QACHA,EAAQF,EAAO,KAAM,CAAEC,MAAM,EAAO5B,YAGtC2B,CAAK,EAiCL64B,CAAYhlB,EAAOC,EAAKxP,KAAKF,IAAIE,KAAK8H,IAAIvI,GAAO,GAAIM,GAR9C,MAARN,GAAiBozB,EAASpzB,GACvB9E,EAAK8U,EAAOC,EAAK,EAAGjQ,GApHX,EAACA,EAAMxF,KACzB,IAA6B,IAAzBA,EAAQ45B,aACV,MAAM,IAAI/zB,UAAU,kBAAkBL,qBAExC,MAAO,EAAE,EA+GqCi1B,CAAYj1B,EAAMM,EAQC,EAGnEvG,EAAOrK,QAAUwL,YCxPjBnB,EAAOrK,QAAU,SAAUwlC,EAAM50B,GAC/B,GAAoB,iBAAT40B,EACT,MAAM,IAAI70B,UAAU,qBAgCtB,IA7BA,IA4BIiD,EA5BAuG,EAAM+pB,OAAOsB,GAGbC,EAAQ,GAKRC,IAAW90B,KAASA,EAAK80B,SAWzBhI,IAAW9sB,KAASA,EAAK8sB,SAIzBiI,GAAU,EAGVC,EAAQh1B,GAAiC,iBAAjBA,EAAW,MAAiBA,EAAKg1B,MAAQ,GAG5Dl1B,EAAI,EAAG6H,EAAM4B,EAAI5O,OAAQmF,EAAI6H,EAAK7H,IAGzC,OAFAkD,EAAIuG,EAAIzJ,IAGR,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACH+0B,GAAS,KAAO7xB,EAChB,MAEF,IAAK,IACH,GAAI8xB,EAAU,CACZD,GAAS,IACZ,KACC,CAEF,IAAK,IACL,IAAK,IACH,GAAIC,EAAU,CACZD,GAAS7xB,EACZ,KACC,CAEF,IAAK,IACH,GAAI8xB,EAAU,CACZC,GAAU,EACbF,GAAS,IACT,KACC,CAEF,IAAK,IACH,GAAIC,EAAU,CACZC,GAAU,EACbF,GAAS,IACT,KACC,CAEF,IAAK,IACH,GAAIE,EAAS,CACXF,GAAS,IACZ,KACC,CACAA,GAAS,KAAO7xB,EAChB,MAEF,IAAK,IAKH,IAFA,IAAIiyB,EAAW1rB,EAAIzJ,EAAI,GACnBo1B,EAAY,EACK,MAAf3rB,EAAIzJ,EAAI,IACZo1B,IACAp1B,IAEF,IAAIq1B,EAAW5rB,EAAIzJ,EAAI,GAElBgtB,IAKcoI,EAAY,IACV,MAAbD,QAAiCjlC,IAAbilC,GACP,MAAbE,QAAiCnlC,IAAbmlC,EAQxBN,GAAS,WAJTA,GAAS,sBACT/0B,KAVF+0B,GAAS,KAgBX,MAEF,QACEA,GAAS7xB,EAUb,OAJKgyB,IAAWA,EAAM1zB,QAAQ,OAC5BuzB,EAAQ,IAAMA,EAAQ,KAGjB,IAAIjwB,OAAOiwB,EAAOG,EAC3B,+BChIA,MAAM,UAACI,GAAa,EAAQ,MACtB5lC,EAAK,EAAQ,MACbgC,EAAO,EAAQ,MACf6jC,EAAW,EAAQ,KACnBC,EAAY,EAAQ,MACpBC,EAAQ,EAAQ,MAEhBC,EAAiB,CACtB,qBACA,mBACA,iBACA,WAGKC,EAAYL,EAAU5lC,EAAGkmC,UAUzBC,EAAiB,CAACC,EAAS17B,KAChC,MAAMnC,EAAOw9B,EAAM/jC,EAAKqkC,SAAS37B,EAAQ2P,IAAKrY,EAAK2yB,QAAQjqB,EAAQ47B,YAEnE,OAAOF,EACLrlC,MAAM,SACNsI,OAAO6B,SACP7B,QAAOk9B,IAASA,EAAK1T,WAAW,OAChC3vB,IAf2BqF,IAAQ+uB,GACjCA,EAAOzE,WAAW,KACd,IAAM7wB,EAAK2Y,MAAMpR,KAAKhB,EAAM+uB,EAAO7lB,MAAM,IAG1CzP,EAAK2Y,MAAMpR,KAAKhB,EAAM+uB,GAUvBkP,CAAsBj+B,GAAM,EAG7Bk+B,EAAehsB,IACpB,MAAMisB,EAAUZ,IAChB,IAAK,MAAMlrB,KAAQH,EAClBisB,EAAQ98B,IAAIu8B,EAAevrB,EAAKwrB,QAAS,CACxC/rB,IAAKO,EAAKP,IACVisB,SAAU1rB,EAAK+rB,YAIjB,OAAOD,CAAO,EAgBTE,EAAwB,CAACF,EAASrsB,IAChCxK,GAAK62B,EAAQA,QAAQX,EAAM/jC,EAAKqkC,SAAShsB,EAdhB,EAACA,EAAKxK,KAEtC,GADAwK,EAAM0rB,EAAM1rB,GACRrY,EAAKuY,WAAW1K,GAAI,CACvB,GAAIk2B,EAAMl2B,GAAGgjB,WAAWxY,GACvB,OAAOxK,EAGR,MAAM,IAAI7O,MAAM,QAAQ6O,mBAAmBwK,IAC5C,CAEA,OAAOrY,EAAKuH,KAAK8Q,EAAKxK,EAAE,EAI6Bg3B,CAAyBxsB,EAAKxK,EAAE7N,MAAQ6N,MAyBxFi3B,EAAmB,EACxBxP,SAAS,GACTjd,MAAM0rB,EAAMnlC,QAAQyZ,QACjB,CAAC,KACG,CAACid,SAAQjd,QAGjBpQ,EAAOrK,QAAU8B,UAChBgJ,EAAUo8B,EAAiBp8B,GAE3B,MAAMq8B,QAAclB,EAAS,gBAAiB,CAC7CvO,OAAQ0O,EAAe77B,OAAOO,EAAQ4sB,QACtCjd,IAAK3P,EAAQ2P,MAGRI,QAAcM,QAAQC,IAAI+rB,EAAM7jC,KAAI0X,GArC3BlZ,OAAOkZ,EAAMP,KAC5B,MAAMssB,EAAW3kC,EAAKuH,KAAK8Q,EAAKO,GAGhC,MAAO,CACNP,MACAssB,WACAP,cALqBH,EAAUU,EAAU,QAMzC,EA6BiDK,CAAQpsB,EAAMlQ,EAAQ2P,QAClEqsB,EAAUD,EAAahsB,GAE7B,OAAOmsB,EAAsBF,EAASh8B,EAAQ2P,IAAI,EAGnDpQ,EAAOrK,QAAQ+B,KAAO+I,IACrBA,EAAUo8B,EAAiBp8B,GAE3B,MAKM+P,EALQorB,EAASlkC,KAAK,gBAAiB,CAC5C21B,OAAQ0O,EAAe77B,OAAOO,EAAQ4sB,QACtCjd,IAAK3P,EAAQ2P,MAGMnX,KAAI0X,GAxCL,EAACA,EAAMP,KAC1B,MAAMssB,EAAW3kC,EAAKuH,KAAK8Q,EAAKO,GAGhC,MAAO,CACNP,MACAssB,WACAP,QALepmC,EAAGinC,aAAaN,EAAU,QAMzC,EAgC+BO,CAAYtsB,EAAMlQ,EAAQ2P,OACpDqsB,EAAUD,EAAahsB,GAE7B,OAAOmsB,EAAsBF,EAASh8B,EAAQ2P,IAAI,+BCrHnD,MAAMra,EAAK,EAAQ,MACbmnC,EAAa,EAAQ,MACrB/F,EAAS,EAAQ,MACjByE,EAAW,EAAQ,KACnBuB,EAAU,EAAQ,MAClBC,EAAY,EAAQ,OACpB,aAACC,EAAY,aAAEC,GAAgB,EAAQ,MAEvCC,EAAiB,KAAM,EAEvBC,EAAa38B,GAA0B,MAAfA,EAAQ,GA2BhC48B,EAAoB,CAACjS,EAAUkS,KAzBTlS,KAC3B,IAAKA,EAASI,OAAM/qB,GAA8B,iBAAZA,IACrC,MAAM,IAAIyF,UAAU,mDACrB,EAwBA6kB,CADAK,EAAW0R,EAAW,GAAGh9B,OAAOsrB,KApBV,EAAC/qB,EAAU,CAAC,KAClC,IAAKA,EAAQ2P,IACZ,OAGD,IAAIna,EACJ,IACCA,EAAOF,EAAGI,SAASsK,EAAQ2P,IAC5B,CAAE,MACD,MACD,CAEA,IAAKna,EAAKsF,cACT,MAAM,IAAIxE,MAAM,iDACjB,EAQA4mC,CAAeD,GAEf,MAAME,EAAY,GAElBF,EAAc,CACbrQ,OAAQ,GACRwQ,mBAAmB,KAChBH,GAGJ,IAAK,MAAO32B,EAAOlG,KAAY2qB,EAASxyB,UAAW,CAClD,GAAIwkC,EAAW38B,GACd,SAGD,MAAMwsB,EAAS7B,EACbhkB,MAAMT,GACN3H,QAAOyB,GAAW28B,EAAW38B,KAC7B5H,KAAI4H,GAAWA,EAAQ2G,MAAM,KAEzB/G,EAAU,IACZi9B,EACHrQ,OAAQqQ,EAAYrQ,OAAOntB,OAAOmtB,IAGnCuQ,EAAUnhC,KAAK,CAACoE,UAASJ,WAC1B,CAEA,OAAOm9B,CAAS,EAwBXE,EAAa,CAAC1P,EAAM2P,IAAO3P,EAAK3tB,QAAQo9B,kBArB7B,EAACzP,EAAM2P,KACvB,IAAIt9B,EAAU,CAAC,EAiBf,OAhBI2tB,EAAK3tB,QAAQ2P,MAChB3P,EAAQ2P,IAAMge,EAAK3tB,QAAQ2P,KAGxBzP,MAAMC,QAAQwtB,EAAK3tB,QAAQo9B,mBAC9Bp9B,EAAU,IACNA,EACH+P,MAAO4d,EAAK3tB,QAAQo9B,mBAE+B,iBAAnCzP,EAAK3tB,QAAQo9B,oBAC9Bp9B,EAAU,IACNA,KACA2tB,EAAK3tB,QAAQo9B,oBAIXE,EAAG3P,EAAKvtB,QAASJ,EAAQ,EAGiCu9B,CAAS5P,EAAM2P,GAAM,CAAC3P,EAAKvtB,SAEvFo9B,EAAgBx9B,GACdA,GAAWA,EAAQ28B,UACzBA,EAAU1lC,KAAK,CAAC0Y,IAAK3P,EAAQ2P,IAAKid,OAAQ5sB,EAAQ4sB,SAClDkQ,EAGIW,EAAa9P,GAAQ+M,IAC1B,MAAM,QAAC16B,GAAW2tB,EAKlB,OAJI3tB,EAAQ4sB,QAAU1sB,MAAMC,QAAQH,EAAQ4sB,SAAW5sB,EAAQo9B,oBAC9Dp9B,EAAQ4sB,OAAS8P,EAAQzlC,KAAK+I,EAAQ4sB,SAGhC,CACNxsB,QAASs6B,EACT16B,UACA,EAGFT,EAAOrK,QAAU8B,MAAO+zB,EAAU/qB,KACjC,MAAMm9B,EAAYH,EAAkBjS,EAAU/qB,IAiBvCrB,EAAQ5F,SAAesX,QAAQC,IAAI,CAfxBtZ,UACVgJ,GAAWA,EAAQ28B,UACzBA,EAAU,CAAChtB,IAAK3P,EAAQ2P,IAAKid,OAAQ5sB,EAAQ4sB,SAC7CkQ,EAYyC5O,GAT1Bl3B,WAChB,MAAM+B,QAAcsX,QAAQC,IAAI6sB,EAAU3kC,KAAIxB,UAC7C,MAAMoZ,QAAcitB,EAAW1P,EAAM+O,GACrC,OAAOrsB,QAAQC,IAAIF,EAAM5X,IAAIilC,EAAW9P,IAAO,KAGhD,OAAO8O,KAAc1jC,EAAM,EAG4B2kC,KAClDrB,QAAchsB,QAAQC,IAAIvX,EAAMP,KAAIm1B,GAAQwN,EAASxN,EAAKvtB,QAASutB,EAAK3tB,YAE9E,OAAOy8B,KAAcJ,GAAO19B,QAAOg/B,IAAS,OAACh/B,GAlGxBwG,EAkG6Cw4B,EAlGxCx4B,EAAE/L,iBAAiB9D,EAAGsoC,MAAQz4B,EAAE7N,KAAO6N,IAA5CA,KAkGoD,GAAC,EAG3E5F,EAAOrK,QAAQ+B,KAAO,CAAC8zB,EAAU/qB,KAChC,MAAMm9B,EAAYH,EAAkBjS,EAAU/qB,GAExCjH,EAAQ,GACd,IAAK,MAAM40B,KAAQwP,EAAW,CAC7B,MAAMU,EAAUR,EAAW1P,EAAM+O,EAAQzlC,MAAMuB,IAAIilC,EAAW9P,IAC9D50B,EAAMiD,QAAQ6hC,EACf,CAEA,MAAMl/B,EAAS6+B,EAAcx9B,GAE7B,IAAI89B,EAAU,GACd,IAAK,MAAMnQ,KAAQ50B,EAClB+kC,EAAUrB,EAAWqB,EAAS3C,EAASlkC,KAAK02B,EAAKvtB,QAASutB,EAAK3tB,UAGhE,OAAO89B,EAAQn/B,QAAOg/B,IAAUh/B,EAAOg/B,IAAO,EAG/Cp+B,EAAOrK,QAAQ0pB,OAAS,CAACmM,EAAU/qB,KAClC,MAAMm9B,EAAYH,EAAkBjS,EAAU/qB,GAExCjH,EAAQ,GACd,IAAK,MAAM40B,KAAQwP,EAAW,CAC7B,MAAMU,EAAUR,EAAW1P,EAAM+O,EAAQzlC,MAAMuB,IAAIilC,EAAW9P,IAC9D50B,EAAMiD,QAAQ6hC,EACf,CAEA,MAAMl/B,EAAS6+B,EAAcx9B,GACvB+9B,EAAe,IAAInB,GAAaz3B,IAAMxG,EAAOwG,KAC7C64B,EAAe,IAAInB,EAEzB,OAAOnG,EAAO39B,EAAMP,KAAIm1B,GAAQwN,EAASvc,OAAO+O,EAAKvtB,QAASutB,EAAK3tB,YACjEi+B,KAAKF,GACLE,KAAKD,EAAa,EAGrBz+B,EAAOrK,QAAQ8nC,kBAAoBA,EAEnCz9B,EAAOrK,QAAQgpC,SAAW,CAACnT,EAAU/qB,IAAY,GAC/CP,OAAOsrB,GACP0L,MAAKr2B,GAAW+6B,EAAS3P,iBAAiBprB,EAASJ,KAErDT,EAAOrK,QAAQynC,UAAYA,+BCnL3B,MAAM,UAACwB,GAAa,EAAQ,MAE5B,MAAMC,UAAwBD,EAC7BhkC,cACC0C,MAAM,CACLT,YAAY,GAEd,EAkCDmD,EAAOrK,QAAU,CAChB0nC,aAhCD,cAA2BwB,EAC1BjkC,YAAYwE,GACX9B,QACAxC,KAAKk0B,QAAU5vB,CAChB,CAEAu0B,WAAWvhB,EAAMwJ,EAAU3jB,GACtB6C,KAAKk0B,QAAQ5c,IAChBtX,KAAK2B,KAAK2V,GAGXna,GACD,GAqBAqlC,aAlBD,cAA2BuB,EAC1BjkC,cACC0C,QACAxC,KAAKgkC,QAAU,IAAIr/B,GACpB,CAEAk0B,WAAWvhB,EAAMwJ,EAAU3jB,GACrB6C,KAAKgkC,QAAQ/d,IAAI3O,KACrBtX,KAAK2B,KAAK2V,GACVtX,KAAKgkC,QAAQn/B,IAAIyS,IAGlBna,GACD,2BCrCD+H,EAAOrK,QAAU,CAACopC,EAAMC,EAAOroC,QAAQqoC,QACtC,MAAMr9B,EAASo9B,EAAKnW,WAAW,KAAO,GAAsB,IAAhBmW,EAAK79B,OAAe,IAAM,KAChE+9B,EAAWD,EAAKn3B,QAAQlG,EAASo9B,GACjCG,EAAqBF,EAAKn3B,QAAQ,MACxC,OAAqB,IAAdo3B,KAA4C,IAAxBC,GAA6BD,EAAWC,EAAmB,YCLvF,SAASC,EAAWC,GAClB,OAAOz+B,MAAMC,QAAQw+B,GACjBA,EACA,CAACA,EACP,CAEA,MAGMC,EAAwB,QACxBC,EAAmC,iBACnCC,EAA4C,OAC5CC,EAAqC,OACrCC,EAAsB,SAMtBC,EAA0B,eAKhC,IAAIC,EAAiB,cAEC,oBAAX3sB,SACT2sB,EAAiB3sB,OAAO4sB,IAAI,gBAE9B,MAAMC,EAAaF,EAKbG,EAAqB,mBAErBC,EAAe,KAAM,EA8BrBC,EAAY,CAGhB,CAIE,UACAr2B,GAAiC,IAAxBA,EAAM9B,QAAQ,MAnEb,IADA,IA0EZ,CACE,QACA,IA3EU,KA+FZ,CACE,iBACA8B,GAAS,KAAKA,KAGhB,CAEE,YACA,IAAM,QAIR,CAKE,MACA,IAAM,KAIR,CACE,MACA,IAAM,OAGR,CAOE,mBAGA,IAAM,eAIR,CAIE,YACA,WAEE,MAAQ,UAAUwE,KAAKrT,MAiBnB,IAJA,WAKN,GAIF,CAEE,0BAMA,CAAC2U,EAAG1I,EAAO+I,IAAQ/I,EAAQ,EAAI+I,EAAI5O,OAO/B,kBAMA,SAIN,CAOE,2BAIA,CAACuO,EAAGwwB,EAAIC,IAOCD,EADWC,EAAGx2B,QAAQ,QAAS,YAK1C,CAIE,yBACA,IAxNW,MA2Nb,CAEE,QACA,IA9NW,MAiOb,CAKE,gCACA,CAACC,EAAOw2B,EAAY/9B,EAAOg+B,EAAW74B,IAvO3B,OAuOqC44B,EAE5C,MAAM/9B,IA/Lci+B,KAC1B,MAAM,OAACn/B,GAAUm/B,EACjB,OAAOA,EAAQ74B,MAAM,EAAGtG,EAASA,EAAS,EAAC,EA6LvBo/B,CAAoBF,KAAa74B,IACrC,MAAVA,GACE64B,EAAUl/B,OAAS,GAAM,EAIvB,IA/MUkB,IAASA,EAAMsH,QACnCo2B,GACA,CAACn2B,EAAO6I,EAAM+tB,IAAO/tB,EAAKjE,WAAW,IAAMgyB,EAAGhyB,WAAW,GACrD5E,EArCQ,KAiPE62B,CAAcp+B,KAASg+B,KAI7B,MAIR,CAGE,YAcAz2B,GAAS,MAAMwE,KAAKxE,GAEhB,GAAGA,KAEH,GAAGA,eAIT,CACE,kBACA,CAAC8F,EAAGwwB,KACaA,EAOX,GAAGA,SAIH,SAEG,eAMPQ,EAAahrC,OAAOqL,OAAO,MAmB3BgrB,EAAWsT,GAA8B,iBAAZA,EAanC,MAAMsB,EACJ9lC,YACEkpB,EACAjjB,EACAgsB,EACA8T,GAEA7lC,KAAKgpB,OAASA,EACdhpB,KAAK+F,QAAUA,EACf/F,KAAK+xB,SAAWA,EAChB/xB,KAAK6lC,MAAQA,CACf,EAGF,MA4BMC,EAAa,CAAC50B,EAAS60B,KAC3B,MAAM,IAAIA,EAAK70B,EAAO,EAGlB80B,EAAY,CAAC/oC,EAAMgpC,EAAcC,IAChClV,EAAS/zB,GAQTA,GAKD+oC,EAAUG,cAAclpC,IAEnBipC,EACL,0DAA0CD,KAC1C76B,YARK86B,EAAQ,yBAA0B16B,WARlC06B,EACL,oCAAoCD,MACpCz6B,WAqBA26B,EAAgBlpC,GAAQ2nC,EAAwBvxB,KAAKpW,GAE3D+oC,EAAUG,cAAgBA,EAC1BH,EAAUI,QAAUt7B,GAAKA,EAEzB,MAAMu7B,EACJvmC,aAAa,WACXwmC,GAAa,EAAI,WACjBC,EAAaD,EAAU,mBACvBE,GAAqB,GACnB,CAAC,GAhYQ,IAASjzB,IAiYPwxB,EAhYfpqC,OAAOC,eAgYEoF,KAhYqBuT,EAAK,CAACzY,MAgYT,OAEzBkF,KAAKymC,OAAS,GACdzmC,KAAK0mC,YAAcH,EACnBvmC,KAAK2mC,oBAAsBH,EAC3BxmC,KAAK4mC,YACP,CAEAA,aACE5mC,KAAK6mC,aAAelsC,OAAOqL,OAAO,MAClChG,KAAK8mC,WAAansC,OAAOqL,OAAO,KAClC,CAEA+gC,YAAahhC,GAEX,GAAIA,GAAWA,EAAQg/B,GAGrB,OAFA/kC,KAAKymC,OAASzmC,KAAKymC,OAAOrhC,OAAOW,EAAQ0gC,aACzCzmC,KAAKgnC,QAAS,GAIhB,GAjHiBjhC,IAAWA,GAC3BirB,EAASjrB,KACRw+B,EAAsBlxB,KAAKtN,KAC3By+B,EAAiCnxB,KAAKtN,IAGd,IAAzBA,EAAQgH,QAAQ,KA2Gbk6B,CAAalhC,GAAU,CACzB,MAAMmhC,EA1FO,EAACnhC,EAASwgC,KAC3B,MAAMvd,EAASjjB,EACf,IAAIgsB,GAAW,EAGc,IAAzBhsB,EAAQgH,QAAQ,OAClBglB,GAAW,EACXhsB,EAAUA,EAAQohC,OAAO,IAW3B,MAAMtB,EA7DU,EAAC9/B,EAASwgC,KAC1B,IAAIz4B,EAAS63B,EAAW5/B,GAUxB,OARK+H,IACHA,EAASo3B,EAAU79B,QACjB,CAACJ,EAAMk2B,IAAYl2B,EAAK2H,QAAQuuB,EAAQ,GAAIA,EAAQ,GAAG58B,KAAKwF,KAC5DA,GAEF4/B,EAAW5/B,GAAW+H,GAGjBy4B,EACH,IAAIl2B,OAAOvC,EAAQ,KACnB,IAAIuC,OAAOvC,EAAM,EAgDPs5B,CARdrhC,EAAUA,EAGT6I,QAAQ61B,EAA2C,KAGnD71B,QAAQ81B,EAAoC,KAEZ6B,GAEjC,OAAO,IAAIX,EACT5c,EACAjjB,EACAgsB,EACA8T,EACF,EAiEiBwB,CAAWthC,EAAS/F,KAAK0mC,aACtC1mC,KAAKgnC,QAAS,EACdhnC,KAAKymC,OAAO9kC,KAAKulC,EACnB,CACF,CAGAriC,IAAKkB,GAeH,OAdA/F,KAAKgnC,QAAS,EAEd3C,EACErT,EAASjrB,GArHMA,IAAWA,EAAQ/J,MAAM2oC,GAsHpC2C,CAAavhC,GACbA,GACJ+G,QAAQ9M,KAAK+mC,YAAa/mC,MAIxBA,KAAKgnC,QACPhnC,KAAK4mC,aAGA5mC,IACT,CAGAunC,WAAYxhC,GACV,OAAO/F,KAAK6E,IAAIkB,EAClB,CAkBAyhC,SAAUvqC,EAAMwqC,GACd,IAAIC,GAAU,EACVC,GAAY,EAmBhB,OAjBA3nC,KAAKymC,OAAO35B,SAAQo6B,IAClB,MAAM,SAACnV,GAAYmV,EAEjBS,IAAc5V,GAAY2V,IAAYC,GACnC5V,IAAa2V,IAAYC,IAAcF,GAK5BP,EAAKrB,MAAMxyB,KAAKpW,KAG9ByqC,GAAW3V,EACX4V,EAAY5V,EACd,IAGK,CACL2V,UACAC,YAEJ,CAGAC,MAAO3B,EAAcpJ,EAAO4K,EAAgBI,GAC1C,MAAM5qC,EAAOgpC,GAERD,EAAUI,QAAQH,GAUvB,OARAD,EACE/oC,EACAgpC,EACAjmC,KAAK2mC,oBACD1B,EACAa,GAGC9lC,KAAK8nC,GAAG7qC,EAAM4/B,EAAO4K,EAAgBI,EAC9C,CAEAC,GAAI7qC,EAAM4/B,EAAO4K,EAAgBI,GAC/B,GAAI5qC,KAAQ4/B,EACV,OAAOA,EAAM5/B,GAYf,GATK4qC,IAGHA,EAAS5qC,EAAKjB,MAngBN,MAsgBV6rC,EAAO58B,OAGF48B,EAAOzhC,OACV,OAAOy2B,EAAM5/B,GAAQ+C,KAAKwnC,SAASvqC,EAAMwqC,GAG3C,MAAMlhC,EAASvG,KAAK8nC,GAClBD,EAAOrjC,KA9gBC,SA+gBRq4B,EACA4K,EACAI,GAIF,OAAOhL,EAAM5/B,GAAQsJ,EAAOmhC,QAGxBnhC,EACAvG,KAAKwnC,SAASvqC,EAAMwqC,EAC1B,CAEA9F,QAAS1kC,GACP,OAAO+C,KAAK4nC,MAAM3qC,EAAM+C,KAAK6mC,cAAc,GAAOa,OACpD,CAEAK,eACE,OAAO9qC,IAAS+C,KAAK2hC,QAAQ1kC,EAC/B,CAEAqH,OAAQ09B,GACN,OAAOqC,EAAUrC,GAAO19B,OAAOtE,KAAK+nC,eACtC,CAGA10B,KAAMpW,GACJ,OAAO+C,KAAK4nC,MAAM3qC,EAAM+C,KAAK8mC,YAAY,EAC3C,EAGF,MAAMkB,EAAUriC,GAAW,IAAI0gC,EAAO1gC,GAetC,GAVAqiC,EAAQC,YAHYhrC,GAClB+oC,EAAU/oC,GAAQ+oC,EAAUI,QAAQnpC,GAAOA,EAAMgoC,GAKnD+C,EAAQhrC,QAAUgrC,EAElB9iC,EAAOrK,QAAUmtC,EAOI,oBAAZnsC,UAELA,QAAQyT,KAAOzT,QAAQyT,IAAI44B,mBACH,UAArBrsC,QAAQssC,UAEb,CAEA,MAAMC,EAAYpzB,GAAO,YAAY3B,KAAK2B,IACvC,wBAAwB3B,KAAK2B,GAC5BA,EACAA,EAAIpG,QAAQ,MAAO,KAEvBo3B,EAAUI,QAAUgC,EAIpB,MAAMC,EAAiC,aACvCrC,EAAUG,cAAgBlpC,GACxBorC,EAA+Bh1B,KAAKpW,IACjCkpC,EAAclpC,EACrB,YClmBAiI,EAAOrK,QAAU,SAAmBma,GAClC,GAAmB,iBAARA,GAA4B,KAARA,EAC7B,OAAO,EAIT,IADA,IAAInG,EACIA,EAAQ,yBAAyBy5B,KAAKtzB,IAAO,CACnD,GAAInG,EAAM,GAAI,OAAO,EACrBmG,EAAMA,EAAItI,MAAMmC,EAAM5C,MAAQ4C,EAAM,GAAGzI,OACzC,CAEA,OAAO,CACT,kBCZA,IAAImiC,EAAY,EAAQ,MACpBC,EAAQ,CAAE,IAAK,IAAK,IAAK,IAAK,IAAK,KACnCC,EAAc,SAASzzB,GACzB,GAAe,MAAXA,EAAI,GACN,OAAO,EAQT,IANA,IAAI/I,EAAQ,EACRy8B,GAAa,EACbC,GAAoB,EACpBC,GAAmB,EACnBC,GAAmB,EACnBC,GAAkB,EACf78B,EAAQ+I,EAAI5O,QAAQ,CACzB,GAAmB,MAAf4O,EAAI/I,GACN,OAAO,EAGT,GAAuB,MAAnB+I,EAAI/I,EAAQ,IAAc,UAAUoH,KAAK2B,EAAI/I,IAC/C,OAAO,EAGT,IAA0B,IAAtB08B,GAA0C,MAAf3zB,EAAI/I,IAAqC,MAAnB+I,EAAI/I,EAAQ,KAC3D08B,EAAmB18B,IACrB08B,EAAmB3zB,EAAIjI,QAAQ,IAAKd,IAElC08B,EAAmB18B,GAAO,CAC5B,IAAwB,IAApB68B,GAAyBA,EAAiBH,EAC5C,OAAO,EAGT,IAAwB,KADxBG,EAAiB9zB,EAAIjI,QAAQ,KAAMd,KACN68B,EAAiBH,EAC5C,OAAO,CAEX,CAGF,IAAyB,IAArBC,GAAyC,MAAf5zB,EAAI/I,IAAqC,MAAnB+I,EAAI/I,EAAQ,KAC9D28B,EAAkB5zB,EAAIjI,QAAQ,IAAKd,IACbA,KAEI,KADxB68B,EAAiB9zB,EAAIjI,QAAQ,KAAMd,KACN68B,EAAiBF,GAC5C,OAAO,EAKb,IAAyB,IAArBC,GAAyC,MAAf7zB,EAAI/I,IAAqC,MAAnB+I,EAAI/I,EAAQ,IAAc,QAAQoH,KAAK2B,EAAI/I,EAAQ,KAA0B,MAAnB+I,EAAI/I,EAAQ,KACxH48B,EAAkB7zB,EAAIjI,QAAQ,IAAKd,IACbA,KAEI,KADxB68B,EAAiB9zB,EAAIjI,QAAQ,KAAMd,KACN68B,EAAiBD,GAC5C,OAAO,EAKb,IAAmB,IAAfH,GAAmC,MAAf1zB,EAAI/I,IAAqC,MAAnB+I,EAAI/I,EAAQ,KACpDy8B,EAAYz8B,IACdy8B,EAAY1zB,EAAIjI,QAAQ,IAAKd,KAEZ,IAAfy8B,GAA2C,MAAvB1zB,EAAI0zB,EAAY,KACtCG,EAAkB7zB,EAAIjI,QAAQ,IAAK27B,IACbA,KAEI,KADxBI,EAAiB9zB,EAAIjI,QAAQ,KAAM27B,KACNI,EAAiBD,IAC5C,OAAO,EAMf,GAAmB,OAAf7zB,EAAI/I,GAAiB,CACvB,IAAIG,EAAO4I,EAAI/I,EAAQ,GACvBA,GAAS,EACT,IAAIQ,EAAQ+7B,EAAMp8B,GAElB,GAAIK,EAAO,CACT,IAAIe,EAAIwH,EAAIjI,QAAQN,EAAOR,IAChB,IAAPuB,IACFvB,EAAQuB,EAAI,EAEhB,CAEA,GAAmB,MAAfwH,EAAI/I,GACN,OAAO,CAEX,MACEA,GAEJ,CACA,OAAO,CACT,EAEI88B,EAAe,SAAS/zB,GAC1B,GAAe,MAAXA,EAAI,GACN,OAAO,EAGT,IADA,IAAI/I,EAAQ,EACLA,EAAQ+I,EAAI5O,QAAQ,CACzB,GAAI,cAAciN,KAAK2B,EAAI/I,IACzB,OAAO,EAGT,GAAmB,OAAf+I,EAAI/I,GAAiB,CACvB,IAAIG,EAAO4I,EAAI/I,EAAQ,GACvBA,GAAS,EACT,IAAIQ,EAAQ+7B,EAAMp8B,GAElB,GAAIK,EAAO,CACT,IAAIe,EAAIwH,EAAIjI,QAAQN,EAAOR,IAChB,IAAPuB,IACFvB,EAAQuB,EAAI,EAEhB,CAEA,GAAmB,MAAfwH,EAAI/I,GACN,OAAO,CAEX,MACEA,GAEJ,CACA,OAAO,CACT,EAEA/G,EAAOrK,QAAU,SAAgBma,EAAKrP,GACpC,GAAmB,iBAARqP,GAA4B,KAARA,EAC7B,OAAO,EAGT,GAAIuzB,EAAUvzB,GACZ,OAAO,EAGT,IAAIg0B,EAAQP,EAOZ,OAJI9iC,IAA8B,IAAnBA,EAAQsjC,SACrBD,EAAQD,GAGHC,EAAMh0B,EACf,wBC5IA9P,EAAOrK,QAAU,SAASsS,GACxB,MAAmB,iBAARA,EACFA,EAAMA,GAAQ,EAEJ,iBAARA,GAAmC,KAAfA,EAAIC,SAC1BjR,OAAO+sC,SAAW/sC,OAAO+sC,UAAU/7B,GAAO+7B,UAAU/7B,GAG/D,+BCTA,MACMysB,EADS,EAAQ,MACIA,YACrBltB,EAAQ7G,MAAMmT,UAAUtM,MAqH9B,SAASy8B,EAAc5M,EAAS52B,GAC9B,GAAKE,MAAMC,QAAQy2B,GAUjB,IAAK,IAAIhxB,EAAI,EAAG6H,EAAMmpB,EAAQn2B,OAAQmF,EAAI6H,EAAK7H,IAC7CgxB,EAAQhxB,GAAK49B,EAAa5M,EAAQhxB,GAAI5F,OAXb,CAK3B,IAHK42B,EAAQzd,gBAAkByd,EAAQqH,OACrCrH,EAAUA,EAAQqH,KAAKhK,EAAYj0B,MAEhC42B,EAAQzd,iBAAmByd,EAAQpX,QAAUoX,EAAQqH,KACxD,MAAM,IAAI3nC,MAAM,uCAElBsgC,EAAQpX,OACV,CAKA,OAAOoX,CACT,CAnIAr3B,EAAOrK,QAEP,WACE,MAAMuuC,EAAe,GACfhiC,EAAOsF,EAAMwF,KAAKxN,WACxB,IAAI2kC,GAAU,EACV1jC,EAAUyB,EAAKA,EAAKhB,OAAS,GAE7BT,IAAYE,MAAMC,QAAQH,IAA4B,MAAhBA,EAAQi+B,KAChDx8B,EAAK6D,MAELtF,EAAU,CAAC,EAGb,MAAM2jC,GAAwB,IAAhB3jC,EAAQyV,IAChBmuB,GAAoC,IAAtB5jC,EAAQ6jC,UACF,MAAtB7jC,EAAQ5D,aACV4D,EAAQ5D,YAAa,GAEM,MAAzB4D,EAAQ8jC,gBACV9jC,EAAQ8jC,cAAgB,OAE1B,MAAMjN,EAAe5C,EAAYj0B,GAEjC,SAAS+jC,IACP,IAAK,IAAIn+B,EAAI,EAAG6H,EAAM1O,UAAU0B,OAAQmF,EAAI6H,EAAK7H,IAC/C69B,EAAaznC,KAAKwnC,EAAazkC,UAAU6G,GAAI5F,IAG/C,OADAgkC,IACO3pC,IACT,CAEA,SAAS2pC,IACP,GAAIN,EACF,OAEFA,GAAU,EAEV,IAAI9M,EAAU6M,EAAa/8B,QAC3B,IAAKkwB,EAEH,YADA1gC,QAAQ0pB,SAASqkB,GAGd/jC,MAAMC,QAAQy2B,KACjBA,EAAU,CAACA,IAGb,IAAIsN,EAAatN,EAAQn2B,OAAS,EAElC,SAASuG,MACDk9B,EAAa,IAGnBR,GAAU,EACVM,IACF,CAEA,SAAS/F,EAAMrf,GACb,SAASulB,IACPvlB,EAAOpK,eAAe,kBAAmB2vB,GACzCvlB,EAAOpK,eAAe,MAAO2vB,GACzBP,GACFhlB,EAAOpK,eAAe,QAASgR,GAEjCxe,GACF,CACA,SAASwe,EAASzO,GAChB8f,EAAat6B,KAAK,QAASwa,EAC7B,CAEA,GAAI6H,EAAOzF,eAAeC,WACxB,OAAOpS,IAGT4X,EAAOjhB,GAAG,kBAAmBwmC,GAC7BvlB,EAAOjhB,GAAG,MAAOwmC,GAEbP,GACFhlB,EAAOjhB,GAAG,QAAS6nB,GAGrB5G,EAAOqf,KAAKpH,EAAc,CAAEphB,KAAK,IAEjCmJ,EAAOuB,QACT,CAEA,IAAK,IAAIva,EAAI,EAAGA,EAAIgxB,EAAQn2B,OAAQmF,IAClCq4B,EAAKrH,EAAQhxB,IAGfoB,GACF,CAEA,SAASi9B,IACPP,GAAU,EAEV7M,EAAat6B,KAAK,cACdonC,GACF9M,EAAaphB,KAEjB,CAWA,OATAohB,EAAauN,gBAAgB,GAC7BvN,EAAa33B,IAAM6kC,EACnBlN,EAAal5B,GAAG,UAAU,SAAUihB,GAClCA,EAAOriB,KAAK,kBACd,IAEIkF,EAAKhB,QACPsjC,EAAUv3B,MAAM,KAAM/K,GAEjBo1B,CACT,+BC1HA,MAAM3oB,EAAO,EAAQ,MACfpO,EAAS,EAAQ,MACjBukC,EAAY,EAAQ,MACpBrsC,EAAQ,EAAQ,MAChBssC,EAAgBh4B,GAAe,KAARA,GAAsB,OAARA,EAoBrCspB,EAAa,CAAC1kB,EAAM6Z,EAAU/qB,KAClC+qB,EAAW,GAAGtrB,OAAOsrB,GACrB7Z,EAAO,GAAGzR,OAAOyR,GAEjB,IAAIqzB,EAAO,IAAIvlC,IACXwlC,EAAO,IAAIxlC,IACXg2B,EAAQ,IAAIh2B,IACZm7B,EAAY,EAEZsK,EAAWC,IACb1P,EAAM91B,IAAIwlC,EAAMzkC,QACZD,GAAWA,EAAQykC,UACrBzkC,EAAQykC,SAASC,EACnB,EAGF,IAAK,IAAI9+B,EAAI,EAAGA,EAAImlB,EAAStqB,OAAQmF,IAAK,CACxC,IAAI++B,EAAUN,EAAUjL,OAAOrO,EAASnlB,IAAK,IAAK5F,EAASykC,aAAY,GACnEG,EAAUD,EAAQD,MAAME,SAAWD,EAAQD,MAAMG,eACjDD,GAASzK,IAEb,IAAK,IAAIn8B,KAAQkT,EAAM,CACrB,IAAI4zB,EAAUH,EAAQ3mC,GAAM,IAEhB4mC,GAAWE,EAAQH,QAAUG,EAAQH,WAG7CC,EACFL,EAAKrlC,IAAI4lC,EAAQ7kC,SAEjBskC,EAAKtgB,OAAO6gB,EAAQ7kC,QACpBukC,EAAKtlC,IAAI4lC,EAAQ7kC,SAErB,CACF,CAEA,IACI69B,GADS3D,IAAcpP,EAAStqB,OAAS,IAAIu0B,GAAS,IAAIwP,IACzC7lC,QAAOX,IAASumC,EAAKjkB,IAAItiB,KAE9C,GAAIgC,GAA8B,IAAnB89B,EAAQr9B,OAAc,CACnC,IAAyB,IAArBT,EAAQ+kC,SACV,MAAM,IAAIzuC,MAAM,yBAAyBy0B,EAASlsB,KAAK,UAGzD,IAAuB,IAAnBmB,EAAQglC,SAAwC,IAArBhlC,EAAQilC,SACrC,OAAOjlC,EAAQklC,SAAWna,EAASvyB,KAAI2M,GAAKA,EAAE8D,QAAQ,MAAO,MAAO8hB,CAExE,CAEA,OAAO+S,CAAO,EAOhBlI,EAAW1sB,MAAQ0sB,EAqBnBA,EAAWzH,QAAU,CAAC/tB,EAASJ,IAAYqkC,EAAUjkC,EAASJ,GAyB9D41B,EAAWuP,IANXvP,EAAW+O,QAAU,CAACt1B,EAAK0b,EAAU/qB,IAAYqkC,EAAUtZ,EAAU/qB,EAApBqkC,CAA6Bh1B,GAyB9EumB,EAAWwP,IAAM,CAACl0B,EAAM6Z,EAAU/qB,EAAU,CAAC,KAC3C+qB,EAAW,GAAGtrB,OAAOsrB,GAAUvyB,IAAI4gC,QACnC,IAAIv/B,EAAS,IAAImF,IACbg2B,EAAQ,GAOR8I,EAAU,IAAI9+B,IAAI42B,EAAW1kB,EAAM6Z,EAAU,IAAK/qB,EAASykC,SALhDC,IACT1kC,EAAQykC,UAAUzkC,EAAQykC,SAASC,GACvC1P,EAAMh5B,KAAK0oC,EAAMzkC,OAAO,KAK1B,IAAK,IAAIjC,KAAQg3B,EACV8I,EAAQxd,IAAItiB,IACfnE,EAAOqF,IAAIlB,GAGf,MAAO,IAAInE,EAAO,EAuBpB+7B,EAAWyP,SAAW,CAACh2B,EAAKjP,EAASJ,KACnC,GAAmB,iBAARqP,EACT,MAAM,IAAIxJ,UAAU,uBAAuBqI,EAAKkB,QAAQC,OAG1D,GAAInP,MAAMC,QAAQC,GAChB,OAAOA,EAAQq2B,MAAKtxB,GAAKywB,EAAWyP,SAASh2B,EAAKlK,EAAGnF,KAGvD,GAAuB,iBAAZI,EAAsB,CAC/B,GAAIkkC,EAAcj1B,IAAQi1B,EAAclkC,GACtC,OAAO,EAGT,GAAIiP,EAAIgW,SAASjlB,IAAaiP,EAAI8Y,WAAW,OAAS9Y,EAAItI,MAAM,GAAGse,SAASjlB,GAC1E,OAAO,CAEX,CAEA,OAAOw1B,EAAW+O,QAAQt1B,EAAKjP,EAAS,IAAKJ,EAASqlC,UAAU,GAAO,EAuBzEzP,EAAW0P,UAAY,CAACx2B,EAAKic,EAAU/qB,KACrC,IAAKhI,EAAM4gC,SAAS9pB,GAClB,MAAM,IAAIjJ,UAAU,+CAEtB,IAAI8H,EAAOioB,EAAW5gC,OAAO2Y,KAAKmB,GAAMic,EAAU/qB,GAC9C+hB,EAAM,CAAC,EACX,IAAK,IAAInU,KAAOD,EAAMoU,EAAInU,GAAOkB,EAAIlB,GACrC,OAAOmU,CAAG,EAsBZ6T,EAAWa,KAAO,CAACvlB,EAAM6Z,EAAU/qB,KACjC,IAAIg1B,EAAQ,GAAGv1B,OAAOyR,GAEtB,IAAK,IAAI9Q,IAAW,GAAGX,OAAOsrB,GAAW,CACvC,IAAI4Z,EAAUN,EAAUjL,OAAOh5B,GAAUJ,GACzC,GAAIg1B,EAAMyB,MAAKz4B,GAAQ2mC,EAAQ3mC,KAC7B,OAAO,CAEX,CACA,OAAO,CAAK,EA2Bd43B,EAAWzK,MAAQ,CAACja,EAAM6Z,EAAU/qB,KAClC,IAAIg1B,EAAQ,GAAGv1B,OAAOyR,GAEtB,IAAK,IAAI9Q,IAAW,GAAGX,OAAOsrB,GAAW,CACvC,IAAI4Z,EAAUN,EAAUjL,OAAOh5B,GAAUJ,GACzC,IAAKg1B,EAAM7J,OAAMntB,GAAQ2mC,EAAQ3mC,KAC/B,OAAO,CAEX,CACA,OAAO,CAAI,EA8Bb43B,EAAWtlB,IAAM,CAACjB,EAAK0b,EAAU/qB,KAC/B,GAAmB,iBAARqP,EACT,MAAM,IAAIxJ,UAAU,uBAAuBqI,EAAKkB,QAAQC,OAG1D,MAAO,GAAG5P,OAAOsrB,GAAUI,OAAMhmB,GAAKk/B,EAAUl/B,EAAGnF,EAAbqkC,CAAsBh1B,IAAK,EAsBnEumB,EAAW6D,QAAU,CAACiB,EAAM36B,EAAOC,KACjC,IAAIiQ,EAAQjY,EAAMutC,UAAUvlC,GAExBkJ,EADQm7B,EAAUlT,OAAOiI,OAAOsB,GAAO,IAAK16B,EAASy5B,SAAS,IAChDkJ,KAAK1yB,EAAQjY,EAAMwtC,eAAezlC,GAASA,GAE7D,GAAImJ,EACF,OAAOA,EAAMnC,MAAM,GAAGvO,KAAI6S,QAAW,IAANA,EAAe,GAAKA,GACrD,EAmBFuqB,EAAWzE,OAAS,IAAI1vB,IAAS4iC,EAAUlT,UAAU1vB,GAgBrDm0B,EAAWY,KAAO,IAAI/0B,IAAS4iC,EAAU7N,QAAQ/0B,GAgBjDm0B,EAAW/1B,MAAQ,CAACkrB,EAAU/qB,KAC5B,IAAI+hB,EAAM,GACV,IAAK,IAAI3hB,IAAW,GAAGX,OAAOsrB,GAAY,IACxC,IAAK,IAAI1b,KAAOvP,EAAOs5B,OAAOh5B,GAAUJ,GACtC+hB,EAAI/lB,KAAKqoC,EAAUxkC,MAAMwP,EAAKrP,IAGlC,OAAO+hB,CAAG,EAoBZ6T,EAAW91B,OAAS,CAACM,EAASJ,KAC5B,GAAuB,iBAAZI,EAAsB,MAAM,IAAIyF,UAAU,qBACrD,OAAK7F,IAA+B,IAApBA,EAAQqyB,UAAsB,SAAS3kB,KAAKtN,GACnD,CAACA,GAEHN,EAAOM,EAASJ,EAAQ,EAOjC41B,EAAW6P,YAAc,CAACrlC,EAASJ,KACjC,GAAuB,iBAAZI,EAAsB,MAAM,IAAIyF,UAAU,qBACrD,OAAO+vB,EAAW91B,OAAOM,EAAS,IAAKJ,EAASJ,QAAQ,GAAO,EAOjEL,EAAOrK,QAAU0gC,YC9cjB,IAAI8P,EAAI,IACJC,EAAQ,GAAJD,EACJvkB,EAAQ,GAAJwkB,EACJC,EAAQ,GAAJzkB,EAuJR,SAAS0kB,EAAO55B,EAAI65B,EAAOj+B,EAAGnP,GAC5B,IAAIqtC,EAAWD,GAAa,IAAJj+B,EACxB,OAAO5B,KAAK+/B,MAAM/5B,EAAKpE,GAAK,IAAMnP,GAAQqtC,EAAW,IAAM,GAC7D,CAxIAxmC,EAAOrK,QAAU,SAASoX,EAAKtM,GAC7BA,EAAUA,GAAW,CAAC,EACtB,IA8GeiM,EACX65B,EA/GAzkC,SAAciL,EAClB,GAAa,WAATjL,GAAqBiL,EAAI7L,OAAS,EACpC,OAkBJ,SAAe4O,GAEb,MADAA,EAAM+pB,OAAO/pB,IACL5O,OAAS,KAAjB,CAGA,IAAIyI,EAAQ,mIAAmIy5B,KAC7ItzB,GAEF,GAAKnG,EAAL,CAGA,IAAIrB,EAAIo+B,WAAW/8B,EAAM,IAEzB,QADYA,EAAM,IAAM,MAAMe,eAE5B,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAzDE27B,SAyDK/9B,EACT,IAAK,QACL,IAAK,OACL,IAAK,IACH,OA9DE+9B,OA8DK/9B,EACT,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOA,EAAI+9B,EACb,IAAK,QACL,IAAK,OACL,IAAK,MACL,IAAK,KACL,IAAK,IACH,OAAO/9B,EAAIsZ,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAOtZ,EAAI89B,EACb,IAAK,UACL,IAAK,SACL,IAAK,OACL,IAAK,MACL,IAAK,IACH,OAAO99B,EAAI69B,EACb,IAAK,eACL,IAAK,cACL,IAAK,QACL,IAAK,OACL,IAAK,KACH,OAAO79B,EACT,QACE,OA3CJ,CANA,CAmDF,CAzEWhI,CAAMyM,GACR,GAAa,WAATjL,GAAqBkiC,SAASj3B,GACvC,OAAOtM,EAAQkmC,MA0GFj6B,EA1GiBK,GA2G5Bw5B,EAAQ7/B,KAAK8H,IAAI9B,KACR25B,EACJC,EAAO55B,EAAI65B,EAAOF,EAAG,OAE1BE,GAAS3kB,EACJ0kB,EAAO55B,EAAI65B,EAAO3kB,EAAG,QAE1B2kB,GAASH,EACJE,EAAO55B,EAAI65B,EAAOH,EAAG,UAE1BG,GAASJ,EACJG,EAAO55B,EAAI65B,EAAOJ,EAAG,UAEvBz5B,EAAK,OAvCd,SAAkBA,GAChB,IAAI65B,EAAQ7/B,KAAK8H,IAAI9B,GACrB,OAAI65B,GAASF,EACJ3/B,KAAK+/B,MAAM/5B,EAAK25B,GAAK,IAE1BE,GAAS3kB,EACJlb,KAAK+/B,MAAM/5B,EAAKkV,GAAK,IAE1B2kB,GAASH,EACJ1/B,KAAK+/B,MAAM/5B,EAAK05B,GAAK,IAE1BG,GAASJ,EACJz/B,KAAK+/B,MAAM/5B,EAAKy5B,GAAK,IAEvBz5B,EAAK,IACd,CAhGyCk6B,CAAS75B,GAEhD,MAAM,IAAIhW,MACR,wDACEgV,KAAK5L,UAAU4M,GAErB,kBCnCA,IAAK85B,WAAWC,aACd,IACE,MAAM,eAAEC,GAAmB,EAAQ,MACnC1kB,GAAO,IAAI0kB,GAAiBC,MAC5BC,EAAK,IAAI10B,YACT8P,EAAK6kB,YAAYD,EAAI,CAACA,EAAIA,GAC5B,CAAE,MAAOzvB,GACkB,iBAAzBA,EAAI5c,YAAYzB,OACd0tC,WAAWC,aAAetvB,EAAI5c,YAElC,CAGFoF,EAAOrK,QAAUkxC,WAAWC,4BCf5B,MAAMK,EAA6D,QAC/B,mBAAzBA,EAAeC,MACxBpnC,EAAOrK,QAAUwxC,EAAeC,MAAM/rC,KAAK8rC,GAE3CnnC,EAAOrK,QAAU,EAAjB,sBCJF,IAAII,EAAK,EAAQ,MACbgC,EAAO,EAAQ,MACfq9B,EAAK,EAAQ,MAGb+R,EAA6D,QAE7DE,EAAQ1wC,QAAQ2wC,QAAU3wC,QAAQ2wC,OAAOC,WAAc,CAAC,EACxDC,IAAkB7wC,QAAQyT,IAAIq9B,eAC9BC,EAAM/wC,QAAQC,SAAS+wC,QACvBC,EAoLEjxC,QAAQC,UAAYD,QAAQC,SAASixC,UACrClxC,QAAQyT,IAAI09B,sBACS,oBAAXx9B,QAA0BA,OAAO3T,SAAmC,aAAxB2T,OAAO3T,QAAQmL,KAtL9C,WAgLjBnL,QAAQC,UAAYD,QAAQC,SAASmxC,GAhLK,cAAgB,OAElEC,EAAOrxC,QAAQyT,IAAI69B,iBAAmB7S,EAAG4S,OACzC/E,EAAWtsC,QAAQyT,IAAI89B,qBAAuB9S,EAAG6N,WACjDkF,EAAOxxC,QAAQyT,IAAIg+B,OAqLvB,SAAmBnF,GACjB,MAAoB,UAAbA,GAAwBltC,EAAGsyC,WAAW,sBAC/C,CAvLgCC,CAASrF,GAAY,OAAS,SAC1DsF,EAAO5xC,QAAQyT,IAAIo+B,cAAyB,UAATR,EAAmB,IAAMX,EAAKoB,cAAgB,GACjFC,GAAM/xC,QAAQC,SAAS8xC,IAAM,IAAI5xC,MAAM,KAAK,GAIhD,SAASmT,EAAM0+B,GACb,OAAOxB,EAAel9B,EAAKyoB,QAAQiW,GACrC,CAsDA,SAAStyC,EAAasyC,GACpB,IACE,OAAO5yC,EAAGM,YAAYsyC,EACxB,CAAE,MAAOnxB,GACP,MAAO,EACT,CACF,CAEA,SAASoxB,EAAUD,EAAKvpC,GACtB,IAAIoR,EAAQna,EAAYsyC,GAAKvpC,OAAOA,GACpC,OAAOoR,EAAM,IAAMzY,EAAKuH,KAAKqpC,EAAKn4B,EAAM,GAC1C,CAEA,SAASq4B,EAAY1vC,GACnB,MAAO,UAAUgV,KAAKhV,EACxB,CAEA,SAAS2vC,EAAY3vC,GAEnB,IAAIuP,EAAMvP,EAAKrC,MAAM,KACrB,GAAmB,IAAf4R,EAAIxH,OAAR,CAEA,IAAI+hC,EAAWv6B,EAAI,GACfqgC,EAAgBrgC,EAAI,GAAG5R,MAAM,KAEjC,GAAKmsC,GACA8F,EAAc7nC,QACd6nC,EAAcnd,MAAM3qB,SAEzB,MAAO,CAAE9H,OAAM8pC,WAAU8F,gBATH,CAUxB,CAEA,SAASC,EAAY/F,EAAU+E,GAC7B,OAAO,SAAUiB,GACf,OAAa,MAATA,GACAA,EAAMhG,WAAaA,GAChBgG,EAAMF,cAAcjjB,SAASkiB,EACtC,CACF,CAEA,SAASkB,EAAe3uC,EAAGC,GAEzB,OAAOD,EAAEwuC,cAAc7nC,OAAS1G,EAAEuuC,cAAc7nC,MAClD,CAEA,SAASioC,EAAWx4B,GAClB,IAAIjI,EAAMiI,EAAK7Z,MAAM,KAEjBsyC,EAAO,CAAEz4B,KAAMA,EAAM04B,YAAa,GAEtC,GAAkB,SAHF3gC,EAAI3C,MAGpB,CAEA,IAAK,IAAIM,EAAI,EAAGA,EAAIqC,EAAIxH,OAAQmF,IAAK,CACnC,IAAIijC,EAAM5gC,EAAIrC,GAEd,GAAY,SAARijC,GAA0B,aAARA,GAA8B,gBAARA,EAC1CF,EAAKxB,QAAU0B,OACV,GAAY,SAARA,EACTF,EAAKG,MAAO,OACP,GAAwB,QAApBD,EAAI9hC,MAAM,EAAG,GACtB4hC,EAAK1B,IAAM4B,EAAI9hC,MAAM,QAChB,GAAwB,OAApB8hC,EAAI9hC,MAAM,EAAG,GACtB4hC,EAAKV,GAAKY,EAAI9hC,MAAM,QACf,GAAwB,SAApB8hC,EAAI9hC,MAAM,EAAG,GACtB4hC,EAAKb,KAAOe,EAAI9hC,MAAM,OACjB,IAAY,UAAR8hC,GAA2B,SAARA,EAG5B,SAFAF,EAAKjB,KAAOmB,CAGd,CAEAF,EAAKC,aACP,CAEA,OAAOD,CAxBmB,CAyB5B,CAEA,SAASI,EAAW5B,EAASF,GAC3B,OAAO,SAAU0B,GACf,QAAY,MAARA,GACAA,EAAKxB,SAAWwB,EAAKxB,UAAYA,IAUzC,SAA0BwB,GACxB,MAAwB,SAAjBA,EAAKxB,SAAsBwB,EAAKG,IACzC,CAZqDE,CAAgBL,IAC7DA,EAAK1B,KAAO0B,EAAK1B,MAAQA,IAAQ0B,EAAKG,MACtCH,EAAKV,IAAMU,EAAKV,KAAOA,GACvBU,EAAKb,MAAQa,EAAKb,OAASA,GAC3Ba,EAAKjB,MAAQiB,EAAKjB,OAASA,EAGjC,CACF,CAMA,SAASuB,EAAa9B,GAEpB,OAAO,SAAUrtC,EAAGC,GAClB,OAAID,EAAEqtC,UAAYptC,EAAEotC,QACXrtC,EAAEqtC,UAAYA,GAAW,EAAI,EAC3BrtC,EAAEmtC,MAAQltC,EAAEktC,IACdntC,EAAEmtC,KAAO,EAAI,EACXntC,EAAE8uC,cAAgB7uC,EAAE6uC,YACtB9uC,EAAE8uC,YAAc7uC,EAAE6uC,aAAe,EAAI,EAErC,CAEX,CACF,CArKArpC,EAAOrK,QAAUsU,EAMjBA,EAAKyoB,QAAUzoB,EAAKlS,KAAO,SAAU4wC,GACnCA,EAAM5wC,EAAK26B,QAAQiW,GAAO,KAE1B,IACE,IAAIxvC,EAAOguC,EAAepvC,EAAKuH,KAAKqpC,EAAK,iBAAiBxvC,KAAKwW,cAAcjG,QAAQ,KAAM,KACvF/S,QAAQyT,IAAIjR,EAAO,eAAcwvC,EAAMhyC,QAAQyT,IAAIjR,EAAO,aAChE,CAAE,MAAOqe,GAAM,CAEf,IAAKgwB,EAAe,CAClB,IAAItP,EAAU0Q,EAAS7wC,EAAKuH,KAAKqpC,EAAK,iBAAkBE,GACxD,GAAI3Q,EAAS,OAAOA,EAEpB,IAAIvsB,EAAQi9B,EAAS7wC,EAAKuH,KAAKqpC,EAAK,eAAgBE,GACpD,GAAIl9B,EAAO,OAAOA,CACpB,CAEA,IAAIg+B,EAAWjX,EAAQiW,GACvB,GAAIgB,EAAU,OAAOA,EAErB,IAAIC,EAASlX,EAAQ36B,EAAK2yB,QAAQ/zB,QAAQkzC,WAC1C,GAAID,EAAQ,OAAOA,EAEnB,IAAI/3B,EAAS,CACX,YAAcoxB,EACd,QAAU+E,EACV,WAAaJ,EACb,OAASF,EACT,MAAQgB,EACRH,EAAO,QAAUA,EAAO,GACxB,QAAUJ,EACV,QAAUxxC,QAAQC,SAASC,KAC3BF,QAAQC,SAASixC,SAAW,YAAclxC,QAAQC,SAASixC,SAAW,GAC1B,gBAC5CzoC,OAAO6B,SAAS3B,KAAK,KAEvB,MAAM,IAAIvI,MAAM,iCAAmC8a,EAAS,sBAAwB82B,EAAM,MAE1F,SAASjW,EAASiW,GAEhB,IACIM,EADS5yC,EAAY0B,EAAKuH,KAAKqpC,EAAK,cAAc1vC,IAAI6vC,GACvC1pC,OAAO4pC,EAAW/F,EAAU+E,IAAOlN,KAAKoO,GAAe,GAC1E,GAAKD,EAAL,CAGA,IAAIa,EAAY/xC,EAAKuH,KAAKqpC,EAAK,YAAaM,EAAM9vC,MAG9C4wC,EAFS1zC,EAAYyzC,GAAW7wC,IAAIkwC,GAChB/pC,OAAOoqC,EAAU5B,EAASF,IAC1B5M,KAAK4O,EAAY9B,IAAU,GACnD,OAAImC,EAAehyC,EAAKuH,KAAKwqC,EAAWC,EAAOp5B,WAA/C,CAPY,CAQd,CACF,EA+HA1G,EAAKk/B,UAAYA,EACjBl/B,EAAKu/B,UAAYA,EACjBv/B,EAAKy/B,YAAcA,EACnBz/B,EAAK6+B,WAAaA,EAClB7+B,EAAK++B,WAAaA,EAClB/+B,EAAKi/B,cAAgBA,+BC7MrB,MAAM,UAACvN,GAAa,EAAQ,MACtB5lC,EAAK,EAAQ,MAEnB0B,eAAeuyC,EAAOC,EAAYC,EAAiBxN,GAClD,GAAwB,iBAAbA,EACV,MAAM,IAAIp2B,UAAU,iCAAiCo2B,GAGtD,IAEC,aADoBf,EAAU5lC,EAAGk0C,GAAbtO,CAA0Be,IACjCwN,IACd,CAAE,MAAO7vC,GACR,GAAmB,WAAfA,EAAM2Z,KACT,OAAO,EAGR,MAAM3Z,CACP,CACD,CAEA,SAAS8vC,EAAWF,EAAYC,EAAiBxN,GAChD,GAAwB,iBAAbA,EACV,MAAM,IAAIp2B,UAAU,iCAAiCo2B,GAGtD,IACC,OAAO3mC,EAAGk0C,GAAYvN,GAAUwN,IACjC,CAAE,MAAO7vC,GACR,GAAmB,WAAfA,EAAM2Z,KACT,OAAO,EAGR,MAAM3Z,CACP,CACD,CAEA1E,EAAQ8F,OAASuuC,EAAO3uC,KAAK,KAAM,OAAQ,UAC3C1F,EAAQ4F,YAAcyuC,EAAO3uC,KAAK,KAAM,OAAQ,eAChD1F,EAAQy0C,UAAYJ,EAAO3uC,KAAK,KAAM,QAAS,kBAC/C1F,EAAQ00C,WAAaF,EAAW9uC,KAAK,KAAM,WAAY,UACvD1F,EAAQqb,gBAAkBm5B,EAAW9uC,KAAK,KAAM,WAAY,eAC5D1F,EAAQ20C,cAAgBH,EAAW9uC,KAAK,KAAM,YAAa,+CCxC3D2E,EAAOrK,QAAU,EAAjB,mCCAA,MAAMoC,EAAO,EAAQ,MACfwyC,EAAY,QACZC,EAAe,KAAKD,KAMpBE,EAAc,MAGdC,EAAgB,MAEhBC,EAAQ,OACRC,EAAa,MAAMF,OACnBG,EAAe,QAAQH,KACvBI,EAAa,GAAGL,SAAmBG,IAQnCG,EAAc,CAClBN,cACAO,aAjBmB,MAkBnBC,cAjBoB,MAkBpBP,gBACAQ,SAjBe,QAkBfP,QACAC,aACAE,aACAK,OAhBa,MAAMV,KAiBnBW,QAhBc,MAAMP,IAAeC,KAiBnCO,aAhBmB,MAAMZ,SAAmBG,KAiB5CU,cAhBoB,MAAMR,KAiB1BS,aAhBmB,MAAMb,KAiBzBc,KAhBW,GAAGb,MAiBdE,gBAOIY,EAAgB,IACjBV,EAEHL,cAAe,IAAIH,KACnBI,MAAOH,EACPgB,KAAM,GAAGhB,MACTM,WAAY,GAAGL,aAAuBF,QACtCY,OAAQ,MAAMV,KACdW,QAAS,YAAYb,MAAcE,aAAuBF,SAC1Dc,aAAc,MAAMZ,aAAuBF,SAC3Ce,cAAe,MAAMb,aAAuBF,SAC5CgB,aAAc,MAAMhB,KACpBM,aAAc,SAASN,MACvBK,WAAY,OAAOL,SAwBrBvqC,EAAOrK,QAAU,CACf6M,WAAY,MACZkpC,mBAnByB,CACzBC,MAAO,YACPC,MAAO,SACPC,MAAO,cACPC,MAAO,OACPC,MAAO,mBACPC,MAAO,MACPC,MAAO,cACPC,MAAO,MACPC,MAAO,eACPC,MAAO,yCACPC,MAAO,mBACPC,MAAO,MACPC,KAAM,aACNC,OAAQ,aAQRC,gBAAiB,yBACjBC,wBAAyB,4BACzBC,oBAAqB,oBACrBC,4BAA6B,oBAC7BC,2BAA4B,uBAC5BC,uBAAwB,4BAGxBC,aAAc,CACZ,MAAO,IACP,QAAS,KACT,WAAY,MAIdtqC,OAAQ,GACRC,OAAQ,GAGRC,iBAAkB,GAClBC,iBAAkB,GAClBC,iBAAkB,GAClBC,iBAAkB,IAElBC,sBAAuB,GACvBC,uBAAwB,GAExBC,cAAe,GAGfC,eAAgB,GAChBC,QAAS,GACT6pC,oBAAqB,GACrB1pC,qBAAsB,GACtBC,uBAAwB,GACxBC,WAAY,GACZC,WAAY,GACZE,SAAU,GACVC,kBAAmB,GACnBC,WAAY,GACZC,sBAAuB,GACvBC,eAAgB,GAChBC,mBAAoB,GACpBipC,kBAAmB,GACnBhpC,UAAW,GACXC,kBAAmB,GACnBC,wBAAyB,GACzBC,sBAAuB,IACvBC,yBAA0B,GAC1BC,eAAgB,GAChBC,oBAAqB,IACrBC,aAAc,GACdC,UAAW,GACXC,mBAAoB,GACpBC,yBAA0B,GAC1BC,uBAAwB,IACxBC,0BAA2B,GAC3BC,eAAgB,GAChBC,kBAAmB,GACnBC,WAAY,GACZC,SAAU,EACVC,gBAAiB,GACjBC,mBAAoB,IACpBC,8BAA+B,MAE/B8nC,IAAKn1C,EAAKiD,IAMVmyC,aAAa7J,IACJ,CACL,IAAK,CAAExhC,KAAM,SAAUoF,KAAM,YAAaK,MAAO,KAAK+7B,EAAMkI,SAC5D,IAAK,CAAE1pC,KAAM,QAASoF,KAAM,MAAOK,MAAO,MAC1C,IAAK,CAAEzF,KAAM,OAAQoF,KAAM,MAAOK,MAAO,MACzC,IAAK,CAAEzF,KAAM,OAAQoF,KAAM,MAAOK,MAAO,MACzC,IAAK,CAAEzF,KAAM,KAAMoF,KAAM,MAAOK,MAAO,OAQ3C6lC,UAAUC,IACS,IAAVA,EAAiB5B,EAAgBV,gCC9K5C,MAAMuC,EAAY,EAAQ,MACpB70C,EAAQ,EAAQ,OAMhB,WACJ+J,EAAU,mBACVkpC,EAAkB,wBAClBgB,EAAuB,4BACvBE,EAA2B,aAC3BG,GACEO,EAMEC,EAAc,CAACrrC,EAAMzB,KACzB,GAAmC,mBAAxBA,EAAQ8sC,YACjB,OAAO9sC,EAAQ8sC,eAAerrC,EAAMzB,GAGtCyB,EAAK44B,OACL,MAAMllC,EAAQ,IAAIsM,EAAK5C,KAAK,QAE5B,IAEE,IAAI6L,OAAOvV,EACb,CAAE,MAAO43C,GACP,OAAOtrC,EAAKjJ,KAAI6S,GAAKrT,EAAMg1C,YAAY3hC,KAAIxM,KAAK,KAClD,CAEA,OAAO1J,CAAK,EAOR83C,EAAc,CAAC5rC,EAAM6rC,IAClB,WAAW7rC,OAAU6rC,iBAAoBA,iCAU5CrtC,EAAQ,CAACE,EAAOC,KACpB,GAAqB,iBAAVD,EACT,MAAM,IAAI8F,UAAU,qBAGtB9F,EAAQusC,EAAavsC,IAAUA,EAE/B,MAAM+F,EAAO,IAAK9F,GACZ+F,EAAgC,iBAAnBD,EAAKE,UAAyBC,KAAKC,IAAInE,EAAY+D,EAAKE,WAAajE,EAExF,IAAI0L,EAAM1N,EAAMU,OAChB,GAAIgN,EAAM1H,EACR,MAAM,IAAII,YAAY,iBAAiBsH,sCAAwC1H,KAGjF,MAAMonC,EAAM,CAAE9rC,KAAM,MAAOlM,MAAO,GAAI8K,OAAQ6F,EAAKsnC,SAAW,IACxDC,EAAS,CAACF,GAEV1T,EAAU3zB,EAAK2zB,QAAU,GAAK,KAC9BmT,EAAQ50C,EAAMutC,UAAUvlC,GAGxBstC,EAAiBT,EAAUF,UAAUC,GACrCW,EAAgBV,EAAUH,aAAaY,IAEvC,YACJtD,EAAW,aACXO,EAAY,cACZN,EAAa,SACbQ,EAAQ,WACRJ,EAAU,OACVK,EAAM,aACNE,EAAY,cACZC,EAAa,MACbX,EAAK,aACLY,EAAY,KACZC,EAAI,aACJX,GACEkD,EAEE1a,EAAW9sB,GACR,IAAI2zB,UAAgB2Q,IAAetkC,EAAKqsB,IAAMkY,EAAaL,UAG9DwD,EAAQ1nC,EAAKqsB,IAAM,GAAKuY,EACxB+C,EAAa3nC,EAAKqsB,IAAM+X,EAAQY,EACtC,IAAI4C,GAAqB,IAAd5nC,EAAK6nC,KAAgB/a,EAAS9sB,GAAQilC,EAE7CjlC,EAAK2zB,UACPiU,EAAO,IAAIA,MAIa,kBAAf5nC,EAAK2sB,QACd3sB,EAAK8nC,UAAY9nC,EAAK2sB,OAGxB,MAAMiS,EAAQ,CACZ3kC,QACAuG,OAAQ,EACRkP,MAAO,EACP2c,KAAkB,IAAbrsB,EAAKqsB,IACV0b,SAAU,GACV5tC,OAAQ,GACRiB,OAAQ,GACR4sC,WAAW,EACXlJ,SAAS,EACTv+B,SAAU,EACVvG,OAAQ,EACRiuC,OAAQ,EACRC,OAAQ,EACRpb,UAAU,EACVya,UAGFttC,EAAQ/H,EAAMi2C,aAAaluC,EAAO2kC,GAClCj3B,EAAM1N,EAAMU,OAEZ,MAAMytC,EAAW,GACXpuC,EAAS,GACTsG,EAAQ,GACd,IACIjR,EADAmM,EAAO6rC,EAOX,MAAMgB,EAAM,IAAMzJ,EAAMp+B,QAAUmH,EAAM,EAClC2gC,EAAO1J,EAAM0J,KAAO,CAACvmC,EAAI,IAAM9H,EAAM2kC,EAAMp+B,MAAQuB,GACnDrB,EAAUk+B,EAAMl+B,QAAU,IAAMzG,IAAQ2kC,EAAMp+B,QAAU,GACxD+nC,EAAY,IAAMtuC,EAAMgH,MAAM29B,EAAMp+B,MAAQ,GAC5CgV,EAAU,CAACnmB,EAAQ,GAAIqS,EAAM,KACjCk9B,EAAMmJ,UAAY14C,EAClBuvC,EAAMp+B,OAASkB,CAAG,EAGd5C,EAAS8Q,IACbgvB,EAAMzkC,QAA0B,MAAhByV,EAAMzV,OAAiByV,EAAMzV,OAASyV,EAAMvgB,MAC5DmmB,EAAQ5F,EAAMvgB,MAAM,EAGhBm5C,EAAS,KACb,IAAIC,EAAQ,EAEZ,KAAkB,MAAXH,MAA+B,MAAZA,EAAK,IAA0B,MAAZA,EAAK,KAChD5nC,IACAk+B,EAAMlvB,QACN+4B,IAGF,OAAIA,EAAQ,GAAM,IAIlB7J,EAAME,SAAU,EAChBF,EAAMlvB,SACC,EAAI,EAGPg5B,EAAYntC,IAChBqjC,EAAMrjC,KACN+E,EAAMpK,KAAKqF,EAAK,EAGZotC,EAAYptC,IAChBqjC,EAAMrjC,KACN+E,EAAMd,KAAK,EAWPtJ,EAAO0yC,IACX,GAAkB,aAAdptC,EAAKD,KAAqB,CAC5B,MAAMstC,EAAUjK,EAAM5kC,OAAS,IAAmB,UAAb4uC,EAAIrtC,MAAiC,UAAbqtC,EAAIrtC,MAC3DuhC,GAA4B,IAAhB8L,EAAIhc,SAAqBwb,EAASztC,SAAwB,SAAbiuC,EAAIrtC,MAAgC,UAAbqtC,EAAIrtC,MAEzE,UAAbqtC,EAAIrtC,MAAiC,UAAbqtC,EAAIrtC,MAAqBstC,GAAY/L,IAC/D8B,EAAMzkC,OAASykC,EAAMzkC,OAAO8G,MAAM,GAAIzF,EAAKrB,OAAOQ,QAClDa,EAAKD,KAAO,OACZC,EAAKnM,MAAQ,IACbmM,EAAKrB,OAASytC,EACdhJ,EAAMzkC,QAAUqB,EAAKrB,OAEzB,CAOA,GALIiuC,EAASztC,QAAuB,UAAbiuC,EAAIrtC,OACzB6sC,EAASA,EAASztC,OAAS,GAAGmuC,OAASF,EAAIv5C,QAGzCu5C,EAAIv5C,OAASu5C,EAAIzuC,SAAQ2E,EAAO8pC,GAChCptC,GAAsB,SAAdA,EAAKD,MAAgC,SAAbqtC,EAAIrtC,KAGtC,OAFAC,EAAKnM,OAASu5C,EAAIv5C,WAClBmM,EAAKrB,QAAUqB,EAAKrB,QAAU,IAAMyuC,EAAIv5C,OAI1Cu5C,EAAIptC,KAAOA,EACX+rC,EAAOrxC,KAAK0yC,GACZptC,EAAOotC,CAAG,EAGNG,EAAc,CAACxtC,EAAMlM,KACzB,MAAMugB,EAAQ,IAAK63B,EAAcp4C,GAAQ25C,WAAY,EAAGF,MAAO,IAE/Dl5B,EAAMpU,KAAOA,EACboU,EAAMq4B,OAASrJ,EAAMqJ,OACrBr4B,EAAMzV,OAASykC,EAAMzkC,OACrB,MAAMA,GAAU6F,EAAK2zB,QAAU,IAAM,IAAM/jB,EAAMjP,KAEjD+nC,EAAU,UACVxyC,EAAK,CAAEqF,OAAMlM,QAAO8K,OAAQykC,EAAMzkC,OAAS,GAAKwqC,IAChDzuC,EAAK,CAAEqF,KAAM,QAASqxB,SAAS,EAAMv9B,MAAOqR,IAAWvG,WACvDiuC,EAASlyC,KAAK0Z,EAAM,EAGhBq5B,GAAer5B,IACnB,IACIs5B,EADA/uC,EAASyV,EAAM5O,OAAShB,EAAK2zB,QAAU,IAAM,IAGjD,GAAmB,WAAf/jB,EAAMrU,KAAmB,CAC3B,IAAI4tC,EAAcvB,EAUlB,GARIh4B,EAAMk5B,OAASl5B,EAAMk5B,MAAMnuC,OAAS,GAAKiV,EAAMk5B,MAAMvpB,SAAS,OAChE4pB,EAAcrc,EAAS9sB,KAGrBmpC,IAAgBvB,GAAQS,KAAS,QAAQzgC,KAAK2gC,QAChDpuC,EAASyV,EAAM5O,MAAQ,OAAOmoC,KAG5Bv5B,EAAMk5B,MAAMvpB,SAAS,OAAS2pB,EAAOX,MAAgB,eAAe3gC,KAAKshC,GAAO,CAMlF,MAAME,EAAarvC,EAAMmvC,EAAM,IAAKhvC,EAASmvC,WAAW,IAASlvC,OAEjEA,EAASyV,EAAM5O,MAAQ,IAAIooC,KAAcD,IAC3C,CAEwB,QAApBv5B,EAAMpU,KAAKD,OACbqjC,EAAMG,gBAAiB,EAE3B,CAEA7oC,EAAK,CAAEqF,KAAM,QAASqxB,SAAS,EAAMv9B,QAAO8K,WAC5CwuC,EAAU,SAAS,EAOrB,IAAuB,IAAnB3oC,EAAKqpC,YAAwB,sBAAsBzhC,KAAK3N,GAAQ,CAClE,IAAIqvC,GAAc,EAEdnvC,EAASF,EAAMkJ,QAAQkjC,GAA6B,CAACxG,EAAG0J,EAAKxM,EAAOyM,EAAON,EAAM1oC,IACrE,OAAVgpC,GACFF,GAAc,EACPzJ,GAGK,MAAV2J,EACED,EACKA,EAAMC,GAASN,EAAO9E,EAAMqF,OAAOP,EAAKvuC,QAAU,IAE7C,IAAV6F,EACKmnC,GAAcuB,EAAO9E,EAAMqF,OAAOP,EAAKvuC,QAAU,IAEnDypC,EAAMqF,OAAO1M,EAAMpiC,QAGd,MAAV6uC,EACKtF,EAAYuF,OAAO1M,EAAMpiC,QAGpB,MAAV6uC,EACED,EACKA,EAAMC,GAASN,EAAOtB,EAAO,IAE/BA,EAEF2B,EAAM1J,EAAI,KAAKA,MAaxB,OAVoB,IAAhByJ,IAEAnvC,GADoB,IAAlB6F,EAAKo/B,SACEjlC,EAAOgJ,QAAQ,MAAO,IAEtBhJ,EAAOgJ,QAAQ,QAAQ08B,GACvBA,EAAEllC,OAAS,GAAM,EAAI,OAAUklC,EAAI,KAAO,MAKnD1lC,IAAWF,IAA2B,IAAlB+F,EAAKu/B,UAC3BX,EAAMzkC,OAASF,EACR2kC,IAGTA,EAAMzkC,OAASjI,EAAMw3C,WAAWvvC,EAAQykC,EAAO1kC,GACxC0kC,EACT,CAMA,MAAQyJ,KAAO,CAGb,GAFAh5C,EAAQqR,IAEM,OAAVrR,EACF,SAOF,GAAc,OAAVA,EAAgB,CAClB,MAAM6R,EAAOonC,IAEb,GAAa,MAATpnC,IAA8B,IAAdlB,EAAK6nC,KACvB,SAGF,GAAa,MAAT3mC,GAAyB,MAATA,EAClB,SAGF,IAAKA,EAAM,CACT7R,GAAS,KACT6G,EAAK,CAAEqF,KAAM,OAAQlM,UACrB,QACF,CAGA,MAAM+T,EAAQ,OAAOy5B,KAAK0L,KAC1B,IAAIzO,EAAU,EAgBd,GAdI12B,GAASA,EAAM,GAAGzI,OAAS,IAC7Bm/B,EAAU12B,EAAM,GAAGzI,OACnBikC,EAAMp+B,OAASs5B,EACXA,EAAU,GAAM,IAClBzqC,GAAS,QAIS,IAAlB2Q,EAAKo/B,SACP/vC,EAAQqR,IAERrR,GAASqR,IAGY,IAAnBk+B,EAAMr+B,SAAgB,CACxBrK,EAAK,CAAEqF,KAAM,OAAQlM,UACrB,QACF,CACF,CAOA,GAAIuvC,EAAMr+B,SAAW,IAAgB,MAAVlR,GAAgC,MAAfmM,EAAKnM,OAAgC,OAAfmM,EAAKnM,OAAiB,CACtF,IAAmB,IAAf2Q,EAAKmK,OAA6B,MAAV9a,EAAe,CACzC,MAAMy5C,EAAQttC,EAAKnM,MAAM4R,MAAM,GAC/B,GAAI6nC,EAAMvpB,SAAS,OACjB/jB,EAAK2O,OAAQ,EAET2+B,EAAMvpB,SAAS,MAAM,CACvB,MAAMoqB,EAAMnuC,EAAKnM,MAAMu6C,YAAY,KAC7BC,EAAMruC,EAAKnM,MAAM4R,MAAM,EAAG0oC,GAC1BT,EAAO1tC,EAAKnM,MAAM4R,MAAM0oC,EAAM,GAC9Bx/B,EAAQg7B,EAAmB+D,GACjC,GAAI/+B,EAAO,CACT3O,EAAKnM,MAAQw6C,EAAM1/B,EACnBy0B,EAAMoJ,WAAY,EAClBtnC,IAEK2mC,EAAIltC,QAAmC,IAAzBotC,EAAOjmC,QAAQ9F,KAChC6rC,EAAIltC,OAASwqC,GAEf,QACF,CACF,CAEJ,EAEe,MAAVt1C,GAA4B,MAAXi5C,KAA8B,MAAVj5C,GAA4B,MAAXi5C,OACzDj5C,EAAQ,KAAKA,KAGD,MAAVA,GAAiC,MAAfmM,EAAKnM,OAAgC,OAAfmM,EAAKnM,QAC/CA,EAAQ,KAAKA,MAGI,IAAf2Q,EAAKmK,OAA4B,MAAV9a,GAAgC,MAAfmM,EAAKnM,QAC/CA,EAAQ,KAGVmM,EAAKnM,OAASA,EACdyP,EAAO,CAAEzP,UACT,QACF,CAOA,GAAqB,IAAjBuvC,EAAMsJ,QAA0B,MAAV74C,EAAe,CACvCA,EAAQ6C,EAAMg1C,YAAY73C,GAC1BmM,EAAKnM,OAASA,EACdyP,EAAO,CAAEzP,UACT,QACF,CAMA,GAAc,MAAVA,EAAe,CACjBuvC,EAAMsJ,OAA0B,IAAjBtJ,EAAMsJ,OAAe,EAAI,GAChB,IAApBloC,EAAKmB,YACPjL,EAAK,CAAEqF,KAAM,OAAQlM,UAEvB,QACF,CAMA,GAAc,MAAVA,EAAe,CACjBq5C,EAAU,UACVxyC,EAAK,CAAEqF,KAAM,QAASlM,UACtB,QACF,CAEA,GAAc,MAAVA,EAAe,CACjB,GAAqB,IAAjBuvC,EAAMqJ,SAAwC,IAAxBjoC,EAAK8pC,eAC7B,MAAM,IAAIzpC,YAAY8mC,EAAY,UAAW,MAG/C,MAAMva,EAAUwb,EAASA,EAASztC,OAAS,GAC3C,GAAIiyB,GAAWgS,EAAMqJ,SAAWrb,EAAQqb,OAAS,EAAG,CAClDgB,GAAab,EAAS5oC,OACtB,QACF,CAEAtJ,EAAK,CAAEqF,KAAM,QAASlM,QAAO8K,OAAQykC,EAAMqJ,OAAS,IAAM,QAC1DU,EAAU,UACV,QACF,CAMA,GAAc,MAAVt5C,EAAe,CACjB,IAAuB,IAAnB2Q,EAAK+pC,WAAuBxB,IAAYhpB,SAAS,KAOnDmpB,EAAU,gBAP+C,CACzD,IAAuB,IAAnB1oC,EAAK+pC,YAA8C,IAAxB/pC,EAAK8pC,eAClC,MAAM,IAAIzpC,YAAY8mC,EAAY,UAAW,MAG/C93C,EAAQ,KAAKA,GACf,CAIA6G,EAAK,CAAEqF,KAAM,UAAWlM,UACxB,QACF,CAEA,GAAc,MAAVA,EAAe,CACjB,IAAuB,IAAnB2Q,EAAK+pC,WAAuBvuC,GAAsB,YAAdA,EAAKD,MAA4C,IAAtBC,EAAKnM,MAAMsL,OAAe,CAC3FzE,EAAK,CAAEqF,KAAM,OAAQlM,QAAO8K,OAAQ,KAAK9K,MACzC,QACF,CAEA,GAAuB,IAAnBuvC,EAAMr+B,SAAgB,CACxB,IAA4B,IAAxBP,EAAK8pC,eACP,MAAM,IAAIzpC,YAAY8mC,EAAY,UAAW,MAG/CjxC,EAAK,CAAEqF,KAAM,OAAQlM,QAAO8K,OAAQ,KAAK9K,MACzC,QACF,CAEAs5C,EAAU,YAEV,MAAMqB,EAAYxuC,EAAKnM,MAAM4R,MAAM,GAUnC,IATmB,IAAfzF,EAAK2O,OAAmC,MAAjB6/B,EAAU,IAAeA,EAAUzqB,SAAS,OACrElwB,EAAQ,IAAIA,KAGdmM,EAAKnM,OAASA,EACdyP,EAAO,CAAEzP,WAIoB,IAAzB2Q,EAAKiqC,iBAA6B/3C,EAAMg4C,cAAcF,GACxD,SAGF,MAAMhoC,EAAU9P,EAAMg1C,YAAY1rC,EAAKnM,OAKvC,GAJAuvC,EAAMzkC,OAASykC,EAAMzkC,OAAO8G,MAAM,GAAIzF,EAAKnM,MAAMsL,SAIpB,IAAzBqF,EAAKiqC,gBAA0B,CACjCrL,EAAMzkC,QAAU6H,EAChBxG,EAAKnM,MAAQ2S,EACb,QACF,CAGAxG,EAAKnM,MAAQ,IAAIskC,IAAU3xB,KAAWxG,EAAKnM,SAC3CuvC,EAAMzkC,QAAUqB,EAAKnM,MACrB,QACF,CAMA,GAAc,MAAVA,IAAkC,IAAjB2Q,EAAKusB,QAAkB,CAC1Cmc,EAAU,UAEV,MAAM/nC,EAAO,CACXpF,KAAM,QACNlM,QACA8K,OAAQ,IACRgwC,YAAavL,EAAMzkC,OAAOQ,OAC1ByvC,YAAaxL,EAAM2I,OAAO5sC,QAG5BX,EAAO9D,KAAKyK,GACZzK,EAAKyK,GACL,QACF,CAEA,GAAc,MAAVtR,EAAe,CACjB,MAAMg7C,EAAQrwC,EAAOA,EAAOW,OAAS,GAErC,IAAqB,IAAjBqF,EAAKusB,UAAqB8d,EAAO,CACnCn0C,EAAK,CAAEqF,KAAM,OAAQlM,QAAO8K,OAAQ9K,IACpC,QACF,CAEA,IAAI8K,EAAS,IAEb,IAAmB,IAAfkwC,EAAMC,KAAe,CACvB,MAAMnoC,EAAMolC,EAAOtmC,QACbpF,EAAQ,GAEd,IAAK,IAAIiE,EAAIqC,EAAIxH,OAAS,EAAGmF,GAAK,IAChCynC,EAAO/nC,MACa,UAAhB2C,EAAIrC,GAAGvE,MAFwBuE,IAKf,SAAhBqC,EAAIrC,GAAGvE,MACTM,EAAMwK,QAAQlE,EAAIrC,GAAGzQ,OAIzB8K,EAAS6sC,EAAYnrC,EAAOmE,GAC5B4+B,EAAMoJ,WAAY,CACpB,CAEA,IAAoB,IAAhBqC,EAAME,QAAiC,IAAfF,EAAMC,KAAe,CAC/C,MAAME,EAAM5L,EAAMzkC,OAAO8G,MAAM,EAAGopC,EAAMF,aAClCM,EAAO7L,EAAM2I,OAAOtmC,MAAMopC,EAAMD,aACtCC,EAAMh7C,MAAQg7C,EAAMlwC,OAAS,MAC7B9K,EAAQ8K,EAAS,MACjBykC,EAAMzkC,OAASqwC,EACf,IAAK,MAAME,KAAKD,EACd7L,EAAMzkC,QAAWuwC,EAAEvwC,QAAUuwC,EAAEr7C,KAEnC,CAEA6G,EAAK,CAAEqF,KAAM,QAASlM,QAAO8K,WAC7BwuC,EAAU,UACV3uC,EAAOwF,MACP,QACF,CAMA,GAAc,MAAVnQ,EAAe,CACb+4C,EAASztC,OAAS,GACpBytC,EAASA,EAASztC,OAAS,GAAGquC,aAEhC9yC,EAAK,CAAEqF,KAAM,OAAQlM,UACrB,QACF,CAMA,GAAc,MAAVA,EAAe,CACjB,IAAI8K,EAAS9K,EAEb,MAAMg7C,EAAQrwC,EAAOA,EAAOW,OAAS,GACjC0vC,GAAqC,WAA5B/pC,EAAMA,EAAM3F,OAAS,KAChC0vC,EAAME,OAAQ,EACdpwC,EAAS,KAGXjE,EAAK,CAAEqF,KAAM,QAASlM,QAAO8K,WAC7B,QACF,CAMA,GAAc,MAAV9K,EAAe,CAKjB,GAAkB,QAAdmM,EAAKD,MAAkBqjC,EAAMp+B,QAAUo+B,EAAMlvB,MAAQ,EAAG,CAC1DkvB,EAAMlvB,MAAQkvB,EAAMp+B,MAAQ,EAC5Bo+B,EAAMmJ,SAAW,GACjBnJ,EAAMzkC,OAAS,GACfotC,EAAO/nC,MACPhE,EAAO6rC,EACP,QACF,CAEAnxC,EAAK,CAAEqF,KAAM,QAASlM,QAAO8K,OAAQgqC,IACrC,QACF,CAMA,GAAc,MAAV90C,EAAe,CACjB,GAAIuvC,EAAM5kC,OAAS,GAAmB,QAAdwB,EAAKD,KAAgB,CACxB,MAAfC,EAAKnM,QAAemM,EAAKrB,OAAS+pC,GACtC,MAAMmG,EAAQrwC,EAAOA,EAAOW,OAAS,GACrCa,EAAKD,KAAO,OACZC,EAAKrB,QAAU9K,EACfmM,EAAKnM,OAASA,EACdg7C,EAAMC,MAAO,EACb,QACF,CAEA,GAAK1L,EAAM5kC,OAAS4kC,EAAMqJ,SAAY,GAAmB,QAAdzsC,EAAKD,MAAgC,UAAdC,EAAKD,KAAkB,CACvFrF,EAAK,CAAEqF,KAAM,OAAQlM,QAAO8K,OAAQ+pC,IACpC,QACF,CAEAhuC,EAAK,CAAEqF,KAAM,MAAOlM,QAAO8K,OAAQ+pC,IACnC,QACF,CAMA,GAAc,MAAV70C,EAAe,CAEjB,KADgBmM,GAAuB,MAAfA,EAAKnM,SACM,IAAnB2Q,EAAK8nC,WAAiC,MAAXQ,KAA8B,MAAZA,EAAK,GAAY,CAC5ES,EAAY,QAAS15C,GACrB,QACF,CAEA,GAAImM,GAAsB,UAAdA,EAAKD,KAAkB,CACjC,MAAM2F,EAAOonC,IACb,IAAInuC,EAAS9K,EAEb,GAAa,MAAT6R,IAAiBhP,EAAMy4C,sBACzB,MAAM,IAAIn6C,MAAM,4DAGE,MAAfgL,EAAKnM,QAAkB,SAASuY,KAAK1G,IAAoB,MAATA,IAAiB,eAAe0G,KAAK2gC,QACxFpuC,EAAS,KAAK9K,KAGhB6G,EAAK,CAAEqF,KAAM,OAAQlM,QAAO8K,WAC5B,QACF,CAEA,IAAiB,IAAb6F,EAAKqsB,MAA+B,UAAd7wB,EAAKD,MAAkC,QAAdC,EAAKD,MAAiB,CACvErF,EAAK,CAAEqF,KAAM,QAASlM,QAAO8K,OAAQ6qC,IACrC,QACF,CAEA9uC,EAAK,CAAEqF,KAAM,QAASlM,QAAO8K,OAAQiqC,IACrC,QACF,CAMA,GAAc,MAAV/0C,EAAe,CACjB,IAAuB,IAAnB2Q,EAAK8nC,WAAiC,MAAXQ,MACb,MAAZA,EAAK,KAAe,SAAS1gC,KAAK0gC,EAAK,KAAK,CAC9CS,EAAY,SAAU15C,GACtB,QACF,CAGF,IAAsB,IAAlB2Q,EAAK4qC,UAAqC,IAAhBhM,EAAMp+B,MAAa,CAC/CgoC,IACA,QACF,CACF,CAMA,GAAc,MAAVn5C,EAAe,CACjB,IAAuB,IAAnB2Q,EAAK8nC,WAAiC,MAAXQ,KAA8B,MAAZA,EAAK,GAAY,CAChES,EAAY,OAAQ15C,GACpB,QACF,CAEA,GAAKmM,GAAuB,MAAfA,EAAKnM,QAAiC,IAAf2Q,EAAKo6B,MAAiB,CACxDlkC,EAAK,CAAEqF,KAAM,OAAQlM,QAAO8K,OAAQsqC,IACpC,QACF,CAEA,GAAKjpC,IAAuB,YAAdA,EAAKD,MAAoC,UAAdC,EAAKD,MAAkC,UAAdC,EAAKD,OAAsBqjC,EAAMqJ,OAAS,EAAG,CAC7G/xC,EAAK,CAAEqF,KAAM,OAAQlM,UACrB,QACF,CAEA6G,EAAK,CAAEqF,KAAM,OAAQlM,MAAOo1C,IAC5B,QACF,CAMA,GAAc,MAAVp1C,EAAe,CACjB,IAAuB,IAAnB2Q,EAAK8nC,WAAiC,MAAXQ,KAA8B,MAAZA,EAAK,GAAY,CAChEpyC,EAAK,CAAEqF,KAAM,KAAMqxB,SAAS,EAAMv9B,QAAO8K,OAAQ,KACjD,QACF,CAEAjE,EAAK,CAAEqF,KAAM,OAAQlM,UACrB,QACF,CAMA,GAAc,MAAVA,EAAe,CACH,MAAVA,GAA2B,MAAVA,IACnBA,EAAQ,KAAKA,KAGf,MAAM+T,EAAQ+iC,EAAwBtJ,KAAK0L,KACvCnlC,IACF/T,GAAS+T,EAAM,GACfw7B,EAAMp+B,OAAS4C,EAAM,GAAGzI,QAG1BzE,EAAK,CAAEqF,KAAM,OAAQlM,UACrB,QACF,CAMA,GAAImM,IAAuB,aAAdA,EAAKD,OAAqC,IAAdC,EAAKosC,MAAgB,CAC5DpsC,EAAKD,KAAO,OACZC,EAAKosC,MAAO,EACZpsC,EAAKnM,OAASA,EACdmM,EAAKrB,OAASytC,EACdhJ,EAAMoJ,WAAY,EAClBpJ,EAAM9R,UAAW,EACjBtX,EAAQnmB,GACR,QACF,CAEA,IAAI65C,EAAOX,IACX,IAAuB,IAAnBvoC,EAAK8nC,WAAsB,UAAUlgC,KAAKshC,GAAO,CACnDH,EAAY,OAAQ15C,GACpB,QACF,CAEA,GAAkB,SAAdmM,EAAKD,KAAiB,CACxB,IAAwB,IAApByE,EAAK6sB,WAAqB,CAC5BrX,EAAQnmB,GACR,QACF,CAEA,MAAMw7C,EAAQrvC,EAAKA,KACbuF,EAAS8pC,EAAMrvC,KACfsvC,EAAyB,UAAfD,EAAMtvC,MAAmC,QAAfsvC,EAAMtvC,KAC1CwvC,EAAYhqC,IAA2B,SAAhBA,EAAOxF,MAAmC,aAAhBwF,EAAOxF,MAE9D,IAAkB,IAAdyE,EAAK6nC,QAAmBiD,GAAY5B,EAAK,IAAkB,MAAZA,EAAK,IAAc,CACpEhzC,EAAK,CAAEqF,KAAM,OAAQlM,QAAO8K,OAAQ,KACpC,QACF,CAEA,MAAM0uC,EAAUjK,EAAM5kC,OAAS,IAAqB,UAAf6wC,EAAMtvC,MAAmC,UAAfsvC,EAAMtvC,MAC/DuhC,EAAYsL,EAASztC,SAA0B,SAAfkwC,EAAMtvC,MAAkC,UAAfsvC,EAAMtvC,MACrE,IAAKuvC,GAA0B,UAAfD,EAAMtvC,OAAqBstC,IAAY/L,EAAW,CAChE5mC,EAAK,CAAEqF,KAAM,OAAQlM,QAAO8K,OAAQ,KACpC,QACF,CAGA,KAA4B,QAArB+uC,EAAKjoC,MAAM,EAAG,IAAc,CACjC,MAAM+pC,EAAQ/wC,EAAM2kC,EAAMp+B,MAAQ,GAClC,GAAIwqC,GAAmB,MAAVA,EACX,MAEF9B,EAAOA,EAAKjoC,MAAM,GAClBuU,EAAQ,MAAO,EACjB,CAEA,GAAmB,QAAfq1B,EAAMtvC,MAAkB8sC,IAAO,CACjC7sC,EAAKD,KAAO,WACZC,EAAKnM,OAASA,EACdmM,EAAKrB,OAAS2yB,EAAS9sB,GACvB4+B,EAAMzkC,OAASqB,EAAKrB,OACpBykC,EAAM9R,UAAW,EACjBtX,EAAQnmB,GACR,QACF,CAEA,GAAmB,UAAfw7C,EAAMtvC,MAAwC,QAApBsvC,EAAMrvC,KAAKD,OAAmBwvC,GAAa1C,IAAO,CAC9EzJ,EAAMzkC,OAASykC,EAAMzkC,OAAO8G,MAAM,IAAK4pC,EAAM1wC,OAASqB,EAAKrB,QAAQQ,QACnEkwC,EAAM1wC,OAAS,MAAM0wC,EAAM1wC,SAE3BqB,EAAKD,KAAO,WACZC,EAAKrB,OAAS2yB,EAAS9sB,IAASA,EAAK+sB,cAAgB,IAAM,OAC3DvxB,EAAKnM,OAASA,EACduvC,EAAM9R,UAAW,EACjB8R,EAAMzkC,QAAU0wC,EAAM1wC,OAASqB,EAAKrB,OACpCqb,EAAQnmB,GACR,QACF,CAEA,GAAmB,UAAfw7C,EAAMtvC,MAAwC,QAApBsvC,EAAMrvC,KAAKD,MAA8B,MAAZ2tC,EAAK,GAAY,CAC1E,MAAMv5B,OAAkB,IAAZu5B,EAAK,GAAgB,KAAO,GAExCtK,EAAMzkC,OAASykC,EAAMzkC,OAAO8G,MAAM,IAAK4pC,EAAM1wC,OAASqB,EAAKrB,QAAQQ,QACnEkwC,EAAM1wC,OAAS,MAAM0wC,EAAM1wC,SAE3BqB,EAAKD,KAAO,WACZC,EAAKrB,OAAS,GAAG2yB,EAAS9sB,KAAQmkC,KAAiBA,IAAgBx0B,KACnEnU,EAAKnM,OAASA,EAEduvC,EAAMzkC,QAAU0wC,EAAM1wC,OAASqB,EAAKrB,OACpCykC,EAAM9R,UAAW,EAEjBtX,EAAQnmB,EAAQqR,KAEhBxK,EAAK,CAAEqF,KAAM,QAASlM,MAAO,IAAK8K,OAAQ,KAC1C,QACF,CAEA,GAAmB,QAAf0wC,EAAMtvC,MAA8B,MAAZ2tC,EAAK,GAAY,CAC3C1tC,EAAKD,KAAO,WACZC,EAAKnM,OAASA,EACdmM,EAAKrB,OAAS,QAAQgqC,KAAiBrX,EAAS9sB,KAAQmkC,KACxDvF,EAAMzkC,OAASqB,EAAKrB,OACpBykC,EAAM9R,UAAW,EACjBtX,EAAQnmB,EAAQqR,KAChBxK,EAAK,CAAEqF,KAAM,QAASlM,MAAO,IAAK8K,OAAQ,KAC1C,QACF,CAGAykC,EAAMzkC,OAASykC,EAAMzkC,OAAO8G,MAAM,GAAIzF,EAAKrB,OAAOQ,QAGlDa,EAAKD,KAAO,WACZC,EAAKrB,OAAS2yB,EAAS9sB,GACvBxE,EAAKnM,OAASA,EAGduvC,EAAMzkC,QAAUqB,EAAKrB,OACrBykC,EAAM9R,UAAW,EACjBtX,EAAQnmB,GACR,QACF,CAEA,MAAMugB,EAAQ,CAAErU,KAAM,OAAQlM,QAAO8K,OAAQytC,IAE3B,IAAd5nC,EAAK6nC,MASLrsC,GAAuB,YAAdA,EAAKD,MAAoC,UAAdC,EAAKD,OAAoC,IAAfyE,EAAKo6B,OAMnEwE,EAAMp+B,QAAUo+B,EAAMlvB,OAAuB,UAAdlU,EAAKD,MAAkC,QAAdC,EAAKD,OAC7C,QAAdC,EAAKD,MACPqjC,EAAMzkC,QAAU2qC,EAChBtpC,EAAKrB,QAAU2qC,IAEO,IAAb9kC,EAAKqsB,KACduS,EAAMzkC,QAAU4qC,EAChBvpC,EAAKrB,QAAU4qC,IAGfnG,EAAMzkC,QAAUutC,EAChBlsC,EAAKrB,QAAUutC,GAGF,MAAXY,MACF1J,EAAMzkC,QAAUwqC,EAChBnpC,EAAKrB,QAAUwqC,IAInBzuC,EAAK0Z,KAzBHA,EAAMzV,OAAS9K,EACf6G,EAAK0Z,KAVLA,EAAMzV,OAAS,MACG,QAAdqB,EAAKD,MAAgC,UAAdC,EAAKD,OAC9BqU,EAAMzV,OAASutC,EAAQ93B,EAAMzV,QAE/BjE,EAAK0Z,GA+BT,CAEA,KAAOgvB,EAAMr+B,SAAW,GAAG,CACzB,IAA4B,IAAxBP,EAAK8pC,eAAyB,MAAM,IAAIzpC,YAAY8mC,EAAY,UAAW,MAC/EvI,EAAMzkC,OAASjI,EAAM+4C,WAAWrM,EAAMzkC,OAAQ,KAC9CwuC,EAAU,WACZ,CAEA,KAAO/J,EAAMqJ,OAAS,GAAG,CACvB,IAA4B,IAAxBjoC,EAAK8pC,eAAyB,MAAM,IAAIzpC,YAAY8mC,EAAY,UAAW,MAC/EvI,EAAMzkC,OAASjI,EAAM+4C,WAAWrM,EAAMzkC,OAAQ,KAC9CwuC,EAAU,SACZ,CAEA,KAAO/J,EAAM5kC,OAAS,GAAG,CACvB,IAA4B,IAAxBgG,EAAK8pC,eAAyB,MAAM,IAAIzpC,YAAY8mC,EAAY,UAAW,MAC/EvI,EAAMzkC,OAASjI,EAAM+4C,WAAWrM,EAAMzkC,OAAQ,KAC9CwuC,EAAU,SACZ,CAOA,IAL2B,IAAvB3oC,EAAK+sB,eAAyC,SAAdvxB,EAAKD,MAAiC,YAAdC,EAAKD,MAC/DrF,EAAK,CAAEqF,KAAM,cAAelM,MAAO,GAAI8K,OAAQ,GAAGgqC,QAI5B,IAApBvF,EAAMoJ,UAAoB,CAC5BpJ,EAAMzkC,OAAS,GAEf,IAAK,MAAMyV,KAASgvB,EAAM2I,OACxB3I,EAAMzkC,QAA0B,MAAhByV,EAAMzV,OAAiByV,EAAMzV,OAASyV,EAAMvgB,MAExDugB,EAAMs7B,SACRtM,EAAMzkC,QAAUyV,EAAMs7B,OAG5B,CAEA,OAAOtM,CAAK,EASd7kC,EAAMsvC,UAAY,CAACpvC,EAAOC,KACxB,MAAM8F,EAAO,IAAK9F,GACZ+F,EAAgC,iBAAnBD,EAAKE,UAAyBC,KAAKC,IAAInE,EAAY+D,EAAKE,WAAajE,EAClF0L,EAAM1N,EAAMU,OAClB,GAAIgN,EAAM1H,EACR,MAAM,IAAII,YAAY,iBAAiBsH,sCAAwC1H,KAGjFhG,EAAQusC,EAAavsC,IAAUA,EAC/B,MAAM6sC,EAAQ50C,EAAMutC,UAAUvlC,IAGxB,YACJgqC,EAAW,cACXC,EAAa,SACbQ,EAAQ,WACRJ,EAAU,OACVK,EAAM,QACNC,EAAO,cACPE,EAAa,KACbE,EAAI,aACJX,GACEyC,EAAUF,UAAUC,GAElBY,EAAQ1nC,EAAKqsB,IAAMwY,EAAUD,EAC7BuG,EAAWnrC,EAAKqsB,IAAM0Y,EAAgBH,EACtCjR,EAAU3zB,EAAK2zB,QAAU,GAAK,KAEpC,IAAIiU,GAAqB,IAAd5nC,EAAK6nC,KAAgB,MAAQ5C,EAEpCjlC,EAAK2zB,UACPiU,EAAO,IAAIA,MAGb,MAAM9a,EAAW9sB,IACS,IAApBA,EAAK6sB,WAA4B+a,EAC9B,IAAIjU,UAAgB2Q,IAAetkC,EAAKqsB,IAAMkY,EAAaL,UAG9D3pC,EAASgP,IACb,OAAQA,GACN,IAAK,IACH,MAAO,GAAGm+B,IAAQ/C,IAAWiD,IAE/B,IAAK,KACH,MAAO,GAAG1D,IAAcS,IAAWiD,IAErC,IAAK,MACH,MAAO,GAAGF,IAAQE,IAAO1D,IAAcS,IAAWiD,IAEpD,IAAK,MACH,MAAO,GAAGF,IAAQE,IAAOzD,IAAgBQ,IAAWwG,IAAWvD,IAEjE,IAAK,KACH,OAAOF,EAAQ5a,EAAS9sB,GAE1B,IAAK,OACH,MAAO,MAAM0nC,IAAQ5a,EAAS9sB,KAAQmkC,MAAkBgH,IAAWxG,IAAWiD,IAEhF,IAAK,SACH,MAAO,MAAMF,IAAQ5a,EAAS9sB,KAAQmkC,MAAkBgH,IAAWvD,IAAO1D,IAAcS,IAAWiD,IAErG,IAAK,QACH,MAAO,MAAMF,IAAQ5a,EAAS9sB,KAAQmkC,MAAkBD,IAAcS,IAAWiD,IAEnF,QAAS,CACP,MAAMxkC,EAAQ,iBAAiBy5B,KAAKtzB,GACpC,IAAKnG,EAAO,OAEZ,MAAMf,EAAS9H,EAAO6I,EAAM,IAC5B,IAAKf,EAAQ,OAEb,OAAOA,EAAS6hC,EAAc9gC,EAAM,EACtC,EACF,EAGIjJ,EAASjI,EAAMi2C,aAAaluC,EAlDpB,CAAE6kC,SAAS,EAAO1jC,OAAQ,KAmDxC,IAAIiH,EAAS9H,EAAOJ,GAMpB,OAJIkI,IAAiC,IAAvBrC,EAAK+sB,gBACjB1qB,GAAU,GAAG8hC,MAGR9hC,CAAM,EAGf5I,EAAOrK,QAAU2K,+BChkCjB,MAAMvI,EAAO,EAAQ,MACfk/B,EAAO,EAAQ,MACf32B,EAAQ,EAAQ,MAChB7H,EAAQ,EAAQ,MAChB60C,EAAY,EAAQ,MAyBpBxI,EAAY,CAAC3J,EAAM16B,EAASkxC,GAAc,KAC9C,GAAIhxC,MAAMC,QAAQu6B,GAAO,CACvB,MAAMyW,EAAMzW,EAAKliC,KAAIuH,GAASskC,EAAUtkC,EAAOC,EAASkxC,KAClDE,EAAe/hC,IACnB,IAAK,MAAMs1B,KAAWwM,EAAK,CACzB,MAAMzM,EAAQC,EAAQt1B,GACtB,GAAIq1B,EAAO,OAAOA,CACpB,CACA,OAAO,CAAK,EAEd,OAAO0M,CACT,CAEA,MAAMC,GArCS/kC,EAqCUouB,IArCmB,iBAARpuB,IAAqBpM,MAAMC,QAAQmM,IAqCrCouB,EAAK2S,QAAU3S,EAAK36B,MArCvCuM,MAuCf,GAAa,KAATouB,GAAgC,iBAATA,IAAsB2W,EAC/C,MAAM,IAAIxrC,UAAU,6CAGtB,MAAMC,EAAO9F,GAAW,CAAC,EACnBiQ,EAAQjY,EAAMutC,UAAUvlC,GACxBkgC,EAAQmR,EACVhN,EAAUiN,UAAU5W,EAAM16B,GAC1BqkC,EAAUlT,OAAOuJ,EAAM16B,GAAS,GAAO,GAErC0kC,EAAQxE,EAAMwE,aACbxE,EAAMwE,MAEb,IAAI6M,EAAY,KAAM,EACtB,GAAIzrC,EAAK8mB,OAAQ,CACf,MAAM4kB,EAAa,IAAKxxC,EAAS4sB,OAAQ,KAAM6kB,QAAS,KAAMhN,SAAU,MACxE8M,EAAYlN,EAAUv+B,EAAK8mB,OAAQ4kB,EAAYN,EACjD,CAEA,MAAM/iB,EAAU,CAACpuB,EAAO2xC,GAAe,KACrC,MAAM,QAAE/M,EAAO,MAAEz7B,EAAK,OAAEjJ,GAAWokC,EAAU32B,KAAK3N,EAAOmgC,EAAOlgC,EAAS,CAAE06B,OAAMzqB,UAC3EpW,EAAS,CAAE6gC,OAAMgK,QAAOxE,QAAOjwB,QAAOlQ,QAAOE,SAAQiJ,QAAOy7B,WAMlE,MAJ6B,mBAAlB7+B,EAAK2+B,UACd3+B,EAAK2+B,SAAS5qC,IAGA,IAAZ8qC,GACF9qC,EAAO8qC,SAAU,IACV+M,GAAe73C,GAGpB03C,EAAUxxC,IACiB,mBAAlB+F,EAAK6rC,UACd7rC,EAAK6rC,SAAS93C,GAEhBA,EAAO8qC,SAAU,IACV+M,GAAe73C,IAGI,mBAAjBiM,EAAK2rC,SACd3rC,EAAK2rC,QAAQ53C,IAER63C,GAAe73C,EAAa,EAOrC,OAJIq3C,IACF/iB,EAAQuW,MAAQA,GAGXvW,CAAO,EAoBhBkW,EAAU32B,KAAO,CAAC3N,EAAOmgC,EAAOlgC,GAAW06B,OAAMzqB,SAAU,CAAC,KAC1D,GAAqB,iBAAVlQ,EACT,MAAM,IAAI8F,UAAU,iCAGtB,GAAc,KAAV9F,EACF,MAAO,CAAE4kC,SAAS,EAAO1kC,OAAQ,IAGnC,MAAM6F,EAAO9F,GAAW,CAAC,EACnBoM,EAAStG,EAAKsG,SAAW6D,EAAQjY,EAAMwtC,eAAiB,MAC9D,IAAIt8B,EAAQnJ,IAAU26B,EAClBz6B,EAAUiJ,GAASkD,EAAUA,EAAOrM,GAASA,EAejD,OAbc,IAAVmJ,IACFjJ,EAASmM,EAASA,EAAOrM,GAASA,EAClCmJ,EAAQjJ,IAAWy6B,IAGP,IAAVxxB,IAAoC,IAAjBpD,EAAK2zB,UAExBvwB,GADqB,IAAnBpD,EAAKssB,YAAwC,IAAlBtsB,EAAKywB,SAC1B8N,EAAUjS,UAAUryB,EAAOmgC,EAAOlgC,EAASiQ,GAE3CiwB,EAAMyC,KAAK1iC,IAIhB,CAAE0kC,QAASnkC,QAAQ0I,GAAQA,QAAOjJ,SAAQ,EAiBnDokC,EAAUjS,UAAY,CAACryB,EAAO26B,EAAM16B,EAASiQ,EAAQjY,EAAMutC,UAAUvlC,MACrD06B,aAAgBhwB,OAASgwB,EAAO2J,EAAUlT,OAAOuJ,EAAM16B,IACxD0N,KAAKpW,EAAKi/B,SAASx2B,IAoBlCskC,EAAUM,QAAU,CAACt1B,EAAK0b,EAAU/qB,IAAYqkC,EAAUtZ,EAAU/qB,EAApBqkC,CAA6Bh1B,GAgB7Eg1B,EAAUxkC,MAAQ,CAACO,EAASJ,IACtBE,MAAMC,QAAQC,GAAiBA,EAAQ5H,KAAI2M,GAAKk/B,EAAUxkC,MAAMsF,EAAGnF,KAChEH,EAAMO,EAAS,IAAKJ,EAASmvC,WAAW,IA8BjD9K,EAAU7N,KAAO,CAACz2B,EAAOC,IAAYw2B,EAAKz2B,EAAOC,GAcjDqkC,EAAUiN,UAAY,CAAC5M,EAAO1kC,EAAS4xC,GAAe,EAAOV,GAAc,KACzE,IAAqB,IAAjBU,EACF,OAAOlN,EAAMzkC,OAGf,MAAM6F,EAAO9F,GAAW,CAAC,EACnBotC,EAAUtnC,EAAKu/B,SAAW,GAAK,IAC/BzgC,EAASkB,EAAKu/B,SAAW,GAAK,IAEpC,IAAIl9B,EAAS,GAAGilC,OAAa1I,EAAMzkC,UAAU2E,IACzC8/B,IAA2B,IAAlBA,EAAME,UACjBz8B,EAAS,OAAOA,SAGlB,MAAM+3B,EAAQmE,EAAUxiC,QAAQsG,EAAQnI,GAKxC,OAJoB,IAAhBkxC,IACFhR,EAAMwE,MAAQA,GAGTxE,CAAK,EAsBdmE,EAAUlT,OAAS,CAACpxB,EAAOC,EAAU,CAAC,EAAG4xC,GAAe,EAAOV,GAAc,KAC3E,IAAKnxC,GAA0B,iBAAVA,EACnB,MAAM,IAAI8F,UAAU,+BAGtB,IAAIgsC,EAAS,CAAEjN,SAAS,EAAOuK,WAAW,GAU1C,OAR0B,IAAtBnvC,EAAQmvC,WAAqC,MAAbpvC,EAAM,IAA2B,MAAbA,EAAM,KAC5D8xC,EAAO5xC,OAASJ,EAAMsvC,UAAUpvC,EAAOC,IAGpC6xC,EAAO5xC,SACV4xC,EAAShyC,EAAME,EAAOC,IAGjBqkC,EAAUiN,UAAUO,EAAQ7xC,EAAS4xC,EAAcV,EAAY,EAoBxE7M,EAAUxiC,QAAU,CAACsG,EAAQnI,KAC3B,IACE,MAAM8F,EAAO9F,GAAW,CAAC,EACzB,OAAO,IAAI0K,OAAOvC,EAAQrC,EAAKg1B,QAAUh1B,EAAKysB,OAAS,IAAM,IAC/D,CAAE,MAAOxb,GACP,GAAI/W,IAA6B,IAAlBA,EAAQkL,MAAgB,MAAM6L,EAC7C,MAAO,IACT,GAQFstB,EAAUwI,UAAYA,EAMtBttC,EAAOrK,QAAUmvC,+BCnVjB,MAAMrsC,EAAQ,EAAQ,OAChB,cACJwK,EAAa,QACbE,EAAO,oBACP6pC,EAAmB,WACnBvpC,EAAU,SACVE,EAAQ,sBACRG,EAAqB,mBACrBE,EAAkB,sBAClBI,EAAqB,sBACrBrB,EAAqB,yBACrBsB,EAAwB,UACxBI,EAAS,mBACTC,EAAkB,uBAClBE,EAAsB,uBACtB5B,EAAsB,0BACtB6B,GACE,EAAQ,MAEN0tC,EAAkBv+B,GACfA,IAAShQ,GAAsBgQ,IAASg5B,EAG3ChmC,EAAQmP,KACW,IAAnBA,EAAMq8B,WACRr8B,EAAMnP,MAAQmP,EAAMs8B,WAAal8B,IAAW,EAC9C,EA0WFvW,EAAOrK,QAtVM,CAAC6K,EAAOC,KACnB,MAAM8F,EAAO9F,GAAW,CAAC,EAEnBS,EAASV,EAAMU,OAAS,EACxBwxC,GAA2B,IAAfnsC,EAAK6iB,QAAqC,IAAnB7iB,EAAKmsC,UACxCrS,EAAU,GACVyN,EAAS,GACT1kB,EAAQ,GAEd,IAeIrnB,EACAiS,EAhBAlE,EAAMtP,EACNuG,GAAS,EACTkP,EAAQ,EACR08B,EAAY,EACZvD,GAAU,EACVwD,GAAY,EACZpoB,GAAS,EACT6Y,GAAY,EACZoP,GAAa,EACbI,GAAe,EACfhD,GAAc,EACdxK,GAAU,EACVC,GAAiB,EACjB9lB,GAAW,EACXjf,EAAS,EAGT4V,EAAQ,CAAEvgB,MAAO,GAAIoR,MAAO,EAAGwjB,QAAQ,GAE3C,MAAMokB,EAAM,IAAM7nC,GAAS7F,EAErB+F,EAAU,KACdlF,EAAOiS,EACAlE,EAAIvB,aAAaxH,IAG1B,KAAOA,EAAQ7F,GAAQ,CAErB,IAAIuG,EAEJ,GAHAuM,EAAO/M,IAGH+M,IAASg5B,EAAb,CAUA,IAAqB,IAAjB6F,GAAyB7+B,IAAS5P,EAAuB,CAG3D,IAFA7D,KAEiB,IAAVquC,MAAmB56B,EAAO/M,MAC/B,GAAI+M,IAASg5B,EAMb,GAAIh5B,IAAS5P,EAAb,CAKA,IAAqB,IAAjByuC,GAAyB7+B,IAASrQ,IAAaqQ,EAAO/M,OAAetD,EAAU,CAKjF,GAJAyrC,EAAUj5B,EAAMi5B,SAAU,EAC1B5kB,EAASrU,EAAMqU,QAAS,EACxBhL,GAAW,GAEO,IAAdkzB,EACF,SAGF,KACF,CAEA,IAAqB,IAAjBG,GAAyB7+B,IAASvQ,EAAY,CAKhD,GAJA2rC,EAAUj5B,EAAMi5B,SAAU,EAC1B5kB,EAASrU,EAAMqU,QAAS,EACxBhL,GAAW,GAEO,IAAdkzB,EACF,SAGF,KACF,CAEA,GAAI1+B,IAASpP,IACXrE,IAEe,IAAXA,GAAc,CAChBsyC,GAAe,EACfzD,EAAUj5B,EAAMi5B,SAAU,EAC1B5vB,GAAW,EACX,KACF,CAlCF,MAFEjf,SANAsvC,EAAc15B,EAAM05B,aAAc,EAClC5oC,IA6CJ,IAAkB,IAAdyrC,EACF,SAGF,KACF,CAEA,GAAI1+B,IAAShQ,EAAb,CAeA,IAAmB,IAAfuC,EAAK2sB,QAOe,IANAlf,IAASvP,GAC1BuP,IAAS7Q,GACT6Q,IAAS/Q,GACT+Q,IAAStP,GACTsP,IAASlQ,IAlGCgM,EAAIvB,WAAWxH,EAAQ,KAoGGhE,EAAuB,CAQ9D,GAPAynB,EAASrU,EAAMqU,QAAS,EACxB6Y,EAAYltB,EAAMktB,WAAY,EAC9B7jB,GAAW,EACPxL,IAASlQ,GAAyBiD,IAAUkP,IAC9CqvB,GAAiB,IAGD,IAAdoN,EAAoB,CACtB,MAAiB,IAAV9D,MAAmB56B,EAAO/M,MAC/B,GAAI+M,IAASg5B,GAMb,GAAIh5B,IAAShR,EAAwB,CACnCwnB,EAASrU,EAAMqU,QAAS,EACxBhL,GAAW,EACX,KACF,OATEqwB,EAAc15B,EAAM05B,aAAc,EAClC77B,EAAO/M,IAUX,QACF,CACA,KACF,CAGF,GAAI+M,IAAS/Q,EAAe,CAK1B,GAJIlB,IAASkB,IAAewvC,EAAat8B,EAAMs8B,YAAa,GAC5DjoB,EAASrU,EAAMqU,QAAS,EACxBhL,GAAW,GAEO,IAAdkzB,EACF,SAEF,KACF,CAEA,GAAI1+B,IAAStP,EAAoB,CAI/B,GAHA8lB,EAASrU,EAAMqU,QAAS,EACxBhL,GAAW,GAEO,IAAdkzB,EACF,SAEF,KACF,CAEA,GAAI1+B,IAAS3P,EAA0B,CACrC,MAAiB,IAAVuqC,MAAmBnnC,EAAOR,MAC/B,GAAIQ,IAASulC,GAMb,GAAIvlC,IAAS5C,EAA2B,CACtC+tC,EAAYz8B,EAAMy8B,WAAY,EAC9BpoB,EAASrU,EAAMqU,QAAS,EACxBhL,GAAW,EACX,KACF,OAVEqwB,EAAc15B,EAAM05B,aAAc,EAClC5oC,IAYJ,IAAkB,IAAdyrC,EACF,SAGF,KACF,CAEA,IAAsB,IAAlBnsC,EAAK4qC,UAAqBn9B,IAASlQ,GAAyBiD,IAAUkP,EAA1E,CAMA,IAAqB,IAAjB1P,EAAKusC,SAAoB9+B,IAASjR,EAAuB,CAG3D,GAFAynB,EAASrU,EAAMqU,QAAS,GAEN,IAAdkoB,EAAoB,CACtB,MAAiB,IAAV9D,MAAmB56B,EAAO/M,MAC/B,GAAI+M,IAASjR,GAMb,GAAIiR,IAAShR,EAAwB,CACnCwc,GAAW,EACX,KACF,OAREqwB,EAAc15B,EAAM05B,aAAc,EAClC77B,EAAO/M,IASX,QACF,CACA,KACF,CAEA,IAAe,IAAXujB,EAAiB,CAGnB,GAFAhL,GAAW,GAEO,IAAdkzB,EACF,SAGF,KACF,CA/BA,MAHErN,EAAUlvB,EAAMkvB,SAAU,EAC1BpvB,GAnFF,KAbA,CAKE,GAJAoqB,EAAQ5jC,KAAKsK,GACb+mC,EAAOrxC,KAAK0Z,GACZA,EAAQ,CAAEvgB,MAAO,GAAIoR,MAAO,EAAGwjB,QAAQ,IAEtB,IAAbhL,EAAmB,SACvB,GAAIzd,IAAS4B,GAAYoD,IAAWkP,EAAQ,EAAI,CAC9CA,GAAS,EACT,QACF,CAEA08B,EAAY5rC,EAAQ,CAEtB,CAzEA,MAPE8oC,EAAc15B,EAAM05B,aAAc,EAClC77B,EAAO/M,IAEH+M,IAAS5P,IACXyuC,GAAe,EAiMrB,EAEmB,IAAftsC,EAAK2sB,QACPmQ,GAAY,EACZ7Y,GAAS,GAGX,IAAIlsB,EAAOwR,EACPnO,EAAS,GACTw5B,EAAO,GAEPllB,EAAQ,IACVtU,EAASmO,EAAItI,MAAM,EAAGyO,GACtBnG,EAAMA,EAAItI,MAAMyO,GAChB08B,GAAa18B,GAGX3X,IAAmB,IAAXksB,GAAmBmoB,EAAY,GACzCr0C,EAAOwR,EAAItI,MAAM,EAAGmrC,GACpBxX,EAAOrrB,EAAItI,MAAMmrC,KACG,IAAXnoB,GACTlsB,EAAO,GACP68B,EAAOrrB,GAEPxR,EAAOwR,EAGLxR,GAAiB,KAATA,GAAwB,MAATA,GAAgBA,IAASwR,GAC9CyiC,EAAgBj0C,EAAKiQ,WAAWjQ,EAAK4C,OAAS,MAChD5C,EAAOA,EAAKkJ,MAAM,GAAI,KAIJ,IAAlBjB,EAAKo/B,WACHxK,IAAMA,EAAO1iC,EAAMs6C,kBAAkB5X,IAErC78B,IAAwB,IAAhBuxC,IACVvxC,EAAO7F,EAAMs6C,kBAAkBz0C,KAInC,MAAM6mC,EAAQ,CACZxjC,SACAnB,QACAyV,QACA3X,OACA68B,OACAiU,UACAwD,YACApoB,SACA6Y,YACAoP,aACApN,UACAC,kBAWF,IARoB,IAAhB/+B,EAAKunC,SACP3I,EAAM6N,SAAW,EACZT,EAAgBv+B,IACnB85B,EAAOrxC,KAAK0Z,GAEdgvB,EAAM2I,OAASA,IAGE,IAAfvnC,EAAK6iB,QAAkC,IAAhB7iB,EAAKunC,OAAiB,CAC/C,IAAImF,EAEJ,IAAK,IAAI/C,EAAM,EAAGA,EAAM7P,EAAQn/B,OAAQgvC,IAAO,CAC7C,MAAM5nC,EAAI2qC,EAAYA,EAAY,EAAIh9B,EAChC5P,EAAIg6B,EAAQ6P,GACZt6C,EAAQ4K,EAAMgH,MAAMc,EAAGjC,GACzBE,EAAKunC,SACK,IAARoC,GAAuB,IAAVj6B,GACf63B,EAAOoC,GAAKsC,UAAW,EACvB1E,EAAOoC,GAAKt6C,MAAQ+L,GAEpBmsC,EAAOoC,GAAKt6C,MAAQA,EAEtBoR,EAAM8mC,EAAOoC,IACb/K,EAAM6N,UAAYlF,EAAOoC,GAAKlpC,OAEpB,IAARkpC,GAAuB,KAAVt6C,GACfwzB,EAAM3sB,KAAK7G,GAEbq9C,EAAY5sC,CACd,CAEA,GAAI4sC,GAAaA,EAAY,EAAIzyC,EAAMU,OAAQ,CAC7C,MAAMtL,EAAQ4K,EAAMgH,MAAMyrC,EAAY,GACtC7pB,EAAM3sB,KAAK7G,GAEP2Q,EAAKunC,SACPA,EAAOA,EAAO5sC,OAAS,GAAGtL,MAAQA,EAClCoR,EAAM8mC,EAAOA,EAAO5sC,OAAS,IAC7BikC,EAAM6N,UAAYlF,EAAOA,EAAO5sC,OAAS,GAAG8F,MAEhD,CAEAm+B,EAAM9E,QAAUA,EAChB8E,EAAM/b,MAAQA,CAChB,CAEA,OAAO+b,CAAK,+BCjYd,MAAMptC,EAAO,EAAQ,MACfs1C,EAA6B,UAArB12C,QAAQssC,UAChB,gBACJwJ,EAAe,uBACfK,EAAsB,oBACtBH,EAAmB,2BACnBE,GACE,EAAQ,MAEZl3C,EAAQ0jC,SAAWtsB,GAAe,OAARA,GAA+B,iBAARA,IAAqBpM,MAAMC,QAAQmM,GACpFpX,EAAQ86C,cAAgB3gC,GAAO68B,EAAoBx+B,KAAK2B,GACxDna,EAAQu9C,YAAcpjC,GAAsB,IAAfA,EAAI5O,QAAgBvL,EAAQ86C,cAAc3gC,GACvEna,EAAQ83C,YAAc39B,GAAOA,EAAIpG,QAAQmjC,EAA4B,QACrEl3C,EAAQswC,eAAiBn2B,GAAOA,EAAIpG,QAAQ+iC,EAAiB,KAE7D92C,EAAQo9C,kBAAoBjjC,GACnBA,EAAIpG,QAAQojC,GAAwBnjC,GACxB,OAAVA,EAAiB,GAAKA,IAIjChU,EAAQu7C,oBAAsB,KAC5B,MAAMiC,EAAOx8C,QAAQ8sB,QAAQjc,MAAM,GAAG1Q,MAAM,KAAKmC,IAAIhC,QACrD,OAAoB,IAAhBk8C,EAAKjyC,QAAgBiyC,EAAK,IAAM,GAAkB,IAAZA,EAAK,IAAYA,EAAK,IAAM,EAG1D,EAGdx9C,EAAQqwC,UAAYvlC,GACdA,GAAsC,kBAApBA,EAAQ2yC,QACrB3yC,EAAQ2yC,SAEA,IAAV/F,GAA+B,OAAbt1C,EAAKiD,IAGhCrF,EAAQ67C,WAAa,CAAChxC,EAAOmtC,EAAM0F,KACjC,MAAMnD,EAAM1vC,EAAM2vC,YAAYxC,EAAM0F,GACpC,OAAa,IAATnD,EAAmB1vC,EACA,OAAnBA,EAAM0vC,EAAM,GAAoBv6C,EAAQ67C,WAAWhxC,EAAOmtC,EAAMuC,EAAM,GACnE,GAAG1vC,EAAMgH,MAAM,EAAG0oC,OAAS1vC,EAAMgH,MAAM0oC,IAAM,EAGtDv6C,EAAQ+4C,aAAe,CAACluC,EAAO2kC,EAAQ,CAAC,KACtC,IAAIzkC,EAASF,EAKb,OAJIE,EAAOkoB,WAAW,QACpBloB,EAASA,EAAO8G,MAAM,GACtB29B,EAAMxjC,OAAS,MAEVjB,CAAM,EAGf/K,EAAQs6C,WAAa,CAACzvC,EAAO2kC,EAAQ,CAAC,EAAG1kC,EAAU,CAAC,KAIlD,IAAIC,EAAS,GAHGD,EAAQqlC,SAAW,GAAK,SAGXtlC,KAFdC,EAAQqlC,SAAW,GAAK,MAMvC,OAHsB,IAAlBX,EAAME,UACR3kC,EAAS,UAAUA,UAEdA,CAAM,YC7Df,IAAIo4B,EAEJ94B,EAAOrK,QAAoC,mBAAnB29C,eACpBA,eAAej4C,KAAuB,oBAAXiP,OAAyBA,OAASipC,QAE7D13B,IAAOid,IAAYA,EAAUhoB,QAAQ4hB,YACpCmC,KAAKhZ,GACLiZ,OAAMtd,GAAOoP,YAAW,KAAQ,MAAMpP,IAAO,4BCwBlDxX,EAAOrK,QA9BP,SAAkB69C,GAChB,IAAIvwB,EAAO,IAAIuwB,EACXC,EAAOxwB,EAsBX,MAAO,CACL3V,IArBF,WACE,IAAI2qB,EAAUhV,EAWd,OATIgV,EAAQxwB,KACVwb,EAAOgV,EAAQxwB,MAEfwb,EAAO,IAAIuwB,EACXC,EAAOxwB,GAGTgV,EAAQxwB,KAAO,KAERwwB,CACT,EASEC,QAPF,SAAkB3oB,GAChBkkC,EAAKhsC,KAAO8H,EACZkkC,EAAOlkC,CACT,EAMF,kBC7BAvP,EAAOrK,QAIP,SAAsB6D,EAAOqiB,GAC3B,IAAI63B,EAASp9B,EAASlI,EAClBulC,GAAS,EAWb,SAASj6C,EAAM8d,GACb,SAAStB,IACH2F,GAAIA,EAAGrE,EAAKk8B,GAChB73B,EAAK,IACP,CACI83B,EAAQL,EAAep9B,GACtBA,GACP,CAEA,SAAS09B,EAAMvtC,EAAGmR,EAAKld,GACrBo5C,EAAQrtC,GAAK/L,GACK,KAAZgc,GAAiBkB,IACrB9d,EAAK8d,EAET,CAvBI7W,MAAMC,QAAQpH,IAChBk6C,EAAU,GACVp9B,EAAU9c,EAAM0H,SAEhBkN,EAAO3Y,OAAO2Y,KAAK5U,GACnBk6C,EAAU,CAAC,EACXp9B,EAAUlI,EAAKlN,QAmBZoV,EAGMlI,EAETA,EAAKxG,SAAQ,SAAUyG,GACrB7U,EAAM6U,IAAK,SAAUmJ,EAAKld,GAAUs5C,EAAKvlC,EAAKmJ,EAAKld,EAAQ,GAC7D,IAGAd,EAAMoO,SAAQ,SAAUwmB,EAAM/nB,GAC5B+nB,GAAK,SAAU5W,EAAKld,GAAUs5C,EAAKvtC,EAAGmR,EAAKld,EAAQ,GACrD,IAVAZ,EAAK,MAaPi6C,GAAS,CACX,EA/CA,MAAML,EAAiB,EAAQ,6BCF/BtzC,EAAOrK,QAAUoC,IAChB,MAAM87C,EAAuB,YAAY1lC,KAAKpW,GACxC+7C,EAAc,oBAAoB3lC,KAAKpW,GAE7C,OAAI87C,GAAwBC,EACpB/7C,EAGDA,EAAK2R,QAAQ,MAAO,IAAI,+BCRhC,MAAM0rB,EAAK,EAAQ,MACb1mB,EAAM,EAAQ,MACdqlC,EAAU,EAAQ,OAElB,IAAC3pC,GAAOzT,QAEd,IAAIq9C,EAuBJ,SAASC,EAAe3kC,GACvB,OAAc,IAAVA,GAIG,CACNA,QACA4kC,UAAU,EACVC,OAAQ7kC,GAAS,EACjB8kC,OAAQ9kC,GAAS,EAEnB,CAEA,SAASD,EAAcglC,EAAYC,GAClC,GAAmB,IAAfN,EACH,OAAO,EAGR,GAAID,EAAQ,cACXA,EAAQ,eACRA,EAAQ,mBACR,OAAO,EAGR,GAAIA,EAAQ,aACX,OAAO,EAGR,GAAIM,IAAeC,QAA8B/9C,IAAfy9C,EACjC,OAAO,EAGR,MAAMrtC,EAAMqtC,GAAc,EAE1B,GAAiB,SAAb5pC,EAAImqC,KACP,OAAO5tC,EAGR,GAAyB,UAArBhQ,QAAQssC,SAAsB,CAGjC,MAAMuR,EAAYpf,EAAG8C,UAAUphC,MAAM,KACrC,OACCG,OAAOu9C,EAAU,KAAO,IACxBv9C,OAAOu9C,EAAU,KAAO,MAEjBv9C,OAAOu9C,EAAU,KAAO,MAAQ,EAAI,EAGrC,CACR,CAEA,GAAI,OAAQpqC,EACX,MAAI,CAAC,SAAU,WAAY,WAAY,YAAa,iBAAkB,aAAa8sB,MAAKud,GAAQA,KAAQrqC,KAAwB,aAAhBA,EAAIsqC,QAC5G,EAGD/tC,EAGR,GAAI,qBAAsByD,EACzB,MAAO,gCAAgC+D,KAAK/D,EAAIuqC,kBAAoB,EAAI,EAGzE,GAAsB,cAAlBvqC,EAAIwqC,UACP,OAAO,EAGR,GAAI,iBAAkBxqC,EAAK,CAC1B,MAAMqZ,EAAUvsB,UAAUkT,EAAIyqC,sBAAwB,IAAI/9C,MAAM,KAAK,GAAI,IAEzE,OAAQsT,EAAI0qC,cACX,IAAK,YACJ,OAAOrxB,GAAW,EAAI,EAAI,EAC3B,IAAK,iBACJ,OAAO,EAGV,CAEA,MAAI,iBAAiBtV,KAAK/D,EAAImqC,MACtB,EAGJ,8DAA8DpmC,KAAK/D,EAAImqC,OAIvE,cAAenqC,EAHX,EAODzD,CACR,CAnHIotC,EAAQ,aACXA,EAAQ,cACRA,EAAQ,gBACRA,EAAQ,eACRC,EAAa,GACHD,EAAQ,UAClBA,EAAQ,WACRA,EAAQ,eACRA,EAAQ,mBACRC,EAAa,GAGV,gBAAiB5pC,IAEnB4pC,EADuB,SAApB5pC,EAAI2qC,YACM,EACiB,UAApB3qC,EAAI2qC,YACD,EAE2B,IAA3B3qC,EAAI2qC,YAAY7zC,OAAe,EAAIwF,KAAKC,IAAIzP,SAASkT,EAAI2qC,YAAa,IAAK,IAwG1F/0C,EAAOrK,QAAU,CAChB0Z,cAND,SAAyBgQ,GAExB,OAAO40B,EADO5kC,EAAcgQ,EAAQA,GAAUA,EAAO21B,OAEtD,EAICC,OAAQhB,EAAe5kC,GAAc,EAAMX,EAAIQ,OAAO,KACtDL,OAAQolC,EAAe5kC,GAAc,EAAMX,EAAIQ,OAAO,mCC5HvD,MAAMqqB,EAAW,EAAQ,KAEnBH,EAAe,CAACzyB,EAAKH,EAAK/F,KAC9B,IAAsB,IAAlB84B,EAAS5yB,GACX,MAAM,IAAIL,UAAU,4DAGtB,QAAY,IAARE,GAAkBG,IAAQH,EAC5B,OAAOqzB,OAAOlzB,GAGhB,IAAsB,IAAlB4yB,EAAS/yB,GACX,MAAM,IAAIF,UAAU,8DAGtB,IAAIC,EAAO,CAAE2uC,YAAY,KAASz0C,GACF,kBAArB8F,EAAK4uC,cACd5uC,EAAK2uC,YAAkC,IAArB3uC,EAAK4uC,aAGzB,IAIIC,EAAWzuC,EAAM,IAAMH,EAAM,IAJrBqzB,OAAOtzB,EAAK2uC,YACRrb,OAAOtzB,EAAK8uC,WACdxb,OAAOtzB,EAAK2zB,SACfL,OAAOtzB,EAAKlE,MAGvB,GAAI+2B,EAAazB,MAAM2d,eAAeF,GACpC,OAAOhc,EAAazB,MAAMyd,GAAU96C,OAGtC,IAAIC,EAAImM,KAAKC,IAAIA,EAAKH,GAClBhM,EAAIkM,KAAKF,IAAIG,EAAKH,GAEtB,GAAwB,IAApBE,KAAK8H,IAAIjU,EAAIC,GAAU,CACzB,IAAIF,EAASqM,EAAM,IAAMH,EACzB,OAAID,EAAK2zB,QACA,IAAI5/B,MAEK,IAAdiM,EAAKlE,KACA/H,EAEF,MAAMA,IACf,CAEA,IAAIi7C,EAAWC,EAAW7uC,IAAQ6uC,EAAWhvC,GACzC2+B,EAAQ,CAAEx+B,MAAKH,MAAKjM,IAAGC,KACvBqgC,EAAY,GACZD,EAAY,GA4BhB,OA1BI2a,IACFpQ,EAAMoQ,SAAWA,EACjBpQ,EAAMxK,OAASd,OAAOsL,EAAM3+B,KAAKtF,QAG/B3G,EAAI,IAENqgC,EAAY6a,EADCj7C,EAAI,EAAIkM,KAAK8H,IAAIhU,GAAK,EACCkM,KAAK8H,IAAIjU,GAAI4qC,EAAO5+B,GACxDhM,EAAI4qC,EAAM5qC,EAAI,GAGZC,GAAK,IACPqgC,EAAY4a,EAAgBl7C,EAAGC,EAAG2qC,EAAO5+B,IAG3C4+B,EAAMvK,UAAYA,EAClBuK,EAAMtK,UAAYA,EAClBsK,EAAM7qC,OAYR,SAAyBo7C,EAAKC,EAAKl1C,GACjC,IAAIm1C,EAAeC,EAAeH,EAAKC,EAAK,KAAK,IAAmB,GAChEG,EAAeD,EAAeF,EAAKD,EAAK,IAAI,IAAmB,GAC/DK,EAAcF,EAAeH,EAAKC,EAAK,MAAM,IAAkB,GAEnE,OADkBC,EAAa11C,OAAO61C,GAAa71C,OAAO41C,GACvCx2C,KAAK,IAC1B,CAlBiB02C,CAAgBpb,EAAWC,IAErB,IAAjBt0B,EAAK2zB,QACPiL,EAAM7qC,OAAS,IAAI6qC,EAAM7qC,WACF,IAAdiM,EAAKlE,MAAmBw4B,EAAU35B,OAAS05B,EAAU15B,OAAU,IACxEikC,EAAM7qC,OAAS,MAAM6qC,EAAM7qC,WAG7B8+B,EAAazB,MAAMyd,GAAYjQ,EACxBA,EAAM7qC,MAAM,EA4CrB,SAAS27C,EAAehgC,EAAOigC,EAAMz1C,GACnC,GAAIwV,IAAUigC,EACZ,MAAO,CAAEr1C,QAASoV,EAAO+4B,MAAO,GAAImH,OAAQ,GAG9C,IAAIC,EAoFN,SAAa77C,EAAGC,GACd,IAAIkO,EAAM,GACV,IAAK,IAAIrC,EAAI,EAAGA,EAAI9L,EAAE2G,OAAQmF,IAAKqC,EAAIjM,KAAK,CAAClC,EAAE8L,GAAI7L,EAAE6L,KACrD,OAAOqC,CACT,CAxFe2tC,CAAIpgC,EAAOigC,GACpBC,EAASC,EAAOl1C,OAChBL,EAAU,GACVmuC,EAAQ,EAEZ,IAAK,IAAI3oC,EAAI,EAAGA,EAAI8vC,EAAQ9vC,IAAK,CAC/B,IAAKiwC,EAAYC,GAAaH,EAAO/vC,GAEjCiwC,IAAeC,EACjB11C,GAAWy1C,EAEa,MAAfA,GAAoC,MAAdC,EAC/B11C,GAuGG,IADiBtG,EAtGQ+7C,KAsGL97C,EAtGiB+7C,GAuGxBh8C,GAAM,EAAK,GAAK,MAAMC,KApGtCw0C,GAEJ,CAiGF,IAA0Bz0C,EAAGC,EA3F3B,OAJIw0C,IACFnuC,IAAiC,IAAtBJ,EAAQ40C,UAAqB,MAAQ,SAG3C,CAAEx0C,UAASmuC,MAAO,CAACA,GAAQmH,SACpC,CAEA,SAASV,EAAgB9uC,EAAKH,EAAK2oC,EAAK1uC,GACtC,IAGIsB,EAHAE,EAjEN,SAAuB0E,EAAKH,GAC1B,IAAIgwC,EAAQ,EACRhd,EAAQ,EAER0c,EAAOO,EAAW9vC,EAAK6vC,GACvBE,EAAQ,IAAIj3C,IAAI,CAAC+G,IAErB,KAAOG,GAAOuvC,GAAQA,GAAQ1vC,GAC5BkwC,EAAM/2C,IAAIu2C,GACVM,GAAS,EACTN,EAAOO,EAAW9vC,EAAK6vC,GAKzB,IAFAN,EAAOS,EAAWnwC,EAAM,EAAGgzB,GAAS,EAE7B7yB,EAAMuvC,GAAQA,GAAQ1vC,GAC3BkwC,EAAM/2C,IAAIu2C,GACV1c,GAAS,EACT0c,EAAOS,EAAWnwC,EAAM,EAAGgzB,GAAS,EAKtC,OAFAkd,EAAQ,IAAIA,GACZA,EAAM5b,KAAK8b,GACJF,CACT,CAyCeG,CAAclwC,EAAKH,GAC5BsnC,EAAS,GACT73B,EAAQtP,EAGZ,IAAK,IAAIN,EAAI,EAAGA,EAAIpE,EAAOf,OAAQmF,IAAK,CACtC,IAAIG,EAAMvE,EAAOoE,GACbkJ,EAAM0mC,EAAepc,OAAO5jB,GAAQ4jB,OAAOrzB,GAAM/F,GACjD+4B,EAAQ,GAEP2V,EAAIoG,WAAYxzC,GAAQA,EAAKlB,UAAY0O,EAAI1O,SAW9CsuC,EAAIoG,WACN/b,EAAQsd,EAAStwC,EAAK2oC,EAAK1uC,IAG7B8O,EAAIsc,OAAS2N,EAAQjqB,EAAI1O,QAAUk2C,EAAaxnC,EAAIy/B,OACpDlB,EAAOrxC,KAAK8S,GACZ0G,EAAQzP,EAAM,EACdzE,EAAOwN,IAjBDxN,EAAKitC,MAAM9tC,OAAS,GACtBa,EAAKitC,MAAMjpC,MAGbhE,EAAKitC,MAAMvyC,KAAK8S,EAAIy/B,MAAM,IAC1BjtC,EAAK8pB,OAAS9pB,EAAKlB,QAAUk2C,EAAah1C,EAAKitC,OAC/C/4B,EAAQzP,EAAM,EAYlB,CAEA,OAAOsnC,CACT,CAEA,SAAS+H,EAAentC,EAAKsuC,EAAYr1C,EAAQs1C,EAAcx2C,GAC7D,IAAInG,EAAS,GAEb,IAAK,IAAIoL,KAAOgD,EAAK,CACnB,IAAI,OAAEmjB,GAAWnmB,EAGZuxC,GAAiBnR,EAASkR,EAAY,SAAUnrB,IACnDvxB,EAAOmC,KAAKkF,EAASkqB,GAInBorB,GAAgBnR,EAASkR,EAAY,SAAUnrB,IACjDvxB,EAAOmC,KAAKkF,EAASkqB,EAEzB,CACA,OAAOvxB,CACT,CAYA,SAASs8C,EAAQr8C,EAAGC,GAClB,OAAOD,EAAIC,EAAI,EAAIA,EAAID,GAAK,EAAI,CAClC,CAEA,SAASurC,EAASp9B,EAAK2F,EAAKtB,GAC1B,OAAOrE,EAAIwuB,MAAKxxB,GAAOA,EAAI2I,KAAStB,GACtC,CAEA,SAAS0pC,EAAW9vC,EAAKuH,GACvB,OAAOjX,OAAO4iC,OAAOlzB,GAAKa,MAAM,GAAI0G,GAAO,IAAI8hC,OAAO9hC,GACxD,CAEA,SAASyoC,EAAWO,EAAS1d,GAC3B,OAAO0d,EAAWA,EAAUxwC,KAAKiW,IAAI,GAAI6c,EAC3C,CAEA,SAASud,EAAaZ,GACpB,IAAKlgC,EAAQ,EAAGigC,EAAO,IAAMC,EAC7B,OAAID,GAAQjgC,EAAQ,EACX,IAAIA,GAASigC,EAAO,IAAMA,EAAO,OAEnC,EACT,CAMA,SAASV,EAAW1lC,GAClB,MAAO,YAAY3B,KAAK2B,EAC1B,CAEA,SAASgnC,EAASlhD,EAAOu5C,EAAK1uC,GAC5B,IAAK0uC,EAAIoG,SACP,OAAO3/C,EAGT,IAAI0T,EAAO5C,KAAK8H,IAAI2gC,EAAIxU,OAASd,OAAOjkC,GAAOsL,QAC3Ci2C,GAA+B,IAAvB12C,EAAQy0C,WAEpB,OAAQ5rC,GACN,KAAK,EACH,MAAO,GACT,KAAK,EACH,OAAO6tC,EAAQ,KAAO,IACxB,KAAK,EACH,OAAOA,EAAQ,SAAW,KAC5B,QACE,OAAOA,EAAQ,OAAO7tC,KAAU,KAAKA,KAG3C,CAMA8vB,EAAazB,MAAQ,CAAC,EACtByB,EAAage,WAAa,IAAOhe,EAAazB,MAAQ,CAAC,EAMvD33B,EAAOrK,QAAUyjC,uPC/RjB,gBACA,UACA,UACA,aAEa,EAAAie,oBAAsB,aACtB,EAAAC,mBAAqB,KACrB,EAAAC,cAAgB,CAG3B,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YACA,aACA,WACA,qBACA,UACA,gBACA,uBACA,gBAgBF,kBAIE38C,YAAY48C,GACV18C,KAAK08C,YAAcA,IAAe,IAAAC,WAElC38C,KAAK48C,cAAgB,CACnBtnC,IAAKtV,KAAK08C,YACVnqB,OAAQ,EAAAkqB,cACR9mB,WAAW,EACX2M,WAAW,EACX9jC,qBAAqB,EACrBq3B,UAAU,EAEd,CAEAl5B,2BAA2BigD,EAA+B58C,KAAK48C,eAC7D,MAAMC,QAAuB78C,KAAK88C,qBAAqBF,GAEjDG,EAAoB,IAAI9nB,UAExBjf,QAAQC,IACZ4mC,EAAe1+C,KAAI0X,IACjB,IAAAsrB,UAAStrB,EAAM,SAASkkB,MAAKijB,GAAYD,EAAkBtqC,IAAIoD,EAAMmnC,QAIzE,MAAMC,SACEjnC,QAAQC,IACZpQ,MAAM6R,KAAKqlC,EAAkB7+C,WAAWC,KAAI,EAAE0X,EAAMmnC,UAEjCvhD,IAAbuhD,EAA+B,GAIX,KAApBA,EAAS5vC,OACJpN,KAAKk9C,gBAAgB,EAAAV,mBAAoB3mC,EAAM+mC,GAGjD58C,KAAKm9C,2BAA2BtnC,EAAMmnC,EAAUJ,OAG3DjvC,OAEF,OAAO9H,MAAM6R,KAAK,IAAI/S,IAAIs4C,GAC5B,CAQAtgD,8BACEygD,EACA7qB,EACA5sB,GAMA,OAJK4sB,IAAQA,QAAevyB,KAAKq9C,wBAIT,WAFJ,aAAOD,EAAU,IAAIp9C,KAAK48C,iBAAkBj3C,EAAS4sB,YAE5DnsB,MACf,CAEQzJ,2BACNigD,EAA+B58C,KAAK48C,eAEpC,OAAO,aAAO,MAAM,EAAAL,sBAAuB,IACtCv8C,KAAK48C,iBACLA,EACH/mB,UAAU,GAEd,CAEQl5B,iCACN2gD,EACAjc,EACAub,GAWA,OATsBvb,EACnBrlC,MAAM,MACNsI,QAAOyB,KACNA,EAAUA,EAAQqH,QAEF0gB,WAAW,MAAQ/nB,EAAQK,SAE5CjI,KAAI4H,GAAW/F,KAAKk9C,gBAAgBn3C,EAASu3C,EAAiBV,IAGnE,CAEQM,gBACNn3C,EACAu3C,EACAV,EAA+B58C,KAAK48C,eA8CpC,OA5CA72C,EAAUA,EAAQqH,QAGN4d,SAAS,OACnBjlB,EAAUA,EAAQ/J,MAAM,KAAK,IAKf,MAAZ+J,EACFA,EAAU,EAAAy2C,mBAaFz2C,EAAQilB,SAAS,MAAQjlB,IAAY,EAAAy2C,oBAIzCz2C,EAAQ+nB,WAAW,OAErB/nB,EAAU,KAAKA,EAAQ2G,MAAM,MAK3B3G,EAAQnG,SAAS,OACnBmG,EAAU,GAAGA,UAXfA,EAAU,QAAQA,IAoBhB62C,EAAc/mB,SAAiB,EAAAjgB,MAAMpR,KAAK,EAAAoR,MAAMga,QAAQ0tB,GAAkBv3C,GAGvE,EAAA6P,MAAMpR,KAAK,EAAAoR,MAAMga,QAAQ0tB,EAAgB1uC,QAAQ,GAAG5O,KAAK08C,eAAgB,KAAM32C,EACxF,4HC7LW,EAAAw3C,YAAetrC,QAAmDxW,IAARwW,EAIvE,6BACqB,KAAA0H,UAA8B,CAAC,CAyBpD,CAtBE6jC,iBAAiBjyB,GAAsB,CAEvCkyB,YAAYvsC,EAAiB6P,GACtB/gB,KAAK2Z,UAAUzI,KAClBlR,KAAK2Z,UAAUzI,GAAW,CAACyI,UAAW,KAExC3Z,KAAK2Z,UAAUzI,GAASyI,UAAUhY,KAAKof,EACzC,CAEA28B,iBAAiBpmC,GACf,IAAI,IAAAimC,aAAYjmC,IAhBmC,iBAArCrF,EAgBqBqF,IAhBoC,OAARrF,IAgBlBqF,EAAKpG,QAChD,OAjBW,IAACe,EAoBd,MAAMs5B,EAAIj0B,GAEN,IAAAimC,aAAYv9C,KAAK2Z,UAAU4xB,EAAEr6B,WAIjClR,KAAK2Z,UAAU4xB,EAAEr6B,SAASyI,UAAU7M,SAAQiU,IAAO,IAAAw8B,aAAYhS,EAAEj0B,MAAQyJ,IAAOA,KAAMwqB,EAAEj0B,OAC1F,GAuBF,wBAIEqmC,GACA,MAAO,CACL95B,KACE3S,KACG9J,GAEHu2C,EAAOC,YAAY1sC,EAAS9J,EAC9B,EACAo2C,iBAAiBjyB,GACfoyB,EAAOH,iBAAiBjyB,EAC1B,EACAjoB,GACE4N,EACAwI,GAEAikC,EAAOF,YAAYvsC,EAASwI,EAC9B,EAEJ,qGC1EA,MAAamkC,EACX/9C,YACSg+C,EACAC,GADA,KAAAD,OAAAA,EACA,KAAAC,cAAAA,CACN,CAEHj7B,4BACE9b,EACA82C,GAEA,GAAIA,EAEF,OAAO,IAAI92C,EAAK82C,EADEA,EAAOE,OAAOF,EAAOE,OAAO53C,OAAS,GAK3D,CAEA0c,qBACEg7B,GAEA,OAAO99C,KAAKi+C,qBAAoCJ,EAAeC,EACjE,CAEAh7B,uDACEg7B,GAEA,IAAII,EACJ,MAAMC,EAA+BL,GAAQK,6BAK7C,OAJIA,IACFD,EACEC,EAA6BA,EAA6B/3C,OAAS,IAEnE83C,EACK,IAAIL,EAAcC,EAASI,GAE3Bl+C,KAAKi+C,qBAAoCJ,EAAeC,EAEnE,CAEAM,UAAU16B,GACR,OAAO,IAAIm6B,EAAc79C,KAAK89C,OAAQp6B,EACxC,CAEIxR,WACF,OAAOlS,KAAK+9C,cAAc7rC,IAC5B,CAEImsC,eACF,OAAOr+C,KAAK+9C,cAAcM,UAAY,CAAC,CACzC,CAEIhgD,WACF,OAAO2B,KAAKkS,KAAK7T,IACnB,CAEI+I,WACF,OAAOpH,KAAKkS,KAAK9K,IACnB,CAEIijC,YACF,OAAOrqC,KAAK+9C,cAAc1T,KAC5B,CAEIiU,qBACF,OAAOt+C,KAAK+9C,cAAcv+C,MAC5B,CAEIA,aACF,OAAOQ,KAAKs+C,gBAAgB9+C,MAC9B,CAEI++C,aACF,OAAOv+C,KAAKs+C,gBAAgBC,MAC9B,CAEIC,eACF,OAAOx+C,KAAK89C,OAAOU,QACrB,CAEIC,4BACF,OAAOz+C,KAAK0+C,aAAe1+C,KAAKw+C,cAAW/iD,CAC7C,CAEIkjD,gBACF,OAAO3+C,KAAK89C,OAAOa,SACrB,CAEIC,eACF,OAAO5+C,KAAK89C,OAAOc,QACrB,CAEIC,yBACF,OAAO7+C,KAAK+9C,cAAcc,kBAC5B,CAEIC,4BACF,YAAoDrjD,IAA7CuE,KAAK89C,OAAOK,4BACrB,CAEIY,mBACF,YAA0BtjD,IAAnBuE,KAAK2+C,SACd,CAEIK,kBACF,YAAyBvjD,IAAlBuE,KAAK4+C,QACd,CAEIK,iBACF,OAAOj/C,KAAK++C,cAAgB/+C,KAAKg/C,WACnC,CAEIE,gCACF,OAAOl/C,KAAK89C,OAAOK,4BACrB,CAEIO,mBACF,OAAO1+C,KAAK+9C,cAAcW,YAC5B,EAtHF,6CC6CA,IAAYS,8GAAZ,SAAYA,GACV,qBACA,4CACD,CAHD,CAAYA,IAAU,aAAVA,EAAU,KAuIT,EAAAC,YAAc,eACd,EAAAC,uBAAyB,4wBCtLtC,mBAGA,UAIA,UAKMC,EAAoB,CACxB,qEACA,iEACA,wDACA,gEAiTF,SAASC,EAAKpJ,EAAWtqC,EAAaH,GACpC,OAAQ,EAAIyqC,GAAKtqC,EAAMsqC,EAAIzqC,CAC7B,CA7SA,sBAQE5L,YACS0/C,EACUC,EACVC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAKAC,EACAC,EACAC,GAlBA,KAAAd,iBAAAA,EACU,KAAAC,sBAAAA,EACV,KAAAC,WAAAA,EACA,KAAAC,gBAAAA,EACA,KAAAC,IAAAA,EACA,KAAAC,kBAAAA,EACA,KAAAC,MAAAA,EACA,KAAAC,QAAAA,EACA,KAAAC,cAAAA,EACA,KAAAC,mBAAAA,EACA,KAAAC,gBAAAA,EACA,KAAAC,oBAAAA,EAKA,KAAAC,kBAAAA,EACA,KAAAC,sBAAAA,EACA,KAAAC,YAAAA,EArBT,KAAAC,gBAAiD,GAuB/CvgD,KAAKwgD,iBAAmBxgD,KAAKygD,wBAA0BzgD,KAAKw/C,iBAAiBgB,iBAEzExgD,KAAKw/C,iBAAiBkB,UACxB1gD,KAAK2gD,wBAA0B3gD,KAAK+/C,QAAQa,SAASX,GAAoB3xB,MAAM,GAAGuyB,MAElF7gD,KAAK8gD,qBAAuB9gD,KAAK+/C,QAAQa,SAAS,GAAGtyB,MAAM,GAAGuyB,KAC9D7gD,KAAK+gD,sBAAwB/gD,KAAK+/C,QAAQa,SAAS,GAAGtyB,MAAM,GAAGuyB,KAEnE,CAEAG,iBAAiB9iC,GACf,QAAiBziB,IAAbyiB,EACF,OAAOwV,EAAIutB,kBAAkB,mCAG/B,MAAMC,EAAahjC,EAASgjC,WAC5B,QAAmBzlD,IAAfylD,GAAkD,IAAtBA,EAAW96C,OACzC,OAAOstB,EAAIutB,kBAAkB,oCAG/B,IAAKjhD,KAAKw/C,iBAAiBkB,WAAaQ,EAAW96C,OAAS,EAC1D,OAAOstB,EAAIutB,kBAAkB,qDAG/B,MAAM/vC,EAAUgN,EAASgjC,WAAW,GAAG7f,QACvC,QAAgB5lC,IAAZyV,EACF,OAAOwiB,EAAIutB,kBAAkB,gCAG/B,QAAsBxlD,IAAlByV,EAAQod,YAA4C7yB,IAArByV,EAAQod,MAAM,GAC/C,OAAOoF,EAAIutB,kBAAkB,+BAG/B,MAAME,EAAejwC,EAAQod,MAAM,GAC7B8yB,EAAeD,GAAcC,aACnC,OAAIA,EACKphD,KAAK2/C,gBAAgB0B,qBAAqBD,GACxCD,EAAaN,KACfntB,EAAI4tB,oBAEJ5tB,EAAIutB,kBAAkB,6DAEjC,CAEAM,4BACMvhD,KAAKwgD,iBAAmBxgD,KAAKygD,0BAC3BzgD,KAAKw/C,iBAAiBkB,UACxB1gD,KAAK+/C,QAAQa,SAAS5gD,KAAKigD,oBAAoB3xB,MAAM,GAAGuyB,KAAO7gD,KAAK2gD,yBAEpE3gD,KAAK+/C,QAAQa,SAAS,GAAGtyB,MAAM,GAAGuyB,KAAO7gD,KAAK8gD,qBAC9C9gD,KAAK+/C,QAAQa,SAAS,GAAGtyB,MAAM,GAAGuyB,KAAO7gD,KAAK+gD,uBAGpD,CAEApkD,yBAAyB6kD,EAAsBC,GAC7CzhD,KAAKuhD,6BACL,IAAAG,gBAAeD,GASf,MAAME,EAAkB3hD,KAAK+/C,QAAQ4B,gBACL,SAA5BA,EAAgBC,QAClB5hD,KAAK+/C,QAAQ8B,gBAAgB,CAC3BD,QAAS,KACTj6B,KAAM65B,IAECG,EAAgBG,oBACzBH,EAAgBG,oBAAoBtD,SAAWgD,EAE/CG,EAAgBh6B,KAAO65B,EAMzBxhD,KAAK+/C,QAAQa,SAASx6C,OAASpG,KAAKigD,mBACpCjgD,KAAKogD,mBACP,CAEA2B,sBACE,MAAMJ,EAAkB3hD,KAAK+/C,QAAQ4B,gBACJ,OAA7BA,GAAiBC,UACnB5hD,KAAK+/C,QAAQiC,UACbhiD,KAAKogD,oBAET,CAEA6B,YACEv0B,EACAxP,EACAgkC,EACAC,GAWA,GATID,GACFliD,KAAK+hD,sBAEP/hD,KAAK0/C,YAAYhvC,KAAK,wBAAyBgd,GAC/C1tB,KAAK0/C,YAAYhvC,KAAK,yBAA0BwN,IAChD,IAAAkkC,UAASlkC,GAAUmkC,kBAAkBZ,aACrCzhD,KAAKugD,gBAAgB5+C,KAAKuc,GAGtBle,KAAKw/C,iBAAiBkB,UAAW,CACnC,MACM4B,EAAqB,GADItiD,KAAK+/C,QAAQa,SAAS5gD,KAAKigD,oBAAoB3xB,MAAM,GAAGuyB,QAC/BsB,EAAY39C,KAAK,OACzExE,KAAK+/C,QAAQa,SAAS5gD,KAAKigD,oBAAoB3xB,MAAM,GAAGuyB,KAAOyB,CACjE,KAAO,CACL,MAAMC,EAAsBviD,KAAK+/C,QAAQa,SAAS,GAAGtyB,MAAM,GAAGuyB,KACxD2B,EAAuBxiD,KAAK+/C,QAAQa,SAAS,GAAGtyB,MAAM,GAAGuyB,KACzD4B,EAAkB,GAAGF,KAAuBJ,EAAY39C,KAAK,OAC7Dk+C,EAAmB,GAAGF,KAAwBL,EAAY39C,KAAK,OACrExE,KAAK+/C,QAAQa,SAAS,GAAGtyB,MAAM,GAAGuyB,KAAO4B,EACzCziD,KAAK+/C,QAAQa,SAAS,GAAGtyB,MAAM,GAAGuyB,KAAO6B,CAC3C,CACF,CAEA/lD,qBACE+wB,EACAxP,EACAgkC,GAEA,MAAM1iD,EAASQ,KAAKghD,iBAAiB9iC,GAC/BykC,EAAYnjD,EAAO++C,SAAW7qB,EAAIkvB,uBAAuBC,QAmB/D,OAlBIF,GACF3iD,KAAKuhD,kCACCvhD,KAAKmgD,oBAAoBngD,KAAKggD,cAAe9hC,EAAWgkC,IAC3B,IAA1BliD,KAAKwgD,kBACdxgD,KAAK0/C,YAAYngD,MAAM,0BAA2BmuB,GAClD1tB,KAAK0/C,YAAYngD,MAAM,2BAA4B2e,GACnDle,KAAK8iD,mBACHxD,GAAkB,IAAAyD,WAAUzD,EAAkBl5C,OAAS,IACvD8X,GAAUmkC,kBAAkBZ,cAG9BzhD,KAAKiiD,YACHv0B,EACAxP,EACAgkC,EACC1iD,EAAuC2iD,aAGrCQ,CACT,CAEAK,sBACE,MAAMx1C,EAAIxN,KAAKygD,wBAETtK,GADIn2C,KAAKygD,wBAA0BzgD,KAAKwgD,kBAChChzC,EACRy1C,EAAc1D,EAClBpJ,EACAn2C,KAAKw/C,iBAAiB0D,kBACtBljD,KAAKw/C,iBAAiB2D,mBAElBC,EAAOx3C,KAAKy3C,MAChB9D,EAAKpJ,EAAGn2C,KAAKw/C,iBAAiB8D,WAAYtjD,KAAKw/C,iBAAiB+D,aAE5DC,EAAOjE,EAAKpJ,EAAGn2C,KAAKw/C,iBAAiBiE,WAAYzjD,KAAKw/C,iBAAiBkE,YAE7E,MAAO,CAACC,eADe3jD,KAAKw/C,iBAAiBmE,eACrBV,cAAaG,OAAMI,OAC7C,CAEA7mD,aACE,MAAM+wB,EAAsC,CAC1Ck2B,iBAAkB5jD,KAAK4/C,IAAIoD,oBAAoBhjD,KAAKgjD,uBACpDhG,SAAUh9C,KAAK+/C,QAAQa,SACvBiD,MAAO7jD,KAAK+/C,QAAQ+D,WAChB,CAAC,CAACC,qBAAsB/jD,KAAK2/C,gBAAgBqE,kBAC7C,IAiBN,GAdIhkD,KAAKw/C,iBAAiBkB,iBACKjlD,IAAzBuE,KAAKkgD,iBAAiClgD,KAAKw/C,iBAAiByE,oBAC9Dv2B,EAAQw2B,gBAAkB,CACxBC,UAAWnkD,KAAKkgD,gBAAgBiE,UAChC1E,sBAAuBz/C,KAAKy/C,wBAGhC/xB,EAAQmyB,kBAAoB,CAACvxB,MAAO,CAAC,CAACuyB,KAAM7gD,KAAK6/C,oBAAqBuE,KAAM,UACxEpkD,KAAK8/C,OAAS9/C,KAAK8/C,MAAM15C,OAAS,IACpCsnB,EAAQoyB,MAAQ9/C,KAAK8/C,QAIzB9/C,KAAK0/C,YAAY32B,KAAK,aAAc2E,GAChC1tB,KAAKw/C,iBAAiB6E,aAAc,CACtC,MACMC,SAD0BtkD,KAAK4/C,IAAI2E,sBAAsB72B,EAAS1tB,KAAKsgD,cAC3BkE,YAClD,OAAa,CACX,MAAM,KAAC5lD,EAAI,MAAE9D,SAAewpD,EAAwBlnD,OACpD,GAAIwB,EACF,OAAO,EAGP,GADAoB,KAAK0/C,YAAY32B,KAAK,oBAAqBjuB,UAC/BkF,KAAKykD,eAAe/2B,EAAS5yB,GAAO,GAC9C,OAAO,CAGb,CACF,KAAO,CACL,MAAMojB,QAAiBle,KAAK4/C,IAAI8E,gBAC9Bh3B,EACA1tB,KAAKkgD,iBAAiB7kC,MACtBrb,KAAKsgD,aAGP,GADAtgD,KAAK0/C,YAAY32B,KAAK,cAAe7K,UACzBle,KAAKykD,eAAe/2B,EAASxP,GAAU,GACjD,OAAO,CAEX,CACA,OAAO,CACT,CAEAvhB,iBAME,IAAI0jD,EACJ,EAAG,CAID,IADArgD,KAAKwgD,iBAAmBxgD,KAAKygD,wBACtBzgD,KAAKwgD,kBAAoB,UACpBxgD,KAAKkS,QADkB,CAG1B,GAA8B,IAA1BlS,KAAKwgD,iBACd,OAEFxgD,KAAKwgD,yBAEC,IAAAmE,OAAM,GACd,CACA3kD,KAAKggD,cAAgBhgD,KAAK+/C,QAAQ6E,kBAClCvE,GAC6C,IAA3CrgD,KAAKggD,eAAenB,oBAAgC7+C,KAAKggD,cAAc6E,QAAQ,aAC7ExE,SACIrgD,KAAKqgD,sBAAsBrgD,KAAKggD,cAE1C,OAASK,EACX,CAEA1jD,wBAOE,UACQqD,KAAK8kD,UACb,CAAE,MAAOpoC,GACP,IAAIqoC,EACA/kD,KAAKsgD,aAAa0E,QACpBD,EApSmB,WAsSnBA,EArSmB,oDAsSnB90C,QAAQ1Q,MAAMmd,IAEhB1c,KAAK8iD,mBAAmBiC,OAAatpD,EACvC,CACF,8BC5HF,IAAYmnD,EAeZ,SAAgBqC,EAAmB9C,GACjC,MAAO,CAAC5D,OAAQqE,EAAuBsC,QAAS/C,YAAaA,EAC/D,gLAhEA,4BAAiCz8C,GAC/B,IAAIy/C,EAAW,GACXhoB,EAAUz3B,EACd,KAAOy3B,IAAYgoB,GACjBA,EAAWhoB,EACXA,EAAUA,EAAQvuB,QAAQ,UAAU,CAACC,EAAOs2B,KAC1C,OAAQA,GACN,IAAK,IACH,MAAO,KACT,IAAK,IACH,MAAO,KACT,IAAK,IACH,MAAO,KACT,IAAK,IACH,MAAO,KACT,IAAK,IACH,MAAO,KACT,IAAK,IACH,MAAO,IACT,IAAK,IACH,MAAO,IACT,IAAK,IACH,MAAO,KACT,IAAK,IACH,MAAO,KACT,IAAK,KACH,MAAO,KACT,QAEE,OADAl1B,QAAQW,IAAI,iCAAiC/B,KACtCA,EACX,IAGJ,OAAOsuB,CACT,EAEa,EAAAioB,YAAc,IAAIC,KAC7B,IAAK,MAAMz0C,KAAOy0C,EAChB,GAAIz0C,aAAe3U,MAEjB,YADAgU,QAAQ1Q,MAAM,iBAAkB8lD,GAKpCp1C,QAAQW,IAAI,iBAAkBy0C,EAAK,EAGrC,SAAYzC,GACV,yBACA,wBACD,CAHD,CAAYA,IAAsB,yBAAtBA,EAAsB,KAelC,uBAIA,6BAAkC0C,GAChC,OAAOL,EAAmB,CAACK,GAC7B,EAEA,+BACE,MAAO,CAAC/G,OAAQqE,EAAuBC,QACzC,4BC1NA,SAASxhB,EAAQ+iB,EAA2BxtB,GAC1C,MAAO,CAACwtB,OAAM91B,MAAO,CAACsI,GACxB,CAEA,SAAgB2uB,EAAY3uB,GAC1B,OAAOyK,EAAQ,OAAQzK,EACzB,CAEA,SAAgB4uB,EAAa5uB,GAC3B,OAAOyK,EAAQ,QAASzK,EAC1B,CAUA,SAAgBwqB,EAAa/iD,EAAwB+I,GACnD,OAAOo+C,EAAa,CAACpE,aAAc,CAAC/iD,OAAM+I,SAC5C,CAkBA,SAAgBq+C,EAA0BC,GACxC,OAAOH,EAAY,CAACG,oBACtB,CAEA,SAAgBA,EACdrnD,EACA6f,GAEA,OAAOunC,EAA0B,CAACpnD,OAAM6f,YAC1C,CAEA,SAAgBynC,EAAiBpH,EAAgC/+C,GAC/D,OAAOkmD,EAAiB,YAAa,CAACnH,SAAQ/+C,UAChD,CAEA,SAAgBomD,EACdrH,EACA/+C,GAEA,OAAOkmD,EAAiB,uBAAwB,CAACnH,SAAQ/+C,UAC3D,CAEA,SAAgBqmD,EAAkBtH,EAAgC/+C,GAChE,OAAOkmD,EAAiB,aAAc,CAACnH,SAAQ/+C,UACjD,CAEA,SAAgBsmD,EACdvH,EACA/+C,GAEA,OAAOkmD,EAAiB,qBAAsB,CAACnH,SAAQ/+C,UACzD,+gBAnEA,gBAIA,iBAIA,oBAAyBqhD,GACvB,OAAO0E,EAAY,CAAC1E,QACtB,EAEA,qBAA0BA,GACxB,OAAO2E,EAAa,CAAC3E,QACvB,EAEA,iBAIA,wBAA6B5jD,GAC3B,OAAOmkD,EAAa,YAAa,CAACnkD,QACpC,EAEA,kCAAuC8oD,GACrC,OAAO3E,EAAa,uBAAwB,CAAC2E,WAC/C,EAEA,yBAA8B9oD,EAAcokC,GAC1C,OAAO+f,EAAa,aAAc,CAACnkD,OAAMokC,WAC3C,EAEA,gCAAqCpkC,GACnC,OAAOmkD,EAAa,qBAAsB,CAACnkD,QAC7C,EAEA,8BAIA,qBAOA,qBAIA,+BAOA,sBAIA,6BAOA,2BAAgCuC,GAC9B,OAAOmmD,EAAiB,UAAWnmD,EACrC,EAEA,qCAA0CA,GACxC,OAAOomD,EAA2B,UAAWpmD,EAC/C,EAEA,4BAAiCA,GAC/B,OAAOqmD,EAAkB,UAAWrmD,EACtC,EAEA,mCAAwCA,GACtC,OAAOsmD,EAAyB,UAAWtmD,EAC7C,EAEA,2BAAgCA,GAC9B,OAAOmmD,EAAiB,UAAWnmD,EACrC,EAEA,qCAA0CA,GACxC,OAAOomD,EAA2B,UAAWpmD,EAC/C,EAEA,4BAAiCA,GAC/B,OAAOqmD,EAAkB,UAAWrmD,EACtC,EAEA,mCAAwCA,GACtC,OAAOsmD,EAAyB,UAAWtmD,EAC7C,2vBCxGA,mBACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UAEA,UAEA,SACA,UAEA,UACA,UACA,SACA,UACA,SAEA,UACA,aACA,YACA,UACA,SACA,UAcA,4BASEM,YACmBkmD,EACVxG,EACAyG,EACAtI,EACAuI,GAJU,KAAAF,mBAAAA,EACV,KAAAxG,iBAAAA,EACA,KAAAyG,gBAAAA,EACA,KAAAtI,OAAAA,EACA,KAAAuI,mBAAAA,EAVT,KAAAjG,mBAA6B,EAY3BjgD,KAAK4/C,IAAM5/C,KAAKw/C,iBAAiB2G,eAC7B,IAAI,EAAAC,YACJ,IAAI,EAAAC,QAAQrmD,KAAKw/C,kBACrB,MAAM8G,EAAUtmD,KAAKw/C,iBAAiB+G,iBAAmB,uBAAoB9qD,EACvEmmC,EAAW,EAAA4kB,aAAe,uBAAyB,mCACzDxmD,KAAK0/C,WAAa,IAAI,EAAA+G,WAAW7kB,EAAU,EAAe0kB,GAC1DtmD,KAAKkwB,YAAc,IAAI,EAAAw2B,YACvB1mD,KAAK2mD,UAAY,IAAI,EAAAC,UACnB5mD,KAAKw/C,iBAAiBqH,uBACtB7mD,KAAKw/C,iBAAiBsH,0BAExB9mD,KAAK2/C,gBAAkB3/C,KAAK+mD,kCAC9B,CAEA3G,kBAAkB4G,GAChBhnD,KAAK29C,OAAO95B,KAAK,oBAAqBmjC,EAAYC,KACpD,CAEAC,0BACElnD,KAAK29C,OAAO95B,KAAK,mBAAoB,EAAAs7B,WAAWgI,kBAClD,CAEAC,cACEpnD,KAAK29C,OAAO95B,KAAK,mBAAoB,EAAAs7B,WAAWkI,MAClD,CAEAN,mCACE,MAAMO,EAAgC,CACpC,IAAI,EAAAC,iBAAiBvnD,KAAKimD,iBAC1B,IAAI,EAAAuB,kBAAkBxnD,KAAKimD,iBAC3B,IAAI,EAAAwB,mBAAmBznD,KAAKimD,iBAC5B,IAAI,EAAAyB,2BAA2B1nD,KAAKimD,gBAAiBjmD,KAAKkwB,aAC1D,IAAI,EAAAy3B,yBAAyB3nD,KAAKimD,kBAKpC,OAHIjmD,KAAKw/C,iBAAiBoI,oBACxBN,EAAU3lD,KAAK,IAAI,EAAAkmD,kBAAkB7nD,KAAKw/C,iBAAkBx/C,KAAKimD,gBAAiBjmD,KAAK4/C,MAElF,IAAI,EAAAkI,gBAAgBR,EAC7B,CAEA3qD,YAAYojD,EAAsBgI,EAAwBzH,GACxD,MAAMN,EAAgBD,EAAQ6E,kBACf,UAAXmD,GACF/nD,KAAKknD,gCACClnD,KAAKqgD,sBAAsBN,EAASC,SACpChgD,KAAKgoD,eACTjI,OACAtkD,EACAukD,QACMhgD,KAAKkmD,qBACX5F,GAEFtgD,KAAKonD,sBAECpnD,KAAK2/C,gBAAgBsI,cAAcjI,EAAe+H,IACxD,IAAAG,wBAAuBnI,EAAQ4B,iBAAiBF,YAAasG,EAAQ/H,GAEzE,CAEAmI,+BACEpI,EACAqI,EACAC,GAEA,MAAMC,EAAqB,EAAAC,mBAAmBxC,QACxCyC,EAA0B,IAAIF,KAC9BG,EAAkB,EAAAC,gBAAgB3C,QAClC4C,EAAuB,IAAIF,KAGjC,IAAIG,EAA6BP,EAC7BvE,EAAsB9jD,KAAKw/C,iBAAiBqJ,iBAUhD,OATIT,IAAiBE,GACnBM,EAA6BP,EAAO37C,MAAM87C,EAAwBpiD,QAClE09C,GAAa,GACJsE,IAAiBK,IAC1BG,EAA6BP,EAAO37C,MAAMi8C,EAAqBviD,QAC/D09C,GAAa,GAGf/D,EAAQ+D,WAAaA,EACd8E,CACT,CAEAjsD,oCACE,MAAMmsD,EAAwB9oD,KAAKw/C,iBAAiBsJ,4BACb,IAAAC,YAAWD,GAChD9oD,KAAK6/C,wBAA0B,IAAA1e,UAAS2nB,GAExC9oD,KAAK6/C,kBAAoB,6KAK7B,CAEAljD,iBACEqsD,EACAjJ,EACAqI,EACAa,EACA3I,GAEA,MAAMJ,QAAwBlgD,KAAKkmD,qBAC7BgD,EAA4BlpD,KAAKmoD,+BACrCpI,EACAqI,EACAa,GAEFjpD,KAAKknD,0BACDlnD,KAAKw/C,iBAAiBkB,gBAAwCjlD,IAA3BuE,KAAK6/C,yBACpC7/C,KAAKmpD,8BAETpJ,EAAQ9uB,UAINjxB,KAAKw/C,iBAAiBkB,gBAClB0I,EAAQC,eAAetJ,GAE7BqJ,EAAQE,gBAAgBvJ,IAI5B,MAAMwJ,EAAcvpD,KAAKw/C,iBAAiBgK,eAAgB,IAAAC,sBACpDC,EAAsB1pD,KAAKw/C,iBAAiBmK,iBAC5CC,EAAc7J,EAAQa,SAASx6C,OACrC,IAAIyjD,EAAaX,EACjB,MAAMpJ,EAAoB,GAC1B,GAAIyJ,EAAa,CACf,MAAMO,QAA0B,IAAAC,kBAC9Bf,EACAa,GACA,EACA7pD,KAAKw/C,iBAAiBwK,eACtBhqD,KAAKw/C,iBAAiByK,eAElBC,EAAqBJ,EAAkBK,qBAAqB3lD,KAAK,MACvE,GAAIxE,KAAKw/C,iBAAiBkB,UAAW,CACnC,IAAK,IAAI0J,KAAmBN,EAAkBO,kBAAoB,GAChEvK,EAAMn+C,KAAK,CAACk/C,KAAMuJ,IAEpBtK,EAAMn+C,KAAK,CAACk/C,KAAMqJ,GACpB,MACEL,EAAa,GACnBA,8CAEAC,EAAkBO,kBAAkB7lD,KAAK,YACzC0lD,GAEE,CAEA,GAAIR,EAAqB,CACvB,MAAMI,QAA0B9pD,KAAK2mD,UAAU2D,SAAST,GACxD,GAAI7pD,KAAKw/C,iBAAiBkB,UACxB,IAAK,IAAI/8C,KAAQmmD,EAAkBnvB,OAAS,GAC1CmlB,EAAMn+C,KAAK,CAACk/C,KAAMl9C,EAAK4mD,eAGzBV,EAAa,GACnBA,8CAEAC,EAAkBnvB,MAAMx8B,KAAIwF,GAAQA,EAAK4mD,UAAS/lD,KAAK,SAErD,CAEAu7C,EAAQ8B,gBAAgB,CACtBD,QAAS,OACT4I,eAAgB,IAAAC,sBAChB9iC,KAAMshC,IAER,MAAMjJ,EAAgBD,EAAQ6E,kBACA5E,GAAiBA,EAAc6E,QAAQ,aAEnE7kD,KAAK0qD,uBAAuB3K,EAASC,EAAe6J,IA2BpD7pD,KAAKigD,mBAAqBF,EAAQa,SAASx6C,OAC3C25C,EAAQ4K,oBAAoBC,EAAmBC,SAAShB,WAEpD7pD,KAAKgoD,eAAejI,EAASD,OAAOrkD,EAAWykD,EAAiBI,IAKjEiJ,GAAeG,IAAwB3J,EAAQa,SAASx6C,OAASwjD,IACpE7J,EAAQa,SAASgJ,GAAat7B,MAAM,GAAGuyB,KAAOqI,GAEhDlpD,KAAKonD,aACP,CAEAzqD,gCACEojD,EACAC,EACAoB,EACAK,GAIKzhD,KAAKw/C,iBAAiBkB,WACzB1gD,KAAK2/C,gBAAgBmL,mBAAmB1J,GAI1C,MAAMvC,EAAqB7+C,KAAK2/C,gBAAgBd,mBAAmBuC,GACnE,QAAsB3lD,IAAlBukD,EAA6B,CAC/B,MAAMjC,EAAwC,CAC5C1T,MAAO,YACPn4B,KAAMkvC,EACNvC,4BAEI7+C,KAAK2/C,gBAAgBoL,uBAAuBhN,GAClDgC,EAAQ8B,gBAAgB,CACtBD,QAAS,KACTE,oBAAqB,CACnB9D,OAAQ,CAACD,GACTI,6BAA8BU,EAAqB,CAACd,QAAiBtiD,GAEvEgmD,YAAaA,GAEjB,KAAO,CACL1B,EAAQ4B,gBAAiBF,YAAcA,EACvC,MAAM1D,EAAgBiC,EAAcgL,QAAQ5J,EAAcvC,SACpD7+C,KAAK2/C,gBAAgBoL,uBAAuBhN,EACpD,CACF,CAEAphD,0BACEojD,EACAC,EACA9hC,EACAgkC,GAEA,MAAMT,EAAcvjC,EAASmkC,kBAAkBZ,YACzCvwC,EAAUgN,EAASgjC,WAAW,GAAG7f,QACjC8f,EAAejwC,EAAQod,MAAM,GAC7B8yB,EAAeD,EAAaC,aAClC,GAAIA,QACIphD,KAAKirD,0BAA0BlL,EAASC,EAAeoB,EAAcK,OACtE,CACL,MAAMZ,EAAOM,EAAaN,KAEtBb,GACEkC,QAAsCzmD,IAA3BukD,EAAcxB,SAC3BwB,EAAckL,YAAY,GAAGlL,EAAcxB,WAAWqC,KAEtDb,EAAckL,YAAYrK,GAE5Bd,EAAQ4B,gBAAiBF,YAAcA,GAC9BS,GAAgD,OAArCnC,EAAQ4B,gBAAiBC,QAC7C7B,EAAQ4B,gBAAiBh6B,MAAQk5B,EAEjCd,EAAQ8B,gBAAgB,CACtBD,QAAS,KACTj6B,KAAMk5B,EACNsK,QAAShK,EAAagK,QACtB1J,YAAaA,GAGnB,CAEIS,GAAiD,UAAtCnC,EAAQqL,qBAAqBhH,KAC1CrE,EAAQqL,oBAAqB98B,MAAM,GAAGuyB,MAAQM,EAAaN,KAE3Dd,EAAQ4K,oBAAoBz5C,GAE9BwiB,EAAI0xB,YAAY,mBAAoBrF,EAAQa,UAC5CltB,EAAI0xB,YAAY,eAAgBrF,EAAQkH,MACxCjnD,KAAKogD,kBAAkBL,EACzB,CAEApjD,qBACEojD,EACAD,EACAE,EACAE,EACAI,SAEM,IAAI,EAAA+K,cACRrrD,KAAKw/C,iBACLx/C,KAAKgmD,mBACLhmD,KAAK0/C,WACL1/C,KAAK2/C,gBACL3/C,KAAK4/C,IACL5/C,KAAK6/C,kBACLC,EACAC,EACAC,EACAhgD,KAAKigD,mBACLC,GACAvjD,MAAOqjD,EAAe9hC,EAAUgkC,UACxBliD,KAAKmgD,oBAAoBJ,EAASC,EAAe9hC,EAAUgkC,KACnE,IAAMliD,KAAKogD,kBAAkBL,KAC7BC,GAAiBhgD,KAAKqgD,sBAAsBN,EAASC,IACrDM,GACAgL,iBACJ,CAEA3uD,4BAA4BojD,EAAsBC,GAE5CA,EAAc6E,QAAQ,eACxB7E,EAAcuL,YACdvrD,KAAKogD,kBAAkBL,SACjB//C,KAAK2/C,gBAAgB6L,aAAaxL,EAAeD,EAAQ4B,iBAAiBF,aAChF1B,EAAQ4K,oBACNC,EAAmBnF,0BAA0BzF,EAAc9hC,WAGjE,CAEAwsC,uBAAuB3K,EAAsBC,EAA8B7mC,GACzE6mC,EAAc5mB,SACdp5B,KAAKogD,kBAAkBL,GACvBqJ,EAAQqC,mBAAmB1L,EAASC,EAAc9hC,SAAU/E,IAC5D,IAAAuyC,mBAAkB3L,EAAQ4B,iBAAiBF,YAAazB,EAC1D,sGCzYF,MAAsB2L,GAAtB,QAaA,wBAA6BA,EAC3B7rD,YAAmB0/C,GACjBh9C,QADiB,KAAAg9C,iBAAAA,CAEnB,CAEA7iD,sBACEivD,EACAvwC,EACAilC,GAEA,MAAMuL,EAAyB56C,KAAK5L,UAAUumD,GACxCljC,EAAM1oB,KAAKw/C,iBAAiBkB,UAC9B1gD,KAAKw/C,iBAAiB92B,IACtB,GAAG1oB,KAAKw/C,iBAAiB92B,cAAc1oB,KAAKw/C,iBAAiBsM,2BAC3D5tC,QAAiB6tC,MAAMrjC,EAAK,CAChCE,OAAQ,OACRjC,QACE3mB,KAAKw/C,iBAAiBkB,WAAa1gD,KAAKw/C,iBAAiByE,kBACrD,CACE,eAAgB,mBAChB+H,cAAe,UAAU3wC,KAE3B,CACE,eAAgB,mBAChB,iBAAkBrb,KAAKw/C,iBAAiByM,QAEhDtkC,KAAMkkC,EACNK,OAAQ5L,IAGV,aAAcpiC,EAASiuC,MACzB,CAEAxvD,4BACEivD,EACAtL,GAEA,MAAMuL,EAAyB56C,KAAK5L,UAAUumD,GAaxCQ,SAZiBL,MACrB,GAAG/rD,KAAKw/C,iBAAiB92B,cAAc1oB,KAAKw/C,iBAAiBsM,yCAC7D,CACEljC,OAAQ,OACRjC,QAAS,CACP,eAAgB,mBAChB,iBAAkB3mB,KAAKw/C,iBAAiByM,QAE1CtkC,KAAMkkC,EACNK,OAAQ5L,KAGoB34B,KAAM0kC,YAAY,IAAIC,mBAAqB9H,YAK3E,IAAIltC,EAAO,GACX,OAAO,IAAIi1C,eAA4C,CACrD5vD,WAAW6vD,GACT,MAAM,MAAC1xD,EAAK,KAAE8D,SAAcwtD,EAAehvD,OAC3C,OAAa,CACPwB,IACE0Y,GACFk1C,EAAWjpC,QAAQtS,KAAKzL,MAAM8R,IAEhCk1C,EAAW//C,SAKT3R,GAAOgzB,WAAW,UACpBxW,GAAQxc,GAAOkY,UAAU,SAAS5M,QAElCkR,GAAQxc,EAEV,IAGE,OAFA0xD,EAAWjpC,QAAQtS,KAAKzL,MAAM8R,SAC9BA,EAAO,GAET,CAAE,MAAO,CACX,CACF,GAEJ,CAEA0rC,oBAAoByJ,GAClB,MAAO,CACLC,gBAAiBD,EAAeC,iBAAmB1sD,KAAKw/C,iBAAiBmN,mBACzE1J,YAAawJ,EAAexJ,aAAejjD,KAAKw/C,iBAAiB0D,kBACjES,eAAgB8I,EAAe9I,gBAAkB3jD,KAAKw/C,iBAAiBmE,eACvEiJ,cAAeH,EAAeG,eAAiB,GAC/CxJ,KAAMqJ,EAAerJ,MAAQpjD,KAAKw/C,iBAAiB8D,WACnDE,KAAMiJ,EAAejJ,MAAQxjD,KAAKw/C,iBAAiBiE,WAEvD,mvBC5GF,gBACA,aAGA9mD,eAAekwD,EAAevM,SACtB,IAAItqC,SAAQ,CAAC4hB,EAASwB,KACtBknB,GAAa0E,SACf5rB,EAAOknB,EAAYnnC,QAErBmnC,GAAa9mC,iBAAiB,SAAS,KACrC4f,EAAOknB,EAAYnnC,OAAO,IAE5B2S,WAAW8L,EATG,IASgB,GAElC,CAEA,SAASk1B,EACPC,EACAC,EACAC,GAEA,IAAK,MAAMC,KAAcH,GAAa/wD,MAAM,MAAQ,GAAI,CACtD,IAAImxD,EAAkBD,EAAW9/C,QAC7B+/C,EAAgBr/B,WAAW,MAAQq/B,EAAgBr/B,WAAW,QAChEq/B,EAAkBA,EAAgBn6C,UAAU,KAE1Cm6C,EAAgBvtD,SAAS,MAAQutD,EAAgBvtD,SAAS,QAC5DutD,EAAkBA,EAAgBn6C,UAAU,EAAGm6C,EAAgB/mD,OAAS,IAEtE+mD,KAAmB,EAAA/D,QACrB4D,EAASG,GAETF,EAAeC,EAEnB,CACF,CAEA,MAAME,EACJttD,YAAmButD,EAAgCphD,EAAgB,GAAhD,KAAAohD,QAAAA,EAAgC,KAAAphD,MAAAA,CAAoB,EAGzE,oBAMEnM,YAAoBwtD,EAAuB,IAAvB,KAAAA,WAAAA,EAJpB,KAAAC,oBAA8B,EAC9B,KAAAC,kBAA4B,GAC5B,KAAAC,wBAAkC,CAEc,CAEhDC,cAAc7M,GACZ,OAAOljD,EAAMgwD,YAAY9M,EAC3B,CAEA+M,eAEE,MAAO,wDADajzD,OAAOkzD,oBAAoB,EAAAzE,SAAS5kD,KAAK,UAE/D,CAEAspD,YAAYjN,GACV,MAAMkN,EAAgC,GACtCjB,EACEjM,GACAlsC,IAAc,IACdtW,GAAQ0vD,EAAoBpsD,KAAKtD,KAEnC,MAAM2vD,EAA4BD,EAAoBvpD,KAAK,MAC3D,OAAOxE,KAAK0tD,cACV,+BAA+BM,OAA+BhuD,KAAK4tD,iBAEvE,CAEAK,oBACE,OAAOjuD,KAAK0tD,cAAc,IAC3B1tD,KAAKwtD,iDACQxtD,KAAKstD,WAAWttD,KAAKytD,uBAAyB,OAC5D,CAEAS,cACE,OAAOluD,KAAK0tD,cAAc,IAAI1tD,KAAKwtD,mCAAmCxtD,KAAK4tD,iBAC7E,CAEAO,wBAAwBtN,GAGtB,GAAIA,QAA+BplD,IAAvBuE,KAAKouD,cAA6B,CAC5C,IAAIC,GAAqB,EAOzB,GANAruD,KAAKstD,WAAa,GAClBR,EACEjM,GACAxiD,GAAQ2B,KAAKstD,WAAW3rD,KAAKtD,KAC7BsW,GAAM05C,GAAqB,IAEzBA,EACF,OAAO,EAETruD,KAAKytD,uBAAyB,EAC9BztD,KAAKutD,mBAAqB,EAC1BvtD,KAAKwtD,kBAAoBxtD,KAAKstD,WAAWttD,KAAKytD,wBAC9CztD,KAAKouD,cAAgB,EAAAhF,QAAQppD,KAAKwtD,kBACpC,CACA,OAAO,CACT,CAEAc,kBACE,GAAItuD,KAAKutD,mBAAsBvtD,KAAKouD,cAAehoD,OACjD,OAAOpG,KAAKouD,cAAepuD,KAAKutD,sBAC3B,GAAIvtD,KAAKytD,uBAAyBztD,KAAKstD,WAAWlnD,OAAS,EAAG,CACnE,MAAM6nD,EAAoBjuD,KAAKiuD,oBAI/B,OAHAjuD,KAAKwtD,kBAAoBxtD,KAAKstD,aAAattD,KAAKytD,wBAChDztD,KAAKouD,cAAgB,EAAAhF,QAAQppD,KAAKwtD,mBAClCxtD,KAAKutD,mBAAqB,EACnBU,CACT,CAAO,CACL,MAAMC,EAAcluD,KAAKkuD,cAEzB,OADAluD,KAAKouD,mBAAgB3yD,EACdyyD,CACT,CACF,CAEAK,oBAAoBrwC,GAClB,GAAIA,IAAavgB,EAAM6wD,cACrB,MAAMvyD,MAAM,uBAEd,OAAOiiB,CACT,CAEAvhB,sBACEivD,EACAvwC,EACAilC,GAEA,MAAM4N,EACJtC,EAAuB5O,SAAS4O,EAAuB5O,SAAS52C,OAAS,GAAGkoB,MAAM,GAAGuyB,KACvF,OAAK7gD,KAAKmuD,wBAAwBD,UAI5BrB,EAAevM,GACdtgD,KAAKuuD,oBAAoBvuD,KAAKsuD,kBAAkB,KAJ9CtuD,KAAK8tD,YAAYI,GAAa,EAKzC,CAEAvxD,4BACEivD,EACAtL,GAEA,MAAM4N,EACJtC,EAAuB5O,SAAS4O,EAAuB5O,SAAS52C,OAAS,GAAGkoB,MAAM,GAAGuyB,KACvF,IAAI4N,EAIFA,EAHGzuD,KAAKmuD,wBAAwBD,GAGZ,IAAId,EAAkBptD,KAAKsuD,mBAF3B,IAAIlB,EAAkBptD,KAAK8tD,YAAYI,IAI7D,MAAMQ,EAAO1uD,KACb,OAAO,IAAIusD,eAA4C,CACrDpxC,MAAMqxC,GACJ7vD,eAAegyD,IACb,OAAIF,EAAkBxiD,MAAQwiD,EAAkBpB,QAAQjnD,QACtDomD,EAAWjpC,QACTmrC,EAAKH,oBAAoBE,EAAkBpB,QAAQoB,EAAkBxiD,WAEhE4gD,EAAevM,GAAavmB,KAAK40B,KAExCnC,EAAW//C,QACJuJ,QAAQ4hB,UAEnB,CACO+2B,IAGb,CAEA3L,sBACE,MAAO,CAAC,CACV,yNC9KF,gBAyBA,SAAS4L,EAAYvB,GACnB,MAAO,CAACA,EACV,CAlBa,EAAAwB,2BAAqC,CAChDxwD,KAAM,yBACNywD,UAAW,EACT,IAAAnB,aAAY,4CAEZ,IAAAoB,WAAU,KAAM,QAChB,IAAApB,aAAY,kCAEZ,IAAAxsB,UAAS,iBACT,IAAAwsB,aAAY,4BAEZ,IAAAqB,oBAAmB,cACnB,IAAArB,aAAY,wCAQH,EAAAsB,0BAAoC,CAC/C5wD,KAAM,yBACNywD,UAAW,EACT,IAAAnB,aAAY,2CAEZiB,OAAYnzD,IACZ,IAAAkyD,aAAY,4BAEZiB,EAAY,CAAC,IACb,IAAAjB,aAAY,uBAEZiB,EAAY,CAACxK,KAAM,WACnB,IAAAuJ,aAAY,iCAEZiB,EAAY,CAACtgC,MAAO,GAAI81B,KAAM,WAC9B,IAAAuJ,aAAY,8CAIH,EAAAuB,uBAAiC,CAC5C7wD,KAAM,qBACNywD,UAAW,EACT,IAAAnB,aAAY,oCAEZ,IAAAvM,cAAa,QAAwB3lD,IACrC,IAAAkyD,aAAY,iCAEZ,IAAAvM,cAAa,WAAgC,CAAC,IAC9C,IAAAuM,aAAY,kDAEZ,IAAAvM,cAAa,aAAkC,CAAC,IAChD,IAAAuM,aAAY,kEAEZ,IAAAvM,cAAa,aAAkC,CAAC+N,QAAS,MAAOC,QAAS,SACzE,IAAAzB,aAAY,qEAEZ,IAAAvM,cAAa,aAAkC,CAACnkD,KAAM,SACtD,IAAA0wD,aAAY,qEAEZ,IAAAvM,cAAa,aAAkC,CAACnkD,KAAM,MAAOoyD,YAAa,SAC1E,IAAA1B,aAAY,0EAEZ,IAAAvM,cAAa,aAAkC,CAACnkD,KAAM,MAAOokC,QAAS,KACtE,IAAAssB,aAAY,mFAEZ,IAAAvM,cAAa,aAAkC,CAACnkD,KAAM,KAAMokC,QAAS,KACrE,IAAAssB,aAAY,mFAIH,EAAA2B,qBAA+B,CAC1CjxD,KAAM,mBACNywD,UAAW,EACT,IAAAnB,aAAY,uDACZiB,OAAYnzD,GACZmzD,OAAYnzD,GACZmzD,OAAYnzD,GACZmzD,OAAYnzD,GACZmzD,OAAYnzD,GACZmzD,OAAYnzD,GACZmzD,OAAYnzD,GACZmzD,OAAYnzD,GACZmzD,OAAYnzD,GACZmzD,OAAYnzD,KAIH,EAAA8zD,uBAAiC,CAC5ClxD,KAAM,qBACNywD,UAAW,EACT,IAAAnB,aAAY,gFACZiB,OAAYnzD,GACZmzD,OAAYnzD,IACZ,IAAAkyD,aAAY,0HCvGhB,gBAEa,EAAA6B,oBAA8B,CACzCnxD,KAAM,iBACNywD,UAAW,EACT,IAAAnB,aAAY,6CAEZ,IAAAoB,WAAU,UAAW,QACrB,IAAAC,oBAAmB,OACnB,IAAArB,aAAY,6BAEZ,IAAAxsB,UAAS,WACT,IAAA6tB,oBAAmB,OACnB,IAAAD,WAAU,UAAW,QACrB,IAAA5tB,UAAS,WACT,IAAAwsB,aAAY,mFAEZ,IAAAxsB,UAAS,WACT,IAAA6tB,oBAAmB,OACnB,IAAA7tB,UAAS,WACT,IAAA4tB,WAAU,UAAW,QACrB,IAAA5tB,UAAS,WACT,IAAAwsB,aAAY,gLCtBhB,gBAEa,EAAA8B,iBAA2B,CACtCpxD,KAAM,cACNywD,UAAW,EACT,IAAAnB,aAAY,yBACZ,IAAAoB,WAAU,SAAU,gBACpB,IAAApB,aAAY,mKCPhB,gBAEa,EAAA+B,gCAA0C,CACrDrxD,KAAM,+BACNywD,UAAW,EACT,IAAAnB,aAAY,2DAEZ,IAAAoB,WAAU,SAAU,cACpB,IAAApB,aAAY,qBACZ,IAAAoB,WAAU,SAAU,cACpB,IAAApB,aAAY,qBACZ,IAAAoB,WAAU,SAAU,cACpB,IAAApB,aAAY,qBACZ,IAAAoB,WAAU,SAAU,cACpB,IAAApB,aAAY,qBACZ,IAAAA,aAAY,gBAEZ,IAAAxsB,UAAS,YACT,IAAA6tB,oBAAmB,OACnB,IAAArB,aAAY,4BAEZ,IAAAqB,oBAAmB,OACnB,IAAA7tB,UAAS,WACT,IAAAwsB,aAAY,4BAEZ,IAAAxsB,UAAS,WACT,IAAA6tB,oBAAmB,OACnB,IAAA7tB,UAAS,WACT,IAAAwsB,aAAY,0CAEZ,IAAAxsB,UAAS,WACT,IAAAA,UAAS,WACT,IAAA6tB,oBAAmB,OACnB,IAAA7tB,UAAS,WACT,IAAAA,UAAS,WACT,IAAAwsB,aAAY,+DAIH,EAAAgC,oBAA8B,CACzCtxD,KAAM,iBACNywD,UAAW,EACT,IAAAnB,aAAY,6CAEZ,IAAAoB,WAAU,SAAU,cACpB,IAAApB,aAAY,qBACZ,IAAAoB,WAAU,SAAU,cACpB,IAAApB,aAAY,qBAEZ,IAAAxsB,UAAS,YACT,IAAAwsB,aAAY,iBAEZ,IAAAxsB,UAAS,WACT,IAAAA,UAAS,WACT,IAAAwsB,aAAY,sICvDhB,gBAEA,UAgBa,EAAAiC,kBAA4B,CACvCvxD,KAAM,gBACNywD,UAhBF,WACE,MAAMe,EAAoB,EAAAF,oBAAoBb,UACxCgB,EAAqB,GAC3B,IAAK,MAAM5xC,KAAY2xC,EAAmB,CACxC,MAAME,EAAe7xC,EAAS,GAAGgjC,WAAW,GAAG7f,QAAQ/S,MAAM,GAAGuyB,KAC5DkP,EACFD,EAAmBnuD,MAAK,IAAAquD,aAAYD,IAEpCD,EAAmBnuD,KAAKuc,EAE5B,CACA,OAAO4xC,CACT,CAIaG,GAA6B7qD,OAAO,EAC7C,IAAAuoD,aAAY,qCACZ,IAAAqC,aAAY,YACZ,IAAArC,aAAY,qCACZ,IAAAqC,aAAY,6GCxBhB,eAOA,UACA,UACA,UACA,UACA,UA6Ba,EAAA5G,QArBb,WACE,MAAMA,EAAsC,CAAC,EAC7C,IAAK,MAAM8G,IAAU,CACnB,EAAArB,2BACA,EAAAK,uBACA,EAAAD,0BACA,EAAAkB,qBACA,EAAAX,oBACA,EAAAC,iBACA,EAAAE,oBACA,EAAAD,gCACA,EAAAE,kBACA,EAAAL,uBACA,EAAAa,uBACA,EAAAd,sBAEAlG,EAAQ8G,EAAO7xD,MAAQ6xD,EAAOpB,UAEhC,OAAO1F,CACT,CAEuBiH,wICvCvB,gBAEa,EAAAD,uBAAiC,CAC5C/xD,KAAM,qBACNywD,UAAW,EACT,IAAAwB,sBAAqB,CAAC,QAAS,UAAW,cAAe,yBACzD,IAAAA,sBAAqB,CAAC,YAAa,eAAgB,wBACnD,IAAAA,sBAAqB,CAAC,YAAa,cAAe,cAIzC,EAAAH,qBAA+B,CAC1C9xD,KAAM,mBACNywD,UAAW,EACT,IAAAnB,aAAY,iDACZ,EACE,IAAA4C,aAAY,CAAC1P,KAAM,sBACnB,IAAA0P,aAAY,CAAC1P,KAAM,qBACnB,IAAA0P,kBAAY90D,IACZ,IAAA80D,aAAY,CAAC1P,KAAM,yBAErB,IAAA8M,aAAY,8BACZ,EACE,IAAA4C,aAAY,CAAC1P,KAAM,sBACnB,IAAA0P,aAAY,CAAC1P,KAAM,qBACnB,IAAA0P,kBAAY90D,IACZ,IAAA80D,aAAY,CAAC1P,KAAM,wBAErB,EACE,IAAA0P,aAAY,CAAC1P,KAAM,sBACnB,IAAA0P,aAAY,CAAC1P,KAAM,qBACnB,IAAA0P,kBAAY90D,IACZ,IAAA80D,aAAY,CAAC1P,KAAM,wBAErB,EACE,IAAA0P,aAAY,CAAC1P,KAAM,sBACnB,IAAA0P,aAAY,CAAC1P,KAAM,qBACnB,IAAA0P,kBAAY90D,IACZ,IAAA80D,aAAY,CAAC1P,KAAM,qDChCzB,SAAgB0P,EAAY35B,GAC1B,MAAO,CAACsqB,WAAY,CAAC,CAAC7f,QAAS,CAAC/S,MAAO,CAACsI,GAAOwtB,KAAM,WACvD,CAEA,SAASlzC,EAAQ0lB,GACf,MAAO,CAAC25B,EAAY35B,GACtB,CAcA,SAAgBwqB,EAAa/iD,EAAwB+I,GACnD,OAAO8J,EAAQ,CACbkwC,aAAc,CACZ/iD,KAAMA,EACN+I,KAAMA,IAGZ,qMA/Ba,EAAAonD,mBAA6C/yD,EAI1D,gBAQA,uBAA4BolD,GAC1B,OAAO3vC,EAAQ,CAAC2vC,KAAMA,GACxB,EAEA,gCAAqC2P,GACnC,MAAM1B,EAA2C,GACjD,IAAK,MAAMjO,KAAQ2P,EACjB1B,EAAUntD,KAAK4uD,EAAY,CAAC1P,KAAMA,KAEpC,OAAOiO,CACT,EAEA,iBASA,oBAAyB7xD,GACvB,OAAOmkD,EAAa,YAAa,CAACnkD,KAAMA,GAC1C,EAEA,uBAA4BwzD,GAC1B,OAAOrP,EAAa,gBAAqC,CAACqP,MAAOA,GACnE,EAEA,8BAAmC1K,GACjC,OAAO3E,EAAa,uBAAwB,CAAC2E,QAASA,GACxD,EAEA,qBAA0B9oD,EAAcokC,GACtC,OAAO+f,EAAa,aAAc,CAACnkD,KAAMA,EAAMokC,QAASA,GAC1D,4LClDA,mBA0BA,kBACEvhC,YAAmBmsD,EAAuByE,GAAvB,KAAAzE,OAAAA,EAAuB,KAAAyE,SAAAA,CAAmB,CAE7D/zD,eAAeg0D,EAAeC,EAAkB,GAC9C,IACE,IAAI,eAACC,EAAc,MAAEtxD,SAAgB,aACnC,4DAA4DS,KAAK0wD,iBACjE,CACE9nC,OAAQ,OACRjC,QAAS,CACP,eAAgB,mBAChB,iBAAkB3mB,KAAKisD,QAEzBtkC,KAAM1W,KAAK5L,UAAU,CACnBsrD,QACAG,aAAcF,EACdG,gBAAiB,KAEnB7E,OAAQ8E,YAAY/jC,QA1CZ,OA4CV8M,MAAKoc,GAAKA,EAAEgW,SACd,OAAI5sD,EACK,CAACo7B,MAAO,IAEV,CACLA,MAAOk2B,EACJ1yD,KACEwF,IAAiC,CAChC4mD,QAAS5mD,EAAK0Y,OAAO/E,MAAM25C,aAAe,GAC1CC,MAAOvtD,EAAKwtD,wBAGfzkD,MAAM,EAAGkkD,GAEhB,CAAE,MAAOziD,GACP,MAAO,CAACwsB,MAAO,GACjB,CACF,oMC/DF,mBAGA,wBACE76B,YAAmB0/C,GAAA,KAAAA,iBAAAA,CAAqC,CAExD7iD,gBAAgBg0D,GACd,IAAIS,EAAeC,mBAAmBV,GAClCzyC,QAAiB,aACnB,GAAGle,KAAKw/C,iBAAiB8R,mBAAmBtxD,KAAKw/C,iBAAiB+R,iBAAiBH,SAAoBpxD,KAAKw/C,iBAAiBgS,kBAC7H,CACE5oC,OAAQ,MACRjC,QAAS,CACP8qC,OAAQ,sBAIVC,EAAS,GACb,UAAW,MAAMr1C,KAAS6B,EAASyJ,KACjC+pC,EAAO/vD,KAAKqV,OAAOU,KAAK2E,IAE1B,OAAOrF,OAAO5R,OAAOssD,GAAQ3+C,UAC/B,wvBCtBF,gBACA,aAIA,wBAIEjT,YAAmBwnD,GAAA,KAAAA,UAAAA,EAHnB,KAAAqK,YAAgD,CAAC,EACjD,KAAA3N,gBAA6C,GAG3ChkD,KAAK4xD,uBACL5xD,KAAK6xD,sBACP,CAEAD,uBACE5xD,KAAK2xD,YAAc,CAAC,EACpB,IAAK,MAAMG,KAAK9xD,KAAKsnD,UACnBtnD,KAAK2xD,YAAYG,EAAEzzD,MAAQyzD,CAE/B,CAEAD,uBACE7xD,KAAKgkD,gBAAkB,GACvB,IAAK,MAAM8N,KAAK9xD,KAAKsnD,UACnBtnD,KAAKgkD,gBAAgBriD,KAAK,CACxBtD,KAAMyzD,EAAEzzD,KACR0zD,YAAaD,EAAEC,YACfC,WAAYF,EAAEE,YAGpB,CAEAC,YAAY5zD,GACV,OAAO2B,KAAK2xD,YAAYtzD,EAC1B,CAEA6zD,oBAAoB9Q,GAClB,OAAOphD,KAAKiyD,YAAY7Q,EAAa/iD,KACvC,CAEAwgD,mBAAmBuC,GACjB,OAAOphD,KAAKkyD,oBAAoB9Q,GAAcvC,kBAChD,CAEAsT,oBAAoB/qD,EAAWgrD,EAAyBC,GACtD,OAAQD,EAAOprD,MACb,IAAK,SACH,GACE,WAAYorD,GACM,SAAlBA,EAAOrgD,SACU,iBAAT3K,IAAoD,IAA/BgrD,EAAOE,KAAKvlD,QAAQ3F,IAKjD,OAHAirD,EAAc1wD,KACZ,wFAEK,EACF,GAAoB,iBAATyF,EAEhB,OADAirD,EAAc1wD,KAAK,wDACZ,EAET,MACF,IAAK,UACH,GAAoB,iBAATyF,IAAsBjL,OAAO+Q,UAAU9F,GAEhD,OADAirD,EAAc1wD,KAAK,0DACZ,EAET,MACF,IAAK,SACH,GAAoB,iBAATyF,EAET,OADAirD,EAAc1wD,KAAK,wDACZ,EAET,MACF,IAAK,UACH,GAAoB,kBAATyF,EAET,OADAirD,EAAc1wD,KAAK,0DACZ,EAET,MACF,IAAK,QACH,IAAKkE,MAAMC,QAAQsB,GAEjB,OADAirD,EAAc1wD,KAAK,sDACZ,EAET,MAAMg5B,EAASy3B,EAA2Bz3B,MAC1C,QAAcl/B,IAAVk/B,EACF,IAAK,MAAMsD,KAAO72B,EAChB,IAAKpH,KAAKmyD,oBAAoBl0B,EAAKtD,EAAO03B,GACxC,OAAO,EAIb,MACF,IAAK,SACH,GAAoB,iBAATjrD,GAAqBvB,MAAMC,QAAQsB,GAE5C,OADAirD,EAAc1wD,KAAK,wDACZ,EAGT,IAAI4wD,GAAU,EACd,MAAMlzD,EAAQ1E,OAAOkzD,oBAAoBzmD,GACnCorD,EAAgBJ,EAAOK,SAC7B,QAAsBh3D,IAAlB+2D,EACF,IAAK,MAAMn0D,KAAQm0D,GACY,IAAzBnzD,EAAM0N,QAAQ1O,KAChBg0D,EAAc1wD,KACZ,0EAEF4wD,GAAU,GAIhB,QAA0B92D,IAAtB22D,EAAOM,WACT,IAAK,MAAMr0D,KAAQgB,EAAO,CACxB,MAAM4+B,EAAM72B,EAAK/I,GACXs0D,EAAiBP,EAAOM,WAAWr0D,QAClB5C,IAAnBk3D,GACFN,EAAc1wD,KACZ,yEAEF4wD,GAAU,GACAvyD,KAAKmyD,oBAAoBl0B,EAAK00B,EAAgBN,KACxDE,GAAU,EAEd,CAEF,OAAOA,EAEX,OAAO,CACT,CAEAlR,qBAAqBD,GACnB,MAAMwR,EAAexR,EAAa/iD,KAClC,QAAqB5C,IAAjBm3D,EACF,OAAOl/B,EAAIutB,kBAAkB,sCAG/B,MAAM4R,EAAc7yD,KAAK2xD,YAAYiB,GACrC,QAAoBn3D,IAAhBo3D,EACF,OAAOn/B,EAAIutB,kBAAkB,qCAG/B,MAAM75C,EAAOg6C,EAAah6C,KAC1B,QAA+B3L,IAA3Bo3D,EAAYb,WACd,YAAav2D,IAAT2L,EACKssB,EAAI4tB,oBAEJ5tB,EAAIutB,kBAAkB,oBAAoB2R,uBAE9C,QAAan3D,IAAT2L,EAAoB,CAC7B,MAAMirD,EAA0B,GAChC,OAAIryD,KAAKmyD,oBAAoB/qD,EAAMyrD,EAAYb,WAAaK,GACnD3+B,EAAI4tB,oBAEJ5tB,EAAIuxB,mBAAmBoN,EAElC,CACE,OAAO3+B,EAAIutB,kBAAkB,oBAAoB2R,iCAErD,CAEA9H,mBAAmB1J,GACjBA,EAAah6C,KAAOpH,KAAKkyD,oBAAoB9Q,GAAc0R,WAAW1R,EAAah6C,KACrF,CAEAzK,6BAA6BohD,GAC3BA,EAAcM,eAAiBr+C,KAAKkyD,oBAAoBnU,EAAc7rC,MAAM6gD,mBAC1EhV,EAAc7rC,KAAK9K,MAEvB,CAEAzK,mBAAmBqjD,EAA8ByB,GAC/C,UACQzhD,KAAKiyD,YAAYjS,EAAc3hD,MAAM6T,KAAK8tC,IAChD,IAAAgT,0BAAwB,8BAEtBvR,EACAzB,EAEJ,CAAE,MAAO7xC,GACP8B,QAAQW,IAAIzC,GACZ6xC,EAAciT,QAAQ,mBACtB,IAAAD,0BAAwB,2BAA0CvR,EAAazB,EACjF,CACF,CAEArjD,oBAAoBqjD,EAA8B+H,SAC1C/nD,KAAKiyD,YAAYjS,EAAc3hD,MAAM60D,QAAQnL,GAAS/H,EAC9D,6GC1LF,gBAEA,MAAayH,UAA2B,EAAA0L,iBActCrzD,YAAmBmmD,GACjBzjD,QADiB,KAAAyjD,gBAAAA,EAbnB,KAAA5nD,KAAO,cACP,KAAA0zD,YAAc,kBACd,KAAAC,WAA+B,CAC7BhrD,KAAM,SACN0rD,WAAY,CACVz1D,KAAM,CACJ+J,KAAM,SACN+qD,YAAa,wEAGjBU,SAAU,CAAC,QAKb,CAEA91D,WAAWqjD,GACT,MAAM/iD,EAAO+iD,EAAc54C,KAAKnK,WACtB+C,KAAKimD,gBAAgB8C,WAAW9rD,UAClC+C,KAAKimD,gBAAgBmN,WAAWn2D,GACtC+iD,EAAcqT,QAAQ,OAEtBrT,EAAciT,QAAQ,QAAQh2D,oBAElC,EA1BF,6xBCYA,mBAGA,uCAMW,KAAAi2D,QAEL,CAAC,EACI,KAAArU,oBAA8B,CASzC,CAPEiU,WAAW1rD,GACT,OAAOA,CACT,CAEAzK,uBAAwByK,GAExB,GAGF,MAAay2C,UAAsByV,EAAOzV,cACxC/9C,YAAYg+C,EAA6BkC,GACvCx9C,MAAMs7C,EAAQkC,EAChB,CAEAl9B,qBACEg7B,GAEA,OAAO99C,KAAKi+C,qBAAoCJ,EAAeC,EACjE,CAEI5/B,eACF,MAAO,CACL7f,KAAM2B,KAAK3B,KACX6f,SAAUle,KAAKs+C,eAEnB,CAEAiN,YACEvrD,KAAKwpB,OAAO,YACd,CAEA+pC,OAAO/zD,GAGc,cAAfQ,KAAKqqC,OACPrqC,KAAK02B,SAAS,WAAYl3B,EAE9B,CAEA45B,SACEp5B,KAAKizD,QAAQ,YACbjzD,KAAKwpB,OAAO,WACd,CAEAA,OAAO6gB,GACLrqC,KAAK+9C,cAAc1T,MAAQA,CAC7B,CAEAgpB,QAAQ7zD,GACNQ,KAAK02B,SAAS,UAAWl3B,EAC3B,CAEAyzD,QAAQzzD,GACNQ,KAAK02B,SAAS,UAAWl3B,EAC3B,CAEAk3B,SAAS6nB,EAA4B/+C,GACnCQ,KAAKwzD,UAAU,YAAajV,EAAQ/+C,EACtC,CAEAg0D,UAAUnpB,EAA0BkU,EAA4B/+C,GAC9DQ,KAAK+9C,cAAcv+C,OAAS,CAAC++C,OAAQA,EAAQ/+C,OAAQA,GACrDQ,KAAKwpB,OAAO6gB,EACd,CAEAlJ,SAASlkC,WACP,EAAC+C,KAAK89C,QAAOa,YAAS,EAATA,UAAc,KAAIh9C,KAAK1E,EACtC,CAEAw2D,OAAO/qC,WACL,EAAC1oB,KAAK89C,QAAOc,WAAQ,EAARA,SAAa,KAAIj9C,KAAK+mB,EACrC,CAEAm8B,QAAQxa,GACN,OAAOrqC,KAAKqqC,QAAUA,CACxB,CAEA2gB,QAAQ94C,EAAwB2sC,SAC9B,MAAMd,EAAwC,CAAC7rC,OAAMm4B,MAAO,YAAawU,sBAKzE,OAJA7+C,KAAK89C,OAAOE,OAAOr8C,KAAKo8C,GACpBc,KACF,EAAC7+C,KAAK89C,QAAOK,+BAA4B,EAA5BA,6BAAiC,KAAIx8C,KAAKo8C,GAElDA,CACT,CAEAmN,YAAY1M,GACV,MAAML,EAA+Bn+C,KAAK89C,OAAOK,6BAC7CA,IACFA,EAA6BA,EAA6B/3C,OAAS,GAAGs4C,cAAe,GAEvF1+C,KAAK89C,OAAOU,SAAWA,CACzB,EAnFF,iJCrCA,gBAEa,EAAAkV,aAA4B,IAAI/uD,IAAI,CAE/C,eAEA,UACA,SACA,QACA,MACA,QACA,QACA,MACA,UAEA,MACA,MACA,gBAIF,MAAagjD,UAAiC,EAAAwL,iBAgB5CrzD,YAAmBmmD,GACjBzjD,QADiB,KAAAyjD,gBAAAA,EAfnB,KAAA5nD,KAAO,qBACP,KAAA0zD,YAAc,uCACd,KAAAC,WAA+B,CAC7BhrD,KAAM,SACN0rD,WAAY,CACVz1D,KAAM,CACJ+J,KAAM,SACN+qD,YACE,oGAGNU,SAAU,CAAC,SAEb,KAAA5T,oBAAqB,CAIrB,CAEAliD,WAAWqjD,GACT,MAAM/iD,EAAO+iD,EAAc54C,KAAKnK,KAChC,SAAU+C,KAAKimD,gBAAgB0N,aAAa12D,GAAO,CACjD,MAAMyY,QAAc1V,KAAKimD,gBAAgB2N,mBAAmB32D,EAAM,EAAAy2D,cAClE1T,EAAcqT,QAAQpiD,KAAK5L,UAAUqQ,GACvC,MACEsqC,EAAciT,QAAQ,oBAE1B,EA5BF,qICtBA,gBAGA,MAAa1L,UAAyB,EAAA4L,iBAepCrzD,YAAmBmmD,GACjBzjD,QADiB,KAAAyjD,gBAAAA,EAdnB,KAAA5nD,KAAO,YACP,KAAA0zD,YAAc,qBACd,KAAAC,WAA+B,CAC7BhrD,KAAM,SACN0rD,WAAY,CACVz1D,KAAM,CACJ+J,KAAM,SACN+qD,YAAa,qEAGjBU,SAAU,CAAC,SAEb,KAAA5T,oBAAqB,CAIrB,CAGAliD,WAAWqjD,GACT,MAAM/iD,EAAO+iD,EAAc54C,KAAKnK,KAChC,SAAU+C,KAAKimD,gBAAgB8C,WAAW9rD,GAAO,CAC/C,MAAM42D,QAAoB7zD,KAAKimD,gBAAgB9kB,SAASlkC,GACxD+iD,EAAcqT,QAAQQ,GACtB7T,EAAc7e,SAASlkC,EACzB,MACE+iD,EAAciT,QAAQ,QAAQh2D,oBAElC,EA7BF,qxBCJA,mBACA,UAIA,MAAayqD,UAAmC,EAAAyL,iBAc9CrzD,YAAmBmmD,EAA0C/1B,GAC3D1tB,QADiB,KAAAyjD,gBAAAA,EAA0C,KAAA/1B,YAAAA,EAb7D,KAAA7xB,KAAO,uBACP,KAAA0zD,YAAc,0BACd,KAAAC,WAA+B,CAC7BhrD,KAAM,SACN0rD,WAAY,CACV3M,QAAS,CACP/+C,KAAM,SACN+qD,YAAa,wCAGjBU,SAAU,CAAC,WAKb,CAEAK,WAAW1rD,GACT,MAAO,CACL2+C,QAASryB,EAAIogC,iBAAiB1sD,EAAK2+C,SAEvC,CAEAppD,WAAWqjD,SACHhgD,KAAKkwB,YAAYoY,KACrB0X,EAAc54C,KAAK2+C,SACnB,IAAM/F,EAAcuT,OAAO,+CAC3B,CAAChV,EAAQ/+C,KACP,OAAQ++C,GACN,IAAK,UACHyB,EAAcqT,QAAQ7zD,GACtB,MACF,IAAK,UAGL,IAAK,WACHwgD,EAAciT,QAAQzzD,GAE1B,GAGN,EA1CF,ixBCLA,mBACA,UAEA,UAEA,eAAO7C,eAA4BqjD,GACjC,MAAM,QAAC3e,EAAO,KAAEpkC,GAAQ+iD,EAAc54C,KAChC2sD,GAAM,IAAAC,4BAA2B/2D,GACjCg3D,OAAwBx4D,IAARs4D,SAA4B,IAAAG,eAAcH,GAE1DI,EAAQC,EAAOC,IAAIx+C,KAAK,QAAQlE,KAAK2iD,mBAAmBr3D,WACxDm3D,EAAOG,UAAUt5D,GAAG8zD,UAAUoF,GAAO,IAAI,EAAAK,aAAcC,OAAOpzB,IAEpE,IAAIqzB,EAAUX,EACTE,IACHS,EAAUN,EAAOC,IAAIx+C,KAAK,QAAQlE,KAAK2iD,eAAer3D,WAChDm3D,EAAOG,UAAUt5D,GAAG8zD,UAAU2F,GAAS,IAAI,EAAAF,aAAcC,OAAO,MAIxEL,EAAOO,SAASC,eAAe,cAAeF,EAASP,EAAO,GAAGl3D,YACnE,2GCpBA,gBAEA,UAYA,MAAa4qD,UAA0B,EAAAsL,iBAiBrCrzD,YACS+0D,EACA5O,EACArG,GAEPp9C,QAJO,KAAAqyD,gBAAAA,EACA,KAAA5O,gBAAAA,EACA,KAAArG,IAAAA,EAnBT,KAAAvhD,KAAO,aACP,KAAA0zD,YAAc,oBACd,KAAAC,WAA+B,CAC7BhrD,KAAM,SACN0rD,WAAY,CACV/B,MAAO,CACL3pD,KAAM,SACN+qD,YAAa,6BAGjBU,SAAU,CAAC,UAEb,KAAA5T,oBAAqB,EAUnB7+C,KAAK80D,gBAAkB,IAAI,EAAAC,gBAAgBF,EAC7C,CAEAl4D,WAAWqjD,GACT,MAAMxgD,QAAeQ,KAAKguB,OAAOgyB,GACjCA,EAAcqT,QAAQ7zD,EACxB,CAEA7C,aAAaqjD,GACX,MAAM2Q,EAAQ3Q,EAAc54C,KAAKupD,MAC3BqE,QAAyBh1D,KAAK80D,gBAAgBG,UAAUtE,GAoB9D,OAnBqB1/C,KAAKzL,MAAMwvD,GACnBr6B,MAAMx8B,KAAIwF,GAAQq8C,EAAcyT,OAAO9vD,EAAKuxD,eACxBl1D,KAAK4/C,IAAI8E,gBAAgB,CACxDd,iBAAkB5jD,KAAK4/C,IAAIoD,sBAC3BhG,SAAU,CACR,CACEoH,KAAM,OACN91B,MAAO,CACL,CACEuyB,KAAM,qBACA8P,6CAElBqE,qCAO6B9T,WAAW,GAAG7f,QAAQ/S,MAAM,GAAGuyB,IAC5D,EAtDF,6wBCfA,mBACA,UACA,UAGA,MAAa2G,UAA0B,EAAA2L,iBAuBrCrzD,YAAmBmmD,GACjBzjD,QADiB,KAAAyjD,gBAAAA,EAtBnB,KAAA5nD,KAAO,aACP,KAAA0zD,YAAc,oBACd,KAAAC,WAA+B,CAC7BhrD,KAAM,SACN0rD,WAAY,CACVz1D,KAAM,CACJ+J,KAAM,SACN+qD,YAAa,uEAEf1wB,QAAS,CACPr6B,KAAM,SACN+qD,YACE,8GAGNU,SAAU,CAAC,OAAQ,YAGrB,KAAAS,QAAU,CACRiC,eAAgB,EAAAC,aAKlB,CAEAtC,WAAW1rD,GACT,MAAO,CACLi6B,QAAS3N,EAAIogC,iBAAiB1sD,EAAKi6B,SACnCpkC,KAAMy2B,EAAIogC,iBAAiB1sD,EAAKnK,MAEpC,CAEAN,uBAAuByK,GACrB,MAAM,KAACnK,GAAQmK,EACf,aAAYpH,KAAKimD,gBAAgB8C,WAAW9rD,GAKrC,CAACo4D,SAAS,EAAOC,yBADSt1D,KAAKimD,gBAAgB9kB,SAASlkC,IAHtD,CAACo4D,SAAS,EAAMC,mBAAoB,GAK/C,CAEA34D,WAAWqjD,GACT,MAAM54C,EAAO44C,EAAc54C,KACrBnK,EAAOmK,EAAKnK,WACZ+C,KAAKimD,gBAAgB8I,UAAU9xD,EAAMmK,EAAKi6B,SAChD2e,EAAcqT,QAAQ,KACxB,EAjDF,mKCLA,eASA,UACA,UAEA,iBAAO12D,eAA8BojD,GASnC,IAAIrqC,QAAc,IAAAk+C,oBAAmB,IAAK,EAAAF,cAC1C,MAAM6B,EAAc7/C,EAAMlR,KAAK,MACzBgxD,EAAkBvkD,KAAK5L,UAAUqQ,GACvCqqC,EAAQ4K,qBAAoB,IAAAE,UAAS,+BACrC9K,EAAQ4K,qBAAoB,IAAA8K,sBAAqB,MACjD1V,EAAQ4K,qBAAoB,IAAA+K,yBAAwBF,IACpDzV,EAAQ4K,qBAAoB,IAAAgL,WAAU,0BAA0BJ,KAClE,EAEA,2BAAgCxV,GAC9BA,EAAQ4K,qBACN,IAAAE,UAAS,mJAMX9K,EAAQ4K,qBACN,IAAAgL,WAAU,yGAKd,EAEA,8BACE5V,EACA2F,EACAvsC,GAEA4mC,EAAQ4K,qBAAoB,IAAAlF,2BAA0BC,IACtD3F,EAAQ4K,qBAAoB,IAAAgL,WAAU,+CACtC5V,EAAQ4K,qBAAoB,IAAAE,UAAS,+CAA+C1xC,KACtF,swBCtDA,mBAEA,UASA,MAAMy8C,EAQJ91D,YACS+1D,EACAC,EACCC,EACAC,GAHD,KAAAH,OAAAA,EACA,KAAAC,gBAAAA,EACC,KAAAC,eAAAA,EACA,KAAAC,eAAAA,EAVV,KAAAC,YAAsB,EACtB,KAAAC,YAAsB,EAWpBl2D,KAAKm2D,QAAU,WAAWN,QAC1B71D,KAAKo2D,eAAiB,uBAAuBN,gBAA8B91D,KAAKm2D,UAClF,CAEAE,WAAW/iC,EAAmBgjC,GAC5Bt2D,KAAKszB,KAAOA,EACZtzB,KAAKs2D,cAAgBA,CACvB,CAEA35D,aAAa4hD,GACX,MAAM/+C,QAAe,IAAA+2D,kBAAiBv2D,KAAKm2D,SAC3Cn2D,KAAKk2D,YAAa,EAClBl2D,KAAKg2D,eAAezX,EAAQ/+C,EAC9B,CAEA7C,gBACE,OAAOqD,KAAKw2D,OAAO,UACrB,CAEA75D,gBACE,OAAOqD,KAAKw2D,OAAO,UACrB,CAEAjD,SACOvzD,KAAKk2D,aACRl2D,KAAKi2D,YAAa,EAClBj2D,KAAK+1D,iBAET,EAIW,EAAAU,iBAAmB,eAKhC,oBAIE32D,YAAoB42D,EAzDO,KAyDP,KAAAA,cAAAA,EAHpB,KAAAC,aAA4C,CAAC,EAC7C,KAAAd,OAR4B,CAUuC,CAEnEtC,OAAOsC,GACL71D,KAAK22D,aAAad,GAAQtC,QAC5B,CAEAqD,YACE,OAjB0B,IAiBtB52D,KAAK61D,QAAoC71D,KAAK22D,aAAa32D,KAAK61D,QAAQK,WACnEl2D,KAAK61D,SAEH71D,KAAK61D,MAElB,CAEAvtB,KACEyd,EACAgQ,EACAC,GAEA,MAAMH,EAAS71D,KAAK42D,YACdC,EAAc,IAAIjB,EAAYC,EAAQ9P,EAASgQ,EAAgBC,GACrEh2D,KAAK22D,aAAad,GAAUgB,EAC5B,MAAMnI,EAAO1uD,KACP82D,EAAgB,IAAI9gD,SAAcrZ,MAAMi7B,IAC5C,MAAMtE,EAAO,IAAI8gC,EAAOt3B,KACtB,CAAC91B,KAAM,EAAAyvD,iBAAkBM,GAAIlB,GAC7BzB,EAAO4C,UAAUC,UACjB,OAAOJ,EAAYf,kBACnB,YACA,IAAI1B,EAAO8C,eAAeL,EAAYT,iBAGxChC,EAAO11D,MAAMy4D,qBAAoBx6D,MAAMwR,IACjCA,EAAEipD,UAAU9jC,KAAK+jC,WAAWN,KAAOF,EAAYhB,SACjD1nD,EAAEipD,UAAU3xC,YACO,IAAftX,EAAEmpD,gBACET,EAAYxD,UAClBz7B,YAEMi/B,EAAY5D,UAClBr7B,KAEJ,IAGF,MAAM0+B,QAAsBlC,EAAO11D,MAAM64D,YAAYjkC,GACrDujC,EAAYR,WAAW/iC,EAAMgjC,EAAc,IAE7C,OAAOtgD,QAAQwhD,KAAK,CAClBV,EACA,IAAI9gD,SAAc4hB,IAChB9L,YAAW,KACT8L,IACA82B,EAAK6E,OAAOsC,EAAO,GAClB71D,KAAK02D,cAAc,KAG5B,69BC3HF,mBACA,aACA,UACA,UAUA,SACA,UAMA,UAQA,UACA,UAEA,UAQA,SAOA,UAEA,UACA,UACA,UASA,UAEa,EAAAe,mBACXrD,EAAOh/C,WAAWsiD,aAAwC,oBAC/C,EAAAlR,cAAe,EACf,EAAAmR,gBAAkB,EAAAnR,aAClB,EAAAoR,WAAa,EAAApR,aACb,EAAAqR,WAAa,EAAArR,aAE1B,MAAMsR,EAA2B,oBACpB,EAAAC,SAAW,WAExB,MAAMC,EAAmB,cAEzB,IACIC,EAGAC,EACAC,EAEAC,EAPAC,EAAyB,EAAAlZ,WAAWkI,MAEpCiR,EAA0C,KAO9C,MAAM/oD,GAAQ,EAEd5S,eAAe47D,EACb57B,EACA67B,GAEA,MAAMja,IAAS,EAAAsZ,YAEXl7B,EAAQ87B,YAAYjmD,IAAI,8BAA8B,GACpDquC,EAAOtC,EAAS,uBAAyB,8CACzC7vC,EAAQ6vC,OAAS9iD,EAAY,IAAI24D,EAAOsE,WAAW,uBACzDF,EAAc3X,KAAOA,EACrB2X,EAAc9pD,MAAQA,CACxB,CAyhBA,SAASiqD,EAAmBC,GAG1B,GAAW,IAAPA,EAAJ,CAGAA,EAAMA,EAAI58D,MAAM,KAAK,GACrB,IAAK,IAAI68D,KAAMzE,EAAOG,UAAUuE,kBAAoB,GAAI,CACtD,MAAMC,EAAU3E,EAAOC,IAAI2E,SAASH,EAAG9E,IAAK6E,GACxC39D,EAAGsyC,WAAWwrB,EAAQE,SACxB7E,EAAOO,SAASC,eAAe,cAAemE,EAAS,CACrDG,WAAY9E,EAAO+E,WAAWC,KAGpC,CATA,CAUF,CA0GAz8D,eAAe08D,EACbrQ,GACA,OAACX,EAAM,WAAEiR,IAET,IAAI95D,EAAuB,CAAC0e,SAAU,GAAIq7C,aAAa,EAAOh6D,OAAO,GAErE,MAAMi6D,EACJ,EAAAhqD,OAAOiqD,wBACAzQ,EAAI0Q,UAAUC,WAAW,EAAAnqD,OAAOiqD,iBAAiB5pD,SAASkkD,KAE7Dp5C,EAAiB,CACjBi/C,mBACF,GAAIJ,EACF,MAAO,GAGT,IAAIK,EAAU,EAAArqD,OAAOiqD,kBAAkB5pD,SAASiqD,QAAQ,EAAAtqD,OAAOiqD,iBAAiBM,WAChF,OAAKF,IACH,EAAArqD,OAAOwqD,uBAAuB,8CAC9Bx6D,EAAOD,OAAQ,EACR,GAGX,EACI06D,sBACF,GAAIT,EACF,OAGF,IAAIU,EAAa,EAAA1qD,OAAOiqD,kBAAkB5pD,SAASqqD,WACnD,OAAOA,CACT,EACIC,kBACF,OAAO,CACT,EACI9R,aACF,OAAOiR,CACT,GAGIc,QAAiBpR,EAAIqR,OAAOC,QAAQjS,EAAOhnB,QAAS1mB,GAE1D,IAAI4/C,EAOJ,OANAA,EAAgBC,EAAyBxR,EAAKoR,EAAS/R,QAEvDoS,EAAyBzR,SACnB,IAAIhzC,SAAQ4hB,GAAW9L,WAAW8L,KACxCp4B,EAAO0e,eAAiBq8C,EAEjB/6D,CACT,CAiCA7C,eAAe69D,EACbE,EACArS,EACAD,EACAuS,EACAZ,GAEAa,IAEA,MAAM,OAACjd,GAAU+c,EAEjB,GADA/c,EAAO95B,KAAK,wBAAyB,IACf,UAAlBwkC,EAAOj7C,QAAsBi7C,EAAOj7C,OAAO0gB,WAAW,UAIxD,OAHA,EAAA+sC,WAAWC,kBAAkB,iBAA8B,SAC3D,EAAAC,cAAcC,cAAcjb,QAAQkb,QACpCC,EAAgBvd,EAAQ,EAAAod,cAAcC,cAAcjb,SAC7C,GAGT,IAAKsI,EAAOj7C,OACV,MAAO,GAST,IAAI+tD,EAwCAjqD,EAvCJ,GANIypD,SAAuBD,EAAiBhB,UAAUC,WAAWgB,EAAa9qD,SAASkkD,OACrF4G,OAAel/D,EACfs+D,OAAYt+D,GAIV2sD,EAAc,CAChB+S,EAAc9S,EAId,MAAO1zC,EAAGg8C,GAASyK,EAAa/S,GAE1BgT,EAAWX,EAAiBY,QAAQC,UAAUnT,EAAc,QAClE,GAAIiT,EAAU,CACZ,MAAM1gD,EAAS,CACTs/C,sBACF,OAAOU,GAAc9qD,SAASqqD,YAAc,EAC9C,EACIN,mBACF,OAAOe,GAAc9qD,SAASiqD,QAAQC,EACxC,EACIyB,aACF,OAAOzB,GAAY,IAAA0B,gBAAe1B,GAAa,EACjD,EACI1R,aACF,OAAOsI,CACT,EACIwJ,kBACF,OAAKQ,EAGEA,EAAaZ,UAAU2B,OAAOl6B,KAAO,EAFnC,CAGX,GAEF6mB,SAAgBqS,EAAiBL,OAAOC,QAAQe,EAASh6B,QAAS1mB,IAAS0tC,MAC7E,CACF,CAIA,GAFA4P,EAA2B,IAAI0D,gBAE3B,EAAAZ,cAAcC,cAAcY,kBAC9B,OA7FJj/D,eACEggC,EACAghB,EACA0K,EACA8S,EACA/S,GAEA,MAAMyT,EAA6B,CACjCja,QAAS,OACT4I,eAAgB,IAAAC,sBAChB9iC,KAAM0gC,EACN8S,cACA/S,gBAUF,OARAzK,EAAO95B,KAAK,yBAA0Bg4C,SAChCl/B,EAAQm/B,oBAAoBjS,WAChCltB,EACA,EAAAo+B,cAAcC,cAAcjb,QAC5BqI,EACAC,EACA4P,GAA0B/L,QAErB,EACT,CAsEW6P,CAA0BrB,EAAkB/c,EAAQ0K,EAAQ8S,EAAa/S,GAI9EA,IACFl3C,EAAU,gBAAgBk3C,KAE5B,EAAAyS,WAAWC,kBAAkB,qBAAkC5pD,GAE/D,IAAI2qD,EAA6B,CAC/Bja,QAAS,OACT4I,eAAgB,IAAAC,sBAChB9iC,KAAM0gC,EACN8S,cACA/S,gBAEF,EAAA2S,cAAcC,cAAcjb,QAAQ8B,gBAAgBga,GACpDle,EAAO95B,KAAK,yBAA0Bg4C,GACtCG,EAAc,EAAA7c,WAAWgI,kBAAmBuT,GAG5C,IACE,GAAqC,SAAjC7+D,QAAQyT,IAAI2sD,iBAA6B,CAC3C,MAAMt0C,EAAO,ySAYb,IAAIu0C,EAA6B,GAoBjC,OAnBI,IAAAzS,wBACFyS,QAAyB,IAAAC,qBACvBC,SAAU/T,SAAgB,IAAAgU,0BAC1B3B,EACArS,GACA,GACA,KAIJ,EAAA0S,cAAcC,cAAcjb,QAAQ8B,gBAAgB,CAClDD,QAAS,KACTj6B,OACA20C,eAAgBJ,EAAiB53D,QAAOwtD,GAAKnqC,EAAK5a,QAAQ+kD,IAAM,IAChE1J,iBAEF8S,EAAgBvd,EAAQ,EAAAod,cAAcC,cAAcjb,SACpDkY,OAA2Bx8D,EAC3BugE,EAAc,EAAA7c,WAAWkI,MAAOqT,GACzB,EACT,CACA,aAmBJ/9D,eACE+9D,EACArS,EACAD,GAEA,MAAM,OAACzK,GAAU+c,EACX6B,GAA2B,IAAAC,qBAAoB,0BACrD,IAAIxX,GAAU,EACd,MAAMyX,EAAiC,CACrCC,kBAAkBx+C,GACZ8mC,IACJ,EAAA+V,cAAcC,cAAcjb,QAAQttC,IAAIyL,GACxCg9C,EAAgBvd,EAAQ,EAAAod,cAAcC,cAAcjb,SACtD,EACAxgD,MAAM4O,GACJ,GAAI62C,EAAS,OACb,IAAIxD,EAA4B,CAC9BI,QAAS,KACTj6B,KAAM,UAAUxZ,EAAE+C,UAClBk3C,gBAEFzK,EAAO95B,KAAK,yBAA0B29B,GACtCyW,OAA2Bx8D,EAC3BugE,EAAc,EAAA7c,WAAWkI,MAAOqT,EAClC,EACA/9D,aACMqoD,IACJiT,OAA2Bx8D,EAC3BugE,EAAc,EAAA7c,WAAWkI,MAAOqT,SAC1BiC,EAAcjC,EAAiBY,QAASZ,EAAiB/c,QACjE,GAiBF,OAfAsa,GAA0B/L,OAAO1yC,iBAAiB,SAAS,KAEzDijD,EAAe79D,OACfomD,GAAU,CAAI,UAGVuX,EAAyBK,iBAC7BlC,EACArS,EACAD,EACA,EAAA2S,cAAcC,cAAcjb,QAAQkH,KACpCwV,GAIK,EACT,CAnEiBI,CAAgBnC,EAAkBrS,EAAQD,EACzD,CAAE,MAAO1rC,GACP,IAAIogD,EAA+B,CACjClb,QAAS,KACTj6B,KAAM,UAAUjL,EAAIxL,SAAWwL,IAC/BqgD,UAAW9rD,KAAK5L,UAAUqX,GAC1By+C,cACA/S,gBAEF,EAAA2S,cAAcC,cAAcjb,QAAQ8B,gBAAgBib,GACpDnf,EAAO95B,KAAK,yBAA0Bi5C,IACtC,IAAA1X,aAAY1oC,EACd,CAIA,OAFAu7C,OAA2Bx8D,EAC3BugE,EAAc,EAAA7c,WAAWkI,MAAOqT,GApDjB,EAsDjB,CA6DA,SAASD,GAA0BuC,IAAKrgC,EAAO,OAAEghB,IAC/C,GAAI2a,EAGF,OAFAA,EAAY2E,SACZtf,EAAO95B,KAAK,eACLy0C,EAGTA,EAAc,EAAA9oD,OAAO0tD,mBAAmBlF,EAAkB,SAAU5D,EAAO+E,WAAWgE,IAAK,CACzFC,yBAAyB,IAE3B9E,EAAY+E,SAAWjJ,EAAOC,IAAI2E,SAASr8B,EAAQ2gC,aAAc,YAAa,kBAC9EhF,EAAYiF,cAAa,KACvBjF,EAAc,IAAI,IArBtB,SAAsB3a,EAA6B6f,EAAyBF,GAC1E3f,EAAOH,iBAAiBggB,GACxBA,EAAQ73D,QAAU,CAChB83D,eAAe,EACfC,mBAAoB,CAACJ,IAEvBE,EAAQG,MAAO,IAAAC,mBAAkB,SAAUN,EAAcE,EAC3D,CAiBEK,CAAalgB,EAAQ2a,EAAYkF,QAAS7gC,EAAQ2gC,aACpD,CAqDA,SAAgBpC,EAAgBvd,EAA6BoC,GAC3DpC,EAAO95B,KAAK,oBAAqBk8B,EAAQkH,MACzC13C,GAASouC,EAAO95B,KAAK,sBAAuB,CAACi6C,gBAAiB/d,EAAQa,UACxE,CAMA,SAAgBga,IACd3C,GAA0BlpC,QAC1BkpC,OAA2Bx8D,CAC7B,CAOA,SAASugE,EAAczd,EAAoBmc,GACzC,MAAM,OAACqD,EAAM,OAAEpgB,GAAU+c,EACzBrC,EAAa9Z,EACbZ,EAAO95B,KAAK,mBAAoBw0C,GAChC0F,EAAOltD,MAAM,iBAAmB0tC,GAC5BA,IAAW,EAAAY,WAAWkI,MAc5B,SAAkC2W,EAAkBtD,GAClD,IAAKuD,IAA8B,OACnC,MAAM,OAACF,EAAM,QAAEzC,EAAO,OAAE3d,GAAU+c,EAClCwD,EAAwBF,GACxBG,EAA2B1rD,IACzBurD,EACAlyC,YAAWnvB,UACTohE,EAAOltD,MAAM,uCAAyCmtD,GACtD,IAAIlgB,EAAS,EAAAid,cAAcqD,UAAUJ,GACrC,IACE,IAAKlgB,GAAUA,EAAOiC,QAAQ9uB,QAC5B,OAEF,MAAM/S,QAAiBo9C,EAAQ+C,QAAQ/C,EAAQgD,0BAA2B,CAExEve,QAAS9uC,KAAK5L,UAAUy4C,GAAQiC,QAAQkH,MACxCkT,YAAa,IAIf,IAD0BgE,EAA2Bl4C,IAAI+3C,IAC7B,EAAAjD,cAAcC,cAAcjE,KAAOiH,EAAU,OAEzE,IAAIO,EAAargD,EAASsgD,aAAatd,WAAW,IAAIL,MAAQ,GAC9D0d,EAAaA,EAAWnxD,OAAOwB,QAAQ,qBAAsB,IAC7D,EAAAmsD,cAAcC,cAAcyD,oBAAsBF,QAC5C5B,EAAcrB,EAAS3d,GAC7BsgB,KAAgCtgB,EAAO95B,KAAK,wBAAyB06C,EACvE,CAAE,MAAOpwD,GACP4vD,EAAOltD,MACL,iDAAiD,EAAAkqD,cAAcC,cAAcjE,OAAO5oD,IAExF,SACE+vD,EAAwBF,EAC1B,CACgB,GACf,KAEP,CAlDIU,CAAyB,EAAA3D,cAAcC,cAAcjE,GAAI2D,GAEzDwD,EAAwB,EAAAnD,cAAcC,cAAcjE,GAExD,CAl9BA,uBAA4B2D,GAC1B,MAAM/9B,EAAU+9B,EAAiBsC,IAC3B1B,EAAUZ,EAAiBY,QAC3B3d,EAAS+c,EAAiB/c,OAC1Bme,EAAsBpB,EAAiBoB,oBAS7C,SAAS6C,IACP,IAAI9E,EAAU,EAAArqD,OAAOiqD,kBAAkB5pD,SAASiqD,QAAQ,EAAAtqD,OAAOiqD,iBAAiBM,WAChF,OAAKF,IACH,EAAArqD,OAAOwqD,uBAAuB,+CACvB,EAGX,CAfK,EAAApC,cACH,IAAAgH,kBAAiBjiC,GACjBy7B,GAAiB,IAAAyG,IAAG,EAAAC,sBAlExBniE,iBACE,IACIoiE,EACAC,EAFAC,EAAmC,GASvC,SAASC,IACP,GAAsC,IAAlCD,EAAuB74D,OAIzB,OAHA24D,MACAA,OAAiBtjE,OACjBujE,OAAgBvjE,QAIKA,IAAnBsjE,GAIJ3K,EAAO5kD,OAAO2vD,aACZ,CACEtwC,SAAUulC,EAAOgL,iBAAiBC,OAClCC,aAAa,EACbC,MAAO,oCAET,EAAEC,YACA,IAAIxpD,SAAQ4hB,IACVmnC,EAAiBnnC,EACjBonC,EAAgBQ,CAAM,KAG9B,CAEApH,EAAe90D,GAAG,mBAA+Bo5C,IAC3CuiB,EAAuBj0C,SAAS0xB,KAIpCuiB,EAAuBt9D,KAAK+6C,GAC5BwiB,KAEA,IAAAO,oBAAmB/iB,GAAY,IAGjC0b,EAAe90D,GAAG,oBAAgC,CAACo5C,EAAagjB,EAAeC,KAC7EV,EAAyBA,EAAuB36D,QAAOs7D,GAAMA,IAAOljB,IACpEwiB,KAEA,IAAAW,qBAAoBnjB,EAAagjB,EAAeC,EAAU,IAG5DvH,EAAe90D,GAAG,iBAAiB6K,KACjC,IAAAi3C,aAAY,0BAA2Bj3C,EAAE,GAE7C,CAUI2xD,IAGF,EAAAjF,WAAWC,kBAAkB,kBAW7Bn+B,EAAQojC,cAAcp+D,KACpByyD,EAAOO,SAASqL,gBAAgB,iBAAiBrjE,UAC/C,EAAAk+D,WAAWC,kBAAkB,eAC7BL,EAAyBC,EAAiB,IAG5CtG,EAAOO,SAASqL,gBAAgB,sBAAsBrjE,UACpD,EAAAk+D,WAAWC,kBAAkB,sBAE7B,IAAI5H,EAAwD,CAC1D,CACEnN,QAAS,0BACTka,MAAO,oCAET,CACEla,QAAS,0BACTka,MAAO,4CAET,CACEla,QAAS,kCACTka,MAAO,0CAET,CACEla,QAAS,GACTka,MAAO,GACPC,KAAM9L,EAAO+L,kBAAkBC,WAEjC,CACEra,QAAS,gBACTka,MAAO,kCAET,CACEla,QAAS,mBACTka,MAAO,oCAGPlY,QAAeqM,EAAO5kD,OAAO6wD,cAAcnN,GAC1CnL,GAGLqM,EAAOO,SAASC,eAAe7M,EAAOhC,QAAS,IAGjDqO,EAAOO,SAASqL,gBAAgB,2BAA2BrjE,UACzD,EAAAk+D,WAAWC,kBAAkB,yBAC7B1G,EAAOO,SAASC,eAAe,gBAAgB,IAEjDR,EAAOO,SAASqL,gBAAgB,wBAAwBrjE,UACtD,EAAAk+D,WAAWC,kBAAkB,sBAC7B1G,EAAOO,SAASC,eAAe,gBAAgB,IAGjDR,EAAOO,SAASqL,gBAAgB,2BAA2BrjE,UACzD,GAAIgiE,IAAyB,OAC7B,EAAA9D,WAAWC,kBAAkB,kBAC7BwF,EAAc3iB,GACd,MAAMj2B,QAAY2xC,EAAOqB,EAAkB,CACzCrS,OAAQiT,EAAQiF,qBAGlB,aADM5D,EAAcrB,EAAS3d,GACtBj2B,CAAG,IAEZ0sC,EAAOO,SAASqL,gBAAgB,mCAAmCrjE,UACjE,GAAIgiE,IAAyB,OAC7B,EAAA9D,WAAWC,kBAAkB,sBAC7B,IAAIxB,QA2ZV,SAA+B38B,GAC7B,IAAI6jC,EAAoB7jC,EAAQ87B,YAAYjmD,IAAIslD,IAA6B,GAE7E,OAAO,IAAI9hD,SAAQ4hB,IACjB,MAAM6oC,EAAYrM,EAAO5kD,OAAOkxD,kBAIhC,SAASC,IACPF,EAAU9lC,MAAQ,IACb6lC,EAAQriE,KAAIktC,IAAK,CAClB40B,MAAO,eAAe50B,KACtBvwC,MAAOuwC,EACPu1B,QAAS,CACP,CACEvD,SAAU,IAAIjJ,EAAOyM,UAAU,SAC/BC,QAAS,kBAIXN,EAAQp6D,OACR,CACE,CACE65D,MAAO,GACPC,KAAM9L,EAAO+L,kBAAkBC,WAEjC,CACEH,MAAO,yBACPhF,OAAO,IAGX,GAER,CA5BAwF,EAAUM,YAAc,6BACxBN,EAAUlB,MAAQ,wCA6BlBoB,IAEA,IACI7lE,EACAkmE,EAFAC,GAAa,EAGjBR,EAAUS,kBAAiB/yD,IACzBrT,EAAQqT,CAAC,IAEXsyD,EAAUU,sBAAqBhzD,IACzBA,EAAE,GAAG8sD,MACPgG,GAAa,EAGfD,EAAW7yD,EAAE,GAAGrT,KAAK,IAEvB2lE,EAAUW,OACV,IAAInjD,GAAW,EACfwiD,EAAUY,aAAY,KACpB,GAAIJ,EAKF,OAJAT,EAAU,GACV7jC,EAAQ87B,YAAYjvC,OAAOsuC,OAA0Br8D,GACrDklE,SACAM,GAAa,GAGfhjD,GAAW,EACX,IAAIq7C,EAAa0H,GAAYlmE,GAAS,GACtC0lE,EAAU,CAAClH,KAAekH,EAAQl8D,QAAO+mC,GAAKA,IAAMiuB,KAAa5sD,MAAM,EAAG,GAC1EiwB,EAAQ87B,YAAYjvC,OAAOsuC,EAA0B0I,GACrD5oC,EAAQ0hC,GACRmH,EAAUa,OACVb,EAAUc,SAAS,IAErBd,EAAUe,wBAAuBrzD,IAE/BqyD,EAAUA,EAAQl8D,QAAO8K,GAAKA,IAAMjB,EAAExK,KAAK7I,QAC3C6hC,EAAQ87B,YAAYjvC,OAAOsuC,EAA0B0I,GACrDG,GAAc,IAEhBF,EAAUgB,WAAU,KACdxjD,IAIJ2Z,EAAQ,IACR6oC,EAAUc,UAAS,GACnB,GAEN,CA9e6BG,CAAsB/kC,GAC7C,IAAK28B,EACH,OAEFgH,EAAc3iB,GACd,MAAMj2B,QAAY2xC,EAAOqB,EAAkB,CACzCrS,OAAQiT,EAAQqG,WAChBrI,eAGF,aADMqD,EAAcrB,EAAS3d,GACtBj2B,CAAG,IAEZ0sC,EAAOO,SAASqL,gBAAgB,2BAA2BrjE,UACzD,GAAIgiE,IAAyB,OAC7B,EAAA9D,WAAWC,kBAAkB,2BAC7BwF,EAAc3iB,GACd,MAAMj2B,QAAY2xC,EAAOqB,EAAkB,CACzCrS,OAAQiT,EAAQsG,oBAGlB,aADMjF,EAAcrB,EAAS3d,GACtBj2B,CAAG,KAId,IA0EIqyC,EACAY,EAWAkH,EAtFArJ,EAAgBpE,EAAO5kD,OAAOsyD,oBAAoB1N,EAAO2N,mBAAmBC,MAAO,KA8VvF,OA5VAxJ,EAAc3X,KAAO,uBACrB2X,EAAczS,QAAU,0BACxByS,EAAcsI,QAAU,mBACxBtI,EAAc4I,OACd7I,EAAmB57B,EAAS67B,GAE5B7a,EAAOr6C,GAAG,uBAAuB3G,UAC/B,IAAI4hD,EAAS5hB,EAAQ87B,YAAYjmD,IAAI,8BAA8B,GAEnEmrC,EAAO95B,KAAK,yBAA0B06B,GAEjCA,GACH,EAAAsc,WAAWC,kBAAkB,wBAC/B,IAGFnd,EAAOr6C,GAAG,0BAA0B3G,UAClC,QAAgClB,IAA5By8D,EAEF,YADAva,EAAO95B,KAAK,4BAA6Bq0C,GAG3C,MAAM+J,IAAa,EAAApK,kBAET,EAAAJ,oBAAoB58D,QAAQqnE,0BACtChK,EAA0B+J,EAC1BtkB,EAAO95B,KAAK,8BAA+Bo+C,GAEtCA,GACH,EAAApH,WAAWC,kBAAkB,2BAC/B,IAMFnd,EAAOr6C,GAAG,yBAAyB3G,UACjCu7D,GAA0B,QACpB,EAAAT,oBAAoB58D,QAAQsnE,yBAClC,EAAAtH,WAAWC,kBAAkB,6BAA2C,IAG1End,EAAOr6C,GAAG,4BAA4B3G,gBAC9BggC,EAAQ87B,YAAYjvC,OAAO,8BAA8B,GAC/D+uC,EAAmB57B,EAAS67B,GAC5B,EAAAqC,WAAWC,kBAAkB,4BAAyC,IAGxEnd,EAAOr6C,GAAG,8BAA8B3G,MAAO7B,IAC7C,IAAI,QAACu8B,EAAO,SAAE5H,GAAY,EAAA2yC,yCACpBhO,EAAOG,UACV8N,iBAAiBhrC,GACjB7N,OAAOiG,EAAU30B,EAAOs5D,EAAOkO,oBAAoBrL,WACtD,EAAA4D,WAAWC,kBAAkB,qCAE3BhgE,EAAMiY,WACP,IAGH4qC,EAAOr6C,GAAG,uBAAuB3G,MAAO7B,IACtC,IAAI,QAACu8B,EAAO,SAAE5H,GAAY,EAAA8yC,iCACpBnO,EAAOG,UACV8N,iBAAiBhrC,GACjB7N,OAAOiG,EAAU30B,EAAOs5D,EAAOkO,oBAAoBrL,WACtD,EAAA4D,WAAWC,kBAAkB,8BAA6ChgE,EAAMiY,WAAW,IAG7F4qC,EAAOr6C,GAAG,0BAA0B3G,UAClC,MAAM6lE,QAAgB,EAAAzH,cAAc0H,cACpC9kB,EAAO95B,KAAK,4BAA6B2+C,GACzC7kB,EAAO95B,KAAK,sBAAuB,EAAAk3C,cAAcC,cAAcjE,GAAG,IAiBpEp6B,EAAQojC,cAAcp+D,KACpByyD,EAAO5kD,OAAOkzD,6BAA4B/lE,MAAMwR,IAI9C,GAH+B,aAA3BA,GAAG0B,SAASkkD,IAAI4O,QAClBhlB,EAAO95B,KAAK,yBAAyB,GAER,SAA3B1V,GAAG0B,SAASkkD,IAAI4O,OAClB,OAGF,MAAMnJ,QAAuBkB,EAAiBhB,UAAUC,WAAWxrD,EAAE0B,SAASkkD,KAG9E,GAFApW,EAAO95B,KAAK,wBAAyB21C,GAEjCA,EASF,OARAmB,OAAel/D,EACfs+D,OAAYt+D,OAERomE,IACFA,EAAyCN,UACzCM,OAA2CpmE,IAM/Ck/D,EAAexsD,EACf4rD,EAAY5rD,EAAE4rD,UAEd8H,EArCFzN,EAAO5kD,OAAOozD,gCAA+BjmE,MAAMwR,IACR,SAArCA,EAAE00D,WAAWhzD,SAASkkD,IAAI4O,SAI9BhI,EAAexsD,EAAE00D,WACjB9I,EAAY5rD,EAAE00D,WAAW9I,UAAS,IAgClCp9B,EAAQojC,cAAcp+D,KAAKkgE,EAAyC,KAIxElkB,EAAOr6C,GAAG,oBAAoB3G,UAC5B,GAAI,EAAAo+D,cAAcC,cAAcY,kBAAmB,CAIjD,MAAMjH,EAAqB+F,EAAiBlb,iBAAiBqJ,iBACzD,CAAC,EAAAH,iBACD,CAAC,EAAAH,oBACL5K,EAAO95B,KAAK,mBAAoB8wC,EAClC,MAAO,SAAU+F,EAAiBoI,SAASC,yBAA0B,CACnE,IAAIC,GAAY,EACZjJ,IACFiJ,GAAY,IAAAC,mBAAkBlJ,EAAWY,IAE3C,MAAMuI,IAAiBvI,GAAc9qD,SAASiqD,QAAQC,GAChDpF,EAAW2G,EAAQ6H,YAAYH,EAAWE,GAChDvlB,EAAO95B,KAAK,mBAAoB8wC,EAClC,KA8BFhX,EAAOr6C,GAAG,iBAAiB8/D,IAEzBxI,IACA0F,EAAc3iB,EAAQylB,EAAwB,IAGhDzlB,EAAOr6C,GAAG,sBAAsB3G,MAAOo6D,IAErC6D,IACA,MAAM7a,EAAU,EAAAgb,cAAcsI,oBAAoBtM,GAElDpZ,EAAO95B,KAAK,sBAAuBkzC,GAC/BhX,GACFmb,EAAgBvd,EAAQ,EAAAod,cAAcC,cAAcjb,SAEtDpC,EAAO95B,KAAK,sBAAuBkzC,GAEnCkH,KACEtgB,EAAO95B,KAAK,wBAAyB,EAAAk3C,cAAcC,cAAcyD,oBAAoB,IAGzF9gB,EAAOr6C,GAAG,4BAA4B3G,UAGhC,EAAAk7D,WACFM,GAA4B,GAII,IAA9BA,KAG8B,IAA9BA,SAM4BuC,EAAiBtlB,KAAKv6C,QAAQyoE,wBAC5D,kBACA,GACA,MAEeC,UAAU,CACzB52D,KAAM+a,IAtBqB,uDAuBrBA,EAAIm5B,MACNlD,EAAO95B,KAAK,wBACZs0C,GAA4B,EAC5B,EAAA0C,WAAWC,kBAAkB,iCAE7B3C,GAA4B,CAC9B,EAEFv5D,KAAM,OACNW,MAAO,SArBPo+C,EAAO95B,KAAK,wBAsBZ,IAGJ85B,EAAOr6C,GAAG,kBAAkB3G,UAC1Bu+D,EAAgBvd,EAAQ,EAAAod,cAAcC,cAAcjb,QAAQ,IAG9DpC,EAAOr6C,GAAG,sBAAsB3G,UAC9BshE,KACEtgB,EAAO95B,KAAK,wBAAyB,EAAAk3C,cAAcC,cAAcyD,oBAAoB,IAGzF9gB,EAAOr6C,GAAG,oBAAoB3G,UAC5B,EAAAk+D,WAAWC,kBAAkB,iBAA8B,SA/F7Dn+D,iBAEEi+D,IAEA,MAAMlzC,QAAY0sC,EAAO5kD,OAAOwqD,uBAC9B,8BACA,CACEwJ,OAAO,GAET,CAACjE,MAAO,SAAUkE,mBAAmB,GACrC,CAAClE,MAAO,UAAWmE,SAAS,IAE9B,IAAKh8C,GAAKg8C,QACR,aAGI,EAAA3I,cAAc4I,sBAEpB,MAAMnB,QAAgB,EAAAzH,cAAc0H,cACpC9kB,EAAO95B,KAAK,4BAA6B2+C,GACzC7kB,EAAO95B,KAAK,sBAAuB,EAAAk3C,cAAcC,cAAcjE,IAE/DkH,KACEtgB,EAAO95B,KAAK,wBAAyB,EAAAk3C,cAAcC,cAAcyD,qBACnEvD,EAAgBvd,EAAQ,EAAAod,cAAcC,cAAcjb,QACtD,CAuEE4jB,EAAqB,IAGvBhmB,EAAOr6C,GAAG,iBAAiB3G,UACzBghD,EAAO95B,KAAK,mBAAoBw0C,EAAW,IAG7C1a,EAAOr6C,GAAG,+BAA+B3G,MAAMorD,IAC7C6S,IACA3C,EAA2B,IAAI0D,sBACzBG,EAAoB8H,MACxB,EAAA7I,cAAcC,cAAcjb,QAC5BgI,EACAkQ,EAAyB/L,cAErByQ,EAAcrB,EAAS3d,EAAO,IAGtCA,EAAOr6C,GAAG,aAAa3G,MAAO0rD,IAC5B,IAAID,EACAl3C,EACAm3C,EAAOv6B,WAAW,QACnBs6B,GAAgBgT,EAAa/S,GAC9Bn3C,EAAU,gBAAgBk3C,KAE5B,EAAAyS,WAAWC,kBAAkB,mBAAiC5pD,SACxDspD,EAAyBE,EAAkBrS,EAAQD,EAAcuS,EAAcZ,SAC/E4C,EAAcrB,EAAS3d,EAAO,IAGtCA,EAAOr6C,GAAG,uBAAuB3G,MAAO0rD,EAAgBlkB,KAGtD,IAAIikB,EACAl3C,EAHJ,EAAA6pD,cAAcC,cAAcjb,QAAQ8jB,mBAAmB1/B,GACvD+2B,EAAgBvd,EAAQ,EAAAod,cAAcC,cAAcjb,SAGhDsI,EAAOv6B,WAAW,QACnBs6B,GAAgBgT,EAAa/S,GAC9Bn3C,EAAU,gBAAgBk3C,KAE5B,EAAAyS,WAAWC,kBAAkB,mBAAiC5pD,SACxDspD,EAAyBE,EAAkBrS,EAAQD,EAAcuS,EAAcZ,SAC/E4C,EAAcrB,EAAS3d,EAAO,IAGtCA,EAAOr6C,GAAG,kBAAkB,KAC1B,EAAAu3D,WAAWC,kBAAkB,yBAC7BF,GAAgB,IAGlBjd,EAAOr6C,GAAG,YAAY3G,MAAOwnC,KAC3B,IAAA2/B,mBAAiB,kBAEf,EAAA/I,cAAcC,cAAcjb,QAAQkH,KAAK9iB,GACzC,EAAA42B,cAAcC,cAAcY,kBAC7B,IAGHje,EAAOr6C,GAAG,cAAc3G,MAAOwnC,KAC7B,IAAA2/B,mBAAiB,oBAEf,EAAA/I,cAAcC,cAAcjb,QAAQkH,KAAK9iB,GACzC,EAAA42B,cAAcC,cAAcY,kBAC7B,IAGHje,EAAOr6C,GAAG,kBAAkB3G,MAAO2a,IACjC,EAAAujD,WAAWC,kBAAkB,yBAAuC7pD,KAAK5L,UAAUiS,GAAM,IAI3FqmC,EAAOr6C,GAAG,oBAAoB3G,MAAO2a,IACnC,EAAAujD,WAAWC,kBAAkB,2BAAyC7pD,KAAK5L,UAAUiS,GAAM,IAI7FqmC,EAAOr6C,GAAG,cAAc3G,MAAOuc,EAAc6qD,KAC3C,EAAAlJ,WAAWC,kBAAkB,qBA2djCn+D,eACEqsD,EACA9vC,EACA6qD,GAEA,IAAIC,EACJ,IAAK,IAAIrJ,KAAgBvG,EAAO5kD,OAAOy0D,mBACrC,GAAyC,QAArCtJ,EAAa9qD,SAASqqD,WAAsB,CAC9C8J,EAASrJ,EACT,KACF,CAEF,IAAKqJ,EAEH,OADA,IAAA5e,aAAY,aACL,GAGT,SAAU4D,EAAI0Q,UAAUC,WAAWqK,EAAOn0D,SAASkkD,KAKjD,OAJA,EAAAvkD,OAAOwqD,uBACL,2HAEF,IAAA5U,aAAY,QAAQ4e,EAAOn0D,SAASkkD,IAAI92D,uBAAuB,EAAAs/C,uBACxD,GAGT,IAAI2nB,EAAU,GACd,GAAIH,GAAaA,EAAU39D,OAAS,EAAG,CACrC,MAAM8zD,EAAa8J,EAAOn0D,SAASqqD,WAC7BzC,EAAqBrD,EAAOh/C,WAAWsiD,aAAa,2BACtBD,GAAoB58D,QAAQspE,iBAC9DjrD,EACAghD,EACA6J,KAEUj3D,SAAQs3D,IAClBF,GAAWE,CAAU,GAEzB,CACAJ,EAAOK,MAAK3kE,IACLskE,GAGLtkE,EAAEkP,QAAQo1D,EAAOjK,UAAWmK,EAAUhrD,EAAK,GAE/C,CAtgBIorD,CAAyB5J,EAAkBxhD,EAAM6qD,GACjD,EAAAtM,oBAAoB58D,QAAQ0pE,gBAAgBrrD,EAAK9S,OAAQ,EAAE,IAG7Du3C,EAAOr6C,GAAG,cAAc3G,MAAOuc,IAC7B,EAAAu+C,oBAAoB58D,QAAQ2pE,+BAA+BtrD,EAAK,IAGlEykC,EAAOr6C,GAAG,cAAc3G,MAAOwwB,IAC7B,EAAA0tC,WAAWC,kBAAkB,kBAAgC3tC,GAC7DinC,EAAO9kD,IAAIm1D,aAAarQ,EAAOC,IAAI7uD,MAAM2nB,GAAM,IAGjDwwB,EAAOr6C,GAAG,kBAAkB3G,MAAOi8D,IACjCD,EAAmBC,EAAI,IAGzBjb,EAAOr6C,GAAG,gBAAgB3G,UACxB,EAAAk+D,WAAWC,kBAAkB,uBAC7B1G,EAAOO,SAASC,eAAe,gCAAiC,SAAS,IAG3EjX,EAAOr6C,GAAG,kBAAkB3G,UAC1B,EAAAk+D,WAAWC,kBAAkB,yBAC7B1G,EAAOO,SAASC,eAAe,mCAAmC,IAGpEjX,EAAOr6C,GAAG,8BAA8B3G,UACtC,MAAM+nE,QACEhK,EAAiBoI,SAAS6B,yBAClChnB,EAAO95B,KAAK,gCAAiC6gD,EAAkC,IAGjF/mB,EAAOr6C,GAAG,8BAA8B3G,UACtCghD,EAAO95B,KAAK,gCAAiC62C,EAAiBlb,iBAAiBolB,UAAU,IAGpF,CACLjoE,kBAAkBkZ,EAAc2rB,EAAcjiC,GAC5C0Q,QAAQW,IAAI,2CACZ+nD,EAAmB9iD,GACnB,MAAMwyC,EAAiBiT,EAAQuJ,gBAC/B/4C,YAAW,WACTutC,EAAOqB,EAAkB,CACvBrS,OAAQA,EACRiR,WAAY/5D,GAEhB,GAAG,IACL,EAEJ,EAsdA,0BAA+Bo+C,EAA6BmnB,GAC1D,EAAA/J,cAAcC,cAAcjb,QAAQttC,IAAIqyD,GACxC5J,EAAgBvd,EAAQ,EAAAod,cAAcC,cAAcjb,QACtD,EAEA,oBAKA,4CAAiDpjB,GAC/Cq/B,EAAc,EAAA7c,WAAWgI,kBAAmBxqB,EAC9C,EAEA,mBAKA,gCAAqC+9B,GACnCzC,OAA2Bx8D,EAC3BugE,EAAc,EAAA7c,WAAWkI,MAAOqT,EAClC,EAcA,IAAIyD,EAA6B,IAAIlpC,IAErC,SAASgpC,IACP,IAAI,QAAC5mC,EAAO,SAAE5H,GAAY,EAAAs1C,mCAC1B,QAAS3Q,EAAOG,UAAU8N,iBAAiBhrC,GAAS7kB,IAAIid,EAC1D,CAyCA,SAASyuC,EAAwBF,GAC/BxuC,aAAa2uC,EAA2B3rD,IAAIwrD,IAC5CG,EAA2Bv0C,OAAOo0C,EACpC,CAEA,SAAgBsC,EAAc3iB,EAA6BylB,GACzD,EAAArI,cAAcuF,cAAc8C,GAC5BzlB,EAAO95B,KAAK,sBAAuB,EAAAk3C,cAAcC,cAAcjE,IAC/DkH,KACEtgB,EAAO95B,KAAK,wBAAyB,EAAAk3C,cAAcC,cAAcyD,qBACnEvD,EAAgBvd,EAAQ,EAAAod,cAAcC,cAAcjb,QACtD,CAEOpjD,eAAeggE,EAAcrB,EAAyB3d,GAC3D,GAAI,EAAAod,cAAcC,cAAcjb,QAAQ9uB,SAAW,EAAA8pC,cAAcC,cAAcgK,SAC7E,aAGI,EAAAjK,cAAckK,mBAAkBtoE,UACpC,MAAM0rD,EAASiT,EAAQ4J,mBACjBvqD,EAAS,CACTolC,cACF,OAAO9uC,KAAK5L,UAAU,EAAA01D,cAAcC,cAAcjb,QAAQkH,KAC5D,EAEIkT,kBACF,OAAO,CACT,GAEF,IACE,MAAMj8C,QAAiBo9C,EAAQ+C,QAAQhW,EAAQ1tC,GAC/C,OAAOuD,EAASsgD,aAAatd,WAAW,IAAIL,IAC9C,CAAE,MAAO1yC,IACP,IAAAi3C,aACE,4CAA4C,EAAA2V,cAAcC,cAAcjE,OAAO5oD,IAEnF,CACgB,IAElB,MAAMq0D,QAAgB,EAAAzH,cAAc0H,cACpC9kB,EAAO95B,KAAK,4BAA6B2+C,GACzC7kB,EAAO95B,KAAK,sBAAuB,EAAAk3C,cAAcC,cAAcjE,GACjE,CAEA,SAASqE,EAAa/S,GACpB,GAAIA,EAAOv6B,WAAW,KAAM,CAC1B,MAAOi4B,EAAS4K,GAAStI,EAAO37C,MAAM,GAAG1Q,MAAM,UAC/C,MAAO,CAAC+pD,EAAS4K,EACnB,CACA,MAAO,CAAC,GAAItI,EACd,CA7CA,kBAQA,syBC3qCA,mBAEA,SAEA,UAEMoP,EAAqBrD,EAAOh/C,WAAWsiD,aAAa,oBAY1D,+BAAoC1wD,GAClC,GAAa,2BAATA,EACF,OAAO,IAAIm+D,EAEX,MAAM,IAAIlpE,MAAM,eAEpB,EAwDA,MAAakpE,EACXxoE,uBACEqsD,EACAX,EACAD,EACApB,EACAyV,GAEA,IAAIL,EAAW,GACXtc,EAAQ,GACRoc,EAA6B,GAEjC,MAAMkJ,EAAqC,QAAjBhd,GAEtB,IAAAqB,uBACFyS,QAAyB,IAAAC,qBACvBC,WAAUtc,eAAe,IAAAuc,0BAAyBrT,EAAKX,GAAQ,EAAM+c,OAErEhJ,WAAUtc,eAAe,IAAAuc,0BAAyBrT,EAAKX,GAAQ,EAAO+c,IAK1E,IAAIC,EAAqB,IAAIre,GAE3Bqe,EAAmBj/D,OAAS,GACkC,SAA9Di/D,EAAmBA,EAAmBj/D,OAAS,GAAGw7C,SAElDyjB,EAAmBp6D,MAGrB,IAAIq6D,EAAe,GACf7jB,EAAmB,IAEvB,MAAM8jB,EAAoD,GACpDC,EAA2B,GAkB3BC,EAAW,KACfH,EAAe,GACf,IAAII,EAAa,EAEjBH,EAAsBz4D,SAAQoR,IAC5BujC,EAAcvjC,EAASujC,YACvB,MAAMkkB,EAAiBC,EAAW1nD,EAAShF,MAAQgF,EAAShF,KAAOgF,EAAS2iC,KAC5E,IAAK8kB,EACH,OAEF,MAAME,EAAWH,EAAaC,EAAev/D,OAMvC0/D,EAhCK,CAAC/B,IACd,MAAMgC,EAAiC,CAAC,EAClCC,EAA2B,GAEjC,IAAK,MAAMC,KAAYlC,EAAW,CAChC,MAAMxwD,EAAM,GAAG0yD,EAASC,cAAcD,EAASE,UAE1CJ,EAAKxyD,KACRwyD,EAAKxyD,IAAO,EACZyyD,EAAarkE,KAAKskE,GAEtB,CAEA,OAAOD,CAAY,EAmBGI,CAHMZ,EAAalhE,QACrC2hE,GAAYP,GAAcO,EAASJ,UAAYA,GAAYI,EAASP,cAGnEvnE,KAAI8nE,GAAY,aAAah1D,KAAK5L,UAAU4gE,OAC5CzhE,KAAK,MAER8gE,EAAeM,EAAW1nD,EAAShF,OAC/B,IAAAmtD,qCAAoCf,EAAcpnD,EAAShF,KAAO4sD,GAClE,GAAGR,IAAepnD,EAAS2iC,OAC/B6kB,EAAaG,EAAW,CAAC,IAE3B,MAAMS,EAA+B,CACnC1kB,QAAS,KACTj6B,KAAM29C,EACNhJ,eAAgBJ,EAAiB53D,QAAOwtD,GAAKwT,EAAav4D,QAAQ+kD,IAAM,IACxErQ,YAAaA,EACb2G,gBAEFqU,EAAeC,kBAAkB,IAAI1V,EAAasf,GAAiB,EAGrE,IAAIC,GAAgB,EAChBC,EAAY,IAAI70D,KACpB,MAAM80D,EAA+C,CACnD95D,KAAM,SAAUuR,GACd,IAAIwoD,EAAe,IAAI/0D,KACnBg1D,EAAWD,EAAaE,UAAYJ,EAAUI,UAWlD,GAVIL,IACFA,GAAgB,EAChBM,EACE,qCACAF,EACAH,EACAE,EACA,MAGCxoD,EAUH,OATAunD,IACAoB,EACE,oCACAF,EACAH,EACAE,EACA,aAEFjK,EAAe79D,OAIjB0mE,EAAeM,EAAW1nD,EAAShF,OAC/B,IAAAmtD,qCAAoCf,EAAcpnD,EAAShF,MAC3D,GAAGosD,IAAepnD,EAAS2iC,OAC/B,MAAMylB,EAA+B,CACnC1kB,QAAS,KACTj6B,KAAM29C,EACN7jB,YAAavjC,EAASujC,YACtB2G,gBAEFmd,EAAsB5jE,KAAKuc,GACvBA,EAAS6lD,WACXyB,EAAa7jE,QAAQuc,EAAS6lD,WAEhCtH,EAAeC,kBAAkB,IAAI1V,EAAasf,GACpD,EACA/mE,MAAO,SAAU4O,GACf,IAAIu4D,EAAe,IAAI/0D,KAEvBk1D,EACE,oCAFaH,EAAaI,kBAAoBN,EAAUM,kBAIxDN,EACAE,EACA,SAEFz2D,QAAQW,IAAI,WACZX,QAAQW,IAAIzC,GACZs3D,IACAhJ,EAAe79D,MACjB,EACAA,KAAM,WACJ6mE,IACA,IAAIiB,EAAe,IAAI/0D,KAEvBk1D,EACE,oCAFaH,EAAaI,kBAAoBN,EAAUM,kBAIxDN,EACAE,EACA,QAEFz2D,QAAQW,IAAI,QACZ6rD,EAAe79D,MACjB,UAGwBoqD,EAAI5T,KAAKv6C,QAAQyoE,wBACzCjb,EACAgd,EAAmBlnE,KAAI4hD,IACd,CACLc,KAAMd,EAAQp4B,MAAQ,GACtBo/C,OAA4B,OAApBhnB,EAAQ6B,QAAmB,SAAW,WAGlDwa,EACAtc,EAAQ,CAAC,CAACe,KAAMf,SAAUrkD,KAGjB8nE,UAAUkD,EACvB,EAGF,SAASI,EACP9e,EACAif,EACAC,EACAC,EACAC,GAEA,IACE1P,GAAoB58D,QAAQgsE,gBAAgB9e,EAAQif,EAAaC,EAAYC,EAAUC,EACzF,CAAE,MAAOh5D,GACP8B,QAAQW,IAAI,4BAA8BzC,EAC5C,CACF,CAGA,SAASy3D,EAAW5wD,GAClB,OAEF,SAAiBA,GACf,OAAOA,SAAoD,KAAfA,EAAI5H,MAClD,CAJU6jB,CAAQjc,EAClB,CApMA,o2BChFA,mBACA,aACA,aAGA,SACA,UACA,UAQA,0BAKElV,YACUkpD,EACAz1B,GAAe,IAAAopB,WACf+c,EAAY,IAAI,EAAA0N,UAAU7zC,IAF1B,KAAAy1B,IAAAA,EACA,KAAAz1B,KAAAA,EACA,KAAAmmC,UAAAA,EALF,KAAA2N,YAAa,EAOnBjT,EAAOO,SAASqL,gBAAgB,kCAAmCjM,IACjE/zD,KAAKgpD,IAAI+U,OAAOltD,MAAM,0CAA0CkjD,EAAIkF,WAC7Dj5D,KAAK25D,WAAW5F,KAE3B,CAQAp3D,iBAAiBo3D,GACf,GAAI,EAAA4D,gBACF,OAAO,EAET,MAAMx8C,EAAQmsD,YAAYhT,MACrBt0D,KAAKqnE,aACRrnE,KAAKgpD,IAAI+U,OAAOltD,MAAM,yCACtB7Q,KAAKunE,sBACLvnE,KAAKqnE,YAAa,GAIfrnE,KAAK0wB,WACR1wB,KAAKgpD,IAAI+U,OAAOltD,MAAM,4CACtB7Q,KAAK0wB,SAAW1wB,KAAK05D,UAAUrc,uBAC/Br9C,KAAK8S,cAAgB9S,KAAK0wB,UAAUvyB,KAAI2M,GAAK,CAACA,GAAG,aAAY7N,EAAK26B,QAAQ53B,KAAKuzB,KAAMzoB,QAEvF,IAAK,MAAO/E,EAAS+M,KAAW9S,KAAK8S,QAAU,GAC7C,GAAIA,EAAOO,KAAK0gD,EAAI92D,MAAO,CACzB,MAAMme,EAAMksD,YAAYhT,MAGxB,OAFAt0D,KAAKgpD,IAAI+U,OAAOltD,MAAM,cAAckjD,EAAI92D,cAAcme,EAAMD,QAC5Dnb,KAAKgpD,IAAI+U,OAAOltD,MAAM,QAAQkjD,EAAI92D,gCAAgC8I,MAC3D,CACT,CAEF,MAAMqV,EAAMksD,YAAYhT,MAGxB,OAFAt0D,KAAKgpD,IAAI+U,OAAOltD,MAAM,cAAckjD,EAAI92D,cAAcme,EAAMD,QAC5Dnb,KAAKgpD,IAAI+U,OAAOltD,MAAM,QAAQkjD,EAAI92D,yBAC3B,CACT,CAWQsqE,sBACN,GAAI,EAAA5P,iBAAmB33D,KAAKqnE,WAAY,OACxC,MAAMG,EAAUpT,EAAOG,UAAUkT,wBAC/BxqE,EAAKuH,KAAKxE,KAAKuzB,KAAM,KAAM,EAAAgpB,sBAE7Bv8C,KAAKgpD,IAAIgU,IAAI+C,cAAcp+D,KAAK6lE,GAChCA,EAAQE,aAAY7xD,IAClB7V,KAAKgpD,IAAI+U,OAAOltD,MAAM,GAAGgF,EAAKojD,sDACvBj5D,KAAK0wB,gBACL1wB,KAAK8S,MAAM,IAEpB00D,EAAQG,aAAY9xD,IAClB7V,KAAKgpD,IAAI+U,OAAOltD,MAAM,GAAGgF,EAAKojD,sDACvBj5D,KAAK0wB,gBACL1wB,KAAK8S,MAAM,IAEpB00D,EAAQI,aAAY/xD,IAClB7V,KAAKgpD,IAAI+U,OAAOltD,MAAM,GAAGgF,EAAKojD,sDACvBj5D,KAAK0wB,gBACL1wB,KAAK8S,MAAM,GAEtB,0vBClGF,mBAEA,UAEA,UAIA,IAAI+0D,EACAC,EAAkB,GAetBnrE,eAAeorE,GAA2B,OAACpqB,IACzC,MAAMqqB,QAAyB,IAAAC,6BAC/BtqB,EAAO95B,KAAK,sBAAuBmkD,EAAkBF,EACvD,CAhBA,oBAAOnrE,eAAiCqsD,GACtC,IAAI,IAACgU,EAAG,OAAErf,GAAUqL,EAEpBgU,EAAI+C,cAAcp+D,KAChByyD,EAAOO,SAASqL,gBAAgB,oCAAoC54D,KAcxE,SAAsC4hD,GACpC,GAAI6e,EAGF,OAFAA,EAAgB5K,SAChBnxC,YAAW,IAAMi8C,EAA2B/e,IAAM,KAC3C6e,EAGT,MAAO7K,IAAKrgC,EAAO,OAAEghB,GAAUqL,EAE/B6e,EAAkBzT,EAAO5kD,OAAO0tD,mBAhCL,oBAkCzB,iBACA9I,EAAO+E,WAAWgE,IAClB,CACEC,yBAAyB,IAG7ByK,EAAgBxK,SAAWjJ,EAAOC,IAAI2E,SACpCr8B,EAAQ2gC,aACR,YACA,kBAEFuK,EAAgBtK,cAAa,KAC3BsK,OAAkBpsE,CAAS,IAM/B,SACEkiD,EACA6f,EACAF,GAEA3f,EAAOH,iBAAiBggB,GACxBA,EAAQ73D,QAAU,CAChB83D,eAAe,EACfC,mBAAoB,CAACJ,IAEvBE,EAAQG,MAAO,IAAAC,mBAAkB,kBAAmBN,EAAcE,EACpE,CAdEK,CAAalgB,EAAQkqB,EAAgBrK,QAAS7gC,EAAQ2gC,aACxD,CAxCM4K,CAA6Blf,GAC7B8e,EAAU1gE,GAAM+gE,QAAU,EAAE,KAIhCxqB,EAAOr6C,GAAG,oBAAoB3G,SAAYorE,EAA2B/e,IACvE,oGCpBA,gBAEA,oBAIElpD,YACUsoE,EACAC,GADA,KAAAD,WAAAA,EACA,KAAAC,eAAAA,EALV,KAAAC,cAA0B,GACnB,KAAAxkB,YAAa,CAKjB,CAECsH,0BACF,OAAsC,IAA/BprD,KAAKqoE,eAAejiE,YACvB3K,EACAuE,KAAKqoE,eAAeroE,KAAKqoE,eAAejiE,OAAS,EACvD,CAEImiE,uBACF,OAAOvoE,KAAKorD,qBAAqB98B,MAAM,EACzC,CAEIk6C,+BACF,OAAOxoE,KAAKuoE,kBAAkBnnB,YAChC,CAEInwB,cACF,OAAkC,IAA3BjxB,KAAKooE,WAAWhiE,MACzB,CAEIu7C,sBACF,OAAO3hD,KAAKixB,aAAUx1B,EAAYuE,KAAKooE,WAAWpoE,KAAKooE,WAAWhiE,OAAS,EAC7E,CAEIw+C,wBACF,OAAO,EAAA/G,cAAc4qB,cAAczoE,KAAK2hD,iBAAiBG,oBAC3D,CAEAmZ,QACEj7D,KAAKooE,WAAa,GAClBpoE,KAAKqoE,eAAiB,GACtBroE,KAAKsoE,cAAgB,GACrBtoE,KAAK8jD,YAAa,CACpB,CAIA+f,mBAAmB1/B,GACjBnkC,KAAKooE,WAAapoE,KAAKooE,WAAW17D,MAAM,EAAGy3B,GAC3C,MAAMukC,EAAQ1oE,KAAKsoE,cAAcnkC,GACjCnkC,KAAKsoE,cAAgBtoE,KAAKsoE,cAAc57D,MAAM,EAAGy3B,GACjDnkC,KAAKqoE,eAAiBroE,KAAKqoE,eAAe37D,MAAM,EAAGg8D,EACrD,CAEA1mB,UACEhiD,KAAK6jE,mBAAmB7jE,KAAKooE,WAAWhiE,OAAS,EACnD,CAEAqM,IAAIstC,GACF//C,KAAKooE,WAAaroB,EAClB//C,KAAKqoE,eAAiB,EACxB,CAEIphB,WACF,OAAOjnD,KAAKooE,UACd,CAEIxnB,eAGF,OAAO5gD,KAAK8jD,WAAa9jD,KAAKqoE,eAAiBroE,KAAKqoE,eAAe37D,MAAM,EAC3E,CAEAm1C,gBAAgB3wC,GACdlR,KAAKooE,WAAWzmE,KAAKuP,GACrBlR,KAAKsoE,cAAc3mE,KAAK3B,KAAKqoE,eAAejiE,OAC9C,CAEAukD,oBAAoBz5C,GAClBlR,KAAKqoE,eAAe1mE,KAAKuP,EAC3B,0xBCjFF,mBAEA,wBAA6Bwc,GAC3B,IAAK0mC,EAAO5kD,OAAOiqD,kBAAkB5pD,SACnC,OAEF,IAAI84D,GAsCcrhE,EAtCYomB,EAAQqsC,UAAU9oC,QAA8BvD,EAAQk7C,WAA5Bl7C,EAAQqsC,UAuC3D,IAAI3F,EAAOyU,MAAMvhE,EAAM6T,MAAMqmB,KAAM,EAAGl6B,EAAM8T,IAAIomB,KAAM,OAD/D,IAAoBl6B,EArClB,IAAIk0D,EAAmB,GACvB,GAAIpH,EAAO5kD,OAAOiqD,kBAAkB5pD,UAAUkkD,MAAQ4U,EAAY13C,QAAS,CACzE,IAAI63C,EAAc1U,EAAO2U,UACtBC,eAAe5U,EAAO5kD,OAAOiqD,kBAAkB5pD,UAAUkkD,KACzDzvD,QAAOinC,IAAMA,EAAEjkC,MAAM60C,aAAawsB,IAAc13C,UACnDuqC,EAASsN,EAAY1iE,OAAS,CAAC0iE,EAAY,GAAG53D,SAAW,EAC3D,CACA,OAAOsqD,EAAOr9D,KAAIgQ,GAAK,KAAKA,MAAK3J,KAAK,KACxC,EAEA,6BACE8C,EACAqzD,EAAevG,EAAO5kD,OAAOiqD,kBAE7B,SAAIkB,GAAc9qD,UAAUkkD,KAAQzsD,EAAM2pB,UACtBmjC,EAAO2U,UACtBC,eAAerO,GAAc9qD,UAAUkkD,KACvCzvD,QAAOinC,IAAMA,EAAEjkC,MAAM60C,aAAa70C,IAAQ2pB,UAC1B7qB,OAAS,CAGhC,EAEA,0BACEkB,EACAqzD,EAAevG,EAAO5kD,OAAOiqD,kBAE7B,IAAKkB,GAAc9qD,SAASkkD,KAAOzsD,EAAM2pB,QACvC,MAAO,GAET,IAAI63C,EAAc1U,EAAO2U,UACtBC,eAAerO,EAAa9qD,SAASkkD,KACrCzvD,QAAOinC,IAAMA,EAAEjkC,MAAM60C,aAAa70C,IAAQ2pB,UAE7C,OADe63C,EAAY1iE,OAAS,CAAC0iE,EAAY,GAAG53D,SAAW,IACjD/S,KAAIgQ,GAAK,KAAKA,MAAK3J,KAAK,KACxC,g0BC1CA,gBACA,aAEA,UAEA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,YACA,UACA,UA6CA,WAAO7H,eAAwBggC,GAC7B,MAAMqsB,EAAM,CAAC,EACbA,EAAIgU,IAAMrgC,EAEL,EAAA6pB,oBAzBP7pD,eAAyCggC,GAGvC,OAAa,CACX,IAAI86B,EAAqBrD,EAAOh/C,WAAWsiD,aAAa,oBACxD,IACE,IAAKD,EACH,MAAM,IAAIx7D,MAAM,sDAKlB,aAHMw7D,EAAmB58D,QAAQouE,mBACjCtsC,EAAQyY,IAAMqiB,OACdxnD,QAAQW,IAAI,gDAEd,CAAE,MAAOrR,GAEP0Q,QAAQW,IAAI,iDACN,IAAIoF,SAAQ4hB,GAAW9L,WAAW8L,EAf5B,MAgBd,CACF,CACF,CAOUsxC,CAA0BlgB,GAGlCA,EAAIrL,QAAS,IAAAwrB,cACX,IAAI,EAAAC,iBAENpgB,EAAI+U,OAAS,IAAI,EAAAsL,cAnDS,SAmD0B,GACpDrgB,EAAIqR,OA6BN,SAAuBrR,GACrB,OAAO,IAAAsgB,kBAAiB,CACtB1pB,IAAK,CACHjjD,eAAe+I,GACbsjD,EAAI+U,OAAOltD,MAAM,sBAAwBnL,EAAM2iD,QAC/C,MAAMnqC,QAAiB8qC,EAAI5T,KAAKv6C,QAAQ0uE,aACtC7jE,EAAM2iD,OACN3iD,EAAMknD,gBAAgB,IAAM,4BAI9B,OAFA5D,EAAI+U,OAAOltD,MAAM,4BAA8BI,KAAK5L,UAAU6Y,IAEvD,CAACgjC,WADWhjC,GAAU/f,KAAIiR,IAAK,CAAEyxC,KAAMzxC,EAAEo6D,WAAYp6D,OAAQ,GAEtE,GAEFq6D,cAAcrlB,GAGC,UAATA,EACK,CAAC,kBAAkBA,MAAU,MAE/B,CAAC,kBAAkBA,MAAU,mBAEtCslB,WAAY,EAAAljB,aACR,CAAC,EACD,CACEmjB,SAAS,aAAkB,CAACjZ,SAzFpB,wBAyFyCzE,OA9FzD,8CAiGF,CAzDe2d,CAAc5gB,GAC3BA,EAAI8Z,SAAW,IAAI,EAAA+G,aAAa7gB,GAChCA,EAAI0Q,UAAY,IAAI,EAAAoQ,kBAAkB9gB,GACtCA,EAAIxJ,kBAAmB,IAAAuqB,8BACvB/gB,EAAI8S,oBAAsB,IAAI,EAAAkO,0BACtBhhB,EAAI8Z,SAAS9c,qBACnBgD,EAAIxJ,kBACJ,IAAAyqB,qCACAjhB,EAAIrL,QACJhhD,UACE,GAAIqsD,EAAIxJ,iBAAiByE,kBAAmB,CAC1C,MAAMppD,EAAUmuD,EAAI5T,KAAKv6C,QACzB,MAAO,CAACspD,UAAWtpD,GAASqvE,eAAgB7uD,YAAaxgB,GAASsvE,YACpE,CACgB,KAIpB,IAAAC,yBAAwBztC,EAASqsB,EAAIxJ,iBAAiBolB,YACtD,IAAAyF,qBAAoBrhB,GACpB,MAAMshB,GAAW,IAAAC,aAAYvhB,GAM7B,OALA,IAAAwhB,eAAcxhB,IACd,IAAAyhB,mBAAkBzhB,IAClB,IAAA0hB,yBAAwB1hB,IACxB,IAAA2hB,2BAA0B3hB,GAEnBshB,CACT,oGCrGA,qBACExqE,YAAoBkpD,GAAA,KAAAA,IAAAA,CAAwB,CAE5CrsD,qCACE,OAAOqD,KAAK4qE,UAAU,gCACxB,CAEAjuE,+BACE,OAAOqD,KAAK4qE,UAAU,yBACxB,CAEAjuE,+BACE,OAAOqD,KAAK4qE,UAAU,0BACxB,CAEAjuE,2BACE,OAAOqD,KAAK4qE,UAAU,sBACxB,CAEQjuE,gBAAgB0B,GACtB,MAAM,IAAC+2C,EAAG,OAAE2oB,GAAU/9D,KAAKgpD,IAC3B,IAAK5T,EACH,OAAO,EAET,IAAIw1B,EACJ,IACEA,QAAkBx1B,GAAKv6C,QAAQgwE,iBAAiBxsE,GAClD,CAAE,MAAO8P,GAEP,OADA4vD,EAAOx+D,MAAM,mBAAmBlB,wBAA2B8P,MACpD,CACT,CAEA,OADA4vD,EAAOh1C,KAAK,GAAG1qB,MAASusE,KACjBA,CACT,28BCnCF,mBACA,UACA,aACA,UAEA,SAAgB5W,EAA2B8W,GACzC,GAAI1W,EAAOG,UAAUuE,kBAAiE,IAA7C1E,EAAOG,UAAUuE,iBAAiB1yD,OAAc,CACvF,MAAMmtB,EAAO6gC,EAAOG,UAAUuE,iBAAiB,GAAG/E,IAClD,OAAOK,EAAOC,IAAI2E,SAASzlC,EAAMu3C,EACnC,CAEF,CAEOnuE,eAAeouE,EACpBhX,EACAiX,GAEA,IAEE,aADmB5W,EAAOG,UAAUt5D,GAAGE,KAAK44D,IAChC/sD,OAASgkE,CACvB,CAAE,MAAO,CACT,OAAO,CACT,CAUOruE,eAAesuE,EACpBH,EACAE,GAEA,IAAIE,EAAelX,EAA2B8W,GAC9C,QAAII,GACKH,EAAkBG,EAAcF,EAG3C,CA0COruE,eAAewuE,EAAaL,GACjC,MAAMhZ,EAAIl6B,EAAQkzC,GAClB,IAAKhZ,EACH,MAAM,IAAI71D,MAAM,SAASgB,eAE3BgT,QAAQW,IAAI,yBAA2BkhD,GACvC,MAAMjiD,QAAiBukD,EAAOG,UAAU6W,iBAAiBtZ,SACnDsC,EAAO5kD,OAAO67D,iBAAiBx7D,EAAUukD,EAAO+E,WAAWC,IACnE,CAEA,SAAgBxhC,EAAQ/hB,GACtB,MAAM0+C,EAAYH,EAAOG,UAEzB,GAAIA,EAAUuE,kBAC8B,IAAtCvE,EAAUuE,iBAAiB1yD,OAAc,CAC3C,MAAMvI,EAAY02D,EAAUuE,iBAAiB,GAAG/E,IAAIkF,OACpD,OAAIpjD,EACK5Y,EAAK26B,QAAQ/5B,EAAWgY,GAExBhY,CAEX,CAGJ,CAEAlB,eAAe2uE,EACbC,EACAT,EACAU,EACAj5C,GAEA,MAAMk5C,EAAarX,EAAOC,IAAI2E,SAASuS,EAAST,GAChD,IAAK,MAAMnsE,WAAey1D,EAAOG,UAAUt5D,GAAGywE,cAAcD,GAAa,CACvE,MAAMptE,EAAOM,EAAM,GAGnB,GAAI4zB,EAAOtM,IAAI5nB,IAASA,EAAKyvB,WAAW,KACtC,SAEF,MAAM9mB,EAAOrI,EAAM,GACb1B,EAAO,GAAG6tE,KAAgBzsE,IAC1BsC,EAA2C,IAAjCqG,EAAOotD,EAAOuX,SAASC,MACjCnrE,EAAqD,IAAtCuG,EAAOotD,EAAOuX,SAASE,WACxClrE,EACF6qE,EAAe7pE,KAAK1E,GACXwD,SACH6qE,EAAsBC,EAAStuE,EAAMuuE,EAAgBj5C,EAE/D,CACF,CAhIA,+BAQA,sBAWA,gBAAO51B,eAA6Bo3D,GAClC,OAAOgX,EAAkBhX,EAAKK,EAAOuX,SAASC,KAChD,EAEA,kBAAOjvE,eAA+Bo3D,GACpC,OAAOgX,EAAkBhX,EAAKK,EAAOuX,SAASE,UAChD,EAEA,mBAWA,aAAOlvE,eAA0BmuE,GAC/B,OAAOG,EAAeH,EAAc1W,EAAOuX,SAASC,KACtD,EAEA,eAAOjvE,eAA4BmuE,GACjC,OAAOG,EAAeH,EAAc1W,EAAOuX,SAASE,UACtD,EAEA,WAAOlvE,eAAwBmuE,GAC7B,IAAII,EAAelX,EAA2B8W,GAC9C,GAAII,EAAc,CAChB,MAAMY,EAAU,IAAI,EAAAC,YACdlY,QAAoBO,EAAOG,UAAUt5D,GAAGkmC,SAAS+pC,GACvD,OAAOY,EAAQE,OAAOnY,EACxB,CAEA,MAAO,uBACT,EAEA,aAAOl3D,eAA0BmuE,GAC/B,IAAII,EAAelX,EAA2B8W,GAC1CI,SACI9W,EAAOG,UAAUt5D,GAAG2uB,OAAOshD,EAErC,EAEA,YAAOvuE,eAAyBmuE,EAAsBzpC,GACpD,IAAI6pC,EAAelX,EAA2B8W,GAC9C,GAAII,EAAc,CAChB,MAAMe,EAAU,IAAI,EAAAzX,YACpBvkD,QAAQW,IAAI,4BAA4Bs6D,mBAA8B7pC,WAChE+yB,EAAOG,UAAUt5D,GAAG8zD,UAAUmc,EAAce,EAAQxX,OAAO,KACjExkD,QAAQW,IAAI,iBAAiBs6D,WACvBC,EAAaL,SACb1W,EAAOG,UAAUt5D,GAAG8zD,UAAUmc,EAAce,EAAQxX,OAAOpzB,UAC3D8pC,EAAaL,SACb1W,EAAOO,SAASC,eAAe,gCACvC,CACF,EAEA,iBAUA,YA0CA,qBAAOj4D,eACLmuE,EACAv4C,GAEA,GAAI6hC,EAAOG,UAAUuE,kBAAiE,IAA7C1E,EAAOG,UAAUuE,iBAAiB1yD,OAAc,CACvF,MAAMmtB,EAAO6gC,EAAOG,UAAUuE,iBAAiB,GAAG/E,IAC5Cr+C,EAAkB,GAExB,aADM41D,EAAsB/3C,EAAMu3C,EAAcp1D,EAAO6c,GAChD7c,CACT,CACA,MAAO,EACT,EAEA,4BAAiCzY,GAC/B,OAAO,IAAI+Y,SAAQ,CAAC4hB,EAASwB,MAC3B,cAAWn8B,EAAM,QAAQ,CAACyf,EAAKpF,KACzBoF,EACF0c,EAAO1c,GAEPkb,EAAQtgB,EACV,GACA,GAEN,2GC9JA,gBAEA,6BACE40D,EACA5O,EACAE,EACA2O,GAEA,MAAMC,EAAY5O,EAAQ6O,aAAa,EAAAhY,IAAI2E,SAASsE,EAAc,OAAO4O,SACnEI,EAAW9O,EAAQ6O,aAAa,EAAAhY,IAAI2E,SAASsE,EAAc,OAAO4O,UAClEK,EAAiB/O,EAAQ6O,aAC7B,EAAAhY,IAAI2E,SAASsE,EAAc,4BAEvBkP,EAAgBhP,EAAQ6O,aAAa,EAAAhY,IAAI2E,SAASsE,EAAc,yBAChEmP,EAAgBjP,EAAQ6O,aAAa,EAAAhY,IAAI2E,SAASsE,EAAc,yBAChEoP,EAAmBlP,EAAQ6O,aAAa/O,GAExCqP,EAqDR,WACE,IAAI9rB,EAAO,GACX,MAAM+rB,EAAW,iEACjB,IAAK,IAAIrhE,EAAI,EAAGA,EAAI,GAAIA,IACtBs1C,GAAQ+rB,EAAS7xC,OAAOnvB,KAAKy3C,MAAMz3C,KAAKihE,SAAWD,EAASxmE,SAE9D,OAAOy6C,CACT,CA5DgBisB,GAEd,MAAO,+XASetP,EAAQuP,kCACXvP,EAAQuP,2DACTvP,EAAQuP,mGAENvP,EAAQuP,wFACAJ,4HAERH,EAAcz5D,WAAWnE,QAAQ,OAAQ,gDAC7C09D,wPAKMC,0UAQAE,iNAQCE,iDACkB17D,KAAK5L,UAAUqnE,EAAiB35D,2BAC/DpY,OAAOuD,QAAQiuE,GAAW,CAAC,GAC1BhuE,KAAI,EAAEyW,EAAG5D,KACD,WAAW4D,SAAS3D,KAAK5L,UAAU2L,QAE3CxM,KAAK,qDAEGmoE,WAAeP,6CAGpC,syBCpEA,mBACA,UA8BA,UACA,SAGA,UAqBMY,EAAgB,mDAEhBC,EAAoB,8DAK1B,wCAEE,IAAIvkD,GAAM,IAAAwkD,aAAoB,EAAAC,8BAA+BH,GACzDtsB,GAAY,IAAAwsB,aAAqB,EAAAE,uCAAuC,GAC5E,MAAMnhB,GAAS,IAAAihB,aAAoB,EAAAG,kCAAmC,IAChEvkB,GAAwB,IAAAokB,aAC5B,EAAAG,kCAViC,0DAa7BvhB,GAAW,IAAAohB,aAAoB,EAAAI,gCA1Bf,cA2BhBpqB,GAAoB,IAAAgqB,aACxB,EAAAK,0CA1B6B,GA6BzBpqB,GAAoB,IAAA+pB,aACxB,EAAAM,0CA7B6B,IAgCzBlqB,GAAa,IAAA4pB,aAAoB,EAAAO,oCA/Bf,GAgClBlqB,GAAa,IAAA2pB,aAAoB,EAAAQ,oCA/Bf,IAgClBjqB,GAAa,IAAAypB,aAAoB,EAAAS,oCA/Bf,IAgClBjqB,GAAa,IAAAwpB,aAAoB,EAAAU,oCA/Bf,GAgClBjhB,GAAqB,IAAAugB,aACzB,EAAAW,4CAvC8B,MA6CjB,KAAX5hB,IACEvjC,IAAQskD,IACVtkD,EAAMukD,GAERvsB,GAAY,GAEd,MAAMiD,GAAiB,IAAAupB,aACrB,EAAAY,+CA5C8B,GA+C1BlJ,GAAY,IAAAsI,aAAqB,EAAAa,mCAAmC,GAEpEvkB,GAAe,IAAA0jB,aACnB,EAAAc,yCACA,IAAAvkB,uBAEIZ,GAAmB,IAAAqkB,aAAqB,EAAAe,8CAA8C,GACtFztB,GAAmB,IAAA0sB,aACvB,EAAAgB,4CACAxtB,EAnEgC,EACJ,IAoExB6F,GAAmB,IAAA2mB,aACvB,EAAAiB,+CACA,GAEIhoB,GAAiB,IAAA+mB,aAAqB,EAAAkB,4CAA4C,GAClF/pB,GAAe,IAAA6oB,aAAqB,EAAAmB,yCAAyC,GAI7EzmB,GAAqB,IAAAslB,aAAqB,EAAAoB,6BAA6B,GACvE/c,GAAc,IAAA2b,aAAoB,EAAAqB,wBAAyB,IAC3D/c,GAAkB,IAAA0b,aAAoB,EAAAsB,6BAA8B,IACpEld,GAAe,IAAA4b,aAAoB,EAAAuB,yBApEf,uDAuEpBzkB,GAAiB,IAAAkjB,aACrB,EAAAwB,mDArE0B,IAwEtBzkB,GAAgB,IAAAijB,aACpB,EAAAyB,kDAxEyB,GA2ErBhlB,GAAmB,IAAAujB,aACvB,EAAA0B,iDAEA,GAEI/nB,GAAyB,IAAAqmB,aAAoB,EAAA2B,sCAAuC,IACpF/nB,GAA2B,IAAAomB,aAAoB,EAAA4B,wCAAyC,IAC9F,MAAO,CACLpmD,MACAg4B,YACAuD,kBAAmBv7B,IAAQukD,EAC3BhhB,SACAnD,wBACAgD,WACA5I,oBACAC,oBACAG,aACAC,aACAE,aACAC,aACAiJ,qBACAhJ,iBACAihB,YACApb,eACAX,mBACArI,mBACA+F,mBACAJ,iBACA9B,eACAuD,qBACA2J,cACAC,kBACAF,eACAtH,iBACAC,gBACAN,mBACA9C,yBACAC,2BAEJ,EAEA,+CACE,MAAO,CACLioB,oBAAqBpyE,MAAO8yB,EAAU30B,IACpCs5D,EAAOG,UAAU8N,mBAAmB74C,OAAOiG,EAAU30B,GACvDiuD,WAAY,EAAAA,WACZ4K,aAAc,EAAAA,aACdP,WAAY,EAAAA,WACZrE,UAAW,EAAAA,UACX5tB,SAAU,EAAAA,SACVyyB,mBAAoB,EAAAA,mBAExB,kwBC5LA,mBACA,aACA,UAiBA,MAAayV,EACXvpE,YACSzB,EACAmW,EAAkB,EACjBw6D,EAAU,EAAAx/D,OAAOy/D,oBAAoB5wE,IAFtC,KAAAA,KAAAA,EACA,KAAAmW,MAAAA,EACC,KAAAw6D,QAAAA,CACP,CAEHzvE,MAAM2R,GACJlR,KAAK4Q,IAAI,WAAWM,IAAW,EACjC,CAEAR,KAAKQ,GACHlR,KAAK4Q,IAAI,UAAUM,IAAW,EAChC,CAEA6X,KAAK7X,GACHlR,KAAK4Q,IAAI,UAAUM,IAAW,EAChC,CAEAL,MAAMK,GACJlR,KAAK4Q,IAAI,WAAWM,IAAW,EACjC,CAEAN,IAAIM,EAAiBg+D,GACflvE,KAAKwU,OAAS06D,GAChBlvE,KAAKgvE,QAAQG,WAAWj+D,EAE5B,EA3BF,kBA8BA,mBAIEpR,YAAmB+V,EAAqBrB,EAAkB,EAAG8xC,GAA1C,KAAAzwC,KAAAA,EAAqB,KAAArB,MAAAA,EAClC8xC,IACFtmD,KAAKovE,IAAM,IAAI/F,EAAc/iB,EAAS9xC,GAE1C,CAEA66D,uBACE,MAAMz/C,EAAU3yB,EAAK2yB,QAAQ5vB,KAAK6V,MAClC5a,EAAGq0E,UAAU1/C,EAAS,CAAC2/C,WAAW,IAClCt0E,EAAGu0E,OAAOxvE,KAAK6V,KAAM,CAAC45D,OAAO,IAC7BzvE,KAAK0vE,eAAiBz0E,EAAG00E,SAAS3vE,KAAK6V,KAAM,KAC/C,CAEAtW,MAAMsH,EAAgBwmD,GACpBrtD,KAAK4Q,IAAI,UAAW/J,EAAQwmD,EAAS,EACvC,CAEA38C,KAAK7J,EAAgBwmD,GACnBrtD,KAAK4Q,IAAI,SAAU/J,EAAQwmD,EAAS,EACtC,CAEAtkC,KAAKliB,EAAgBwmD,GACnBrtD,KAAK4Q,IAAI,SAAU/J,EAAQwmD,EAAS,EACtC,CAEAx8C,MAAMhK,EAAgBwmD,GACpBrtD,KAAK4Q,IAAI,UAAW/J,EAAQwmD,EAAS,EACvC,CAEQz8C,IAAI2C,EAAa1M,EAAgBwmD,EAAc6hB,GACrD,GAAIlvE,KAAKwU,OAAS06D,EAAU,CACrBlvE,KAAK0vE,gBACR1vE,KAAKqvE,uBAEP,MAAMO,EAAY,GAAGr8D,KAAO1M,IAASoK,KAAK5L,UAAUgoD,EAAS,KAAM,OACnEpyD,EAAG40E,UAAU7vE,KAAK0vE,eAAiBE,GACnC5vE,KAAKovE,KAAKx+D,IAAIg/D,EAAWV,EAC3B,CACF,0GCzFF,gBAKA,MAAa9F,UAAwB,EAAA0G,OAArC,kCACU,KAAAC,SAAsB,EAehC,CAbEnyB,YAAY1sC,EAAiBoG,GAC3BtX,KAAK+vE,SAASjjE,SAAQ0wD,IACpBA,EAAQpxB,YAAY,CAACl7B,UAASoG,QAAM,GAExC,CAEAkmC,iBAAiBjyB,GACf,MAAMiyC,EAAUjyC,EAChBvrB,KAAK+vE,SAASpuE,KAAK67D,GACnBA,EAAQwS,qBAAqB14D,IAC3BtX,KAAK09C,iBAAiBpmC,EAAK,GAC1B,KACL,EAfF,u1BCLA,mBACA,UAEA,aACA,UAGM24D,EAAM,OA0LZ,SAASC,IACP,IAAI,QAAC74C,EAAO,SAAE5H,GAAY,EAAA0gD,kCAC1B,QAAS/b,EAAOG,UAAU8N,iBAAiBhrC,GAAS7kB,IAAIid,EAC1D,CAjLA,sBAME3vB,YAAYi+D,EAAgB1D,EAA6CmN,GALjE,KAAAlM,QAAkC,CAAC,EAMzCt7D,KAAK+9D,OAASA,EACd/9D,KAAKq6D,OAASA,EACdr6D,KAAKwnE,QAAUA,CACjB,CAEApL,WACE,OAAOp8D,KAAKs7D,QAAQ,gBACtB,CAEAxb,QACE,OAAO9/C,KAAKs7D,QAAQ,aACtB,CAEA8U,iBACE,OAAOpwE,KAAKs7D,QAAQ,uBACtB,CAEAiF,mBACE,OAAOvgE,KAAKs7D,QAAQ,oBACtB,CAEAqG,WACE,OAAO3hE,KAAKs7D,QAAQ,YACtB,CAEAsG,kBACE,OAAO5hE,KAAKs7D,QAAQ,oBACtB,CAEA4J,mBACE,OAAOllE,KAAKs7D,QAAQ,mBACtB,CAEAgD,0BACE,OAAOt+D,KAAKs7D,QAAQ,2BACtB,CAEAuJ,gBACE,OAAO7kE,KAAKs7D,QAAQ,iBACtB,CAKA+U,gBAAgBrN,GAAY,EAAOE,GAAe,GAChD,IAAI5H,EAAU3gE,OAAOmK,OAAO9E,KAAKs7D,SAUjC,OATAA,EAAUA,EAAQh3D,QAAOwG,GAAKA,EAAEwlE,aAAatlD,SAAS,YACjDg4C,IACH1H,EAAUA,EAAQh3D,QAAOwG,IAAMA,EAAEylE,gBAAgBvlD,SAAS,YAG1DswC,EADE4H,EACQ5H,EAAQh3D,QAAOwG,IAAMA,EAAEylE,gBAAgBvlD,SAAS,iBAEhDswC,EAAQh3D,QAAOwG,IAAMA,EAAEylE,gBAAgBvlD,SAAS,eAErDswC,CACT,CAKA6H,YAAYH,GAAY,EAAOE,GAAe,GAC5C,IAAI5H,EAAU3gE,OAAOmK,OAAO9E,KAAKs7D,SAUjC,OATAA,EAAUA,EAAQh3D,QAAOwG,GAAKA,EAAEwlE,aAAatlD,SAAS,UACjDg4C,IACH1H,EAAUA,EAAQh3D,QAAOwG,IAAMA,EAAEylE,gBAAgBvlD,SAAS,YAG1DswC,EADE4H,EACQ5H,EAAQh3D,QAAOwG,IAAMA,EAAEylE,gBAAgBvlD,SAAS,iBAEhDswC,EAAQh3D,QAAOwG,IAAMA,EAAEylE,gBAAgBvlD,SAAS,eAErDswC,CACT,CAEA3+D,WAAW6zE,EAAuBC,EAAkCC,EAA0B5N,GAC5F,MAAM6N,EAAO,EA9FQp9C,EA8FSi9C,EA9FQ,UAAK54C,QAAQrE,EAAM,KAAM,aAA3C,IAACA,EA+FrB,MAAMq9C,QAAqC9N,EAAS8N,+BAC9CH,GACJE,EAAKhvE,KAhGgB,CAAC4xB,GAAiB,UAAKqE,QAAQrE,EAAM,OAAQ,KAAM,WAgG9Ds9C,CAAmBJ,IAE/B,IAAK,MAAM5iC,KAAO8iC,EAChB3wE,KAAK+9D,OAAOh1C,KAAK,2BAA2B8kB,KAC5C7tC,KAAKs7D,QAAU,IAAIt7D,KAAKs7D,iBAAmBt7D,KAAK8wE,eAAejjC,EAAK+iC,IAChEF,GACF1wE,KAAK+wE,eAAeljC,EAAK+iC,EAG/B,CAMAI,eAAeC,EAAuB/N,GACpC,IAAI7a,EAAiBroD,KAAKs7D,QAAQ,mBAIlC,GAHI4H,IACF7a,EAASroD,KAAKs7D,QAAQ,kBAEpB2V,EAAcnjD,WAAW,KAAM,CACjC,MAAOi4B,GAAWkrB,EAAcvkE,MAAM,GAAG1Q,MAAM,KAC/CqsD,EAASroD,KAAKu7D,UAAUxV,EAAS,WAA8BsC,CACjE,CACA,OAAOA,CACT,CAEAkT,UAAUxV,EAAiBj4C,GACzB,OAAOnT,OAAOmK,OAAO9E,KAAKs7D,SAASjuD,MACjCvC,GAAKA,EAAEi7C,UAAYA,GAAWj7C,EAAEwlE,aAAatlD,SAASld,IAE1D,CAEQnR,qBAAqBkxC,EAAa+iC,GACxC,UAAY5wE,KAAKwnE,QAAQ0J,mBAAmBrjC,GAC1C,MAAO,CAAC,EAGV,MAAMytB,EAAkC,CAAC,EACnCp9D,QAAgB,IAAA5C,SAAQuyC,GAC9B,IAAK,MAAMikB,KAAK5zD,EAAS,CACvB,GAAI,UAAK4X,QAAQg8C,KAAOme,EACtB,SAEF,MAAM5xE,EAAO,UAAK69B,SAAS41B,EAAGme,GACxB5uC,QAAgB,IAAAF,UAAS,UAAK38B,KAAKqpC,EAAKikB,GAAI,QAC5Cqf,QAAanxE,KAAKq6D,OAAO70D,MAAM67B,GAGjC8vC,EAAKC,aAAaC,UAAYnB,KAExBiB,EAAKC,aAAaE,cAAgBV,IAI5CtV,EAAQj9D,GAAQ,CACdA,OACA8yE,OACA9vC,UACA0kB,QAASorB,EAAKC,aAAarrB,SAAW,GACtCgM,YAAaof,EAAKC,aAAarf,aAAe,GAC9Cue,aAAca,EAAKC,aAAad,cAAgB,GAChDvoB,OAAQopB,EAAKC,aAAarpB,QAAU,OACpC6E,cAAeukB,EAAKC,aAAaxkB,eAAiB,GAClD2jB,gBAAiBY,EAAKC,aAAab,iBAAmB,IAE1D,CACA,OAAOjV,CACT,CAEQyV,eAAeljC,EAAa+iC,GAClC5wE,KAAKwnE,QAAQ+J,MAAM1jC,EAAK,IAAIoiC,KAAOtzE,UACjCqD,KAAK+9D,OAAOh1C,KAAK,6BAA6B8kB,KAC9C7tC,KAAKs7D,QAAU,IAAIt7D,KAAKs7D,iBAAmBt7D,KAAK8wE,eAAejjC,EAAK+iC,GAA+B,GAEvG,CAKAvS,QAAQhW,EAAgB1tC,GACtB,OAAO3a,KAAKq6D,OAAOgE,QAAQhW,EAAOhnB,QAAS1mB,EAC7C,ozBC7LF,mBAMA,UAEA,+BAAoCquC,GAClC,MAAMn4B,EAAW,IAAI2gD,EAAexoB,GACpCA,EAAIgU,IAAI+C,cAAcp+D,KAAKkvB,GAC3Bm4B,EAAIsS,QAAUzqC,CAChB,EAGa,EAAA03B,mBAA6B,CACxClqD,KAAM,cACN8yE,KAAM,CACJM,kBAAmB,GAErBpwC,QAAS,GACT0kB,QAAS,IACTgM,YAAa,eACbue,aAAc,GACdvoB,OAAQ,OACR6E,cAAe,GACf2jB,gBAAiB,IAGN,EAAA7nB,gBAA0B,CACrCrqD,KAAM,WACN8yE,KAAM,CACJM,kBAAmB,GAErBpwC,QAAS,GACT0kB,QAAS,IACTgM,YAAa,sBACbue,aAAc,GACdvoB,OAAQ,OACR6E,cAAe,GACf2jB,gBAAiB,IAQnB,MAAaiB,EAIX1xE,YAAoBkpD,GAAA,KAAAA,IAAAA,EAHZ,KAAA0oB,YAAmC,GAIzC,IAAIhjB,EAAO1uD,KACX,MAAMwnE,EAAU,CACd7qE,yBAAyBM,GACvB,IAGE,aADMm3D,EAAOG,UAAUt5D,GAAGE,KAAKi5D,EAAOC,IAAIx+C,KAAK5Y,KACxC,CACT,CAAE,MACA,OAAO,CACT,CACF,EAEAs0E,MAAMt0E,EAAc8I,EAAiB4rE,GACnCjjB,EAAKgjB,YAAY/vE,KACfyyD,EAAOG,UACJkT,wBAAwB,IAAIrT,EAAOwd,gBAAgB30E,EAAM8I,IACzD2hE,aAAY/qE,UACXg1E,GAAU,IAGlB,GAEF3xE,KAAK6xE,QAAU,IAAI,EAAAC,cAAc9oB,EAAI+U,OAAQ/U,EAAIqR,OAAQmN,GACzD,IACExnE,KAAK6xE,QAAQn/D,KACX1S,KAAKgpD,IAAIgU,IAAIM,aAAarE,OAC1B7E,EAAOG,UAAUuE,mBAAmB,GAAG/E,IAAIkF,QAC3C,EACAj5D,KAAKgpD,IAAI8Z,SAEb,CAAE,MAAO30D,GACPnO,KAAKgpD,IAAI+U,OAAOx+D,MAAM,sCAAsC4O,IAC9D,CACF,CAEAozD,UACE,IAAK,MAAMwQ,KAAK/xE,KAAK0xE,YACnBK,EAAExQ,SAEN,CAEAhG,UAAUxV,EAAiBj4C,GACzB,OAAO9N,KAAK6xE,QAAQtW,UAAUxV,EAASj4C,EACzC,CAEAo3D,mBACE,OAAOllE,KAAK6xE,QAAQ3M,kBACtB,CAEA5G,0BACE,OAAOt+D,KAAK6xE,QAAQvT,yBACtB,CAEAlC,WACE,OAAOp8D,KAAK6xE,QAAQzV,UACtB,CAEAtc,QACE,OAAO9/C,KAAK6xE,QAAQ/xB,OACtB,CAEAswB,iBACE,OAAOpwE,KAAK6xE,QAAQzB,gBACtB,CAEA7P,mBACE,OAAOvgE,KAAK6xE,QAAQtR,kBACtB,CAEAoB,WACE,OAAO3hE,KAAK6xE,QAAQlQ,UACtB,CAEAC,kBACE,OAAO5hE,KAAK6xE,QAAQjQ,iBACtB,CAEAyO,gBAAgBrN,GAAY,EAAOE,GAAe,GAChD,OAAOljE,KAAK6xE,QAAQxB,gBAAgBrN,EAAWE,EACjD,CAEAC,YAAYH,GAAY,EAAOE,GAAe,GAC5C,OAAOljE,KAAK6xE,QAAQ1O,YAAYH,EAAWE,EAC7C,CAEA2B,gBACE,OAAO7kE,KAAK6xE,QAAQhN,eACtB,CAMAmM,eAAetjD,EAA0Cw1C,GACvD,OAAOljE,KAAK6xE,QAAQb,eAAetjD,EAAQ26B,OAAQ6a,EACrD,CAKA7E,QAAQhW,EAAgB1tC,GACtB,OAAO3a,KAAK6xE,QAAQxT,QAAQhW,EAAQ1tC,EACtC,EA3GF,s9BChDA,mBACA,aACA,UASA,UAEMq3D,EAAmBC,IACZ,EAAAnT,qBAAuB,oBAAoBkT,IAExD,MAAME,GAAwB,EAC9B,IAAIC,GAAuB,IAAAjF,aAAqB,EAAAkF,yCAAyC,GAGzF,MAAMC,GAAuB,IAAAnF,aAAoB,EAAAoF,mCAAoC,IAC/EC,GAAsB,IAAArF,aAAoB,EAAAsF,kCAAmC,GAEnF,IAAIC,EAAere,EAAO5kD,OAAOy/D,oBAAoB,gCAyBrD,SAAgBxlB,EAAmBipB,GACjC,IAAI,QAACr7C,EAAO,SAAE5H,GAAY,EAAA8yC,2BAC1B,QAASnO,EAAOG,UAAU8N,iBAAiBhrC,EAASq7C,GAAOlgE,IAAIid,EACjE,CAEA,SAAgBwiD,IACd,MAAM,QAAC56C,EAAO,SAAE5H,GAAY,EAAAkjD,2BAE5B,OAAOve,EAAOG,UAAU8N,iBAAiBhrC,GAAS7kB,IAAIid,IAAa,IACrE,CA+CO9yB,eAAeotD,EACpBf,EACAX,EACAuqB,EACAC,EACAC,GAEA,IAAIzoB,EACA0oB,EAAgC,GAkBpC,OAjBIH,IACFG,QAoHJp2E,eACEg0D,EACAkiB,EACAC,GAEA,IAAIv/C,EAAOy/C,MAAkC,IAAM,GAGnD,IAAKz/C,EACH,MAAO,GAGT,IACE,IAAI,QAACqlB,SAAkB,aAAM,GAAG,EAAAkmB,8BAA+B,CAC7Dl2C,OAAQ,OACRjC,QAAS,CACP,eAAgB,oBAElBgB,KAAM1W,KAAK5L,UAAU,CACnB4tE,MAAO,CAAC1/C,GACRo9B,QACAkiB,YAAaA,GAAeR,EAC5BS,WAAYA,GAAcP,MAE3Bx4C,MAAK3qB,GAAKA,EAAE+8C,SACf,OAAOvT,CACT,CAAE,MAAOzqC,GAEP,OADAskE,EAAatD,WAAW,yCAA2CpwC,OAAO5wB,IACnE,EACT,CACF,CAlJ0B+kE,CAA0B7qB,EAAQwqB,EAAaC,GACrEzoB,EAAmB0oB,EAAc50E,KAAI,EAAEosD,UAAS4oB,YAAWC,gBACzDC,EAAc9oB,EAAS,CACrB4oB,YACAG,QAAS,QAAQF,2BAYhB,CACL/oB,iBAAkBA,EAClBF,4BAqIJxtD,eAAgC+9D,GAC9B,IAAI/9B,EAAyB,CAACwtB,qBAAsB,IAEpD,IAAK,IAAI6Z,KAAU5P,EAAO5kD,OAAOy0D,mBAAoB,CACnD,GAAoC,SAAhCD,EAAOn0D,SAASkkD,KAAK4O,OAEvB,SAGF,SAAUjI,EAAiBhB,UAAUC,WAAWqK,EAAOn0D,SAASkkD,KAC9D,SAGF,IAAInyB,EAAWwyB,EAAOG,UAAUgf,eAAevP,EAAOn0D,SAAS0xB,UAC3DiyC,EAAoB,6DACtB5xC,GAAY,oBAEd,GAAKoiC,EAAOjK,UAAU9oC,SASf,GAAI+yC,EAAOyP,cAAcrtE,OAAQ,CAEtC,IAAIkB,EAAQ08D,EAAOyP,cAAc,GACjC92C,EAAQwtB,qBAAqBxoD,KAAK,CAChCy7C,SAAUxb,EACV2oB,QAASyZ,EAAOn0D,SAASiqD,QAAQxyD,GACjC6rE,UAAW7rE,EAAM6T,MAAMqmB,KAAO,EAC9BgyC,qBAEJ,MAlB+B,CAE7B,IAAIlsE,EAAQ08D,EAAOjK,UACnBp9B,EAAQwtB,qBAAqBxoD,KAAK,CAChCy7C,SAAUxb,EACV2oB,QAASyZ,EAAOn0D,SAASiqD,QAAQxyD,GACjC6rE,UAAW7rE,EAAM6T,MAAMqmB,KAAO,EAC9BgyC,qBAEJ,CAUF,CAEA,OAAO72C,CACT,CArLsC+2C,CAAiB1qB,IAAMmB,qBAAqBhsD,KAC9E,EAAEosD,UAAS4oB,YAAWK,uBACpBH,EAAc9oB,EAAS,CACrB4oB,YACAG,QAASE,MAMbT,cAAeA,EAEnB,CA4CAp2E,eAAeg3E,EAA2BpgD,GACxC,UACQ,aAAM,GAAG,EAAAurC,sCAAuC,CACpDl2C,OAAQ,OACRjC,QAAS,CACP,eAAgB,oBAElBgB,KAAM1W,KAAK5L,UAAU,CAACkuB,WACrBwG,MAAK3qB,GAAKA,EAAE+8C,QACjB,CAAE,MAAOh+C,GACPskE,EAAatD,WAAW,8BAA8B57C,IACxD,CACF,CAsBA52B,eAAei3E,EAA4Bl3B,GACzC,UACQ,aAAM,GAAG,EAAAoiB,qCAAsC,CACnDl2C,OAAQ,OACRjC,QAAS,CACP,eAAgB,oBAElBgB,KAAM1W,KAAK5L,UAAU,CAACukB,QAAQ,EAAM2J,KAAMmpB,MACzC3iB,MAAK3qB,GAAKA,EAAE+8C,QACjB,CAAE,MAAOh+C,GACPskE,EAAatD,WAAW,oCAC1B,CACF,CAoFA,SAASkE,EACP9oB,GACA,UAAC4oB,EAAS,QAAEG,GAAmD,CAAC,GAEhE,MAAMO,EAAa1B,EACf,CAAC3wC,EAAc4T,KACZ+9B,EAAY,QAAQA,EAAY/9B,KAAO0+B,OAAO,GAAI,KAAO,IAAM,OAAStyC,EAC1EA,GAAiBA,EAYtB,OAXA+oB,EAAUA,EACPvuD,MAAM,MACN0Q,MAAM,GACNvO,IAAI01E,GACJrvE,KAAK,MACJ0tE,IACF3nB,EAAU,QAAUA,EAAQ37C,QAAQ,KAAM,OAAS,SAEjD0kE,IACF/oB,EAAU+oB,EAAU,MAAQ/oB,GAEvBA,CACT,CA+CA,SAASyoB,IAEP,OAAO5e,EAAOG,UAAUuE,kBAAkB36D,KAAI4zE,GAAKA,EAAEhe,IAAIkF,UAAW,EACtE,CA3UA,uBAKA,oBASA,4BAAiCt8B,GAC/B,IAAIo3C,EAAgC,KAClC,IAAK,IAAIlb,KAAMzE,EAAOG,UAAUuE,kBAAoB,GAC5B,SAAlBD,EAAG9E,IAAI4O,SAINlZ,EAAmBoP,EAAG9E,KAK3B4f,EAA2B9a,EAAG9E,IAAIkF,QAJhC2a,EAA4B/a,EAAG9E,IAAIkF,QAKvC,EAGF8a,IAEAp3C,EAAQojC,cAAcp+D,KACpByyD,EAAOG,UAAUyf,0BAAyB7lE,IACpCA,EAAE8lE,qBAAqB,EAAA1R,2BAA2B2R,SACpDH,IAEE5lE,EAAE8lE,qBAAqB,EAAA7B,wCAAwC8B,UACjE/B,GAAuB,IAAAjF,aAAY,EAAAkF,yCAAyC,GAC9E,KAIJz1C,EAAQojC,cAAcp+D,KACpByyD,EAAOG,UAAU4f,6BAA4B,KAC3CJ,GAA+B,IAGrC,EAQA,qBAqCA,2BAAOp3E,eACLqsD,EACAX,EACAuqB,EACAxN,GAEA,MAAMtb,QAA0BC,EAAiBf,EAAKX,EAAQuqB,GACxDxW,QAAiBpT,EAAIqR,OAAOC,QAAQtR,EAAIsS,QAAQc,WAAW/6B,QAAS,CAAC,GACrEye,EAAQslB,QACJpc,EAAIqR,OAAOC,QAAQtR,EAAIsS,QAAQ8U,iBAAiB/uC,QAAS,CAC7DgnB,OAAQA,EACRgC,iBAAkBP,EAAkBO,kBAAkB7lD,KAAK,QAC3D2lD,qBAAsBL,EAAkBK,6BAEpCnB,EAAIqR,OAAOC,QAAQtR,EAAIsS,QAAQxb,QAAQze,QAAS,CACpDgpB,iBAAkBP,EAAkBO,kBAAkB7lD,KAAK,QAC3D2lD,qBAAsBL,EAAkBK,uBAG9C,GADAsoB,EAAatD,WAAW/S,EAAS/T,QAC7BuqB,EAAc,CAChB,MAAMG,EAAgBjpB,EAAkBipB,cACpCA,EAAc3sE,OAChBqsE,EAAatD,WACX,2CAA2C4D,EACxC50E,KAAI,EAAEi2E,WAAUhB,gBAAgB,MAAMgB,EAASC,QAAQ,OAAOjB,MAC9D5uE,KAAK,SAGViuE,EAAatD,WAAW,uBAE5B,CAEA,MAAO,CAAC/S,SAAUA,EAAS/T,OAAQvI,MAAOA,EAAMuI,OAClD,EAmLA,kBAAO1rD,iBACL,IAAI42B,EAAOy/C,MAAkC,IAAM,GAGnD,IAAKz/C,EACH,MAAO,GAGT,IACE,IAAI,MAAC7d,SAAgB,aAAM,GAAG,EAAAopD,qCAAsC,CAClEl2C,OAAQ,OACRjC,QAAS,CACP,eAAgB,oBAElBgB,KAAM1W,KAAK5L,UAAU,CAACkuB,WACrBwG,MAAK3qB,GAAKA,EAAE+8C,SACf,OAAOz2C,CACT,CAAE,MAAOvH,GAEP,OADAskE,EAAatD,WAAW,yCAA2CpwC,OAAO5wB,IACnE,EACT,CACF,u1BCpXA,mBAGA,UACA,UACA,UAKA,UA6BMspD,EAAqBrD,EAAOh/C,WAAWsiD,aAAa,oBAE1D,yBAA8B1O,GAC5B,MAAM6R,EAAY,IAAIyZ,EAA0BtrB,GAC1CurB,EAAW,IAAIC,EAAyBxrB,GAC9CA,EAAIgU,IAAI+C,cAAcp+D,KACpByyD,EAAOqgB,YAAYC,yCACjB,IAAIC,EAAiB3rB,EAAK6R,EAAW0Z,IAG3C,EAEA,MAAaI,EACX70E,YACUkpD,EACA6R,EACA0Z,GAFA,KAAAvrB,IAAAA,EACA,KAAA6R,UAAAA,EACA,KAAA0Z,SAAAA,CACP,CACH53E,sCACEggC,EACAthB,GAEA,IACE,MAAMu5D,QAAuB50E,KAAKgpD,IAAI0Q,UAAUC,WAAWh9B,EAAQ9sB,SAASkkD,KACxE/zD,KAAKgpD,IAAI5T,MACXp1C,KAAKgpD,IAAI5T,IAAIv6C,QAAQg6E,mBACrB70E,KAAKgpD,IAAI5T,IAAIv6C,QACVqnE,yBACAnoC,MAAM9b,IACAA,IACHje,KAAK66D,UAAU2E,OAAO,yBACtBpL,EAAOO,SAASC,eAAe,iBACjC,IAED56B,OAAO7rB,GAAWnO,KAAKgpD,IAAI+U,OAAOx+D,MAAM4O,MAE7C,IAAI+0D,IAAiBvmC,EAAQ9sB,SAASiqD,QAAQn9B,EAAQo9B,WAClDgH,EAAc,uBACR/gE,KAAKgpD,IAAI8Z,SAASC,2BAC1BhC,EAAc,sCAEhB,IAAI7vD,EAAUgyD,EACV,sCACA,kCACA0R,IACF1jE,EACE,6JAEF6vD,EAAc,iBACdmC,GAAe,GAGjB,MAAMF,GAAY,IAAAC,mBAAkBtmC,EAAQo9B,WAE5C,IAAI+a,EACAC,EAUJ,aATU/0E,KAAKgpD,IAAI8Z,SAASC,2BAC1B+R,EAAgB90E,KAAKgpD,IAAIsS,SAAS+U,gBAAgBrN,EAAWE,GAAc/kE,KAAI2M,IAAK,CAClFi7C,QAASj7C,EAAEi7C,QACXivB,OAAQlqE,EAAEinD,gBAGZgjB,EAAmB,iBADOD,EAAc32E,KAAIsQ,GAAKA,EAAEs3C,UAASvhD,KAAK,QAGnExE,KAAK66D,UAAU2E,OAAO,gBAA+BuV,GAC9C,CACLp4C,UACAokC,cACA7vD,UACA4jE,gBACAF,iBACA70B,QAAS,GAEb,CAAE,MAAO5xC,GAEP,MADAnO,KAAK66D,UAAU2E,OAAO,iBAAgC,GAAGrxD,KACnDA,CACR,CACF,CACAxR,uCACEs4E,EACAvnD,EACAwnD,EACA75D,GAEA,IAEE,IAAKrb,KAAKgpD,IAAI5T,YAAep1C,KAAKgpD,IAAI5T,IAAIv6C,QAAQqnE,yBAChD,MAAO,CACLiT,MAAO,IAIX,MAAMjS,IAAiB+R,EAAQt4C,QAAQ9sB,SAASiqD,QAAQpsC,EAAQqsC,WAC1D1R,EAASroD,KAAKgpD,IAAIsS,QAAQ0V,eAAetjD,EAASw1C,GAExD,IAAIhyD,EADqBm3C,EAAOtC,SAAWr4B,EAAQ26B,OAAOv6B,WAAW,OAGnEmnD,EAAQ7sB,aAAeC,EAAOtC,QAC9B70C,EAAU,gBAAgBm3C,EAAOtC,WAEnC/lD,KAAK66D,UAAU2E,OAAO,kBAAiCtuD,GAEjC,SAAlBm3C,EAAON,SACTqM,EAAOO,SAASC,eAAe,iBAC1BqgB,EAAQG,aACX,IAAA9U,eAActgE,KAAKgpD,IAAIrL,SAEzB,IAAA03B,kCAAiCr1E,KAAKgpD,MAGxC,MAAMruC,EAAS,CACTs/C,sBACF,OAAO7F,EAAO5kD,OAAOiqD,kBAAkB5pD,SAASqqD,YAAc,EAChE,EACIob,mBACF,OAAIL,EAAQL,eACH,GAEFxgB,EAAO5kD,OAAOiqD,kBAAkB5pD,SAAS0xB,UAAY,EAC9D,EACIg0C,sBACF,OAAIN,EAAQL,eACH,GAEFK,EAAQt4C,QAAQ9sB,SAASiqD,SAClC,EACIF,mBACF,OAAIqb,EAAQL,eACH,GAEFK,EAAQt4C,QAAQ9sB,SAASiqD,QAAQpsC,EAAQk7C,WAClD,EACIpN,aACF,OAAIyZ,EAAQL,eACH,IAEF,IAAAY,cAAa9nD,EACtB,EACI26B,aACF,MAAOtC,EAAS4K,GA8O1B,SAAsBtI,GACpB,GAAIA,EAAOv6B,WAAW,KAAM,CAC1B,MAAOi4B,EAAS4K,GAAStI,EAAO37C,MAAM,GAAG1Q,MAAM,UAC/C,MAAO,CAAC+pD,EAAS4K,EACnB,CACA,MAAO,CAAC,GAAItI,EACd,CApPmC+S,CAAa1tC,EAAQ26B,QAC9C,OAAItC,EACK4K,EAEFjjC,EAAQ26B,MACjB,EACI8R,kBACF,OAAO/F,EAAO5kD,OAAOiqD,iBAAkBM,UAAU2B,OAAOl6B,KAAO,CACjE,GAEItjB,QAAiBle,KAAKgpD,IAAIsS,QAAQ+C,QAAQhW,EAAQ1tC,GAClD86D,EAAuBv3D,EAASsgD,aAAatd,WAC7Cw0B,EAAcD,IAAuB,GAC3C,GAAIC,GAAa5M,YAAa,CAC5B,MAAMA,EAAc4M,EAAY5M,YAIhC,MAAO,CACL9rB,SAAU,IAAIoX,EAAOuhB,eACnB,mCAAmC7M,EAAY,GAAG9hE,SAGxD,CACA,IAAK0uE,GAAa70B,KAEhB,OADA7gD,KAAK66D,UAAU2E,OAAO,uBACf,CAACxiB,SAAU,IAAIoX,EAAOuhB,eAAe,qCAG9C,GAAsB,SAAlBttB,EAAON,OAA8B,EAEvC,IAAA6tB,sBAAqB51E,KAAKgpD,KAC1B,MAAMhC,EAA+B,CACnC,CACEpF,QAAS,OACT4I,eAAgB,IAAAC,sBAChB9iC,KAAM+F,EAAQ26B,QAEhB,CACEzG,QAAS,KACTj6B,KAAM+tD,EAAYlM,UAMtB,OAHA,IAAAqM,gBAAe71E,KAAKgpD,IAAIrL,OAAQqJ,SAC1B,IAAA2V,eAAc38D,KAAKgpD,IAAIsS,QAASt7D,KAAKgpD,IAAIrL,QAC/Cs3B,EAAQG,YAAa,EACd,CACLD,MAAO,GAEX,CAEAF,EAAQl1B,QAAQjuC,QAAQ4jE,GACxB,MAAMI,EAAgBC,EAAsBL,EAAY70B,MASxD,GARA7gD,KAAKu0E,SAAS/U,OAAO,kBAAD,sBAIlB,EACAkW,EAAYj0B,cAGTq0B,EACH,MAAO,CACLX,MAAO,IAIX,IACE1d,GAAoB58D,QAAQ0pE,gBAAgB,EAAGuR,EAAc1vE,OAC/D,CAAE,MAAO+H,GACP8B,QAAQW,IAAI,gDACd,CAEA,MAAMszD,QAqJZvnE,eAA6BonE,EAAuB7qD,EAAcghD,GAChE,IAAIgK,EAAU,GACd,GAAIH,GAAaA,EAAU39D,OAAS,EAAG,CACrC,MAAMqxD,EAAqBrD,EAAOh/C,WAAWsiD,aAAa,2BACtBD,GAAoB58D,QAAQspE,iBAC9DjrD,EACAghD,EACA6J,KAEUj3D,SAAQs3D,IAClBF,GAAWE,CAAU,GAEzB,CACA,OAAOF,CACT,CAnK4B8R,CACpBN,EAAY3R,UACZ+R,EACAn7D,EAAOs/C,iBAGT,IAAI3yD,EAAQomB,EAAQk7C,WAOpB,OANIqM,EAAQL,iBACVttE,EAAQ,IAAI8sD,EAAOyU,MACjB,IAAIzU,EAAO6hB,SAAS3uE,EAAM8T,IAAIomB,KAAO,EAAG,GACxC,IAAI4yB,EAAO6hB,SAAS3uE,EAAM8T,IAAIomB,KAAO,EAAG,KAGrC,CACL2zC,MAAO,CACL,CACEe,QAAShS,EAAU4R,EACnBxuE,UAIR,CAAE,MAAO6G,GAGP,MAFAnO,KAAK66D,UAAU2E,OAAO,iBAAgC,GAAGrxD,KACzDnO,KAAKgpD,IAAI+U,OAAOx+D,MAAM,qCAAqC4O,KACrDlS,MAAM,8CACd,CACF,CACAk6E,wCACElB,EACA/2D,EACAgiD,GAEA,IAAInY,EAGA72C,EAFA4I,EAAQ,UACRs8D,EAAY,UAKhB,OAHInB,EAAQ7sB,eACVl3C,EAAU,gBAAgB+jE,EAAQ7sB,gBAE5B8X,GACN,KAAK9L,EAAOiiB,sCAAsCC,QAChDvuB,EAAS,oBACTjuC,EAAQ,WACRs8D,EAAY,WACZ,MACF,KAAKhiB,EAAOiiB,sCAAsCE,UAChDxuB,EAAS,sBACTjuC,EAAQ,WACRs8D,EAAY,WACZ,MACF,KAAKhiB,EAAOiiB,sCAAsCG,OAChDzuB,EAAS,gBACTjuC,EAAQ,UACRs8D,EAAY,WACZp2E,KAAKgpD,IAAI5T,KAAKv6C,QAAQ47E,oBACtB,MACF,KAAKriB,EAAOiiB,sCAAsCK,SAChD3uB,EAAS,kBACTjuC,EAAQ,WACRs8D,EAAY,WACZp2E,KAAKgpD,IAAI5T,KAAKv6C,QAAQ47E,oBAGtB1uB,GACF/nD,KAAK66D,UAAU2E,OAAOzX,EAAQ72C,GAEhC,MAAMuwC,EAAcwzB,EAAQl1B,QAAQ,IAAI0B,YACpCsG,GAAUquB,GAAa30B,GACzBzhD,KAAKu0E,SAAS/U,OAAOzX,EAAQjuC,EAAOs8D,EAAW,EAAG30B,EAEtD,EA9QF,qBAyRA,MAAa6yB,EACXx0E,YAAoBkpD,GAAA,KAAAA,IAAAA,CAAwB,CAC5CrsD,aAAamd,EAAwB5I,GACnClR,KAAKgpD,IAAI+U,OAAOh1C,KAAK,sBAAsBjP,KAAS5I,KACpD,UACQlR,KAAKgpD,IAAI5T,KAAKv6C,QAAQigE,kBAAkB,EAAA/C,SAAUj+C,EAAO5I,GACjE,CAAE,MAAO/C,GACPnO,KAAKgpD,IAAI+U,OAAOx+D,MAAM,4BAA8B4O,EACtD,CACF,EATF,8BAYA,MAAaqmE,EACX10E,YAAoBkpD,GAAA,KAAAA,IAAAA,CAAwB,CAC5CrsD,aACEorD,EACAjuC,EACAs8D,EACAO,EACAl1B,GAEAzhD,KAAKgpD,IAAI+U,OAAOh1C,KAAK,qBAAuBg/B,EAAS,IAAMjuC,EAAQ,IAAMs8D,GACzE,IACEp2E,KAAKgpD,IAAI5T,KAAKv6C,QAAQ+7E,4BACpB7uB,EACAjuC,EACAs8D,EACAO,EACAl1B,EAEJ,CAAE,MAAOtzC,GACPnO,KAAKgpD,IAAI+U,OAAOx+D,MAAM,2BAA6B4O,EACrD,CACF,EAGF,SAAgB4nE,EAAsBl1B,GACpC,IAAIluC,EAAY,MACZkkE,EAAuBh2B,EAAK9zC,QAAQ4F,GACxC,IAA8B,IAA1BkkE,EAA6B,CAE/B,GADAA,EAAuBh2B,EAAK9zC,QAAQ,MACN,IAA1B8pE,EAEF,OAAOh2B,EAETluC,EAAY,GACd,CAEA,MAAMmkE,EAAqBj2B,EAAKxL,YAAY1iC,GAE5C,GAAImkE,IAAuBD,EAAsB,CAC/C,MAAO17D,EAAOC,GAAOylC,EAAK7kD,MAAM2W,GAChC,OAAOwI,EAAM/U,OAASgV,EAAIhV,OAAS+U,EAAQC,CAC7C,CAGA,GADoBylC,EAAK7kD,MAAM,MAAMoK,OAAS,GAC3By6C,EAAK/yB,WAAWnb,IAAckuC,EAAKjhD,SAAS,KAAO+S,GAAY,CAChF,MAAMokE,EAAal2B,EAAK9zC,QAAQ,MAChC,OAAO8zC,EAAKn0C,MAAMqqE,EAAa,EAAGD,EACpC,CAEA,IAAI59D,EAAO2nC,EAAKn0C,MAAMmqE,EAAuBlkE,EAAUvM,OAAQ0wE,GAI/D,OAHK59D,EAAKtZ,SAAS,QACjBsZ,GAAc,MAETA,CACT,CAtDA,6BAwBA,09BClXA,mBACA,aACA,UAIA,UACA,SAqGA,MAAa89D,EACXl3E,YAAoBm3E,GAAA,KAAAA,mBAAAA,CAAwD,CAE5Enc,kBAAkBhhD,EAAsB5I,GACtC,IACElR,KAAKi3E,oBAAoBp8E,QAAQigE,kBAAkB,EAAA/C,SAAUj+C,EAAM/G,WAAY7B,EACjF,CAAE,MAAO/C,GACPulB,EAAI0xB,YAAYj3C,EAClB,CACF,CAEA+oE,8BAA8Bp9D,EAAsBuzC,GAClDrtD,KAAK86D,kBAAkBhhD,EAAO7I,KAAK5L,UAAUgoD,GAC/C,CAEA8pB,wBACEr9D,EACAs8D,EACAgB,EACAC,EACA51B,GAEA,IACEzhD,KAAKi3E,oBAAoBp8E,QAAQs8E,wBAC/Br9D,EACAs8D,EACAgB,EACAC,EACA51B,EAEJ,CAAE,MAAOtzC,GACPulB,EAAI0xB,YAAYj3C,EAClB,CACF,EAjCF,oBAqCA,qCAA0C66C,GACxC,EAAA6R,UAAY,IAAImc,EAAgB,EAAAvf,oBAEhCzO,EAAIgU,IAAI+C,cAAcp+D,KACpByyD,EAAOG,UAAUyf,0BAAyBl6D,IAS9C,IAAwCykC,EAR9BzkC,EAAMm6D,qBAAqB,EAAA1R,2BAA2B2R,UAQxB31B,GAPjB,IAAAkL,sBAAuB,UAAqB,WAQjE,EAAAoR,WAAWC,kBAAkB,+BAA8Cvc,GANvE,IAGN,EAMA,oBAAyBkD,GACvB,EAAAoZ,WAAWqc,8BAA8B,kBAA+B,CACtEz1B,eAEJ,EAEA,0BAA+BA,EAAiCliD,EAAa9D,WAC3E,EAAAo/D,WAAWqc,8BAA8B,wBAAsC,CAC7Ez1B,cACAliD,SAEJ,EAIA,oCACEg/C,EACAkD,EACAzB,GAEA,EAAA6a,WAAWqc,8BAA8B34B,EAAQ,CAACkD,cAAapjD,KAAM2hD,EAAc3hD,MACrF,EAEA,kCACEojD,EACAsG,EACA/H,GAEA,EAAA6a,WAAWqc,8BAA8B,gCAA+C,CACtFz1B,cACApjD,KAAM2hD,EAAc3hD,KACpB0pD,UAEJ,EAEA,6BAAkCtG,EAAiCzB,GACjE,EAAA6a,WAAWqc,8BAA8B,6BAA2C,CAClFz1B,cACApjD,KAAM2hD,EAAc3hD,MAExB,EAEA,6BACEkgD,EACA+4B,EACA1b,GAEA,MAAM,aAACxT,EAAY,UAAE2U,EAAS,YAAEtb,EAAW,QAAE0J,GAAWmsB,EAElDnQ,EAAU,CACdj2D,QAASk3C,EAAe,gBAAgBA,SAAiB3sD,EACzDshE,YACA5R,UACAyQ,oBACAna,eAGF,EAAAoZ,WAAWqc,8BAA8B34B,EAAQ4oB,GACjD,EAAAtM,WAAWsc,wBACT54B,EACW,oBAAXA,EACI,WACA,gBACJ9iD,EACA0rE,EAAQj2D,QACRuwC,EAEJ,EAEA,8BAAmC/E,GACjC,EAAAme,WAAWC,kBAAkB,sBAAoCpe,EACnE,EAEA,+BACEA,EACAgjB,EACAC,GAEA,EAAA9E,WAAWC,kBAAkB,uBAE3B7pD,KAAK5L,UAAU,CAACq3C,cAAagjB,gBAAeC,cAEhD,+vBCpPA,mBACA,aACA,aAGA,mCAAwC3W,GACtC,IAAKgU,IAAKrgC,EAAO,OAAEghB,GAAUqL,EAEzBuuB,EAAe,KACjB,MAAMC,EACJpjB,EAAOG,UAAU8N,iBAAiB,aAAa7vD,IAAI,eAAiB,GAChEilE,EAAWC,EAAYF,GACxBC,EAAe,OAClBA,EAAe,KAAID,GAErB,MAAMG,EACJvjB,EAAOG,UAAU8N,iBAAiB,UAAU7vD,IAAI,eAAiB,GACnEmrC,EAAO95B,KAAK,cAAe4zD,EAAUE,EAAiB,EAGxDh6B,EAAOr6C,GAAG,YAAY,IAAMi0E,MAE5B56C,EAAQojC,cAAcp+D,KACpByyD,EAAOG,UAAUyf,0BAAyB7lE,KAEtCA,EAAE8lE,qBAAqB,yBACvB9lE,EAAE8lE,qBAAqB,uBAEvBsD,GACF,IAEFnjB,EAAO5kD,OAAOooE,6BAA4BzpE,IACxCopE,GAAc,IAGpB,EAEA,MAAMG,EAAeF,IAEnB,IAAIK,EACJ,IAAK,MAAMp9D,KAAa25C,EAAOh/C,WAAWa,IAAK,CAC7C,IAAI6hE,EAASr9D,EAAUs9D,YAAYC,aAAev9D,EAAUs9D,YAAYC,YAAYF,OACpF,IAAKA,EACH,SAEGjyE,MAAMC,QAAQgyE,KACjBA,EAAS,CAACA,IAEZ,MAAMG,EACJH,GAAUA,EAAOzqE,MAAM6qE,GAAeA,EAAMnhB,KAAOygB,GAAaU,EAAMjY,QAAUuX,IAClF,GAAIS,EAAc,CAChBJ,EAAmB56E,EAAKuH,KAAKiW,EAAU+1D,cAAeyH,EAAah7E,MACnE,KACF,CACF,CACA,MAAMk7E,EAAuB,GAI7B,IAHIN,GACFM,EAAWx2E,KAAKk2E,GAEXM,EAAW/xE,OAAS,GAAG,CAC5B,MAAMgyE,EAAYD,EAAWltE,MAC7B,OAAOgG,KAAKzL,MAAMvK,EAAGinC,aAAak2C,EAAW,CAACt3D,SAAU,WAAa,KACvE,CACA,MAzB4C,CAAC,CAyB3B,wzBC9DpB,mBACA,SACA,UACA,aAIA,SAASu3D,EAActhB,GACrB,MAAMuhB,EAAY,IAAI3mE,KAAKxV,OAAOyvC,WAAWmrB,IAAK6P,UAClD,OAAOzqE,OAAOo8E,MAAMD,GAAa,EAAIA,CACvC,CALa,EAAAE,2BAAqC,EAOlD,MAAaC,EACX34E,YACSi3D,EACA2hB,EACAnZ,EACAxf,EACA0e,EACA7C,EACA+c,EACAC,EACA5T,GAAW,GARX,KAAAjO,GAAAA,EACA,KAAA2hB,KAAAA,EACA,KAAAnZ,MAAAA,EACA,KAAAxf,QAAAA,EACA,KAAA0e,oBAAAA,EACA,KAAA7C,kBAAAA,EACA,KAAA+c,kBAAAA,EACA,KAAAC,QAAAA,EACA,KAAA5T,SAAAA,CACN,CAEHliD,kBAAkBi0C,EAAYqM,GAC5B,OAAO,IAAIqV,EACT1hB,EACA8hB,EAAOC,aACP,GACA,IAAI,EAAAC,YAAY,GAAI,IACpB,GACA3V,EACA,EAAAoV,2BACA,EAEJ,CAEA11D,oBAAoBg7B,GAClB,OAAO,IAAI26B,EACT36B,EAAOiZ,GACPjZ,EAAO46B,KACP56B,EAAOyhB,MACP,IAAI,EAAAwZ,YAAYj7B,EAAOiC,QAASjC,EAAOggB,iBAAmB,IAC1DhgB,EAAO2gB,qBAAuB,GAC9B3gB,EAAO8d,oBAAqB,EAC5B9d,EAAO66B,mBAAqBN,EAAcv6B,EAAOiZ,KACjD,EAEJ,CAEIiiB,iBACF,MAAO,CACLjiB,GAAI/2D,KAAK+2D,GACT2hB,KAAM14E,KAAK04E,KACXnZ,MAAOv/D,KAAKu/D,MACZxf,QAAS//C,KAAK+/C,QAAQkH,KACtB6W,gBAAiB99D,KAAK+/C,QAAQa,SAC9B6d,oBAAqBz+D,KAAKy+D,oBAC1B7C,kBAAmB57D,KAAK47D,kBACxB+c,kBAAmB34E,KAAK24E,kBAE5B,EAlDF,eAqDA,MAAMM,EAAmC,sCACnCC,EAAuB,wBACvBC,EAA4B,qBAClC,MAAMC,EAIJt5E,YAAmB68B,EAAkC08C,GAAlC,KAAA18C,QAAAA,EAAkC,KAAA08C,wBAAAA,EACnDr5E,KAAKsgE,eACP,CAIA3jE,yBACE,MAAM6lE,EAAUxiE,KAAK28B,QAAQ87B,YAAYjmD,IACvC0mE,EACA,UAGIl5E,KAAK28B,QAAQ87B,YAAYjvC,OAAO0vD,EAAsB,IAC5D,IAAK,IAAIp7B,KAAU0kB,QACXxiE,KAAK28B,QAAQ87B,YAAYjvC,OAAO,GAAG2vD,KAA6Br7B,EAAOiZ,UAAMt7D,EAEvF,CAGAkB,aAAa6lE,GACX,IAAK,MAAM1kB,KAAU0kB,EAAS,CAC5B,IAAI8W,GAAU,OACmB79E,IAA7BqiD,EAAO66B,oBACT76B,EAAO66B,kBAAoBN,EAAcv6B,EAAOiZ,IAChDuiB,GAAU,QAEQ79E,IAAhBqiD,EAAO46B,OACT56B,EAAO46B,KAAOG,EAAOC,aACrBQ,GAAU,GAERA,SACIt5E,KAAK28B,QAAQ87B,YAAYjvC,OAAO,GAAG2vD,KAA6Br7B,EAAOiZ,KAAMjZ,EAEvF,OACM99C,KAAK28B,QAAQ87B,YAAYjvC,OAAO0vD,EAAsB1W,SACtDxiE,KAAK28B,QAAQ87B,YAAYjvC,OAAOyvD,GAAkC,EAC1E,CAIAt8E,oBACE,MAAM6lE,EAAUxiE,KAAK28B,QAAQ87B,YAAYjmD,IACvC0mE,EACA,IAYF,OAV2Bl5E,KAAK28B,QAAQ87B,YAAYjmD,IAClDymE,GACA,UAGMj5E,KAAKu5E,OAAO/W,GAIpBA,EAAQxiC,MAAK,CAACvgC,EAAGC,IAAMA,EAAEi5E,kBAAoBl5E,EAAEk5E,oBACxCnW,CACT,CAEA7lE,mBAAmBqhE,GACjB,MAKMwb,EALUx5E,KAAK28B,QAAQ87B,YAAYjmD,IACvC0mE,EACA,IAGyB50E,QAAO6xC,GAAKA,EAAE4gB,KAAOiH,UAC1Ch+D,KAAK28B,QAAQ87B,YAAYjvC,OAAO0vD,EAAsBM,SACtDx5E,KAAK28B,QAAQ87B,YAAYjvC,OAAO,GAAG2vD,KAA6Bnb,SAAYviE,GAElF,EAAAo/D,WAAWC,kBAAkB,sBAE3B,GAAGqe,KAA6Bnb,IAEpC,CAEArhE,4BACMqD,KAAKg7D,cAAc4d,gBACf54E,KAAKy5E,aAAaz5E,KAAKg7D,cAAcjE,IAC3C/2D,KAAKg7D,cAAc4d,SAAU,GAE/B54E,KAAKsgE,eACP,CAEA+C,oBAAoBtM,GAClB,IAAIjZ,EAAS,EAAAid,cAAcqD,UAAUrH,GAQrC,OAPIjZ,EACF99C,KAAKg7D,cAAgBld,GAGrB99C,KAAKsgE,gBACLtgE,KAAKg7D,cAAcjE,GAAKA,GAEnB/2D,KAAKg7D,cAAcjb,QAAQkH,IACpC,CAEAtqD,iBAAiBmhD,GACfA,EAAOknB,UAAW,EAClB,MAAMxC,EAAUxiE,KAAK28B,QAAQ87B,YAAYjmD,IACvC0mE,EACA,IAGF,IAAI7rB,EACJ,GAAKmV,EAAQpmC,MAAK+Z,GAAKA,EAAE4gB,KAAOjZ,EAAOiZ,KAUhC,CACL,MAAM2iB,EAAiBlX,EAAQn1D,MAAK8oC,GAAKA,EAAE4gB,KAAOjZ,EAAOiZ,KACzD1J,EAAU,CACR0J,GAAI2iB,EAAe3iB,GACnB2hB,KAAMgB,EAAehB,KACrBnZ,MAAOma,EAAena,MACtB3D,kBAAmB8d,EAAe9d,oBAAqB,EACvD+c,kBAAmB76B,EAAO66B,kBAC1B54B,QAASjC,EAAOiC,QAAQkH,KACxBwX,oBAAqB3gB,EAAO2gB,oBAC5BX,gBAAiBhgB,EAAOiC,QAAQa,SAEpC,MArBE4hB,EAAQ7gE,KAAK,CACXo1D,GAAIjZ,EAAOiZ,GACX2hB,KAAM56B,EAAO46B,KACbnZ,MAAOzhB,EAAOyhB,MACd3D,kBAAmB9d,EAAO8d,kBAC1B+c,kBAAmB76B,EAAO66B,0BAEtB34E,KAAK28B,QAAQ87B,YAAYjvC,OAAO0vD,EAAsB1W,GAC5DnV,EAAUvP,EAAOk7B,iBAebh5E,KAAK28B,QAAQ87B,YAAYjvC,OAAO,GAAG2vD,KAA6Br7B,EAAOiZ,KAAM1J,GACnFvP,EAAO86B,SAAU,EACjB96B,EAAOknB,UAAW,CACpB,CAEAroE,wBAAwBg9E,GAEtB,GADA35E,KAAKg7D,cAAcgK,UAAW,EACzBhlE,KAAKg7D,cAAc4d,QAQtB54E,KAAKg7D,cAAc2d,kBAAoBhnE,KAAK2iD,UARb,CAC/B,MAAMA,EAAM,IAAI3iD,KACVgnE,EAAoBrkB,EAAIsS,UACxBgT,QAAuBD,IAC7B35E,KAAKg7D,cAAcjE,GAAK4hB,EAAkB5lE,WAC1C/S,KAAKg7D,cAAcuE,MAAQqa,GAAkBtlB,EAAIulB,iBACjD75E,KAAKg7D,cAAc2d,kBAAoBA,CACzC,OAGM34E,KAAK85E,WAAW95E,KAAKg7D,eAC3Bh7D,KAAKg7D,cAAcgK,UAAW,CAChC,CAEA5G,UAAUrH,GACR,MAAMgjB,EAAY/5E,KAAK28B,QAAQ87B,YAAYjmD,IACzC,GAAG2mE,KAA6BpiB,KAElC,OAAOgjB,EAAYtB,EAAWuB,aAAaD,QAAat+E,CAC1D,CAEA6kE,cAAc8C,GACZ,IAAIrM,EACAkjB,OAC4Bx+E,IAA5B2nE,GACFrM,EAAK/2D,KAAKq5E,wBAA0BrzD,EAASq5B,uBAAyBr5B,EAASo5B,YAC/E66B,EAAsBj6E,KAAKq5E,yBAClBjW,GACTrM,EAAK/wC,EAASq5B,uBACd46B,GAAsB,IAEtBljB,EAAK/wC,EAASo5B,YACd66B,GAAsB,GAExBj6E,KAAKg7D,cAAgByd,EAAWyB,WAAWnjB,EAAIkjB,EACjD,EAIF,mCACEt9C,EACA08C,GAEA,EAAAte,cAAgB,IAAIqe,EAAcz8C,EAAS08C,EAC7C,4GCxPA,gBAEA,IAAIc,EAIJ,qBAAOx9E,iBACL,GAAIw9E,EAAgB,OAAOA,EAE3B,IAAIC,QAAqBpkE,QAAQwhD,KAA+B,CAC9D,EAAAC,oBAAoB58D,QAAQw/E,kBAC5B,IAAIrkE,SAAQ4hB,GAAW9L,WAAW8L,EAPA,SAUpC,GAAIwiD,EAAc,CAChB,IAAI5vB,EAAqB,CACvB8vB,YAAaF,EAAaG,gBAC1BC,SAAUJ,EAAaK,cAGzB,OADAN,EAAiB3vB,EACVA,CACT,CAEA,MAAO,CAAC,CACV,+IC1BA,+CACE3J,EACA3nC,EACA4sD,GAEAA,EAAcA,EAAc,KAAOA,EAAc,KAAO,GACxD,MAAM4U,EAAW,WAUjB,OANI75B,EAAKjhD,SAAS86E,IAChB75B,EAAOA,EAAKn0C,MAAM,GAAI,EAAIguE,EAASt0E,SACrB0/D,EAAc5sD,EAAOwhE,EAE5B75B,EAPU,UAOUilB,EAAc5sD,EAAOwhE,CAGpD,EAEA,QAAO/9E,eAAqBg+E,SACpB,IAAI3kE,SAAc4hB,GAAW9L,YAAW,IAAM8L,KAAW+iD,IACjE,EAEA,qBAA0BjvE,GACxB,OAAOE,KAAKy3C,MAAMz3C,KAAKihE,SAAWnhE,EACpC,mvBCzBA,mBAGA,uBAA+BkvE,EAAgCC,GAC7D,IAAI,QAACxjD,EAAO,SAAE5H,GAAYmrD,EAE1B,OAD0BxmB,EAAOG,UAAU8N,iBAAiBhrC,GACjC7kB,IAAOid,EAAUorD,EAC9C,8ICLA,gBAEA,IAAIC,EAAyB,kDAsB7B,MAAMC,EAAuB,CAACC,aAAc,IAErCr+E,eAAesrE,IACpB,IAAK6S,EACH,OAAOC,EAET,IACE,MAAM/9B,GAAW,IAAA9a,cAAa44C,GACxB3uB,EAAOl7C,KAAKzL,MAAMw3C,EAASjqC,YAGjC,OADA9C,QAAQW,IAAI,mCAAmCu7C,EAAK6uB,aAAa50E,UAC1D+lD,CACT,CAAE,MAAOh+C,GAAI,CACb,OAAO4sE,CACT,CAZA,8BAcA,2BAAOp+E,eAAwCs+E,GAC7C,MAAMjT,QAAyBC,IAK/B,OAJAD,GAAkBgT,aAAar5E,KAAKs5E,IAEpC,IAAAC,eAAcJ,EAAwB7pE,KAAK5L,UAAU2iE,EAAkB,KAAM,KAEtE,CACT,6BC4BA,SAASxiE,EAAMuxD,GACb,IAAIzoC,EAAQyoC,EAAG/6D,MAAM,KACrB,MAAO,CACLk4E,OAAQnd,EACR1/B,QAAS/I,EAAM5hB,MAAM,EAAG4hB,EAAMloB,OAAS,GAAG5B,KAAK,KAC/CirB,SAAUnB,EAAMA,EAAMloB,OAAS,GAEnC,8oDAhFa,EAAA+0E,kBAAoB31E,EAAM,iBAC1B,EAAA41E,qBAAuB51E,EAAM,mBAC7B,EAAA61E,6BAA+B71E,EAAM,+BACrC,EAAA2qE,kCAAoC3qE,EAAM,gCAC1C,EAAA48D,mCAAqC58D,EAAM,iCAC3C,EAAA+8D,2BAA6B/8D,EAAM,iCACnC,EAAAu/D,mCAAqCv/D,EAAM,iCAC3C,EAAA81E,iCAAmC91E,EAAM,8BACzC,EAAAuoE,kCAAoCvoE,EAAM,+BAC1C,EAAA+1E,kDAAoD/1E,EAC/D,6CAEW,EAAA0oE,4CAA8C1oE,EACzD,wCAEW,EAAAsoE,+CAAiDtoE,EAC5D,0CAEW,EAAAqpE,sCAAwCrpE,EAAM,kCAC9C,EAAAspE,wCAA0CtpE,EAAM,oCAChD,EAAA2nE,8BAAgC3nE,EAAM,2BACtC,EAAA4nE,sCAAwC5nE,EAAM,iCAC9C,EAAA8nE,gCAAkC9nE,EAAM,6BACxC,EAAA6nE,kCAAoC7nE,EAAM,8BAC1C,EAAA+nE,0CAA4C/nE,EACvD,sCAEW,EAAAgoE,0CAA4ChoE,EACvD,sCAEW,EAAAioE,oCAAsCjoE,EAAM,+BAC5C,EAAAkoE,oCAAsCloE,EAAM,+BAC5C,EAAAmoE,oCAAsCnoE,EAAM,+BAC5C,EAAAooE,oCAAsCpoE,EAAM,+BAC5C,EAAAqoE,4CAA8CroE,EACzD,uCAEW,EAAAg2E,yCAA2Ch2E,EAAM,oCACjD,EAAA2oE,8CAAgD3oE,EAC3D,wCAEW,EAAAwoE,wCAA0CxoE,EAAM,oCAChD,EAAAyoE,6CAA+CzoE,EAC1D,wCAEW,EAAA4oE,2CAA6C5oE,EACxD,sCAEW,EAAA6oE,wCAA0C7oE,EAAM,oCAChD,EAAA8oE,4BAA8B9oE,EAAM,0BACpC,EAAA+oE,wBAA0B/oE,EAAM,sBAChC,EAAAgpE,6BAA+BhpE,EAAM,0BACrC,EAAAipE,yBAA2BjpE,EAAM,uBACjC,EAAAmtE,2BAA6BntE,EAAM,0BACnC,EAAA8sE,mCAAqC9sE,EAAM,iCAC3C,EAAAgtE,kCAAoChtE,EAAM,gCAC1C,EAAAkpE,mDAAqDlpE,EAChE,8CAEW,EAAAmpE,kDAAoDnpE,EAC/D,6CAEW,EAAAopE,gDAAkDppE,EAC7D,2CAEW,EAAA4sE,wCAA0C5sE,EAAM,uDC9D7D,IAAmBwiC,IAIV,SAAWntC,GAAW,aAG3B,MAAM4gF,EAAmC,mBAAXvjE,QAAoD,iBAApBA,OAAOwjE,SACjExjE,OACA65C,GAAe,UAAUA,KAE7B,SAAS10B,IAET,CAEA,SAASs+C,EAAahmE,GAClB,MAAqB,iBAANA,GAAwB,OAANA,GAA4B,mBAANA,CAC3D,CACA,MAAMimE,EAAiCv+C,EACvC,SAASw+C,EAAgB54C,EAAI5kC,GACzB,IACI1D,OAAOC,eAAeqoC,EAAI,OAAQ,CAC9BnoC,MAAOuD,EACPkU,cAAc,GAEtB,CACA,MAAOupE,GAGP,CACJ,CAEA,MAAMC,EAAkB/lE,QAClBgmE,EAAsBhmE,QAAQgD,UAAU+gB,KACxCkiD,EAAwBjmE,QAAQojB,OAAO74B,KAAKw7E,GAElD,SAASG,EAAWC,GAChB,OAAO,IAAIJ,EAAgBI,EAC/B,CAEA,SAASC,EAAoBthF,GACzB,OAAOohF,GAAWtkD,GAAWA,EAAQ98B,IACzC,CAEA,SAASuhF,EAAoBljE,GACzB,OAAO8iE,EAAsB9iE,EACjC,CACA,SAASmjE,EAAmBt+C,EAASu+C,EAAaC,GAG9C,OAAOR,EAAoB9pE,KAAK8rB,EAASu+C,EAAaC,EAC1D,CAIA,SAASC,EAAYz+C,EAASu+C,EAAaC,GACvCF,EAAmBA,EAAmBt+C,EAASu+C,EAAaC,QAAa/gF,EAAWmgF,EACxF,CACA,SAASc,EAAgB1+C,EAASu+C,GAC9BE,EAAYz+C,EAASu+C,EACzB,CACA,SAASI,EAAc3+C,EAASw+C,GAC5BC,EAAYz+C,OAASviC,EAAW+gF,EACpC,CACA,SAASI,EAAqB5+C,EAAS6+C,EAAoBC,GACvD,OAAOR,EAAmBt+C,EAAS6+C,EAAoBC,EAC3D,CACA,SAASC,EAA0B/+C,GAC/Bs+C,EAAmBt+C,OAASviC,EAAWmgF,EAC3C,CACA,IAAIoB,EAAkB7/E,IAClB,GAA8B,mBAAnBq7C,eACPwkC,EAAkBxkC,mBAEjB,CACD,MAAMykC,EAAkBb,OAAoB3gF,GAC5CuhF,EAAkBj8D,GAAMu7D,EAAmBW,EAAiBl8D,EAChE,CACA,OAAOi8D,EAAgB7/E,EAAS,EAEpC,SAAS+/E,EAAYC,EAAGC,EAAGh2E,GACvB,GAAiB,mBAAN+1E,EACP,MAAM,IAAI3xE,UAAU,8BAExB,OAAO6xE,SAASrkE,UAAU7G,MAAMD,KAAKirE,EAAGC,EAAGh2E,EAC/C,CACA,SAASk2E,EAAYH,EAAGC,EAAGh2E,GACvB,IACI,OAAOg1E,EAAoBc,EAAYC,EAAGC,EAAGh2E,GACjD,CACA,MAAOtM,GACH,OAAOuhF,EAAoBvhF,EAC/B,CACJ,CAWA,MAAMyiF,EACFz9E,cACIE,KAAKw9E,QAAU,EACfx9E,KAAKy9E,MAAQ,EAEbz9E,KAAK09E,OAAS,CACVC,UAAW,GACXC,WAAOniF,GAEXuE,KAAK69E,MAAQ79E,KAAK09E,OAIlB19E,KAAKw9E,QAAU,EAEfx9E,KAAKy9E,MAAQ,CACjB,CACIr3E,aACA,OAAOpG,KAAKy9E,KAChB,CAKA97E,KAAKm8E,GACD,MAAMC,EAAU/9E,KAAK69E,MACrB,IAAIG,EAAUD,EACmBE,QAA7BF,EAAQJ,UAAUv3E,SAClB43E,EAAU,CACNL,UAAW,GACXC,WAAOniF,IAKfsiF,EAAQJ,UAAUh8E,KAAKm8E,GACnBE,IAAYD,IACZ/9E,KAAK69E,MAAQG,EACbD,EAAQH,MAAQI,KAElBh+E,KAAKy9E,KACX,CAGApxE,QACI,MAAM6xE,EAAWl+E,KAAK09E,OACtB,IAAIS,EAAWD,EACf,MAAME,EAAYp+E,KAAKw9E,QACvB,IAAIa,EAAYD,EAAY,EAC5B,MAAME,EAAWJ,EAASP,UACpBG,EAAUQ,EAASF,GAazB,OAtEqB,QA0DjBC,IACAF,EAAWD,EAASN,MACpBS,EAAY,KAGdr+E,KAAKy9E,MACPz9E,KAAKw9E,QAAUa,EACXH,IAAaC,IACbn+E,KAAK09E,OAASS,GAGlBG,EAASF,QAAa3iF,EACfqiF,CACX,CASAhxE,QAAQ3P,GACJ,IAAIoO,EAAIvL,KAAKw9E,QACTzhF,EAAOiE,KAAK09E,OACZY,EAAWviF,EAAK4hF,UACpB,OAAOpyE,IAAM+yE,EAASl4E,aAAyB3K,IAAfM,EAAK6hF,OAC7BryE,IAAM+yE,EAASl4E,SACfrK,EAAOA,EAAK6hF,MACZU,EAAWviF,EAAK4hF,UAChBpyE,EAAI,EACoB,IAApB+yE,EAASl4E,UAIjBjJ,EAASmhF,EAAS/yE,MAChBA,CAEV,CAGAwoC,OACI,MAAMwqC,EAAQv+E,KAAK09E,OACbc,EAASx+E,KAAKw9E,QACpB,OAAOe,EAAMZ,UAAUa,EAC3B,EAGJ,MAAMC,EAAahD,EAAe,kBAC5BiD,EAAajD,EAAe,kBAC5BkD,EAAclD,EAAe,mBAC7BmD,EAAYnD,EAAe,iBAC3BoD,EAAepD,EAAe,oBAEpC,SAASqD,EAAsCC,EAAQx6D,GACnDw6D,EAAOC,qBAAuBz6D,EAC9BA,EAAOhjB,QAAUw9E,EACK,aAAlBx6D,EAAO5D,OACPs+D,EAAqCF,GAEd,WAAlBx6D,EAAO5D,OAwCpB,SAAwDo+D,GACpDE,EAAqCF,GACrCG,EAAkCH,EACtC,CA1CQI,CAA+CJ,GAG/CK,EAA+CL,EAAQx6D,EAAO86D,aAEtE,CAGA,SAASC,EAAkCP,EAAQ5lE,GAE/C,OAAOomE,GADQR,EAAOC,qBACc7lE,EACxC,CACA,SAASqmE,EAAmCT,GACxC,MAAMx6D,EAASw6D,EAAOC,qBACA,aAAlBz6D,EAAO5D,OACP8+D,EAAiCV,EAAQ,IAAIvzE,UAAU,qFAqC/D,SAAmDuzE,EAAQ5lE,GACvDimE,EAA+CL,EAnCO,IAAIvzE,UAAU,oFAoCxE,CApCQk0E,CAA0CX,GAE9Cx6D,EAAOo7D,0BAA0Bd,KACjCt6D,EAAOhjB,aAAU9F,EACjBsjF,EAAOC,0BAAuBvjF,CAClC,CAEA,SAASmkF,EAAoBvhF,GACzB,OAAO,IAAImN,UAAU,UAAYnN,EAAO,oCAC5C,CAEA,SAAS4gF,EAAqCF,GAC1CA,EAAOc,eAAiB3D,GAAW,CAACtkD,EAASwB,KACzC2lD,EAAOe,uBAAyBloD,EAChCmnD,EAAOgB,sBAAwB3mD,CAAM,GAE7C,CACA,SAASgmD,EAA+CL,EAAQ5lE,GAC5D8lE,EAAqCF,GACrCU,EAAiCV,EAAQ5lE,EAC7C,CAKA,SAASsmE,EAAiCV,EAAQ5lE,QACT1d,IAAjCsjF,EAAOgB,wBAGXhD,EAA0BgC,EAAOc,gBACjCd,EAAOgB,sBAAsB5mE,GAC7B4lE,EAAOe,4BAAyBrkF,EAChCsjF,EAAOgB,2BAAwBtkF,EACnC,CAIA,SAASyjF,EAAkCH,QACDtjF,IAAlCsjF,EAAOe,yBAGXf,EAAOe,4BAAuBrkF,GAC9BsjF,EAAOe,4BAAyBrkF,EAChCsjF,EAAOgB,2BAAwBtkF,EACnC,CAIA,MAAMukF,EAAiB7jF,OAAO+sC,UAAY,SAAUvzB,GAChD,MAAoB,iBAANA,GAAkBuzB,SAASvzB,EAC7C,EAIMsqE,EAAYr0E,KAAKs0E,OAAS,SAAUlvE,GACtC,OAAOA,EAAI,EAAIpF,KAAKu0E,KAAKnvE,GAAKpF,KAAKy3C,MAAMryC,EAC7C,EAMA,SAASovE,EAAiB3rE,EAAKkoB,GAC3B,QAAYlhC,IAARgZ,GAHgB,iBADFkB,EAIqBlB,IAHM,mBAANkB,EAInC,MAAM,IAAInK,UAAU,GAAGmxB,uBAL/B,IAAsBhnB,CAOtB,CAEA,SAAS0qE,EAAe1qE,EAAGgnB,GACvB,GAAiB,mBAANhnB,EACP,MAAM,IAAInK,UAAU,GAAGmxB,uBAE/B,CAKA,SAAS2jD,EAAa3qE,EAAGgnB,GACrB,IAJJ,SAAkBhnB,GACd,MAAqB,iBAANA,GAAwB,OAANA,GAA4B,mBAANA,CAC3D,CAES4oB,CAAS5oB,GACV,MAAM,IAAInK,UAAU,GAAGmxB,sBAE/B,CACA,SAAS4jD,EAAuB5qE,EAAGwuB,EAAUxH,GACzC,QAAUlhC,IAANka,EACA,MAAM,IAAInK,UAAU,aAAa24B,qBAA4BxH,MAErE,CACA,SAAS6jD,EAAoB7qE,EAAG8qE,EAAO9jD,GACnC,QAAUlhC,IAANka,EACA,MAAM,IAAInK,UAAU,GAAGi1E,qBAAyB9jD,MAExD,CAEA,SAAS+jD,EAA0B5lF,GAC/B,OAAOqB,OAAOrB,EAClB,CACA,SAAS6lF,EAAmBhrE,GACxB,OAAa,IAANA,EAAU,EAAIA,CACzB,CAKA,SAASirE,EAAwC9lF,EAAO6hC,GACpD,MACMkkD,EAAa1kF,OAAO2kF,iBAC1B,IAAInrE,EAAIxZ,OAAOrB,GAEf,GADA6a,EAAIgrE,EAAmBhrE,IAClBqqE,EAAerqE,GAChB,MAAM,IAAInK,UAAU,GAAGmxB,4BAG3B,GADAhnB,EAZJ,SAAqBA,GACjB,OAAOgrE,EAAmBV,EAAUtqE,GACxC,CAUQorE,CAAYprE,GACZA,EARe,GAQGA,EAAIkrE,EACtB,MAAM,IAAIr1E,UAAU,GAAGmxB,2CAA6DkkD,gBAExF,OAAKb,EAAerqE,IAAY,IAANA,EAOnBA,EANI,CAOf,CAEA,SAASqrE,EAAqBrrE,EAAGgnB,GAC7B,IAAKskD,GAAiBtrE,GAClB,MAAM,IAAInK,UAAU,GAAGmxB,6BAE/B,CAGA,SAASukD,EAAmC38D,GACxC,OAAO,IAAI48D,EAA4B58D,EAC3C,CAEA,SAAS68D,EAA6B78D,EAAQ88D,GAC1C98D,EAAOhjB,QAAQ+/E,cAAc3/E,KAAK0/E,EACtC,CACA,SAASE,EAAiCh9D,EAAQlI,EAAOzd,GACrD,MACMyiF,EADS98D,EAAOhjB,QACK+/E,cAAcj1E,QACrCzN,EACAyiF,EAAYG,cAGZH,EAAYI,YAAYplE,EAEhC,CACA,SAASqlE,EAAiCn9D,GACtC,OAAOA,EAAOhjB,QAAQ+/E,cAAcl7E,MACxC,CACA,SAASu7E,EAA+Bp9D,GACpC,MAAMw6D,EAASx6D,EAAOhjB,QACtB,YAAe9F,IAAXsjF,KAGC6C,EAA8B7C,EAIvC,CAMA,MAAMoC,EACFrhF,YAAYykB,GAGR,GAFAg8D,EAAuBh8D,EAAQ,EAAG,+BAClCy8D,EAAqBz8D,EAAQ,mBACzBs9D,GAAuBt9D,GACvB,MAAM,IAAI/Y,UAAU,+EAExBszE,EAAsC9+E,KAAMukB,GAC5CvkB,KAAKshF,cAAgB,IAAI/D,CAC7B,CAKIuE,aACA,OAAKF,EAA8B5hF,MAG5BA,KAAK6/E,eAFDxD,EAAoB0F,GAAiC,UAGpE,CAIAC,OAAO7oE,EAAS1d,WACZ,OAAKmmF,EAA8B5hF,WAGDvE,IAA9BuE,KAAKg/E,qBACE3C,EAAoBuD,EAAoB,WAE5CN,EAAkCt/E,KAAMmZ,GALpCkjE,EAAoB0F,GAAiC,UAMpE,CAMA3kF,OACI,IAAKwkF,EAA8B5hF,MAC/B,OAAOq8E,EAAoB0F,GAAiC,SAEhE,QAAkCtmF,IAA9BuE,KAAKg/E,qBACL,OAAO3C,EAAoBuD,EAAoB,cAEnD,IAAIqC,EACAC,EACJ,MAAMlkD,EAAUk+C,GAAW,CAACtkD,EAASwB,KACjC6oD,EAAiBrqD,EACjBsqD,EAAgB9oD,CAAM,IAQ1B,OADA+oD,EAAgCniF,KALZ,CAChByhF,YAAaplE,GAAS4lE,EAAe,CAAEnnF,MAAOuhB,EAAOzd,MAAM,IAC3D4iF,YAAa,IAAMS,EAAe,CAAEnnF,WAAOW,EAAWmD,MAAM,IAC5DwjF,YAAaj0E,GAAK+zE,EAAc/zE,KAG7B6vB,CACX,CAUAqkD,cACI,IAAKT,EAA8B5hF,MAC/B,MAAM+hF,GAAiC,oBAETtmF,IAA9BuE,KAAKg/E,sBA4CjB,SAA4CD,GACxCS,EAAmCT,GAEnCuD,GAA6CvD,EADnC,IAAIvzE,UAAU,uBAE5B,CA7CQ+2E,CAAmCviF,KACvC,EAkBJ,SAAS4hF,EAA8BjsE,GACnC,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,kBAGtCA,aAAawrE,CACxB,CACA,SAASgB,EAAgCpD,EAAQsC,GAC7C,MAAM98D,EAASw6D,EAAOC,qBACtBz6D,EAAOi+D,YAAa,EACE,WAAlBj+D,EAAO5D,OACP0gE,EAAYG,cAEW,YAAlBj9D,EAAO5D,OACZ0gE,EAAYe,YAAY79D,EAAO86D,cAG/B96D,EAAOo7D,0BAA0Bf,GAAWyC,EAEpD,CAMA,SAASiB,GAA6CvD,EAAQ5wE,GAC1D,MAAMs0E,EAAe1D,EAAOuC,cAC5BvC,EAAOuC,cAAgB,IAAI/D,EAC3BkF,EAAa31E,SAAQu0E,IACjBA,EAAYe,YAAYj0E,EAAE,GAElC,CAEA,SAAS4zE,GAAiC1jF,GACtC,OAAO,IAAImN,UAAU,yCAAyCnN,sDAClE,CArDA1D,OAAO+nF,iBAAiBvB,EAA4BnoE,UAAW,CAC3DgpE,OAAQ,CAAE1vE,YAAY,GACtBlV,KAAM,CAAEkV,YAAY,GACpB+vE,YAAa,CAAE/vE,YAAY,GAC3BwvE,OAAQ,CAAExvE,YAAY,KAE1BupE,EAAgBsF,EAA4BnoE,UAAUgpE,OAAQ,UAC9DnG,EAAgBsF,EAA4BnoE,UAAU5b,KAAM,QAC5Dy+E,EAAgBsF,EAA4BnoE,UAAUqpE,YAAa,eACzB,iBAA/B5G,EAAekH,aACtBhoF,OAAOC,eAAeumF,EAA4BnoE,UAAWyiE,EAAekH,YAAa,CACrF7nF,MAAO,8BACPyX,cAAc,IA6CtB,MAAMqwE,GAAyBjoF,OAAOkoF,eAAeloF,OAAOkoF,gBAAelmF,kBAAqB,IAAGqc,WAGnG,MAAM8pE,GACFhjF,YAAYi/E,EAAQgE,GAChB/iF,KAAKgjF,qBAAkBvnF,EACvBuE,KAAKijF,aAAc,EACnBjjF,KAAKuB,QAAUw9E,EACf/+E,KAAKkjF,eAAiBH,CAC1B,CACAp2E,OACI,MAAMw2E,EAAY,IAAMnjF,KAAKojF,aAI7B,OAHApjF,KAAKgjF,gBAAkBhjF,KAAKgjF,gBACxBpG,EAAqB58E,KAAKgjF,gBAAiBG,EAAWA,GACtDA,IACGnjF,KAAKgjF,eAChB,CACAK,OAAOvoF,GACH,MAAMwoF,EAAc,IAAMtjF,KAAKujF,aAAazoF,GAC5C,OAAOkF,KAAKgjF,gBACRpG,EAAqB58E,KAAKgjF,gBAAiBM,EAAaA,GACxDA,GACR,CACAF,aACI,GAAIpjF,KAAKijF,YACL,OAAOjtE,QAAQ4hB,QAAQ,CAAE98B,WAAOW,EAAWmD,MAAM,IAErD,MAAMmgF,EAAS/+E,KAAKuB,QACpB,IAAI0gF,EACAC,EACJ,MAAMlkD,EAAUk+C,GAAW,CAACtkD,EAASwB,KACjC6oD,EAAiBrqD,EACjBsqD,EAAgB9oD,CAAM,IAuB1B,OADA+oD,EAAgCpD,EApBZ,CAChB0C,YAAaplE,IACTrc,KAAKgjF,qBAAkBvnF,EAGvBuhF,GAAgB,IAAMiF,EAAe,CAAEnnF,MAAOuhB,EAAOzd,MAAM,KAAS,EAExE4iF,YAAa,KACTxhF,KAAKgjF,qBAAkBvnF,EACvBuE,KAAKijF,aAAc,EACnBzD,EAAmCT,GACnCkD,EAAe,CAAEnnF,WAAOW,EAAWmD,MAAM,GAAO,EAEpDwjF,YAAajpE,IACTnZ,KAAKgjF,qBAAkBvnF,EACvBuE,KAAKijF,aAAc,EACnBzD,EAAmCT,GACnCmD,EAAc/oE,EAAO,IAItB6kB,CACX,CACAulD,aAAazoF,GACT,GAAIkF,KAAKijF,YACL,OAAOjtE,QAAQ4hB,QAAQ,CAAE98B,QAAO8D,MAAM,IAE1CoB,KAAKijF,aAAc,EACnB,MAAMlE,EAAS/+E,KAAKuB,QACpB,IAAKvB,KAAKkjF,eAAgB,CACtB,MAAM1jF,EAAS8/E,EAAkCP,EAAQjkF,GAEzD,OADA0kF,EAAmCT,GAC5BnC,EAAqBp9E,GAAQ,KAAM,CAAG1E,QAAO8D,MAAM,KAC9D,CAEA,OADA4gF,EAAmCT,GAC5B3C,EAAoB,CAAEthF,QAAO8D,MAAM,GAC9C,EAEJ,MAAM4kF,GAAuC,CACzC72E,OACI,OAAK82E,GAA8BzjF,MAG5BA,KAAK0jF,mBAAmB/2E,OAFpB0vE,EAAoBsH,GAAuC,QAG1E,EACAN,OAAOvoF,GACH,OAAK2oF,GAA8BzjF,MAG5BA,KAAK0jF,mBAAmBL,OAAOvoF,GAF3BuhF,EAAoBsH,GAAuC,UAG1E,GAaJ,SAASF,GAA8B9tE,GACnC,IAAKgmE,EAAahmE,GACd,OAAO,EAEX,IAAKhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,sBACzC,OAAO,EAEX,IAEI,OAAOA,EAAE+tE,8BACLZ,EACR,CACA,MAAOhH,GACH,OAAO,CACX,CACJ,CAEA,SAAS6H,GAAuCtlF,GAC5C,OAAO,IAAImN,UAAU,+BAA+BnN,qDACxD,MA9B+B5C,IAA3BmnF,IACAjoF,OAAOipF,eAAeJ,GAAsCZ,IAiChE,MAAMiB,GAAc1nF,OAAOo8E,OAAS,SAAU5iE,GAE1C,OAAOA,GAAMA,CACjB,EAEA,SAASmuE,GAAoBxF,GAGzB,OAAOA,EAAS5xE,OACpB,CACA,SAASq3E,GAAmBxpE,EAAMypE,EAAYC,EAAKC,EAAW12E,GAC1D,IAAI2T,WAAW5G,GAAM9H,IAAI,IAAI0O,WAAW8iE,EAAKC,EAAW12E,GAAIw2E,EAChE,CACA,IAAIG,GAAuBlvE,IAEnBkvE,GADsB,mBAAflvE,EAAEmvE,SACan2E,GAAUA,EAAOm2E,WAEP,mBAApBC,gBACUp2E,GAAUo2E,gBAAgBp2E,EAAQ,CAAEm2E,SAAU,CAACn2E,KAI/CA,GAAUA,EAE7Bk2E,GAAoBlvE,IAE3BqvE,GAAoBrvE,IAEhBqvE,GADsB,kBAAfrvE,EAAEsvE,SACUt2E,GAAUA,EAAOs2E,SAIjBt2E,GAAgC,IAAtBA,EAAOkJ,WAEjCmtE,GAAiBrvE,IAE5B,SAASuvE,GAAiBv2E,EAAQw2E,EAAOrpE,GAGrC,GAAInN,EAAOvB,MACP,OAAOuB,EAAOvB,MAAM+3E,EAAOrpE,GAE/B,MAAMhV,EAASgV,EAAMqpE,EACf/3E,EAAQ,IAAI+K,YAAYrR,GAE9B,OADA29E,GAAmBr3E,EAAO,EAAGuB,EAAQw2E,EAAOr+E,GACrCsG,CACX,CACA,SAASg4E,GAAUn5D,EAAU7W,GACzB,MAAMiwE,EAAOp5D,EAAS7W,GACtB,GAAIiwE,QAAJ,CAGA,GAAoB,mBAATA,EACP,MAAM,IAAIn5E,UAAU,GAAGuzB,OAAOrqB,wBAElC,OAAOiwE,CAJP,CAKJ,CAgBA,SAASC,GAAYnwE,EAAKowE,EAAO,OAAQj8D,GACrC,QAAentB,IAAXmtB,EACA,GAAa,UAATi8D,GAEA,QAAeppF,KADfmtB,EAAS87D,GAAUjwE,EAAKgnE,EAAeqJ,gBAInC,OAtBhB,SAAqCC,GAIjC,MAAMC,EAAe,CACjB,CAACvJ,EAAeC,UAAW,IAAMqJ,EAAmBrJ,UAGlDoJ,EAAiBnoF,kBACnB,aAAcqoF,CAClB,CAFsB,GAKtB,MAAO,CAAEtJ,SAAUoJ,EAAeG,WADfH,EAAcn4E,KACa/N,MAAM,EACxD,CAQuBsmF,CADoBN,GAAYnwE,EAAK,OADzBiwE,GAAUjwE,EAAKgnE,EAAeC,iBAMrD9yD,EAAS87D,GAAUjwE,EAAKgnE,EAAeC,UAG/C,QAAejgF,IAAXmtB,EACA,MAAM,IAAIpd,UAAU,8BAExB,MAAMkwE,EAAWwB,EAAYt0D,EAAQnU,EAAK,IAC1C,IAAKknE,EAAaD,GACd,MAAM,IAAIlwE,UAAU,6CAGxB,MAAO,CAAEkwE,WAAUuJ,WADAvJ,EAAS/uE,KACG/N,MAAM,EACzC,CA2BA,SAASumF,GAAkBlwE,GACvB,MAAMhH,EAASu2E,GAAiBvvE,EAAEhH,OAAQgH,EAAEmC,WAAYnC,EAAEmC,WAAanC,EAAEkC,YACzE,OAAO,IAAIgK,WAAWlT,EAC1B,CAEA,SAASm3E,GAAaC,GAClB,MAAMC,EAAOD,EAAUziF,OAAOyJ,QAK9B,OAJAg5E,EAAUE,iBAAmBD,EAAK98D,KAC9B68D,EAAUE,gBAAkB,IAC5BF,EAAUE,gBAAkB,GAEzBD,EAAKxqF,KAChB,CACA,SAAS0qF,GAAqBH,EAAWvqF,EAAO0tB,GAC5C,GAzBiB,iBADQxX,EA0BAwX,IAtBrBq7D,GAAY7yE,IAGZA,EAAI,GAmB0BwX,IAAS/M,IACvC,MAAM,IAAIrQ,WAAW,wDA3B7B,IAA6B4F,EA6BzBq0E,EAAUziF,OAAOjB,KAAK,CAAE7G,QAAO0tB,SAC/B68D,EAAUE,iBAAmB/8D,CACjC,CAKA,SAASi9D,GAAWJ,GAChBA,EAAUziF,OAAS,IAAI26E,EACvB8H,EAAUE,gBAAkB,CAChC,CAEA,SAASG,GAAsBC,GAC3B,OAAOA,IAASC,QACpB,CAgBA,MAAMC,GACF/lF,cACI,MAAM,IAAI0L,UAAU,sBACxB,CAIIs6E,WACA,IAAKC,GAA4B/lF,MAC7B,MAAMgmF,GAA+B,QAEzC,OAAOhmF,KAAKimF,KAChB,CACAC,QAAQC,GACJ,IAAKJ,GAA4B/lF,MAC7B,MAAMgmF,GAA+B,WAIzC,GAFAzF,EAAuB4F,EAAc,EAAG,WACxCA,EAAevF,EAAwCuF,EAAc,wBAChB1qF,IAAjDuE,KAAKomF,wCACL,MAAM,IAAI56E,UAAU,0CAExB,GAAI84E,GAAiBtkF,KAAKimF,MAAMh4E,QAC5B,MAAM,IAAIzC,UAAU,mFAExB66E,GAAoCrmF,KAAKomF,wCAAyCD,EACtF,CACAG,mBAAmBR,GACf,IAAKC,GAA4B/lF,MAC7B,MAAMgmF,GAA+B,sBAGzC,GADAzF,EAAuBuF,EAAM,EAAG,uBAC3BruE,YAAYE,OAAOmuE,GACpB,MAAM,IAAIt6E,UAAU,gDAExB,QAAqD/P,IAAjDuE,KAAKomF,wCACL,MAAM,IAAI56E,UAAU,0CAExB,GAAI84E,GAAiBwB,EAAK73E,QACtB,MAAM,IAAIzC,UAAU,iFAExB+6E,GAA+CvmF,KAAKomF,wCAAyCN,EACjG,EAEJnrF,OAAO+nF,iBAAiBmD,GAA0B7sE,UAAW,CACzDktE,QAAS,CAAE5zE,YAAY,GACvBg0E,mBAAoB,CAAEh0E,YAAY,GAClCwzE,KAAM,CAAExzE,YAAY,KAExBupE,EAAgBgK,GAA0B7sE,UAAUktE,QAAS,WAC7DrK,EAAgBgK,GAA0B7sE,UAAUstE,mBAAoB,sBAC9B,iBAA/B7K,EAAekH,aACtBhoF,OAAOC,eAAeirF,GAA0B7sE,UAAWyiE,EAAekH,YAAa,CACnF7nF,MAAO,4BACPyX,cAAc,IAQtB,MAAMi0E,GACF1mF,cACI,MAAM,IAAI0L,UAAU,sBACxB,CAIIi7E,kBACA,IAAKC,GAA+B1mF,MAChC,MAAM2mF,GAAwC,eAElD,OAAOC,GAA2C5mF,KACtD,CAKI6mF,kBACA,IAAKH,GAA+B1mF,MAChC,MAAM2mF,GAAwC,eAElD,OAAOG,GAA2C9mF,KACtD,CAKAyM,QACI,IAAKi6E,GAA+B1mF,MAChC,MAAM2mF,GAAwC,SAElD,GAAI3mF,KAAK+mF,gBACL,MAAM,IAAIv7E,UAAU,8DAExB,MAAM6+B,EAAQrqC,KAAKgnF,8BAA8BrmE,OACjD,GAAc,aAAV0pB,EACA,MAAM,IAAI7+B,UAAU,kBAAkB6+B,8DAE1C48C,GAAkCjnF,KACtC,CACAujB,QAAQlH,GACJ,IAAKqqE,GAA+B1mF,MAChC,MAAM2mF,GAAwC,WAGlD,GADApG,EAAuBlkE,EAAO,EAAG,YAC5B5E,YAAYE,OAAO0E,GACpB,MAAM,IAAI7Q,UAAU,sCAExB,GAAyB,IAArB6Q,EAAMlF,WACN,MAAM,IAAI3L,UAAU,uCAExB,GAAgC,IAA5B6Q,EAAMpO,OAAOkJ,WACb,MAAM,IAAI3L,UAAU,gDAExB,GAAIxL,KAAK+mF,gBACL,MAAM,IAAIv7E,UAAU,gCAExB,MAAM6+B,EAAQrqC,KAAKgnF,8BAA8BrmE,OACjD,GAAc,aAAV0pB,EACA,MAAM,IAAI7+B,UAAU,kBAAkB6+B,mEAE1C68C,GAAoClnF,KAAMqc,EAC9C,CAIA9c,MAAM4O,EAAI1S,WACN,IAAKirF,GAA+B1mF,MAChC,MAAM2mF,GAAwC,SAElDQ,GAAkCnnF,KAAMmO,EAC5C,CAEA,CAACwwE,GAAaxlE,GACViuE,GAAkDpnF,MAClDylF,GAAWzlF,MACX,MAAMR,EAASQ,KAAKqnF,iBAAiBluE,GAErC,OADAmuE,GAA4CtnF,MACrCR,CACX,CAEA,CAACo/E,GAAWyC,GACR,MAAM98D,EAASvkB,KAAKgnF,8BACpB,GAAIhnF,KAAKulF,gBAAkB,EAEvB,YADAgC,GAAqDvnF,KAAMqhF,GAG/D,MAAMmG,EAAwBxnF,KAAKynF,uBACnC,QAA8BhsF,IAA1B+rF,EAAqC,CACrC,IAAIv5E,EACJ,IACIA,EAAS,IAAIwJ,YAAY+vE,EAC7B,CACA,MAAOE,GAEH,YADArG,EAAYe,YAAYsF,EAE5B,CACA,MAAMC,EAAqB,CACvB15E,SACA25E,iBAAkBJ,EAClBpwE,WAAY,EACZD,WAAYqwE,EACZK,YAAa,EACbC,YAAa,EACbC,YAAa,EACbC,gBAAiB7mE,WACjB8mE,WAAY,WAEhBjoF,KAAKkoF,kBAAkBvmF,KAAKgmF,EAChC,CACAvG,EAA6B78D,EAAQ88D,GACrC8G,GAA6CnoF,KACjD,CAEA,CAAC6+E,KACG,GAAI7+E,KAAKkoF,kBAAkB9hF,OAAS,EAAG,CACnC,MAAMgiF,EAAgBpoF,KAAKkoF,kBAAkBn0C,OAC7Cq0C,EAAcH,WAAa,OAC3BjoF,KAAKkoF,kBAAoB,IAAI3K,EAC7Bv9E,KAAKkoF,kBAAkBvmF,KAAKymF,EAChC,CACJ,EAmBJ,SAAS1B,GAA+B/wE,GACpC,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,kCAGtCA,aAAa6wE,EACxB,CACA,SAAST,GAA4BpwE,GACjC,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,4CAGtCA,aAAakwE,EACxB,CACA,SAASsC,GAA6C37B,GAClD,MAAM67B,EAsPV,SAAoD77B,GAChD,MAAMjoC,EAASioC,EAAWw6B,8BAC1B,GAAsB,aAAlBziE,EAAO5D,OACP,OAAO,EAEX,GAAI6rC,EAAWu6B,gBACX,OAAO,EAEX,IAAKv6B,EAAW87B,SACZ,OAAO,EAEX,GAAI3G,EAA+Bp9D,IAAWm9D,EAAiCn9D,GAAU,EACrF,OAAO,EAEX,GAAIgkE,GAA4BhkE,IAAWikE,GAAqCjkE,GAAU,EACtF,OAAO,EAGX,OADoBuiE,GAA2Ct6B,GAC7C,CAItB,CA5QuBi8B,CAA2Cj8B,GACzD67B,IAGD77B,EAAWk8B,SACXl8B,EAAWm8B,YAAa,GAG5Bn8B,EAAWk8B,UAAW,EAGtBjM,EADoBjwB,EAAWo8B,kBACN,KACrBp8B,EAAWk8B,UAAW,EAClBl8B,EAAWm8B,aACXn8B,EAAWm8B,YAAa,EACxBR,GAA6C37B,IAE1C,QACRr+C,IACCg5E,GAAkC36B,EAAYr+C,GACvC,SAEf,CACA,SAASi5E,GAAkD56B,GACvDq8B,GAAkDr8B,GAClDA,EAAW07B,kBAAoB,IAAI3K,CACvC,CACA,SAASuL,GAAqDvkE,EAAQojE,GAClE,IAAI/oF,GAAO,EACW,WAAlB2lB,EAAO5D,SACP/hB,GAAO,GAEX,MAAMmqF,EAAaC,GAAsDrB,GACnC,YAAlCA,EAAmBM,WACnB1G,EAAiCh9D,EAAQwkE,EAAYnqF,GAqe7D,SAA8C2lB,EAAQlI,EAAOzd,GACzD,MACMqqF,EADS1kE,EAAOhjB,QACS2nF,kBAAkB78E,QAC7CzN,EACAqqF,EAAgBzH,YAAYnlE,GAG5B4sE,EAAgBxH,YAAYplE,EAEpC,CA3eQ8sE,CAAqC5kE,EAAQwkE,EAAYnqF,EAEjE,CACA,SAASoqF,GAAsDrB,GAC3D,MAAME,EAAcF,EAAmBE,YACjCE,EAAcJ,EAAmBI,YACvC,OAAO,IAAIJ,EAAmBK,gBAAgBL,EAAmB15E,OAAQ05E,EAAmBvwE,WAAYywE,EAAcE,EAC1H,CACA,SAASqB,GAAgD58B,EAAYv+C,EAAQmJ,EAAYD,GACrFq1C,EAAW5pD,OAAOjB,KAAK,CAAEsM,SAAQmJ,aAAYD,eAC7Cq1C,EAAW+4B,iBAAmBpuE,CAClC,CACA,SAASkyE,GAAsD78B,EAAYv+C,EAAQmJ,EAAYD,GAC3F,IAAImyE,EACJ,IACIA,EAAc9E,GAAiBv2E,EAAQmJ,EAAYA,EAAaD,EACpE,CACA,MAAOoyE,GAEH,MADApC,GAAkC36B,EAAY+8B,GACxCA,CACV,CACAH,GAAgD58B,EAAY88B,EAAa,EAAGnyE,EAChF,CACA,SAASqyE,GAA2Dh9B,EAAYi9B,GACxEA,EAAgB5B,YAAc,GAC9BwB,GAAsD78B,EAAYi9B,EAAgBx7E,OAAQw7E,EAAgBryE,WAAYqyE,EAAgB5B,aAE1I6B,GAAiDl9B,EACrD,CACA,SAASm9B,GAA4Dn9B,EAAYm7B,GAC7E,MAAMiC,EAAiBh+E,KAAKC,IAAI2gD,EAAW+4B,gBAAiBoC,EAAmBxwE,WAAawwE,EAAmBE,aACzGgC,EAAiBlC,EAAmBE,YAAc+B,EACxD,IAAIE,EAA4BF,EAC5BG,GAAQ,EACZ,MACMC,EAAkBH,EADDA,EAAiBlC,EAAmBI,YAIvDiC,GAAmBrC,EAAmBG,cACtCgC,EAA4BE,EAAkBrC,EAAmBE,YACjEkC,GAAQ,GAEZ,MAAMv/E,EAAQgiD,EAAW5pD,OACzB,KAAOknF,EAA4B,GAAG,CAClC,MAAMG,EAAcz/E,EAAMupC,OACpBm2C,EAAct+E,KAAKC,IAAIi+E,EAA2BG,EAAY9yE,YAC9DgzE,EAAYxC,EAAmBvwE,WAAauwE,EAAmBE,YACrE9D,GAAmB4D,EAAmB15E,OAAQk8E,EAAWF,EAAYh8E,OAAQg8E,EAAY7yE,WAAY8yE,GACjGD,EAAY9yE,aAAe+yE,EAC3B1/E,EAAM6B,SAGN49E,EAAY7yE,YAAc8yE,EAC1BD,EAAY9yE,YAAc+yE,GAE9B19B,EAAW+4B,iBAAmB2E,EAC9BE,GAAuD59B,EAAY09B,EAAavC,GAChFmC,GAA6BI,CACjC,CACA,OAAOH,CACX,CACA,SAASK,GAAuD59B,EAAYhkC,EAAMm/D,GAC9EA,EAAmBE,aAAer/D,CACtC,CACA,SAAS6hE,GAA6C79B,GACf,IAA/BA,EAAW+4B,iBAAyB/4B,EAAWu6B,iBAC/CO,GAA4C96B,GAC5C89B,GAAoB99B,EAAWw6B,gCAG/BmB,GAA6C37B,EAErD,CACA,SAASq8B,GAAkDr8B,GACvB,OAA5BA,EAAW+9B,eAGf/9B,EAAW+9B,aAAanE,6CAA0C3qF,EAClE+wD,EAAW+9B,aAAatE,MAAQ,KAChCz5B,EAAW+9B,aAAe,KAC9B,CACA,SAASC,GAAiEh+B,GACtE,KAAOA,EAAW07B,kBAAkB9hF,OAAS,GAAG,CAC5C,GAAmC,IAA/BomD,EAAW+4B,gBACX,OAEJ,MAAMoC,EAAqBn7B,EAAW07B,kBAAkBn0C,OACpD41C,GAA4Dn9B,EAAYm7B,KACxE+B,GAAiDl9B,GACjDs8B,GAAqDt8B,EAAWw6B,8BAA+BW,GAEvG,CACJ,CAqGA,SAAS8C,GAA4Cj+B,EAAY25B,GAC7D,MAAMsD,EAAkBj9B,EAAW07B,kBAAkBn0C,OACrD80C,GAAkDr8B,GAEpC,WADAA,EAAWw6B,8BAA8BrmE,OArC3D,SAA0D6rC,EAAYi9B,GAC/B,SAA/BA,EAAgBxB,YAChByB,GAAiDl9B,GAErD,MAAMjoC,EAASioC,EAAWw6B,8BAC1B,GAAIuB,GAA4BhkE,GAC5B,KAAOikE,GAAqCjkE,GAAU,GAElDukE,GAAqDvkE,EAD1BmlE,GAAiDl9B,GAIxF,CA4BQk+B,CAAiDl+B,EAAYi9B,GA3BrE,SAA4Dj9B,EAAY25B,EAAcwB,GAElF,GADAyC,GAAuD59B,EAAY25B,EAAcwB,GAC3C,SAAlCA,EAAmBM,WAGnB,OAFAuB,GAA2Dh9B,EAAYm7B,QACvE6C,GAAiEh+B,GAGrE,GAAIm7B,EAAmBE,YAAcF,EAAmBG,YAGpD,OAEJ4B,GAAiDl9B,GACjD,MAAMm+B,EAAgBhD,EAAmBE,YAAcF,EAAmBI,YAC1E,GAAI4C,EAAgB,EAAG,CACnB,MAAMvvE,EAAMusE,EAAmBvwE,WAAauwE,EAAmBE,YAC/DwB,GAAsD78B,EAAYm7B,EAAmB15E,OAAQmN,EAAMuvE,EAAeA,EACtH,CACAhD,EAAmBE,aAAe8C,EAClC7B,GAAqDt8B,EAAWw6B,8BAA+BW,GAC/F6C,GAAiEh+B,EACrE,CASQo+B,CAAmDp+B,EAAY25B,EAAcsD,GAEjFtB,GAA6C37B,EACjD,CACA,SAASk9B,GAAiDl9B,GAEtD,OADmBA,EAAW07B,kBAAkB77E,OAEpD,CAwBA,SAASi7E,GAA4C96B,GACjDA,EAAWo8B,oBAAiBntF,EAC5B+wD,EAAW66B,sBAAmB5rF,CAClC,CAEA,SAASwrF,GAAkCz6B,GACvC,MAAMjoC,EAASioC,EAAWw6B,8BAC1B,IAAIx6B,EAAWu6B,iBAAqC,aAAlBxiE,EAAO5D,OAGzC,GAAI6rC,EAAW+4B,gBAAkB,EAC7B/4B,EAAWu6B,iBAAkB,MADjC,CAIA,GAAIv6B,EAAW07B,kBAAkB9hF,OAAS,EAAG,CACzC,MAAMykF,EAAuBr+B,EAAW07B,kBAAkBn0C,OAC1D,GAAI82C,EAAqBhD,YAAcgD,EAAqB9C,aAAgB,EAAG,CAC3E,MAAM55E,EAAI,IAAI3C,UAAU,2DAExB,MADA27E,GAAkC36B,EAAYr+C,GACxCA,CACV,CACJ,CACAm5E,GAA4C96B,GAC5C89B,GAAoB/lE,EAVpB,CAWJ,CACA,SAAS2iE,GAAoC16B,EAAYnwC,GACrD,MAAMkI,EAASioC,EAAWw6B,8BAC1B,GAAIx6B,EAAWu6B,iBAAqC,aAAlBxiE,EAAO5D,OACrC,OAEJ,MAAM,OAAE1S,EAAM,WAAEmJ,EAAU,WAAED,GAAekF,EAC3C,GAAIioE,GAAiBr2E,GACjB,MAAM,IAAIzC,UAAU,wDAExB,MAAMs/E,EAAoB3G,GAAoBl2E,GAC9C,GAAIu+C,EAAW07B,kBAAkB9hF,OAAS,EAAG,CACzC,MAAMykF,EAAuBr+B,EAAW07B,kBAAkBn0C,OAC1D,GAAIuwC,GAAiBuG,EAAqB58E,QACtC,MAAM,IAAIzC,UAAU,8FAExBq9E,GAAkDr8B,GAClDq+B,EAAqB58E,OAASk2E,GAAoB0G,EAAqB58E,QAC/B,SAApC48E,EAAqB5C,YACrBuB,GAA2Dh9B,EAAYq+B,EAE/E,CACIlJ,EAA+Bp9D,IAzLvC,SAAmEioC,GAC/D,MAAMuyB,EAASvyB,EAAWw6B,8BAA8BzlF,QACxD,KAAOw9E,EAAOuC,cAAcl7E,OAAS,GAAG,CACpC,GAAmC,IAA/BomD,EAAW+4B,gBACX,OAGJgC,GAAqD/6B,EADjCuyB,EAAOuC,cAAcj1E,QAE7C,CACJ,CAiLQ0+E,CAA0Dv+B,GACT,IAA7Ck1B,EAAiCn9D,GACjC6kE,GAAgD58B,EAAYs+B,EAAmB1zE,EAAYD,IAGvFq1C,EAAW07B,kBAAkB9hF,OAAS,GACtCsjF,GAAiDl9B,GAGrD+0B,EAAiCh9D,EADT,IAAIpD,WAAW2pE,EAAmB1zE,EAAYD,IACZ,KAGzDoxE,GAA4BhkE,IAEjC6kE,GAAgD58B,EAAYs+B,EAAmB1zE,EAAYD,GAC3FqzE,GAAiEh+B,IAGjE48B,GAAgD58B,EAAYs+B,EAAmB1zE,EAAYD,GAE/FgxE,GAA6C37B,EACjD,CACA,SAAS26B,GAAkC36B,EAAYr+C,GACnD,MAAMoW,EAASioC,EAAWw6B,8BACJ,aAAlBziE,EAAO5D,SAGXymE,GAAkD56B,GAClDi5B,GAAWj5B,GACX86B,GAA4C96B,GAC5Cw+B,GAAoBzmE,EAAQpW,GAChC,CACA,SAASo5E,GAAqD/6B,EAAY60B,GACtE,MAAM1iF,EAAQ6tD,EAAW5pD,OAAOyJ,QAChCmgD,EAAW+4B,iBAAmB5mF,EAAMwY,WACpCkzE,GAA6C79B,GAC7C,MAAMs5B,EAAO,IAAI3kE,WAAWxiB,EAAMsP,OAAQtP,EAAMyY,WAAYzY,EAAMwY,YAClEkqE,EAAYI,YAAYqE,EAC5B,CACA,SAASc,GAA2Cp6B,GAChD,GAAgC,OAA5BA,EAAW+9B,cAAyB/9B,EAAW07B,kBAAkB9hF,OAAS,EAAG,CAC7E,MAAMqjF,EAAkBj9B,EAAW07B,kBAAkBn0C,OAC/C+xC,EAAO,IAAI3kE,WAAWsoE,EAAgBx7E,OAAQw7E,EAAgBryE,WAAaqyE,EAAgB5B,YAAa4B,EAAgBtyE,WAAasyE,EAAgB5B,aACrJpB,EAAc9rF,OAAOqL,OAAO6/E,GAA0B7sE,YAoHpE,SAAwC0U,EAAS8+B,EAAYs5B,GACzDp4D,EAAQ04D,wCAA0C55B,EAClD9+B,EAAQu4D,MAAQH,CACpB,CAtHQmF,CAA+BxE,EAAaj6B,EAAYs5B,GACxDt5B,EAAW+9B,aAAe9D,CAC9B,CACA,OAAOj6B,EAAW+9B,YACtB,CACA,SAASzD,GAA2Ct6B,GAChD,MAAMniB,EAAQmiB,EAAWw6B,8BAA8BrmE,OACvD,MAAc,YAAV0pB,EACO,KAEG,WAAVA,EACO,EAEJmiB,EAAW0+B,aAAe1+B,EAAW+4B,eAChD,CACA,SAASc,GAAoC75B,EAAY25B,GACrD,MAAMsD,EAAkBj9B,EAAW07B,kBAAkBn0C,OAErD,GAAc,WADAyY,EAAWw6B,8BAA8BrmE,QAEnD,GAAqB,IAAjBwlE,EACA,MAAM,IAAI36E,UAAU,wEAGvB,CACD,GAAqB,IAAjB26E,EACA,MAAM,IAAI36E,UAAU,mFAExB,GAAIi+E,EAAgB5B,YAAc1B,EAAesD,EAAgBtyE,WAC7D,MAAM,IAAI/L,WAAW,4BAE7B,CACAq+E,EAAgBx7E,OAASk2E,GAAoBsF,EAAgBx7E,QAC7Dw8E,GAA4Cj+B,EAAY25B,EAC5D,CACA,SAASI,GAA+C/5B,EAAYs5B,GAChE,MAAM2D,EAAkBj9B,EAAW07B,kBAAkBn0C,OAErD,GAAc,WADAyY,EAAWw6B,8BAA8BrmE,QAEnD,GAAwB,IAApBmlE,EAAK3uE,WACL,MAAM,IAAI3L,UAAU,yFAIxB,GAAwB,IAApBs6E,EAAK3uE,WACL,MAAM,IAAI3L,UAAU,mGAG5B,GAAIi+E,EAAgBryE,WAAaqyE,EAAgB5B,cAAgB/B,EAAK1uE,WAClE,MAAM,IAAIhM,WAAW,2DAEzB,GAAIq+E,EAAgB7B,mBAAqB9B,EAAK73E,OAAOkJ,WACjD,MAAM,IAAI/L,WAAW,8DAEzB,GAAIq+E,EAAgB5B,YAAc/B,EAAK3uE,WAAasyE,EAAgBtyE,WAChE,MAAM,IAAI/L,WAAW,2DAEzB,MAAM+/E,EAAiBrF,EAAK3uE,WAC5BsyE,EAAgBx7E,OAASk2E,GAAoB2B,EAAK73E,QAClDw8E,GAA4Cj+B,EAAY2+B,EAC5D,CACA,SAASC,GAAkC7mE,EAAQioC,EAAY6+B,EAAgBC,EAAeC,EAAiB9hD,EAAe+9C,GAC1Hh7B,EAAWw6B,8BAAgCziE,EAC3CioC,EAAWm8B,YAAa,EACxBn8B,EAAWk8B,UAAW,EACtBl8B,EAAW+9B,aAAe,KAE1B/9B,EAAW5pD,OAAS4pD,EAAW+4B,qBAAkB9pF,EACjDgqF,GAAWj5B,GACXA,EAAWu6B,iBAAkB,EAC7Bv6B,EAAW87B,UAAW,EACtB97B,EAAW0+B,aAAezhD,EAC1B+iB,EAAWo8B,eAAiB0C,EAC5B9+B,EAAW66B,iBAAmBkE,EAC9B/+B,EAAWi7B,uBAAyBD,EACpCh7B,EAAW07B,kBAAoB,IAAI3K,EACnCh5D,EAAOo7D,0BAA4BnzB,EAEnCiwB,EAAYL,EADQiP,MAC0B,KAC1C7+B,EAAW87B,UAAW,EACtBH,GAA6C37B,GACtC,QACRp9C,IACC+3E,GAAkC36B,EAAYp9C,GACvC,OAEf,CAmCA,SAAS42E,GAA+B3nF,GACpC,OAAO,IAAImN,UAAU,uCAAuCnN,oDAChE,CAEA,SAASsoF,GAAwCtoF,GAC7C,OAAO,IAAImN,UAAU,0CAA0CnN,uDACnE,CASA,SAASmtF,GAAgCC,EAAM9uD,GAE3C,GAAa,SADb8uD,EAAO,GAAGA,KAEN,MAAM,IAAIjgF,UAAU,GAAGmxB,MAAY8uD,oEAEvC,OAAOA,CACX,CAWA,SAASC,GAAgCnnE,GACrC,OAAO,IAAIonE,GAAyBpnE,EACxC,CAEA,SAASqnE,GAAiCrnE,EAAQ0kE,GAC9C1kE,EAAOhjB,QAAQ2nF,kBAAkBvnF,KAAKsnF,EAC1C,CAWA,SAAST,GAAqCjkE,GAC1C,OAAOA,EAAOhjB,QAAQ2nF,kBAAkB9iF,MAC5C,CACA,SAASmiF,GAA4BhkE,GACjC,MAAMw6D,EAASx6D,EAAOhjB,QACtB,YAAe9F,IAAXsjF,KAGC8M,GAA2B9M,EAIpC,CAjkBApkF,OAAO+nF,iBAAiB8D,GAA6BxtE,UAAW,CAC5DvM,MAAO,CAAE6F,YAAY,GACrBiR,QAAS,CAAEjR,YAAY,GACvB/S,MAAO,CAAE+S,YAAY,GACrBm0E,YAAa,CAAEn0E,YAAY,GAC3Bu0E,YAAa,CAAEv0E,YAAY,KAE/BupE,EAAgB2K,GAA6BxtE,UAAUvM,MAAO,SAC9DovE,EAAgB2K,GAA6BxtE,UAAUuK,QAAS,WAChEs4D,EAAgB2K,GAA6BxtE,UAAUzZ,MAAO,SACpB,iBAA/Bk8E,EAAekH,aACtBhoF,OAAOC,eAAe4rF,GAA6BxtE,UAAWyiE,EAAekH,YAAa,CACtF7nF,MAAO,+BACPyX,cAAc,IA0jBtB,MAAMo5E,GACF7rF,YAAYykB,GAGR,GAFAg8D,EAAuBh8D,EAAQ,EAAG,4BAClCy8D,EAAqBz8D,EAAQ,mBACzBs9D,GAAuBt9D,GACvB,MAAM,IAAI/Y,UAAU,+EAExB,IAAKk7E,GAA+BniE,EAAOo7D,2BACvC,MAAM,IAAIn0E,UAAU,+FAGxBszE,EAAsC9+E,KAAMukB,GAC5CvkB,KAAKkpF,kBAAoB,IAAI3L,CACjC,CAKIuE,aACA,OAAK+J,GAA2B7rF,MAGzBA,KAAK6/E,eAFDxD,EAAoByP,GAA8B,UAGjE,CAIA9J,OAAO7oE,EAAS1d,WACZ,OAAKowF,GAA2B7rF,WAGEvE,IAA9BuE,KAAKg/E,qBACE3C,EAAoBuD,EAAoB,WAE5CN,EAAkCt/E,KAAMmZ,GALpCkjE,EAAoByP,GAA8B,UAMjE,CACA1uF,KAAK0oF,EAAMiG,EAAa,CAAC,GACrB,IAAKF,GAA2B7rF,MAC5B,OAAOq8E,EAAoByP,GAA8B,SAE7D,IAAKr0E,YAAYE,OAAOmuE,GACpB,OAAOzJ,EAAoB,IAAI7wE,UAAU,sCAE7C,GAAwB,IAApBs6E,EAAK3uE,WACL,OAAOklE,EAAoB,IAAI7wE,UAAU,uCAE7C,GAA+B,IAA3Bs6E,EAAK73E,OAAOkJ,WACZ,OAAOklE,EAAoB,IAAI7wE,UAAU,gDAE7C,GAAI84E,GAAiBwB,EAAK73E,QACtB,OAAOouE,EAAoB,IAAI7wE,UAAU,oCAE7C,IAAI7F,EACJ,IACIA,EAnGZ,SAAgCA,EAASg3B,GACrC,IAAIm/C,EAGJ,OAFAsE,EAAiBz6E,EAASg3B,GAEnB,CACH9wB,IAAK+0E,EAF4E,QAAxE9E,EAAKn2E,aAAyC,EAASA,EAAQkG,WAAwB,IAAPiwE,EAAgBA,EAAK,EAE5D,GAAGn/C,2BAE7D,CA4FsBqvD,CAAuBD,EAAY,UACjD,CACA,MAAO59E,GACH,OAAOkuE,EAAoBluE,EAC/B,CACA,MAAMtC,EAAMlG,EAAQkG,IACpB,GAAY,IAARA,EACA,OAAOwwE,EAAoB,IAAI7wE,UAAU,uCAE7C,GA90BR,SAAoBs6E,GAChB,OAAOJ,GAAsBI,EAAKhmF,YACtC,CA40BamsF,CAAWnG,IAKX,GAAIj6E,EAAMi6E,EAAK3uE,WAChB,OAAOklE,EAAoB,IAAIjxE,WAAW,qEAL1C,GAAIS,EAAMi6E,EAAK1/E,OACX,OAAOi2E,EAAoB,IAAIjxE,WAAW,4DAMlD,QAAkC3P,IAA9BuE,KAAKg/E,qBACL,OAAO3C,EAAoBuD,EAAoB,cAEnD,IAAIqC,EACAC,EACJ,MAAMlkD,EAAUk+C,GAAW,CAACtkD,EAASwB,KACjC6oD,EAAiBrqD,EACjBsqD,EAAgB9oD,CAAM,IAQ1B,OADA8yD,GAA6BlsF,KAAM8lF,EAAMj6E,EALjB,CACpB41E,YAAaplE,GAAS4lE,EAAe,CAAEnnF,MAAOuhB,EAAOzd,MAAM,IAC3D4iF,YAAanlE,GAAS4lE,EAAe,CAAEnnF,MAAOuhB,EAAOzd,MAAM,IAC3DwjF,YAAaj0E,GAAK+zE,EAAc/zE,KAG7B6vB,CACX,CAUAqkD,cACI,IAAKwJ,GAA2B7rF,MAC5B,MAAM8rF,GAA8B,oBAENrwF,IAA9BuE,KAAKg/E,sBAyCjB,SAAyCD,GACrCS,EAAmCT,GAEnCoN,GAA8CpN,EADpC,IAAIvzE,UAAU,uBAE5B,CA1CQ4gF,CAAgCpsF,KACpC,EAkBJ,SAAS6rF,GAA2Bl2E,GAChC,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,sBAGtCA,aAAag2E,EACxB,CACA,SAASO,GAA6BnN,EAAQ+G,EAAMj6E,EAAKo9E,GACrD,MAAM1kE,EAASw6D,EAAOC,qBACtBz6D,EAAOi+D,YAAa,EACE,YAAlBj+D,EAAO5D,OACPsoE,EAAgB7G,YAAY79D,EAAO86D,cA/hB3C,SAA8C7yB,EAAYs5B,EAAMj6E,EAAKo9E,GACjE,MAAM1kE,EAASioC,EAAWw6B,8BACpBrB,EAAOG,EAAKhmF,YACZioF,EAxXV,SAAoCpC,GAChC,OAAID,GAAsBC,GACf,EAEJA,EAAK0G,iBAChB,CAmXwBC,CAA2B3G,IACzC,WAAEvuE,EAAU,WAAED,GAAe2uE,EAC7BgC,EAAcj8E,EAAMk8E,EAC1B,IAAI95E,EACJ,IACIA,EAASk2E,GAAoB2B,EAAK73E,OACtC,CACA,MAAOE,GAEH,YADA86E,EAAgB7G,YAAYj0E,EAEhC,CACA,MAAMw5E,EAAqB,CACvB15E,SACA25E,iBAAkB35E,EAAOkJ,WACzBC,aACAD,aACA0wE,YAAa,EACbC,cACAC,cACAC,gBAAiBrC,EACjBsC,WAAY,QAEhB,GAAIz7B,EAAW07B,kBAAkB9hF,OAAS,EAMtC,OALAomD,EAAW07B,kBAAkBvmF,KAAKgmF,QAIlCiE,GAAiCrnE,EAAQ0kE,GAG7C,GAAsB,WAAlB1kE,EAAO5D,OAAX,CAKA,GAAI6rC,EAAW+4B,gBAAkB,EAAG,CAChC,GAAIoE,GAA4Dn9B,EAAYm7B,GAAqB,CAC7F,MAAMoB,EAAaC,GAAsDrB,GAGzE,OAFA0C,GAA6C79B,QAC7Cy8B,EAAgBxH,YAAYsH,EAEhC,CACA,GAAIv8B,EAAWu6B,gBAAiB,CAC5B,MAAM54E,EAAI,IAAI3C,UAAU,2DAGxB,OAFA27E,GAAkC36B,EAAYr+C,QAC9C86E,EAAgB7G,YAAYj0E,EAEhC,CACJ,CACAq+C,EAAW07B,kBAAkBvmF,KAAKgmF,GAClCiE,GAAiCrnE,EAAQ0kE,GACzCd,GAA6C37B,EAjB7C,KAJA,CACI,MAAM+/B,EAAY,IAAI5G,EAAKgC,EAAmB15E,OAAQ05E,EAAmBvwE,WAAY,GACrF6xE,EAAgBzH,YAAY+K,EAEhC,CAkBJ,CA2eQC,CAAqCjoE,EAAOo7D,0BAA2BmG,EAAMj6E,EAAKo9E,EAE1F,CAMA,SAASkD,GAA8CpN,EAAQ5wE,GAC3D,MAAMs+E,EAAmB1N,EAAOmK,kBAChCnK,EAAOmK,kBAAoB,IAAI3L,EAC/BkP,EAAiB3/E,SAAQm8E,IACrBA,EAAgB7G,YAAYj0E,EAAE,GAEtC,CAEA,SAAS29E,GAA8BztF,GACnC,OAAO,IAAImN,UAAU,sCAAsCnN,mDAC/D,CAEA,SAASquF,GAAqBC,EAAUC,GACpC,MAAM,cAAEnjD,GAAkBkjD,EAC1B,QAAsBlxF,IAAlBguC,EACA,OAAOmjD,EAEX,GAAI/I,GAAYp6C,IAAkBA,EAAgB,EAC9C,MAAM,IAAIr+B,WAAW,yBAEzB,OAAOq+B,CACX,CACA,SAASojD,GAAqBF,GAC1B,MAAM,KAAEnkE,GAASmkE,EACjB,OAAKnkE,GACM,KAAM,EAGrB,CAEA,SAASskE,GAAuBp6E,EAAMiqB,GAClCyjD,EAAiB1tE,EAAMiqB,GACvB,MAAM8M,EAAgB/2B,aAAmC,EAASA,EAAK+2B,cACjEjhB,EAAO9V,aAAmC,EAASA,EAAK8V,KAC9D,MAAO,CACHihB,mBAAiChuC,IAAlBguC,OAA8BhuC,EAAYilF,EAA0Bj3C,GACnFjhB,UAAe/sB,IAAT+sB,OAAqB/sB,EAAYsxF,GAA2BvkE,EAAM,GAAGmU,4BAEnF,CACA,SAASowD,GAA2B9pD,EAAItG,GAEpC,OADA0jD,EAAep9C,EAAItG,GACZtgB,GAASqkE,EAA0Bz9C,EAAG5mB,GACjD,CAyBA,SAAS2wE,GAAmC/pD,EAAIgqD,EAAUtwD,GAEtD,OADA0jD,EAAep9C,EAAItG,GACXxjB,GAAWmkE,EAAYr6C,EAAIgqD,EAAU,CAAC9zE,GAClD,CACA,SAAS+zE,GAAmCjqD,EAAIgqD,EAAUtwD,GAEtD,OADA0jD,EAAep9C,EAAItG,GACZ,IAAM2gD,EAAYr6C,EAAIgqD,EAAU,GAC3C,CACA,SAASE,GAAmClqD,EAAIgqD,EAAUtwD,GAEtD,OADA0jD,EAAep9C,EAAItG,GACX6vB,GAAe0wB,EAAYj6C,EAAIgqD,EAAU,CAACzgC,GACtD,CACA,SAAS4gC,GAAmCnqD,EAAIgqD,EAAUtwD,GAEtD,OADA0jD,EAAep9C,EAAItG,GACZ,CAACtgB,EAAOmwC,IAAe8wB,EAAYr6C,EAAIgqD,EAAU,CAAC5wE,EAAOmwC,GACpE,CAEA,SAAS6gC,GAAqB13E,EAAGgnB,GAC7B,IAAK2wD,GAAiB33E,GAClB,MAAM,IAAInK,UAAU,GAAGmxB,6BAE/B,CAhIAhiC,OAAO+nF,iBAAiBiJ,GAAyB3yE,UAAW,CACxDgpE,OAAQ,CAAE1vE,YAAY,GACtBlV,KAAM,CAAEkV,YAAY,GACpB+vE,YAAa,CAAE/vE,YAAY,GAC3BwvE,OAAQ,CAAExvE,YAAY,KAE1BupE,EAAgB8P,GAAyB3yE,UAAUgpE,OAAQ,UAC3DnG,EAAgB8P,GAAyB3yE,UAAU5b,KAAM,QACzDy+E,EAAgB8P,GAAyB3yE,UAAUqpE,YAAa,eACtB,iBAA/B5G,EAAekH,aACtBhoF,OAAOC,eAAe+wF,GAAyB3yE,UAAWyiE,EAAekH,YAAa,CAClF7nF,MAAO,2BACPyX,cAAc,IAkItB,MAAMg7E,GAAqD,mBAApB5xB,gBAkBvC,MAAM6xB,GACF1tF,YAAY2tF,EAAoB,CAAC,EAAGC,EAAc,CAAC,QACrBjyF,IAAtBgyF,EACAA,EAAoB,KAGpBnN,EAAamN,EAAmB,mBAEpC,MAAMd,EAAWG,GAAuBY,EAAa,oBAC/CC,EArFd,SAA+BV,EAAUtwD,GACrCyjD,EAAiB6M,EAAUtwD,GAC3B,MAAM5N,EAAQk+D,aAA2C,EAASA,EAASl+D,MACrEtiB,EAAQwgF,aAA2C,EAASA,EAASxgF,MACrE0O,EAAQ8xE,aAA2C,EAASA,EAAS9xE,MACrEnU,EAAOimF,aAA2C,EAASA,EAASjmF,KACpEgN,EAAQi5E,aAA2C,EAASA,EAASj5E,MAC3E,MAAO,CACH+a,WAAiBtzB,IAAVszB,OACHtzB,EACAuxF,GAAmCj+D,EAAOk+D,EAAU,GAAGtwD,6BAC3DlwB,WAAiBhR,IAAVgR,OACHhR,EACAyxF,GAAmCzgF,EAAOwgF,EAAU,GAAGtwD,6BAC3DxhB,WAAiB1f,IAAV0f,OACH1f,EACA0xF,GAAmChyE,EAAO8xE,EAAU,GAAGtwD,6BAC3D3oB,WAAiBvY,IAAVuY,OACHvY,EACA2xF,GAAmCp5E,EAAOi5E,EAAU,GAAGtwD,6BAC3D31B,OAER,CA+D+B4mF,CAAsBH,EAAmB,mBAGhE,GAFAI,GAAyB7tF,WAEZvE,IADAkyF,EAAe3mF,KAExB,MAAM,IAAIoE,WAAW,6BAEzB,MAAM0iF,EAAgBjB,GAAqBF,IAqrBnD,SAAgEpoE,EAAQopE,EAAgBlkD,EAAeqkD,GACnG,MAAMthC,EAAa7xD,OAAOqL,OAAO+nF,GAAgC/0E,WACjE,IAAIqyE,EACA2C,EACAC,EACAC,EAEA7C,OADyB5vF,IAAzBkyF,EAAexyE,MACE,IAAMwyE,EAAexyE,MAAMqxC,GAG3B,KAAe,EAGhCwhC,OADyBvyF,IAAzBkyF,EAAe35E,MACEqI,GAASsxE,EAAe35E,MAAMqI,EAAOmwC,GAGrC,IAAM4vB,OAAoB3gF,GAG3CwyF,OADyBxyF,IAAzBkyF,EAAelhF,MACE,IAAMkhF,EAAelhF,QAGrB,IAAM2vE,OAAoB3gF,GAG3CyyF,OADyBzyF,IAAzBkyF,EAAe5+D,MACE5V,GAAUw0E,EAAe5+D,MAAM5V,GAG/B,IAAMijE,OAAoB3gF,GAE/C0yF,GAAqC5pE,EAAQioC,EAAY6+B,EAAgB2C,EAAgBC,EAAgBC,EAAgBzkD,EAAeqkD,EAC5I,CAltBQM,CAAuDpuF,KAAM2tF,EADvCjB,GAAqBC,EAAU,GACuCmB,EAChG,CAIIO,aACA,IAAKf,GAAiBttF,MAClB,MAAMsuF,GAA4B,UAEtC,OAAOC,GAAuBvuF,KAClC,CAUA+uB,MAAM5V,EAAS1d,WACX,OAAK6xF,GAAiBttF,MAGlBuuF,GAAuBvuF,MAChBq8E,EAAoB,IAAI7wE,UAAU,oDAEtCgjF,GAAoBxuF,KAAMmZ,GALtBkjE,EAAoBiS,GAA4B,SAM/D,CASA7hF,QACI,OAAK6gF,GAAiBttF,MAGlBuuF,GAAuBvuF,MAChBq8E,EAAoB,IAAI7wE,UAAU,oDAEzCijF,GAAoCzuF,MAC7Bq8E,EAAoB,IAAI7wE,UAAU,2CAEtCkjF,GAAoB1uF,MARhBq8E,EAAoBiS,GAA4B,SAS/D,CASAK,YACI,IAAKrB,GAAiBttF,MAClB,MAAMsuF,GAA4B,aAEtC,OAAOM,GAAmC5uF,KAC9C,EAkBJ,SAAS4uF,GAAmCrqE,GACxC,OAAO,IAAIsqE,GAA4BtqE,EAC3C,CASA,SAASspE,GAAyBtpE,GAC9BA,EAAO5D,OAAS,WAGhB4D,EAAO86D,kBAAe5jF,EACtB8oB,EAAOuqE,aAAUrzF,EAGjB8oB,EAAOwqE,+BAA4BtzF,EAGnC8oB,EAAOyqE,eAAiB,IAAIzR,EAG5Bh5D,EAAO0qE,2BAAwBxzF,EAG/B8oB,EAAO2qE,mBAAgBzzF,EAGvB8oB,EAAO4qE,2BAAwB1zF,EAE/B8oB,EAAO6qE,0BAAuB3zF,EAE9B8oB,EAAO8qE,eAAgB,CAC3B,CACA,SAAS/B,GAAiB33E,GACtB,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,8BAGtCA,aAAa63E,EACxB,CACA,SAASe,GAAuBhqE,GAC5B,YAAuB9oB,IAAnB8oB,EAAOuqE,OAIf,CACA,SAASN,GAAoBjqE,EAAQpL,GACjC,IAAI2iE,EACJ,GAAsB,WAAlBv3D,EAAO5D,QAAyC,YAAlB4D,EAAO5D,OACrC,OAAOy7D,OAAoB3gF,GAE/B8oB,EAAOwqE,0BAA0BO,aAAen2E,EACa,QAA5D2iE,EAAKv3D,EAAOwqE,0BAA0BQ,wBAAqC,IAAPzT,GAAyBA,EAAG/sD,MAAM5V,GAIvG,MAAMkxB,EAAQ9lB,EAAO5D,OACrB,GAAc,WAAV0pB,GAAgC,YAAVA,EACtB,OAAO+xC,OAAoB3gF,GAE/B,QAAoCA,IAAhC8oB,EAAO6qE,qBACP,OAAO7qE,EAAO6qE,qBAAqBI,SAEvC,IAAIC,GAAqB,EACX,aAAVplD,IACAolD,GAAqB,EAErBt2E,OAAS1d,GAEb,MAAMuiC,EAAUk+C,GAAW,CAACtkD,EAASwB,KACjC7U,EAAO6qE,qBAAuB,CAC1BI,cAAU/zF,EACVi0F,SAAU93D,EACV+3D,QAASv2D,EACTw2D,QAASz2E,EACT02E,oBAAqBJ,EACxB,IAML,OAJAlrE,EAAO6qE,qBAAqBI,SAAWxxD,EAClCyxD,GACDK,GAA4BvrE,EAAQpL,GAEjC6kB,CACX,CACA,SAAS0wD,GAAoBnqE,GACzB,MAAM8lB,EAAQ9lB,EAAO5D,OACrB,GAAc,WAAV0pB,GAAgC,YAAVA,EACtB,OAAOgyC,EAAoB,IAAI7wE,UAAU,kBAAkB6+B,+DAE/D,MAAMrM,EAAUk+C,GAAW,CAACtkD,EAASwB,KACjC,MAAM22D,EAAe,CACjBL,SAAU93D,EACV+3D,QAASv2D,GAEb7U,EAAO2qE,cAAgBa,CAAY,IAEjCC,EAASzrE,EAAOuqE,QAoiB1B,IAA8CtiC,EA/hB1C,YAJe/wD,IAAXu0F,GAAwBzrE,EAAO8qE,eAA2B,aAAVhlD,GAChD4lD,GAAiCD,GAmiBrCxK,GAD0Ch5B,EAhiBLjoC,EAAOwqE,0BAiiBXmB,GAAe,GAChDC,GAAoD3jC,GAjiB7CxuB,CACX,CAYA,SAASoyD,GAAgC7rE,EAAQhlB,GAE/B,aADAglB,EAAO5D,OAKrB0vE,GAA6B9rE,GAHzBurE,GAA4BvrE,EAAQhlB,EAI5C,CACA,SAASuwF,GAA4BvrE,EAAQpL,GACzC,MAAMqzC,EAAajoC,EAAOwqE,0BAC1BxqE,EAAO5D,OAAS,WAChB4D,EAAO86D,aAAelmE,EACtB,MAAM62E,EAASzrE,EAAOuqE,aACPrzF,IAAXu0F,GACAM,GAAsDN,EAAQ72E,IAgFtE,SAAkDoL,GAC9C,YAAqC9oB,IAAjC8oB,EAAO0qE,4BAAwExzF,IAAjC8oB,EAAO4qE,qBAI7D,CAnFSoB,CAAyChsE,IAAWioC,EAAW87B,UAChE+H,GAA6B9rE,EAErC,CACA,SAAS8rE,GAA6B9rE,GAClCA,EAAO5D,OAAS,UAChB4D,EAAOwqE,0BAA0BrQ,KACjC,MAAM8R,EAAcjsE,EAAO86D,aAK3B,GAJA96D,EAAOyqE,eAAeliF,SAAQ2jF,IAC1BA,EAAad,QAAQa,EAAY,IAErCjsE,EAAOyqE,eAAiB,IAAIzR,OACQ9hF,IAAhC8oB,EAAO6qE,qBAEP,YADAsB,GAAkDnsE,GAGtD,MAAMosE,EAAepsE,EAAO6qE,qBAE5B,GADA7qE,EAAO6qE,0BAAuB3zF,EAC1Bk1F,EAAad,oBAGb,OAFAc,EAAahB,QAAQa,QACrBE,GAAkDnsE,GAItDk4D,EADgBl4D,EAAOwqE,0BAA0BtQ,GAAYkS,EAAaf,UACrD,KACjBe,EAAajB,WACbgB,GAAkDnsE,GAC3C,QACPpL,IACAw3E,EAAahB,QAAQx2E,GACrBu3E,GAAkDnsE,GAC3C,OAEf,CAuCA,SAASkqE,GAAoClqE,GACzC,YAA6B9oB,IAAzB8oB,EAAO2qE,oBAAgEzzF,IAAjC8oB,EAAO4qE,qBAIrD,CAcA,SAASuB,GAAkDnsE,QAC1B9oB,IAAzB8oB,EAAO2qE,gBACP3qE,EAAO2qE,cAAcS,QAAQprE,EAAO86D,cACpC96D,EAAO2qE,mBAAgBzzF,GAE3B,MAAMu0F,EAASzrE,EAAOuqE,aACPrzF,IAAXu0F,GACAY,GAAiCZ,EAAQzrE,EAAO86D,aAExD,CACA,SAASwR,GAAiCtsE,EAAQusE,GAC9C,MAAMd,EAASzrE,EAAOuqE,aACPrzF,IAAXu0F,GAAwBc,IAAiBvsE,EAAO8qE,gBAC5CyB,EAklBZ,SAAwCd,GACpCe,GAAoCf,EACxC,CAnlBYgB,CAA+BhB,GAG/BC,GAAiCD,IAGzCzrE,EAAO8qE,cAAgByB,CAC3B,CAxQAn2F,OAAO+nF,iBAAiB8K,GAAex0E,UAAW,CAC9C+V,MAAO,CAAEzc,YAAY,GACrB7F,MAAO,CAAE6F,YAAY,GACrBq8E,UAAW,CAAEr8E,YAAY,GACzB+7E,OAAQ,CAAE/7E,YAAY,KAE1BupE,EAAgB2R,GAAex0E,UAAU+V,MAAO,SAChD8sD,EAAgB2R,GAAex0E,UAAUvM,MAAO,SAChDovE,EAAgB2R,GAAex0E,UAAU21E,UAAW,aACV,iBAA/BlT,EAAekH,aACtBhoF,OAAOC,eAAe4yF,GAAex0E,UAAWyiE,EAAekH,YAAa,CACxE7nF,MAAO,iBACPyX,cAAc,IAkQtB,MAAMs8E,GACF/uF,YAAYykB,GAGR,GAFAg8D,EAAuBh8D,EAAQ,EAAG,+BAClC8oE,GAAqB9oE,EAAQ,mBACzBgqE,GAAuBhqE,GACvB,MAAM,IAAI/Y,UAAU,+EAExBxL,KAAKixF,qBAAuB1sE,EAC5BA,EAAOuqE,QAAU9uF,KACjB,MAAMqqC,EAAQ9lB,EAAO5D,OACrB,GAAc,aAAV0pB,GACKokD,GAAoClqE,IAAWA,EAAO8qE,cACvD0B,GAAoC/wF,MAGpCkxF,GAA8ClxF,MAElDmxF,GAAqCnxF,WAEpC,GAAc,aAAVqqC,EACL+mD,GAA8CpxF,KAAMukB,EAAO86D,cAC3D8R,GAAqCnxF,WAEpC,GAAc,WAAVqqC,EACL6mD,GAA8ClxF,MA0ftDmxF,GAzfuDnxF,MA0fvDqxF,GA1fuDrxF,UAE9C,CACD,MAAMwwF,EAAcjsE,EAAO86D,aAC3B+R,GAA8CpxF,KAAMwwF,GACpDc,GAA+CtxF,KAAMwwF,EACzD,CACJ,CAKI1O,aACA,OAAKyP,GAA8BvxF,MAG5BA,KAAK6/E,eAFDxD,EAAoBmV,GAAiC,UAGpE,CASI3K,kBACA,IAAK0K,GAA8BvxF,MAC/B,MAAMwxF,GAAiC,eAE3C,QAAkC/1F,IAA9BuE,KAAKixF,qBACL,MAAMQ,GAA2B,eAErC,OA2IR,SAAmDzB,GAC/C,MAAMzrE,EAASyrE,EAAOiB,qBAChB5mD,EAAQ9lB,EAAO5D,OACrB,MAAc,YAAV0pB,GAAiC,aAAVA,EAChB,KAEG,WAAVA,EACO,EAEJqnD,GAA8CntE,EAAOwqE,0BAChE,CArJe4C,CAA0C3xF,KACrD,CASI+pF,YACA,OAAKwH,GAA8BvxF,MAG5BA,KAAK4xF,cAFDvV,EAAoBmV,GAAiC,SAGpE,CAIAziE,MAAM5V,EAAS1d,WACX,OAAK81F,GAA8BvxF,WAGDvE,IAA9BuE,KAAKixF,qBACE5U,EAAoBoV,GAA2B,UAgFlE,SAA0CzB,EAAQ72E,GAE9C,OAAOq1E,GADQwB,EAAOiB,qBACa93E,EACvC,CAjFe04E,CAAiC7xF,KAAMmZ,GALnCkjE,EAAoBmV,GAAiC,SAMpE,CAIA/kF,QACI,IAAK8kF,GAA8BvxF,MAC/B,OAAOq8E,EAAoBmV,GAAiC,UAEhE,MAAMjtE,EAASvkB,KAAKixF,qBACpB,YAAex1F,IAAX8oB,EACO83D,EAAoBoV,GAA2B,UAEtDhD,GAAoClqE,GAC7B83D,EAAoB,IAAI7wE,UAAU,2CAEtCsmF,GAAiC9xF,KAC5C,CAWAqiF,cACI,IAAKkP,GAA8BvxF,MAC/B,MAAMwxF,GAAiC,oBAG5B/1F,IADAuE,KAAKixF,sBAIpBc,GAAmC/xF,KACvC,CACAgU,MAAMqI,EAAQ5gB,WACV,OAAK81F,GAA8BvxF,WAGDvE,IAA9BuE,KAAKixF,qBACE5U,EAAoBoV,GAA2B,aAEnDO,GAAiChyF,KAAMqc,GALnCggE,EAAoBmV,GAAiC,SAMpE,EAsBJ,SAASD,GAA8B57E,GACnC,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,yBAGtCA,aAAak5E,EACxB,CAMA,SAASiD,GAAiC9B,GAEtC,OAAOtB,GADQsB,EAAOiB,qBAE1B,CAoBA,SAASX,GAAsDN,EAAQzwF,GACjC,YAA9BywF,EAAOiC,mBACPC,GAAgClC,EAAQzwF,GAwYhD,SAAkDywF,EAAQ72E,GACtDi4E,GAA8CpB,EAAQ72E,EAC1D,CAvYQg5E,CAAyCnC,EAAQzwF,EAEzD,CAYA,SAASwyF,GAAmC/B,GACxC,MAAMzrE,EAASyrE,EAAOiB,qBAChBmB,EAAgB,IAAI5mF,UAAU,oFACpC8kF,GAAsDN,EAAQoC,GA9BlE,SAAgEpC,EAAQzwF,GACjC,YAA/BywF,EAAOqC,oBACPzB,GAAiCZ,EAAQzwF,GAwWjD,SAAmDywF,EAAQ72E,GACvDm4E,GAA+CtB,EAAQ72E,EAC3D,CAvWQm5E,CAA0CtC,EAAQzwF,EAE1D,CA0BIgzF,CAAuDvC,EAAQoC,GAC/D7tE,EAAOuqE,aAAUrzF,EACjBu0F,EAAOiB,0BAAuBx1F,CAClC,CACA,SAASu2F,GAAiChC,EAAQ3zE,GAC9C,MAAMkI,EAASyrE,EAAOiB,qBAChBzkC,EAAajoC,EAAOwqE,0BACpByD,EAmLV,SAAqDhmC,EAAYnwC,GAC7D,IACI,OAAOmwC,EAAWimC,uBAAuBp2E,EAC7C,CACA,MAAOq2E,GAEH,OADAC,GAA6CnmC,EAAYkmC,GAClD,CACX,CACJ,CA3LsBE,CAA4CpmC,EAAYnwC,GAC1E,GAAIkI,IAAWyrE,EAAOiB,qBAClB,OAAO5U,EAAoBoV,GAA2B,aAE1D,MAAMpnD,EAAQ9lB,EAAO5D,OACrB,GAAc,YAAV0pB,EACA,OAAOgyC,EAAoB93D,EAAO86D,cAEtC,GAAIoP,GAAoClqE,IAAqB,WAAV8lB,EAC/C,OAAOgyC,EAAoB,IAAI7wE,UAAU,6DAE7C,GAAc,aAAV6+B,EACA,OAAOgyC,EAAoB93D,EAAO86D,cAEtC,MAAMrhD,EA3XV,SAAuCzZ,GAQnC,OAPgB23D,GAAW,CAACtkD,EAASwB,KACjC,MAAMq3D,EAAe,CACjBf,SAAU93D,EACV+3D,QAASv2D,GAEb7U,EAAOyqE,eAAertF,KAAK8uF,EAAa,GAGhD,CAkXoBoC,CAA8BtuE,GAE9C,OA+KJ,SAA8CioC,EAAYnwC,EAAOm2E,GAC7D,IACIhN,GAAqBh5B,EAAYnwC,EAAOm2E,EAC5C,CACA,MAAOM,GAEH,YADAH,GAA6CnmC,EAAYsmC,EAE7D,CACA,MAAMvuE,EAASioC,EAAWumC,0BACrBtE,GAAoClqE,IAA6B,aAAlBA,EAAO5D,QAEvDkwE,GAAiCtsE,EADZyuE,GAA+CxmC,IAGxE2jC,GAAoD3jC,EACxD,CA9LIymC,CAAqCzmC,EAAYnwC,EAAOm2E,GACjDx0D,CACX,CA1GArjC,OAAO+nF,iBAAiBmM,GAA4B71E,UAAW,CAC3D+V,MAAO,CAAEzc,YAAY,GACrB7F,MAAO,CAAE6F,YAAY,GACrB+vE,YAAa,CAAE/vE,YAAY,GAC3B0B,MAAO,CAAE1B,YAAY,GACrBwvE,OAAQ,CAAExvE,YAAY,GACtBu0E,YAAa,CAAEv0E,YAAY,GAC3By3E,MAAO,CAAEz3E,YAAY,KAEzBupE,EAAgBgT,GAA4B71E,UAAU+V,MAAO,SAC7D8sD,EAAgBgT,GAA4B71E,UAAUvM,MAAO,SAC7DovE,EAAgBgT,GAA4B71E,UAAUqpE,YAAa,eACnExG,EAAgBgT,GAA4B71E,UAAUhF,MAAO,SACnB,iBAA/BynE,EAAekH,aACtBhoF,OAAOC,eAAei0F,GAA4B71E,UAAWyiE,EAAekH,YAAa,CACrF7nF,MAAO,8BACPyX,cAAc,IA2FtB,MAAM29E,GAAgB,CAAC,EAMvB,MAAMnC,GACFjuF,cACI,MAAM,IAAI0L,UAAU,sBACxB,CAQI0nF,kBACA,IAAKC,GAAkCnzF,MACnC,MAAMozF,GAAuC,eAEjD,OAAOpzF,KAAKsvF,YAChB,CAIIpjC,aACA,IAAKinC,GAAkCnzF,MACnC,MAAMozF,GAAuC,UAEjD,QAA8B33F,IAA1BuE,KAAKuvF,iBAIL,MAAM,IAAI/jF,UAAU,qEAExB,OAAOxL,KAAKuvF,iBAAiBrjC,MACjC,CAQA3sD,MAAM4O,EAAI1S,WACN,IAAK03F,GAAkCnzF,MACnC,MAAMozF,GAAuC,SAGnC,aADApzF,KAAK+yF,0BAA0BpyE,QAM7C0yE,GAAqCrzF,KAAMmO,EAC/C,CAEA,CAACswE,GAAYtlE,GACT,MAAM3Z,EAASQ,KAAKszF,gBAAgBn6E,GAEpC,OADAo6E,GAA+CvzF,MACxCR,CACX,CAEA,CAACk/E,KACG+G,GAAWzlF,KACf,EAcJ,SAASmzF,GAAkCx9E,GACvC,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,8BAGtCA,aAAao4E,EACxB,CACA,SAASI,GAAqC5pE,EAAQioC,EAAY6+B,EAAgB2C,EAAgBC,EAAgBC,EAAgBzkD,EAAeqkD,GAC7IthC,EAAWumC,0BAA4BxuE,EACvCA,EAAOwqE,0BAA4BviC,EAEnCA,EAAW5pD,YAASnH,EACpB+wD,EAAW+4B,qBAAkB9pF,EAC7BgqF,GAAWj5B,GACXA,EAAW8iC,kBAAe7zF,EAC1B+wD,EAAW+iC,iBA3rBf,WACI,GAAIhC,GACA,OAAO,IAAI5xB,eAGnB,CAsrBkC63B,GAC9BhnC,EAAW87B,UAAW,EACtB97B,EAAWimC,uBAAyB3E,EACpCthC,EAAW0+B,aAAezhD,EAC1B+iB,EAAWinC,gBAAkBzF,EAC7BxhC,EAAWknC,gBAAkBzF,EAC7BzhC,EAAW8mC,gBAAkBpF,EAC7B,MAAM4C,EAAekC,GAA+CxmC,GACpEqkC,GAAiCtsE,EAAQusE,GAGzCrU,EADqBL,EADDiP,MAEM,KACtB7+B,EAAW87B,UAAW,EACtB6H,GAAoD3jC,GAC7C,QACRp9C,IACCo9C,EAAW87B,UAAW,EACtB8H,GAAgC7rE,EAAQnV,GACjC,OAEf,CAkCA,SAASmkF,GAA+C/mC,GACpDA,EAAWinC,qBAAkBh4F,EAC7B+wD,EAAWknC,qBAAkBj4F,EAC7B+wD,EAAW8mC,qBAAkB73F,EAC7B+wD,EAAWimC,4BAAyBh3F,CACxC,CAcA,SAASi2F,GAA8CllC,GACnD,OAAOA,EAAW0+B,aAAe1+B,EAAW+4B,eAChD,CAiBA,SAAS4K,GAAoD3jC,GACzD,MAAMjoC,EAASioC,EAAWumC,0BAC1B,IAAKvmC,EAAW87B,SACZ,OAEJ,QAAqC7sF,IAAjC8oB,EAAO0qE,sBACP,OAGJ,GAAc,aADA1qE,EAAO5D,OAGjB,YADA0vE,GAA6B9rE,GAGjC,GAAiC,IAA7BioC,EAAW5pD,OAAOwD,OAClB,OAEJ,MAAMtL,EAAuB0xD,EAh0DN5pD,OAAOmxC,OAClBj5C,MAg0DRA,IAAUo1F,GAYlB,SAAqD1jC,GACjD,MAAMjoC,EAASioC,EAAWumC,2BA5e9B,SAAgDxuE,GAC5CA,EAAO4qE,sBAAwB5qE,EAAO2qE,cACtC3qE,EAAO2qE,mBAAgBzzF,CAC3B,EA0eIk4F,CAAuCpvE,GACvC6gE,GAAa54B,GACb,MAAMonC,EAAmBpnC,EAAWknC,kBACpCH,GAA+C/mC,GAC/CiwB,EAAYmX,GAAkB,KA1hBlC,SAA2CrvE,GACvCA,EAAO4qE,sBAAsBO,cAASj0F,GACtC8oB,EAAO4qE,2BAAwB1zF,EAEjB,aADA8oB,EAAO5D,SAGjB4D,EAAO86D,kBAAe5jF,OACcA,IAAhC8oB,EAAO6qE,uBACP7qE,EAAO6qE,qBAAqBM,WAC5BnrE,EAAO6qE,0BAAuB3zF,IAGtC8oB,EAAO5D,OAAS,SAChB,MAAMqvE,EAASzrE,EAAOuqE,aACPrzF,IAAXu0F,GACAqB,GAAkCrB,EAE1C,CA0gBQ6D,CAAkCtvE,GAC3B,QACRpL,IA3gBP,SAAoDoL,EAAQhlB,GACxDglB,EAAO4qE,sBAAsBQ,QAAQpwF,GACrCglB,EAAO4qE,2BAAwB1zF,OAEKA,IAAhC8oB,EAAO6qE,uBACP7qE,EAAO6qE,qBAAqBO,QAAQpwF,GACpCglB,EAAO6qE,0BAAuB3zF,GAElC20F,GAAgC7rE,EAAQhlB,EAC5C,CAmgBQu0F,CAA2CvvE,EAAQpL,GAC5C,OAEf,CAxBQ46E,CAA4CvnC,GAyBpD,SAAqDA,EAAYnwC,GAC7D,MAAMkI,EAASioC,EAAWumC,2BAtf9B,SAAqDxuE,GACjDA,EAAO0qE,sBAAwB1qE,EAAOyqE,eAAe3iF,OACzD,CAqfI2nF,CAA4CzvE,GAE5Ck4D,EADyBjwB,EAAWinC,gBAAgBp3E,IACtB,MA/iBlC,SAA2CkI,GACvCA,EAAO0qE,sBAAsBS,cAASj0F,GACtC8oB,EAAO0qE,2BAAwBxzF,CACnC,CA6iBQw4F,CAAkC1vE,GAClC,MAAM8lB,EAAQ9lB,EAAO5D,OAErB,GADAykE,GAAa54B,IACRiiC,GAAoClqE,IAAqB,aAAV8lB,EAAsB,CACtE,MAAMymD,EAAekC,GAA+CxmC,GACpEqkC,GAAiCtsE,EAAQusE,EAC7C,CAEA,OADAX,GAAoD3jC,GAC7C,IAAI,IACZrzC,IACuB,aAAlBoL,EAAO5D,QACP4yE,GAA+C/mC,GAvjB3D,SAAoDjoC,EAAQhlB,GACxDglB,EAAO0qE,sBAAsBU,QAAQpwF,GACrCglB,EAAO0qE,2BAAwBxzF,EAC/B20F,GAAgC7rE,EAAQhlB,EAC5C,CAqjBQ20F,CAA2C3vE,EAAQpL,GAC5C,OAEf,CA3CQg7E,CAA4C3nC,EAAY1xD,EAEhE,CACA,SAAS63F,GAA6CnmC,EAAYjtD,GACV,aAAhDitD,EAAWumC,0BAA0BpyE,QACrC0yE,GAAqC7mC,EAAYjtD,EAEzD,CAqCA,SAASyzF,GAA+CxmC,GAEpD,OADoBklC,GAA8CllC,IAC5C,CAC1B,CAEA,SAAS6mC,GAAqC7mC,EAAYjtD,GACtD,MAAMglB,EAASioC,EAAWumC,0BAC1BQ,GAA+C/mC,GAC/CsjC,GAA4BvrE,EAAQhlB,EACxC,CAEA,SAAS+uF,GAA4BjwF,GACjC,OAAO,IAAImN,UAAU,4BAA4BnN,yCACrD,CAEA,SAAS+0F,GAAuC/0F,GAC5C,OAAO,IAAImN,UAAU,6CAA6CnN,0DACtE,CAEA,SAASmzF,GAAiCnzF,GACtC,OAAO,IAAImN,UAAU,yCAAyCnN,sDAClE,CACA,SAASozF,GAA2BpzF,GAChC,OAAO,IAAImN,UAAU,UAAYnN,EAAO,oCAC5C,CACA,SAAS8yF,GAAqCnB,GAC1CA,EAAOnQ,eAAiB3D,GAAW,CAACtkD,EAASwB,KACzC42D,EAAOlQ,uBAAyBloD,EAChCo4D,EAAOjQ,sBAAwB3mD,EAC/B42D,EAAOqC,oBAAsB,SAAS,GAE9C,CACA,SAASf,GAA+CtB,EAAQ72E,GAC5Dg4E,GAAqCnB,GACrCY,GAAiCZ,EAAQ72E,EAC7C,CAKA,SAASy3E,GAAiCZ,EAAQ72E,QACT1d,IAAjCu0F,EAAOjQ,wBAGXhD,EAA0BiT,EAAOnQ,gBACjCmQ,EAAOjQ,sBAAsB5mE,GAC7B62E,EAAOlQ,4BAAyBrkF,EAChCu0F,EAAOjQ,2BAAwBtkF,EAC/Bu0F,EAAOqC,oBAAsB,WACjC,CAIA,SAAShB,GAAkCrB,QACDv0F,IAAlCu0F,EAAOlQ,yBAGXkQ,EAAOlQ,4BAAuBrkF,GAC9Bu0F,EAAOlQ,4BAAyBrkF,EAChCu0F,EAAOjQ,2BAAwBtkF,EAC/Bu0F,EAAOqC,oBAAsB,WACjC,CACA,SAAStB,GAAoCf,GACzCA,EAAO4B,cAAgB1V,GAAW,CAACtkD,EAASwB,KACxC42D,EAAOoE,sBAAwBx8D,EAC/Bo4D,EAAOqE,qBAAuBj7D,CAAM,IAExC42D,EAAOiC,mBAAqB,SAChC,CACA,SAASb,GAA8CpB,EAAQ72E,GAC3D43E,GAAoCf,GACpCkC,GAAgClC,EAAQ72E,EAC5C,CACA,SAAS+3E,GAA8ClB,GACnDe,GAAoCf,GACpCC,GAAiCD,EACrC,CACA,SAASkC,GAAgClC,EAAQ72E,QACT1d,IAAhCu0F,EAAOqE,uBAGXtX,EAA0BiT,EAAO4B,eACjC5B,EAAOqE,qBAAqBl7E,GAC5B62E,EAAOoE,2BAAwB34F,EAC/Bu0F,EAAOqE,0BAAuB54F,EAC9Bu0F,EAAOiC,mBAAqB,WAChC,CAOA,SAAShC,GAAiCD,QACDv0F,IAAjCu0F,EAAOoE,wBAGXpE,EAAOoE,2BAAsB34F,GAC7Bu0F,EAAOoE,2BAAwB34F,EAC/Bu0F,EAAOqE,0BAAuB54F,EAC9Bu0F,EAAOiC,mBAAqB,YAChC,CA/RAt3F,OAAO+nF,iBAAiBqL,GAAgC/0E,UAAW,CAC/Dk6E,YAAa,CAAE5gF,YAAY,GAC3B45C,OAAQ,CAAE55C,YAAY,GACtB/S,MAAO,CAAE+S,YAAY,KAEiB,iBAA/BmpE,EAAekH,aACtBhoF,OAAOC,eAAemzF,GAAgC/0E,UAAWyiE,EAAekH,YAAa,CACzF7nF,MAAO,kCACPyX,cAAc,IAsStB,MAAM45D,GAXwB,oBAAfpgC,WACAA,WAEc,oBAATt6B,KACLA,KAEgB,oBAAXgnC,OACLA,YADN,EAmDHzM,GAvBN,WACI,MAAM25C,EAAOxZ,cAAyC,EAASA,GAAQngC,aACvE,OAtBJ,SAAmC25C,GAC/B,GAAsB,mBAATA,GAAuC,iBAATA,EACvC,OAAO,EAEX,GAAkB,iBAAdA,EAAKtnF,KACL,OAAO,EAEX,IAEI,OADA,IAAIsnF,GACG,CACX,CACA,MAAO7J,GACH,OAAO,CACX,CACJ,CAQWwY,CAA0B3O,GAAQA,OAAOlqF,CACpD,CAoBqB84F,IAfrB,WAEI,MAAM5O,EAAO,SAAsBz0E,EAAS7S,GACxC2B,KAAKkR,QAAUA,GAAW,GAC1BlR,KAAK3B,KAAOA,GAAQ,QAChBpC,MAAMyjB,mBACNzjB,MAAMyjB,kBAAkB1f,KAAMA,KAAKF,YAE3C,EAIA,OAHA+7E,EAAgB8J,EAAM,gBACtBA,EAAK3sE,UAAYre,OAAOqL,OAAO/J,MAAM+c,WACrCre,OAAOC,eAAe+qF,EAAK3sE,UAAW,cAAe,CAAEle,MAAO6qF,EAAMp8D,UAAU,EAAMhX,cAAc,IAC3FozE,CACX,CAEwC6O,GAExC,SAASC,GAAqB3mF,EAAQyM,EAAMm6E,EAAcC,EAAc5R,EAAe72B,GACnF,MAAM6yB,EAASmC,EAAmCpzE,GAC5CkiF,EAASpB,GAAmCr0E,GAClDzM,EAAO00E,YAAa,EACpB,IAAIoS,GAAe,EAEfC,EAAezY,OAAoB3gF,GACvC,OAAOygF,GAAW,CAACtkD,EAASwB,KACxB,IAAI80D,EACJ,QAAezyF,IAAXywD,EAAsB,CAsBtB,GArBAgiC,EAAiB,KACb,MAAM3uF,OAA0B9D,IAAlBywD,EAAO/yC,OAAuB+yC,EAAO/yC,OAAS,IAAI6yB,GAAa,UAAW,cAClFknB,EAAU,GACXyhC,GACDzhC,EAAQvxD,MAAK,IACW,aAAhB4Y,EAAKoG,OACE6tE,GAAoBj0E,EAAMhb,GAE9B68E,OAAoB3gF,KAG9BsnF,GACD7vB,EAAQvxD,MAAK,IACa,aAAlBmM,EAAO6S,OACA4+D,GAAqBzxE,EAAQvO,GAEjC68E,OAAoB3gF,KAGnCq5F,GAAmB,IAAM9+E,QAAQC,IAAIi9C,EAAQ/0D,KAAI4pD,GAAUA,SAAY,EAAMxoD,EAAM,EAEnF2sD,EAAOlH,QAEP,YADAkpC,IAGJhiC,EAAO1yC,iBAAiB,QAAS00E,EACrC,CA2FA,IAA2B3pE,EAAQyZ,EAAS+pB,EAxB5C,GA9BAgtC,EAAmBjnF,EAAQixE,EAAOc,gBAAgB2Q,IACzCmE,EAIDK,GAAS,EAAMxE,GAHfsE,GAAmB,IAAMtG,GAAoBj0E,EAAMi2E,KAAc,EAAMA,GAKpE,QAGXuE,EAAmBx6E,EAAMy1E,EAAOnQ,gBAAgB2Q,IACvCzN,EAIDiS,GAAS,EAAMxE,GAHfsE,GAAmB,IAAMvV,GAAqBzxE,EAAQ0iF,KAAc,EAAMA,GAKvE,QAqCgBjsE,EAlCTzW,EAkCiBkwB,EAlCT+gD,EAAOc,eAkCW93B,EAlCK,KACxC2sC,EAIDM,IAHAF,GAAmB,IAtkBnC,SAA8D9E,GAC1D,MAAMzrE,EAASyrE,EAAOiB,qBAChB5mD,EAAQ9lB,EAAO5D,OACrB,OAAI8tE,GAAoClqE,IAAqB,WAAV8lB,EACxC+xC,OAAoB3gF,GAEjB,YAAV4uC,EACOgyC,EAAoB93D,EAAO86D,cAE/ByS,GAAiC9B,EAC5C,CA4jByCiF,CAAqDjF,KAK3E,MA4Be,WAAlBzrE,EAAO5D,OACPonC,IAGA20B,EAAgB1+C,EAAS+pB,GA7B7B0mC,GAAoCl0E,IAAyB,WAAhBA,EAAKoG,OAAqB,CACvE,MAAMu0E,EAAa,IAAI1pF,UAAU,+EAC5Bu3E,EAIDiS,GAAS,EAAME,GAHfJ,GAAmB,IAAMvV,GAAqBzxE,EAAQonF,KAAa,EAAMA,EAKjF,CAEA,SAASC,IAGL,MAAMC,EAAkBP,EACxB,OAAOvY,EAAmBuY,GAAc,IAAMO,IAAoBP,EAAeM,SAA0B15F,GAC/G,CACA,SAASs5F,EAAmBxwE,EAAQyZ,EAAS+pB,GACnB,YAAlBxjC,EAAO5D,OACPonC,EAAOxjC,EAAO86D,cAGd1C,EAAc3+C,EAAS+pB,EAE/B,CASA,SAAS+sC,EAAmB/sC,EAAQstC,EAAiBC,GAWjD,SAASC,IAEL,OADA9Y,EAAY10B,KAAU,IAAMytC,EAASH,EAAiBC,KAAgBG,GAAYD,GAAS,EAAMC,KAC1F,IACX,CAbIb,IAGJA,GAAe,EACK,aAAhBr6E,EAAKoG,QAA0B8tE,GAAoCl0E,GAInEg7E,IAHA7Y,EAAgByY,IAAyBI,GASjD,CACA,SAASP,EAASU,EAASn2F,GACnBq1F,IAGJA,GAAe,EACK,aAAhBr6E,EAAKoG,QAA0B8tE,GAAoCl0E,GAInEi7E,EAASE,EAASn2F,GAHlBm9E,EAAgByY,KAAyB,IAAMK,EAASE,EAASn2F,KAKzE,CACA,SAASi2F,EAASE,EAASn2F,GAYvB,OAXAwyF,GAAmC/B,GACnCxQ,EAAmCT,QACpBtjF,IAAXywD,GACAA,EAAOhyC,oBAAoB,QAASg0E,GAEpCwH,EACAt8D,EAAO75B,GAGPq4B,OAAQn8B,GAEL,IACX,CAhEAshF,EAvEWb,GAAW,CAACyZ,EAAaC,MAC5B,SAASjpF,EAAK/N,GACNA,EACA+2F,IAKArZ,EAORsY,EACOxY,GAAoB,GAExBE,EAAmB0T,EAAO4B,eAAe,IACrC1V,GAAW,CAAC2Z,EAAaC,KAC5B3T,EAAgCpD,EAAQ,CACpC0C,YAAaplE,IACTw4E,EAAevY,EAAmB0V,GAAiChC,EAAQ3zE,QAAQ5gB,EAAW4hC,GAC9Fw4D,GAAY,EAAM,EAEtBrU,YAAa,IAAMqU,GAAY,GAC/BzT,YAAa0T,GACf,MAnBiCnpF,EAAMipF,EAE7C,CACAjpF,EAAK,EAAM,IA4HnB,GAER,CAOA,MAAMopF,GACFj2F,cACI,MAAM,IAAI0L,UAAU,sBACxB,CAKIq7E,kBACA,IAAKmP,GAAkCh2F,MACnC,MAAMi2F,GAAuC,eAEjD,OAAOC,GAA8Cl2F,KACzD,CAKAyM,QACI,IAAKupF,GAAkCh2F,MACnC,MAAMi2F,GAAuC,SAEjD,IAAKE,GAAiDn2F,MAClD,MAAM,IAAIwL,UAAU,mDAExB4qF,GAAqCp2F,KACzC,CACAujB,QAAQlH,EAAQ5gB,WACZ,IAAKu6F,GAAkCh2F,MACnC,MAAMi2F,GAAuC,WAEjD,IAAKE,GAAiDn2F,MAClD,MAAM,IAAIwL,UAAU,qDAExB,OAAO6qF,GAAuCr2F,KAAMqc,EACxD,CAIA9c,MAAM4O,EAAI1S,WACN,IAAKu6F,GAAkCh2F,MACnC,MAAMi2F,GAAuC,SAEjDK,GAAqCt2F,KAAMmO,EAC/C,CAEA,CAACwwE,GAAaxlE,GACVssE,GAAWzlF,MACX,MAAMR,EAASQ,KAAKqnF,iBAAiBluE,GAErC,OADAo9E,GAA+Cv2F,MACxCR,CACX,CAEA,CAACo/E,GAAWyC,GACR,MAAM98D,EAASvkB,KAAKw2F,0BACpB,GAAIx2F,KAAK4C,OAAOwD,OAAS,EAAG,CACxB,MAAMiW,EAAQ+oE,GAAaplF,MACvBA,KAAK+mF,iBAA0C,IAAvB/mF,KAAK4C,OAAOwD,QACpCmwF,GAA+Cv2F,MAC/CsqF,GAAoB/lE,IAGpBkyE,GAAgDz2F,MAEpDqhF,EAAYI,YAAYplE,EAC5B,MAEI+kE,EAA6B78D,EAAQ88D,GACrCoV,GAAgDz2F,KAExD,CAEA,CAAC6+E,KAED,EAkBJ,SAASmX,GAAkCrgF,GACvC,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,8BAGtCA,aAAaogF,EACxB,CACA,SAASU,GAAgDjqC,GAClCkqC,GAA8ClqC,KAI7DA,EAAWk8B,SACXl8B,EAAWm8B,YAAa,GAG5Bn8B,EAAWk8B,UAAW,EAEtBjM,EADoBjwB,EAAWo8B,kBACN,KACrBp8B,EAAWk8B,UAAW,EAClBl8B,EAAWm8B,aACXn8B,EAAWm8B,YAAa,EACxB8N,GAAgDjqC,IAE7C,QACRr+C,IACCmoF,GAAqC9pC,EAAYr+C,GAC1C,SAEf,CACA,SAASuoF,GAA8ClqC,GACnD,MAAMjoC,EAASioC,EAAWgqC,0BAC1B,QAAKL,GAAiD3pC,MAGjDA,EAAW87B,cAGZzG,GAAuBt9D,IAAWm9D,EAAiCn9D,GAAU,IAG7D2xE,GAA8C1pC,GAChD,EAItB,CACA,SAAS+pC,GAA+C/pC,GACpDA,EAAWo8B,oBAAiBntF,EAC5B+wD,EAAW66B,sBAAmB5rF,EAC9B+wD,EAAWimC,4BAAyBh3F,CACxC,CAEA,SAAS26F,GAAqC5pC,GAC1C,IAAK2pC,GAAiD3pC,GAClD,OAEJ,MAAMjoC,EAASioC,EAAWgqC,0BAC1BhqC,EAAWu6B,iBAAkB,EACI,IAA7Bv6B,EAAW5pD,OAAOwD,SAClBmwF,GAA+C/pC,GAC/C89B,GAAoB/lE,GAE5B,CACA,SAAS8xE,GAAuC7pC,EAAYnwC,GACxD,IAAK85E,GAAiD3pC,GAClD,OAEJ,MAAMjoC,EAASioC,EAAWgqC,0BAC1B,GAAI3U,GAAuBt9D,IAAWm9D,EAAiCn9D,GAAU,EAC7Eg9D,EAAiCh9D,EAAQlI,GAAO,OAE/C,CACD,IAAIm2E,EACJ,IACIA,EAAYhmC,EAAWimC,uBAAuBp2E,EAClD,CACA,MAAOq2E,GAEH,MADA4D,GAAqC9pC,EAAYkmC,GAC3CA,CACV,CACA,IACIlN,GAAqBh5B,EAAYnwC,EAAOm2E,EAC5C,CACA,MAAOM,GAEH,MADAwD,GAAqC9pC,EAAYsmC,GAC3CA,CACV,CACJ,CACA2D,GAAgDjqC,EACpD,CACA,SAAS8pC,GAAqC9pC,EAAYr+C,GACtD,MAAMoW,EAASioC,EAAWgqC,0BACJ,aAAlBjyE,EAAO5D,SAGX8kE,GAAWj5B,GACX+pC,GAA+C/pC,GAC/Cw+B,GAAoBzmE,EAAQpW,GAChC,CACA,SAAS+nF,GAA8C1pC,GACnD,MAAMniB,EAAQmiB,EAAWgqC,0BAA0B71E,OACnD,MAAc,YAAV0pB,EACO,KAEG,WAAVA,EACO,EAEJmiB,EAAW0+B,aAAe1+B,EAAW+4B,eAChD,CAQA,SAAS4Q,GAAiD3pC,GACtD,MAAMniB,EAAQmiB,EAAWgqC,0BAA0B71E,OACnD,OAAK6rC,EAAWu6B,iBAA6B,aAAV18C,CAIvC,CACA,SAASssD,GAAqCpyE,EAAQioC,EAAY6+B,EAAgBC,EAAeC,EAAiB9hD,EAAeqkD,GAC7HthC,EAAWgqC,0BAA4BjyE,EACvCioC,EAAW5pD,YAASnH,EACpB+wD,EAAW+4B,qBAAkB9pF,EAC7BgqF,GAAWj5B,GACXA,EAAW87B,UAAW,EACtB97B,EAAWu6B,iBAAkB,EAC7Bv6B,EAAWm8B,YAAa,EACxBn8B,EAAWk8B,UAAW,EACtBl8B,EAAWimC,uBAAyB3E,EACpCthC,EAAW0+B,aAAezhD,EAC1B+iB,EAAWo8B,eAAiB0C,EAC5B9+B,EAAW66B,iBAAmBkE,EAC9BhnE,EAAOo7D,0BAA4BnzB,EAEnCiwB,EAAYL,EADQiP,MAC0B,KAC1C7+B,EAAW87B,UAAW,EACtBmO,GAAgDjqC,GACzC,QACRp9C,IACCknF,GAAqC9pC,EAAYp9C,GAC1C,OAEf,CA2BA,SAAS6mF,GAAuC53F,GAC5C,OAAO,IAAImN,UAAU,6CAA6CnN,0DACtE,CAmVA,SAASu4F,GAAmB9oF,GACxB,OAJO6tE,EADmBp3D,EAKDzW,SAJkC,IAArByW,EAAOigC,UAkEjD,SAAyCu6B,GACrC,IAAIx6D,EAgCJ,OADAA,EAASsyE,GA9Bcx5D,GACvB,WACI,IAAIy5D,EACJ,IACIA,EAAc/X,EAAO3hF,MACzB,CACA,MAAO+Q,GACH,OAAOkuE,EAAoBluE,EAC/B,CACA,OAAOyuE,EAAqBka,GAAaC,IACrC,IAAKpb,EAAaob,GACd,MAAM,IAAIvrF,UAAU,gFAExB,GAAIurF,EAAWn4F,KACXw3F,GAAqC7xE,EAAOo7D,+BAE3C,CACD,MAAM7kF,EAAQi8F,EAAWj8F,MACzBu7F,GAAuC9xE,EAAOo7D,0BAA2B7kF,EAC7E,IAER,IACA,SAAyBqe,GACrB,IACI,OAAOijE,EAAoB2C,EAAOiD,OAAO7oE,GAC7C,CACA,MAAOhL,GACH,OAAOkuE,EAAoBluE,EAC/B,CACJ,GAC8E,GACvEoW,CACX,CA/FeyyE,CAAgClpF,EAAO02C,aAItD,SAAoCyyC,GAChC,IAAI1yE,EACJ,MAAM2yE,EAAiBtS,GAAYqS,EAAe,SAqDlD,OADA1yE,EAASsyE,GAnDcx5D,GACvB,WACI,IAAI85D,EACJ,IACIA,EA32FZ,SAAsBD,GAClB,MAAM13F,EAAS09E,EAAYga,EAAejS,WAAYiS,EAAexb,SAAU,IAC/E,IAAKC,EAAan8E,GACd,MAAM,IAAIgM,UAAU,oDAExB,OAAOhM,CACX,CAq2FyB43F,CAAaF,EAC9B,CACA,MAAO/oF,GACH,OAAOkuE,EAAoBluE,EAC/B,CAEA,OAAOyuE,EADaR,EAAoB+a,IACCE,IACrC,IAAK1b,EAAa0b,GACd,MAAM,IAAI7rF,UAAU,kFAExB,MAAM5M,EA92FlB,SAA0By4F,GACtB,OAAOlxF,QAAQkxF,EAAWz4F,KAC9B,CA42FyB04F,CAAiBD,GAC9B,GAAIz4F,EACAw3F,GAAqC7xE,EAAOo7D,+BAE3C,CACD,MAAM7kF,EAh3FtB,SAAuBu8F,GACnB,OAAOA,EAAWv8F,KACtB,CA82F8By8F,CAAcF,GAC5BhB,GAAuC9xE,EAAOo7D,0BAA2B7kF,EAC7E,IAER,IACA,SAAyBqe,GACrB,MAAMuiE,EAAWwb,EAAexb,SAChC,IAAI8b,EAUAC,EATJ,IACID,EAAe9S,GAAUhJ,EAAU,SACvC,CACA,MAAOvtE,GACH,OAAOkuE,EAAoBluE,EAC/B,CACA,QAAqB1S,IAAjB+7F,EACA,OAAOpb,OAAoB3gF,GAG/B,IACIg8F,EAAeva,EAAYsa,EAAc9b,EAAU,CAACviE,GACxD,CACA,MAAOhL,GACH,OAAOkuE,EAAoBluE,EAC/B,CAEA,OAAOyuE,EADeR,EAAoBqb,IACCJ,IACvC,IAAK1b,EAAa0b,GACd,MAAM,IAAI7rF,UAAU,mFAER,GAExB,GAC8E,GACvE+Y,CACX,CA1DWmzE,CAA2B5pF,GARtC,IAA8ByW,CAS9B,CAsHA,SAASozE,GAAsC10D,EAAIgqD,EAAUtwD,GAEzD,OADA0jD,EAAep9C,EAAItG,GACXxjB,GAAWmkE,EAAYr6C,EAAIgqD,EAAU,CAAC9zE,GAClD,CACA,SAASy+E,GAAoC30D,EAAIgqD,EAAUtwD,GAEvD,OADA0jD,EAAep9C,EAAItG,GACX6vB,GAAe8wB,EAAYr6C,EAAIgqD,EAAU,CAACzgC,GACtD,CACA,SAASqrC,GAAqC50D,EAAIgqD,EAAUtwD,GAExD,OADA0jD,EAAep9C,EAAItG,GACX6vB,GAAe0wB,EAAYj6C,EAAIgqD,EAAU,CAACzgC,GACtD,CACA,SAASsrC,GAA0B9wF,EAAM21B,GAErC,GAAa,UADb31B,EAAO,GAAGA,KAEN,MAAM,IAAIwE,UAAU,GAAGmxB,MAAY31B,8DAEvC,OAAOA,CACX,CAQA,SAAS+wF,GAAmBpyF,EAASg3B,GACjCyjD,EAAiBz6E,EAASg3B,GAC1B,MAAMg4D,EAAehvF,aAAyC,EAASA,EAAQgvF,aACzE5R,EAAgBp9E,aAAyC,EAASA,EAAQo9E,cAC1E2R,EAAe/uF,aAAyC,EAASA,EAAQ+uF,aACzExoC,EAASvmD,aAAyC,EAASA,EAAQumD,OAIzE,YAHezwD,IAAXywD,GAUR,SAA2BA,EAAQvvB,GAC/B,IA98DJ,SAAuB7hC,GACnB,GAAqB,iBAAVA,GAAgC,OAAVA,EAC7B,OAAO,EAEX,IACI,MAAgC,kBAAlBA,EAAMkqD,OACxB,CACA,MAAO82B,GAEH,OAAO,CACX,CACJ,CAm8DSkc,CAAc9rC,GACf,MAAM,IAAI1gD,UAAU,GAAGmxB,2BAE/B,CAbQs7D,CAAkB/rC,EAAQ,GAAGvvB,8BAE1B,CACHg4D,aAAcxuF,QAAQwuF,GACtB5R,cAAe58E,QAAQ48E,GACvB2R,aAAcvuF,QAAQuuF,GACtBxoC,SAER,CAzrBAvxD,OAAO+nF,iBAAiBqT,GAAgC/8E,UAAW,CAC/DvM,MAAO,CAAE6F,YAAY,GACrBiR,QAAS,CAAEjR,YAAY,GACvB/S,MAAO,CAAE+S,YAAY,GACrBu0E,YAAa,CAAEv0E,YAAY,KAE/BupE,EAAgBka,GAAgC/8E,UAAUvM,MAAO,SACjEovE,EAAgBka,GAAgC/8E,UAAUuK,QAAS,WACnEs4D,EAAgBka,GAAgC/8E,UAAUzZ,MAAO,SACvB,iBAA/Bk8E,EAAekH,aACtBhoF,OAAOC,eAAem7F,GAAgC/8E,UAAWyiE,EAAekH,YAAa,CACzF7nF,MAAO,kCACPyX,cAAc,IAosBtB,MAAMg6C,GACFzsD,YAAYo4F,EAAsB,CAAC,EAAGxK,EAAc,CAAC,QACrBjyF,IAAxBy8F,EACAA,EAAsB,KAGtB5X,EAAa4X,EAAqB,mBAEtC,MAAMvL,EAAWG,GAAuBY,EAAa,oBAC/CyK,EAjGd,SAA8CrqF,EAAQ6uB,GAClDyjD,EAAiBtyE,EAAQ6uB,GACzB,MAAMswD,EAAWn/E,EACX05E,EAAwByF,aAA2C,EAASA,EAASzF,sBACrFxF,EAASiL,aAA2C,EAASA,EAASjL,OACtEoW,EAAOnL,aAA2C,EAASA,EAASmL,KACpEj9E,EAAQ8xE,aAA2C,EAASA,EAAS9xE,MACrEnU,EAAOimF,aAA2C,EAASA,EAASjmF,KAC1E,MAAO,CACHwgF,2BAAiD/rF,IAA1B+rF,OACnB/rF,EACAmlF,EAAwC4G,EAAuB,GAAG7qD,6CACtEqlD,YAAmBvmF,IAAXumF,OACJvmF,EACAk8F,GAAsC3V,EAAQiL,EAAU,GAAGtwD,8BAC/Dy7D,UAAe38F,IAAT28F,OACF38F,EACAm8F,GAAoCQ,EAAMnL,EAAU,GAAGtwD,4BAC3DxhB,WAAiB1f,IAAV0f,OACH1f,EACAo8F,GAAqC18E,EAAO8xE,EAAU,GAAGtwD,6BAC7D31B,UAAevL,IAATuL,OAAqBvL,EAAYq8F,GAA0B9wF,EAAM,GAAG21B,4BAElF,CA0EiC07D,CAAqCH,EAAqB,mBAEnF,GADAI,GAAyBt4F,MACK,UAA1Bm4F,EAAiBnxF,KAAkB,CACnC,QAAsBvL,IAAlBkxF,EAASnkE,KACT,MAAM,IAAIpd,WAAW,+DAl0ErC,SAA+DmZ,EAAQg0E,EAAsB9uD,GACzF,MAAM+iB,EAAa7xD,OAAOqL,OAAOwgF,GAA6BxtE,WAC9D,IAAIqyE,EACAC,EACAC,EAEAF,OAD+B5vF,IAA/B88F,EAAqBp9E,MACJ,IAAMo9E,EAAqBp9E,MAAMqxC,GAGjC,KAAe,EAGhC8+B,OAD8B7vF,IAA9B88F,EAAqBH,KACL,IAAMG,EAAqBH,KAAK5rC,GAGhC,IAAM4vB,OAAoB3gF,GAG1C8vF,OADgC9vF,IAAhC88F,EAAqBvW,OACH7oE,GAAUo/E,EAAqBvW,OAAO7oE,GAGtC,IAAMijE,OAAoB3gF,GAEhD,MAAM+rF,EAAwB+Q,EAAqB/Q,sBACnD,GAA8B,IAA1BA,EACA,MAAM,IAAIh8E,UAAU,gDAExB4/E,GAAkC7mE,EAAQioC,EAAY6+B,EAAgBC,EAAeC,EAAiB9hD,EAAe+9C,EACzH,CAyyEYgR,CAAsDx4F,KAAMm4F,EADtCzL,GAAqBC,EAAU,GAEzD,KACK,CACD,MAAMmB,EAAgBjB,GAAqBF,IA7jBvD,SAAkEpoE,EAAQ4zE,EAAkB1uD,EAAeqkD,GACvG,MAAMthC,EAAa7xD,OAAOqL,OAAO+vF,GAAgC/8E,WACjE,IAAIqyE,EACAC,EACAC,EAEAF,OAD2B5vF,IAA3B08F,EAAiBh9E,MACA,IAAMg9E,EAAiBh9E,MAAMqxC,GAG7B,KAAe,EAGhC8+B,OAD0B7vF,IAA1B08F,EAAiBC,KACD,IAAMD,EAAiBC,KAAK5rC,GAG5B,IAAM4vB,OAAoB3gF,GAG1C8vF,OAD4B9vF,IAA5B08F,EAAiBnW,OACC7oE,GAAUg/E,EAAiBnW,OAAO7oE,GAGlC,IAAMijE,OAAoB3gF,GAEhDk7F,GAAqCpyE,EAAQioC,EAAY6+B,EAAgBC,EAAeC,EAAiB9hD,EAAeqkD,EAC5H,CAuiBY2K,CAAyDz4F,KAAMm4F,EADzCzL,GAAqBC,EAAU,GAC2CmB,EACpG,CACJ,CAIIO,aACA,IAAKpN,GAAiBjhF,MAClB,MAAM04F,GAA4B,UAEtC,OAAO7W,GAAuB7hF,KAClC,CAOAgiF,OAAO7oE,EAAS1d,WACZ,OAAKwlF,GAAiBjhF,MAGlB6hF,GAAuB7hF,MAChBq8E,EAAoB,IAAI7wE,UAAU,qDAEtC+zE,GAAqBv/E,KAAMmZ,GALvBkjE,EAAoBqc,GAA4B,UAM/D,CACAl0C,UAAUunC,EAAatwF,WACnB,IAAKwlF,GAAiBjhF,MAClB,MAAM04F,GAA4B,aAGtC,YAAqBj9F,IAh0E7B,SAA8BkK,EAASg3B,GACnCyjD,EAAiBz6E,EAASg3B,GAC1B,MAAM8uD,EAAO9lF,aAAyC,EAASA,EAAQ8lF,KACvE,MAAO,CACHA,UAAehwF,IAATgwF,OAAqBhwF,EAAY+vF,GAAgCC,EAAM,GAAG9uD,4BAExF,CAyzEwBg8D,CAAqB5M,EAAY,mBACrCN,KACDvK,EAAmClhF,MAEvC0rF,GAAgC1rF,KAC3C,CACAqsD,YAAYusC,EAAc7M,EAAa,CAAC,GACpC,IAAK9K,GAAiBjhF,MAClB,MAAM04F,GAA4B,eAEtCnY,EAAuBqY,EAAc,EAAG,eACxC,MAAMjoE,EA/Ed,SAAqC20D,EAAM3oD,GACvCyjD,EAAiBkF,EAAM3oD,GACvB,MAAMrT,EAAWg8D,aAAmC,EAASA,EAAKh8D,SAClEk3D,EAAoBl3D,EAAU,WAAY,wBAC1C03D,EAAqB13D,EAAU,GAAGqT,gCAClC,MAAMpT,EAAW+7D,aAAmC,EAASA,EAAK/7D,SAGlE,OAFAi3D,EAAoBj3D,EAAU,WAAY,wBAC1C8jE,GAAqB9jE,EAAU,GAAGoT,gCAC3B,CAAErT,WAAUC,WACvB,CAsE0BsvE,CAA4BD,EAAc,mBACtDjzF,EAAUoyF,GAAmBhM,EAAY,oBAC/C,GAAIlK,GAAuB7hF,MACvB,MAAM,IAAIwL,UAAU,kFAExB,GAAI+iF,GAAuB59D,EAAUpH,UACjC,MAAM,IAAI/d,UAAU,kFAIxB,OADAuxE,EADgB0X,GAAqBz0F,KAAM2wB,EAAUpH,SAAU5jB,EAAQ+uF,aAAc/uF,EAAQgvF,aAAchvF,EAAQo9E,cAAep9E,EAAQumD,SAEnIv7B,EAAUrH,QACrB,CACAwvE,OAAOngE,EAAaozD,EAAa,CAAC,GAC9B,IAAK9K,GAAiBjhF,MAClB,OAAOq8E,EAAoBqc,GAA4B,WAE3D,QAAoBj9F,IAAhBk9B,EACA,OAAO0jD,EAAoB,wCAE/B,IAAKiR,GAAiB30D,GAClB,OAAO0jD,EAAoB,IAAI7wE,UAAU,8EAE7C,IAAI7F,EACJ,IACIA,EAAUoyF,GAAmBhM,EAAY,mBAC7C,CACA,MAAO59E,GACH,OAAOkuE,EAAoBluE,EAC/B,CACA,OAAI0zE,GAAuB7hF,MAChBq8E,EAAoB,IAAI7wE,UAAU,8EAEzC+iF,GAAuB51D,GAChB0jD,EAAoB,IAAI7wE,UAAU,8EAEtCipF,GAAqBz0F,KAAM24B,EAAahzB,EAAQ+uF,aAAc/uF,EAAQgvF,aAAchvF,EAAQo9E,cAAep9E,EAAQumD,OAC9H,CAYAkjB,MACI,IAAK6R,GAAiBjhF,MAClB,MAAM04F,GAA4B,OAGtC,OAAO5U,GA/nBP4C,IADmBniE,EA+nBgBvkB,MA9nBG2/E,2BAyG9C,SAA+Bp7D,GAC3B,IAMIw0E,EACAC,EACAC,EACAC,EACAC,EAVApa,EAASmC,EAAmC38D,GAC5C60E,GAAU,EACVC,GAAsB,EACtBC,GAAsB,EACtBC,GAAY,EACZC,GAAY,EAMhB,MAAMC,EAAgBvd,GAAWtkD,IAC7BuhE,EAAuBvhE,CAAO,IAElC,SAAS8hE,EAAmBC,GACxBhd,EAAcgd,EAAW9Z,gBAAgBzwE,IACjCuqF,IAAe5a,IAGnBoI,GAAkC8R,EAAQtZ,0BAA2BvwE,GACrE+3E,GAAkC+R,EAAQvZ,0BAA2BvwE,GAChEmqF,GAAcC,GACfL,OAAqB19F,IALd,OASnB,CACA,SAASm+F,IACD/N,GAA2B9M,KAC3BS,EAAmCT,GACnCA,EAASmC,EAAmC38D,GAC5Cm1E,EAAmB3a,IA4DvBoD,EAAgCpD,EA1DZ,CAChB0C,YAAaplE,IAIT2gE,GAAgB,KACZqc,GAAsB,EACtBC,GAAsB,EACtB,MAAMO,EAASx9E,EACf,IAAIy9E,EAASz9E,EACb,IAAKk9E,IAAcC,EACf,IACIM,EAAS3U,GAAkB9oE,EAC/B,CACA,MAAOktE,GAIH,OAHApC,GAAkC8R,EAAQtZ,0BAA2B4J,GACrEpC,GAAkC+R,EAAQvZ,0BAA2B4J,QACrE4P,EAAqB5Z,GAAqBh7D,EAAQglE,GAEtD,CAECgQ,GACDrS,GAAoC+R,EAAQtZ,0BAA2Bka,GAEtEL,GACDtS,GAAoCgS,EAAQvZ,0BAA2Bma,GAE3EV,GAAU,EACNC,EACAU,IAEKT,GACLU,GACJ,GACF,EAENxY,YAAa,KACT4X,GAAU,EACLG,GACDtS,GAAkCgS,EAAQtZ,2BAEzC6Z,GACDvS,GAAkCiS,EAAQvZ,2BAE1CsZ,EAAQtZ,0BAA0BuI,kBAAkB9hF,OAAS,GAC7DigF,GAAoC4S,EAAQtZ,0BAA2B,GAEvEuZ,EAAQvZ,0BAA0BuI,kBAAkB9hF,OAAS,GAC7DigF,GAAoC6S,EAAQvZ,0BAA2B,GAEtE4Z,GAAcC,GACfL,OAAqB19F,EACzB,EAEJ2mF,YAAa,KACTgX,GAAU,CAAK,GAI3B,CACA,SAASa,EAAmBnU,EAAMoU,GAC1BtY,EAA8B7C,KAC9BS,EAAmCT,GACnCA,EAAS2M,GAAgCnnE,GACzCm1E,EAAmB3a,IAEvB,MAAMob,EAAaD,EAAahB,EAAUD,EACpCmB,EAAcF,EAAajB,EAAUC,EAiE3ChN,GAA6BnN,EAAQ+G,EAAM,EAhEnB,CACpBrE,YAAaplE,IAIT2gE,GAAgB,KACZqc,GAAsB,EACtBC,GAAsB,EACtB,MAAMe,EAAeH,EAAaV,EAAYD,EAE9C,GADsBW,EAAaX,EAAYC,EAiBrCa,GACN9T,GAA+C4T,EAAWxa,0BAA2BtjE,OAjBrE,CAChB,IAAIitE,EACJ,IACIA,EAAcnE,GAAkB9oE,EACpC,CACA,MAAOktE,GAIH,OAHApC,GAAkCgT,EAAWxa,0BAA2B4J,GACxEpC,GAAkCiT,EAAYza,0BAA2B4J,QACzE4P,EAAqB5Z,GAAqBh7D,EAAQglE,GAEtD,CACK8Q,GACD9T,GAA+C4T,EAAWxa,0BAA2BtjE,GAEzF6qE,GAAoCkT,EAAYza,0BAA2B2J,EAC/E,CAIA8P,GAAU,EACNC,EACAU,IAEKT,GACLU,GACJ,GACF,EAENxY,YAAanlE,IACT+8E,GAAU,EACV,MAAMiB,EAAeH,EAAaV,EAAYD,EACxCe,EAAgBJ,EAAaX,EAAYC,EAC1Ca,GACDpT,GAAkCkT,EAAWxa,2BAE5C2a,GACDrT,GAAkCmT,EAAYza,gCAEpClkF,IAAV4gB,IACKg+E,GACD9T,GAA+C4T,EAAWxa,0BAA2BtjE,IAEpFi+E,GAAiBF,EAAYza,0BAA0BuI,kBAAkB9hF,OAAS,GACnFigF,GAAoC+T,EAAYza,0BAA2B,IAG9E0a,GAAiBC,GAClBnB,OAAqB19F,EACzB,EAEJ2mF,YAAa,KACTgX,GAAU,CAAK,GAI3B,CACA,SAASW,IACL,GAAIX,EAEA,OADAC,GAAsB,EACfjd,OAAoB3gF,GAE/B29F,GAAU,EACV,MAAM3S,EAAcG,GAA2CqS,EAAQtZ,2BAOvE,OANoB,OAAhB8G,EACAmT,IAGAK,EAAmBxT,EAAYR,OAAO,GAEnC7J,OAAoB3gF,EAC/B,CACA,SAASu+F,IACL,GAAIZ,EAEA,OADAE,GAAsB,EACfld,OAAoB3gF,GAE/B29F,GAAU,EACV,MAAM3S,EAAcG,GAA2CsS,EAAQvZ,2BAOvE,OANoB,OAAhB8G,EACAmT,IAGAK,EAAmBxT,EAAYR,OAAO,GAEnC7J,OAAoB3gF,EAC/B,CAqBA,SAAS4vF,IAET,CAIA,OAHA4N,EAAUsB,GAAyBlP,EAAgB0O,GAvBnD,SAA0B5gF,GAGtB,GAFAogF,GAAY,EACZR,EAAU5/E,EACNqgF,EAAW,CACX,MAAMgB,EAAkB1W,GAAoB,CAACiV,EAASC,IAChDyB,EAAelb,GAAqBh7D,EAAQi2E,GAClDrB,EAAqBsB,EACzB,CACA,OAAOhB,CACX,IAeAP,EAAUqB,GAAyBlP,EAAgB2O,GAdnD,SAA0B7gF,GAGtB,GAFAqgF,GAAY,EACZR,EAAU7/E,EACNogF,EAAW,CACX,MAAMiB,EAAkB1W,GAAoB,CAACiV,EAASC,IAChDyB,EAAelb,GAAqBh7D,EAAQi2E,GAClDrB,EAAqBsB,EACzB,CACA,OAAOhB,CACX,IAMAC,EAAmB3a,GACZ,CAACka,EAASC,EACrB,CAzUewB,CAAsBn2E,GAIrC,SAAkCA,EAAQo2E,GACtC,MAAM5b,EAASmC,EAAmC38D,GAClD,IAIIw0E,EACAC,EACAC,EACAC,EACAC,EARAC,GAAU,EACVwB,GAAY,EACZrB,GAAY,EACZC,GAAY,EAMhB,MAAMC,EAAgBvd,GAAWtkD,IAC7BuhE,EAAuBvhE,CAAO,IAElC,SAAS0zD,IACL,OAAI8N,GACAwB,GAAY,EACLxe,OAAoB3gF,KAE/B29F,GAAU,EA2CVjX,EAAgCpD,EA1CZ,CAChB0C,YAAaplE,IAIT2gE,GAAgB,KACZ4d,GAAY,EACZ,MAAMf,EAASx9E,EACTy9E,EAASz9E,EAMVk9E,GACDlD,GAAuC4C,EAAQtZ,0BAA2Bka,GAEzEL,GACDnD,GAAuC6C,EAAQvZ,0BAA2Bma,GAE9EV,GAAU,EACNwB,GACAtP,GACJ,GACF,EAEN9J,YAAa,KACT4X,GAAU,EACLG,GACDnD,GAAqC6C,EAAQtZ,2BAE5C6Z,GACDpD,GAAqC8C,EAAQvZ,2BAE5C4Z,GAAcC,GACfL,OAAqB19F,EACzB,EAEJ2mF,YAAa,KACTgX,GAAU,CAAK,IAIhBhd,OAAoB3gF,GAC/B,CAqBA,SAAS4vF,IAET,CAWA,OAVA4N,EAAUpC,GAAqBxL,EAAgBC,GAvB/C,SAA0BnyE,GAGtB,GAFAogF,GAAY,EACZR,EAAU5/E,EACNqgF,EAAW,CACX,MAAMgB,EAAkB1W,GAAoB,CAACiV,EAASC,IAChDyB,EAAelb,GAAqBh7D,EAAQi2E,GAClDrB,EAAqBsB,EACzB,CACA,OAAOhB,CACX,IAeAP,EAAUrC,GAAqBxL,EAAgBC,GAd/C,SAA0BnyE,GAGtB,GAFAqgF,GAAY,EACZR,EAAU7/E,EACNogF,EAAW,CACX,MAAMiB,EAAkB1W,GAAoB,CAACiV,EAASC,IAChDyB,EAAelb,GAAqBh7D,EAAQi2E,GAClDrB,EAAqBsB,EACzB,CACA,OAAOhB,CACX,IAMA9c,EAAcoC,EAAOc,gBAAiBzwE,IAClCknF,GAAqC2C,EAAQtZ,0BAA2BvwE,GACxEknF,GAAqC4C,EAAQvZ,0BAA2BvwE,GACnEmqF,GAAcC,GACfL,OAAqB19F,GAElB,QAEJ,CAACw9F,EAASC,EACrB,CArGW2B,CAAyBt2E,IAJpC,IAA2BA,CAioBvB,CACAzf,OAAOinF,EAAatwF,WAChB,IAAKwlF,GAAiBjhF,MAClB,MAAM04F,GAA4B,UAGtC,OAlxGR,SAA4Cn0E,EAAQw+D,GAChD,MAAMhE,EAASmC,EAAmC38D,GAC5Cu2E,EAAO,IAAIhY,GAAgC/D,EAAQgE,GACnDrH,EAAW/gF,OAAOqL,OAAOw9E,IAE/B,OADA9H,EAASgI,mBAAqBoX,EACvBpf,CACX,CA4wGeqf,CAAmC/6F,KAvKlD,SAAgC2F,EAASg3B,GACrCyjD,EAAiBz6E,EAqKsC,mBApKvD,MAAMo9E,EAAgBp9E,aAAyC,EAASA,EAAQo9E,cAChF,MAAO,CAAEA,cAAe58E,QAAQ48E,GACpC,CAkKwBiY,CAAuBjP,GACiBhJ,cAC5D,CAOAjgE,YAAYm0E,GACR,OAAOL,GAAmBK,EAC9B,EAoCJ,SAASJ,GAAqBxL,EAAgBC,EAAeC,EAAiB9hD,EAAgB,EAAGqkD,EAAgB,KAAM,IACnH,MAAMvpE,EAAS5pB,OAAOqL,OAAOumD,GAAevzC,WAI5C,OAHAs/E,GAAyB/zE,GAEzBoyE,GAAqCpyE,EADlB5pB,OAAOqL,OAAO+vF,GAAgC/8E,WACRqyE,EAAgBC,EAAeC,EAAiB9hD,EAAeqkD,GACjHvpE,CACX,CAEA,SAASg2E,GAAyBlP,EAAgBC,EAAeC,GAC7D,MAAMhnE,EAAS5pB,OAAOqL,OAAOumD,GAAevzC,WAI5C,OAHAs/E,GAAyB/zE,GAEzB6mE,GAAkC7mE,EADf5pB,OAAOqL,OAAOwgF,GAA6BxtE,WACRqyE,EAAgBC,EAAeC,EAAiB,OAAG9vF,GAClG8oB,CACX,CACA,SAAS+zE,GAAyB/zE,GAC9BA,EAAO5D,OAAS,WAChB4D,EAAOhjB,aAAU9F,EACjB8oB,EAAO86D,kBAAe5jF,EACtB8oB,EAAOi+D,YAAa,CACxB,CACA,SAASvB,GAAiBtrE,GACtB,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,8BAGtCA,aAAa42C,EACxB,CACA,SAASs1B,GAAuBt9D,GAC5B,YAAuB9oB,IAAnB8oB,EAAOhjB,OAIf,CAEA,SAASg+E,GAAqBh7D,EAAQpL,GAElC,GADAoL,EAAOi+D,YAAa,EACE,WAAlBj+D,EAAO5D,OACP,OAAOy7D,OAAoB3gF,GAE/B,GAAsB,YAAlB8oB,EAAO5D,OACP,OAAO07D,EAAoB93D,EAAO86D,cAEtCiL,GAAoB/lE,GACpB,MAAMw6D,EAASx6D,EAAOhjB,QACtB,QAAe9F,IAAXsjF,GAAwB8M,GAA2B9M,GAAS,CAC5D,MAAM0N,EAAmB1N,EAAOmK,kBAChCnK,EAAOmK,kBAAoB,IAAI3L,EAC/BkP,EAAiB3/E,SAAQm8E,IACrBA,EAAgBzH,iBAAY/lF,EAAU,GAE9C,CAEA,OAAOmhF,EADqBr4D,EAAOo7D,0BAA0BhB,GAAaxlE,GACzBkkB,EACrD,CACA,SAASitD,GAAoB/lE,GACzBA,EAAO5D,OAAS,SAChB,MAAMo+D,EAASx6D,EAAOhjB,QACtB,QAAe9F,IAAXsjF,IAGJG,EAAkCH,GAC9B6C,EAA8B7C,IAAS,CACvC,MAAM0D,EAAe1D,EAAOuC,cAC5BvC,EAAOuC,cAAgB,IAAI/D,EAC3BkF,EAAa31E,SAAQu0E,IACjBA,EAAYG,aAAa,GAEjC,CACJ,CACA,SAASwJ,GAAoBzmE,EAAQpW,GACjCoW,EAAO5D,OAAS,UAChB4D,EAAO86D,aAAelxE,EACtB,MAAM4wE,EAASx6D,EAAOhjB,aACP9F,IAAXsjF,IAGJU,EAAiCV,EAAQ5wE,GACrCyzE,EAA8B7C,GAC9BuD,GAA6CvD,EAAQ5wE,GAGrDg+E,GAA8CpN,EAAQ5wE,GAE9D,CAEA,SAASuqF,GAA4Br6F,GACjC,OAAO,IAAImN,UAAU,4BAA4BnN,yCACrD,CAEA,SAAS48F,GAA2BvoF,EAAMiqB,GACtCyjD,EAAiB1tE,EAAMiqB,GACvB,MAAM8M,EAAgB/2B,aAAmC,EAASA,EAAK+2B,cAEvE,OADA+2C,EAAoB/2C,EAAe,gBAAiB,uBAC7C,CACHA,cAAei3C,EAA0Bj3C,GAEjD,CArIA9uC,OAAO+nF,iBAAiBn2B,GAAgB,CACpC70C,KAAM,CAAEpF,YAAY,KAExB3X,OAAO+nF,iBAAiBn2B,GAAevzC,UAAW,CAC9CgpE,OAAQ,CAAE1vE,YAAY,GACtBkyC,UAAW,CAAElyC,YAAY,GACzB+5C,YAAa,CAAE/5C,YAAY,GAC3BwmF,OAAQ,CAAExmF,YAAY,GACtB88D,IAAK,CAAE98D,YAAY,GACnBxN,OAAQ,CAAEwN,YAAY,GACtB+7E,OAAQ,CAAE/7E,YAAY,KAE1BupE,EAAgBtvB,GAAe70C,KAAM,QACrCmkE,EAAgBtvB,GAAevzC,UAAUgpE,OAAQ,UACjDnG,EAAgBtvB,GAAevzC,UAAUwrC,UAAW,aACpDq3B,EAAgBtvB,GAAevzC,UAAUqzC,YAAa,eACtDwvB,EAAgBtvB,GAAevzC,UAAU8/E,OAAQ,UACjDjd,EAAgBtvB,GAAevzC,UAAUo2D,IAAK,OAC9CyM,EAAgBtvB,GAAevzC,UAAUlU,OAAQ,UACP,iBAA/B22E,EAAekH,aACtBhoF,OAAOC,eAAe2xD,GAAevzC,UAAWyiE,EAAekH,YAAa,CACxE7nF,MAAO,iBACPyX,cAAc,IAGsB,iBAAjCkpE,EAAeqJ,eACtBnqF,OAAOC,eAAe2xD,GAAevzC,UAAWyiE,EAAeqJ,cAAe,CAC1EhqF,MAAOyxD,GAAevzC,UAAUlU,OAChCykB,UAAU,EACVhX,cAAc,IA2GtB,MAAM2oF,GAA0B7+E,GACrBA,EAAMlF,WAEjB0kE,EAAgBqf,GAAwB,QAMxC,MAAMC,GACFr7F,YAAY6F,GACR46E,EAAuB56E,EAAS,EAAG,6BACnCA,EAAUs1F,GAA2Bt1F,EAAS,mBAC9C3F,KAAKo7F,wCAA0Cz1F,EAAQ8jC,aAC3D,CAIIA,oBACA,IAAK4xD,GAA4Br7F,MAC7B,MAAMs7F,GAA8B,iBAExC,OAAOt7F,KAAKo7F,uCAChB,CAII5yE,WACA,IAAK6yE,GAA4Br7F,MAC7B,MAAMs7F,GAA8B,QAExC,OAAOJ,EACX,EAaJ,SAASI,GAA8Bj9F,GACnC,OAAO,IAAImN,UAAU,uCAAuCnN,oDAChE,CACA,SAASg9F,GAA4B1lF,GACjC,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,4CAGtCA,aAAawlF,EACxB,CAtBAxgG,OAAO+nF,iBAAiByY,GAA0BniF,UAAW,CACzDywB,cAAe,CAAEn3B,YAAY,GAC7BkW,KAAM,CAAElW,YAAY,KAEkB,iBAA/BmpE,EAAekH,aACtBhoF,OAAOC,eAAeugG,GAA0BniF,UAAWyiE,EAAekH,YAAa,CACnF7nF,MAAO,4BACPyX,cAAc,IAkBtB,MAAMgpF,GAAoB,IACf,EAEX1f,EAAgB0f,GAAmB,QAMnC,MAAMC,GACF17F,YAAY6F,GACR46E,EAAuB56E,EAAS,EAAG,wBACnCA,EAAUs1F,GAA2Bt1F,EAAS,mBAC9C3F,KAAKy7F,mCAAqC91F,EAAQ8jC,aACtD,CAIIA,oBACA,IAAKiyD,GAAuB17F,MACxB,MAAM27F,GAAyB,iBAEnC,OAAO37F,KAAKy7F,kCAChB,CAKIjzE,WACA,IAAKkzE,GAAuB17F,MACxB,MAAM27F,GAAyB,QAEnC,OAAOJ,EACX,EAaJ,SAASI,GAAyBt9F,GAC9B,OAAO,IAAImN,UAAU,kCAAkCnN,+CAC3D,CACA,SAASq9F,GAAuB/lF,GAC5B,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,uCAGtCA,aAAa6lF,EACxB,CA2BA,SAASI,GAAgC34D,EAAIgqD,EAAUtwD,GAEnD,OADA0jD,EAAep9C,EAAItG,GACX6vB,GAAe8wB,EAAYr6C,EAAIgqD,EAAU,CAACzgC,GACtD,CACA,SAASqvC,GAAgC54D,EAAIgqD,EAAUtwD,GAEnD,OADA0jD,EAAep9C,EAAItG,GACX6vB,GAAe0wB,EAAYj6C,EAAIgqD,EAAU,CAACzgC,GACtD,CACA,SAASsvC,GAAoC74D,EAAIgqD,EAAUtwD,GAEvD,OADA0jD,EAAep9C,EAAItG,GACZ,CAACtgB,EAAOmwC,IAAe8wB,EAAYr6C,EAAIgqD,EAAU,CAAC5wE,EAAOmwC,GACpE,CACA,SAASuvC,GAAiC94D,EAAIgqD,EAAUtwD,GAEpD,OADA0jD,EAAep9C,EAAItG,GACXxjB,GAAWmkE,EAAYr6C,EAAIgqD,EAAU,CAAC9zE,GAClD,CAhEAxe,OAAO+nF,iBAAiB8Y,GAAqBxiF,UAAW,CACpDywB,cAAe,CAAEn3B,YAAY,GAC7BkW,KAAM,CAAElW,YAAY,KAEkB,iBAA/BmpE,EAAekH,aACtBhoF,OAAOC,eAAe4gG,GAAqBxiF,UAAWyiE,EAAekH,YAAa,CAC9E7nF,MAAO,uBACPyX,cAAc,IAoEtB,MAAMypF,GACFl8F,YAAYm8F,EAAiB,CAAC,EAAGC,EAAsB,CAAC,EAAGC,EAAsB,CAAC,QACvD1gG,IAAnBwgG,IACAA,EAAiB,MAErB,MAAMG,EAAmBtP,GAAuBoP,EAAqB,oBAC/DG,EAAmBvP,GAAuBqP,EAAqB,mBAC/DG,EA1Dd,SAA4BrP,EAAUtwD,GAClCyjD,EAAiB6M,EAAUtwD,GAC3B,MAAMqlD,EAASiL,aAA2C,EAASA,EAASjL,OACtEnjE,EAAQouE,aAA2C,EAASA,EAASpuE,MACrE09E,EAAetP,aAA2C,EAASA,EAASsP,aAC5EphF,EAAQ8xE,aAA2C,EAASA,EAAS9xE,MACrEwV,EAAYs8D,aAA2C,EAASA,EAASt8D,UACzE6rE,EAAevP,aAA2C,EAASA,EAASuP,aAClF,MAAO,CACHxa,YAAmBvmF,IAAXumF,OACJvmF,EACAsgG,GAAiC/Z,EAAQiL,EAAU,GAAGtwD,8BAC1D9d,WAAiBpjB,IAAVojB,OACHpjB,EACAmgG,GAAgC/8E,EAAOouE,EAAU,GAAGtwD,6BACxD4/D,eACAphF,WAAiB1f,IAAV0f,OACH1f,EACAogG,GAAgC1gF,EAAO8xE,EAAU,GAAGtwD,6BACxDhM,eAAyBl1B,IAAdk1B,OACPl1B,EACAqgG,GAAoCnrE,EAAWs8D,EAAU,GAAGtwD,iCAChE6/D,eAER,CAkC4BC,CAAmBR,EAAgB,mBACvD,QAAiCxgG,IAA7B6gG,EAAYC,aACZ,MAAM,IAAInxF,WAAW,kCAEzB,QAAiC3P,IAA7B6gG,EAAYE,aACZ,MAAM,IAAIpxF,WAAW,kCAEzB,MAAMsxF,EAAwBhQ,GAAqB2P,EAAkB,GAC/DM,EAAwB9P,GAAqBwP,GAC7CO,EAAwBlQ,GAAqB0P,EAAkB,GAC/DS,EAAwBhQ,GAAqBuP,GACnD,IAAIU,GA0CZ,SAAmCv4E,EAAQw4E,EAAcH,EAAuBC,EAAuBH,EAAuBC,GAC1H,SAAStR,IACL,OAAO0R,CACX,CAUAx4E,EAAOy4E,UAj2EX,SAA8B3R,EAAgB2C,EAAgBC,EAAgBC,EAAgBzkD,EAAgB,EAAGqkD,EAAgB,KAAM,IACnI,MAAMvpE,EAAS5pB,OAAOqL,OAAOwnF,GAAex0E,WAI5C,OAHA60E,GAAyBtpE,GAEzB4pE,GAAqC5pE,EADlB5pB,OAAOqL,OAAO+nF,GAAgC/0E,WACRqyE,EAAgB2C,EAAgBC,EAAgBC,EAAgBzkD,EAAeqkD,GACjIvpE,CACX,CA21EuB04E,CAAqB5R,GATxC,SAAwBhvE,GACpB,OA2NR,SAAkDkI,EAAQlI,GACtD,MAAMmwC,EAAajoC,EAAO24E,2BAC1B,OAAI34E,EAAO8qE,cAEAzS,EAD2Br4D,EAAO44E,4BACc,KACnD,MAAM5zE,EAAWhF,EAAOy4E,UAExB,GAAc,aADAzzE,EAAS5I,OAEnB,MAAM4I,EAAS81D,aAEnB,OAAO+d,GAAiD5wC,EAAYnwC,EAAM,IAG3E+gF,GAAiD5wC,EAAYnwC,EACxE,CAzOeghF,CAAyC94E,EAAQlI,EAC5D,IAIA,WACI,OAmQR,SAAkDkI,GAC9C,MAAMioC,EAAajoC,EAAO24E,2BAC1B,QAAkCzhG,IAA9B+wD,EAAW8wC,eACX,OAAO9wC,EAAW8wC,eAGtB,MAAMh0E,EAAW/E,EAAOg5E,UAGxB/wC,EAAW8wC,eAAiBphB,GAAW,CAACtkD,EAASwB,KAC7CozB,EAAWgxC,uBAAyB5lE,EACpC40B,EAAWixC,sBAAwBrkE,CAAM,IAE7C,MAAMskE,EAAelxC,EAAWmxC,kBAgBhC,OAfAC,GAAgDpxC,GAChDiwB,EAAYihB,GAAc,KACE,YAApBp0E,EAAS3I,OACTk9E,GAAqCrxC,EAAYljC,EAAS+1D,eAG1D+W,GAAqC9sE,EAASq2D,2BAC9Cme,GAAsCtxC,IAEnC,QACRp9C,IACCknF,GAAqChtE,EAASq2D,0BAA2BvwE,GACzEyuF,GAAqCrxC,EAAYp9C,GAC1C,QAEJo9C,EAAW8wC,cACtB,CAjSeS,CAAyCx5E,EACpD,IALA,SAAwBpL,GACpB,OAuOR,SAAkDoL,EAAQpL,GACtD,MAAMqzC,EAAajoC,EAAO24E,2BAC1B,QAAkCzhG,IAA9B+wD,EAAW8wC,eACX,OAAO9wC,EAAW8wC,eAGtB,MAAMh0E,EAAW/E,EAAOg5E,UAGxB/wC,EAAW8wC,eAAiBphB,GAAW,CAACtkD,EAASwB,KAC7CozB,EAAWgxC,uBAAyB5lE,EACpC40B,EAAWixC,sBAAwBrkE,CAAM,IAE7C,MAAMqgE,EAAgBjtC,EAAW66B,iBAAiBluE,GAgBlD,OAfAykF,GAAgDpxC,GAChDiwB,EAAYgd,GAAe,KACC,YAApBnwE,EAAS3I,OACTk9E,GAAqCrxC,EAAYljC,EAAS+1D,eAG1DiX,GAAqChtE,EAASq2D,0BAA2BxmE,GACzE2kF,GAAsCtxC,IAEnC,QACRp9C,IACCknF,GAAqChtE,EAASq2D,0BAA2BvwE,GACzEyuF,GAAqCrxC,EAAYp9C,GAC1C,QAEJo9C,EAAW8wC,cACtB,CArQeU,CAAyCz5E,EAAQpL,EAC5D,GAIwGyjF,EAAuBC,GAO/Ht4E,EAAOg5E,UAAY1G,GAAqBxL,GANxC,WACI,OA+RR,SAAmD9mE,GAI/C,OAFA05E,GAA+B15E,GAAQ,GAEhCA,EAAO44E,0BAClB,CApSee,CAA0C35E,EACrD,IACA,SAAyBpL,GACrB,OAkSR,SAAqDoL,EAAQpL,GACzD,MAAMqzC,EAAajoC,EAAO24E,2BAC1B,QAAkCzhG,IAA9B+wD,EAAW8wC,eACX,OAAO9wC,EAAW8wC,eAGtB,MAAM/zE,EAAWhF,EAAOy4E,UAIxBxwC,EAAW8wC,eAAiBphB,GAAW,CAACtkD,EAASwB,KAC7CozB,EAAWgxC,uBAAyB5lE,EACpC40B,EAAWixC,sBAAwBrkE,CAAM,IAE7C,MAAMqgE,EAAgBjtC,EAAW66B,iBAAiBluE,GAkBlD,OAjBAykF,GAAgDpxC,GAChDiwB,EAAYgd,GAAe,KACC,YAApBlwE,EAAS5I,OACTk9E,GAAqCrxC,EAAYjjC,EAAS81D,eAG1DsT,GAA6CppE,EAASwlE,0BAA2B51E,GACjFglF,GAA4B55E,GAC5Bu5E,GAAsCtxC,IAEnC,QACRp9C,IACCujF,GAA6CppE,EAASwlE,0BAA2B3/E,GACjF+uF,GAA4B55E,GAC5Bs5E,GAAqCrxC,EAAYp9C,GAC1C,QAEJo9C,EAAW8wC,cACtB,CAnUec,CAA4C75E,EAAQpL,EAC/D,GACwFujF,EAAuBC,GAE/Gp4E,EAAO8qE,mBAAgB5zF,EACvB8oB,EAAO44E,gCAA6B1hG,EACpC8oB,EAAO85E,wCAAqC5iG,EAC5CwiG,GAA+B15E,GAAQ,GACvCA,EAAO24E,gCAA6BzhG,CACxC,CAjEQ6iG,CAA0Bt+F,KAHLk8E,GAAWtkD,IAC5BklE,EAAuBllE,CAAO,IAEYglE,EAAuBC,EAAuBH,EAAuBC,GAyL3H,SAA8Dp4E,EAAQ+3E,GAClE,MAAM9vC,EAAa7xD,OAAOqL,OAAOu4F,GAAiCvlF,WAClE,IAAIwlF,EACAC,EACAlT,EAEAiT,OAD0B/iG,IAA1B6gG,EAAY3rE,UACStU,GAASigF,EAAY3rE,UAAUtU,EAAOmwC,GAGtCnwC,IACjB,IAEI,OADAqiF,GAAwClyC,EAAYnwC,GAC7C+/D,OAAoB3gF,EAC/B,CACA,MAAOkjG,GACH,OAAOtiB,EAAoBsiB,EAC/B,GAIJF,OADsBhjG,IAAtB6gG,EAAYz9E,MACK,IAAMy9E,EAAYz9E,MAAM2tC,GAGxB,IAAM4vB,OAAoB3gF,GAG3C8vF,OADuB9vF,IAAvB6gG,EAAYta,OACM7oE,GAAUmjF,EAAYta,OAAO7oE,GAG7B,IAAMijE,OAAoB3gF,GAvCpD,SAA+C8oB,EAAQioC,EAAYgyC,EAAoBC,EAAgBlT,GACnG/+B,EAAWoyC,2BAA6Br6E,EACxCA,EAAO24E,2BAA6B1wC,EACpCA,EAAWqyC,oBAAsBL,EACjChyC,EAAWmxC,gBAAkBc,EAC7BjyC,EAAW66B,iBAAmBkE,EAC9B/+B,EAAW8wC,oBAAiB7hG,EAC5B+wD,EAAWgxC,4BAAyB/hG,EACpC+wD,EAAWixC,2BAAwBhiG,CACvC,CAgCIqjG,CAAsCv6E,EAAQioC,EAAYgyC,EAAoBC,EAAgBlT,EAClG,CAxNQwT,CAAqD/+F,KAAMs8F,QACjC7gG,IAAtB6gG,EAAYnhF,MACZ2hF,EAAqBR,EAAYnhF,MAAMnb,KAAKk9F,6BAG5CJ,OAAqBrhG,EAE7B,CAII6tB,eACA,IAAK01E,GAAkBh/F,MACnB,MAAMi/F,GAA0B,YAEpC,OAAOj/F,KAAKu9F,SAChB,CAIIh0E,eACA,IAAKy1E,GAAkBh/F,MACnB,MAAMi/F,GAA0B,YAEpC,OAAOj/F,KAAKg9F,SAChB,EAwCJ,SAASgC,GAAkBrpF,GACvB,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,+BAGtCA,aAAaqmF,EACxB,CAEA,SAASkD,GAAqB36E,EAAQpW,GAClCmoF,GAAqC/xE,EAAOg5E,UAAU5d,0BAA2BxxE,GACjFgxF,GAA4C56E,EAAQpW,EACxD,CACA,SAASgxF,GAA4C56E,EAAQpW,GACzDyvF,GAAgDr5E,EAAO24E,4BACvDvK,GAA6CpuE,EAAOy4E,UAAUjO,0BAA2B5gF,GACzFgwF,GAA4B55E,EAChC,CACA,SAAS45E,GAA4B55E,GAC7BA,EAAO8qE,eAIP4O,GAA+B15E,GAAQ,EAE/C,CACA,SAAS05E,GAA+B15E,EAAQusE,QAEFr1F,IAAtC8oB,EAAO44E,4BACP54E,EAAO85E,qCAEX95E,EAAO44E,2BAA6BjhB,GAAWtkD,IAC3CrT,EAAO85E,mCAAqCzmE,CAAO,IAEvDrT,EAAO8qE,cAAgByB,CAC3B,CA1EAn2F,OAAO+nF,iBAAiBsZ,GAAgBhjF,UAAW,CAC/CsQ,SAAU,CAAEhX,YAAY,GACxBiX,SAAU,CAAEjX,YAAY,KAEc,iBAA/BmpE,EAAekH,aACtBhoF,OAAOC,eAAeohG,GAAgBhjF,UAAWyiE,EAAekH,YAAa,CACzE7nF,MAAO,kBACPyX,cAAc,IA0EtB,MAAMgsF,GACFz+F,cACI,MAAM,IAAI0L,UAAU,sBACxB,CAIIq7E,kBACA,IAAKuY,GAAmCp/F,MACpC,MAAMq/F,GAAqC,eAG/C,OAAOnJ,GADoBl2F,KAAK4+F,2BAA2BrB,UAAU5d,0BAEzE,CACAp8D,QAAQlH,EAAQ5gB,WACZ,IAAK2jG,GAAmCp/F,MACpC,MAAMq/F,GAAqC,WAE/CX,GAAwC1+F,KAAMqc,EAClD,CAKA9c,MAAM4Z,EAAS1d,WACX,IAAK2jG,GAAmCp/F,MACpC,MAAMq/F,GAAqC,SA6GvD,IAA2DlxF,IA3GPgL,EA4GhD+lF,GA5G0Cl/F,KA4GV4+F,2BAA4BzwF,EA3G5D,CAKAsX,YACI,IAAK25E,GAAmCp/F,MACpC,MAAMq/F,GAAqC,cA6GvD,SAAmD7yC,GAC/C,MAAMjoC,EAASioC,EAAWoyC,2BAE1BxI,GAD2B7xE,EAAOg5E,UAAU5d,2BAG5Cwf,GAA4C56E,EAD9B,IAAI/Y,UAAU,8BAEhC,CAjHQ8zF,CAA0Ct/F,KAC9C,EAkBJ,SAASo/F,GAAmCzpF,GACxC,QAAKgmE,EAAahmE,MAGbhb,OAAOqe,UAAUwhC,eAAetoC,KAAKyD,EAAG,+BAGtCA,aAAa4oF,EACxB,CA4CA,SAASX,GAAgDpxC,GACrDA,EAAWqyC,yBAAsBpjG,EACjC+wD,EAAWmxC,qBAAkBliG,EAC7B+wD,EAAW66B,sBAAmB5rF,CAClC,CACA,SAASijG,GAAwClyC,EAAYnwC,GACzD,MAAMkI,EAASioC,EAAWoyC,2BACpBW,EAAqBh7E,EAAOg5E,UAAU5d,0BAC5C,IAAKwW,GAAiDoJ,GAClD,MAAM,IAAI/zF,UAAU,wDAIxB,IACI6qF,GAAuCkJ,EAAoBljF,EAC/D,CACA,MAAOlO,GAGH,MADAgxF,GAA4C56E,EAAQpW,GAC9CoW,EAAOg5E,UAAUle,YAC3B,CACA,MAAMyR,EA5wCV,SAAwDtkC,GACpD,OAAIkqC,GAA8ClqC,EAItD,CAuwCyBgzC,CAA+CD,GAChEzO,IAAiBvsE,EAAO8qE,eACxB4O,GAA+B15E,GAAQ,EAE/C,CAIA,SAAS64E,GAAiD5wC,EAAYnwC,GAElE,OAAOugE,EADkBpwB,EAAWqyC,oBAAoBxiF,QACV5gB,GAAW2T,IAErD,MADA8vF,GAAqB1yC,EAAWoyC,2BAA4BxvF,GACtDA,CAAC,GAEf,CAgIA,SAASiwF,GAAqChhG,GAC1C,OAAO,IAAImN,UAAU,8CAA8CnN,2DACvE,CACA,SAASy/F,GAAsCtxC,QACD/wD,IAAtC+wD,EAAWgxC,yBAGfhxC,EAAWgxC,yBACXhxC,EAAWgxC,4BAAyB/hG,EACpC+wD,EAAWixC,2BAAwBhiG,EACvC,CACA,SAASoiG,GAAqCrxC,EAAYrzC,QACb1d,IAArC+wD,EAAWixC,wBAGf1gB,EAA0BvwB,EAAW8wC,gBACrC9wC,EAAWixC,sBAAsBtkF,GACjCqzC,EAAWgxC,4BAAyB/hG,EACpC+wD,EAAWixC,2BAAwBhiG,EACvC,CAEA,SAASwjG,GAA0B5gG,GAC/B,OAAO,IAAImN,UAAU,6BAA6BnN,0CACtD,CA9PA1D,OAAO+nF,iBAAiB6b,GAAiCvlF,UAAW,CAChEuK,QAAS,CAAEjR,YAAY,GACvB/S,MAAO,CAAE+S,YAAY,GACrBmT,UAAW,CAAEnT,YAAY,GACzBu0E,YAAa,CAAEv0E,YAAY,KAE/BupE,EAAgB0iB,GAAiCvlF,UAAUuK,QAAS,WACpEs4D,EAAgB0iB,GAAiCvlF,UAAUzZ,MAAO,SAClEs8E,EAAgB0iB,GAAiCvlF,UAAUyM,UAAW,aAC5B,iBAA/Bg2D,EAAekH,aACtBhoF,OAAOC,eAAe2jG,GAAiCvlF,UAAWyiE,EAAekH,YAAa,CAC1F7nF,MAAO,mCACPyX,cAAc,IAoPtB1X,EAAQsgG,0BAA4BA,GACpCtgG,EAAQ2gG,qBAAuBA,GAC/B3gG,EAAQ2rF,6BAA+BA,GACvC3rF,EAAQ0xD,eAAiBA,GACzB1xD,EAAQ8wF,yBAA2BA,GACnC9wF,EAAQgrF,0BAA4BA,GACpChrF,EAAQk7F,gCAAkCA,GAC1Cl7F,EAAQsmF,4BAA8BA,EACtCtmF,EAAQmhG,gBAAkBA,GAC1BnhG,EAAQ0jG,iCAAmCA,GAC3C1jG,EAAQ2yF,eAAiBA,GACzB3yF,EAAQkzF,gCAAkCA,GAC1ClzF,EAAQg0F,4BAA8BA,EAEzC,EAznJkE7mD,EAAQntC,mBCK3E,IAAII,EAAK,EAAQ,MACbwkG,EAAM,EAAQ,MACdC,EAAQ,cAqBZ,SAASC,EAAel0F,GACtB,aAEAA,EAAOA,GAAQ,CAAC,EAKhB,IAKIiiB,EACAxP,EANAzM,EAAOzR,KACPomB,EAAO,EAAQ,MACfyD,EAAQ,EAAQ,MAOhBvsB,EAAW,CAAC,EAIZsiG,GAAqB,EAGrBC,EAAiB,CACnB,aAAc,sBACd,OAAU,OAGRl5E,EAAUhsB,OAAOe,OAAO,CAAC,EAAGmkG,GAK5BC,EAA0B,CAC5B,iBACA,kBACA,iCACA,gCACA,aACA,iBACA,4BACA,SACA,UACA,OACA,SACA,OACA,aACA,SACA,UACA,KACA,UACA,oBACA,UACA,OAIEC,EAA0B,CAC5B,QACA,QACA,WAIEC,GAAW,EAEXC,GAAY,EACZC,GAAc,EAGdvmF,EAAY,CAAC,EAMjB3Z,KAAKmgG,OAAS,EACdngG,KAAKogG,OAAS,EACdpgG,KAAKqgG,iBAAmB,EACxBrgG,KAAKsgG,QAAU,EACftgG,KAAKugG,KAAO,EAOZvgG,KAAKqlB,WAAarlB,KAAKmgG,OAGvBngG,KAAKwgG,mBAAqB,KAG1BxgG,KAAK+vD,aAAe,GACpB/vD,KAAKygG,YAAc,GACnBzgG,KAAKu+C,OAAS,KACdv+C,KAAK0gG,WAAa,KAuClB1gG,KAAKoM,KAAO,SAASwc,EAAQF,EAAK/rB,EAAOsqD,EAAM74B,GAM7C,GALApuB,KAAK+uB,QACLkxE,GAAY,EACZC,GAAc,GApBU,SAASt3E,GACjC,OAAQA,IAAuD,IAA7Cm3E,EAAwBhzF,QAAQ6b,EACpD,CAqBO+3E,CAAoB/3E,GACvB,MAAM,IAAI3sB,MAAM,6CAGlBqB,EAAW,CACT,OAAUsrB,EACV,IAAOF,EAAI3V,WACX,MAA2B,kBAAVpW,GAA6BA,EAC9C,KAAQsqD,GAAQ,KAChB,SAAY74B,GAAY,MAG1BwyE,EAAS5gG,KAAKogG,OAChB,EAQApgG,KAAK6gG,sBAAwB,SAASx2D,GACpCu1D,EAAqBv1D,CACvB,EASArqC,KAAK8gG,iBAAmB,SAASlmF,EAAQ9f,GACvC,GAAIkF,KAAKqlB,YAAcrlB,KAAKogG,OAC1B,MAAM,IAAInkG,MAAM,6EAElB,IArEwB,SAAS2e,GACjC,OAAOglF,GAAuBhlF,IAAqE,IAA3DklF,EAAwB/yF,QAAQ6N,EAAOhL,cACjF,CAmEOmxF,CAAoBnmF,GAEvB,OADA3K,QAAQS,KAAK,iCAAmCkK,EAAS,MAClD,EAET,GAAIolF,EACF,MAAM,IAAI/jG,MAAM,wCAGlB,OADA0qB,EAAQ/L,GAAU9f,GACX,CACT,EAQAkF,KAAKghG,kBAAoB,SAASpmF,GAChC,MAAsB,iBAAXA,GACN5a,KAAKqlB,WAAarlB,KAAKogG,QACvBliF,EAASyI,QAAQ/L,EAAOhL,iBACvBqwF,EAEG/hF,EAASyI,QAAQ/L,EAAOhL,eAG1B,IACT,EAOA5P,KAAKihG,sBAAwB,WAC3B,GAAIjhG,KAAKqlB,WAAarlB,KAAKqgG,kBAAoBJ,EAC7C,MAAO,GAET,IAAIzgG,EAAS,GAEb,IAAK,IAAI+L,KAAK2S,EAASyI,QAEX,eAANpb,GAA4B,gBAANA,IACxB/L,GAAU+L,EAAI,KAAO2S,EAASyI,QAAQpb,GAAK,QAG/C,OAAO/L,EAAO2nC,OAAO,EAAG3nC,EAAO4G,OAAS,EAC1C,EAQApG,KAAKkhG,iBAAmB,SAAS7iG,GAE/B,MAAoB,iBAATA,GAAqBsoB,EAAQtoB,GAC/BsoB,EAAQtoB,GAGV,EACT,EAOA2B,KAAK6jB,KAAO,SAASvM,GACnB,GAAItX,KAAKqlB,YAAcrlB,KAAKogG,OAC1B,MAAM,IAAInkG,MAAM,wEAGlB,GAAI+jG,EACF,MAAM,IAAI/jG,MAAM,mDAGlB,IAEIqrB,EAFA65E,GAAM,EAAOC,GAAQ,EACrB14E,EAAM+2E,EAAIj6F,MAAMlI,EAASorB,KAG7B,OAAQA,EAAI1C,UACV,IAAK,SACHm7E,GAAM,EAER,IAAK,QACH75E,EAAOoB,EAAIsE,SACX,MAEF,IAAK,QACHo0E,GAAQ,EACR,MAEF,UAAK3lG,EACL,IAAK,GACH6rB,EAAO,YACP,MAEF,QACE,MAAM,IAAIrrB,MAAM,2BAIpB,GAAImlG,EAAJ,CACE,GAAwB,QAApB9jG,EAASsrB,OACX,MAAM,IAAI3sB,MAAM,gDAGlB,GAAIqB,EAASX,MACX1B,EAAGkmC,SAAS0J,SAASniB,EAAI6E,UAAW,QAAQ,SAAShuB,EAAO+X,GACtD/X,EACFkS,EAAK4vF,YAAY9hG,EAAOA,EAAMy2B,QAAU,IAExCvkB,EAAK8sC,OAAS,IACd9sC,EAAKs+C,aAAez4C,EACpBspF,EAASnvF,EAAK8uF,MAElB,SAEA,IACEvgG,KAAK+vD,aAAe90D,EAAGinC,aAAa2I,SAASniB,EAAI6E,UAAW,QAC5DvtB,KAAKu+C,OAAS,IACdqiD,EAASnvF,EAAK8uF,KAChB,CAAE,MAAMpyF,GACNnO,KAAKqhG,YAAYlzF,EAAGA,EAAE6nB,QAAU,EAClC,CAIJ,KA1BA,CA8BA,IAAIzO,EAAOmB,EAAInB,OAAS45E,EAAM,IAAM,IAEhCptC,EAAMrrC,EAAI6E,UAAY7E,EAAIsF,OAAStF,EAAIsF,OAAS,IASpD,GANArH,EAAc,KAAIW,EACX65E,GAAgB,MAAT55E,GAA0B,KAATA,IAC7BZ,EAAc,MAAK,IAAM+B,EAAInB,MAI3BjqB,EAAS2pD,KAAM,MACe,IAArB3pD,EAAS8wB,WAClB9wB,EAAS8wB,SAAW,IAEtB,IAAIkzE,EAAU,IAAItqF,OAAO1Z,EAAS2pD,KAAO,IAAM3pD,EAAS8wB,UACxDzH,EAAuB,cAAI,SAAW26E,EAAQvuF,SAAS,SACzD,CAGwB,QAApBzV,EAASsrB,QAAwC,SAApBtrB,EAASsrB,OACxCtR,EAAO,KACEA,GACTqP,EAAQ,kBAAoB3P,OAAOQ,SAASF,GAAQA,EAAKlR,OAAS4Q,OAAOG,WAAWG,GAE/EqP,EAAQ,kBACXA,EAAQ,gBAAkB,6BAEC,SAApBrpB,EAASsrB,SAGlBjC,EAAQ,kBAAoB,GAG9B,IAAI46E,EAAQ91F,EAAK81F,QAAS,EACtB57F,EAAU,CACZ2hB,KAAMA,EACNC,KAAMA,EACNtqB,KAAM82D,EACNnrC,OAAQtrB,EAASsrB,OACjBjC,QAASA,EACT46E,MAAOA,GAgBT,GAbIJ,IACFx7F,EAAQ67F,IAAM/1F,EAAK+1F,IACnB77F,EAAQ4N,IAAM9H,EAAK8H,IACnB5N,EAAQ87F,WAAah2F,EAAKg2F,WAC1B97F,EAAQ+7F,KAAOj2F,EAAKi2F,KACpB/7F,EAAQg8F,GAAKl2F,EAAKk2F,GAClBh8F,EAAQi8F,QAAUn2F,EAAKm2F,QACvBj8F,EAAQk8F,oBAAiD,IAA5Bp2F,EAAKo2F,oBAIpC5B,GAAY,EAER3iG,EAASX,MAAO,CAElB,IAAImlG,EAAYX,EAAMt3E,EAAM6D,QAAUtH,EAAKsH,QAG3CsyE,GAAW,EAGXvuF,EAAKswF,cAAc,oBAGnB,IAAIC,EAAkB,SAASC,GAM7B,GAA4B,OAH5B/jF,EAAW+jF,GAGEziF,YAA8C,MAAxBtB,EAASsB,YAA8C,MAAxBtB,EAASsB,WAAoB,CAE7FliB,EAASorB,IAAMxK,EAASyI,QAAQkI,SAChC,IAAInG,EAAM+2E,EAAIj6F,MAAMlI,EAASorB,KAE7BpB,EAAOoB,EAAIsE,SAEX,IAAIk1E,EAAa,CACfl1E,SAAUtE,EAAIsE,SACdzF,KAAMmB,EAAInB,KACVtqB,KAAMyrB,EAAIzrB,KACV2rB,OAAgC,MAAxB1K,EAASsB,WAAqB,MAAQliB,EAASsrB,OACvDjC,QAASA,GAiBX,OAdIw6E,IACFe,EAAWV,IAAM/1F,EAAK+1F,IACtBU,EAAW3uF,IAAM9H,EAAK8H,IACtB2uF,EAAWT,WAAah2F,EAAKg2F,WAC7BS,EAAWR,KAAOj2F,EAAKi2F,KACvBQ,EAAWP,GAAKl2F,EAAKk2F,GACrBO,EAAWN,QAAUn2F,EAAKm2F,QAC1BM,EAAWL,oBAAiD,IAA5Bp2F,EAAKo2F,yBAIvCn0E,EAAUo0E,EAAUI,EAAYF,GAAiB1+F,GAAG,QAAS45B,IACrD9hB,KAGV,CAEI8C,GAAYA,EAASikF,aACvBjkF,EAASikF,YAAY,QAGvBvB,EAASnvF,EAAK4uF,kBACd5uF,EAAK8sC,OAASrgC,EAASsB,WAEvBtB,EAAS5a,GAAG,QAAQ,SAAS+Y,GAEvBA,IACF5K,EAAKs+C,cAAgB1zC,GAGnB2jF,GACFY,EAASnvF,EAAK6uF,QAElB,IAEApiF,EAAS5a,GAAG,OAAO,WACb08F,IAGFA,GAAW,EAEXY,EAASnvF,EAAK8uF,MAElB,IAEAriF,EAAS5a,GAAG,SAAS,SAAS/D,GAC5BkS,EAAK4vF,YAAY9hG,EACnB,GACF,EAGI29B,EAAe,SAAS39B,GAC1BkS,EAAK4vF,YAAY9hG,EACnB,EAGAmuB,EAAUo0E,EAAUn8F,EAASq8F,GAAiB1+F,GAAG,QAAS45B,GAEtDzxB,EAAK22F,WACP10E,EAAQpqB,GAAG,UAAWif,IACpBA,EAAO8/E,OAAO,IAKd/qF,GACFoW,EAAQ1Z,MAAMsD,GAGhBoW,EAAQtS,MAER3J,EAAKswF,cAAc,YACrB,KAAO,CAEL,IAAIO,EAAc,gCAAkCzmG,QAAQ0mG,IACxDC,EAAW,6BAA+B3mG,QAAQ0mG,IACtDtnG,EAAGigF,cAAcsnB,EAAU,GAAI,QA4B/B,IA1BA,IAAIC,EAAa,iGACatB,EAAM,IAAM,IADzB,0BAEMlwF,KAAK5L,UAAUM,GAFrB,yNAUU28F,EAVV,uGAWOE,EAXP,iEAcUF,EAdV,mFAeOE,EAfP,2DAkBUF,EAlBV,mFAmBOE,EAnBP,UAqBZlrF,EAAO,cAAgBrG,KAAK5L,UAAUiS,GAAM5K,MAAM,GAAG,GAAGkC,QAAQ,KAAM,OAAS,MAAM,IACtF,aAEA8zF,EAAWhD,EAAM7jG,QAAQqoC,KAAK,GAAI,CAAC,KAAMu+D,IAEvCxnG,EAAGsyC,WAAWi1D,KAQpB,GALA/wF,EAAKs+C,aAAe90D,EAAGinC,aAAaogE,EAAa,QAEjDI,EAASC,MAAMvnF,MAEfngB,EAAG2nG,WAAWN,GACV7wF,EAAKs+C,aAAalhD,MAAM,+BAAgC,CAE1D,IAAIg0F,EAAWpxF,EAAKs+C,aAAanhD,QAAQ,8BAA+B,IACxE6C,EAAK4vF,YAAYwB,EAAU,IAC7B,MAEEpxF,EAAK8sC,OAAS9sC,EAAKs+C,aAAanhD,QAAQ,0CAA2C,MACnF6C,EAAKs+C,aAAet+C,EAAKs+C,aAAanhD,QAAQ,0CAA2C,MACzFgyF,EAASnvF,EAAK8uF,KAElB,CAvNA,CAwNF,EAMAvgG,KAAKqhG,YAAc,SAAS9hG,EAAOg/C,GACjCv+C,KAAKu+C,OAASA,GAAU,EACxBv+C,KAAK0gG,WAAanhG,EAClBS,KAAK+vD,aAAexwD,EAAMwM,MAC1Bk0F,GAAY,EACZW,EAAS5gG,KAAKugG,KAChB,EAKAvgG,KAAK+uB,MAAQ,WACPrB,IACFA,EAAQqB,QACRrB,EAAU,MAGZ/G,EAAUhsB,OAAOe,OAAO,CAAC,EAAGmkG,GAC5B7/F,KAAK+vD,aAAe,GACpB/vD,KAAKygG,YAAc,GAEnBR,EAAYC,GAAc,EACtBlgG,KAAKqlB,aAAerlB,KAAKmgG,QACrBngG,KAAKqlB,aAAerlB,KAAKogG,SAAUJ,GACpChgG,KAAKqlB,aAAerlB,KAAKugG,OAC9BP,GAAW,EACXY,EAAS5gG,KAAKugG,OAEhBvgG,KAAKqlB,WAAarlB,KAAKmgG,MACzB,EAKAngG,KAAKwZ,iBAAmB,SAASM,EAAO3c,GAChC2c,KAASH,IACbA,EAAUG,GAAS,IAGrBH,EAAUG,GAAOnY,KAAKxE,EACxB,EAMA6C,KAAKka,oBAAsB,SAASJ,EAAO3c,GACrC2c,KAASH,IAEXA,EAAUG,GAASH,EAAUG,GAAOxV,QAAO,SAASw+F,GAClD,OAAOA,IAAO3lG,CAChB,IAEJ,EAKA6C,KAAK+hG,cAAgB,SAASjoF,GAO5B,GANkC,mBAAvBrI,EAAK,KAAOqI,KACjB9Z,KAAKqlB,aAAerlB,KAAKugG,KAC3Br9F,cAAa,WAAauO,EAAK,KAAOqI,IAAS,IAE/CrI,EAAK,KAAOqI,MAEZA,KAASH,EACX,IAAK,IAAIpO,EAAI,EAAG6H,EAAMuG,EAAUG,GAAO1T,OAAQmF,EAAI6H,EAAK7H,IAClDvL,KAAKqlB,aAAerlB,KAAKugG,KAC3Br9F,cAAa,WAAayW,EAAUG,GAAOvO,GAAG2G,KAAKT,EAAM,IAEzDkI,EAAUG,GAAOvO,GAAG2G,KAAKT,EAGjC,EAOA,IAAImvF,EAAW,SAASv2D,GACtB,KAAK54B,EAAK4T,aAAeglB,GAAW54B,EAAK4T,aAAe5T,EAAK0uF,QAAUD,KAGvEzuF,EAAK4T,WAAaglB,GAEd/sC,EAASX,OAAS8U,EAAK4T,WAAa5T,EAAK2uF,QAAU3uF,EAAK4T,aAAe5T,EAAK8uF,OAC9E9uF,EAAKswF,cAAc,oBAGjBtwF,EAAK4T,aAAe5T,EAAK8uF,MAAM,CACjC,IAAIwC,EAGFA,EADE7C,EACK,QACAD,EACA,QAEA,OAETxuF,EAAKswF,cAAcgB,GAGnBtxF,EAAKswF,cAAc,UACrB,CACF,CACF,CA3oBA78F,EAAOrK,QAAU8kG,EAGjBA,EAAeA,eAAiBA,oBCxBhC,IAAiD33D,IAWxC,WACT,OAAgB,SAAU6E,GAEhB,IAAIm2D,EAAmB,CAAC,EAGxB,SAAS,EAAoBC,GAI5B,GAAGD,EAAiBC,GACnB,OAAOD,EAAiBC,GAAUpoG,QAGnC,IAAIqK,EAAS89F,EAAiBC,GAAY,CACzCpoG,QAAS,CAAC,EACVk8D,GAAIksC,EACJC,QAAQ,GAUT,OANAr2D,EAAQo2D,GAAU/wF,KAAKhN,EAAOrK,QAASqK,EAAQA,EAAOrK,QAAS,GAG/DqK,EAAOg+F,QAAS,EAGTh+F,EAAOrK,OACf,CAaA,OATA,EAAoBywC,EAAIuB,EAGxB,EAAoBp+B,EAAIu0F,EAGxB,EAAoBl4F,EAAI,GAGjB,EAAoB,EAC3B,CAzCM,CA2CN,CAEJ,SAAS5F,EAAQrK,EAAS,GAE/B,aAwBAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIqoG,EAAoB,EAAoB,GACxCC,EAAe,EAAoB,GACnCC,EAAW,EAAoB,GAC/BC,EAAc,EAAoB,IACtC,SAAS99F,EAAM0T,EAAMvT,EAAS49F,GAC1B,IAAIC,EAAiB,KACjBC,EAAgB,SAAU1nG,EAAMsiD,GAC5BklD,GACAA,EAASxnG,EAAMsiD,GAEfmlD,GACAA,EAAeE,MAAM3nG,EAAMsiD,EAEnC,EACIslD,EAAsC,mBAAbJ,EAA2BE,EAAgB,KACpEG,GAAiB,EACrB,GAAIj+F,EAAS,CACTi+F,EAA6C,kBAApBj+F,EAAQu+D,SAAyBv+D,EAAQu+D,QAClE,IAAI2/B,EAAkD,kBAA1Bl+F,EAAQk+F,eAA+Bl+F,EAAQk+F,eACvED,GAAkBC,MAClBL,EAAiB,IAAIL,EAAkBW,gBACxBC,OAASF,EACxBl+F,EAAQu+D,SAAU,EAClBy/B,EAAiBF,EAEzB,CACA,IAIIO,EAJAC,GAAW,EACXt+F,GAAyC,iBAAvBA,EAAQu+F,aAC1BD,EAAmC,WAAvBt+F,EAAQu+F,YAIpBF,EADAr+F,GAAkC,kBAAhBA,EAAQw+F,KAAqBx+F,EAAQw+F,IAC9C,IAAIf,EAAagB,UAAUlrF,EAAMvT,EAASg+F,GAG1C,IAAIN,EAASgB,OAAOnrF,EAAMvT,EAASg+F,GAEhD,IACIr9F,EADU29F,EAAWD,EAAOM,cAAgBN,EAAOO,cAWvD,OATIX,GAAkBJ,IAClBl9F,EAAIk+F,SAAWhB,EAAegB,UAE9BR,EAAOx3D,OAAOwG,SACd1sC,EAAI0sC,OAASgxD,EAAOhxD,QAEpBgxD,EAAOx3D,OAAOi4D,WACdn+F,EAAIk1D,OAASwoC,EAAO9mE,aAAas+B,QAE9Bl1D,CACX,CACAzL,EAAQ2K,MAAQA,EAMhB3K,EAAQypG,YALR,SAAqBprF,EAAMvT,EAAS49F,GAChC,IAAImB,EAAiB/+F,GAAW,CAAC,EAEjC,OADA++F,EAAeR,WAAa,SACrB1+F,EAAM0T,EAAMwrF,EAAgBnB,EACvC,EAOA1oG,EAAQ0pG,YALR,SAAqBrrF,EAAMvT,EAAS49F,GAChC,IAAImB,EAAiB/+F,GAAW,CAAC,EAEjC,OADA++F,EAAeR,WAAa,SACrB1+F,EAAM0T,EAAMwrF,EAAgBnB,EACvC,EA0BA1oG,EAAQ8pG,SAxBR,SAAkBzrF,EAAMvT,EAAS49F,GAC7B,IACIvwD,EADA4xD,EAAY,IAAItB,EAAYuB,UAAU3rF,EAAMvT,GAEhDqtC,EAAS,GACT,IACI,OAAa,CACT,IAAI33B,EAAQupF,EAAUE,eACtB,IAAKzpF,EACD,MAEAkoF,IACAloF,EAAQkoF,EAASloF,IAErB23B,EAAOrxC,KAAK0Z,EAChB,CACJ,CACA,MAAOlN,GACHy2F,EAAU1nE,aAAa6nE,SAAS52F,EACpC,CAIA,OAHIy2F,EAAU1nE,aAAaunE,WACvBzxD,EAAOwoB,OAASopC,EAAUppC,UAEvBxoB,CACX,EAEA,IAAIgyD,EAAW,EAAoB,GACnCnqG,EAAQoqG,OAASD,EAASC,OAE1BpqG,EAAQ8tB,QAAU,OAGb,EAEA,SAASzjB,EAAQrK,EAAS,GAE/B,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIkqG,EAAW,EAAoB,GAC/BlB,EAAkB,WAClB,SAASA,IACL9jG,KAAK+jG,QAAS,EACd/jG,KAAKwkG,SAAW,GAChBxkG,KAAK+L,MAAQ,GACb/L,KAAKklG,QAAU,GACfllG,KAAKmlG,SAAW,EACpB,CAwIA,OAvIArB,EAAe9qF,UAAUosF,oBAAsB,SAAUrpG,EAAMsiD,GAG3D,GAAItiD,EAAKiL,OAASg+F,EAASC,OAAOI,gBAAuC,IAArBtpG,EAAK4rB,KAAKvhB,OAAc,CAExE,IADA,IAAIk/F,EAAgB,GACX/5F,EAAIvL,KAAKklG,QAAQ9+F,OAAS,EAAGmF,GAAK,IAAKA,EAAG,CAC/C,IAAI5M,EAAQqB,KAAKklG,QAAQ35F,GACrB8yC,EAASjjC,IAAIrN,QAAUpP,EAAMwc,QAC7BmqF,EAAcxzF,QAAQnT,EAAMulE,SAC5BlkE,KAAKklG,QAAQl4F,OAAOzB,EAAG,GACvBvL,KAAKmlG,SAASn4F,OAAOzB,EAAG,GAEhC,CACI+5F,EAAcl/F,SACdrK,EAAKupG,cAAgBA,EAE7B,CACJ,EACAxB,EAAe9qF,UAAUusF,qBAAuB,SAAUlnD,GACtD,IAAImnD,EAAmB,GACvB,GAAIxlG,KAAKmlG,SAAS/+F,OAAS,EAAG,CAC1B,IAAK,IAAImF,EAAIvL,KAAKmlG,SAAS/+F,OAAS,EAAGmF,GAAK,IAAKA,EAAG,CAChD,IAAIgsB,EAAUv3B,KAAKmlG,SAAS55F,GACxBgsB,EAAQpc,OAASkjC,EAASjjC,IAAIrN,QAC9By3F,EAAiB1zF,QAAQylB,EAAQ2sC,QAEzC,CAEA,OADAlkE,KAAKmlG,SAAS/+F,OAAS,EAChBo/F,CACX,CACA,IAAI7mG,EAAQqB,KAAK+L,MAAM/L,KAAK+L,MAAM3F,OAAS,GAC3C,GAAIzH,GAASA,EAAM5C,KAAKypG,iBAAkB,CACtC,IAAIC,EAAe9mG,EAAM5C,KAAKypG,iBAAiB,GAC3CC,GAAgBA,EAAan+F,MAAM,IAAM+2C,EAASjjC,IAAIrN,SACtDy3F,EAAmB7mG,EAAM5C,KAAKypG,wBACvB7mG,EAAM5C,KAAKypG,iBAE1B,CACA,OAAOA,CACX,EACA1B,EAAe9qF,UAAU0sF,oBAAsB,SAAUrnD,GAGrD,IAFA,IACItnC,EADA4uF,EAAkB,GAEf3lG,KAAK+L,MAAM3F,OAAS,IACnBzH,EAAQqB,KAAK+L,MAAM/L,KAAK+L,MAAM3F,OAAS,KAC9BzH,EAAMwc,OAASkjC,EAASljC,MAAMpN,QACvCgJ,EAASpY,EAAM5C,KACfiE,KAAK+L,MAAMd,MAMnB,GAAI8L,EAAQ,CAER,IADA,IACSxL,GADGwL,EAAO4uF,gBAAkB5uF,EAAO4uF,gBAAgBv/F,OAAS,GAChD,EAAGmF,GAAK,IAAKA,EAAG,CACjC,IAAI24D,EAAUntD,EAAO4uF,gBAAgBp6F,GACjC24D,EAAQ58D,MAAM,IAAM+2C,EAASljC,MAAMpN,SACnC43F,EAAgB7zF,QAAQoyD,GACxBntD,EAAO4uF,gBAAgB34F,OAAOzB,EAAG,GAEzC,CAIA,OAHIwL,EAAO4uF,iBAAqD,IAAlC5uF,EAAO4uF,gBAAgBv/F,eAC1C2Q,EAAO4uF,gBAEXA,CACX,CACA,IAASp6F,EAAIvL,KAAKklG,QAAQ9+F,OAAS,EAAGmF,GAAK,IAAKA,EAAG,CAC/C,IAAI5M,KAAQqB,KAAKklG,QAAQ35F,IACf4P,OAASkjC,EAASljC,MAAMpN,SAC9B43F,EAAgB7zF,QAAQnT,EAAMulE,SAC9BlkE,KAAKklG,QAAQl4F,OAAOzB,EAAG,GAE/B,CACA,OAAOo6F,CACX,EACA7B,EAAe9qF,UAAU4sF,UAAY,SAAU7pG,EAAMsiD,GACjD,KAAItiD,EAAKiL,OAASg+F,EAASC,OAAOY,SAAW9pG,EAAK4rB,KAAKvhB,OAAS,GAAhE,CAGApG,KAAKolG,oBAAoBrpG,EAAMsiD,GAC/B,IAAImnD,EAAmBxlG,KAAKulG,qBAAqBlnD,GAC7CsnD,EAAkB3lG,KAAK0lG,oBAAoBrnD,GAC3CsnD,EAAgBv/F,OAAS,IACzBrK,EAAK4pG,gBAAkBA,GAEvBH,EAAiBp/F,OAAS,IAC1BrK,EAAKypG,iBAAmBA,GAE5BxlG,KAAK+L,MAAMpK,KAAK,CACZ5F,KAAMA,EACNof,MAAOkjC,EAASljC,MAAMpN,QAZ1B,CAcJ,EACA+1F,EAAe9qF,UAAU8sF,aAAe,SAAU/pG,EAAMsiD,GACpD,IAAIr3C,EAAyB,MAAjBjL,EAAKiL,KAAK,GAAc,OAAS,QACzCk9D,EAAU,CACVl9D,KAAMA,EACNlM,MAAOiB,EAAKjB,OAShB,GAPIiB,EAAKuL,QACL48D,EAAQ58D,MAAQvL,EAAKuL,OAErBvL,EAAKgqG,MACL7hC,EAAQ6hC,IAAMhqG,EAAKgqG,KAEvB/lG,KAAKwkG,SAAS7iG,KAAKuiE,GACflkE,KAAK+jG,OAAQ,CACb,IAAIplG,EAAQ,CACRulE,QAAS,CACLl9D,KAAMA,EACNlM,MAAOiB,EAAKjB,MACZwM,MAAO,CAAC+2C,EAASljC,MAAMpN,OAAQswC,EAASjjC,IAAIrN,SAEhDoN,MAAOkjC,EAASljC,MAAMpN,QAEtBhS,EAAKgqG,MACLpnG,EAAMulE,QAAQ6hC,IAAMhqG,EAAKgqG,KAE7BhqG,EAAKiL,KAAOA,EACZhH,KAAKklG,QAAQvjG,KAAKhD,GAClBqB,KAAKmlG,SAASxjG,KAAKhD,EACvB,CACJ,EACAmlG,EAAe9qF,UAAU0qF,MAAQ,SAAU3nG,EAAMsiD,GAC3B,gBAAdtiD,EAAKiL,MAGc,iBAAdjL,EAAKiL,KAFVhH,KAAK8lG,aAAa/pG,EAAMsiD,GAKnBr+C,KAAK+jG,QACV/jG,KAAK4lG,UAAU7pG,EAAMsiD,EAE7B,EACOylD,CACX,CAhJqB,GAiJrBjpG,EAAQipG,eAAiBA,CAGpB,EAEA,SAAS5+F,EAAQrK,GAEtB,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQoqG,OAAS,CACbe,qBAAsB,uBACtBC,kBAAmB,oBACnBC,gBAAiB,kBACjBC,aAAc,eACdC,wBAAyB,0BACzBC,gBAAiB,kBACjBhB,eAAgB,iBAChBiB,iBAAkB,mBAClBC,eAAgB,iBAChBC,eAAgB,iBAChBC,YAAa,cACbC,UAAW,YACXC,iBAAkB,mBAClBC,gBAAiB,kBACjBC,sBAAuB,wBACvBC,kBAAmB,oBACnBC,iBAAkB,mBAClBC,kBAAmB,oBACnBC,eAAgB,iBAChBC,qBAAsB,uBACtBC,yBAA0B,2BAC1BC,uBAAwB,yBACxBC,gBAAiB,kBACjBC,oBAAqB,sBACrBC,aAAc,eACdC,eAAgB,iBAChBC,eAAgB,iBAChBC,oBAAqB,sBACrBC,mBAAoB,qBACpBC,WAAY,aACZC,YAAa,cACbC,kBAAmB,oBACnBC,uBAAwB,yBACxBC,yBAA0B,2BAC1BC,gBAAiB,kBACjBC,QAAS,UACTC,iBAAkB,mBAClBC,kBAAmB,oBACnBC,iBAAkB,mBAClBC,aAAc,eACdC,iBAAkB,mBAClBC,cAAe,gBACfC,iBAAkB,mBAClBC,cAAe,gBACf7C,QAAS,UACT8C,SAAU,WACVC,YAAa,cACbC,gBAAiB,kBACjBC,mBAAoB,qBACpBC,cAAe,gBACfC,MAAO,QACPC,WAAY,aACZC,gBAAiB,kBACjBC,yBAA0B,2BAC1BC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,eAAgB,iBAChBC,eAAgB,iBAChBC,aAAc,eACdC,gBAAiB,kBACjBC,iBAAkB,mBAClBC,oBAAqB,sBACrBC,mBAAoB,qBACpBC,eAAgB,iBAChBC,cAAe,gBACfC,gBAAiB,kBAIhB,EAEA,SAAS7kG,EAAQrK,EAAS,GAE/B,aAEA,IACQmvG,EADJC,EAAajqG,MAAQA,KAAKiqG,YACtBD,EAAgBrvG,OAAOipF,gBACtB,CAAEsmB,UAAW,cAAgBrkG,OAAS,SAAU0lC,EAAG7rC,GAAK6rC,EAAE2+D,UAAYxqG,CAAG,GAC1E,SAAU6rC,EAAG7rC,GAAK,IAAK,IAAIoL,KAAKpL,EAAOA,EAAE86C,eAAe1vC,KAAIygC,EAAEzgC,GAAKpL,EAAEoL,GAAI,EACtE,SAAUygC,EAAG7rC,GAEhB,SAASyqG,IAAOnqG,KAAKF,YAAcyrC,CAAG,CADtCy+D,EAAcz+D,EAAG7rC,GAEjB6rC,EAAEvyB,UAAkB,OAANtZ,EAAa/E,OAAOqL,OAAOtG,IAAMyqG,EAAGnxF,UAAYtZ,EAAEsZ,UAAW,IAAImxF,EACnF,GAEJxvG,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIsvG,EAAc,EAAoB,GAClCC,EAAU,EAAoB,GAC9BC,EAAe,EAAoB,GACnCC,EAAO,EAAoB,GAC3BlH,EAAW,EAAoB,GAC/BmH,EAAU,EAAoB,IAC9BC,EAAmB,EAAoB,IAI3C,SAASC,EAAwBC,GAC7B,IAAIC,EACJ,OAAQD,EAAY3jG,MAChB,KAAKsjG,EAAaO,UAAUC,cAExBF,EADSD,EACUtsG,KACnB,MACJ,KAAKisG,EAAaO,UAAUE,kBACxB,IAAIC,EAAKL,EACTC,EAAgBF,EAAwBM,EAAG18F,WAAa,IACpDo8F,EAAwBM,EAAG3sG,MAC/B,MACJ,KAAKisG,EAAaO,UAAUI,oBACxB,IAAIC,EAAOP,EACXC,EAAgBF,EAAwBQ,EAAKC,QAAU,IACnDT,EAAwBQ,EAAKz7E,UAMzC,OAAOm7E,CACX,CAzBAJ,EAAQY,UAAU,KAAwB,gBAC1CZ,EAAQY,UAAU,KAAkB,UAyBpC,IAAIhH,EAAa,SAAUiH,GAEvB,SAASjH,EAAUlrF,EAAMvT,EAAS49F,GAC9B,OAAO8H,EAAOn5F,KAAKlS,KAAMkZ,EAAMvT,EAAS49F,IAAavjG,IACzD,CAqeA,OAxeAiqG,EAAU7F,EAAWiH,GAIrBjH,EAAUprF,UAAUsyF,uBAAyB,WACzC,OAAOtrG,KAAK6O,MAAM,KAAO7O,KAAKurG,eAAiBF,EAAOryF,UAAUsyF,uBAAuBp5F,KAAKlS,KAChG,EACAokG,EAAUprF,UAAUwyF,SAAW,WAE3BxrG,KAAKyrG,QAAQx/F,MAAQjM,KAAK0rG,YAAYz/F,MACtCjM,KAAKyrG,QAAQE,WAAa3rG,KAAK0rG,YAAYlqE,KAC3CxhC,KAAKyrG,QAAQG,UAAY5rG,KAAK0rG,YAAYz/F,MAAQjM,KAAK0rG,YAAYG,MACvE,EACAzH,EAAUprF,UAAU8yF,UAAY,WAE5B9rG,KAAK+rG,WACT,EACA3H,EAAUprF,UAAUgzF,WAAa,WAC7BhsG,KAAKwrG,WACLxrG,KAAKisG,UAAU,KAEXjsG,KAAKwsC,OAAOwG,QACZhzC,KAAKgzC,OAAO/nC,KAEpB,EACAm5F,EAAUprF,UAAUkzF,cAAgB,WAEhC,OADAlsG,KAAKmsG,kBACE,CACHlgG,MAAOjM,KAAKyrG,QAAQx/F,MACpBu1B,KAAMxhC,KAAKyrG,QAAQE,WACnBE,OAAQ7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,UAElD,EACAxH,EAAUprF,UAAUozF,mBAAqB,WACrC,MAAO,CACHngG,MAAOjM,KAAKyrG,QAAQx/F,MACpBu1B,KAAMxhC,KAAKyrG,QAAQE,WACnBE,OAAQ7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,UAElD,EACAxH,EAAUprF,UAAUqzF,gBAAkB,SAAUC,GAM5C,IALA,IAAI9sG,EAAS,IACT+sG,GAAQ,EACRC,GAAa,EACbC,GAAU,EACVC,GAAM,GACF1sG,KAAKyrG,QAAQkB,OAASJ,IAAUC,GAAY,CAChD,IAAII,EAAK5sG,KAAKyrG,QAAQ39F,OAAO9N,KAAKyrG,QAAQx/F,OAC1C,GAAI2gG,IAAON,EACP,MAKJ,GAHAE,EAAqB,MAAPI,EACdptG,GAAUotG,IACR5sG,KAAKyrG,QAAQx/F,OACVugG,EACD,OAAQhtG,EAAO4G,QACX,KAAK,EAEDqmG,EAAkB,MAAPG,EACX,MACJ,KAAK,EACGH,IAGAF,GADAG,EAAc,MAAPE,IACQxC,EAAYyC,UAAUC,eAAeF,EAAGn5F,WAAW,IAClEg5F,EAAUA,IAAYC,GAE1B,MACJ,QAEIH,GADAA,EAAQA,KAAWE,IAAYrC,EAAYyC,UAAUC,eAAeF,EAAGn5F,WAAW,SAC/Di5F,IAAQtC,EAAYyC,UAAUE,WAAWH,EAAGn5F,WAAW,KAI1F,CACA,GAAI84F,GAASC,GAAchtG,EAAO4G,OAAS,EAAG,CAE1C,IAAI4O,EAAMxV,EAAO2nC,OAAO,EAAG3nC,EAAO4G,OAAS,GACvCqmG,GAAWz3F,EAAI5O,OAAS,EACxB5G,EAASu/B,OAAOI,aAAa/iC,SAAS4Y,EAAImyB,OAAO,GAAI,KAEhDulE,GAAO13F,EAAI5O,OAAS,EACzB5G,EAASu/B,OAAOI,aAAa/iC,SAAS,IAAM4Y,EAAImyB,OAAO,GAAI,KAErDslE,GAAYC,IAAOjC,EAAiBuC,cAAch4F,KACxDxV,EAASirG,EAAiBuC,cAAch4F,GAEhD,CACA,OAAOxV,CACX,EAEA4kG,EAAUprF,UAAUi0F,OAAS,WACzB,IAAIC,EAAKltG,KAAKyrG,QAAQ39F,OAAO2F,WAAWzT,KAAKyrG,QAAQx/F,OAErD,GAAW,KAAPihG,GAAoB,KAAPA,GAAoB,KAAPA,GAAoB,KAAPA,GAAoB,KAAPA,GAAoB,MAAPA,GAAqB,MAAPA,EAE/E,MAAO,CACHlmG,KAAM,EACNlM,MAHAA,EAAQkF,KAAKyrG,QAAQ39F,OAAO9N,KAAKyrG,QAAQx/F,SAIzC0/F,WAAY3rG,KAAKyrG,QAAQE,WACzBC,UAAW5rG,KAAKyrG,QAAQG,UACxBzwF,MAAOnb,KAAKyrG,QAAQx/F,MAAQ,EAC5BmP,IAAKpb,KAAKyrG,QAAQx/F,OAI1B,GAAW,KAAPihG,GAAoB,KAAPA,EAAW,CAIxB,IAHA,IAAI/xF,EAAQnb,KAAKyrG,QAAQx/F,MACrBqgG,EAAQtsG,KAAKyrG,QAAQ39F,OAAO9N,KAAKyrG,QAAQx/F,SACzC+I,EAAM,IACFhV,KAAKyrG,QAAQkB,QACbC,EAAK5sG,KAAKyrG,QAAQ39F,OAAO9N,KAAKyrG,QAAQx/F,YAC/BqgG,GAIPt3F,GADY,MAAP43F,EACE5sG,KAAKqsG,gBAAgBC,GAGrBM,EAGf,MAAO,CACH5lG,KAAM,EACNlM,MAAOka,EACP22F,WAAY3rG,KAAKyrG,QAAQE,WACzBC,UAAW5rG,KAAKyrG,QAAQG,UACxBzwF,MAAOA,EACPC,IAAKpb,KAAKyrG,QAAQx/F,MAE1B,CAEA,GAAW,KAAPihG,EAAW,CACX,IAAIC,EAAKntG,KAAKyrG,QAAQ39F,OAAO2F,WAAWzT,KAAKyrG,QAAQx/F,MAAQ,GACzDmhG,EAAKptG,KAAKyrG,QAAQ39F,OAAO2F,WAAWzT,KAAKyrG,QAAQx/F,MAAQ,GACzDnR,EAAgB,KAAPqyG,GAAoB,KAAPC,EAAa,MAAQ,IAG/C,OAFIjyF,EAAQnb,KAAKyrG,QAAQx/F,MACzBjM,KAAKyrG,QAAQx/F,OAASnR,EAAMsL,OACrB,CACHY,KAAM,EACNlM,MAAOA,EACP6wG,WAAY3rG,KAAKyrG,QAAQE,WACzBC,UAAW5rG,KAAKyrG,QAAQG,UACxBzwF,MAAOA,EACPC,IAAKpb,KAAKyrG,QAAQx/F,MAE1B,CAEA,GAAW,KAAPihG,EAEA,MAAO,CACHlmG,KAAM,GACNlM,MAAO,GACP6wG,WAAY3rG,KAAKyrG,QAAQE,WACzBC,UAAW5rG,KAAKyrG,QAAQG,UACxBzwF,MAAOnb,KAAKyrG,QAAQx/F,MACpBmP,IAAKpb,KAAKyrG,QAAQx/F,OAI1B,GAAIm+F,EAAYyC,UAAUQ,kBAAkBH,IAAe,KAAPA,EAAY,CAG5D,IAFI/xF,EAAQnb,KAAKyrG,QAAQx/F,QACvBjM,KAAKyrG,QAAQx/F,OACPjM,KAAKyrG,QAAQkB,OAAO,CACxB,IAAIC,EAAK5sG,KAAKyrG,QAAQ39F,OAAO2F,WAAWzT,KAAKyrG,QAAQx/F,OACrD,GAAIm+F,EAAYyC,UAAUS,iBAAiBV,IAAe,KAAPA,IAC7C5sG,KAAKyrG,QAAQx/F,UAEd,IAAW,KAAP2gG,EAKL,QAHE5sG,KAAKyrG,QAAQx/F,KAInB,CACJ,CAEA,MAAO,CACHjF,KAAM,IACNlM,MAHKkF,KAAKyrG,QAAQ39F,OAAOpB,MAAMyO,EAAOnb,KAAKyrG,QAAQx/F,OAInD0/F,WAAY3rG,KAAKyrG,QAAQE,WACzBC,UAAW5rG,KAAKyrG,QAAQG,UACxBzwF,MAAOA,EACPC,IAAKpb,KAAKyrG,QAAQx/F,MAE1B,CACA,OAAOjM,KAAKyrG,QAAQ8B,KACxB,EACAnJ,EAAUprF,UAAUw0F,aAAe,WAC/BxtG,KAAKmsG,kBACLnsG,KAAK0rG,YAAYz/F,MAAQjM,KAAKyrG,QAAQx/F,MACtCjM,KAAK0rG,YAAYlqE,KAAOxhC,KAAKyrG,QAAQE,WACrC3rG,KAAK0rG,YAAYG,OAAS7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,UAC5D,IAAIvwF,EAAQrb,KAAKitG,SAOjB,OANAjtG,KAAKytG,WAAWxhG,MAAQjM,KAAKyrG,QAAQx/F,MACrCjM,KAAKytG,WAAWjsE,KAAOxhC,KAAKyrG,QAAQE,WACpC3rG,KAAKytG,WAAW5B,OAAS7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,UACvD5rG,KAAKwsC,OAAOwG,QACZhzC,KAAKgzC,OAAOrxC,KAAK3B,KAAK0tG,aAAaryF,IAEhCA,CACX,EACA+oF,EAAUprF,UAAU20F,YAAc,WAC9B3tG,KAAK0rG,YAAYz/F,MAAQjM,KAAKyrG,QAAQx/F,MACtCjM,KAAK0rG,YAAYlqE,KAAOxhC,KAAKyrG,QAAQE,WACrC3rG,KAAK0rG,YAAYG,OAAS7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,UAG5D,IAFA,IAAIzwF,EAAQnb,KAAKyrG,QAAQx/F,MACrB40C,EAAO,IACH7gD,KAAKyrG,QAAQkB,OAAO,CACxB,IAAIC,EAAK5sG,KAAKyrG,QAAQ39F,OAAO9N,KAAKyrG,QAAQx/F,OAC1C,GAAW,MAAP2gG,GAAqB,MAAPA,EACd,QAEF5sG,KAAKyrG,QAAQx/F,MACf40C,GAAQ+rD,EACJxC,EAAYyC,UAAUe,iBAAiBhB,EAAGn5F,WAAW,QACnDzT,KAAKyrG,QAAQE,WACJ,OAAPiB,GAA2D,OAA5C5sG,KAAKyrG,QAAQ39F,OAAO9N,KAAKyrG,QAAQx/F,UAC9CjM,KAAKyrG,QAAQx/F,MAEnBjM,KAAKyrG,QAAQG,UAAY5rG,KAAKyrG,QAAQx/F,MAE9C,CACAjM,KAAKytG,WAAWxhG,MAAQjM,KAAKyrG,QAAQx/F,MACrCjM,KAAKytG,WAAWjsE,KAAOxhC,KAAKyrG,QAAQE,WACpC3rG,KAAKytG,WAAW5B,OAAS7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,UAC3D,IAAIvwF,EAAQ,CACRrU,KAAM,IACNlM,MAAO+lD,EACP8qD,WAAY3rG,KAAKyrG,QAAQE,WACzBC,UAAW5rG,KAAKyrG,QAAQG,UACxBzwF,MAAOA,EACPC,IAAKpb,KAAKyrG,QAAQx/F,OAKtB,OAHK40C,EAAKz6C,OAAS,GAAMpG,KAAKwsC,OAAOwG,QACjChzC,KAAKgzC,OAAOrxC,KAAK3B,KAAK0tG,aAAaryF,IAEhCA,CACX,EACA+oF,EAAUprF,UAAU60F,aAAe,WAC/B,IAAIxjE,EAAQrqC,KAAKyrG,QAAQqC,YACzB9tG,KAAKyrG,QAAQsC,eACb,IAAIphG,EAAO3M,KAAKitG,SAEhB,OADAjtG,KAAKyrG,QAAQuC,aAAa3jE,GACnB19B,CACX,EAGAy3F,EAAUprF,UAAUizF,UAAY,SAAUnxG,GACtC,IAAIugB,EAAQrb,KAAKwtG,eACE,IAAfnyF,EAAMrU,MAA+BqU,EAAMvgB,QAAUA,GACrDkF,KAAKiuG,qBAAqB5yF,EAElC,EAEA+oF,EAAUprF,UAAUk1F,SAAW,SAAUpzG,GACrC,IAAI6R,EAAO3M,KAAK6tG,eAChB,OAAqB,IAAdlhG,EAAK3F,MAA+B2F,EAAK7R,QAAUA,CAC9D,EACAspG,EAAUprF,UAAUm1F,mBAAqB,WACrC,IAAIpyG,EAAOiE,KAAKksG,gBACZ7wF,EAAQrb,KAAKwtG,eAIjB,OAHmB,MAAfnyF,EAAMrU,MACNhH,KAAKiuG,qBAAqB5yF,GAEvBrb,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQS,cAAczvF,EAAMvgB,OAC/D,EACAspG,EAAUprF,UAAUo1F,oBAAsB,WACtC,IAAIryG,EAAOiE,KAAKksG,gBACZvB,EAAc3qG,KAAKmuG,qBACvB,GAAInuG,KAAKkuG,SAAS,KAAM,CACpB,IAAI5/F,EAAYq8F,EAChB3qG,KAAKisG,UAAU,KACf,IAAIoC,EAASruG,KAAKmuG,qBAClBxD,EAAc3qG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQU,kBAAkBz8F,EAAW+/F,GAC/E,MACK,GAAIruG,KAAKkuG,SAAS,KACnB,KAAOluG,KAAKkuG,SAAS,MAAM,CACvB,IAAI/C,EAASR,EACb3qG,KAAKisG,UAAU,KACf,IAAIx8E,EAAWzvB,KAAKmuG,qBACpBxD,EAAc3qG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQY,oBAAoBE,EAAQ17E,GAC9E,CAEJ,OAAOk7E,CACX,EACAvG,EAAUprF,UAAUs1F,sBAAwB,WACxC,IACIC,EADAxyG,EAAOiE,KAAKksG,gBAEZsC,EAAaxuG,KAAKmuG,qBACtB,GAAInuG,KAAKkuG,SAAS,KAAM,CACpB,IAAI5/F,EAAYkgG,EAChBxuG,KAAKisG,UAAU,KACf,IAAIwC,EAASzuG,KAAKmuG,qBAClBI,EAAgBvuG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQU,kBAAkBz8F,EAAWmgG,GACjF,MAEIF,EAAgBC,EAEpB,OAAOD,CACX,EACAnK,EAAUprF,UAAU01F,+BAAiC,WACjD,IAAI3yG,EAAOiE,KAAKksG,gBACZ7wF,EAAQrb,KAAKwtG,eACE,IAAfnyF,EAAMrU,MACNhH,KAAKiuG,qBAAqB5yF,GAE9B,IAAIszF,EAAM3uG,KAAK4uG,YAAYvzF,GAC3B,OAAOrb,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKrC,QAAQ7sF,EAAMvgB,MAAO6zG,GAC7D,EACAvK,EAAUprF,UAAU61F,4BAA8B,WAC9C,IAAI9yG,EAAOiE,KAAKksG,gBAChBlsG,KAAKisG,UAAU,KACfjsG,KAAK8rG,YACD9rG,KAAK6O,MAAM,MACX7O,KAAK8uG,cAAc,+DAEvB,IAAIj6D,EAAa70C,KAAK+uG,4BAEtB,OADA/uG,KAAKgsG,aACEhsG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQ2E,uBAAuBn6D,GAClE,EACAuvD,EAAUprF,UAAUi2F,uBAAyB,WACzC,OAAOjvG,KAAKkuG,SAAS,KAAOluG,KAAK6uG,8BAC7B7uG,KAAKkuG,SAAS,KAAOluG,KAAKkvG,kBAAoBlvG,KAAK0uG,gCAC3D,EACAtK,EAAUprF,UAAUm2F,2BAA6B,WAC7C,IAAIpzG,EAAOiE,KAAKksG,gBACZ7tG,EAAO2B,KAAKsuG,wBACZxzG,EAAQ,KAKZ,OAJIkF,KAAKkuG,SAAS,OACdluG,KAAKisG,UAAU,KACfnxG,EAAQkF,KAAKivG,0BAEVjvG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQ+E,aAAa/wG,EAAMvD,GAC9D,EACAspG,EAAUprF,UAAUq2F,wBAA0B,WAC1C,IAAItzG,EAAOiE,KAAKksG,gBAChBlsG,KAAKisG,UAAU,KACfjsG,KAAKisG,UAAU,OACfjsG,KAAK8rG,YACL,IAAIwD,EAAWtvG,KAAK+uG,4BAEpB,OADA/uG,KAAKgsG,aACEhsG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQkF,mBAAmBD,GAC9D,EACAlL,EAAUprF,UAAUw2F,mBAAqB,WAErC,IADA,IAAIC,EAAa,IACTzvG,KAAKkuG,SAAS,OAASluG,KAAKkuG,SAAS,MAAM,CAC/C,IAAIwB,EAAY1vG,KAAKkuG,SAAS,KAAOluG,KAAKqvG,0BACtCrvG,KAAKmvG,6BACTM,EAAW9tG,KAAK+tG,EACpB,CACA,OAAOD,CACX,EACArL,EAAUprF,UAAU22F,uBAAyB,WACzC,IAAI5zG,EAAOiE,KAAKksG,gBAChBlsG,KAAKisG,UAAU,KACf,IAAI5tG,EAAO2B,KAAKouG,sBACZqB,EAAazvG,KAAKwvG,qBAClBI,EAAc5vG,KAAKkuG,SAAS,KAKhC,OAJI0B,GACA5vG,KAAKisG,UAAU,KAEnBjsG,KAAKisG,UAAU,KACRjsG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQwF,kBAAkBxxG,EAAMuxG,EAAaH,GAChF,EACArL,EAAUprF,UAAU82F,wBAA0B,WAC1C,IAAI/zG,EAAOiE,KAAKksG,gBAEhB,GADAlsG,KAAKisG,UAAU,KACXjsG,KAAKkuG,SAAS,KAAM,CACpBluG,KAAKisG,UAAU,KACf,IAAI8D,EAAS/vG,KAAKouG,sBAElB,OADApuG,KAAKisG,UAAU,KACRjsG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQ2F,kBAAkBD,GAC7D,CACA,IAAI1xG,EAAO2B,KAAKouG,sBACZqB,EAAazvG,KAAKwvG,qBAClBI,EAAc5vG,KAAKkuG,SAAS,KAKhC,OAJI0B,GACA5vG,KAAKisG,UAAU,KAEnBjsG,KAAKisG,UAAU,KACRjsG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQwF,kBAAkBxxG,EAAMuxG,EAAaH,GAChF,EACArL,EAAUprF,UAAUi3F,wBAA0B,WAC1C,IAAIl0G,EAAOiE,KAAKosG,qBAKhB,OAJApsG,KAAKmsG,kBACLnsG,KAAKytG,WAAWxhG,MAAQjM,KAAKyrG,QAAQx/F,MACrCjM,KAAKytG,WAAWjsE,KAAOxhC,KAAKyrG,QAAQE,WACpC3rG,KAAKytG,WAAW5B,OAAS7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,UACpD5rG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQ6F,mBAC3C,EACA9L,EAAUprF,UAAUm3F,4BAA8B,WAC9C,IAEIt7D,EAFA94C,EAAOiE,KAAKksG,gBAYhB,OAXAlsG,KAAKisG,UAAU,KAEXjsG,KAAKkuG,SAAS,MACdr5D,EAAa70C,KAAKiwG,0BAClBjwG,KAAKisG,UAAU,OAGfjsG,KAAK8rG,YACLj3D,EAAa70C,KAAK+uG,4BAClB/uG,KAAKgsG,cAEFhsG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQ2E,uBAAuBn6D,GAClE,EACAuvD,EAAUprF,UAAUo3F,iBAAmB,WAEnC,IADA,IAAIC,EAAW,IACPrwG,KAAKyrG,QAAQkB,OAAO,CACxB,IAAI5wG,EAAOiE,KAAKosG,qBACZ/wF,EAAQrb,KAAK2tG,cACjB,GAAItyF,EAAMF,MAAQE,EAAMD,IAAK,CACzB,IAAIuzF,EAAM3uG,KAAK4uG,YAAYvzF,GACvB5T,EAAQzH,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQiG,QAAQj1F,EAAMvgB,MAAO6zG,IACjE0B,EAAS1uG,KAAK8F,EAClB,CACA,GAAgD,MAA5CzH,KAAKyrG,QAAQ39F,OAAO9N,KAAKyrG,QAAQx/F,OAKjC,MAJA,IAAIo5E,EAAYrlF,KAAKmwG,8BACrBE,EAAS1uG,KAAK0jF,EAKtB,CACA,OAAOgrB,CACX,EACAjM,EAAUprF,UAAUu3F,uBAAyB,SAAUC,GAEnD,IADA,IAAIzkG,EAAQ,IACJ/L,KAAKyrG,QAAQkB,OAAO,CACxB6D,EAAGH,SAAWG,EAAGH,SAASjrG,OAAOpF,KAAKowG,oBACtC,IAAIr0G,EAAOiE,KAAKosG,qBACZtuB,EAAU99E,KAAK8vG,0BACnB,GAAIhyB,EAAQ92E,OAASsjG,EAAaO,UAAUgF,kBAAmB,CAC3D,IAAIY,EAAU3yB,EACd,GAAI2yB,EAAQb,YAAa,CACrB,IAAInoG,EAAQzH,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQqG,WAAWD,EAAS,GAAI,OACpED,EAAGH,SAAS1uG,KAAK8F,EACrB,MAEIsE,EAAMpK,KAAK6uG,GACXA,EAAK,CAAEz0G,KAAMA,EAAM00G,QAASA,EAASE,QAAS,KAAMN,SAAU,GAEtE,CACA,GAAIvyB,EAAQ92E,OAASsjG,EAAaO,UAAUmF,kBAAmB,CAC3DQ,EAAGG,QAAU7yB,EACb,IAAI8yB,EAASlG,EAAwB8F,EAAGC,QAAQpyG,MAKhD,GAHIuyG,IADUlG,EAAwB8F,EAAGG,QAAQtyG,OAE7C2B,KAAK8uG,cAAc,gDAAiD8B,KAEpE7kG,EAAM3F,OAAS,GAOf,MANIqB,EAAQzH,KAAKw1F,SAASgb,EAAGz0G,KAAM,IAAIsuG,EAAQqG,WAAWF,EAAGC,QAASD,EAAGH,SAAUG,EAAGG,WACtFH,EAAKzkG,EAAMA,EAAM3F,OAAS,IACvBiqG,SAAS1uG,KAAK8F,GACjBsE,EAAMd,KAKd,CACJ,CACA,OAAOulG,CACX,EACApM,EAAUprF,UAAUk2F,gBAAkB,WAClC,IAAInzG,EAAOiE,KAAKksG,gBACZuE,EAAUzwG,KAAK2vG,yBACfU,EAAW,GACXM,EAAU,KACd,IAAKF,EAAQb,YAAa,CACtB,IAAIY,EAAKxwG,KAAKuwG,uBAAuB,CAAEx0G,KAAMA,EAAM00G,QAASA,EAASE,QAASA,EAASN,SAAUA,IACjGA,EAAWG,EAAGH,SACdM,EAAUH,EAAGG,OACjB,CACA,OAAO3wG,KAAKw1F,SAASz5F,EAAM,IAAIsuG,EAAQqG,WAAWD,EAASJ,EAAUM,GACzE,EACAvM,EAAUprF,UAAUuyF,aAAe,WAE3BvrG,KAAKwsC,OAAOwG,QACZhzC,KAAKgzC,OAAO/nC,MAEhBjL,KAAKwrG,WACL,IAAI1tB,EAAU99E,KAAKkvG,kBAEnB,OADAlvG,KAAK8rG,YACEhuB,CACX,EACAsmB,EAAUprF,UAAU63F,oBAAsB,WACtC,OAAOxF,EAAOryF,UAAU63F,oBAAoB3+F,KAAKlS,OAASA,KAAK6O,MAAM,IACzE,EACOu1F,CACX,CA1egB,CA0edf,EAASgB,QACXxpG,EAAQupG,UAAYA,CAGf,EAEA,SAASl/F,EAAQrK,GAEtB,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAEtD,IAAIg2G,EAAQ,CAERC,wBAAyB,u/MAEzBC,uBAAwB,4yPAE5Bn2G,EAAQgyG,UAAY,CAEhBoE,cAAe,SAAU/D,GACrB,OAAQA,EAAK,MAAWnuE,OAAOI,aAAa+tE,GACxCnuE,OAAOI,aAAa,OAAW+tE,EAAK,OAAY,KAC5CnuE,OAAOI,aAAa,OAAW+tE,EAAK,MAAW,MAC3D,EAEAgE,aAAc,SAAUhE,GACpB,OAAe,KAAPA,GAAwB,IAAPA,GAAwB,KAAPA,GAAwB,KAAPA,GAAwB,MAAPA,GACvEA,GAAM,MAAU,CAAC,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,MAAQ,OAAQngG,QAAQmgG,IAAO,CACzK,EAEAU,iBAAkB,SAAUV,GACxB,OAAe,KAAPA,GAAwB,KAAPA,GAAwB,OAAPA,GAA0B,OAAPA,CACjE,EAEAG,kBAAmB,SAAUH,GACzB,OAAe,KAAPA,GAAwB,KAAPA,GACpBA,GAAM,IAAQA,GAAM,IACpBA,GAAM,IAAQA,GAAM,KACb,KAAPA,GACCA,GAAM,KAAS4D,EAAMC,wBAAwB19F,KAAKxY,EAAQgyG,UAAUoE,cAAc/D,GAC5F,EACAI,iBAAkB,SAAUJ,GACxB,OAAe,KAAPA,GAAwB,KAAPA,GACpBA,GAAM,IAAQA,GAAM,IACpBA,GAAM,IAAQA,GAAM,KACpBA,GAAM,IAAQA,GAAM,IACb,KAAPA,GACCA,GAAM,KAAS4D,EAAME,uBAAuB39F,KAAKxY,EAAQgyG,UAAUoE,cAAc/D,GAC3F,EAEAJ,eAAgB,SAAUI,GACtB,OAAQA,GAAM,IAAQA,GAAM,EAChC,EACAH,WAAY,SAAUG,GAClB,OAAQA,GAAM,IAAQA,GAAM,IACvBA,GAAM,IAAQA,GAAM,IACpBA,GAAM,IAAQA,GAAM,GAC7B,EACAiE,aAAc,SAAUjE,GACpB,OAAQA,GAAM,IAAQA,GAAM,EAChC,EAIC,EAEA,SAAShoG,EAAQrK,EAAS,GAE/B,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIwvG,EAAe,EAAoB,GASvCzvG,EAAQm1G,kBANJ,SAA2B3xG,GACvB2B,KAAKgH,KAAOsjG,EAAaO,UAAUmF,kBACnChwG,KAAK3B,KAAOA,CAChB,EAaJxD,EAAQ61G,WARJ,SAAoBU,EAAgBf,EAAUgB,GAC1CrxG,KAAKgH,KAAOsjG,EAAaO,UAAU6F,WACnC1wG,KAAKoxG,eAAiBA,EACtBpxG,KAAKqwG,SAAWA,EAChBrwG,KAAKqxG,eAAiBA,CAC1B,EAUJx2G,EAAQq1G,mBALJ,WACIlwG,KAAKgH,KAAOsjG,EAAaO,UAAUqF,kBACvC,EAWJr1G,EAAQm0G,uBANJ,SAAgCn6D,GAC5B70C,KAAKgH,KAAOsjG,EAAaO,UAAUmE,uBACnChvG,KAAK60C,WAAaA,CACtB,EAWJh6C,EAAQiwG,cANJ,SAAuBzsG,GACnB2B,KAAKgH,KAAOsjG,EAAaO,UAAUC,cACnC9qG,KAAK3B,KAAOA,CAChB,EAYJxD,EAAQowG,oBAPJ,SAA6BE,EAAQ17E,GACjCzvB,KAAKgH,KAAOsjG,EAAaO,UAAUI,oBACnCjrG,KAAKmrG,OAASA,EACdnrG,KAAKyvB,SAAWA,CACpB,EAYJ50B,EAAQu0G,aAPJ,SAAsB/wG,EAAMvD,GACxBkF,KAAKgH,KAAOsjG,EAAaO,UAAUuE,aACnCpvG,KAAK3B,KAAOA,EACZ2B,KAAKlF,MAAQA,CACjB,EAYJD,EAAQkwG,kBAPJ,SAA2Bz8F,EAAWjQ,GAClC2B,KAAKgH,KAAOsjG,EAAaO,UAAUE,kBACnC/qG,KAAKsO,UAAYA,EACjBtO,KAAK3B,KAAOA,CAChB,EAaJxD,EAAQg1G,kBARJ,SAA2BxxG,EAAMuxG,EAAaH,GAC1CzvG,KAAKgH,KAAOsjG,EAAaO,UAAUgF,kBACnC7vG,KAAK3B,KAAOA,EACZ2B,KAAK4vG,YAAcA,EACnB5vG,KAAKyvG,WAAaA,CACtB,EAWJ50G,EAAQ00G,mBANJ,SAA4BD,GACxBtvG,KAAKgH,KAAOsjG,EAAaO,UAAU0E,mBACnCvvG,KAAKsvG,SAAWA,CACpB,EAYJz0G,EAAQy1G,QAPJ,SAAiBx1G,EAAO6zG,GACpB3uG,KAAKgH,KAAOsjG,EAAaO,UAAUyF,QACnCtwG,KAAKlF,MAAQA,EACbkF,KAAK2uG,IAAMA,CACf,CAMC,EAEA,SAASzpG,EAAQrK,GAEtB,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgwG,UAAY,CAChBuE,aAAc,eACdY,kBAAmB,oBACnBU,WAAY,aACZR,mBAAoB,qBACpBlB,uBAAwB,yBACxBlE,cAAe,gBACfG,oBAAqB,sBACrBF,kBAAmB,oBACnB8E,kBAAmB,oBACnBN,mBAAoB,qBACpBe,QAAS,UAIR,EAEA,SAASprG,EAAQrK,EAAS,GAE/B,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIkqG,EAAW,EAAoB,GASnCnqG,EAAQqrG,gBANJ,SAAyB5nB,GACrBt+E,KAAKgH,KAAOg+F,EAASC,OAAOiB,gBAC5BlmG,KAAKs+E,SAAWA,CACpB,EAWJzjF,EAAQsrG,aANJ,SAAsB7nB,GAClBt+E,KAAKgH,KAAOg+F,EAASC,OAAOkB,aAC5BnmG,KAAKs+E,SAAWA,CACpB,EAgBJzjF,EAAQurG,wBAXJ,SAAiCzrF,EAAQgN,EAAMktB,GAC3C70C,KAAKgH,KAAOg+F,EAASC,OAAOmB,wBAC5BpmG,KAAK+2D,GAAK,KACV/2D,KAAK2a,OAASA,EACd3a,KAAK2nB,KAAOA,EACZ3nB,KAAKsxG,WAAY,EACjBtxG,KAAK60C,WAAaA,EAClB70C,KAAKrD,OAAQ,CACjB,EAaJ9B,EAAQmrG,qBARJ,SAA8BuL,EAAUC,EAAMC,GAC1CzxG,KAAKgH,KAAOg+F,EAASC,OAAOe,qBAC5BhmG,KAAKuxG,SAAWA,EAChBvxG,KAAKwxG,KAAOA,EACZxxG,KAAKyxG,MAAQA,CACjB,EAYJ52G,EAAQorG,kBAPJ,SAA2BuL,EAAMC,GAC7BzxG,KAAKgH,KAAOg+F,EAASC,OAAOgB,kBAC5BjmG,KAAKwxG,KAAOA,EACZxxG,KAAKyxG,MAAQA,CACjB,EAgBJ52G,EAAQ62G,6BAXJ,SAAsC/2F,EAAQgN,EAAMktB,GAChD70C,KAAKgH,KAAOg+F,EAASC,OAAOmB,wBAC5BpmG,KAAK+2D,GAAK,KACV/2D,KAAK2a,OAASA,EACd3a,KAAK2nB,KAAOA,EACZ3nB,KAAKsxG,WAAY,EACjBtxG,KAAK60C,WAAaA,EAClB70C,KAAKrD,OAAQ,CACjB,EAgBJ9B,EAAQ82G,yBAXJ,SAAkC56C,EAAIp8C,EAAQgN,GAC1C3nB,KAAKgH,KAAOg+F,EAASC,OAAOyC,oBAC5B1nG,KAAK+2D,GAAKA,EACV/2D,KAAK2a,OAASA,EACd3a,KAAK2nB,KAAOA,EACZ3nB,KAAKsxG,WAAY,EACjBtxG,KAAK60C,YAAa,EAClB70C,KAAKrD,OAAQ,CACjB,EAgBJ9B,EAAQ+2G,wBAXJ,SAAiC76C,EAAIp8C,EAAQgN,GACzC3nB,KAAKgH,KAAOg+F,EAASC,OAAO0C,mBAC5B3nG,KAAK+2D,GAAKA,EACV/2D,KAAK2a,OAASA,EACd3a,KAAK2nB,KAAOA,EACZ3nB,KAAKsxG,WAAY,EACjBtxG,KAAK60C,YAAa,EAClB70C,KAAKrD,OAAQ,CACjB,EAWJ9B,EAAQwrG,gBANJ,SAAyBiJ,GACrBtvG,KAAKgH,KAAOg+F,EAASC,OAAOoB,gBAC5BrmG,KAAKsvG,SAAWA,CACpB,EAcJz0G,EAAQyrG,iBATJ,SAA0BiL,EAAUC,EAAMC,GACtC,IAAII,EAAwB,OAAbN,GAAkC,OAAbA,EACpCvxG,KAAKgH,KAAO6qG,EAAU7M,EAASC,OAAOmD,kBAAoBpD,EAASC,OAAOqB,iBAC1EtmG,KAAKuxG,SAAWA,EAChBvxG,KAAKwxG,KAAOA,EACZxxG,KAAKyxG,MAAQA,CACjB,EAWJ52G,EAAQwqG,eANJ,SAAwB19E,GACpB3nB,KAAKgH,KAAOg+F,EAASC,OAAOI,eAC5BrlG,KAAK2nB,KAAOA,CAChB,EAWJ9sB,EAAQ0rG,eANJ,SAAwBtmC,GACpBjgE,KAAKgH,KAAOg+F,EAASC,OAAOsB,eAC5BvmG,KAAKigE,MAAQA,CACjB,EAYJplE,EAAQ2rG,eAPJ,SAAwBsL,EAAQ1qG,GAC5BpH,KAAKgH,KAAOg+F,EAASC,OAAOuB,eAC5BxmG,KAAK8xG,OAASA,EACd9xG,KAAK0E,UAAY0C,CACrB,EAYJvM,EAAQ4rG,YAPJ,SAAqBsL,EAAOpqF,GACxB3nB,KAAKgH,KAAOg+F,EAASC,OAAOwB,YAC5BzmG,KAAK+xG,MAAQA,EACb/xG,KAAK2nB,KAAOA,CAChB,EAWJ9sB,EAAQ6rG,UANJ,SAAmB/+E,GACf3nB,KAAKgH,KAAOg+F,EAASC,OAAOyB,UAC5B1mG,KAAK2nB,KAAOA,CAChB,EAaJ9sB,EAAQ8rG,iBARJ,SAA0B5vC,EAAIi7C,EAAYrqF,GACtC3nB,KAAKgH,KAAOg+F,EAASC,OAAO0B,iBAC5B3mG,KAAK+2D,GAAKA,EACV/2D,KAAKgyG,WAAaA,EAClBhyG,KAAK2nB,KAAOA,CAChB,EAaJ9sB,EAAQ+rG,gBARJ,SAAyB7vC,EAAIi7C,EAAYrqF,GACrC3nB,KAAKgH,KAAOg+F,EAASC,OAAO2B,gBAC5B5mG,KAAK+2D,GAAKA,EACV/2D,KAAKgyG,WAAaA,EAClBhyG,KAAK2nB,KAAOA,CAChB,EAaJ9sB,EAAQo3G,yBARJ,SAAkC9G,EAAQ17E,GACtCzvB,KAAKgH,KAAOg+F,EAASC,OAAOoD,iBAC5BroG,KAAKkyG,UAAW,EAChBlyG,KAAKmrG,OAASA,EACdnrG,KAAKyvB,SAAWA,CACpB,EAaJ50B,EAAQgsG,sBARJ,SAA+BxzF,EAAM8+F,EAAYC,GAC7CpyG,KAAKgH,KAAOg+F,EAASC,OAAO4B,sBAC5B7mG,KAAKqT,KAAOA,EACZrT,KAAKmyG,WAAaA,EAClBnyG,KAAKoyG,UAAYA,CACrB,EAWJv3G,EAAQisG,kBANJ,SAA2B7mC,GACvBjgE,KAAKgH,KAAOg+F,EAASC,OAAO6B,kBAC5B9mG,KAAKigE,MAAQA,CACjB,EAUJplE,EAAQmsG,kBALJ,WACIhnG,KAAKgH,KAAOg+F,EAASC,OAAO+B,iBAChC,EAYJnsG,EAAQw3G,UAPJ,SAAmBx9D,EAAYy9D,GAC3BtyG,KAAKgH,KAAOg+F,EAASC,OAAOqC,oBAC5BtnG,KAAK60C,WAAaA,EAClB70C,KAAKsyG,UAAYA,CACrB,EAYJz3G,EAAQksG,iBAPJ,SAA0Bp/E,EAAMtU,GAC5BrT,KAAKgH,KAAOg+F,EAASC,OAAO8B,iBAC5B/mG,KAAK2nB,KAAOA,EACZ3nB,KAAKqT,KAAOA,CAChB,EAUJxY,EAAQosG,eALJ,WACIjnG,KAAKgH,KAAOg+F,EAASC,OAAOgC,cAChC,EAWJpsG,EAAQqsG,qBANJ,SAA8Bp5F,GAC1B9N,KAAKgH,KAAOg+F,EAASC,OAAOiC,qBAC5BlnG,KAAK8N,OAASA,CAClB,EAWJjT,EAAQssG,yBANJ,SAAkCoL,GAC9BvyG,KAAKgH,KAAOg+F,EAASC,OAAOkC,yBAC5BnnG,KAAKuyG,YAAcA,CACvB,EAaJ13G,EAAQusG,uBARJ,SAAgCmL,EAAaC,EAAY1kG,GACrD9N,KAAKgH,KAAOg+F,EAASC,OAAOmC,uBAC5BpnG,KAAKuyG,YAAcA,EACnBvyG,KAAKwyG,WAAaA,EAClBxyG,KAAK8N,OAASA,CAClB,EAYJjT,EAAQwsG,gBAPJ,SAAyBjG,EAAOqR,GAC5BzyG,KAAKgH,KAAOg+F,EAASC,OAAOoC,gBAC5BrnG,KAAKyyG,SAAWA,EAChBzyG,KAAKohG,MAAQA,CACjB,EAWJvmG,EAAQysG,oBANJ,SAA6BzyD,GACzB70C,KAAKgH,KAAOg+F,EAASC,OAAOqC,oBAC5BtnG,KAAK60C,WAAaA,CACtB,EAcJh6C,EAAQ4sG,eATJ,SAAwB+J,EAAMC,EAAO9pF,GACjC3nB,KAAKgH,KAAOg+F,EAASC,OAAOwC,eAC5BznG,KAAKwxG,KAAOA,EACZxxG,KAAKyxG,MAAQA,EACbzxG,KAAK2nB,KAAOA,EACZ3nB,KAAK84C,MAAO,CAChB,EAaJj+C,EAAQ2sG,eARJ,SAAwBgK,EAAMC,EAAO9pF,GACjC3nB,KAAKgH,KAAOg+F,EAASC,OAAOuC,eAC5BxnG,KAAKwxG,KAAOA,EACZxxG,KAAKyxG,MAAQA,EACbzxG,KAAK2nB,KAAOA,CAChB,EAcJ9sB,EAAQ0sG,aATJ,SAAsB70F,EAAMW,EAAMmW,EAAQ7B,GACtC3nB,KAAKgH,KAAOg+F,EAASC,OAAOsC,aAC5BvnG,KAAK0S,KAAOA,EACZ1S,KAAKqT,KAAOA,EACZrT,KAAKwpB,OAASA,EACdxpB,KAAK2nB,KAAOA,CAChB,EAgBJ9sB,EAAQ6sG,oBAXJ,SAA6B3wC,EAAIp8C,EAAQgN,EAAM2pF,GAC3CtxG,KAAKgH,KAAOg+F,EAASC,OAAOyC,oBAC5B1nG,KAAK+2D,GAAKA,EACV/2D,KAAK2a,OAASA,EACd3a,KAAK2nB,KAAOA,EACZ3nB,KAAKsxG,UAAYA,EACjBtxG,KAAK60C,YAAa,EAClB70C,KAAKrD,OAAQ,CACjB,EAgBJ9B,EAAQ8sG,mBAXJ,SAA4B5wC,EAAIp8C,EAAQgN,EAAM2pF,GAC1CtxG,KAAKgH,KAAOg+F,EAASC,OAAO0C,mBAC5B3nG,KAAK+2D,GAAKA,EACV/2D,KAAK2a,OAASA,EACd3a,KAAK2nB,KAAOA,EACZ3nB,KAAKsxG,UAAYA,EACjBtxG,KAAK60C,YAAa,EAClB70C,KAAKrD,OAAQ,CACjB,EAWJ9B,EAAQ+sG,WANJ,SAAoBvpG,GAChB2B,KAAKgH,KAAOg+F,EAASC,OAAO2C,WAC5B5nG,KAAK3B,KAAOA,CAChB,EAaJxD,EAAQgtG,YARJ,SAAqBx0F,EAAM8+F,EAAYC,GACnCpyG,KAAKgH,KAAOg+F,EAASC,OAAO4C,YAC5B7nG,KAAKqT,KAAOA,EACZrT,KAAKmyG,WAAaA,EAClBnyG,KAAKoyG,UAAYA,CACrB,EAYJv3G,EAAQitG,kBAPJ,SAA2B0K,EAAY1kG,GACnC9N,KAAKgH,KAAOg+F,EAASC,OAAO6C,kBAC5B9nG,KAAKwyG,WAAaA,EAClBxyG,KAAK8N,OAASA,CAClB,EAWJjT,EAAQktG,uBANJ,SAAgC3G,GAC5BphG,KAAKgH,KAAOg+F,EAASC,OAAO8C,uBAC5B/nG,KAAKohG,MAAQA,CACjB,EAWJvmG,EAAQmtG,yBANJ,SAAkC5G,GAC9BphG,KAAKgH,KAAOg+F,EAASC,OAAO+C,yBAC5BhoG,KAAKohG,MAAQA,CACjB,EAYJvmG,EAAQotG,gBAPJ,SAAyB7G,EAAOsR,GAC5B1yG,KAAKgH,KAAOg+F,EAASC,OAAOgD,gBAC5BjoG,KAAKohG,MAAQA,EACbphG,KAAK0yG,SAAWA,CACpB,EAYJ73G,EAAQstG,iBAPJ,SAA0BloC,EAAOt4C,GAC7B3nB,KAAKgH,KAAOg+F,EAASC,OAAOkD,iBAC5BnoG,KAAKigE,MAAQA,EACbjgE,KAAK2nB,KAAOA,CAChB,EAYJ9sB,EAAQqtG,QAPJ,SAAiBptG,EAAO6zG,GACpB3uG,KAAKgH,KAAOg+F,EAASC,OAAOiD,QAC5BloG,KAAKlF,MAAQA,EACbkF,KAAK2uG,IAAMA,CACf,EAYJ9zG,EAAQytG,aAPJ,SAAsBn3B,EAAM1hD,GACxBzvB,KAAKgH,KAAOg+F,EAASC,OAAOqD,aAC5BtoG,KAAKmxE,KAAOA,EACZnxE,KAAKyvB,SAAWA,CACpB,EAeJ50B,EAAQ0tG,iBAVJ,SAA0Bh1F,EAAK2+F,EAAUp3G,EAAOolE,EAAMyyC,GAClD3yG,KAAKgH,KAAOg+F,EAASC,OAAOsD,iBAC5BvoG,KAAKuT,IAAMA,EACXvT,KAAKkyG,SAAWA,EAChBlyG,KAAKlF,MAAQA,EACbkF,KAAKkgE,KAAOA,EACZlgE,KAAK8iB,OAAS6vF,CAClB,EAYJ93G,EAAQ+3G,OAPJ,SAAgBjrF,GACZ3nB,KAAKgH,KAAOg+F,EAASC,OAAOY,QAC5B7lG,KAAK2nB,KAAOA,EACZ3nB,KAAKkkG,WAAa,QACtB,EAYJrpG,EAAQ2tG,cAPJ,SAAuBsJ,EAAQ1qG,GAC3BpH,KAAKgH,KAAOg+F,EAASC,OAAOuD,cAC5BxoG,KAAK8xG,OAASA,EACd9xG,KAAK0E,UAAY0C,CACrB,EAWJvM,EAAQ4tG,iBANJ,SAA0B/1C,GACtB1yD,KAAKgH,KAAOg+F,EAASC,OAAOwD,iBAC5BzoG,KAAK0yD,WAAaA,CACtB,EAWJ73D,EAAQ6tG,cANJ,SAAuBh2C,GACnB1yD,KAAKgH,KAAOg+F,EAASC,OAAOyD,cAC5B1oG,KAAK0yD,WAAaA,CACtB,EAgBJ73D,EAAQ8tG,SAXJ,SAAkBzoC,EAAM3sD,EAAK2+F,EAAUp3G,EAAO8tB,EAAQ2xB,GAClDv6C,KAAKgH,KAAOg+F,EAASC,OAAO0D,SAC5B3oG,KAAKuT,IAAMA,EACXvT,KAAKkyG,SAAWA,EAChBlyG,KAAKlF,MAAQA,EACbkF,KAAKkgE,KAAOA,EACZlgE,KAAK4oB,OAASA,EACd5oB,KAAKu6C,UAAYA,CACrB,EAaJ1/C,EAAQg4G,aARJ,SAAsB/3G,EAAO6zG,EAAK5oG,EAAS06B,GACvCzgC,KAAKgH,KAAOg+F,EAASC,OAAOiD,QAC5BloG,KAAKlF,MAAQA,EACbkF,KAAK2uG,IAAMA,EACX3uG,KAAK6lC,MAAQ,CAAE9/B,QAASA,EAAS06B,MAAOA,EAC5C,EAWJ5lC,EAAQ+tG,YANJ,SAAqB0G,GACjBtvG,KAAKgH,KAAOg+F,EAASC,OAAO2D,YAC5B5oG,KAAKsvG,SAAWA,CACpB,EAWJz0G,EAAQguG,gBANJ,SAAyByG,GACrBtvG,KAAKgH,KAAOg+F,EAASC,OAAO4D,gBAC5B7oG,KAAKsvG,SAAWA,CACpB,EAYJz0G,EAAQi4G,OAPJ,SAAgBnrF,GACZ3nB,KAAKgH,KAAOg+F,EAASC,OAAOY,QAC5B7lG,KAAK2nB,KAAOA,EACZ3nB,KAAKkkG,WAAa,QACtB,EAWJrpG,EAAQiuG,mBANJ,SAA4BiK,GACxB/yG,KAAKgH,KAAOg+F,EAASC,OAAO6D,mBAC5B9oG,KAAK+yG,YAAcA,CACvB,EAWJl4G,EAAQkuG,cANJ,SAAuBuG,GACnBtvG,KAAKgH,KAAOg+F,EAASC,OAAO8D,cAC5B/oG,KAAKsvG,SAAWA,CACpB,EAaJz0G,EAAQm4G,uBARJ,SAAgC7H,EAAQ17E,GACpCzvB,KAAKgH,KAAOg+F,EAASC,OAAOoD,iBAC5BroG,KAAKkyG,UAAW,EAChBlyG,KAAKmrG,OAASA,EACdnrG,KAAKyvB,SAAWA,CACpB,EAUJ50B,EAAQmuG,MALJ,WACIhpG,KAAKgH,KAAOg+F,EAASC,OAAO+D,KAChC,EAYJnuG,EAAQouG,WAPJ,SAAoB51F,EAAM8+F,GACtBnyG,KAAKgH,KAAOg+F,EAASC,OAAOgE,WAC5BjpG,KAAKqT,KAAOA,EACZrT,KAAKmyG,WAAaA,CACtB,EAYJt3G,EAAQquG,gBAPJ,SAAyB+J,EAAcC,GACnClzG,KAAKgH,KAAOg+F,EAASC,OAAOiE,gBAC5BlpG,KAAKizG,aAAeA,EACpBjzG,KAAKkzG,MAAQA,CACjB,EAYJr4G,EAAQsuG,yBAPJ,SAAkC36D,EAAK2kE,GACnCnzG,KAAKgH,KAAOg+F,EAASC,OAAOkE,yBAC5BnpG,KAAKwuC,IAAMA,EACXxuC,KAAKmzG,MAAQA,CACjB,EAYJt4G,EAAQuuG,gBAPJ,SAAyBtuG,EAAO69C,GAC5B34C,KAAKgH,KAAOg+F,EAASC,OAAOmE,gBAC5BppG,KAAKlF,MAAQA,EACbkF,KAAK24C,KAAOA,CAChB,EAYJ99C,EAAQwuG,gBAPJ,SAAyB+J,EAAQL,GAC7B/yG,KAAKgH,KAAOg+F,EAASC,OAAOoE,gBAC5BrpG,KAAKozG,OAASA,EACdpzG,KAAK+yG,YAAcA,CACvB,EAUJl4G,EAAQyuG,eALJ,WACItpG,KAAKgH,KAAOg+F,EAASC,OAAOqE,cAChC,EAWJzuG,EAAQ0uG,eANJ,SAAwB+F,GACpBtvG,KAAKgH,KAAOg+F,EAASC,OAAOsE,eAC5BvpG,KAAKsvG,SAAWA,CACpB,EAaJz0G,EAAQ2uG,aARJ,SAAsBl+F,EAAOmO,EAAS45F,GAClCrzG,KAAKgH,KAAOg+F,EAASC,OAAOuE,aAC5BxpG,KAAKsL,MAAQA,EACbtL,KAAKyZ,QAAUA,EACfzZ,KAAKqzG,UAAYA,CACrB,EAaJx4G,EAAQ4uG,gBARJ,SAAyB8H,EAAUjC,GAC/BtvG,KAAKgH,KAAOg+F,EAASC,OAAOwE,gBAC5BzpG,KAAKuxG,SAAWA,EAChBvxG,KAAKsvG,SAAWA,EAChBtvG,KAAK6G,QAAS,CAClB,EAaJhM,EAAQ6uG,iBARJ,SAA0B6H,EAAUjC,EAAUzoG,GAC1C7G,KAAKgH,KAAOg+F,EAASC,OAAOyE,iBAC5B1pG,KAAKuxG,SAAWA,EAChBvxG,KAAKsvG,SAAWA,EAChBtvG,KAAK6G,OAASA,CAClB,EAYJhM,EAAQ8uG,oBAPJ,SAA6B2J,EAAcpzC,GACvClgE,KAAKgH,KAAOg+F,EAASC,OAAO0E,oBAC5B3pG,KAAKszG,aAAeA,EACpBtzG,KAAKkgE,KAAOA,CAChB,EAYJrlE,EAAQ+uG,mBAPJ,SAA4B7yC,EAAIrkD,GAC5B1S,KAAKgH,KAAOg+F,EAASC,OAAO2E,mBAC5B5pG,KAAK+2D,GAAKA,EACV/2D,KAAK0S,KAAOA,CAChB,EAYJ7X,EAAQgvG,eAPJ,SAAwBx2F,EAAMsU,GAC1B3nB,KAAKgH,KAAOg+F,EAASC,OAAO4E,eAC5B7pG,KAAKqT,KAAOA,EACZrT,KAAK2nB,KAAOA,CAChB,EAYJ9sB,EAAQivG,cAPJ,SAAuBqB,EAAQxjF,GAC3B3nB,KAAKgH,KAAOg+F,EAASC,OAAO6E,cAC5B9pG,KAAKmrG,OAASA,EACdnrG,KAAK2nB,KAAOA,CAChB,EAYJ9sB,EAAQkvG,gBAPJ,SAAyBuF,EAAU/L,GAC/BvjG,KAAKgH,KAAOg+F,EAASC,OAAO8E,gBAC5B/pG,KAAKsvG,SAAWA,EAChBtvG,KAAKujG,SAAWA,CACpB,CAMC,EAEA,SAASr+F,EAAQrK,EAAS,GAE/B,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIy4G,EAAW,EAAoB,GAC/BC,EAAkB,EAAoB,IACtCC,EAAa,EAAoB,IACjClJ,EAAO,EAAoB,GAC3BmJ,EAAY,EAAoB,IAChC1O,EAAW,EAAoB,GAC/BwF,EAAU,EAAoB,IAC9BmJ,EAA4B,4BAC5BtP,EAAU,WACV,SAASA,EAAOnrF,EAAMvT,EAAS49F,QACX,IAAZ59F,IAAsBA,EAAU,CAAC,GACrC3F,KAAKwsC,OAAS,CACVllC,MAAiC,kBAAlB3B,EAAQ2B,OAAwB3B,EAAQ2B,MACvDy+F,IAA6B,kBAAhBpgG,EAAQogG,KAAsBpgG,EAAQogG,IACnDj4F,OAAQ,KACRklC,OAAmC,kBAAnBrtC,EAAQqtC,QAAyBrtC,EAAQqtC,OACzDkxB,QAAqC,kBAApBv+D,EAAQu+D,SAA0Bv+D,EAAQu+D,QAC3DugC,SAAuC,kBAArB9+F,EAAQ8+F,UAA2B9+F,EAAQ8+F,UAE7DzkG,KAAKwsC,OAAOu5D,KAAOpgG,EAAQmI,QAA6B,OAAnBnI,EAAQmI,SAC7C9N,KAAKwsC,OAAO1+B,OAASixB,OAAOp5B,EAAQmI,SAExC9N,KAAKujG,SAAWA,EAChBvjG,KAAKk9B,aAAe,IAAIs2E,EAAgBI,aACxC5zG,KAAKk9B,aAAaunE,SAAWzkG,KAAKwsC,OAAOi4D,SACzCzkG,KAAKyrG,QAAU,IAAIiI,EAAUG,QAAQ36F,EAAMlZ,KAAKk9B,cAChDl9B,KAAKyrG,QAAQqI,aAAe9zG,KAAKwsC,OAAO03B,QACxClkE,KAAK+zG,mBAAqB,CACtB,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,IAAK,EACL,KAAM,EACN,KAAM,EACN,IAAK,EACL,IAAK,EACL,IAAK,EACL,KAAM,EACN,KAAM,EACN,MAAO,EACP,MAAO,EACP,IAAK,EACL,IAAK,EACL,KAAM,EACN,KAAM,EACN,KAAM,EACN,KAAM,EACN,MAAO,EACP,IAAK,EACL,IAAK,EACL,IAAK,GACL,IAAK,GACL,IAAK,IAET/zG,KAAKg0G,UAAY,CACbhtG,KAAM,EACNlM,MAAO,GACP6wG,WAAY3rG,KAAKyrG,QAAQE,WACzBC,UAAW,EACXzwF,MAAO,EACPC,IAAK,GAETpb,KAAKi0G,mBAAoB,EACzBj0G,KAAK28B,QAAU,CACXsnE,UAAU,EACViQ,OAAO,EACPC,SAAS,EACTC,sBAAsB,EACtBC,YAAY,EACZC,+BAAgC,KAChCC,oBAAoB,EACpBC,kBAAkB,EAClBC,gBAAgB,EAChBC,aAAa,EACbC,UAAU,EACVC,SAAU,CAAC,EACX3rE,QAAQ,GAEZjpC,KAAKgzC,OAAS,GACdhzC,KAAK0rG,YAAc,CACfz/F,MAAO,EACPu1B,KAAMxhC,KAAKyrG,QAAQE,WACnBE,OAAQ,GAEZ7rG,KAAKytG,WAAa,CACdxhG,MAAO,EACPu1B,KAAMxhC,KAAKyrG,QAAQE,WACnBE,OAAQ,GAEZ7rG,KAAK+rG,YACL/rG,KAAKytG,WAAa,CACdxhG,MAAOjM,KAAKyrG,QAAQx/F,MACpBu1B,KAAMxhC,KAAKyrG,QAAQE,WACnBE,OAAQ7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,UAElD,CAk+FA,OAj+FAvH,EAAOrrF,UAAU8sB,WAAa,SAAU+uE,GAEpC,IADA,IAAI/vG,EAAS,GACJgwG,EAAK,EAAGA,EAAKpwG,UAAU0B,OAAQ0uG,IACpChwG,EAAOgwG,EAAK,GAAKpwG,UAAUowG,GAE/B,IAAI1tG,EAAOvB,MAAMmT,UAAUtM,MAAMwF,KAAKxN,UAAW,GAC7CwgB,EAAM2vF,EAAcjmG,QAAQ,UAAU,SAAUmmG,EAAO3/D,GAEvD,OADAm+D,EAASyB,OAAO5/D,EAAMhuC,EAAKhB,OAAQ,sCAC5BgB,EAAKguC,EAChB,IACInpC,EAAQjM,KAAKytG,WAAWxhG,MACxBu1B,EAAOxhC,KAAKytG,WAAWjsE,KACvBqqE,EAAS7rG,KAAKytG,WAAW5B,OAAS,EACtC,MAAM7rG,KAAKk9B,aAAa+3E,YAAYhpG,EAAOu1B,EAAMqqE,EAAQ3mF,EAC7D,EACAm/E,EAAOrrF,UAAU81F,cAAgB,SAAU+F,GAEvC,IADA,IAAI/vG,EAAS,GACJgwG,EAAK,EAAGA,EAAKpwG,UAAU0B,OAAQ0uG,IACpChwG,EAAOgwG,EAAK,GAAKpwG,UAAUowG,GAE/B,IAAI1tG,EAAOvB,MAAMmT,UAAUtM,MAAMwF,KAAKxN,UAAW,GAC7CwgB,EAAM2vF,EAAcjmG,QAAQ,UAAU,SAAUmmG,EAAO3/D,GAEvD,OADAm+D,EAASyB,OAAO5/D,EAAMhuC,EAAKhB,OAAQ,sCAC5BgB,EAAKguC,EAChB,IACInpC,EAAQjM,KAAKytG,WAAWxhG,MACxBu1B,EAAOxhC,KAAKyrG,QAAQE,WACpBE,EAAS7rG,KAAKytG,WAAW5B,OAAS,EACtC7rG,KAAKk9B,aAAa4xE,cAAc7iG,EAAOu1B,EAAMqqE,EAAQ3mF,EACzD,EAEAm/E,EAAOrrF,UAAUk8F,qBAAuB,SAAU75F,EAAOnK,GACrD,IACIpW,EADAoqB,EAAMhU,GAAWuiG,EAAW0B,SAASC,gBAyBzC,GAvBI/5F,GACKnK,IACDgU,EAAsB,IAAf7J,EAAMrU,KAAwBysG,EAAW0B,SAASE,cACrC,IAAfh6F,EAAMrU,KAA+BysG,EAAW0B,SAASG,qBACtC,IAAfj6F,EAAMrU,KAAmCysG,EAAW0B,SAASI,iBAC1C,IAAfl6F,EAAMrU,KAAkCysG,EAAW0B,SAASK,iBACzC,KAAfn6F,EAAMrU,KAA8BysG,EAAW0B,SAASM,mBACrDhC,EAAW0B,SAASC,gBACrB,IAAf/5F,EAAMrU,OACFhH,KAAKyrG,QAAQiK,qBAAqBr6F,EAAMvgB,OACxCoqB,EAAMuuF,EAAW0B,SAASQ,mBAErB31G,KAAK28B,QAAQsM,QAAUjpC,KAAKyrG,QAAQmK,yBAAyBv6F,EAAMvgB,SACxEoqB,EAAMuuF,EAAW0B,SAASU,sBAItC/6G,EAAQugB,EAAMvgB,OAGdA,EAAQ,UAEZoqB,EAAMA,EAAItW,QAAQ,KAAM9T,GACpBugB,GAAqC,iBAArBA,EAAMswF,WAAyB,CAC/C,IAAI1/F,EAAQoP,EAAMF,MACdqmB,EAAOnmB,EAAMswF,WACbmK,EAAsB91G,KAAKytG,WAAWxhG,MAAQjM,KAAKytG,WAAW5B,OAC9DA,EAASxwF,EAAMF,MAAQ26F,EAAsB,EACjD,OAAO91G,KAAKk9B,aAAa+3E,YAAYhpG,EAAOu1B,EAAMqqE,EAAQ3mF,EAC9D,CAKI,OAHIjZ,EAAQjM,KAAKytG,WAAWxhG,MACxBu1B,EAAOxhC,KAAKytG,WAAWjsE,KACvBqqE,EAAS7rG,KAAKytG,WAAW5B,OAAS,EAC/B7rG,KAAKk9B,aAAa+3E,YAAYhpG,EAAOu1B,EAAMqqE,EAAQ3mF,EAElE,EACAm/E,EAAOrrF,UAAUi1F,qBAAuB,SAAU5yF,EAAOnK,GACrD,MAAMlR,KAAKk1G,qBAAqB75F,EAAOnK,EAC3C,EACAmzF,EAAOrrF,UAAU+8F,wBAA0B,SAAU16F,EAAOnK,GACxDlR,KAAKk9B,aAAa6nE,SAAS/kG,KAAKk1G,qBAAqB75F,EAAOnK,GAChE,EACAmzF,EAAOrrF,UAAUmzF,gBAAkB,WAC/B,GAAKnsG,KAAKwsC,OAAO03B,QAGZ,CACD,IAAIsgC,EAAWxkG,KAAKyrG,QAAQsC,eAC5B,GAAIvJ,EAASp+F,OAAS,GAAKpG,KAAKujG,SAC5B,IAAK,IAAIh4F,EAAI,EAAGA,EAAIi5F,EAASp+F,SAAUmF,EAAG,CACtC,IAAI4C,EAAIq2F,EAASj5F,GACbxP,OAAO,EACXA,EAAO,CACHiL,KAAMmH,EAAE6nG,UAAY,eAAiB,cACrCl7G,MAAOkF,KAAKyrG,QAAQ39F,OAAOpB,MAAMyB,EAAEzB,MAAM,GAAIyB,EAAEzB,MAAM,KAErD1M,KAAKwsC,OAAOllC,QACZvL,EAAKuL,MAAQ6G,EAAE7G,OAEftH,KAAKwsC,OAAOu5D,MACZhqG,EAAKgqG,IAAM53F,EAAE43F,KAEjB,IAAI1nD,EAAW,CACXljC,MAAO,CACHqmB,KAAMrzB,EAAE43F,IAAI5qF,MAAMqmB,KAClBqqE,OAAQ19F,EAAE43F,IAAI5qF,MAAM0wF,OACpB99F,OAAQI,EAAE7G,MAAM,IAEpB8T,IAAK,CACDomB,KAAMrzB,EAAE43F,IAAI3qF,IAAIomB,KAChBqqE,OAAQ19F,EAAE43F,IAAI3qF,IAAIywF,OAClB99F,OAAQI,EAAE7G,MAAM,KAGxBtH,KAAKujG,SAASxnG,EAAMsiD,EACxB,CAER,MAjCIr+C,KAAKyrG,QAAQsC,cAkCrB,EAEA1J,EAAOrrF,UAAU41F,YAAc,SAAUvzF,GACrC,OAAOrb,KAAKyrG,QAAQ39F,OAAOpB,MAAM2O,EAAMF,MAAOE,EAAMD,IACxD,EACAipF,EAAOrrF,UAAU00F,aAAe,SAAUryF,GACtC,IAAI86B,EAAI,CACJnvC,KAAMwjG,EAAQY,UAAU/vF,EAAMrU,MAC9BlM,MAAOkF,KAAK4uG,YAAYvzF,IAiB5B,GAfIrb,KAAKwsC,OAAOllC,QACZ6uC,EAAE7uC,MAAQ,CAAC+T,EAAMF,MAAOE,EAAMD,MAE9Bpb,KAAKwsC,OAAOu5D,MACZ5vD,EAAE4vD,IAAM,CACJ5qF,MAAO,CACHqmB,KAAMxhC,KAAK0rG,YAAYlqE,KACvBqqE,OAAQ7rG,KAAK0rG,YAAYG,QAE7BzwF,IAAK,CACDomB,KAAMxhC,KAAKyrG,QAAQE,WACnBE,OAAQ7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,aAInC,IAAfvwF,EAAMrU,KAAoC,CAC1C,IAAIjB,EAAUsV,EAAMtV,QAChB06B,EAAQplB,EAAMolB,MAClB0V,EAAEtQ,MAAQ,CAAE9/B,QAASA,EAAS06B,MAAOA,EACzC,CACA,OAAO0V,CACX,EACAkuD,EAAOrrF,UAAU+yF,UAAY,WACzB,IAAI1wF,EAAQrb,KAAKg0G,UACjBh0G,KAAKytG,WAAWxhG,MAAQjM,KAAKyrG,QAAQx/F,MACrCjM,KAAKytG,WAAWjsE,KAAOxhC,KAAKyrG,QAAQE,WACpC3rG,KAAKytG,WAAW5B,OAAS7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,UAC3D5rG,KAAKmsG,kBACDnsG,KAAKyrG,QAAQx/F,QAAUjM,KAAK0rG,YAAYz/F,QACxCjM,KAAK0rG,YAAYz/F,MAAQjM,KAAKyrG,QAAQx/F,MACtCjM,KAAK0rG,YAAYlqE,KAAOxhC,KAAKyrG,QAAQE,WACrC3rG,KAAK0rG,YAAYG,OAAS7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,WAEhE,IAAIj/F,EAAO3M,KAAKyrG,QAAQ8B,MAWxB,OAVAvtG,KAAKi0G,kBAAqB54F,EAAMswF,aAAeh/F,EAAKg/F,WAChDh/F,GAAQ3M,KAAK28B,QAAQsM,QAAwB,IAAdt8B,EAAK3F,MAChChH,KAAKyrG,QAAQmK,yBAAyBjpG,EAAK7R,SAC3C6R,EAAK3F,KAAO,GAGpBhH,KAAKg0G,UAAYrnG,EACb3M,KAAKwsC,OAAOwG,QAAwB,IAAdrmC,EAAK3F,MAC3BhH,KAAKgzC,OAAOrxC,KAAK3B,KAAK0tG,aAAa/gG,IAEhC0O,CACX,EACAgpF,EAAOrrF,UAAUi9F,eAAiB,WAC9Bj2G,KAAKmsG,kBACL,IAAI9wF,EAAQrb,KAAKyrG,QAAQyK,aAUzB,OATIl2G,KAAKwsC,OAAOwG,SAGZhzC,KAAKgzC,OAAO/nC,MACZjL,KAAKgzC,OAAOrxC,KAAK3B,KAAK0tG,aAAaryF,KAGvCrb,KAAKg0G,UAAY34F,EACjBrb,KAAK+rG,YACE1wF,CACX,EACAgpF,EAAOrrF,UAAUm9F,WAAa,WAC1B,MAAO,CACHlqG,MAAOjM,KAAK0rG,YAAYz/F,MACxBu1B,KAAMxhC,KAAK0rG,YAAYlqE,KACvBqqE,OAAQ7rG,KAAK0rG,YAAYG,OAEjC,EACAxH,EAAOrrF,UAAUo9F,UAAY,SAAU/6F,EAAOg7F,QACpB,IAAlBA,IAA4BA,EAAgB,GAChD,IAAIxK,EAASxwF,EAAMF,MAAQE,EAAMuwF,UAC7BpqE,EAAOnmB,EAAMswF,WAKjB,OAJIE,EAAS,IACTA,GAAUwK,EACV70E,KAEG,CACHv1B,MAAOoP,EAAMF,MACbqmB,KAAMA,EACNqqE,OAAQA,EAEhB,EACAxH,EAAOrrF,UAAUw8E,SAAW,SAAU8gB,EAAQv6G,GAmB1C,GAlBIiE,KAAKwsC,OAAOllC,QACZvL,EAAKuL,MAAQ,CAACgvG,EAAOrqG,MAAOjM,KAAKytG,WAAWxhG,QAE5CjM,KAAKwsC,OAAOu5D,MACZhqG,EAAKgqG,IAAM,CACP5qF,MAAO,CACHqmB,KAAM80E,EAAO90E,KACbqqE,OAAQyK,EAAOzK,QAEnBzwF,IAAK,CACDomB,KAAMxhC,KAAKytG,WAAWjsE,KACtBqqE,OAAQ7rG,KAAKytG,WAAW5B,SAG5B7rG,KAAKwsC,OAAO1+B,SACZ/R,EAAKgqG,IAAIj4F,OAAS9N,KAAKwsC,OAAO1+B,SAGlC9N,KAAKujG,SAAU,CACf,IAAIllD,EAAW,CACXljC,MAAO,CACHqmB,KAAM80E,EAAO90E,KACbqqE,OAAQyK,EAAOzK,OACf99F,OAAQuoG,EAAOrqG,OAEnBmP,IAAK,CACDomB,KAAMxhC,KAAKytG,WAAWjsE,KACtBqqE,OAAQ7rG,KAAKytG,WAAW5B,OACxB99F,OAAQ/N,KAAKytG,WAAWxhG,QAGhCjM,KAAKujG,SAASxnG,EAAMsiD,EACxB,CACA,OAAOtiD,CACX,EAGAsoG,EAAOrrF,UAAUu9F,OAAS,SAAUz7G,GAChC,IAAIugB,EAAQrb,KAAK+rG,YACE,IAAf1wF,EAAMrU,MAA+BqU,EAAMvgB,QAAUA,GACrDkF,KAAKiuG,qBAAqB5yF,EAElC,EAEAgpF,EAAOrrF,UAAUw9F,qBAAuB,WACpC,GAAIx2G,KAAKwsC,OAAOi4D,SAAU,CACtB,IAAIppF,EAAQrb,KAAKg0G,UACE,IAAf34F,EAAMrU,MAA+C,MAAhBqU,EAAMvgB,MAC3CkF,KAAK+rG,YAEe,IAAf1wF,EAAMrU,MAA+C,MAAhBqU,EAAMvgB,OAChDkF,KAAK+rG,YACL/rG,KAAK+1G,wBAAwB16F,IAG7Brb,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAASC,gBAEhE,MAEIp1G,KAAKu2G,OAAO,IAEpB,EAGAlS,EAAOrrF,UAAUy9F,cAAgB,SAAUC,GACvC,IAAIr7F,EAAQrb,KAAK+rG,YACE,IAAf1wF,EAAMrU,MAA4BqU,EAAMvgB,QAAU47G,GAClD12G,KAAKiuG,qBAAqB5yF,EAElC,EAEAgpF,EAAOrrF,UAAUnK,MAAQ,SAAU/T,GAC/B,OAA+B,IAAxBkF,KAAKg0G,UAAUhtG,MAA+BhH,KAAKg0G,UAAUl5G,QAAUA,CAClF,EAEAupG,EAAOrrF,UAAU29F,aAAe,SAAUD,GACtC,OAA+B,IAAxB12G,KAAKg0G,UAAUhtG,MAA4BhH,KAAKg0G,UAAUl5G,QAAU47G,CAC/E,EAGArS,EAAOrrF,UAAU49F,uBAAyB,SAAUF,GAChD,OAA+B,IAAxB12G,KAAKg0G,UAAUhtG,MAA+BhH,KAAKg0G,UAAUl5G,QAAU47G,CAClF,EAEArS,EAAOrrF,UAAU69F,YAAc,WAC3B,GAA4B,IAAxB72G,KAAKg0G,UAAUhtG,KACf,OAAO,EAEX,IAAI8vG,EAAK92G,KAAKg0G,UAAUl5G,MACxB,MAAc,MAAPg8G,GACI,OAAPA,GACO,QAAPA,GACO,OAAPA,GACO,OAAPA,GACO,OAAPA,GACO,OAAPA,GACO,QAAPA,GACO,QAAPA,GACO,SAAPA,GACO,OAAPA,GACO,OAAPA,GACO,OAAPA,CACR,EAgCAzS,EAAOrrF,UAAU+9F,oBAAsB,SAAUC,GAC7C,IAAIC,EAA2Bj3G,KAAK28B,QAAQ63E,iBACxC0C,EAA6Bl3G,KAAK28B,QAAQ43E,mBAC1C4C,EAAyCn3G,KAAK28B,QAAQ23E,+BAC1Dt0G,KAAK28B,QAAQ63E,kBAAmB,EAChCx0G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ23E,+BAAiC,KAC9C,IAAI90G,EAASw3G,EAAc9kG,KAAKlS,MAOhC,OANoD,OAAhDA,KAAK28B,QAAQ23E,gCACbt0G,KAAKiuG,qBAAqBjuG,KAAK28B,QAAQ23E,gCAE3Ct0G,KAAK28B,QAAQ63E,iBAAmByC,EAChCj3G,KAAK28B,QAAQ43E,mBAAqB2C,EAClCl3G,KAAK28B,QAAQ23E,+BAAiC6C,EACvC33G,CACX,EACA6kG,EAAOrrF,UAAUo+F,oBAAsB,SAAUJ,GAC7C,IAAIC,EAA2Bj3G,KAAK28B,QAAQ63E,iBACxC0C,EAA6Bl3G,KAAK28B,QAAQ43E,mBAC1C4C,EAAyCn3G,KAAK28B,QAAQ23E,+BAC1Dt0G,KAAK28B,QAAQ63E,kBAAmB,EAChCx0G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ23E,+BAAiC,KAC9C,IAAI90G,EAASw3G,EAAc9kG,KAAKlS,MAIhC,OAHAA,KAAK28B,QAAQ63E,iBAAmBx0G,KAAK28B,QAAQ63E,kBAAoByC,EACjEj3G,KAAK28B,QAAQ43E,mBAAqBv0G,KAAK28B,QAAQ43E,oBAAsB2C,EACrEl3G,KAAK28B,QAAQ23E,+BAAiC6C,GAA0Cn3G,KAAK28B,QAAQ23E,+BAC9F90G,CACX,EACA6kG,EAAOrrF,UAAUq+F,iBAAmB,WAC5Br3G,KAAK6O,MAAM,KACX7O,KAAK+rG,YAEC/rG,KAAKi0G,oBACiB,IAAxBj0G,KAAKg0G,UAAUhtG,MAAyBhH,KAAK6O,MAAM,MACnD7O,KAAKiuG,qBAAqBjuG,KAAKg0G,WAEnCh0G,KAAKytG,WAAWxhG,MAAQjM,KAAK0rG,YAAYz/F,MACzCjM,KAAKytG,WAAWjsE,KAAOxhC,KAAK0rG,YAAYlqE,KACxCxhC,KAAKytG,WAAW5B,OAAS7rG,KAAK0rG,YAAYG,OAElD,EAEAxH,EAAOrrF,UAAUsyF,uBAAyB,WACtC,IACIJ,EACA7vF,EAAOszF,EAFP5yG,EAAOiE,KAAKm2G,aAGhB,OAAQn2G,KAAKg0G,UAAUhtG,MACnB,KAAK,GACIhH,KAAK28B,QAAQsnE,UAAYjkG,KAAK28B,QAAQu3E,QAAmC,UAAzBl0G,KAAKg0G,UAAUl5G,OAChEkF,KAAK+1G,wBAAwB/1G,KAAKg0G,WAEtC9I,EAAOlrG,KAAKs3G,qBAAuBt3G,KAAKu3G,0BAA4Bv3G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3C,WAAW5nG,KAAK+rG,YAAYjxG,QAC7H,MACJ,KAAK,EACL,KAAK,EACGkF,KAAK28B,QAAQsM,QAAUjpC,KAAKg0G,UAAUwD,OACtCx3G,KAAK+1G,wBAAwB/1G,KAAKg0G,UAAWP,EAAW0B,SAASsC,oBAErEz3G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAChCn5F,EAAQrb,KAAK+rG,YACb4C,EAAM3uG,KAAK4uG,YAAYvzF,GACvB6vF,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKrC,QAAQ7sF,EAAMvgB,MAAO6zG,IACzD,MACJ,KAAK,EACD3uG,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAChCn5F,EAAQrb,KAAK+rG,YACb4C,EAAM3uG,KAAK4uG,YAAYvzF,GACvB6vF,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKrC,QAAwB,SAAhB7sF,EAAMvgB,MAAkB6zG,IACpE,MACJ,KAAK,EACD3uG,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAChCn5F,EAAQrb,KAAK+rG,YACb4C,EAAM3uG,KAAK4uG,YAAYvzF,GACvB6vF,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKrC,QAAQ,KAAMyG,IAClD,MACJ,KAAK,GACDzD,EAAOlrG,KAAK03G,uBACZ,MACJ,KAAK,EACD,OAAQ13G,KAAKg0G,UAAUl5G,OACnB,IAAK,IACDkF,KAAK28B,QAAQ63E,kBAAmB,EAChCtJ,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAK23G,sBACrC,MACJ,IAAK,IACDzM,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAK43G,uBACrC,MACJ,IAAK,IACD1M,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAK63G,wBACrC,MACJ,IAAK,IACL,IAAK,KACD73G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAChCx0G,KAAKyrG,QAAQx/F,MAAQjM,KAAK0rG,YAAYz/F,MACtCoP,EAAQrb,KAAKi2G,iBACbtH,EAAM3uG,KAAK4uG,YAAYvzF,GACvB6vF,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKsI,aAAax3F,EAAMwqB,MAAO8oE,EAAKtzF,EAAMtV,QAASsV,EAAMolB,QACxF,MACJ,QACIyqE,EAAOlrG,KAAKiuG,qBAAqBjuG,KAAK+rG,aAE9C,MACJ,KAAK,GACI/rG,KAAK28B,QAAQsM,QAAUjpC,KAAK28B,QAAQ03E,YAAcr0G,KAAK22G,aAAa,SACrEzL,EAAOlrG,KAAK83G,uBAEN93G,KAAK28B,QAAQsM,QAAUjpC,KAAK22G,aAAa,OAC/CzL,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3C,WAAW5nG,KAAK+rG,YAAYjxG,SAGhEkF,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAC5Bx0G,KAAK22G,aAAa,YAClBzL,EAAOlrG,KAAKu3G,0BAEPv3G,KAAK22G,aAAa,SACvB32G,KAAK+rG,YACLb,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKjB,iBAGpC4B,EADKlrG,KAAK22G,aAAa,SAChB32G,KAAK+3G,uBAGL/3G,KAAKiuG,qBAAqBjuG,KAAK+rG,cAG9C,MACJ,QACIb,EAAOlrG,KAAKiuG,qBAAqBjuG,KAAK+rG,aAE9C,OAAOb,CACX,EAEA7G,EAAOrrF,UAAUg/F,mBAAqB,WAClC,IAAIj8G,EAAOiE,KAAKm2G,aAChBn2G,KAAKu2G,OAAO,OACZ,IAAIt4E,EAAMj+B,KAAKo3G,oBAAoBp3G,KAAK+uG,2BACxC,OAAO/uG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKxB,cAAc9qE,GACtD,EACAomE,EAAOrrF,UAAU4+F,sBAAwB,WACrC,IAAI77G,EAAOiE,KAAKm2G,aACZ73B,EAAW,GAEf,IADAt+E,KAAKu2G,OAAO,MACJv2G,KAAK6O,MAAM,MACf,GAAI7O,KAAK6O,MAAM,KACX7O,KAAK+rG,YACLztB,EAAS38E,KAAK,WAEb,GAAI3B,KAAK6O,MAAM,OAAQ,CACxB,IAAIivE,EAAU99E,KAAKg4G,qBACdh4G,KAAK6O,MAAM,OACZ7O,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAChCx0G,KAAKu2G,OAAO,MAEhBj4B,EAAS38E,KAAKm8E,EAClB,MAEIQ,EAAS38E,KAAK3B,KAAKo3G,oBAAoBp3G,KAAK+uG,4BACvC/uG,KAAK6O,MAAM,MACZ7O,KAAKu2G,OAAO,KAKxB,OADAv2G,KAAKu2G,OAAO,KACLv2G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKrE,gBAAgB5nB,GACxD,EAEA+lB,EAAOrrF,UAAUi/F,oBAAsB,SAAUt9F,GAC7C3a,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAChC,IAAI0D,EAAiBl4G,KAAK28B,QAAQsM,OAC9BkvE,EAA+Bn4G,KAAK28B,QAAQy3E,qBAChDp0G,KAAK28B,QAAQy3E,qBAAuBz5F,EAAOy9F,OAC3C,IAAIzwF,EAAO3nB,KAAK+2G,oBAAoB/2G,KAAKq4G,6BASzC,OARIr4G,KAAK28B,QAAQsM,QAAUtuB,EAAO29F,iBAC9Bt4G,KAAK+1G,wBAAwBp7F,EAAO29F,gBAAiB39F,EAAOzJ,SAE5DlR,KAAK28B,QAAQsM,QAAUtuB,EAAO49F,UAC9Bv4G,KAAK+1G,wBAAwBp7F,EAAO49F,SAAU59F,EAAOzJ,SAEzDlR,KAAK28B,QAAQsM,OAASivE,EACtBl4G,KAAK28B,QAAQy3E,qBAAuB+D,EAC7BxwF,CACX,EACA08E,EAAOrrF,UAAUw/F,4BAA8B,WAC3C,IACIz8G,EAAOiE,KAAKm2G,aACZsC,EAAqBz4G,KAAK28B,QAAQ03E,WACtCr0G,KAAK28B,QAAQ03E,YAAa,EAC1B,IAAI15F,EAAS3a,KAAK04G,wBACd9vF,EAAS5oB,KAAKi4G,oBAAoBt9F,GAEtC,OADA3a,KAAK28B,QAAQ03E,WAAaoE,EACnBz4G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK5C,mBAAmB,KAAMhtF,EAAOA,OAAQiO,GAP1D,GAQtB,EACAy7E,EAAOrrF,UAAU2/F,iCAAmC,WAChD,IAAI58G,EAAOiE,KAAKm2G,aACZsC,EAAqBz4G,KAAK28B,QAAQ03E,WAClCuE,EAAgB54G,KAAK28B,QAAQu3E,MACjCl0G,KAAK28B,QAAQ03E,YAAa,EAC1Br0G,KAAK28B,QAAQu3E,OAAQ,EACrB,IAAIv5F,EAAS3a,KAAK04G,wBACd9vF,EAAS5oB,KAAKi4G,oBAAoBt9F,GAGtC,OAFA3a,KAAK28B,QAAQ03E,WAAaoE,EAC1Bz4G,KAAK28B,QAAQu3E,MAAQ0E,EACd54G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKqH,wBAAwB,KAAMj3F,EAAOA,OAAQiO,GACrF,EACAy7E,EAAOrrF,UAAU6/F,uBAAyB,WACtC,IAEItlG,EAFAxX,EAAOiE,KAAKm2G,aACZ96F,EAAQrb,KAAK+rG,YAEjB,OAAQ1wF,EAAMrU,MACV,KAAK,EACL,KAAK,EACGhH,KAAK28B,QAAQsM,QAAU5tB,EAAMm8F,OAC7Bx3G,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAASsC,oBAE5D,IAAI9I,EAAM3uG,KAAK4uG,YAAYvzF,GAC3B9H,EAAMvT,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKrC,QAAQ7sF,EAAMvgB,MAAO6zG,IACxD,MACJ,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACDp7F,EAAMvT,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3C,WAAWvsF,EAAMvgB,QACpD,MACJ,KAAK,EACmB,MAAhBugB,EAAMvgB,OACNyY,EAAMvT,KAAK+2G,oBAAoB/2G,KAAK+uG,2BACpC/uG,KAAKu2G,OAAO,MAGZhjG,EAAMvT,KAAKiuG,qBAAqB5yF,GAEpC,MACJ,QACI9H,EAAMvT,KAAKiuG,qBAAqB5yF,GAExC,OAAO9H,CACX,EACA8wF,EAAOrrF,UAAU8/F,cAAgB,SAAUvlG,EAAKzY,GAC5C,OAAQyY,EAAIvM,OAASg+F,EAASC,OAAO2C,YAAcr0F,EAAIlV,OAASvD,GAC3DyY,EAAIvM,OAASg+F,EAASC,OAAOiD,SAAW30F,EAAIzY,QAAUA,CAC/D,EACAupG,EAAOrrF,UAAU+/F,oBAAsB,SAAUC,GAC7C,IAEI94C,EAFAnkE,EAAOiE,KAAKm2G,aACZ96F,EAAQrb,KAAKg0G,UAEbzgG,EAAM,KACNzY,EAAQ,KACRo3G,GAAW,EACXtpF,GAAS,EACT2xB,GAAY,EACZ0+D,GAAU,EACd,GAAmB,IAAf59F,EAAMrU,KAA6B,CACnC,IAAI+vD,EAAK17C,EAAMvgB,MACfkF,KAAK+rG,YACLmG,EAAWlyG,KAAK6O,MAAM,KAGtB0E,GAFA0lG,IAAWj5G,KAAKi0G,mBAA6B,UAAPl9C,GACjC/2D,KAAK6O,MAAM,MAAS7O,KAAK6O,MAAM,MAAS7O,KAAK6O,MAAM,MAAS7O,KAAK6O,MAAM,OAC5D7O,KAAK64G,yBAA2B74G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3C,WAAW7wC,GAC5F,MACS/2D,KAAK6O,MAAM,KAChB7O,KAAK+rG,aAGLmG,EAAWlyG,KAAK6O,MAAM,KACtB0E,EAAMvT,KAAK64G,0BAEf,IAAIK,EAAuBl5G,KAAKm5G,sBAAsBn5G,KAAKg0G,WAC3D,GAAmB,IAAf34F,EAAMrU,OAAgCiyG,GAA2B,QAAhB59F,EAAMvgB,OAAmBo+G,EAC1Eh5C,EAAO,MACPgyC,EAAWlyG,KAAK6O,MAAM,KACtB0E,EAAMvT,KAAK64G,yBACX74G,KAAK28B,QAAQ03E,YAAa,EAC1Bv5G,EAAQkF,KAAKo5G,yBAEZ,GAAmB,IAAf/9F,EAAMrU,OAAgCiyG,GAA2B,QAAhB59F,EAAMvgB,OAAmBo+G,EAC/Eh5C,EAAO,MACPgyC,EAAWlyG,KAAK6O,MAAM,KACtB0E,EAAMvT,KAAK64G,yBACX/9G,EAAQkF,KAAKq5G,yBAEZ,GAAmB,IAAfh+F,EAAMrU,MAA+C,MAAhBqU,EAAMvgB,OAAiBo+G,EACjEh5C,EAAO,OACPgyC,EAAWlyG,KAAK6O,MAAM,KACtB0E,EAAMvT,KAAK64G,yBACX/9G,EAAQkF,KAAKs5G,uBACb1wF,GAAS,OAOT,GAJKrV,GACDvT,KAAKiuG,qBAAqBjuG,KAAKg0G,WAEnC9zC,EAAO,OACHlgE,KAAK6O,MAAM,OAASoqG,GACf/G,GAAYlyG,KAAK84G,cAAcvlG,EAAK,eACjCylG,EAASl+G,OACTkF,KAAK8uG,cAAc2E,EAAW0B,SAASoE,wBAE3CP,EAASl+G,OAAQ,GAErBkF,KAAK+rG,YACLjxG,EAAQkF,KAAKo3G,oBAAoBp3G,KAAK+uG,gCAErC,GAAI/uG,KAAK6O,MAAM,KAChB/T,EAAQm+G,EAAUj5G,KAAK24G,mCAAqC34G,KAAKw4G,8BACjE5vF,GAAS,OAER,GAAmB,IAAfvN,EAAMrU,KAEX,GADI+vD,EAAK/2D,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3C,WAAWvsF,EAAMvgB,QACnDkF,KAAK6O,MAAM,KAAM,CACjB7O,KAAK28B,QAAQ23E,+BAAiCt0G,KAAKg0G,UACnDh0G,KAAK+rG,YACLxxD,GAAY,EACZ,IAAI7nC,EAAO1S,KAAK+2G,oBAAoB/2G,KAAK+uG,2BACzCj0G,EAAQkF,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKtE,kBAAkBlvC,EAAIrkD,GAC/D,MAEI6nC,GAAY,EACZz/C,EAAQi8D,OAIZ/2D,KAAKiuG,qBAAqBjuG,KAAK+rG,aAGvC,OAAO/rG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK5B,SAASzoC,EAAM3sD,EAAK2+F,EAAUp3G,EAAO8tB,EAAQ2xB,GACrF,EACA8pD,EAAOrrF,UAAU6+F,uBAAyB,WACtC,IAAI97G,EAAOiE,KAAKm2G,aAChBn2G,KAAKu2G,OAAO,KAGZ,IAFA,IAAI7jD,EAAa,GACbsmD,EAAW,CAAEl+G,OAAO,IAChBkF,KAAK6O,MAAM,MACf6jD,EAAW/wD,KAAK3B,KAAK+4G,oBAAoBC,IACpCh5G,KAAK6O,MAAM,MACZ7O,KAAKw2G,uBAIb,OADAx2G,KAAKu2G,OAAO,KACLv2G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK9B,iBAAiB/1C,GACzD,EAEA2xC,EAAOrrF,UAAUwgG,kBAAoB,WACjCjG,EAASyB,OAAOh1G,KAAKg0G,UAAU7rF,KAAM,oDACrC,IAAIpsB,EAAOiE,KAAKm2G,aACZ96F,EAAQrb,KAAK+rG,YACb4C,EAAMtzF,EAAMvgB,MACZ2+G,EAASp+F,EAAMo+F,OACnB,OAAOz5G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKnB,gBAAgB,CAAEuF,IAAKA,EAAK8K,OAAQA,GAAUp+F,EAAMs9B,MAC5F,EACA0rD,EAAOrrF,UAAU0gG,qBAAuB,WACR,KAAxB15G,KAAKg0G,UAAUhtG,MACfhH,KAAKiuG,uBAET,IAAIlyG,EAAOiE,KAAKm2G,aACZ96F,EAAQrb,KAAK+rG,YACb4C,EAAMtzF,EAAMvgB,MACZ2+G,EAASp+F,EAAMo+F,OACnB,OAAOz5G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKnB,gBAAgB,CAAEuF,IAAKA,EAAK8K,OAAQA,GAAUp+F,EAAMs9B,MAC5F,EACA0rD,EAAOrrF,UAAU0+F,qBAAuB,WACpC,IAAI37G,EAAOiE,KAAKm2G,aACZpD,EAAc,GACdK,EAAS,GACTD,EAAQnzG,KAAKw5G,oBAEjB,IADApG,EAAOzxG,KAAKwxG,IACJA,EAAMx6D,MACVo6D,EAAYpxG,KAAK3B,KAAK25G,mBACtBxG,EAAQnzG,KAAK05G,uBACbtG,EAAOzxG,KAAKwxG,GAEhB,OAAOnzG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKlB,gBAAgB+J,EAAQL,GAChE,EAEA1O,EAAOrrF,UAAU4gG,+BAAiC,SAAU1O,GACxD,OAAQA,EAAKlkG,MACT,KAAKg+F,EAASC,OAAO2C,WACrB,KAAK5C,EAASC,OAAOoD,iBACrB,KAAKrD,EAASC,OAAO2D,YACrB,KAAK5D,EAASC,OAAOgB,kBACjB,MACJ,KAAKjB,EAASC,OAAO8D,cACjBmC,EAAKlkG,KAAOg+F,EAASC,OAAO2D,YAC5B5oG,KAAK45G,+BAA+B1O,EAAKoE,UACzC,MACJ,KAAKtK,EAASC,OAAOiB,gBACjBgF,EAAKlkG,KAAOg+F,EAASC,OAAOkB,aAC5B,IAAK,IAAI56F,EAAI,EAAGA,EAAI2/F,EAAK5sB,SAASl4E,OAAQmF,IACb,OAArB2/F,EAAK5sB,SAAS/yE,IACdvL,KAAK45G,+BAA+B1O,EAAK5sB,SAAS/yE,IAG1D,MACJ,KAAKy5F,EAASC,OAAOwD,iBAEjB,IADAyC,EAAKlkG,KAAOg+F,EAASC,OAAOyD,cACnBn9F,EAAI,EAAGA,EAAI2/F,EAAKx4C,WAAWtsD,OAAQmF,IACxCvL,KAAK45G,+BAA+B1O,EAAKx4C,WAAWnnD,GAAGzQ,OAE3D,MACJ,KAAKkqG,EAASC,OAAOe,qBACjBkF,EAAKlkG,KAAOg+F,EAASC,OAAOgB,yBACrBiF,EAAKqG,SACZvxG,KAAK45G,+BAA+B1O,EAAKsG,MAMrD,EACAnN,EAAOrrF,UAAU2+F,qBAAuB,WACpC,IAAIzM,EAEJ,GADAlrG,KAAKu2G,OAAO,KACRv2G,KAAK6O,MAAM,KACX7O,KAAK+rG,YACA/rG,KAAK6O,MAAM,OACZ7O,KAAKu2G,OAAO,MAEhBrL,EAAO,CACHlkG,KAAM2sG,EACNh5F,OAAQ,GACRhe,OAAO,OAGV,CACD,IAAIk9G,EAAa75G,KAAKg0G,UAClBr5F,EAAS,GACb,GAAI3a,KAAK6O,MAAM,OACXq8F,EAAOlrG,KAAK85G,iBAAiBn/F,GAC7B3a,KAAKu2G,OAAO,KACPv2G,KAAK6O,MAAM,OACZ7O,KAAKu2G,OAAO,MAEhBrL,EAAO,CACHlkG,KAAM2sG,EACNh5F,OAAQ,CAACuwF,GACTvuG,OAAO,OAGV,CACD,IAAIo9G,GAAQ,EAGZ,GAFA/5G,KAAK28B,QAAQ63E,kBAAmB,EAChCtJ,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAK+uG,2BACjC/uG,KAAK6O,MAAM,KAAM,CACjB,IAAIkkG,EAAc,GAGlB,IAFA/yG,KAAK28B,QAAQ43E,oBAAqB,EAClCxB,EAAYpxG,KAAKupG,GACc,IAAxBlrG,KAAKg0G,UAAUhtG,MACbhH,KAAK6O,MAAM,MADwB,CAKxC,GADA7O,KAAK+rG,YACD/rG,KAAK6O,MAAM,KAAM,CACjB7O,KAAK+rG,YACL,IAAK,IAAIxgG,EAAI,EAAGA,EAAIwnG,EAAY3sG,OAAQmF,IACpCvL,KAAK45G,+BAA+B7G,EAAYxnG,IAEpDwuG,GAAQ,EACR7O,EAAO,CACHlkG,KAAM2sG,EACNh5F,OAAQo4F,EACRp2G,OAAO,EAEf,MACK,GAAIqD,KAAK6O,MAAM,OAAQ,CAUxB,IATK7O,KAAK28B,QAAQ63E,kBACdx0G,KAAKiuG,qBAAqBjuG,KAAKg0G,WAEnCjB,EAAYpxG,KAAK3B,KAAK85G,iBAAiBn/F,IACvC3a,KAAKu2G,OAAO,KACPv2G,KAAK6O,MAAM,OACZ7O,KAAKu2G,OAAO,MAEhBv2G,KAAK28B,QAAQ63E,kBAAmB,EACvBjpG,EAAI,EAAGA,EAAIwnG,EAAY3sG,OAAQmF,IACpCvL,KAAK45G,+BAA+B7G,EAAYxnG,IAEpDwuG,GAAQ,EACR7O,EAAO,CACHlkG,KAAM2sG,EACNh5F,OAAQo4F,EACRp2G,OAAO,EAEf,MAEIo2G,EAAYpxG,KAAK3B,KAAKo3G,oBAAoBp3G,KAAK+uG,4BAEnD,GAAIgL,EACA,KAER,CACKA,IACD7O,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAKzB,mBAAmBiK,IAErF,CACA,IAAKgH,EAAO,CAER,GADA/5G,KAAKu2G,OAAO,KACRv2G,KAAK6O,MAAM,QACPq8F,EAAKlkG,OAASg+F,EAASC,OAAO2C,YAA4B,UAAdsD,EAAK7sG,OACjD07G,GAAQ,EACR7O,EAAO,CACHlkG,KAAM2sG,EACNh5F,OAAQ,CAACuwF,GACTvuG,OAAO,KAGVo9G,GAAO,CAIR,GAHK/5G,KAAK28B,QAAQ63E,kBACdx0G,KAAKiuG,qBAAqBjuG,KAAKg0G,WAE/B9I,EAAKlkG,OAASg+F,EAASC,OAAO6D,mBAC9B,IAASv9F,EAAI,EAAGA,EAAI2/F,EAAK6H,YAAY3sG,OAAQmF,IACzCvL,KAAK45G,+BAA+B1O,EAAK6H,YAAYxnG,SAIzDvL,KAAK45G,+BAA+B1O,GAExC,IAAIl5C,EAAck5C,EAAKlkG,OAASg+F,EAASC,OAAO6D,mBAAqBoC,EAAK6H,YAAc,CAAC7H,GACzFA,EAAO,CACHlkG,KAAM2sG,EACNh5F,OAAQq3C,EACRr1D,OAAO,EAEf,CAEJqD,KAAK28B,QAAQ63E,kBAAmB,CACpC,CACJ,CACJ,CACA,OAAOtJ,CACX,EAEA7G,EAAOrrF,UAAUghG,eAAiB,WAC9Bh6G,KAAKu2G,OAAO,KACZ,IAAInvG,EAAO,GACX,IAAKpH,KAAK6O,MAAM,KACZ,OAAa,CACT,IAAIq8F,EAAOlrG,KAAK6O,MAAM,OAAS7O,KAAKg4G,qBAChCh4G,KAAK+2G,oBAAoB/2G,KAAK+uG,2BAElC,GADA3nG,EAAKzF,KAAKupG,GACNlrG,KAAK6O,MAAM,KACX,MAGJ,GADA7O,KAAKw2G,uBACDx2G,KAAK6O,MAAM,KACX,KAER,CAGJ,OADA7O,KAAKu2G,OAAO,KACLnvG,CACX,EACAi9F,EAAOrrF,UAAUihG,iBAAmB,SAAU5+F,GAC1C,OAAsB,IAAfA,EAAMrU,MACM,IAAfqU,EAAMrU,MACS,IAAfqU,EAAMrU,MACS,IAAfqU,EAAMrU,IACd,EACAq9F,EAAOrrF,UAAU8+F,oBAAsB,WACnC,IAAI/7G,EAAOiE,KAAKm2G,aACZ96F,EAAQrb,KAAK+rG,YAIjB,OAHK/rG,KAAKi6G,iBAAiB5+F,IACvBrb,KAAKiuG,qBAAqB5yF,GAEvBrb,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3C,WAAWvsF,EAAMvgB,OACzD,EACAupG,EAAOrrF,UAAUkhG,mBAAqB,WAClC,IAGIhP,EAHAnvG,EAAOiE,KAAKm2G,aACZp/C,EAAK/2D,KAAK83G,sBAGd,GAFAvE,EAASyB,OAAmB,QAAZj+C,EAAG14D,KAAgB,wCAE/B2B,KAAK6O,MAAM,KAEX,GADA7O,KAAK+rG,YACuB,IAAxB/rG,KAAKg0G,UAAUhtG,MAA+BhH,KAAK28B,QAAQ83E,gBAA2C,WAAzBz0G,KAAKg0G,UAAUl5G,MAAoB,CAChH,IAAI20B,EAAWzvB,KAAK83G,sBACpB5M,EAAO,IAAIX,EAAKjC,aAAavxC,EAAItnC,EACrC,MAEIzvB,KAAKiuG,qBAAqBjuG,KAAKg0G,eAGlC,CACD,IAAIlC,EAAS9xG,KAAK+2G,oBAAoB/2G,KAAKm6G,6BACvC/yG,EAAOpH,KAAK6O,MAAM,KAAO7O,KAAKg6G,iBAAmB,GACrD9O,EAAO,IAAIX,EAAK/B,cAAcsJ,EAAQ1qG,GACtCpH,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,CACpC,CACA,OAAOx0G,KAAKw1F,SAASz5F,EAAMmvG,EAC/B,EACA7G,EAAOrrF,UAAUohG,mBAAqB,WAClC,IAAIn8E,EAAMj+B,KAAK+uG,4BAEf,OADA/uG,KAAK28B,QAAQ23E,+BAAiC,KACvCr2E,CACX,EACAomE,EAAOrrF,UAAUqhG,oBAAsB,WACnCr6G,KAAKu2G,OAAO,KACZ,IAAInvG,EAAO,GACX,IAAKpH,KAAK6O,MAAM,KACZ,OAAa,CACT,IAAIq8F,EAAOlrG,KAAK6O,MAAM,OAAS7O,KAAKg4G,qBAChCh4G,KAAK+2G,oBAAoB/2G,KAAKo6G,oBAElC,GADAhzG,EAAKzF,KAAKupG,GACNlrG,KAAK6O,MAAM,KACX,MAGJ,GADA7O,KAAKw2G,uBACDx2G,KAAK6O,MAAM,KACX,KAER,CAGJ,OADA7O,KAAKu2G,OAAO,KACLnvG,CACX,EACAi9F,EAAOrrF,UAAUshG,qCAAuC,WACpD,IAIIpP,EAJA2O,EAAa75G,KAAKg0G,UAClBuG,EAAav6G,KAAK42G,uBAAuB,SACzC4D,EAAkBx6G,KAAK28B,QAAQw3E,QAcnC,IAbAn0G,KAAK28B,QAAQw3E,SAAU,EAEnBn0G,KAAK22G,aAAa,UAAY32G,KAAK28B,QAAQ83E,gBAC3CvJ,EAAOlrG,KAAKm2G,aACZn2G,KAAK+rG,YACLb,EAAOlrG,KAAKw1F,SAAS0V,EAAM,IAAIX,EAAKvB,OAC/BhpG,KAAK6O,MAAM,MAAS7O,KAAK6O,MAAM,MAAS7O,KAAK6O,MAAM,MACpD7O,KAAKiuG,qBAAqBjuG,KAAKg0G,YAInC9I,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAK22G,aAAa,OAAS32G,KAAKk6G,mBAAqBl6G,KAAKsrG,0BAG1F,GAAItrG,KAAK6O,MAAM,KAAM,CACjB7O,KAAK28B,QAAQ63E,kBAAmB,EAChCx0G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAKu2G,OAAO,KACZ,IAAI9mF,EAAWzvB,KAAK83G,sBACpB5M,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAKyI,uBAAuB9H,EAAMz7E,GAC3F,MACK,GAAIzvB,KAAK6O,MAAM,KAAM,CACtB,IAAI4rG,EAAaF,GAAeV,EAAWlO,aAAe3rG,KAAKg0G,UAAUrI,WACzE3rG,KAAK28B,QAAQ63E,kBAAmB,EAChCx0G,KAAK28B,QAAQ43E,oBAAqB,EAClC,IAAIntG,EAAOqzG,EAAaz6G,KAAKq6G,sBAAwBr6G,KAAKg6G,iBAE1D,GADA9O,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAK/D,eAAe0E,EAAM9jG,IAC3EqzG,GAAcz6G,KAAK6O,MAAM,MAAO,CAChC,IAAK,IAAItD,EAAI,EAAGA,EAAInE,EAAKhB,SAAUmF,EAC/BvL,KAAK45G,+BAA+BxyG,EAAKmE,IAE7C2/F,EAAO,CACHlkG,KAAM2sG,EACNh5F,OAAQvT,EACRzK,OAAO,EAEf,CACJ,MACK,GAAIqD,KAAK6O,MAAM,KAChB7O,KAAK28B,QAAQ63E,kBAAmB,EAChCx0G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAKu2G,OAAO,KACR9mF,EAAWzvB,KAAK+2G,oBAAoB/2G,KAAK25G,iBAC7C35G,KAAKu2G,OAAO,KACZrL,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAK0H,yBAAyB/G,EAAMz7E,QAExF,IAA4B,KAAxBzvB,KAAKg0G,UAAUhtG,OAA8BhH,KAAKg0G,UAAU7rF,KAKjE,MAJA,IAAIgrF,EAAQnzG,KAAK03G,uBACjBxM,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAKpB,yBAAyB+B,EAAMiI,GAI7F,CAGJ,OADAnzG,KAAK28B,QAAQw3E,QAAUqG,EAChBtP,CACX,EACA7G,EAAOrrF,UAAU0hG,WAAa,WAC1B,IAAI3+G,EAAOiE,KAAKm2G,aAKhB,OAJAn2G,KAAKy2G,cAAc,SACdz2G,KAAK6O,MAAM,MAAS7O,KAAK6O,MAAM,MAChC7O,KAAKiuG,qBAAqBjuG,KAAKg0G,WAE5Bh0G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKvB,MACxC,EACA3E,EAAOrrF,UAAUmhG,4BAA8B,WAC3C5G,EAASyB,OAAOh1G,KAAK28B,QAAQw3E,QAAS,qDAItC,IAHA,IAAIp4G,EAAOiE,KAAKo2G,UAAUp2G,KAAKg0G,WAC3B9I,EAAQlrG,KAAK22G,aAAa,UAAY32G,KAAK28B,QAAQ83E,eAAkBz0G,KAAK06G,aAC1E16G,KAAKo3G,oBAAoBp3G,KAAK22G,aAAa,OAAS32G,KAAKk6G,mBAAqBl6G,KAAKsrG,0BAEnF,GAAItrG,KAAK6O,MAAM,KAAM,CACjB7O,KAAK28B,QAAQ63E,kBAAmB,EAChCx0G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAKu2G,OAAO,KACZ,IAAI9mF,EAAWzvB,KAAK+2G,oBAAoB/2G,KAAK25G,iBAC7C35G,KAAKu2G,OAAO,KACZrL,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK0H,yBAAyB/G,EAAMz7E,GACvE,MACK,GAAIzvB,KAAK6O,MAAM,KAChB7O,KAAK28B,QAAQ63E,kBAAmB,EAChCx0G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAKu2G,OAAO,KACR9mF,EAAWzvB,KAAK83G,sBACpB5M,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKyI,uBAAuB9H,EAAMz7E,QAEhE,IAA4B,KAAxBzvB,KAAKg0G,UAAUhtG,OAA8BhH,KAAKg0G,UAAU7rF,KAKjE,MAJA,IAAIgrF,EAAQnzG,KAAK03G,uBACjBxM,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKpB,yBAAyB+B,EAAMiI,GAIvE,CAEJ,OAAOjI,CACX,EAEA7G,EAAOrrF,UAAU2hG,sBAAwB,WACrC,IAAIzP,EACA2O,EAAa75G,KAAKg0G,UACtB,GAAIh0G,KAAK6O,MAAM,OAAS7O,KAAK6O,MAAM,MAAO,CACtC,IAAI9S,EAAOiE,KAAKo2G,UAAUyD,GACtBx+F,EAAQrb,KAAK+rG,YACjBb,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAK46G,sBACjC56G,KAAK28B,QAAQsM,QAAUiiE,EAAKlkG,OAASg+F,EAASC,OAAO2C,YAAc5nG,KAAKyrG,QAAQoP,iBAAiB3P,EAAK7sG,OACtG2B,KAAK8uG,cAAc2E,EAAW0B,SAAS2F,iBAEtC96G,KAAK28B,QAAQ43E,oBACdv0G,KAAK8uG,cAAc2E,EAAW0B,SAAS4F,wBAE3C,IAAIl0G,GAAS,EACbqkG,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKb,iBAAiBruF,EAAMvgB,MAAOowG,EAAMrkG,IACxE7G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,CACpC,MAGI,GADAtJ,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAKs6G,uCAChCt6G,KAAKi0G,mBAA6C,IAAxBj0G,KAAKg0G,UAAUhtG,OACtChH,KAAK6O,MAAM,OAAS7O,KAAK6O,MAAM,OAAO,CAClC7O,KAAK28B,QAAQsM,QAAUiiE,EAAKlkG,OAASg+F,EAASC,OAAO2C,YAAc5nG,KAAKyrG,QAAQoP,iBAAiB3P,EAAK7sG,OACtG2B,KAAK8uG,cAAc2E,EAAW0B,SAAS6F,kBAEtCh7G,KAAK28B,QAAQ43E,oBACdv0G,KAAK8uG,cAAc2E,EAAW0B,SAAS4F,wBAE3C/6G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAChC,IAAIjD,EAAWvxG,KAAK+rG,YAAYjxG,MAC5B+L,GAAS,EACbqkG,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAKb,iBAAiB6H,EAAUrG,EAAMrkG,GAC/F,CAGR,OAAOqkG,CACX,EAEA7G,EAAOrrF,UAAUiiG,qBAAuB,WACpC,IAAIl/G,EAAOiE,KAAKm2G,aAChBn2G,KAAK+rG,YACL,IAAIuD,EAAWtvG,KAAK46G,uBACpB,OAAO56G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKlE,gBAAgBiJ,GACxD,EACAjL,EAAOrrF,UAAU4hG,qBAAuB,WACpC,IAAI1P,EACJ,GAAIlrG,KAAK6O,MAAM,MAAQ7O,KAAK6O,MAAM,MAAQ7O,KAAK6O,MAAM,MAAQ7O,KAAK6O,MAAM,MACpE7O,KAAK22G,aAAa,WAAa32G,KAAK22G,aAAa,SAAW32G,KAAK22G,aAAa,UAAW,CACzF,IAAI56G,EAAOiE,KAAKo2G,UAAUp2G,KAAKg0G,WAC3B34F,EAAQrb,KAAK+rG,YACjBb,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAK46G,sBACrC1P,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKd,gBAAgBpuF,EAAMvgB,MAAOowG,IAC7DlrG,KAAK28B,QAAQsM,QAA4B,WAAlBiiE,EAAKqG,UAAyBrG,EAAKoE,SAAStoG,OAASg+F,EAASC,OAAO2C,YAC5F5nG,KAAK8uG,cAAc2E,EAAW0B,SAAS+F,cAE3Cl7G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,CACpC,MAEItJ,EADKlrG,KAAK28B,QAAQu3E,OAASl0G,KAAK42G,uBAAuB,SAChD52G,KAAKi7G,uBAGLj7G,KAAK26G,wBAEhB,OAAOzP,CACX,EACA7G,EAAOrrF,UAAUmiG,8BAAgC,WAC7C,IAAItB,EAAa75G,KAAKg0G,UAClB9I,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAK46G,sBACzC,GAAI1P,EAAKlkG,OAASg+F,EAASC,OAAOwE,iBAAmBzpG,KAAK6O,MAAM,MAAO,CACnE7O,KAAK+rG,YACL/rG,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAChC,IAAIhD,EAAOtG,EACPuG,EAAQzxG,KAAK+2G,oBAAoB/2G,KAAKm7G,+BAC1CjQ,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAKjE,iBAAiB,KAAMkL,EAAMC,GAC3F,CACA,OAAOvG,CACX,EASA7G,EAAOrrF,UAAUoiG,iBAAmB,SAAU//F,GAC1C,IAAIy7F,EAAKz7F,EAAMvgB,MAWf,OATmB,IAAfugB,EAAMrU,KACOhH,KAAK+zG,mBAAmB+C,IAAO,EAExB,IAAfz7F,EAAMrU,OACU,eAAP8vG,GAAwB92G,KAAK28B,QAAQw3E,SAAkB,OAAP2C,GAAgB,EAGjE,CAGrB,EACAzS,EAAOrrF,UAAUqiG,sBAAwB,WACrC,IAAIxB,EAAa75G,KAAKg0G,UAClB9I,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAKm7G,+BACrC9/F,EAAQrb,KAAKg0G,UACbsH,EAAOt7G,KAAKo7G,iBAAiB//F,GACjC,GAAIigG,EAAO,EAAG,CACVt7G,KAAK+rG,YACL/rG,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAMhC,IALA,IAAI+G,EAAU,CAAC1B,EAAY75G,KAAKg0G,WAC5BxC,EAAOtG,EACPuG,EAAQzxG,KAAK+2G,oBAAoB/2G,KAAKm7G,+BACtCpvG,EAAQ,CAACylG,EAAMn2F,EAAMvgB,MAAO22G,GAC5B+J,EAAc,CAACF,MAEfA,EAAOt7G,KAAKo7G,iBAAiBp7G,KAAKg0G,aACtB,IAFH,CAMT,KAAQjoG,EAAM3F,OAAS,GAAOk1G,GAAQE,EAAYA,EAAYp1G,OAAS,IAAK,CACxEqrG,EAAQ1lG,EAAMd,MACd,IAAIsmG,EAAWxlG,EAAMd,MACrBuwG,EAAYvwG,MACZumG,EAAOzlG,EAAMd,MACbswG,EAAQtwG,MACR,IAAIlP,EAAOiE,KAAKo2G,UAAUmF,EAAQA,EAAQn1G,OAAS,IACnD2F,EAAMpK,KAAK3B,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKjE,iBAAiBiL,EAAUC,EAAMC,IAC7E,CAEA1lG,EAAMpK,KAAK3B,KAAK+rG,YAAYjxG,OAC5B0gH,EAAY75G,KAAK25G,GACjBC,EAAQ55G,KAAK3B,KAAKg0G,WAClBjoG,EAAMpK,KAAK3B,KAAK+2G,oBAAoB/2G,KAAKm7G,+BAC7C,CAEA,IAAI5vG,EAAIQ,EAAM3F,OAAS,EACvB8kG,EAAOn/F,EAAMR,GAEb,IADA,IAAIkiG,EAAa8N,EAAQtwG,MAClBM,EAAI,GAAG,CACV,IAAI+qG,EAASiF,EAAQtwG,MACjBorG,EAAgB5I,GAAcA,EAAW7B,UACzC7vG,EAAOiE,KAAKo2G,UAAUE,EAAQD,GAC9B9E,EAAWxlG,EAAMR,EAAI,GACzB2/F,EAAOlrG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKjE,iBAAiBiL,EAAUxlG,EAAMR,EAAI,GAAI2/F,IAC7E3/F,GAAK,EACLkiG,EAAa6I,CACjB,CACJ,CACA,OAAOpL,CACX,EAEA7G,EAAOrrF,UAAUyiG,2BAA6B,WAC1C,IAAI5B,EAAa75G,KAAKg0G,UAClB9I,EAAOlrG,KAAKo3G,oBAAoBp3G,KAAKq7G,uBACzC,GAAIr7G,KAAK6O,MAAM,KAAM,CACjB7O,KAAK+rG,YACL,IAAIyO,EAAkBx6G,KAAK28B,QAAQw3E,QACnCn0G,KAAK28B,QAAQw3E,SAAU,EACvB,IAAIhC,EAAanyG,KAAK+2G,oBAAoB/2G,KAAK+uG,2BAC/C/uG,KAAK28B,QAAQw3E,QAAUqG,EACvBx6G,KAAKu2G,OAAO,KACZ,IAAInE,EAAYpyG,KAAK+2G,oBAAoB/2G,KAAK+uG,2BAC9C7D,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAK1D,sBAAsBqE,EAAMiH,EAAYC,IAClGpyG,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,CACpC,CACA,OAAOtJ,CACX,EAEA7G,EAAOrrF,UAAU0iG,kBAAoB,SAAU/1G,EAASosG,GACpD,OAAQA,EAAM/qG,MACV,KAAKg+F,EAASC,OAAO2C,WACjB5nG,KAAK27G,cAAch2G,EAASosG,EAAOA,EAAM1zG,MACzC,MACJ,KAAK2mG,EAASC,OAAO2D,YACjB5oG,KAAK07G,kBAAkB/1G,EAASosG,EAAMzC,UACtC,MACJ,KAAKtK,EAASC,OAAOgB,kBACjBjmG,KAAK07G,kBAAkB/1G,EAASosG,EAAMP,MACtC,MACJ,KAAKxM,EAASC,OAAOkB,aACjB,IAAK,IAAI56F,EAAI,EAAGA,EAAIwmG,EAAMzzB,SAASl4E,OAAQmF,IACb,OAAtBwmG,EAAMzzB,SAAS/yE,IACfvL,KAAK07G,kBAAkB/1G,EAASosG,EAAMzzB,SAAS/yE,IAGvD,MACJ,KAAKy5F,EAASC,OAAOyD,cACjB,IAASn9F,EAAI,EAAGA,EAAIwmG,EAAMr/C,WAAWtsD,OAAQmF,IACzCvL,KAAK07G,kBAAkB/1G,EAASosG,EAAMr/C,WAAWnnD,GAAGzQ,OAMhE6K,EAAQyyG,OAASzyG,EAAQyyG,QAAWrG,aAAiBxH,EAAK3C,UAC9D,EACAvD,EAAOrrF,UAAU4iG,8BAAgC,SAAU1Q,GACvD,IACIvlG,EADAgV,EAAS,CAACuwF,GAEVuP,GAAa,EACjB,OAAQvP,EAAKlkG,MACT,KAAKg+F,EAASC,OAAO2C,WACjB,MACJ,KAAK+L,EACDh5F,EAASuwF,EAAKvwF,OACd8/F,EAAavP,EAAKvuG,MAClB,MACJ,QACI,OAAO,KAEfgJ,EAAU,CACNyyG,QAAQ,EACRyD,SAAU,CAAC,GAEf,IAAK,IAAItwG,EAAI,EAAGA,EAAIoP,EAAOvU,SAAUmF,GAC7BwmG,EAAQp3F,EAAOpP,IACTvE,OAASg+F,EAASC,OAAOgB,kBAC3B8L,EAAMN,MAAMzqG,OAASg+F,EAASC,OAAO8E,kBACjCgI,EAAMN,MAAMnC,UACZtvG,KAAKiuG,qBAAqBjuG,KAAKg0G,WAEnCjC,EAAMN,MAAMzqG,KAAOg+F,EAASC,OAAO2C,WACnCmK,EAAMN,MAAMpzG,KAAO,eACZ0zG,EAAMN,MAAMnC,gBACZyC,EAAMN,MAAMlO,UAGlBkX,GAAc1I,EAAM/qG,OAASg+F,EAASC,OAAO2C,YAA6B,UAAfmK,EAAM1zG,MACtE2B,KAAKiuG,qBAAqBjuG,KAAKg0G,WAEnCh0G,KAAK07G,kBAAkB/1G,EAASosG,GAChCp3F,EAAOpP,GAAKwmG,EAEhB,GAAI/xG,KAAK28B,QAAQsM,SAAWjpC,KAAK28B,QAAQ03E,WACrC,IAAS9oG,EAAI,EAAGA,EAAIoP,EAAOvU,SAAUmF,EAAG,CACpC,IAAIwmG,KAAQp3F,EAAOpP,IACTvE,OAASg+F,EAASC,OAAO8E,iBAC/B/pG,KAAKiuG,qBAAqBjuG,KAAKg0G,UAEvC,CAEJ,GAAIruG,EAAQuL,UAAYuiG,EAAW0B,SAAS2G,gBAAiB,CACzD,IAAIzgG,EAAQrb,KAAK28B,QAAQsM,OAAStjC,EAAQ4yG,SAAW5yG,EAAQ2yG,gBAC7Dt4G,KAAKiuG,qBAAqB5yF,EAAO1V,EAAQuL,QAC7C,CACA,MAAO,CACHknG,OAAQzyG,EAAQyyG,OAChBz9F,OAAQA,EACR49F,SAAU5yG,EAAQ4yG,SAClBD,gBAAiB3yG,EAAQ2yG,gBACzBpnG,QAASvL,EAAQuL,QAEzB,EACAmzF,EAAOrrF,UAAU+1F,0BAA4B,WACzC,IAAI7D,EACJ,IAAKlrG,KAAK28B,QAAQ03E,YAAcr0G,KAAK22G,aAAa,SAC9CzL,EAAOlrG,KAAK+7G,2BAEX,CACD,IAAIlC,EAAa75G,KAAKg0G,UAClB34F,EAAQw+F,EAEZ,GADA3O,EAAOlrG,KAAKy7G,6BACO,IAAfpgG,EAAMrU,MAAgCqU,EAAMswF,aAAe3rG,KAAKg0G,UAAUrI,YAA+B,UAAhBtwF,EAAMvgB,QACnE,IAAxBkF,KAAKg0G,UAAUhtG,MAA+BhH,KAAK22G,aAAa,UAAU,CAC1E,IAAI14E,EAAMj+B,KAAKsrG,yBACftrG,KAAK45G,+BAA+B37E,GACpCitE,EAAO,CACHlkG,KAAM2sG,EACNh5F,OAAQ,CAACsjB,GACTthC,OAAO,EAEf,CAEJ,GAAIuuG,EAAKlkG,OAAS2sG,GAA6B3zG,KAAK6O,MAAM,MAAO,CAE7D7O,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EAChC,IAAIyE,EAAU/N,EAAKvuG,MACfka,EAAO7W,KAAK47G,8BAA8B1Q,GAC9C,GAAIr0F,EAAM,CACF7W,KAAKi0G,mBACLj0G,KAAK+1G,wBAAwB/1G,KAAKg0G,WAEtCh0G,KAAK28B,QAAQ23E,+BAAiC,KAC9C,IAAI4D,EAAiBl4G,KAAK28B,QAAQsM,OAC9BkvE,EAA+Bn4G,KAAK28B,QAAQy3E,qBAChDp0G,KAAK28B,QAAQy3E,qBAAuBv9F,EAAKuhG,OACzC,IAAIK,EAAqBz4G,KAAK28B,QAAQ03E,WAClCuE,EAAgB54G,KAAK28B,QAAQu3E,MACjCl0G,KAAK28B,QAAQ03E,YAAa,EAC1Br0G,KAAK28B,QAAQu3E,MAAQ+E,EACrB,IAAIl9G,EAAOiE,KAAKo2G,UAAUyD,GAC1B75G,KAAKu2G,OAAO,MACZ,IAAI5uF,OAAO,EACX,GAAI3nB,KAAK6O,MAAM,KAAM,CACjB,IAAI2rG,EAAkBx6G,KAAK28B,QAAQw3E,QACnCn0G,KAAK28B,QAAQw3E,SAAU,EACvBxsF,EAAO3nB,KAAKq4G,8BACZr4G,KAAK28B,QAAQw3E,QAAUqG,CAC3B,MAEI7yF,EAAO3nB,KAAK+2G,oBAAoB/2G,KAAK+uG,2BAEzC,IAAIl6D,EAAaltB,EAAK3gB,OAASg+F,EAASC,OAAOI,eAC3CrlG,KAAK28B,QAAQsM,QAAUpyB,EAAKyhG,iBAC5Bt4G,KAAKiuG,qBAAqBp3F,EAAKyhG,gBAAiBzhG,EAAK3F,SAErDlR,KAAK28B,QAAQsM,QAAUpyB,EAAK0hG,UAC5Bv4G,KAAK+1G,wBAAwBl/F,EAAK0hG,SAAU1hG,EAAK3F,SAErDg6F,EAAO+N,EAAUj5G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKmH,6BAA6B76F,EAAK8D,OAAQgN,EAAMktB,IAC1F70C,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKnE,wBAAwBvvF,EAAK8D,OAAQgN,EAAMktB,IAC5E70C,KAAK28B,QAAQsM,OAASivE,EACtBl4G,KAAK28B,QAAQy3E,qBAAuB+D,EACpCn4G,KAAK28B,QAAQ03E,WAAaoE,EAC1Bz4G,KAAK28B,QAAQu3E,MAAQ0E,CACzB,CACJ,MAEI,GAAI54G,KAAK62G,cAAe,CAIpB,GAHK72G,KAAK28B,QAAQ43E,oBACdv0G,KAAK8uG,cAAc2E,EAAW0B,SAAS4F,wBAEvC/6G,KAAK28B,QAAQsM,QAAUiiE,EAAKlkG,OAASg+F,EAASC,OAAO2C,WAAY,CACjE,IAAI7wC,EAAKm0C,EACLlrG,KAAKyrG,QAAQoP,iBAAiB9jD,EAAG14D,OACjC2B,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAAS6G,qBAExDh8G,KAAKyrG,QAAQmK,yBAAyB7+C,EAAG14D,OACzC2B,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAASU,mBAEhE,CACK71G,KAAK6O,MAAM,KAKZ7O,KAAK45G,+BAA+B1O,IAJpClrG,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,GAMpC,IAAIjD,GADJl2F,EAAQrb,KAAK+rG,aACQjxG,MACjB22G,EAAQzxG,KAAK+2G,oBAAoB/2G,KAAK+uG,2BAC1C7D,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAKvE,qBAAqBuL,EAAUrG,EAAMuG,IAC/FzxG,KAAK28B,QAAQ23E,+BAAiC,IAClD,CAER,CACA,OAAOpJ,CACX,EAEA7G,EAAOrrF,UAAU2gG,gBAAkB,WAC/B,IAAIE,EAAa75G,KAAKg0G,UAClB9I,EAAOlrG,KAAK+2G,oBAAoB/2G,KAAK+uG,2BACzC,GAAI/uG,KAAK6O,MAAM,KAAM,CACjB,IAAIkkG,EAAc,GAElB,IADAA,EAAYpxG,KAAKupG,GACc,IAAxBlrG,KAAKg0G,UAAUhtG,MACbhH,KAAK6O,MAAM,MAGhB7O,KAAK+rG,YACLgH,EAAYpxG,KAAK3B,KAAK+2G,oBAAoB/2G,KAAK+uG,4BAEnD7D,EAAOlrG,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAKzB,mBAAmBiK,GACjF,CACA,OAAO7H,CACX,EAEA7G,EAAOrrF,UAAUijG,uBAAyB,WACtC,IAAIC,EAGJ,GAFAl8G,KAAK28B,QAAQ43E,oBAAqB,EAClCv0G,KAAK28B,QAAQ63E,kBAAmB,EACJ,IAAxBx0G,KAAKg0G,UAAUhtG,KACf,OAAQhH,KAAKg0G,UAAUl5G,OACnB,IAAK,SACIkF,KAAK28B,QAAQsnE,UACdjkG,KAAK+1G,wBAAwB/1G,KAAKg0G,UAAWP,EAAW0B,SAASgH,0BAErED,EAAYl8G,KAAKo8G,yBACjB,MACJ,IAAK,SACIp8G,KAAK28B,QAAQsnE,UACdjkG,KAAK+1G,wBAAwB/1G,KAAKg0G,UAAWP,EAAW0B,SAASkH,0BAErEH,EAAYl8G,KAAKs8G,yBACjB,MACJ,IAAK,QACDJ,EAAYl8G,KAAKu8G,wBAAwB,CAAEC,OAAO,IAClD,MACJ,IAAK,WACDN,EAAYl8G,KAAKy8G,2BACjB,MACJ,IAAK,QACDP,EAAYl8G,KAAK08G,wBACjB,MACJ,IAAK,MACDR,EAAYl8G,KAAK28G,uBAAyB38G,KAAKu8G,wBAAwB,CAAEC,OAAO,IAAWx8G,KAAK48G,iBAChG,MACJ,QACIV,EAAYl8G,KAAK48G,sBAKzBV,EAAYl8G,KAAK48G,iBAErB,OAAOV,CACX,EACA7X,EAAOrrF,UAAU6jG,WAAa,WAC1B,IAAI9gH,EAAOiE,KAAKm2G,aAChBn2G,KAAKu2G,OAAO,KAEZ,IADA,IAAIjrG,EAAQ,IAEJtL,KAAK6O,MAAM,MAGfvD,EAAM3J,KAAK3B,KAAKi8G,0BAGpB,OADAj8G,KAAKu2G,OAAO,KACLv2G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKlF,eAAe/5F,GACvD,EAEA+4F,EAAOrrF,UAAU8jG,oBAAsB,SAAU58C,EAAMv6D,GACnD,IAAI5J,EAAOiE,KAAKm2G,aAEZp/C,EAAK/2D,KAAK+8G,aADD,GACsB78C,GAC/BlgE,KAAK28B,QAAQsM,QAAU8tB,EAAG/vD,OAASg+F,EAASC,OAAO2C,YAC/C5nG,KAAKyrG,QAAQoP,iBAAiB9jD,EAAG14D,OACjC2B,KAAK8uG,cAAc2E,EAAW0B,SAAS6H,eAG/C,IAAItqG,EAAO,KAgBX,MAfa,UAATwtD,EACKlgE,KAAK22G,aAAa,OAAU32G,KAAK42G,uBAAuB,QACrD52G,KAAK6O,MAAM,MACX7O,KAAK+rG,YACLr5F,EAAO1S,KAAK+2G,oBAAoB/2G,KAAK+uG,4BAGrC/uG,KAAK8lC,WAAW2tE,EAAW0B,SAAS8H,8BAA+B,YAIpEt3G,EAAQ62G,OAASzlD,EAAG/vD,OAASg+F,EAASC,OAAO2C,YAAe5nG,KAAK6O,MAAM,QAC9E7O,KAAKu2G,OAAO,KACZ7jG,EAAO1S,KAAK+2G,oBAAoB/2G,KAAK+uG,4BAElC/uG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKX,mBAAmB7yC,EAAIrkD,GAC/D,EACA2xF,EAAOrrF,UAAUkkG,iBAAmB,SAAUh9C,EAAMv6D,GAEhD,IADA,IAAIkR,EAAO,CAAC7W,KAAK88G,oBAAoB58C,EAAMv6D,IACpC3F,KAAK6O,MAAM,MACd7O,KAAK+rG,YACLl1F,EAAKlV,KAAK3B,KAAK88G,oBAAoB58C,EAAMv6D,IAE7C,OAAOkR,CACX,EACAwtF,EAAOrrF,UAAU2jG,qBAAuB,WACpC,IAAItyE,EAAQrqC,KAAKyrG,QAAQqC,YACzB9tG,KAAKyrG,QAAQsC,eACb,IAAIphG,EAAO3M,KAAKyrG,QAAQ8B,MAExB,OADAvtG,KAAKyrG,QAAQuC,aAAa3jE,GACJ,IAAd19B,EAAK3F,MACM,IAAd2F,EAAK3F,MAA8C,MAAf2F,EAAK7R,OAC3B,IAAd6R,EAAK3F,MAA8C,MAAf2F,EAAK7R,OAC3B,IAAd6R,EAAK3F,MAA2C,QAAf2F,EAAK7R,OACxB,IAAd6R,EAAK3F,MAA2C,UAAf2F,EAAK7R,KAC/C,EACAupG,EAAOrrF,UAAUujG,wBAA0B,SAAU52G,GACjD,IAAI5J,EAAOiE,KAAKm2G,aACZj2C,EAAOlgE,KAAK+rG,YAAYjxG,MAC5By4G,EAASyB,OAAgB,QAAT90C,GAA2B,UAATA,EAAkB,mDACpD,IAAIozC,EAAetzG,KAAKk9G,iBAAiBh9C,EAAMv6D,GAE/C,OADA3F,KAAKq3G,mBACEr3G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKZ,oBAAoB2J,EAAcpzC,GAC1E,EAEAmkC,EAAOrrF,UAAUmkG,wBAA0B,SAAUxiG,EAAQulD,GACzD,IAAInkE,EAAOiE,KAAKm2G,aAChBn2G,KAAKu2G,OAAO,OACZ,IAAIt4E,EAAMj+B,KAAK+8G,aAAapiG,EAAQulD,GACpC,OAAOlgE,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3B,YAAY3qE,GACpD,EACAomE,EAAOrrF,UAAUokG,kBAAoB,SAAUziG,EAAQulD,GACnD,IAAInkE,EAAOiE,KAAKm2G,aAChBn2G,KAAKu2G,OAAO,KAEZ,IADA,IAAIj4B,EAAW,IACPt+E,KAAK6O,MAAM,MACf,GAAI7O,KAAK6O,MAAM,KACX7O,KAAK+rG,YACLztB,EAAS38E,KAAK,UAEb,CACD,GAAI3B,KAAK6O,MAAM,OAAQ,CACnByvE,EAAS38E,KAAK3B,KAAKm9G,wBAAwBxiG,EAAQulD,IACnD,KACJ,CAEIoe,EAAS38E,KAAK3B,KAAKq9G,wBAAwB1iG,EAAQulD,IAElDlgE,KAAK6O,MAAM,MACZ7O,KAAKu2G,OAAO,IAEpB,CAGJ,OADAv2G,KAAKu2G,OAAO,KACLv2G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKpE,aAAa7nB,GACrD,EACA+lB,EAAOrrF,UAAUskG,qBAAuB,SAAU3iG,EAAQulD,GACtD,IAII3sD,EACAzY,EALAiB,EAAOiE,KAAKm2G,aACZjE,GAAW,EACX33D,GAAY,EAIhB,GAA4B,IAAxBv6C,KAAKg0G,UAAUhtG,KAA6B,CAC5C,IAAIu2G,EAAWv9G,KAAKg0G,UACpBzgG,EAAMvT,KAAKw9G,0BACX,IAAI9qG,EAAO1S,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3C,WAAW2V,EAASziH,QAC5D,GAAIkF,KAAK6O,MAAM,KAAM,CACjB8L,EAAOhZ,KAAK47G,GACZhjE,GAAY,EACZv6C,KAAK+rG,YACL,IAAIb,EAAOlrG,KAAK+uG,4BAChBj0G,EAAQkF,KAAKw1F,SAASx1F,KAAKo2G,UAAUmH,GAAW,IAAIhT,EAAKtE,kBAAkBvzF,EAAMw4F,GACrF,MACUlrG,KAAK6O,MAAM,MAMjB7O,KAAKu2G,OAAO,KACZz7G,EAAQkF,KAAKq9G,wBAAwB1iG,EAAQulD,KAN7CvlD,EAAOhZ,KAAK47G,GACZhjE,GAAY,EACZz/C,EAAQ4X,EAMhB,MAEIw/F,EAAWlyG,KAAK6O,MAAM,KACtB0E,EAAMvT,KAAK64G,yBACX74G,KAAKu2G,OAAO,KACZz7G,EAAQkF,KAAKq9G,wBAAwB1iG,EAAQulD,GAEjD,OAAOlgE,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK5B,SAAS,OAAQp1F,EAAK2+F,EAAUp3G,GA9BvD,EA8BsEy/C,GACvF,EACA8pD,EAAOrrF,UAAUykG,mBAAqB,SAAU9iG,EAAQulD,GACpD,IAAInkE,EAAOiE,KAAKm2G,aACZzjD,EAAa,GAEjB,IADA1yD,KAAKu2G,OAAO,MACJv2G,KAAK6O,MAAM,MACf6jD,EAAW/wD,KAAK3B,KAAKs9G,qBAAqB3iG,EAAQulD,IAC7ClgE,KAAK6O,MAAM,MACZ7O,KAAKu2G,OAAO,KAIpB,OADAv2G,KAAKu2G,OAAO,KACLv2G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK7B,cAAch2C,GACtD,EACA2xC,EAAOrrF,UAAU+jG,aAAe,SAAUpiG,EAAQulD,GAC9C,IAAIn6D,EAcJ,OAbI/F,KAAK6O,MAAM,KACX9I,EAAU/F,KAAKo9G,kBAAkBziG,EAAQulD,GAEpClgE,KAAK6O,MAAM,KAChB9I,EAAU/F,KAAKy9G,mBAAmB9iG,EAAQulD,KAGtClgE,KAAK22G,aAAa,QAAoB,UAATz2C,GAA6B,QAATA,GACjDlgE,KAAK+1G,wBAAwB/1G,KAAKg0G,UAAWP,EAAW0B,SAASuI,qBAErE/iG,EAAOhZ,KAAK3B,KAAKg0G,WACjBjuG,EAAU/F,KAAKw9G,wBAAwBt9C,IAEpCn6D,CACX,EACAs+F,EAAOrrF,UAAUqkG,wBAA0B,SAAU1iG,EAAQulD,GACzD,IAAI25C,EAAa75G,KAAKg0G,UAClBjuG,EAAU/F,KAAK+8G,aAAapiG,EAAQulD,GACxC,GAAIlgE,KAAK6O,MAAM,KAAM,CACjB7O,KAAK+rG,YACL,IAAI0M,EAAqBz4G,KAAK28B,QAAQ03E,WACtCr0G,KAAK28B,QAAQ03E,YAAa,EAC1B,IAAI5C,EAAQzxG,KAAK+2G,oBAAoB/2G,KAAK+uG,2BAC1C/uG,KAAK28B,QAAQ03E,WAAaoE,EAC1B1yG,EAAU/F,KAAKw1F,SAASx1F,KAAKo2G,UAAUyD,GAAa,IAAItP,EAAKtE,kBAAkBlgG,EAAS0rG,GAC5F,CACA,OAAO1rG,CACX,EAEAs+F,EAAOrrF,UAAUwkG,wBAA0B,SAAUt9C,GACjD,IAAInkE,EAAOiE,KAAKm2G,aACZ96F,EAAQrb,KAAK+rG,YAsBjB,OArBmB,IAAf1wF,EAAMrU,MAA4C,UAAhBqU,EAAMvgB,MACpCkF,KAAK28B,QAAQsM,OACbjpC,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAASU,oBAElD71G,KAAK28B,QAAQ03E,YACnBr0G,KAAKiuG,qBAAqB5yF,GAGV,IAAfA,EAAMrU,KACPhH,KAAK28B,QAAQsM,QAAyB,IAAf5tB,EAAMrU,MAA4BhH,KAAKyrG,QAAQmK,yBAAyBv6F,EAAMvgB,OACrGkF,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAASU,qBAGpD71G,KAAK28B,QAAQsM,QAA0B,QAAhB5tB,EAAMvgB,OAA4B,QAATolE,IAChDlgE,KAAKiuG,qBAAqB5yF,IAI5Brb,KAAK28B,QAAQsnE,UAAYjkG,KAAK28B,QAAQu3E,QAAyB,IAAf74F,EAAMrU,MAA+C,UAAhBqU,EAAMvgB,OACjGkF,KAAK+1G,wBAAwB16F,GAE1Brb,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3C,WAAWvsF,EAAMvgB,OACzD,EACAupG,EAAOrrF,UAAU2kG,yBAA2B,SAAUh4G,GAClD,IAAI5J,EAAOiE,KAAKm2G,aAEZp/C,EAAK/2D,KAAK+8G,aADD,GACsB,OAC/B/8G,KAAK28B,QAAQsM,QAAU8tB,EAAG/vD,OAASg+F,EAASC,OAAO2C,YAC/C5nG,KAAKyrG,QAAQoP,iBAAiB9jD,EAAG14D,OACjC2B,KAAK8uG,cAAc2E,EAAW0B,SAAS6H,eAG/C,IAAItqG,EAAO,KAQX,OAPI1S,KAAK6O,MAAM,MACX7O,KAAK+rG,YACLr5F,EAAO1S,KAAK+2G,oBAAoB/2G,KAAK+uG,4BAEhCh4C,EAAG/vD,OAASg+F,EAASC,OAAO2C,YAAejiG,EAAQ62G,OACxDx8G,KAAKu2G,OAAO,KAETv2G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKX,mBAAmB7yC,EAAIrkD,GAC/D,EACA2xF,EAAOrrF,UAAU4kG,6BAA+B,SAAUj4G,GACtD,IAAIk4G,EAAM,CAAErB,MAAO72G,EAAQ62G,OACvB3lG,EAAO,GAEX,IADAA,EAAKlV,KAAK3B,KAAK29G,yBAAyBE,IACjC79G,KAAK6O,MAAM,MACd7O,KAAK+rG,YACLl1F,EAAKlV,KAAK3B,KAAK29G,yBAAyBE,IAE5C,OAAOhnG,CACX,EACAwtF,EAAOrrF,UAAU8kG,uBAAyB,WACtC,IAAI/hH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,OACnB,IAAInD,EAAetzG,KAAK49G,6BAA6B,CAAEpB,OAAO,IAE9D,OADAx8G,KAAKq3G,mBACEr3G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKZ,oBAAoB2J,EAAc,OAC1E,EAEAjP,EAAOrrF,UAAU+kG,oBAAsB,WACnC,IAAIhiH,EAAOiE,KAAKm2G,aAEhB,OADAn2G,KAAKu2G,OAAO,KACLv2G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKtD,eACxC,EAEA5C,EAAOrrF,UAAUglG,yBAA2B,WACxC,IAAIjiH,EAAOiE,KAAKm2G,aACZjL,EAAOlrG,KAAK25G,kBAEhB,OADA35G,KAAKq3G,mBACEr3G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKjD,oBAAoB4D,GAC5D,EAEA7G,EAAOrrF,UAAUilG,cAAgB,WAI7B,OAHIj+G,KAAK28B,QAAQsM,QAAUjpC,KAAK22G,aAAa,aACzC32G,KAAK8uG,cAAc2E,EAAW0B,SAAS+I,gBAEpCl+G,KAAK48G,gBAChB,EACAvY,EAAOrrF,UAAUmlG,iBAAmB,WAChC,IACIhM,EADAp2G,EAAOiE,KAAKm2G,aAEZ/D,EAAY,KAChBpyG,KAAKy2G,cAAc,MACnBz2G,KAAKu2G,OAAO,KACZ,IAAIljG,EAAOrT,KAAK25G,kBAahB,OAZK35G,KAAK6O,MAAM,MAAQ7O,KAAKwsC,OAAOi4D,UAChCzkG,KAAK+1G,wBAAwB/1G,KAAK+rG,aAClCoG,EAAanyG,KAAKw1F,SAASx1F,KAAKm2G,aAAc,IAAI5L,EAAKtD,kBAGvDjnG,KAAKu2G,OAAO,KACZpE,EAAanyG,KAAKi+G,gBACdj+G,KAAK22G,aAAa,UAClB32G,KAAK+rG,YACLqG,EAAYpyG,KAAKi+G,kBAGlBj+G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK1C,YAAYx0F,EAAM8+F,EAAYC,GACtE,EAEA/N,EAAOrrF,UAAUolG,sBAAwB,WACrC,IAAIriH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,MACnB,IAAI4H,EAAsBr+G,KAAK28B,QAAQ+3E,YACvC10G,KAAK28B,QAAQ+3E,aAAc,EAC3B,IAAI/sF,EAAO3nB,KAAK48G,iBAChB58G,KAAK28B,QAAQ+3E,YAAc2J,EAC3Br+G,KAAKy2G,cAAc,SACnBz2G,KAAKu2G,OAAO,KACZ,IAAIljG,EAAOrT,KAAK25G,kBAUhB,OATK35G,KAAK6O,MAAM,MAAQ7O,KAAKwsC,OAAOi4D,SAChCzkG,KAAK+1G,wBAAwB/1G,KAAK+rG,cAGlC/rG,KAAKu2G,OAAO,KACRv2G,KAAK6O,MAAM,MACX7O,KAAK+rG,aAGN/rG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKxD,iBAAiBp/E,EAAMtU,GAC/D,EAEAgxF,EAAOrrF,UAAUslG,oBAAsB,WACnC,IACI32F,EADA5rB,EAAOiE,KAAKm2G,aAEhBn2G,KAAKy2G,cAAc,SACnBz2G,KAAKu2G,OAAO,KACZ,IAAIljG,EAAOrT,KAAK25G,kBAChB,IAAK35G,KAAK6O,MAAM,MAAQ7O,KAAKwsC,OAAOi4D,SAChCzkG,KAAK+1G,wBAAwB/1G,KAAK+rG,aAClCpkF,EAAO3nB,KAAKw1F,SAASx1F,KAAKm2G,aAAc,IAAI5L,EAAKtD,oBAEhD,CACDjnG,KAAKu2G,OAAO,KACZ,IAAI8H,EAAsBr+G,KAAK28B,QAAQ+3E,YACvC10G,KAAK28B,QAAQ+3E,aAAc,EAC3B/sF,EAAO3nB,KAAK48G,iBACZ58G,KAAK28B,QAAQ+3E,YAAc2J,CAC/B,CACA,OAAOr+G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKV,eAAex2F,EAAMsU,GAC7D,EAGA08E,EAAOrrF,UAAUulG,kBAAoB,WACjC,IAII/M,EAAMC,EA4HN9pF,EAhIAjV,EAAO,KACPW,EAAO,KACPmW,EAAS,KACTg1F,GAAQ,EAERziH,EAAOiE,KAAKm2G,aAGhB,GAFAn2G,KAAKy2G,cAAc,OACnBz2G,KAAKu2G,OAAO,KACRv2G,KAAK6O,MAAM,KACX7O,KAAK+rG,iBAGL,GAAI/rG,KAAK22G,aAAa,OAAQ,CAC1BjkG,EAAO1S,KAAKm2G,aACZn2G,KAAK+rG,YACL,IAAIyO,EAAkBx6G,KAAK28B,QAAQw3E,QACnCn0G,KAAK28B,QAAQw3E,SAAU,EACvB,IAAIb,EAAetzG,KAAK49G,6BAA6B,CAAEpB,OAAO,IAE9D,GADAx8G,KAAK28B,QAAQw3E,QAAUqG,EACK,IAAxBlH,EAAaltG,QAAgBpG,KAAK22G,aAAa,MAAO,CACtD,IAAI8H,EAAOnL,EAAa,GACpBmL,EAAK/rG,OAAS+rG,EAAK1nD,GAAG/vD,OAASg+F,EAASC,OAAOkB,cAAgBsY,EAAK1nD,GAAG/vD,OAASg+F,EAASC,OAAOyD,eAAiB1oG,KAAK28B,QAAQsM,SAC9HjpC,KAAK8uG,cAAc2E,EAAW0B,SAASuJ,uBAAwB,UAEnEhsG,EAAO1S,KAAKw1F,SAAS9iF,EAAM,IAAI63F,EAAKZ,oBAAoB2J,EAAc,QACtEtzG,KAAK+rG,YACLyF,EAAO9+F,EACP++F,EAAQzxG,KAAK25G,kBACbjnG,EAAO,IACX,MACiC,IAAxB4gG,EAAaltG,QAAyC,OAAzBktG,EAAa,GAAG5gG,MAAiB1S,KAAK42G,uBAAuB,OAC/FlkG,EAAO1S,KAAKw1F,SAAS9iF,EAAM,IAAI63F,EAAKZ,oBAAoB2J,EAAc,QACtEtzG,KAAK+rG,YACLyF,EAAO9+F,EACP++F,EAAQzxG,KAAK+uG,4BACbr8F,EAAO,KACP8rG,GAAQ,IAGR9rG,EAAO1S,KAAKw1F,SAAS9iF,EAAM,IAAI63F,EAAKZ,oBAAoB2J,EAAc,QACtEtzG,KAAKu2G,OAAO,KAEpB,MACK,GAAIv2G,KAAK22G,aAAa,UAAY32G,KAAK22G,aAAa,OAAQ,CAC7DjkG,EAAO1S,KAAKm2G,aACZ,IAAIj2C,EAAOlgE,KAAK+rG,YAAYjxG,MACvBkF,KAAK28B,QAAQsM,QAAmC,OAAzBjpC,KAAKg0G,UAAUl5G,OAQnC0/G,EAAkBx6G,KAAK28B,QAAQw3E,QACnCn0G,KAAK28B,QAAQw3E,SAAU,EACnBb,EAAetzG,KAAKk9G,iBAAiBh9C,EAAM,CAAEs8C,OAAO,IACxDx8G,KAAK28B,QAAQw3E,QAAUqG,EACK,IAAxBlH,EAAaltG,QAAyC,OAAzBktG,EAAa,GAAG5gG,MAAiB1S,KAAK22G,aAAa,OAChFjkG,EAAO1S,KAAKw1F,SAAS9iF,EAAM,IAAI63F,EAAKZ,oBAAoB2J,EAAcpzC,IACtElgE,KAAK+rG,YACLyF,EAAO9+F,EACP++F,EAAQzxG,KAAK25G,kBACbjnG,EAAO,MAEsB,IAAxB4gG,EAAaltG,QAAyC,OAAzBktG,EAAa,GAAG5gG,MAAiB1S,KAAK42G,uBAAuB,OAC/FlkG,EAAO1S,KAAKw1F,SAAS9iF,EAAM,IAAI63F,EAAKZ,oBAAoB2J,EAAcpzC,IACtElgE,KAAK+rG,YACLyF,EAAO9+F,EACP++F,EAAQzxG,KAAK+uG,4BACbr8F,EAAO,KACP8rG,GAAQ,IAGRx+G,KAAKq3G,mBACL3kG,EAAO1S,KAAKw1F,SAAS9iF,EAAM,IAAI63F,EAAKZ,oBAAoB2J,EAAcpzC,OA5B1ExtD,EAAO1S,KAAKw1F,SAAS9iF,EAAM,IAAI63F,EAAK3C,WAAW1nC,IAC/ClgE,KAAK+rG,YACLyF,EAAO9+F,EACP++F,EAAQzxG,KAAK25G,kBACbjnG,EAAO,KA2Bf,KACK,CACD,IAAIisG,EAAiB3+G,KAAKg0G,UAK1B,GAJIwG,EAAkBx6G,KAAK28B,QAAQw3E,QACnCn0G,KAAK28B,QAAQw3E,SAAU,EACvBzhG,EAAO1S,KAAKo3G,oBAAoBp3G,KAAK+uG,2BACrC/uG,KAAK28B,QAAQw3E,QAAUqG,EACnBx6G,KAAK22G,aAAa,MACb32G,KAAK28B,QAAQ43E,oBAAsB7hG,EAAK1L,OAASg+F,EAASC,OAAOe,sBAClEhmG,KAAK8uG,cAAc2E,EAAW0B,SAASyJ,mBAE3C5+G,KAAK+rG,YACL/rG,KAAK45G,+BAA+BlnG,GACpC8+F,EAAO9+F,EACP++F,EAAQzxG,KAAK25G,kBACbjnG,EAAO,UAEN,GAAI1S,KAAK42G,uBAAuB,MAC5B52G,KAAK28B,QAAQ43E,oBAAsB7hG,EAAK1L,OAASg+F,EAASC,OAAOe,sBAClEhmG,KAAK8uG,cAAc2E,EAAW0B,SAAS0J,qBAE3C7+G,KAAK+rG,YACL/rG,KAAK45G,+BAA+BlnG,GACpC8+F,EAAO9+F,EACP++F,EAAQzxG,KAAK+uG,4BACbr8F,EAAO,KACP8rG,GAAQ,MAEP,CACD,GAAIx+G,KAAK6O,MAAM,KAAM,CAEjB,IADA,IAAIiwG,EAAU,CAACpsG,GACR1S,KAAK6O,MAAM,MACd7O,KAAK+rG,YACL+S,EAAQn9G,KAAK3B,KAAK+2G,oBAAoB/2G,KAAK+uG,4BAE/Cr8F,EAAO1S,KAAKw1F,SAASx1F,KAAKo2G,UAAUuI,GAAiB,IAAIpU,EAAKzB,mBAAmBgW,GACrF,CACA9+G,KAAKu2G,OAAO,IAChB,CACJ,CAYJ,QAVoB,IAAT/E,IACFxxG,KAAK6O,MAAM,OACZwE,EAAOrT,KAAK25G,mBAEhB35G,KAAKu2G,OAAO,KACPv2G,KAAK6O,MAAM,OACZ2a,EAASxpB,KAAK25G,qBAIjB35G,KAAK6O,MAAM,MAAQ7O,KAAKwsC,OAAOi4D,SAChCzkG,KAAK+1G,wBAAwB/1G,KAAK+rG,aAClCpkF,EAAO3nB,KAAKw1F,SAASx1F,KAAKm2G,aAAc,IAAI5L,EAAKtD,oBAEhD,CACDjnG,KAAKu2G,OAAO,KACZ,IAAI8H,EAAsBr+G,KAAK28B,QAAQ+3E,YACvC10G,KAAK28B,QAAQ+3E,aAAc,EAC3B/sF,EAAO3nB,KAAK+2G,oBAAoB/2G,KAAK48G,gBACrC58G,KAAK28B,QAAQ+3E,YAAc2J,CAC/B,CACA,YAAwB,IAAT7M,EACXxxG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKhD,aAAa70F,EAAMW,EAAMmW,EAAQ7B,IAC9D62F,EAAQx+G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK9C,eAAe+J,EAAMC,EAAO9pF,IAC7D3nB,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK/C,eAAegK,EAAMC,EAAO9pF,GACrE,EAEA08E,EAAOrrF,UAAU+lG,uBAAyB,WACtC,IAAIhjH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,YACnB,IAAIx2C,EAAQ,KACZ,GAA4B,IAAxBjgE,KAAKg0G,UAAUhtG,OAAgChH,KAAKi0G,kBAAmB,CACvE,IAAIl9C,EAAK/2D,KAAKw9G,0BACdv9C,EAAQlJ,EACR,IAAIxjD,EAAM,IAAMwjD,EAAG14D,KACd1D,OAAOqe,UAAUwhC,eAAetoC,KAAKlS,KAAK28B,QAAQi4E,SAAUrhG,IAC7DvT,KAAK8lC,WAAW2tE,EAAW0B,SAAS6J,aAAcjoD,EAAG14D,KAE7D,CAKA,OAJA2B,KAAKq3G,mBACS,OAAVp3C,GAAmBjgE,KAAK28B,QAAQ+3E,aAChC10G,KAAK8lC,WAAW2tE,EAAW0B,SAAS8J,iBAEjCj/G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKzD,kBAAkB7mC,GAC1D,EAEAokC,EAAOrrF,UAAUkmG,oBAAsB,WACnC,IAAInjH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,SACnB,IAAIx2C,EAAQ,KACZ,GAA4B,IAAxBjgE,KAAKg0G,UAAUhtG,OAAgChH,KAAKi0G,kBAAmB,CACvE,IAAIl9C,EAAK/2D,KAAKw9G,0BACVjqG,EAAM,IAAMwjD,EAAG14D,KACd1D,OAAOqe,UAAUwhC,eAAetoC,KAAKlS,KAAK28B,QAAQi4E,SAAUrhG,IAC7DvT,KAAK8lC,WAAW2tE,EAAW0B,SAAS6J,aAAcjoD,EAAG14D,MAEzD4hE,EAAQlJ,CACZ,CAKA,OAJA/2D,KAAKq3G,mBACS,OAAVp3C,GAAmBjgE,KAAK28B,QAAQ+3E,aAAgB10G,KAAK28B,QAAQg4E,UAC7D30G,KAAK8lC,WAAW2tE,EAAW0B,SAASgK,cAEjCn/G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKhE,eAAetmC,GACvD,EAEAokC,EAAOrrF,UAAUomG,qBAAuB,WAC/Bp/G,KAAK28B,QAAQ83E,gBACdz0G,KAAK8uG,cAAc2E,EAAW0B,SAASkK,eAE3C,IAAItjH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,UACnB,IAIInH,GAJgBtvG,KAAK6O,MAAM,MAAS7O,KAAK6O,MAAM,MAC9C7O,KAAKi0G,mBAA6C,IAAxBj0G,KAAKg0G,UAAUhtG,OAClB,IAAxBhH,KAAKg0G,UAAUhtG,MACS,KAAxBhH,KAAKg0G,UAAUhtG,KACmC,KAAzBhH,KAAK25G,kBAElC,OADA35G,KAAKq3G,mBACEr3G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK1B,gBAAgByG,GACxD,EAEAjL,EAAOrrF,UAAUsmG,mBAAqB,WAC9Bt/G,KAAK28B,QAAQsM,QACbjpC,KAAK8uG,cAAc2E,EAAW0B,SAASoK,gBAE3C,IACI53F,EADA5rB,EAAOiE,KAAKm2G,aAEhBn2G,KAAKy2G,cAAc,QACnBz2G,KAAKu2G,OAAO,KACZ,IAAIpL,EAASnrG,KAAK25G,kBASlB,OARK35G,KAAK6O,MAAM,MAAQ7O,KAAKwsC,OAAOi4D,UAChCzkG,KAAK+1G,wBAAwB/1G,KAAK+rG,aAClCpkF,EAAO3nB,KAAKw1F,SAASx1F,KAAKm2G,aAAc,IAAI5L,EAAKtD,kBAGjDjnG,KAAKu2G,OAAO,KACZ5uF,EAAO3nB,KAAK48G,kBAET58G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKT,cAAcqB,EAAQxjF,GAC9D,EAEA08E,EAAOrrF,UAAUwmG,gBAAkB,WAC/B,IACInsG,EADAtX,EAAOiE,KAAKm2G,aAEZn2G,KAAK22G,aAAa,YAClB32G,KAAK+rG,YACL14F,EAAO,OAGPrT,KAAKy2G,cAAc,QACnBpjG,EAAOrT,KAAK25G,mBAEhB35G,KAAKu2G,OAAO,KAEZ,IADA,IAAIpE,EAAa,KAETnyG,KAAK6O,MAAM,MAAQ7O,KAAK22G,aAAa,YAAc32G,KAAK22G,aAAa,UAGzExE,EAAWxwG,KAAK3B,KAAKi8G,0BAEzB,OAAOj8G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKtB,WAAW51F,EAAM8+F,GACzD,EACA9N,EAAOrrF,UAAUymG,qBAAuB,WACpC,IAAI1jH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,UACnBz2G,KAAKu2G,OAAO,KACZ,IAAItD,EAAejzG,KAAK25G,kBACxB35G,KAAKu2G,OAAO,KACZ,IAAImJ,EAAmB1/G,KAAK28B,QAAQg4E,SACpC30G,KAAK28B,QAAQg4E,UAAW,EACxB,IAAIzB,EAAQ,GACRyM,GAAe,EAEnB,IADA3/G,KAAKu2G,OAAO,MAEJv2G,KAAK6O,MAAM,MADN,CAIT,IAAI+wG,EAAS5/G,KAAKw/G,kBACE,OAAhBI,EAAOvsG,OACHssG,GACA3/G,KAAK8lC,WAAW2tE,EAAW0B,SAAS0K,0BAExCF,GAAe,GAEnBzM,EAAMvxG,KAAKi+G,EACf,CAGA,OAFA5/G,KAAKu2G,OAAO,KACZv2G,KAAK28B,QAAQg4E,SAAW+K,EACjB1/G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKrB,gBAAgB+J,EAAcC,GACtE,EAEA7O,EAAOrrF,UAAU8mG,uBAAyB,WACtC,IAEI5D,EAFAngH,EAAOiE,KAAKm2G,aACZjL,EAAOlrG,KAAK25G,kBAEhB,GAAKzO,EAAKlkG,OAASg+F,EAASC,OAAO2C,YAAe5nG,KAAK6O,MAAM,KAAM,CAC/D7O,KAAK+rG,YACL,IAAIh1C,EAAKm0C,EACL33F,EAAM,IAAMwjD,EAAG14D,KACf1D,OAAOqe,UAAUwhC,eAAetoC,KAAKlS,KAAK28B,QAAQi4E,SAAUrhG,IAC5DvT,KAAK8lC,WAAW2tE,EAAW0B,SAAS4K,cAAe,QAAShpD,EAAG14D,MAEnE2B,KAAK28B,QAAQi4E,SAASrhG,IAAO,EAC7B,IAAIoU,OAAO,EACX,GAAI3nB,KAAK22G,aAAa,SAClB32G,KAAK+1G,wBAAwB/1G,KAAKg0G,WAClCrsF,EAAO3nB,KAAK08G,6BAEX,GAAI18G,KAAK22G,aAAa,YAAa,CACpC,IAAIt7F,EAAQrb,KAAKg0G,UACbzB,EAAcvyG,KAAKy8G,2BACnBz8G,KAAK28B,QAAQsM,OACbjpC,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAAS+I,gBAEnD3L,EAAYjB,WACjBtxG,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAAS6K,0BAE5Dr4F,EAAO4qF,CACX,MAEI5qF,EAAO3nB,KAAK48G,wBAET58G,KAAK28B,QAAQi4E,SAASrhG,GAC7B2oG,EAAY,IAAI3R,EAAKpC,iBAAiBpxC,EAAIpvC,EAC9C,MAEI3nB,KAAKq3G,mBACL6E,EAAY,IAAI3R,EAAKjD,oBAAoB4D,GAE7C,OAAOlrG,KAAKw1F,SAASz5F,EAAMmgH,EAC/B,EAEA7X,EAAOrrF,UAAUinG,oBAAsB,WACnC,IAAIlkH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,SACfz2G,KAAKi0G,mBACLj0G,KAAK8lC,WAAW2tE,EAAW0B,SAAS+K,mBAExC,IAAI5Q,EAAWtvG,KAAK25G,kBAEpB,OADA35G,KAAKq3G,mBACEr3G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKhB,eAAe+F,GACvD,EAEAjL,EAAOrrF,UAAUmnG,iBAAmB,WAChC,IAAIpkH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,SACnBz2G,KAAKu2G,OAAO,KACRv2G,KAAK6O,MAAM,MACX7O,KAAKiuG,qBAAqBjuG,KAAKg0G,WAKnC,IAHA,IAAIr5F,EAAS,GACTo3F,EAAQ/xG,KAAK+8G,aAAapiG,GAC1BylG,EAAW,CAAC,EACP70G,EAAI,EAAGA,EAAIoP,EAAOvU,OAAQmF,IAAK,CACpC,IAAIgI,EAAM,IAAMoH,EAAOpP,GAAGzQ,MACtBH,OAAOqe,UAAUwhC,eAAetoC,KAAKkuG,EAAU7sG,IAC/CvT,KAAK8uG,cAAc2E,EAAW0B,SAASkL,iBAAkB1lG,EAAOpP,GAAGzQ,OAEvEslH,EAAS7sG,IAAO,CACpB,CACIvT,KAAK28B,QAAQsM,QAAU8oE,EAAM/qG,OAASg+F,EAASC,OAAO2C,YAClD5nG,KAAKyrG,QAAQoP,iBAAiB9I,EAAM1zG,OACpC2B,KAAK8uG,cAAc2E,EAAW0B,SAASmL,qBAG/CtgH,KAAKu2G,OAAO,KACZ,IAAI5uF,EAAO3nB,KAAK68G,aAChB,OAAO78G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK9D,YAAYsL,EAAOpqF,GAC3D,EACA08E,EAAOrrF,UAAUunG,mBAAqB,WAElC,OADAvgH,KAAKy2G,cAAc,WACZz2G,KAAK68G,YAChB,EACAxY,EAAOrrF,UAAUwnG,kBAAoB,WACjC,IAAIzkH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,OACnB,IAAInrG,EAAQtL,KAAK68G,aACbpjG,EAAUzZ,KAAK22G,aAAa,SAAW32G,KAAKmgH,mBAAqB,KACjE9M,EAAYrzG,KAAK22G,aAAa,WAAa32G,KAAKugH,qBAAuB,KAI3E,OAHK9mG,GAAY45F,GACbrzG,KAAK8lC,WAAW2tE,EAAW0B,SAASsL,kBAEjCzgH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKf,aAAal+F,EAAOmO,EAAS45F,GACrE,EAEAhP,EAAOrrF,UAAU0nG,uBAAyB,WACtC,IAAI3kH,EAAOiE,KAAKm2G,aAGhB,OAFAn2G,KAAKy2G,cAAc,YACnBz2G,KAAKq3G,mBACEr3G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKvD,kBACxC,EAEA3C,EAAOrrF,UAAU4jG,eAAiB,WAC9B,IAAIV,EACJ,OAAQl8G,KAAKg0G,UAAUhtG,MACnB,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,GACL,KAAK,EACDk1G,EAAYl8G,KAAKg+G,2BACjB,MACJ,KAAK,EACD,IAAIljH,EAAQkF,KAAKg0G,UAAUl5G,MAEvBohH,EADU,MAAVphH,EACYkF,KAAK68G,aAEF,MAAV/hH,EACOkF,KAAKg+G,2BAEF,MAAVljH,EACOkF,KAAK+9G,sBAGL/9G,KAAKg+G,2BAErB,MACJ,KAAK,EACD9B,EAAYl8G,KAAKs3G,qBAAuBt3G,KAAKy8G,2BAA6Bz8G,KAAK8/G,yBAC/E,MACJ,KAAK,EACD,OAAQ9/G,KAAKg0G,UAAUl5G,OACnB,IAAK,QACDohH,EAAYl8G,KAAKk/G,sBACjB,MACJ,IAAK,WACDhD,EAAYl8G,KAAK++G,yBACjB,MACJ,IAAK,WACD7C,EAAYl8G,KAAK0gH,yBACjB,MACJ,IAAK,KACDxE,EAAYl8G,KAAKo+G,wBACjB,MACJ,IAAK,MACDlC,EAAYl8G,KAAKu+G,oBACjB,MACJ,IAAK,WACDrC,EAAYl8G,KAAKy8G,2BACjB,MACJ,IAAK,KACDP,EAAYl8G,KAAKm+G,mBACjB,MACJ,IAAK,SACDjC,EAAYl8G,KAAKo/G,uBACjB,MACJ,IAAK,SACDlD,EAAYl8G,KAAKy/G,uBACjB,MACJ,IAAK,QACDvD,EAAYl8G,KAAKigH,sBACjB,MACJ,IAAK,MACD/D,EAAYl8G,KAAKwgH,oBACjB,MACJ,IAAK,MACDtE,EAAYl8G,KAAK89G,yBACjB,MACJ,IAAK,QACD5B,EAAYl8G,KAAKs+G,sBACjB,MACJ,IAAK,OACDpC,EAAYl8G,KAAKs/G,qBACjB,MACJ,QACIpD,EAAYl8G,KAAKg+G,2BAGzB,MACJ,QACI9B,EAAYl8G,KAAKiuG,qBAAqBjuG,KAAKg0G,WAEnD,OAAOkI,CACX,EAEA7X,EAAOrrF,UAAUq/F,4BAA8B,WAC3C,IAAIt8G,EAAOiE,KAAKm2G,aAChBn2G,KAAKu2G,OAAO,KACZ,IAAI5uF,EAAO3nB,KAAK2gH,0BACZC,EAAmB5gH,KAAK28B,QAAQi4E,SAChCyJ,EAAsBr+G,KAAK28B,QAAQ+3E,YACnCgL,EAAmB1/G,KAAK28B,QAAQg4E,SAChCkM,EAAyB7gH,KAAK28B,QAAQ83E,eAK1C,IAJAz0G,KAAK28B,QAAQi4E,SAAW,CAAC,EACzB50G,KAAK28B,QAAQ+3E,aAAc,EAC3B10G,KAAK28B,QAAQg4E,UAAW,EACxB30G,KAAK28B,QAAQ83E,gBAAiB,EACC,IAAxBz0G,KAAKg0G,UAAUhtG,OACdhH,KAAK6O,MAAM,MAGf8Y,EAAKhmB,KAAK3B,KAAKi8G,0BAOnB,OALAj8G,KAAKu2G,OAAO,KACZv2G,KAAK28B,QAAQi4E,SAAWgM,EACxB5gH,KAAK28B,QAAQ+3E,YAAc2J,EAC3Br+G,KAAK28B,QAAQg4E,SAAW+K,EACxB1/G,KAAK28B,QAAQ83E,eAAiBoM,EACvB7gH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKlF,eAAe19E,GACvD,EACA08E,EAAOrrF,UAAU2iG,cAAgB,SAAUh2G,EAASosG,EAAO1zG,GACvD,IAAIkV,EAAM,IAAMlV,EACZ2B,KAAK28B,QAAQsM,QACTjpC,KAAKyrG,QAAQoP,iBAAiBx8G,KAC9BsH,EAAQ4yG,SAAWxG,EACnBpsG,EAAQuL,QAAUuiG,EAAW0B,SAAS2L,iBAEtCnmH,OAAOqe,UAAUwhC,eAAetoC,KAAKvM,EAAQk2G,SAAUtoG,KACvD5N,EAAQ4yG,SAAWxG,EACnBpsG,EAAQuL,QAAUuiG,EAAW0B,SAAS2G,kBAGpCn2G,EAAQ2yG,kBACVt4G,KAAKyrG,QAAQoP,iBAAiBx8G,IAC9BsH,EAAQ2yG,gBAAkBvG,EAC1BpsG,EAAQuL,QAAUuiG,EAAW0B,SAAS2L,iBAEjC9gH,KAAKyrG,QAAQmK,yBAAyBv3G,IAC3CsH,EAAQ2yG,gBAAkBvG,EAC1BpsG,EAAQuL,QAAUuiG,EAAW0B,SAASU,oBAEjCl7G,OAAOqe,UAAUwhC,eAAetoC,KAAKvM,EAAQk2G,SAAUtoG,KAC5D5N,EAAQ4yG,SAAWxG,EACnBpsG,EAAQuL,QAAUuiG,EAAW0B,SAAS2G,kBAIT,mBAA1BnhH,OAAOC,eACdD,OAAOC,eAAe+K,EAAQk2G,SAAUtoG,EAAK,CAAEzY,OAAO,EAAMwX,YAAY,EAAMiX,UAAU,EAAMhX,cAAc,IAG5G5M,EAAQk2G,SAAStoG,IAAO,CAEhC,EACA8wF,EAAOrrF,UAAU8gG,iBAAmB,SAAUn/F,GAC1C,IAAI5e,EAAOiE,KAAKm2G,aAChBn2G,KAAKu2G,OAAO,OACZ,IAAIt4E,EAAMj+B,KAAK+8G,aAAapiG,GAO5B,OANI3a,KAAK6O,MAAM,MACX7O,KAAK8lC,WAAW2tE,EAAW0B,SAAS4L,sBAEnC/gH,KAAK6O,MAAM,MACZ7O,KAAK8lC,WAAW2tE,EAAW0B,SAAS6L,6BAEjChhH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3B,YAAY3qE,GACpD,EACAomE,EAAOrrF,UAAUioG,qBAAuB,SAAUt7G,GAG9C,IAFA,IAAIgV,EAAS,GACTo3F,EAAQ/xG,KAAK6O,MAAM,OAAS7O,KAAK85G,iBAAiBn/F,GAAU3a,KAAKq9G,wBAAwB1iG,GACpFpP,EAAI,EAAGA,EAAIoP,EAAOvU,OAAQmF,IAC/BvL,KAAK27G,cAAch2G,EAASgV,EAAOpP,GAAIoP,EAAOpP,GAAGzQ,OAErD6K,EAAQyyG,OAASzyG,EAAQyyG,QAAWrG,aAAiBxH,EAAK3C,WAC1DjiG,EAAQgV,OAAOhZ,KAAKowG,EACxB,EACA1N,EAAOrrF,UAAU0/F,sBAAwB,SAAUJ,GAC/C,IAAI3yG,EAOJ,GANAA,EAAU,CACNyyG,QAAQ,EACRz9F,OAAQ,GACR29F,gBAAiBA,GAErBt4G,KAAKu2G,OAAO,MACPv2G,KAAK6O,MAAM,KAEZ,IADAlJ,EAAQk2G,SAAW,CAAC,EACW,IAAxB77G,KAAKg0G,UAAUhtG,OAClBhH,KAAKihH,qBAAqBt7G,IACtB3F,KAAK6O,MAAM,QAGf7O,KAAKu2G,OAAO,MACRv2G,KAAK6O,MAAM,QAMvB,OADA7O,KAAKu2G,OAAO,KACL,CACH6B,OAAQzyG,EAAQyyG,OAChBz9F,OAAQhV,EAAQgV,OAChB49F,SAAU5yG,EAAQ4yG,SAClBD,gBAAiB3yG,EAAQ2yG,gBACzBpnG,QAASvL,EAAQuL,QAEzB,EACAmzF,EAAOrrF,UAAUs+F,mBAAqB,WAClC,IAAIzoG,EAAQ7O,KAAK42G,uBAAuB,SACxC,GAAI/nG,EAAO,CACP,IAAIw7B,EAAQrqC,KAAKyrG,QAAQqC,YACzB9tG,KAAKyrG,QAAQsC,eACb,IAAIphG,EAAO3M,KAAKyrG,QAAQ8B,MACxBvtG,KAAKyrG,QAAQuC,aAAa3jE,GAC1Bx7B,EAASw7B,EAAMshE,aAAeh/F,EAAKg/F,YAA8B,IAAdh/F,EAAK3F,MAA6C,aAAf2F,EAAK7R,KAC/F,CACA,OAAO+T,CACX,EACAw1F,EAAOrrF,UAAUyjG,yBAA2B,SAAUyE,GAClD,IAAInlH,EAAOiE,KAAKm2G,aACZ8C,EAAUj5G,KAAK42G,uBAAuB,SACtCqC,GACAj5G,KAAK+rG,YAET/rG,KAAKy2G,cAAc,YACnB,IAIIvlG,EAJAiwG,GAAclI,GAAkBj5G,KAAK6O,MAAM,KAC3CsyG,GACAnhH,KAAK+rG,YAGT,IAAIh1C,EAAK,KACLuhD,EAAkB,KACtB,IAAK4I,IAAyBlhH,KAAK6O,MAAM,KAAM,CAC3C,IAAIwM,EAAQrb,KAAKg0G,UACjBj9C,EAAK/2D,KAAKw9G,0BACNx9G,KAAK28B,QAAQsM,OACTjpC,KAAKyrG,QAAQoP,iBAAiBx/F,EAAMvgB,QACpCkF,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAASiM,oBAIxDphH,KAAKyrG,QAAQoP,iBAAiBx/F,EAAMvgB,QACpCw9G,EAAkBj9F,EAClBnK,EAAUuiG,EAAW0B,SAASiM,oBAEzBphH,KAAKyrG,QAAQmK,yBAAyBv6F,EAAMvgB,SACjDw9G,EAAkBj9F,EAClBnK,EAAUuiG,EAAW0B,SAASU,mBAG1C,CACA,IAAIwL,EAAqBrhH,KAAK28B,QAAQu3E,MAClCuE,EAAqBz4G,KAAK28B,QAAQ03E,WACtCr0G,KAAK28B,QAAQu3E,MAAQ+E,EACrBj5G,KAAK28B,QAAQ03E,YAAc8M,EAC3B,IAAIG,EAAmBthH,KAAK04G,sBAAsBJ,GAC9C39F,EAAS2mG,EAAiB3mG,OAC1B49F,EAAW+I,EAAiB/I,SAChCD,EAAkBgJ,EAAiBhJ,gBAC/BgJ,EAAiBpwG,UACjBA,EAAUowG,EAAiBpwG,SAE/B,IAAIgnG,EAAiBl4G,KAAK28B,QAAQsM,OAC9BkvE,EAA+Bn4G,KAAK28B,QAAQy3E,qBAChDp0G,KAAK28B,QAAQy3E,qBAAuBkN,EAAiBlJ,OACrD,IAAIzwF,EAAO3nB,KAAKq4G,8BAWhB,OAVIr4G,KAAK28B,QAAQsM,QAAUqvE,GACvBt4G,KAAKiuG,qBAAqBqK,EAAiBpnG,GAE3ClR,KAAK28B,QAAQsM,QAAUsvE,GACvBv4G,KAAK+1G,wBAAwBwC,EAAUrnG,GAE3ClR,KAAK28B,QAAQsM,OAASivE,EACtBl4G,KAAK28B,QAAQy3E,qBAAuB+D,EACpCn4G,KAAK28B,QAAQu3E,MAAQmN,EACrBrhH,KAAK28B,QAAQ03E,WAAaoE,EACnBQ,EAAUj5G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKoH,yBAAyB56C,EAAIp8C,EAAQgN,IAC/E3nB,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK7C,oBAAoB3wC,EAAIp8C,EAAQgN,EAAMw5F,GAC3E,EACA9c,EAAOrrF,UAAUu+F,wBAA0B,WACvC,IAAIx7G,EAAOiE,KAAKm2G,aACZ8C,EAAUj5G,KAAK42G,uBAAuB,SACtCqC,GACAj5G,KAAK+rG,YAET/rG,KAAKy2G,cAAc,YACnB,IAIIvlG,EAJAiwG,GAAclI,GAAkBj5G,KAAK6O,MAAM,KAC3CsyG,GACAnhH,KAAK+rG,YAGT,IACIuM,EADAvhD,EAAK,KAELsqD,EAAqBrhH,KAAK28B,QAAQu3E,MAClCuE,EAAqBz4G,KAAK28B,QAAQ03E,WAGtC,GAFAr0G,KAAK28B,QAAQu3E,MAAQ+E,EACrBj5G,KAAK28B,QAAQ03E,YAAc8M,GACtBnhH,KAAK6O,MAAM,KAAM,CAClB,IAAIwM,EAAQrb,KAAKg0G,UACjBj9C,EAAO/2D,KAAK28B,QAAQsM,QAAWk4E,IAAenhH,KAAK22G,aAAa,SAAyC32G,KAAKw9G,0BAAlCx9G,KAAK83G,sBAC7E93G,KAAK28B,QAAQsM,OACTjpC,KAAKyrG,QAAQoP,iBAAiBx/F,EAAMvgB,QACpCkF,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAASiM,oBAIxDphH,KAAKyrG,QAAQoP,iBAAiBx/F,EAAMvgB,QACpCw9G,EAAkBj9F,EAClBnK,EAAUuiG,EAAW0B,SAASiM,oBAEzBphH,KAAKyrG,QAAQmK,yBAAyBv6F,EAAMvgB,SACjDw9G,EAAkBj9F,EAClBnK,EAAUuiG,EAAW0B,SAASU,mBAG1C,CACA,IAAIyL,EAAmBthH,KAAK04G,sBAAsBJ,GAC9C39F,EAAS2mG,EAAiB3mG,OAC1B49F,EAAW+I,EAAiB/I,SAChCD,EAAkBgJ,EAAiBhJ,gBAC/BgJ,EAAiBpwG,UACjBA,EAAUowG,EAAiBpwG,SAE/B,IAAIgnG,EAAiBl4G,KAAK28B,QAAQsM,OAC9BkvE,EAA+Bn4G,KAAK28B,QAAQy3E,qBAChDp0G,KAAK28B,QAAQy3E,qBAAuBkN,EAAiBlJ,OACrD,IAAIzwF,EAAO3nB,KAAKq4G,8BAWhB,OAVIr4G,KAAK28B,QAAQsM,QAAUqvE,GACvBt4G,KAAKiuG,qBAAqBqK,EAAiBpnG,GAE3ClR,KAAK28B,QAAQsM,QAAUsvE,GACvBv4G,KAAK+1G,wBAAwBwC,EAAUrnG,GAE3ClR,KAAK28B,QAAQsM,OAASivE,EACtBl4G,KAAK28B,QAAQy3E,qBAAuB+D,EACpCn4G,KAAK28B,QAAQu3E,MAAQmN,EACrBrhH,KAAK28B,QAAQ03E,WAAaoE,EACnBQ,EAAUj5G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKqH,wBAAwB76C,EAAIp8C,EAAQgN,IAC9E3nB,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK5C,mBAAmB5wC,EAAIp8C,EAAQgN,EAAMw5F,GAC1E,EAEA9c,EAAOrrF,UAAUuoG,eAAiB,WAC9B,IAAIlmG,EAAQrb,KAAKg0G,UACbj4G,EAAOiE,KAAKm2G,aACZjL,EAAOlrG,KAAK25G,kBACZrH,EAAapH,EAAKlkG,OAASg+F,EAASC,OAAOiD,QAAWloG,KAAK4uG,YAAYvzF,GAAO3O,MAAM,GAAI,GAAK,KAEjG,OADA1M,KAAKq3G,mBACEr3G,KAAKw1F,SAASz5F,EAAMu2G,EAAY,IAAI/H,EAAK8H,UAAUnH,EAAMoH,GAAa,IAAI/H,EAAKjD,oBAAoB4D,GAC9G,EACA7G,EAAOrrF,UAAU2nG,wBAA0B,WAGvC,IAFA,IAAIrI,EAAkB,KAClB3wF,EAAO,KACE,CACT,IAAItM,EAAQrb,KAAKg0G,UACjB,GAAmB,IAAf34F,EAAMrU,KACN,MAEJ,IAAIk1G,EAAYl8G,KAAKuhH,iBACrB55F,EAAKhmB,KAAKu6G,GACV,IAAI5J,EAAY4J,EAAU5J,UAC1B,GAAyB,iBAAdA,EACP,MAEc,eAAdA,GACAtyG,KAAK28B,QAAQsM,QAAS,EAClBqvE,GACAt4G,KAAK+1G,wBAAwBuC,EAAiB7E,EAAW0B,SAASsC,oBAEjEz3G,KAAK28B,QAAQy3E,sBACdp0G,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAASqM,gCAIvDlJ,GAAmBj9F,EAAMm8F,QAC1Bc,EAAkBj9F,EAG9B,CACA,OAAOsM,CACX,EAEA08E,EAAOrrF,UAAUmgG,sBAAwB,SAAU99F,GAC/C,OAAQA,EAAMrU,MACV,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACD,OAAO,EACX,KAAK,EACD,MAAuB,MAAhBqU,EAAMvgB,MAIrB,OAAO,CACX,EACAupG,EAAOrrF,UAAUogG,kBAAoB,WACjC,IAAIr9G,EAAOiE,KAAKm2G,aAEZsC,EAAqBz4G,KAAK28B,QAAQ03E,WACtCr0G,KAAK28B,QAAQ03E,YAAa,EAC1B,IAAIiN,EAAmBthH,KAAK04G,wBACxB4I,EAAiB3mG,OAAOvU,OAAS,GACjCpG,KAAK8uG,cAAc2E,EAAW0B,SAASsM,gBAE3C,IAAI74F,EAAS5oB,KAAKi4G,oBAAoBqJ,GAEtC,OADAthH,KAAK28B,QAAQ03E,WAAaoE,EACnBz4G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK5C,mBAAmB,KAAM2Z,EAAiB3mG,OAAQiO,GATpE,GAUtB,EACAy7E,EAAOrrF,UAAUqgG,kBAAoB,WACjC,IAAIt9G,EAAOiE,KAAKm2G,aAEZsC,EAAqBz4G,KAAK28B,QAAQ03E,WACtCr0G,KAAK28B,QAAQ03E,YAAa,EAC1B,IAAIiN,EAAmBthH,KAAK04G,wBACW,IAAnC4I,EAAiB3mG,OAAOvU,OACxBpG,KAAK8uG,cAAc2E,EAAW0B,SAASuM,gBAElCJ,EAAiB3mG,OAAO,aAAc4vF,EAAK3B,aAChD5oG,KAAK8uG,cAAc2E,EAAW0B,SAASwM,wBAE3C,IAAI/4F,EAAS5oB,KAAKi4G,oBAAoBqJ,GAEtC,OADAthH,KAAK28B,QAAQ03E,WAAaoE,EACnBz4G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK5C,mBAAmB,KAAM2Z,EAAiB3mG,OAAQiO,GAZpE,GAatB,EACAy7E,EAAOrrF,UAAUsgG,qBAAuB,WACpC,IAAIv9G,EAAOiE,KAAKm2G,aAEZsC,EAAqBz4G,KAAK28B,QAAQ03E,WACtCr0G,KAAK28B,QAAQ03E,YAAa,EAC1B,IAAI15F,EAAS3a,KAAK04G,wBAClB14G,KAAK28B,QAAQ03E,YAAa,EAC1B,IAAIzrF,EAAS5oB,KAAKi4G,oBAAoBt9F,GAEtC,OADA3a,KAAK28B,QAAQ03E,WAAaoE,EACnBz4G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK5C,mBAAmB,KAAMhtF,EAAOA,OAAQiO,GAP1D,GAQtB,EAEAy7E,EAAOrrF,UAAU63F,oBAAsB,WACnC,IAAI11F,GAAQ,EACRrgB,EAAQkF,KAAKg0G,UAAUl5G,MAC3B,OAAQkF,KAAKg0G,UAAUhtG,MACnB,KAAK,EACDmU,EAAmB,MAAVrgB,GAA6B,MAAVA,GAA6B,MAAVA,GAChC,MAAVA,GAA6B,MAAVA,GACT,MAAVA,GAA6B,MAAVA,GACT,OAAVA,GAA8B,OAAVA,GACV,MAAVA,GAA6B,OAAVA,EACxB,MACJ,KAAK,EACDqgB,EAAmB,UAAVrgB,GAAiC,WAAVA,GACjB,aAAVA,GAAoC,QAAVA,GAA+B,QAAVA,GACrC,UAAVA,GAAiC,SAAVA,GAAgC,WAAVA,GACnC,SAAVA,GAAgC,UAAVA,EAKnC,OAAOqgB,CACX,EACAkpF,EAAOrrF,UAAU+iG,qBAAuB,WACpC,IAAIhgH,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,SACnB,IAAInH,EAAW,KACX/L,GAAW,EACf,IAAKvjG,KAAKi0G,kBAAmB,CACzB,IAAIwE,EAAqBz4G,KAAK28B,QAAQ03E,WACtCr0G,KAAK28B,QAAQ03E,YAAa,GAC1B9Q,EAAWvjG,KAAK6O,MAAM,OAElB7O,KAAK+rG,YACLuD,EAAWtvG,KAAK+uG,6BAEX/uG,KAAK6wG,wBACVvB,EAAWtvG,KAAK+uG,6BAEpB/uG,KAAK28B,QAAQ03E,WAAaoE,CAC9B,CACA,OAAOz4G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKR,gBAAgBuF,EAAU/L,GAClE,EAEAc,EAAOrrF,UAAU4oG,kBAAoB,SAAUC,GAC3C,IAAIxmG,EAAQrb,KAAKg0G,UACbj4G,EAAOiE,KAAKm2G,aACZj2C,EAAO,GACP3sD,EAAM,KACNzY,EAAQ,KACRo3G,GAAW,EACXtpF,GAAS,EACT+pF,GAAW,EACXsG,GAAU,EACd,GAAIj5G,KAAK6O,MAAM,KACX7O,KAAK+rG,iBAiBL,GAdAmG,EAAWlyG,KAAK6O,MAAM,KAGN,YAFhB0E,EAAMvT,KAAK64G,0BAEJx6G,OAAsB2B,KAAKm5G,sBAAsBn5G,KAAKg0G,YAAch0G,KAAK6O,MAAM,QAClFwM,EAAQrb,KAAKg0G,UACbrB,GAAW,EACXT,EAAWlyG,KAAK6O,MAAM,KAClB7O,KAAK6O,MAAM,KACX7O,KAAK+rG,YAGLx4F,EAAMvT,KAAK64G,0BAGC,IAAfx9F,EAAMrU,OAAiChH,KAAKi0G,mBAAsC,UAAhB54F,EAAMvgB,MAAoB,CAC7F,IAAIgnH,EAAa9hH,KAAKg0G,UAAUl5G,MACb,MAAfgnH,GAAqC,MAAfA,GAAqC,MAAfA,IAC5C7I,GAAU,EACV59F,EAAQrb,KAAKg0G,UACbzgG,EAAMvT,KAAK64G,yBACQ,IAAfx9F,EAAMrU,MAA+C,gBAAhBqU,EAAMvgB,OAC3CkF,KAAK+1G,wBAAwB16F,EAAOo4F,EAAW0B,SAAS4M,oBAGpE,CAEJ,IAAI7I,EAAuBl5G,KAAKm5G,sBAAsBn5G,KAAKg0G,WAmD3D,OAlDmB,IAAf34F,EAAMrU,KACc,QAAhBqU,EAAMvgB,OAAmBo+G,GACzBh5C,EAAO,MACPgyC,EAAWlyG,KAAK6O,MAAM,KACtB0E,EAAMvT,KAAK64G,yBACX74G,KAAK28B,QAAQ03E,YAAa,EAC1Bv5G,EAAQkF,KAAKo5G,qBAEQ,QAAhB/9F,EAAMvgB,OAAmBo+G,IAC9Bh5C,EAAO,MACPgyC,EAAWlyG,KAAK6O,MAAM,KACtB0E,EAAMvT,KAAK64G,yBACX/9G,EAAQkF,KAAKq5G,qBAGG,IAAfh+F,EAAMrU,MAA+C,MAAhBqU,EAAMvgB,OAAiBo+G,IACjEh5C,EAAO,OACPgyC,EAAWlyG,KAAK6O,MAAM,KACtB0E,EAAMvT,KAAK64G,yBACX/9G,EAAQkF,KAAKs5G,uBACb1wF,GAAS,IAERs3C,GAAQ3sD,GAAOvT,KAAK6O,MAAM,OAC3BqxD,EAAO,OACPplE,EAAQm+G,EAAUj5G,KAAK24G,mCAAqC34G,KAAKw4G,8BACjE5vF,GAAS,GAERs3C,GACDlgE,KAAKiuG,qBAAqBjuG,KAAKg0G,WAEtB,SAAT9zC,IACAA,EAAO,UAENgyC,IACGS,GAAY3yG,KAAK84G,cAAcvlG,EAAK,cACpCvT,KAAKiuG,qBAAqB5yF,EAAOo4F,EAAW0B,SAAS6M,kBAEpDrP,GAAY3yG,KAAK84G,cAAcvlG,EAAK,kBACxB,WAAT2sD,IAAsBt3C,GAAW9tB,GAASA,EAAMw2G,YAChDtxG,KAAKiuG,qBAAqB5yF,EAAOo4F,EAAW0B,SAAS8M,0BAErDJ,EAAe/mH,MACfkF,KAAKiuG,qBAAqB5yF,EAAOo4F,EAAW0B,SAAS+M,sBAGrDL,EAAe/mH,OAAQ,EAE3BolE,EAAO,gBAGRlgE,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKhC,iBAAiBh1F,EAAK2+F,EAAUp3G,EAAOolE,EAAMyyC,GACrF,EACAtO,EAAOrrF,UAAUmpG,sBAAwB,WACrC,IAAIx6F,EAAO,GACPk6F,EAAiB,CAAE/mH,OAAO,GAE9B,IADAkF,KAAKu2G,OAAO,MACJv2G,KAAK6O,MAAM,MACX7O,KAAK6O,MAAM,KACX7O,KAAK+rG,YAGLpkF,EAAKhmB,KAAK3B,KAAK4hH,kBAAkBC,IAIzC,OADA7hH,KAAKu2G,OAAO,KACL5uF,CACX,EACA08E,EAAOrrF,UAAUopG,eAAiB,WAC9B,IAAIrmH,EAAOiE,KAAKm2G,aACZkM,EAAcriH,KAAKmiH,wBACvB,OAAOniH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK7D,UAAU2b,GAClD,EACAhe,EAAOrrF,UAAU0jG,sBAAwB,SAAUwE,GAC/C,IAAInlH,EAAOiE,KAAKm2G,aACZ+B,EAAiBl4G,KAAK28B,QAAQsM,OAClCjpC,KAAK28B,QAAQsM,QAAS,EACtBjpC,KAAKy2G,cAAc,SACnB,IAAI1/C,EAAMmqD,GAAiD,IAAxBlhH,KAAKg0G,UAAUhtG,KAAgC,KAAOhH,KAAKw9G,0BAC1FxL,EAAa,KACbhyG,KAAK22G,aAAa,aAClB32G,KAAK+rG,YACLiG,EAAahyG,KAAK+2G,oBAAoB/2G,KAAKs6G,uCAE/C,IAAIgI,EAAYtiH,KAAKoiH,iBAErB,OADApiH,KAAK28B,QAAQsM,OAASivE,EACfl4G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK5D,iBAAiB5vC,EAAIi7C,EAAYsQ,GACzE,EACAje,EAAOrrF,UAAU++F,qBAAuB,WACpC,IAAIh8G,EAAOiE,KAAKm2G,aACZ+B,EAAiBl4G,KAAK28B,QAAQsM,OAClCjpC,KAAK28B,QAAQsM,QAAS,EACtBjpC,KAAKy2G,cAAc,SACnB,IAAI1/C,EAA8B,IAAxB/2D,KAAKg0G,UAAUhtG,KAA+BhH,KAAKw9G,0BAA4B,KACrFxL,EAAa,KACbhyG,KAAK22G,aAAa,aAClB32G,KAAK+rG,YACLiG,EAAahyG,KAAK+2G,oBAAoB/2G,KAAKs6G,uCAE/C,IAAIgI,EAAYtiH,KAAKoiH,iBAErB,OADApiH,KAAK28B,QAAQsM,OAASivE,EACfl4G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAK3D,gBAAgB7vC,EAAIi7C,EAAYsQ,GACxE,EAGAje,EAAOrrF,UAAUsrF,YAAc,WAC3BtkG,KAAK28B,QAAQsM,QAAS,EACtBjpC,KAAK28B,QAAQsnE,UAAW,EACxBjkG,KAAKyrG,QAAQxH,UAAW,EAGxB,IAFA,IAAIloG,EAAOiE,KAAKm2G,aACZxuF,EAAO3nB,KAAK2gH,0BACe,IAAxB3gH,KAAKg0G,UAAUhtG,MAClB2gB,EAAKhmB,KAAK3B,KAAKi8G,0BAEnB,OAAOj8G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKqI,OAAOjrF,GAC/C,EACA08E,EAAOrrF,UAAUurF,YAAc,WAG3B,IAFA,IAAIxoG,EAAOiE,KAAKm2G,aACZxuF,EAAO3nB,KAAK2gH,0BACe,IAAxB3gH,KAAKg0G,UAAUhtG,MAClB2gB,EAAKhmB,KAAK3B,KAAKi8G,0BAEnB,OAAOj8G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKuI,OAAOnrF,GAC/C,EAEA08E,EAAOrrF,UAAUupG,qBAAuB,WACpC,IAAIxmH,EAAOiE,KAAKm2G,aACY,IAAxBn2G,KAAKg0G,UAAUhtG,MACfhH,KAAK8lC,WAAW2tE,EAAW0B,SAASqN,wBAExC,IAAInnG,EAAQrb,KAAK+rG,YACb4C,EAAM3uG,KAAK4uG,YAAYvzF,GAC3B,OAAOrb,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKrC,QAAQ7sF,EAAMvgB,MAAO6zG,GAC7D,EAEAtK,EAAOrrF,UAAUypG,qBAAuB,WACpC,IACI/P,EACAtR,EAFArlG,EAAOiE,KAAKm2G,aAsBhB,OAnB4B,IAAxBn2G,KAAKg0G,UAAUhtG,MAEfo6F,EADAsR,EAAW1yG,KAAKw9G,0BAEZx9G,KAAK42G,uBAAuB,QAC5B52G,KAAK+rG,YACL3K,EAAQphG,KAAKw9G,6BAKjBpc,EADAsR,EAAW1yG,KAAK83G,sBAEZ93G,KAAK42G,uBAAuB,OAC5B52G,KAAK+rG,YACL3K,EAAQphG,KAAKw9G,2BAGbx9G,KAAKiuG,qBAAqBjuG,KAAK+rG,cAGhC/rG,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKtC,gBAAgB7G,EAAOsR,GAC/D,EAEArO,EAAOrrF,UAAU0pG,kBAAoB,WACjC1iH,KAAKu2G,OAAO,KAEZ,IADA,IAAI/D,EAAa,IACTxyG,KAAK6O,MAAM,MACf2jG,EAAW7wG,KAAK3B,KAAKyiH,wBAChBziH,KAAK6O,MAAM,MACZ7O,KAAKu2G,OAAO,KAIpB,OADAv2G,KAAKu2G,OAAO,KACL/D,CACX,EAEAnO,EAAOrrF,UAAU2pG,4BAA8B,WAC3C,IAAI5mH,EAAOiE,KAAKm2G,aACZ/U,EAAQphG,KAAK83G,sBACjB,OAAO93G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKxC,uBAAuB3G,GAC/D,EAEAiD,EAAOrrF,UAAU4pG,8BAAgC,WAC7C,IAAI7mH,EAAOiE,KAAKm2G,aAChBn2G,KAAKu2G,OAAO,KACPv2G,KAAK42G,uBAAuB,OAC7B52G,KAAK8lC,WAAW2tE,EAAW0B,SAAS0N,0BAExC7iH,KAAK+rG,YACL,IAAI3K,EAAQphG,KAAK83G,sBACjB,OAAO93G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKvC,yBAAyB5G,GACjE,EACAiD,EAAOrrF,UAAUsjG,uBAAyB,WAClCt8G,KAAK28B,QAAQ83E,gBACbz0G,KAAK8lC,WAAW2tE,EAAW0B,SAASkH,0BAExC,IAEIp4B,EAFAloF,EAAOiE,KAAKm2G,aAChBn2G,KAAKy2G,cAAc,UAEnB,IAAIjE,EAAa,GACjB,GAA4B,IAAxBxyG,KAAKg0G,UAAUhtG,KAEfi9E,EAAMjkF,KAAKuiH,2BAEV,CA8BD,GA7BIviH,KAAK6O,MAAM,KAEX2jG,EAAaA,EAAWptG,OAAOpF,KAAK0iH,qBAE/B1iH,KAAK6O,MAAM,KAEhB2jG,EAAW7wG,KAAK3B,KAAK4iH,iCAEhB5iH,KAAKi6G,iBAAiBj6G,KAAKg0G,aAAeh0G,KAAK22G,aAAa,YAEjEnE,EAAW7wG,KAAK3B,KAAK2iH,+BACjB3iH,KAAK6O,MAAM,OACX7O,KAAK+rG,YACD/rG,KAAK6O,MAAM,KAEX2jG,EAAW7wG,KAAK3B,KAAK4iH,iCAEhB5iH,KAAK6O,MAAM,KAEhB2jG,EAAaA,EAAWptG,OAAOpF,KAAK0iH,qBAGpC1iH,KAAKiuG,qBAAqBjuG,KAAKg0G,aAKvCh0G,KAAKiuG,qBAAqBjuG,KAAK+rG,cAE9B/rG,KAAK42G,uBAAuB,QAAS,CACtC,IAAI1lG,EAAUlR,KAAKg0G,UAAUl5G,MAAQ24G,EAAW0B,SAASC,gBAAkB3B,EAAW0B,SAAS2N,kBAC/F9iH,KAAK8lC,WAAW50B,EAASlR,KAAKg0G,UAAUl5G,MAC5C,CACAkF,KAAK+rG,YACL9nB,EAAMjkF,KAAKuiH,sBACf,CAEA,OADAviH,KAAKq3G,mBACEr3G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKzC,kBAAkB0K,EAAYvuB,GACtE,EAEAogB,EAAOrrF,UAAU+pG,qBAAuB,WACpC,IAAIhnH,EAAOiE,KAAKm2G,aACZ/U,EAAQphG,KAAK83G,sBACbrF,EAAWrR,EAKf,OAJIphG,KAAK42G,uBAAuB,QAC5B52G,KAAK+rG,YACL0G,EAAWzyG,KAAK83G,uBAEb93G,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKlD,gBAAgBjG,EAAOqR,GAC/D,EACApO,EAAOrrF,UAAUojG,uBAAyB,WAClCp8G,KAAK28B,QAAQ83E,gBACbz0G,KAAK8lC,WAAW2tE,EAAW0B,SAASgH,0BAExC,IAEI6G,EAFAjnH,EAAOiE,KAAKm2G,aAGhB,GAFAn2G,KAAKy2G,cAAc,UAEfz2G,KAAK22G,aAAa,WAGlB,GADA32G,KAAK+rG,YACD/rG,KAAK22G,aAAa,YAAa,CAG/B,IAAIpE,EAAcvyG,KAAKy8G,0BAAyB,GAChDuG,EAAoBhjH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKpD,yBAAyBoL,GAC9E,MACSvyG,KAAK22G,aAAa,UAEnBpE,EAAcvyG,KAAK08G,uBAAsB,GAC7CsG,EAAoBhjH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKpD,yBAAyBoL,KAErEvyG,KAAK42G,uBAAuB,UAI7BrE,EAAcvyG,KAAKs3G,qBAAuBt3G,KAAKy8G,0BAAyB,GAAQz8G,KAAK+uG,4BACzFiU,EAAoBhjH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKpD,yBAAyBoL,MAGtEvyG,KAAK42G,uBAAuB,SAC5B52G,KAAK8lC,WAAW2tE,EAAW0B,SAASC,gBAAiBp1G,KAAKg0G,UAAUl5G,OAKpEy3G,EAAcvyG,KAAK6O,MAAM,KAAO7O,KAAK63G,yBACrC73G,KAAK6O,MAAM,KAAO7O,KAAK43G,wBAA0B53G,KAAK+uG,4BAC1D/uG,KAAKq3G,mBACL2L,EAAoBhjH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKpD,yBAAyBoL,UAG7E,GAAIvyG,KAAK6O,MAAM,KAAM,CAGtB,GADA7O,KAAK+rG,aACA/rG,KAAK42G,uBAAuB,QAAS,CACtC,IAAI1lG,EAAUlR,KAAKg0G,UAAUl5G,MAAQ24G,EAAW0B,SAASC,gBAAkB3B,EAAW0B,SAAS2N,kBAC/F9iH,KAAK8lC,WAAW50B,EAASlR,KAAKg0G,UAAUl5G,MAC5C,CACAkF,KAAK+rG,YACL,IAAI9nB,EAAMjkF,KAAKuiH,uBACfviH,KAAKq3G,mBACL2L,EAAoBhjH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKrD,qBAAqBjjB,GAC1E,MACK,GAA4B,IAAxBjkF,KAAKg0G,UAAUhtG,KAA0B,CAG9C,OADIurG,OAAc,EACVvyG,KAAKg0G,UAAUl5G,OACnB,IAAK,MACL,IAAK,QACDy3G,EAAcvyG,KAAKu8G,wBAAwB,CAAEC,OAAO,IACpD,MACJ,IAAK,MACL,IAAK,QACL,IAAK,WACDjK,EAAcvyG,KAAKi8G,yBACnB,MACJ,QACIj8G,KAAKiuG,qBAAqBjuG,KAAKg0G,WAEvCgP,EAAoBhjH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKnD,uBAAuBmL,EAAa,GAAI,MAC7F,MACK,GAAIvyG,KAAKs3G,qBACN/E,EAAcvyG,KAAKy8G,2BACvBuG,EAAoBhjH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKnD,uBAAuBmL,EAAa,GAAI,WAExF,CACD,IAAIC,EAAa,GACb1kG,EAAS,KACTm1G,GAAyB,EAE7B,IADAjjH,KAAKu2G,OAAO,MACJv2G,KAAK6O,MAAM,MACfo0G,EAAyBA,GAA0BjjH,KAAK22G,aAAa,WACrEnE,EAAW7wG,KAAK3B,KAAK+iH,wBAChB/iH,KAAK6O,MAAM,MACZ7O,KAAKu2G,OAAO,KAGpBv2G,KAAKu2G,OAAO,KACRv2G,KAAK42G,uBAAuB,SAG5B52G,KAAK+rG,YACLj+F,EAAS9N,KAAKuiH,uBACdviH,KAAKq3G,oBAEA4L,GAED/xG,EAAUlR,KAAKg0G,UAAUl5G,MAAQ24G,EAAW0B,SAASC,gBAAkB3B,EAAW0B,SAAS2N,kBAC/F9iH,KAAK8lC,WAAW50B,EAASlR,KAAKg0G,UAAUl5G,QAIxCkF,KAAKq3G,mBAET2L,EAAoBhjH,KAAKw1F,SAASz5F,EAAM,IAAIwuG,EAAKnD,uBAAuB,KAAMoL,EAAY1kG,GAC9F,CACA,OAAOk1G,CACX,EACO3e,CACX,CA3jGa,GA4jGbxpG,EAAQwpG,OAASA,CAGZ,EAEA,SAASn/F,EAAQrK,GAEtB,aAKAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAOtDD,EAAQm6G,OANR,SAAgBkO,EAAWhyG,GAEvB,IAAKgyG,EACD,MAAM,IAAIjnH,MAAM,WAAaiV,EAErC,CAIK,EAEA,SAAShM,EAAQrK,GAEtB,aAEAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI84G,EAAgB,WAChB,SAASA,IACL5zG,KAAKw7D,OAAS,GACdx7D,KAAKykG,UAAW,CACpB,CA+CA,OA9CAmP,EAAa56F,UAAUmqG,YAAc,SAAU5jH,GAC3CS,KAAKw7D,OAAO75D,KAAKpC,EACrB,EACAq0G,EAAa56F,UAAU+rF,SAAW,SAAUxlG,GACxC,IAAIS,KAAKykG,SAIL,MAAMllG,EAHNS,KAAKmjH,YAAY5jH,EAKzB,EACAq0G,EAAa56F,UAAUoqG,eAAiB,SAAUl+F,EAAK2mF,GACnD,IAAItsG,EAAQ,IAAItD,MAAMipB,GACtB,IACI,MAAM3lB,CACV,CACA,MAAOiE,GAEC7I,OAAOqL,QAAUrL,OAAOC,iBACxB2E,EAAQ5E,OAAOqL,OAAOxC,GACtB7I,OAAOC,eAAe2E,EAAO,SAAU,CAAEzE,MAAO+wG,IAExD,CAEA,OAAOtsG,CACX,EACAq0G,EAAa56F,UAAUi8F,YAAc,SAAUhpG,EAAOu1B,EAAM6hF,EAAKtxD,GAC7D,IAAI7sC,EAAM,QAAUsc,EAAO,KAAOuwB,EAC9BxyD,EAAQS,KAAKojH,eAAel+F,EAAKm+F,GAIrC,OAHA9jH,EAAM0M,MAAQA,EACd1M,EAAMosG,WAAanqE,EACnBjiC,EAAMwyD,YAAcA,EACbxyD,CACX,EACAq0G,EAAa56F,UAAU8sB,WAAa,SAAU75B,EAAOu1B,EAAM6hF,EAAKtxD,GAC5D,MAAM/xD,KAAKi1G,YAAYhpG,EAAOu1B,EAAM6hF,EAAKtxD,EAC7C,EACA6hD,EAAa56F,UAAU81F,cAAgB,SAAU7iG,EAAOu1B,EAAM6hF,EAAKtxD,GAC/D,IAAIxyD,EAAQS,KAAKi1G,YAAYhpG,EAAOu1B,EAAM6hF,EAAKtxD,GAC/C,IAAI/xD,KAAKykG,SAIL,MAAMllG,EAHNS,KAAKmjH,YAAY5jH,EAKzB,EACOq0G,CACX,CApDmB,GAqDnB/4G,EAAQ+4G,aAAeA,CAGlB,EAEA,SAAS1uG,EAAQrK,GAEtB,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAEtDD,EAAQs6G,SAAW,CACfsM,eAAgB,6CAChBC,eAAgB,gDAChBC,uBAAwB,wDACxBI,mBAAoB,+CACpBE,yBAA0B,2CAC1BhF,8BAA+B,wCAC/B8D,qBAAsB,qBACtBV,iBAAkB,uBAClB6B,qBAAsB,wCACtB3I,uBAAwB,gEACxBmF,uBAAwB,2DACxBsB,yBAA0B,4DAC1Bb,aAAc,0BACdF,gBAAiB,6BACjB9C,yBAA0B,mBAC1BE,yBAA0B,mBAC1BmF,6BAA8B,4EAC9BnC,cAAe,2BACfiE,2BAA4B,8CAC5BC,yBAA0B,sCAC1BxI,uBAAwB,uCACxB6D,kBAAmB,mCACnBC,oBAAqB,qCACrB2D,uBAAwB,mBACxBgB,cAAe,6BACf9F,oBAAqB,8CACrBoF,kBAAmB,mBACnBjD,yBAA0B,mDAC1BK,kBAAmB,8BACnB2C,yBAA0B,mBAC1BpC,iBAAkB,qCAClBO,4BAA6B,+CAC7BjB,cAAe,oCACfiC,gBAAiB,uDACjB1B,oBAAqB,6DACrBpF,aAAc,sDACdgD,eAAgB,qFAChBkD,mBAAoB,4DACpBpF,oBAAqB,gEACrBhB,iBAAkB,oFAClBF,gBAAiB,mFACjByE,eAAgB,oDAChB9H,mBAAoB,iDACpBqE,gBAAiB,8DACjBgF,gBAAiB,iEACjBjL,mBAAoB,6CACpBmH,cAAe,4DACfyG,qBAAsB,sDACtBpO,cAAe,0BACfC,qBAAsB,wBACtBC,iBAAkB,oBAClBI,mBAAoB,2BACpBH,iBAAkB,oBAClBC,mBAAoB,sBACpBL,gBAAiB,sBACjBsO,uBAAwB,2BACxB1E,aAAc,uBACd2E,mBAAoB,wCAInB,EAEA,SAASz+G,EAAQrK,EAAS,GAE/B,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIy4G,EAAW,EAAoB,GAC/BnJ,EAAc,EAAoB,GAClCqJ,EAAa,EAAoB,IACrC,SAASmQ,EAAShX,GACd,MAAO,mBAAmB7/F,QAAQ6/F,EAAGh9F,cACzC,CACA,SAASi0G,EAAWjX,GAChB,MAAO,WAAW7/F,QAAQ6/F,EAC9B,CACA,IAAIiH,EAAW,WACX,SAASA,EAAQ36F,EAAMO,GACnBzZ,KAAK8N,OAASoL,EACdlZ,KAAKk9B,aAAezjB,EACpBzZ,KAAK8zG,cAAe,EACpB9zG,KAAKikG,UAAW,EAChBjkG,KAAKoG,OAAS8S,EAAK9S,OACnBpG,KAAKiM,MAAQ,EACbjM,KAAK2rG,WAAczyF,EAAK9S,OAAS,EAAK,EAAI,EAC1CpG,KAAK4rG,UAAY,EACjB5rG,KAAK8jH,WAAa,EACtB,CAgmCA,OA/lCAjQ,EAAQ76F,UAAU80F,UAAY,WAC1B,MAAO,CACH7hG,MAAOjM,KAAKiM,MACZ0/F,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAExB,EACAiI,EAAQ76F,UAAUg1F,aAAe,SAAU3jE,GACvCrqC,KAAKiM,MAAQo+B,EAAMp+B,MACnBjM,KAAK2rG,WAAathE,EAAMshE,WACxB3rG,KAAK4rG,UAAYvhE,EAAMuhE,SAC3B,EACAiI,EAAQ76F,UAAU2zF,IAAM,WACpB,OAAO3sG,KAAKiM,OAASjM,KAAKoG,MAC9B,EACAytG,EAAQ76F,UAAUi1F,qBAAuB,SAAU/8F,GAE/C,YADgB,IAAZA,IAAsBA,EAAUuiG,EAAW0B,SAASuO,wBACjD1jH,KAAKk9B,aAAa4I,WAAW9lC,KAAKiM,MAAOjM,KAAK2rG,WAAY3rG,KAAKiM,MAAQjM,KAAK4rG,UAAY,EAAG16F,EACtG,EACA2iG,EAAQ76F,UAAU+8F,wBAA0B,SAAU7kG,QAClC,IAAZA,IAAsBA,EAAUuiG,EAAW0B,SAASuO,wBACxD1jH,KAAKk9B,aAAa4xE,cAAc9uG,KAAKiM,MAAOjM,KAAK2rG,WAAY3rG,KAAKiM,MAAQjM,KAAK4rG,UAAY,EAAG16F,EAClG,EAEA2iG,EAAQ76F,UAAU+qG,sBAAwB,SAAUh2G,GAChD,IACIoN,EAAO4qF,EADPvB,EAAW,GAaf,IAXIxkG,KAAK8zG,eACLtP,EAAW,GACXrpF,EAAQnb,KAAKiM,MAAQ8B,EACrBg4F,EAAM,CACF5qF,MAAO,CACHqmB,KAAMxhC,KAAK2rG,WACXE,OAAQ7rG,KAAKiM,MAAQjM,KAAK4rG,UAAY79F,GAE1CqN,IAAK,CAAC,KAGNpb,KAAK2sG,OAAO,CAChB,IAAIC,EAAK5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,OAErC,KADEjM,KAAKiM,MACHm+F,EAAYyC,UAAUe,iBAAiBhB,GAAK,CAC5C,GAAI5sG,KAAK8zG,aAAc,CACnB/N,EAAI3qF,IAAM,CACNomB,KAAMxhC,KAAK2rG,WACXE,OAAQ7rG,KAAKiM,MAAQjM,KAAK4rG,UAAY,GAE1C,IAAIjtG,EAAQ,CACRq3G,WAAW,EACXtpG,MAAO,CAACyO,EAAQpN,EAAQ/N,KAAKiM,MAAQ,GACrC3E,MAAO,CAAC6T,EAAOnb,KAAKiM,MAAQ,GAC5B85F,IAAKA,GAETvB,EAAS7iG,KAAKhD,EAClB,CAMA,OALW,KAAPiuG,GAAoD,KAAvC5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,UACvCjM,KAAKiM,QAETjM,KAAK2rG,WACP3rG,KAAK4rG,UAAY5rG,KAAKiM,MACfu4F,CACX,CACJ,CAcA,OAbIxkG,KAAK8zG,eACL/N,EAAI3qF,IAAM,CACNomB,KAAMxhC,KAAK2rG,WACXE,OAAQ7rG,KAAKiM,MAAQjM,KAAK4rG,WAE1BjtG,EAAQ,CACRq3G,WAAW,EACXtpG,MAAO,CAACyO,EAAQpN,EAAQ/N,KAAKiM,OAC7B3E,MAAO,CAAC6T,EAAOnb,KAAKiM,OACpB85F,IAAKA,GAETvB,EAAS7iG,KAAKhD,IAEX6lG,CACX,EACAqP,EAAQ76F,UAAUgrG,qBAAuB,WACrC,IACI7oG,EAAO4qF,EADPvB,EAAW,GAaf,IAXIxkG,KAAK8zG,eACLtP,EAAW,GACXrpF,EAAQnb,KAAKiM,MAAQ,EACrB85F,EAAM,CACF5qF,MAAO,CACHqmB,KAAMxhC,KAAK2rG,WACXE,OAAQ7rG,KAAKiM,MAAQjM,KAAK4rG,UAAY,GAE1CxwF,IAAK,CAAC,KAGNpb,KAAK2sG,OAAO,CAChB,IAAIC,EAAK5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,OACrC,GAAIm+F,EAAYyC,UAAUe,iBAAiBhB,GAC5B,KAAPA,GAA0D,KAA3C5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,MAAQ,MACjDjM,KAAKiM,QAETjM,KAAK2rG,aACL3rG,KAAKiM,MACPjM,KAAK4rG,UAAY5rG,KAAKiM,WAErB,GAAW,KAAP2gG,EAAa,CAElB,GAA+C,KAA3C5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,MAAQ,GAAa,CAEjD,GADAjM,KAAKiM,OAAS,EACVjM,KAAK8zG,aAAc,CACnB/N,EAAI3qF,IAAM,CACNomB,KAAMxhC,KAAK2rG,WACXE,OAAQ7rG,KAAKiM,MAAQjM,KAAK4rG,WAE9B,IAAIjtG,EAAQ,CACRq3G,WAAW,EACXtpG,MAAO,CAACyO,EAAQ,EAAGnb,KAAKiM,MAAQ,GAChC3E,MAAO,CAAC6T,EAAOnb,KAAKiM,OACpB85F,IAAKA,GAETvB,EAAS7iG,KAAKhD,EAClB,CACA,OAAO6lG,CACX,GACExkG,KAAKiM,KACX,OAEMjM,KAAKiM,KAEf,CAgBA,OAdIjM,KAAK8zG,eACL/N,EAAI3qF,IAAM,CACNomB,KAAMxhC,KAAK2rG,WACXE,OAAQ7rG,KAAKiM,MAAQjM,KAAK4rG,WAE1BjtG,EAAQ,CACRq3G,WAAW,EACXtpG,MAAO,CAACyO,EAAQ,EAAGnb,KAAKiM,OACxB3E,MAAO,CAAC6T,EAAOnb,KAAKiM,OACpB85F,IAAKA,GAETvB,EAAS7iG,KAAKhD,IAElBqB,KAAK+1G,0BACEvR,CACX,EACAqP,EAAQ76F,UAAU+0F,aAAe,WAC7B,IAAIvJ,EACAxkG,KAAK8zG,eACLtP,EAAW,IAGf,IADA,IAAIrpF,EAAwB,IAAfnb,KAAKiM,OACVjM,KAAK2sG,OAAO,CAChB,IAAIC,EAAK5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,OACrC,GAAIm+F,EAAYyC,UAAUqE,aAAatE,KACjC5sG,KAAKiM,WAEN,GAAIm+F,EAAYyC,UAAUe,iBAAiBhB,KAC1C5sG,KAAKiM,MACI,KAAP2gG,GAAsD,KAAvC5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,UACzCjM,KAAKiM,QAETjM,KAAK2rG,WACP3rG,KAAK4rG,UAAY5rG,KAAKiM,MACtBkP,GAAQ,OAEP,GAAW,KAAPyxF,EAEL,GAAW,MADXA,EAAK5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,MAAQ,IACxB,CACbjM,KAAKiM,OAAS,EACd,IAAIi4D,EAAUlkE,KAAK+jH,sBAAsB,GACrC/jH,KAAK8zG,eACLtP,EAAWA,EAASp/F,OAAO8+D,IAE/B/oD,GAAQ,CACZ,KACK,IAAW,KAAPyxF,EAQL,MAPA5sG,KAAKiM,OAAS,EACVi4D,EAAUlkE,KAAKgkH,uBACfhkH,KAAK8zG,eACLtP,EAAWA,EAASp/F,OAAO8+D,GAKnC,MAEC,GAAI/oD,GAAgB,KAAPyxF,EAAa,CAE3B,GAAgD,KAA3C5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,MAAQ,IAA4D,KAA3CjM,KAAK8N,OAAO2F,WAAWzT,KAAKiM,MAAQ,GAS1F,MAPAjM,KAAKiM,OAAS,EACVi4D,EAAUlkE,KAAK+jH,sBAAsB,GACrC/jH,KAAK8zG,eACLtP,EAAWA,EAASp/F,OAAO8+D,GAMvC,KACK,IAAW,KAAP0oC,GAAgB5sG,KAAKikG,SAa1B,MAZA,GAA0D,QAAtDjkG,KAAK8N,OAAOpB,MAAM1M,KAAKiM,MAAQ,EAAGjM,KAAKiM,MAAQ,GAQ/C,MAPAjM,KAAKiM,OAAS,EACVi4D,EAAUlkE,KAAK+jH,sBAAsB,GACrC/jH,KAAK8zG,eACLtP,EAAWA,EAASp/F,OAAO8+D,GASvC,CACJ,CACA,OAAOsgC,CACX,EAEAqP,EAAQ76F,UAAU08F,qBAAuB,SAAU3+C,GAC/C,OAAQA,GACJ,IAAK,OACL,IAAK,SACL,IAAK,SACL,IAAK,QACD,OAAO,EACX,QACI,OAAO,EAEnB,EACA88C,EAAQ76F,UAAU48F,yBAA2B,SAAU7+C,GACnD,OAAQA,GACJ,IAAK,aACL,IAAK,YACL,IAAK,UACL,IAAK,UACL,IAAK,YACL,IAAK,SACL,IAAK,SACL,IAAK,QACL,IAAK,MACD,OAAO,EACX,QACI,OAAO,EAEnB,EACA88C,EAAQ76F,UAAU6hG,iBAAmB,SAAU9jD,GAC3C,MAAc,SAAPA,GAAwB,cAAPA,CAC5B,EAEA88C,EAAQ76F,UAAUirG,UAAY,SAAUltD,GACpC,OAAQA,EAAG3wD,QACP,KAAK,EACD,MAAe,OAAP2wD,GAAwB,OAAPA,GAAwB,OAAPA,EAC9C,KAAK,EACD,MAAe,QAAPA,GAAyB,QAAPA,GAAyB,QAAPA,GAChC,QAAPA,GAAyB,QAAPA,EAC3B,KAAK,EACD,MAAe,SAAPA,GAA0B,SAAPA,GAA0B,SAAPA,GAClC,SAAPA,GAA0B,SAAPA,GAA0B,SAAPA,EAC/C,KAAK,EACD,MAAe,UAAPA,GAA2B,UAAPA,GAA2B,UAAPA,GACpC,UAAPA,GAA2B,UAAPA,GAA2B,UAAPA,GACjC,UAAPA,GAA2B,UAAPA,EAC7B,KAAK,EACD,MAAe,WAAPA,GAA4B,WAAPA,GAA4B,WAAPA,GACtC,WAAPA,GAA4B,WAAPA,GAA4B,WAAPA,EACnD,KAAK,EACD,MAAe,YAAPA,GAA6B,YAAPA,GAA6B,YAAPA,EACxD,KAAK,EACD,MAAe,aAAPA,GAA8B,aAAPA,GAA8B,aAAPA,EAC1D,KAAK,GACD,MAAe,eAAPA,EACZ,QACI,OAAO,EAEnB,EACA88C,EAAQ76F,UAAUkrG,YAAc,SAAU34G,GACtC,IAAI2hG,EAAKltG,KAAK8N,OAAO2F,WAAWlI,GAChC,GAAI2hG,GAAM,OAAUA,GAAM,MAAQ,CAC9B,IAAIiX,EAASnkH,KAAK8N,OAAO2F,WAAWlI,EAAI,GACpC44G,GAAU,OAAUA,GAAU,QAE9BjX,EAAwB,MADZA,EACE,OAAkBiX,EAAS,MAAS,MAE1D,CACA,OAAOjX,CACX,EACA2G,EAAQ76F,UAAUorG,cAAgB,SAAUv9G,GAGxC,IAFA,IAAIuM,EAAkB,MAAXvM,EAAkB,EAAI,EAC7BqS,EAAO,EACF3N,EAAI,EAAGA,EAAI6H,IAAO7H,EAAG,CAC1B,GAAKvL,KAAK2sG,QAASvC,EAAYyC,UAAUE,WAAW/sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,QAI5E,OAAO,KAHPiN,EAAc,GAAPA,EAAY0qG,EAAS5jH,KAAK8N,OAAO9N,KAAKiM,SAKrD,CACA,OAAO8yB,OAAOI,aAAajmB,EAC/B,EACA26F,EAAQ76F,UAAUqrG,2BAA6B,WAC3C,IAAIzX,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,OACtBiN,EAAO,EAKX,IAHW,MAAP0zF,GACA5sG,KAAKiuG,wBAEDjuG,KAAK2sG,QACTC,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,SACjBm+F,EAAYyC,UAAUE,WAAWH,EAAGn5F,WAAW,MAGpDyF,EAAc,GAAPA,EAAY0qG,EAAShX,GAKhC,OAHI1zF,EAAO,SAAmB,MAAP0zF,IACnB5sG,KAAKiuG,uBAEF7D,EAAYyC,UAAUoE,cAAc/3F,EAC/C,EACA26F,EAAQ76F,UAAUsrG,cAAgB,WAE9B,IADA,IAAInpG,EAAQnb,KAAKiM,SACTjM,KAAK2sG,OAAO,CAChB,IAAIC,EAAK5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,OACrC,GAAW,KAAP2gG,EAGA,OADA5sG,KAAKiM,MAAQkP,EACNnb,KAAKukH,uBAEX,GAAI3X,GAAM,OAAUA,EAAK,MAG1B,OADA5sG,KAAKiM,MAAQkP,EACNnb,KAAKukH,uBAEhB,IAAIna,EAAYyC,UAAUS,iBAAiBV,GAIvC,QAHE5sG,KAAKiM,KAKf,CACA,OAAOjM,KAAK8N,OAAOpB,MAAMyO,EAAOnb,KAAKiM,MACzC,EACA4nG,EAAQ76F,UAAUurG,qBAAuB,WACrC,IAII3X,EAJAM,EAAKltG,KAAKkkH,YAAYlkH,KAAKiM,OAC3B8qD,EAAKqzC,EAAYyC,UAAUoE,cAAc/D,GAqB7C,IApBAltG,KAAKiM,OAAS8qD,EAAG3wD,OAGN,KAAP8mG,IAC2C,MAAvCltG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,QAC5BjM,KAAKiuG,yBAEPjuG,KAAKiM,MACyB,MAA5BjM,KAAK8N,OAAO9N,KAAKiM,UACfjM,KAAKiM,MACP2gG,EAAK5sG,KAAKqkH,8BAIC,QADXzX,EAAK5sG,KAAKokH,cAAc,OACE,OAAPxX,GAAgBxC,EAAYyC,UAAUQ,kBAAkBT,EAAGn5F,WAAW,KACrFzT,KAAKiuG,uBAGbl3C,EAAK61C,IAED5sG,KAAK2sG,QACTO,EAAKltG,KAAKkkH,YAAYlkH,KAAKiM,OACtBm+F,EAAYyC,UAAUS,iBAAiBJ,KAI5Cn2C,GADA61C,EAAKxC,EAAYyC,UAAUoE,cAAc/D,GAEzCltG,KAAKiM,OAAS2gG,EAAGxmG,OAEN,KAAP8mG,IACAn2C,EAAKA,EAAG5vB,OAAO,EAAG4vB,EAAG3wD,OAAS,GACa,MAAvCpG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,QAC5BjM,KAAKiuG,yBAEPjuG,KAAKiM,MACyB,MAA5BjM,KAAK8N,OAAO9N,KAAKiM,UACfjM,KAAKiM,MACP2gG,EAAK5sG,KAAKqkH,8BAIC,QADXzX,EAAK5sG,KAAKokH,cAAc,OACE,OAAPxX,GAAgBxC,EAAYyC,UAAUS,iBAAiBV,EAAGn5F,WAAW,KACpFzT,KAAKiuG,uBAGbl3C,GAAM61C,GAGd,OAAO71C,CACX,EACA88C,EAAQ76F,UAAUwrG,eAAiB,SAAU5X,GAEzC,IAAI4K,EAAgB,MAAP5K,EACT1zF,EAAO2qG,EAAWjX,GAUtB,OATK5sG,KAAK2sG,OAASvC,EAAYyC,UAAUsE,aAAanxG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,UAC9EurG,GAAQ,EACRt+F,EAAc,EAAPA,EAAW2qG,EAAW7jH,KAAK8N,OAAO9N,KAAKiM,UAG1C,OAAOc,QAAQ6/F,IAAO,IAAM5sG,KAAK2sG,OAASvC,EAAYyC,UAAUsE,aAAanxG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,UACzGiN,EAAc,EAAPA,EAAW2qG,EAAW7jH,KAAK8N,OAAO9N,KAAKiM,YAG/C,CACHiN,KAAMA,EACNs+F,MAAOA,EAEf,EAEA3D,EAAQ76F,UAAUyrG,eAAiB,WAC/B,IAAIz9G,EACAmU,EAAQnb,KAAKiM,MAEb8qD,EAAwC,KAAlC/2D,KAAK8N,OAAO2F,WAAW0H,GAAmBnb,KAAKukH,uBAAyBvkH,KAAKskH,gBAkBvF,GAAa,IAdTt9G,EADc,IAAd+vD,EAAG3wD,OACI,EAEFpG,KAAKikH,UAAUltD,GACb,EAEK,SAAPA,EACE,EAEK,SAAPA,GAAwB,UAAPA,EACf,EAGA,IAEyB57C,EAAQ47C,EAAG3wD,SAAWpG,KAAKiM,MAAQ,CACnE,IAAIy4G,EAAU1kH,KAAKiM,MACnBjM,KAAKiM,MAAQkP,EACbnb,KAAK+1G,wBAAwBtC,EAAW0B,SAASmO,4BACjDtjH,KAAKiM,MAAQy4G,CACjB,CACA,MAAO,CACH19G,KAAMA,EACNlM,MAAOi8D,EACP40C,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOA,EACPC,IAAKpb,KAAKiM,MAElB,EAEA4nG,EAAQ76F,UAAU2rG,eAAiB,WAC/B,IAAIxpG,EAAQnb,KAAKiM,MAEb+I,EAAMhV,KAAK8N,OAAO9N,KAAKiM,OAC3B,OAAQ+I,GACJ,IAAK,IACL,IAAK,IACW,MAARA,GACAhV,KAAK8jH,WAAWniH,KAAK,OAEvB3B,KAAKiM,MACP,MACJ,IAAK,MACCjM,KAAKiM,MACyB,MAA5BjM,KAAK8N,OAAO9N,KAAKiM,QAAkD,MAAhCjM,KAAK8N,OAAO9N,KAAKiM,MAAQ,KAE5DjM,KAAKiM,OAAS,EACd+I,EAAM,OAEV,MACJ,IAAK,MACChV,KAAKiM,MACPjM,KAAK8jH,WAAW74G,MAChB,MACJ,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,MACCjL,KAAKiM,MACP,MACJ,QAGgB,UADZ+I,EAAMhV,KAAK8N,OAAOq5B,OAAOnnC,KAAKiM,MAAO,IAEjCjM,KAAKiM,OAAS,EAKF,SADZ+I,EAAMA,EAAImyB,OAAO,EAAG,KACS,QAARnyB,GAAyB,QAARA,GAC1B,QAARA,GAAyB,QAARA,GAAyB,QAARA,EAClChV,KAAKiM,OAAS,EAKF,QADZ+I,EAAMA,EAAImyB,OAAO,EAAG,KACQ,OAARnyB,GAAwB,OAARA,GAAwB,OAARA,GACxC,OAARA,GAAwB,OAARA,GAAwB,OAARA,GAAwB,OAARA,GACxC,OAARA,GAAwB,OAARA,GAAwB,OAARA,GAAwB,OAARA,GACxC,OAARA,GAAwB,OAARA,GAAwB,OAARA,GAAwB,OAARA,GACxC,OAARA,GAAwB,OAARA,GAAwB,OAARA,GAAwB,OAARA,EAChDhV,KAAKiM,OAAS,GAId+I,EAAMhV,KAAK8N,OAAO9N,KAAKiM,OACnB,eAAec,QAAQiI,IAAQ,KAC7BhV,KAAKiM,OAS/B,OAHIjM,KAAKiM,QAAUkP,GACfnb,KAAKiuG,uBAEF,CACHjnG,KAAM,EACNlM,MAAOka,EACP22F,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOA,EACPC,IAAKpb,KAAKiM,MAElB,EAEA4nG,EAAQ76F,UAAU4rG,eAAiB,SAAUzpG,GAEzC,IADA,IAAIhO,EAAM,IACFnN,KAAK2sG,OACJvC,EAAYyC,UAAUE,WAAW/sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,SAGlEkB,GAAOnN,KAAK8N,OAAO9N,KAAKiM,SAQ5B,OANmB,IAAfkB,EAAI/G,QACJpG,KAAKiuG,uBAEL7D,EAAYyC,UAAUQ,kBAAkBrtG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,SACpEjM,KAAKiuG,uBAEF,CACHjnG,KAAM,EACNlM,MAAOsB,SAAS,KAAO+Q,EAAK,IAC5Bw+F,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOA,EACPC,IAAKpb,KAAKiM,MAElB,EACA4nG,EAAQ76F,UAAU6rG,kBAAoB,SAAU1pG,GAG5C,IAFA,IACIyxF,EADAz/F,EAAM,IAEFnN,KAAK2sG,QAEE,OADXC,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,SACG,MAAP2gG,IAGlBz/F,GAAOnN,KAAK8N,OAAO9N,KAAKiM,SAa5B,OAXmB,IAAfkB,EAAI/G,QAEJpG,KAAKiuG,uBAEJjuG,KAAK2sG,QACNC,EAAK5sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,QAE7Bm+F,EAAYyC,UAAUQ,kBAAkBT,IAAOxC,EAAYyC,UAAUC,eAAeF,KACpF5sG,KAAKiuG,wBAGN,CACHjnG,KAAM,EACNlM,MAAOsB,SAAS+Q,EAAK,GACrBw+F,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOA,EACPC,IAAKpb,KAAKiM,MAElB,EACA4nG,EAAQ76F,UAAU8rG,iBAAmB,SAAUj+G,EAAQsU,GACnD,IAAIhO,EAAM,GACNqqG,GAAQ,EAQZ,IAPIpN,EAAYyC,UAAUsE,aAAatqG,EAAO4M,WAAW,KACrD+jG,GAAQ,EACRrqG,EAAM,IAAMnN,KAAK8N,OAAO9N,KAAKiM,YAG3BjM,KAAKiM,OAEHjM,KAAK2sG,OACJvC,EAAYyC,UAAUsE,aAAanxG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,SAGpEkB,GAAOnN,KAAK8N,OAAO9N,KAAKiM,SAS5B,OAPKurG,GAAwB,IAAfrqG,EAAI/G,QAEdpG,KAAKiuG,wBAEL7D,EAAYyC,UAAUQ,kBAAkBrtG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,SAAWm+F,EAAYyC,UAAUC,eAAe9sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,UAChJjM,KAAKiuG,uBAEF,CACHjnG,KAAM,EACNlM,MAAOsB,SAAS+Q,EAAK,GACrBqqG,MAAOA,EACP7L,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOA,EACPC,IAAKpb,KAAKiM,MAElB,EACA4nG,EAAQ76F,UAAU+rG,uBAAyB,WAGvC,IAAK,IAAIx5G,EAAIvL,KAAKiM,MAAQ,EAAGV,EAAIvL,KAAKoG,SAAUmF,EAAG,CAC/C,IAAIqhG,EAAK5sG,KAAK8N,OAAOvC,GACrB,GAAW,MAAPqhG,GAAqB,MAAPA,EACd,OAAO,EAEX,IAAKxC,EAAYyC,UAAUsE,aAAavE,EAAGn5F,WAAW,IAClD,OAAO,CAEf,CACA,OAAO,CACX,EACAogG,EAAQ76F,UAAUgsG,mBAAqB,WACnC,IAAI7pG,EAAQnb,KAAKiM,MACb2gG,EAAK5sG,KAAK8N,OAAOqN,GACrBo4F,EAASyB,OAAO5K,EAAYyC,UAAUC,eAAeF,EAAGn5F,WAAW,KAAe,MAAPm5F,EAAa,sEACxF,IAAIz/F,EAAM,GACV,GAAW,MAAPy/F,EAAY,CAOZ,GANAz/F,EAAMnN,KAAK8N,OAAO9N,KAAKiM,SACvB2gG,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,OAKV,MAARkB,EAAa,CACb,GAAW,MAAPy/F,GAAqB,MAAPA,EAEd,QADE5sG,KAAKiM,MACAjM,KAAK4kH,eAAezpG,GAE/B,GAAW,MAAPyxF,GAAqB,MAAPA,EAEd,QADE5sG,KAAKiM,MACAjM,KAAK6kH,kBAAkB1pG,GAElC,GAAW,MAAPyxF,GAAqB,MAAPA,EACd,OAAO5sG,KAAK8kH,iBAAiBlY,EAAIzxF,GAErC,GAAIyxF,GAAMxC,EAAYyC,UAAUsE,aAAavE,EAAGn5F,WAAW,KACnDzT,KAAK+kH,yBACL,OAAO/kH,KAAK8kH,iBAAiBlY,EAAIzxF,EAG7C,CACA,KAAOivF,EAAYyC,UAAUC,eAAe9sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,SACpEkB,GAAOnN,KAAK8N,OAAO9N,KAAKiM,SAE5B2gG,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,MAC1B,CACA,GAAW,MAAP2gG,EAAY,CAEZ,IADAz/F,GAAOnN,KAAK8N,OAAO9N,KAAKiM,SACjBm+F,EAAYyC,UAAUC,eAAe9sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,SACpEkB,GAAOnN,KAAK8N,OAAO9N,KAAKiM,SAE5B2gG,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,MAC1B,CACA,GAAW,MAAP2gG,GAAqB,MAAPA,EAMd,GALAz/F,GAAOnN,KAAK8N,OAAO9N,KAAKiM,SAEb,OADX2gG,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,SACG,MAAP2gG,IACdz/F,GAAOnN,KAAK8N,OAAO9N,KAAKiM,UAExBm+F,EAAYyC,UAAUC,eAAe9sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,QACjE,KAAOm+F,EAAYyC,UAAUC,eAAe9sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,SACpEkB,GAAOnN,KAAK8N,OAAO9N,KAAKiM,cAI5BjM,KAAKiuG,uBAMb,OAHI7D,EAAYyC,UAAUQ,kBAAkBrtG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,SACpEjM,KAAKiuG,uBAEF,CACHjnG,KAAM,EACNlM,MAAO8wC,WAAWz+B,GAClBw+F,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOA,EACPC,IAAKpb,KAAKiM,MAElB,EAEA4nG,EAAQ76F,UAAUisG,kBAAoB,WAClC,IAAI9pG,EAAQnb,KAAKiM,MACbqgG,EAAQtsG,KAAK8N,OAAOqN,GACxBo4F,EAASyB,OAAkB,MAAV1I,GAA4B,MAAVA,EAAgB,6CACjDtsG,KAAKiM,MAGP,IAFA,IAAIurG,GAAQ,EACRxiG,EAAM,IACFhV,KAAK2sG,OAAO,CAChB,IAAIC,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,SAC1B,GAAI2gG,IAAON,EAAO,CACdA,EAAQ,GACR,KACJ,CACK,GAAW,OAAPM,EAEL,IADAA,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,WACVm+F,EAAYyC,UAAUe,iBAAiBhB,EAAGn5F,WAAW,MA0D3DzT,KAAK2rG,WACI,OAAPiB,GAA2C,OAA5B5sG,KAAK8N,OAAO9N,KAAKiM,UAC9BjM,KAAKiM,MAEXjM,KAAK4rG,UAAY5rG,KAAKiM,WA7DtB,OAAQ2gG,GACJ,IAAK,IACD,GAAgC,MAA5B5sG,KAAK8N,OAAO9N,KAAKiM,SACfjM,KAAKiM,MACP+I,GAAOhV,KAAKqkH,iCAEX,CACD,IAAIa,EAAcllH,KAAKokH,cAAcxX,GACjB,OAAhBsY,GACAllH,KAAKiuG,uBAETj5F,GAAOkwG,CACX,CACA,MACJ,IAAK,IACD,IAAIC,EAAYnlH,KAAKokH,cAAcxX,GACjB,OAAduY,GACAnlH,KAAKiuG,qBAAqBwF,EAAW0B,SAASoO,0BAElDvuG,GAAOmwG,EACP,MACJ,IAAK,IACDnwG,GAAO,KACP,MACJ,IAAK,IACDA,GAAO,KACP,MACJ,IAAK,IACDA,GAAO,KACP,MACJ,IAAK,IACDA,GAAO,KACP,MACJ,IAAK,IACDA,GAAO,KACP,MACJ,IAAK,IACDA,GAAO,KACP,MACJ,IAAK,IACL,IAAK,IACDA,GAAO43F,EACP5sG,KAAK+1G,0BACL,MACJ,QACI,GAAInJ,GAAMxC,EAAYyC,UAAUsE,aAAavE,EAAGn5F,WAAW,IAAK,CAC5D,IAAI2xG,EAAWplH,KAAKwkH,eAAe5X,GACnC4K,EAAQ4N,EAAS5N,OAASA,EAC1BxiG,GAAO+pB,OAAOI,aAAaimF,EAASlsG,KACxC,MAEIlE,GAAO43F,MAatB,IAAIxC,EAAYyC,UAAUe,iBAAiBhB,EAAGn5F,WAAW,IAC1D,MAGAuB,GAAO43F,CACX,CACJ,CAKA,MAJc,KAAVN,IACAtsG,KAAKiM,MAAQkP,EACbnb,KAAKiuG,wBAEF,CACHjnG,KAAM,EACNlM,MAAOka,EACPwiG,MAAOA,EACP7L,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOA,EACPC,IAAKpb,KAAKiM,MAElB,EAEA4nG,EAAQ76F,UAAUqsG,aAAe,WAC7B,IAAI5L,EAAS,GACTjN,GAAa,EACbrxF,EAAQnb,KAAKiM,MACbkc,EAA+B,MAAvBnoB,KAAK8N,OAAOqN,GACpBw9B,GAAO,EACP2sE,EAAY,EAEhB,MADEtlH,KAAKiM,OACCjM,KAAK2sG,OAAO,CAChB,IAAIC,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,SAC1B,GAAW,MAAP2gG,EAAY,CACZ0Y,EAAY,EACZ3sE,GAAO,EACP6zD,GAAa,EACb,KACJ,CACK,GAAW,MAAPI,EAAY,CACjB,GAAgC,MAA5B5sG,KAAK8N,OAAO9N,KAAKiM,OAAgB,CACjCjM,KAAK8jH,WAAWniH,KAAK,QACnB3B,KAAKiM,MACPugG,GAAa,EACb,KACJ,CACAiN,GAAU7M,CACd,MACK,GAAW,OAAPA,EAEL,GADAA,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,SACjBm+F,EAAYyC,UAAUe,iBAAiBhB,EAAGn5F,WAAW,MA+DpDzT,KAAK2rG,WACI,OAAPiB,GAA2C,OAA5B5sG,KAAK8N,OAAO9N,KAAKiM,UAC9BjM,KAAKiM,MAEXjM,KAAK4rG,UAAY5rG,KAAKiM,WAlEtB,OAAQ2gG,GACJ,IAAK,IACD6M,GAAU,KACV,MACJ,IAAK,IACDA,GAAU,KACV,MACJ,IAAK,IACDA,GAAU,KACV,MACJ,IAAK,IACD,GAAgC,MAA5Bz5G,KAAK8N,OAAO9N,KAAKiM,SACfjM,KAAKiM,MACPwtG,GAAUz5G,KAAKqkH,iCAEd,CACD,IAAIK,EAAU1kH,KAAKiM,MACfs5G,EAAcvlH,KAAKokH,cAAcxX,GACjB,OAAhB2Y,EACA9L,GAAU8L,GAGVvlH,KAAKiM,MAAQy4G,EACbjL,GAAU7M,EAElB,CACA,MACJ,IAAK,IACD,IAAIuY,EAAYnlH,KAAKokH,cAAcxX,GACjB,OAAduY,GACAnlH,KAAKiuG,qBAAqBwF,EAAW0B,SAASoO,0BAElD9J,GAAU0L,EACV,MACJ,IAAK,IACD1L,GAAU,KACV,MACJ,IAAK,IACDA,GAAU,KACV,MACJ,IAAK,IACDA,GAAU,KACV,MACJ,QACe,MAAP7M,GACIxC,EAAYyC,UAAUC,eAAe9sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,SAEjEjM,KAAKiuG,qBAAqBwF,EAAW0B,SAASsO,sBAElDhK,GAAU,MAELrP,EAAYyC,UAAUsE,aAAavE,EAAGn5F,WAAW,IAEtDzT,KAAKiuG,qBAAqBwF,EAAW0B,SAASsO,sBAG9ChK,GAAU7M,OAarBxC,EAAYyC,UAAUe,iBAAiBhB,EAAGn5F,WAAW,OACxDzT,KAAK2rG,WACI,OAAPiB,GAA2C,OAA5B5sG,KAAK8N,OAAO9N,KAAKiM,UAC9BjM,KAAKiM,MAEXjM,KAAK4rG,UAAY5rG,KAAKiM,MACtBwtG,GAAU,MAGVA,GAAU7M,CAElB,CAOA,OANKJ,GACDxsG,KAAKiuG,uBAEJ9lF,GACDnoB,KAAK8jH,WAAW74G,MAEb,CACHjE,KAAM,GACNlM,MAAOkF,KAAK8N,OAAOpB,MAAMyO,EAAQ,EAAGnb,KAAKiM,MAAQq5G,GACjD7L,OAAQA,EACRtxF,KAAMA,EACNwwB,KAAMA,EACNgzD,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOA,EACPC,IAAKpb,KAAKiM,MAElB,EAEA4nG,EAAQ76F,UAAUwsG,WAAa,SAAUz/G,EAAS06B,GAO9C,IACIglF,EAAM1/G,EACN0L,EAAOzR,KACPygC,EAAM1zB,QAAQ,MAAQ,IACtB04G,EAAMA,EACD72G,QAAQ,8CAA8C,SAAU82G,EAAIp1G,EAAIq1G,GACzE,IAAIC,EAAYxpH,SAASkU,GAAMq1G,EAAI,IAInC,OAHIC,EAAY,SACZn0G,EAAKw8F,qBAAqBwF,EAAW0B,SAASqO,eAE9CoC,GAAa,MACN7mF,OAAOI,aAAaymF,GAXhB,GAcnB,IACKh3G,QAAQ,kCAfM,MAkBvB,IACIyB,OAAOo1G,EACX,CACA,MAAOt3G,GACHnO,KAAKiuG,qBAAqBwF,EAAW0B,SAASqO,cAClD,CAIA,IACI,OAAO,IAAInzG,OAAOtK,EAAS06B,EAC/B,CACA,MAAOtwB,GAEH,OAAO,IACX,CACJ,EACA0jG,EAAQ76F,UAAU6sG,eAAiB,WAC/B,IAAIjZ,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,OAC1BsnG,EAASyB,OAAc,MAAPpI,EAAY,sDAI5B,IAHA,IAAI53F,EAAMhV,KAAK8N,OAAO9N,KAAKiM,SACvB65G,GAAc,EACdtZ,GAAa,GACTxsG,KAAK2sG,OAGT,GADA33F,GADA43F,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,SAEX,OAAP2gG,EACAA,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,SAElBm+F,EAAYyC,UAAUe,iBAAiBhB,EAAGn5F,WAAW,KACrDzT,KAAKiuG,qBAAqBwF,EAAW0B,SAASwO,oBAElD3uG,GAAO43F,OAEN,GAAIxC,EAAYyC,UAAUe,iBAAiBhB,EAAGn5F,WAAW,IAC1DzT,KAAKiuG,qBAAqBwF,EAAW0B,SAASwO,yBAE7C,GAAImC,EACM,MAAPlZ,IACAkZ,GAAc,OAGjB,CACD,GAAW,MAAPlZ,EAAY,CACZJ,GAAa,EACb,KACJ,CACgB,MAAPI,IACLkZ,GAAc,EAEtB,CAMJ,OAJKtZ,GACDxsG,KAAKiuG,qBAAqBwF,EAAW0B,SAASwO,oBAG3C3uG,EAAImyB,OAAO,EAAGnyB,EAAI5O,OAAS,EACtC,EACAytG,EAAQ76F,UAAU+sG,gBAAkB,WAGhC,IAFA,IACItlF,EAAQ,IACJzgC,KAAK2sG,OAAO,CAChB,IAAIC,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,OAC1B,IAAKm+F,EAAYyC,UAAUS,iBAAiBV,EAAGn5F,WAAW,IACtD,MAGJ,KADEzT,KAAKiM,MACI,OAAP2gG,GAAgB5sG,KAAK2sG,MAyBrBlsE,GAASmsE,OAvBT,GAAW,OADXA,EAAK5sG,KAAK8N,OAAO9N,KAAKiM,QACN,GACVjM,KAAKiM,MACP,IAAIy4G,EAAU1kH,KAAKiM,MACf4mC,EAAO7yC,KAAKokH,cAAc,KAC9B,GAAa,OAATvxE,EAEA,IADApS,GAASoS,EACU6xE,EAAU1kH,KAAKiM,QAASy4G,EAChC1kH,KAAK8N,OAAO42G,QAIvB1kH,KAAKiM,MAAQy4G,EACbjkF,GAAS,IAGbzgC,KAAK+1G,yBACT,MAGI/1G,KAAK+1G,yBAOjB,CACA,OAAOt1E,CACX,EACAozE,EAAQ76F,UAAUk9F,WAAa,WAC3B,IAAI/6F,EAAQnb,KAAKiM,MACblG,EAAU/F,KAAK6lH,iBACfplF,EAAQzgC,KAAK+lH,kBAEjB,MAAO,CACH/+G,KAAM,EACNlM,MAAO,GACPiL,QAASA,EACT06B,MAAOA,EACPoF,MANQ7lC,KAAKwlH,WAAWz/G,EAAS06B,GAOjCkrE,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOA,EACPC,IAAKpb,KAAKiM,MAElB,EACA4nG,EAAQ76F,UAAUu0F,IAAM,WACpB,GAAIvtG,KAAK2sG,MACL,MAAO,CACH3lG,KAAM,EACNlM,MAAO,GACP6wG,WAAY3rG,KAAK2rG,WACjBC,UAAW5rG,KAAK4rG,UAChBzwF,MAAOnb,KAAKiM,MACZmP,IAAKpb,KAAKiM,OAGlB,IAAIihG,EAAKltG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,OACrC,OAAIm+F,EAAYyC,UAAUQ,kBAAkBH,GACjCltG,KAAKykH,iBAGL,KAAPvX,GAAsB,KAAPA,GAAsB,KAAPA,EACvBltG,KAAK2kH,iBAGL,KAAPzX,GAAsB,KAAPA,EACRltG,KAAKilH,oBAIL,KAAP/X,EACI9C,EAAYyC,UAAUC,eAAe9sG,KAAK8N,OAAO2F,WAAWzT,KAAKiM,MAAQ,IAClEjM,KAAKglH,qBAEThlH,KAAK2kH,iBAEZva,EAAYyC,UAAUC,eAAeI,GAC9BltG,KAAKglH,qBAIL,KAAP9X,GAAuB,MAAPA,GAA+D,OAAhDltG,KAAK8jH,WAAW9jH,KAAK8jH,WAAW19G,OAAS,GACjEpG,KAAKqlH,eAGZnY,GAAM,OAAUA,EAAK,OACjB9C,EAAYyC,UAAUQ,kBAAkBrtG,KAAKkkH,YAAYlkH,KAAKiM,QACvDjM,KAAKykH,iBAGbzkH,KAAK2kH,gBAChB,EACO9Q,CACX,CA5mCc,GA6mCdh5G,EAAQg5G,QAAUA,CAGb,EAEA,SAAS3uG,EAAQrK,GAEtB,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQuwG,UAAY,CAAC,EACrBvwG,EAAQuwG,UAAU,GAA0B,UAC5CvwG,EAAQuwG,UAAU,GAAe,QACjCvwG,EAAQuwG,UAAU,GAAsB,aACxCvwG,EAAQuwG,UAAU,GAAmB,UACrCvwG,EAAQuwG,UAAU,GAAuB,OACzCvwG,EAAQuwG,UAAU,GAA0B,UAC5CvwG,EAAQuwG,UAAU,GAAsB,aACxCvwG,EAAQuwG,UAAU,GAAyB,SAC3CvwG,EAAQuwG,UAAU,GAA6B,oBAC/CvwG,EAAQuwG,UAAU,IAAqB,UAGlC,EAEA,SAASlmG,EAAQrK,GAEtB,aAEAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmyG,cAAgB,CACpBgZ,KAAM,IACNC,IAAK,IACLC,KAAM,IACNC,GAAI,IACJC,KAAM,IACNC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,IAAK,IACLC,OAAQ,IACRC,KAAM,IACNC,IAAK,IACLC,KAAM,IACNC,KAAM,IACNC,MAAO,IACPh8E,IAAK,IACLi8E,IAAK,IACLC,IAAK,IACLC,KAAM,IACNC,IAAK,IACLC,OAAQ,IACRC,KAAM,IACNC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,KAAM,IACNC,OAAQ,IACRC,MAAO,IACPC,KAAM,IACNC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,OAAQ,IACRC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,KAAM,IACNC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,KAAM,IACNC,IAAK,IACLC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,OAAQ,IACRC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,KAAM,IACNC,OAAQ,IACRC,MAAO,IACPC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,OAAQ,IACRC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,KAAM,IACNC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,KAAM,IACNC,IAAK,IACLC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,OAAQ,IACRC,KAAM,IACNC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,KAAM,IACNC,OAAQ,IACRC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,QAAS,IACTC,KAAM,IACNC,IAAK,IACLC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,QAAS,IACTC,GAAI,IACJC,IAAK,IACLC,MAAO,IACPC,IAAK,IACLC,QAAS,IACTC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,MAAO,IACPp9E,MAAO,IACPq9E,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,QAAS,IACTC,KAAM,IACNC,IAAK,IACLC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,QAAS,IACTC,GAAI,IACJC,IAAK,IACLC,OAAQ,IACRC,MAAO,IACPC,IAAK,IACLC,QAAS,IACTC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,MAAO,IACPC,SAAU,IACVC,MAAO,IACPC,IAAK,IACLC,KAAM,IACNC,KAAM,IACNC,OAAQ,IACRC,KAAM,IACNC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,KAAM,IACNC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,MAAO,IACPC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,KAAM,IACNC,MAAO,IACPC,QAAS,IACTC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,MAAO,IACPC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,OAAQ,IACR77F,KAAM,IACN87F,MAAO,IACP70F,MAAO,IACP80F,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,GAAI,IACJC,KAAM,IACNC,IAAK,IACLC,MAAO,IACPC,OAAQ,IACRC,MAAO,IACPz+G,KAAM,IACN0+G,MAAO,IACPC,IAAK,IACLC,IAAK,IACLC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,IAAK,IACLC,OAAQ,IACRC,IAAK,IACLC,KAAM,IACNC,MAAO,IACPC,GAAI,IACJC,MAAO,IACPC,GAAI,IACJC,GAAI,IACJC,IAAK,IACLC,IAAK,IACLC,KAAM,IACNC,KAAM,IACNC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,KAAM,IACNC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,OAAQ,IACRC,OAAQ,IACRC,IAAK,IACLC,OAAQ,IACRC,MAAO,IACPC,OAAQ,IACRC,MAAO,IACPC,KAAM,IACNC,KAAM,IAIL,EAEA,SAASpwH,EAAQrK,EAAS,GAE/B,aACAF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI04G,EAAkB,EAAoB,IACtCE,EAAY,EAAoB,IAChClJ,EAAU,EAAoB,IAC9B+qB,EAAU,WACV,SAASA,IACLv1H,KAAK8E,OAAS,GACd9E,KAAKw1H,MAAQx1H,KAAKy1H,OAAS,CAC/B,CA6DA,OA3DAF,EAAOv8G,UAAU08G,yBAA2B,SAAUv/E,GAClD,MAAO,CAAC,IAAK,IAAK,IAAK,KAAM,SAAU,aAAc,MACjD,SAAU,OAAQ,SAAU,QAAS,OAErC,IAAK,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,MAAO,MAAO,OACxD,KAAM,KAAM,KAAM,IAElB,IAAK,IAAK,IAAK,KAAM,IAAK,IAAK,KAAM,KAAM,KAAM,KAAM,MAAO,IAC9D,IAAK,IAAK,IAAK,IAAK,KAAM,KAAM,IAAK,IAAK,MAAO,KAAM,KACvD,KAAM,IAAK,IAAK,KAAM,OAAOppC,QAAQopC,IAAM,CACnD,EAGAo/E,EAAOv8G,UAAU28G,aAAe,WAC5B,IAAIxwE,EAAWnlD,KAAK8E,OAAO9E,KAAK8E,OAAOsB,OAAS,GAC5Cy/B,EAAsB,OAAbsf,EACb,OAAQA,GACJ,IAAK,OACL,IAAK,IACDtf,GAAQ,EACR,MACJ,IAAK,IACD,IAAI6wE,EAAU12G,KAAK8E,OAAO9E,KAAKy1H,MAAQ,GACvC5vF,EAAqB,OAAZ6wE,GAAgC,UAAZA,GAAmC,QAAZA,GAAiC,SAAZA,EACzE,MACJ,IAAK,IAID,GADA7wE,GAAQ,EAC4B,aAAhC7lC,KAAK8E,OAAO9E,KAAKw1H,MAAQ,GAGzB3vF,KADImD,EAAQhpC,KAAK8E,OAAO9E,KAAKw1H,MAAQ,MACpBx1H,KAAK01H,yBAAyB1sF,QAE9C,GAAoC,aAAhChpC,KAAK8E,OAAO9E,KAAKw1H,MAAQ,GAAmB,CAEjD,IAAIxsF,EACJnD,IADImD,EAAQhpC,KAAK8E,OAAO9E,KAAKw1H,MAAQ,MACpBx1H,KAAK01H,yBAAyB1sF,EACnD,EAKR,OAAOnD,CACX,EACA0vF,EAAOv8G,UAAUrX,KAAO,SAAU0Z,GACX,IAAfA,EAAMrU,MAA8C,IAAfqU,EAAMrU,MACvB,MAAhBqU,EAAMvgB,MACNkF,KAAKw1H,MAAQx1H,KAAK8E,OAAOsB,OAEJ,MAAhBiV,EAAMvgB,QACXkF,KAAKy1H,MAAQz1H,KAAK8E,OAAOsB,QAE7BpG,KAAK8E,OAAOnD,KAAK0Z,EAAMvgB,QAGvBkF,KAAK8E,OAAOnD,KAAK,KAEzB,EACO4zH,CACX,CAlEa,GAmET1wB,EAAa,WACb,SAASA,EAAU3rF,EAAMszB,GACrBxsC,KAAKk9B,aAAe,IAAIs2E,EAAgBI,aACxC5zG,KAAKk9B,aAAaunE,WAAWj4D,GAAqC,kBAApBA,EAAOi4D,UAA0Bj4D,EAAOi4D,SACtFzkG,KAAKyrG,QAAU,IAAIiI,EAAUG,QAAQ36F,EAAMlZ,KAAKk9B,cAChDl9B,KAAKyrG,QAAQqI,eAAetnE,GAAoC,kBAAnBA,EAAO03B,SAAyB13B,EAAO03B,QACpFlkE,KAAK41H,aAAappF,GAAkC,kBAAjBA,EAAOllC,OAAuBklC,EAAOllC,MACxEtH,KAAK61H,WAAWrpF,GAAgC,kBAAfA,EAAOu5D,KAAqBv5D,EAAOu5D,IACpE/lG,KAAKiO,OAAS,GACdjO,KAAK++E,OAAS,IAAIw2C,CACtB,CA8DA,OA7DA1wB,EAAU7rF,UAAUwiD,OAAS,WACzB,OAAOx7D,KAAKk9B,aAAas+B,MAC7B,EACAqpC,EAAU7rF,UAAU8rF,aAAe,WAC/B,GAA2B,IAAvB9kG,KAAKiO,OAAO7H,OAAc,CAC1B,IAAIo+F,EAAWxkG,KAAKyrG,QAAQsC,eAC5B,GAAI/tG,KAAKyrG,QAAQqI,aACb,IAAK,IAAIvoG,EAAI,EAAGA,EAAIi5F,EAASp+F,SAAUmF,EAAG,CACtC,IAAI4C,EAAIq2F,EAASj5F,GACbzQ,EAAQkF,KAAKyrG,QAAQ39F,OAAOpB,MAAMyB,EAAEzB,MAAM,GAAIyB,EAAEzB,MAAM,IACtDw3D,EAAU,CACVl9D,KAAMmH,EAAE6nG,UAAY,eAAiB,cACrCl7G,MAAOA,GAEPkF,KAAK41H,aACL1xD,EAAQ58D,MAAQ6G,EAAE7G,OAElBtH,KAAK61H,WACL3xD,EAAQ6hC,IAAM53F,EAAE43F,KAEpB/lG,KAAKiO,OAAOtM,KAAKuiE,EACrB,CAEJ,IAAKlkE,KAAKyrG,QAAQkB,MAAO,CACrB,IAAI5G,OAAM,EACN/lG,KAAK61H,WACL9vB,EAAM,CACF5qF,MAAO,CACHqmB,KAAMxhC,KAAKyrG,QAAQE,WACnBE,OAAQ7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,WAE9CxwF,IAAK,CAAC,IAGd,IACIC,EAD0D,MAA5Crb,KAAKyrG,QAAQ39F,OAAO9N,KAAKyrG,QAAQx/F,QAAmBjM,KAAK++E,OAAO42C,eACzD31H,KAAKyrG,QAAQyK,aAAel2G,KAAKyrG,QAAQ8B,MAClEvtG,KAAK++E,OAAOp9E,KAAK0Z,GACjB,IAAI1c,EAAQ,CACRqI,KAAMwjG,EAAQY,UAAU/vF,EAAMrU,MAC9BlM,MAAOkF,KAAKyrG,QAAQ39F,OAAOpB,MAAM2O,EAAMF,MAAOE,EAAMD,MAYxD,GAVIpb,KAAK41H,aACLj3H,EAAM2I,MAAQ,CAAC+T,EAAMF,MAAOE,EAAMD,MAElCpb,KAAK61H,WACL9vB,EAAI3qF,IAAM,CACNomB,KAAMxhC,KAAKyrG,QAAQE,WACnBE,OAAQ7rG,KAAKyrG,QAAQx/F,MAAQjM,KAAKyrG,QAAQG,WAE9CjtG,EAAMonG,IAAMA,GAEG,IAAf1qF,EAAMrU,KAAoC,CAC1C,IAAIjB,EAAUsV,EAAMtV,QAChB06B,EAAQplB,EAAMolB,MAClB9hC,EAAMknC,MAAQ,CAAE9/B,QAASA,EAAS06B,MAAOA,EAC7C,CACAzgC,KAAKiO,OAAOtM,KAAKhD,EACrB,CACJ,CACA,OAAOqB,KAAKiO,OAAO5B,OACvB,EACOw4F,CACX,CAzEgB,GA0EhBhqG,EAAQgqG,UAAYA,CAGf,GAEN,EAhjNE3/F,EAAOrK,QAAUmtC,iCCDnB,IAAIzJ,EAAW,EAAQ,MAgBvB,SAAS7iC,EAAO+D,EAAGC,GACjB,IAAK,IAAI6T,KAAO7T,EACVo2H,EAAOp2H,EAAG6T,KACZ9T,EAAE8T,GAAO7T,EAAE6T,GAGjB,CAMA,SAASuiH,EAAOrhH,EAAKlB,GACnB,OAAO5Y,OAAOqe,UAAUwhC,eAAetoC,KAAKuC,EAAKlB,EACnD,CA5BArO,EAAOrK,QAAU,SAAgBia,GAC1BypB,EAASzpB,KAAMA,EAAI,CAAC,GAGzB,IADA,IAAI1B,EAAM1O,UAAU0B,OACXmF,EAAI,EAAGA,EAAI6H,EAAK7H,IAAK,CAC5B,IAAIkJ,EAAM/P,UAAU6G,GAEhBgzB,EAAS9pB,IACX/Y,EAAOoZ,EAAGL,EAEd,CACA,OAAOK,CACT,8BCdA,MAAM7Z,EAAK,EAAQ,MACbu7B,EAAW,EAAQ,MACnBu/F,EAAW,EAAQ,MACnB1wH,EAAY,EAAQ,MACpB2wH,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MACjB1wH,EAAQ,EAAQ,MAChB7H,EAAQ,EAAQ,MAkBtB,SAASw4H,EAAOzwH,EAAOC,GACrB,GAAc,KAAVD,EACF,MAAO,CAAE4R,KAAM,CAAC,EAAG+pB,QAAS37B,EAAOswH,QAAS,GAAII,KAAM1wH,GAGxD,IAAImQ,EAAOqgH,EAAOxwH,GAClB,MAAM2wH,EAASF,EAAOt5F,MAAMhnB,EAAKwrB,SAEjC,IAAK17B,EAAS,CACZ,GAAI0wH,EAGF,OAFAxgH,EAAOlb,OAAOe,OAAO,CAAC,EAAG26H,GACzBxgH,EAAKugH,KAAOC,EAAOD,KACZvgH,EAMTsgH,EAAOt5F,MAAMhnB,EAAKwrB,SAAWxrB,CAC/B,CAEA,OAOF,SAAqBA,EAAMlQ,GACzB,MAAM8F,EAAOsqH,EAASpwH,GAChByG,EAAOX,EAAK6qH,WAAW,GACvB7pH,EAAQ,KAAOhB,EAAK6qH,WAAW,GACrC,IAAIthH,EAAMa,EAAKwrB,QAEX51B,EAAK8qH,WACP1gH,EAAK0gH,SAAW9qH,EAAK8qH,UAIvB,MAAMC,EAAUpqH,EAAKhG,OACrB,IAAKzI,EAAMmwB,WAAW9Y,EAAK5I,EAAMoqH,GAE/B,OADAR,EAAQngH,EAAMpK,GACPoK,EAMT,GAAIb,EAAI+lB,OAAOy7F,KAAapqH,EAAKM,OAAO,GACtC,OAAOmJ,EAITb,EAAMA,EAAItI,MAAM8pH,GAChB,MAAMpjH,EAAM4B,EAAI5O,OAGVmwH,EAAWJ,EAAOI,SAASvhH,EAAKvJ,GAClC8qH,EAASl4H,OACXwX,EAAK0gH,SAAWA,EAASl4H,KACzB2W,EAAMA,EAAItI,MAAM6pH,EAAS5nB,IAAIvoG,SAI/B,IAAIqwH,EAAazhH,EAAIjI,QAAQN,IACT,IAAhBgqH,IACFA,EAAarjH,GAIfyC,EAAKsgH,OAASnhH,EAAItI,MAAM,EAAG+pH,GA+B3B,MA5Bc,KADA5gH,EAAKsgH,OAAOvnH,QAAQ,gBAAiB,IAAIxB,QAErDyI,EAAKob,SAAU,EACfpb,EAAKgoB,MAAQhoB,EAAKwrB,QAClBxrB,EAAKyB,KAAO,CAAC,GAIbzB,EAAKyB,KAAO9R,EAAMqQ,EAAK0gH,SAAU1gH,EAAKsgH,OAAQ1qH,GAI5CgrH,IAAerjH,EACjByC,EAAKwrB,QAAU,IAEfxrB,EAAKwrB,QAAUrsB,EAAItI,MAAM+pH,EAAahqH,EAAMrG,QACpB,OAApByP,EAAKwrB,QAAQ,KACfxrB,EAAKwrB,QAAUxrB,EAAKwrB,QAAQ30B,MAAM,IAEZ,OAApBmJ,EAAKwrB,QAAQ,KACfxrB,EAAKwrB,QAAUxrB,EAAKwrB,QAAQ30B,MAAM,KAItCspH,EAAQngH,EAAMpK,KAEQ,IAAlBA,EAAK+qB,UAA6C,mBAAjB/qB,EAAK4rB,UACxCb,EAAS3gB,EAAMpK,EAAK4rB,SAEfxhB,CACT,CAjFS6gH,CAAY7gH,EAAMlQ,EAC3B,CAsFAwwH,EAAOF,QAAUA,EAuBjBE,EAAO9wH,UAAY,SAASwQ,EAAMyB,EAAM3R,GAEtC,MADoB,iBAATkQ,IAAmBA,EAAOsgH,EAAOtgH,EAAMlQ,IAC3CN,EAAUwQ,EAAMyB,EAAM3R,EAC/B,EAeAwwH,EAAO/4H,KAAO,SAASmH,EAAUoB,GAC/B,MACMkQ,EAAOsgH,EADDl7H,EAAGinC,aAAa39B,EAAU,QACboB,GAEzB,OADAkQ,EAAK5Y,KAAOsH,EACLsR,CACT,EAUAsgH,EAAO9iH,KAAO,SAAS2B,EAAKrP,GAC1B,OAAOhI,EAAMmwB,WAAW9Y,EAAK+gH,EAASpwH,GAAS2wH,WAAW,GAC5D,EAUAH,EAAOI,SAAW,SAASvhH,EAAKrP,GAC9B,MACMyG,EADO2pH,EAASpwH,GACJ2wH,WAAW,GAEzBH,EAAO9iH,KAAK2B,KACdA,EAAMA,EAAItI,MAAMN,EAAKhG,SAGvB,MAAMmwH,EAAWvhH,EAAItI,MAAM,EAAGsI,EAAIgZ,OAAO,UACzC,MAAO,CACL2gF,IAAK4nB,EACLl4H,KAAMk4H,EAAWA,EAASnpH,OAAS,GAEvC,EAMA+oH,EAAOt5F,MAAQ,CAAC,EAChBs5F,EAAO75E,WAAa,WAClB65E,EAAOt5F,MAAQ,CAAC,CAClB,EACA33B,EAAOrK,QAAUs7H,+BCjOjB,MAAMF,EAAU,EAAQ,MAClBt4H,EAAQ,EAAQ,MAEtBuH,EAAOrK,QAAU,SAAS8K,GACxB,MAAM8F,EAAO9Q,OAAOe,OAAO,CAAC,EAAGiK,GAU/B,OAPA8F,EAAK6qH,WAAa34H,EAAMg5H,SAASlrH,EAAKmrH,QAAUnrH,EAAK6qH,YAAc,OACpC,IAA3B7qH,EAAK6qH,WAAWlwH,QAClBqF,EAAK6qH,WAAW30H,KAAK8J,EAAK6qH,WAAW,IAGvC7qH,EAAK8qH,UAAY9qH,EAAK8qH,UAAY9qH,EAAK4pH,MAAQ,QAAQzlH,cACvDnE,EAAKwqH,QAAUt7H,OAAOe,OAAO,CAAC,EAAGu6H,EAASxqH,EAAKorH,QAASprH,EAAKwqH,SACtDxqH,CACT,yBCfAvG,EAAOrK,QAAU,SAASwD,EAAMsH,GAC9B,IAAI00D,EAAS10D,EAAQswH,QAAQ53H,IAASsH,EAAQswH,QAUhD,SAAgB53H,GACd,OAAQA,EAAKuR,eACX,IAAK,KACL,IAAK,aACH,MAAO,aACT,IAAK,SACL,IAAK,eACL,IAAK,OACH,MAAO,SACT,IAAK,OACL,IAAK,MACH,MAAO,OACT,QACE,OAAOvR,EAGb,CA1BwDy4H,CAAOz4H,IAC7D,QAAsB,IAAXg8D,EACT,MAAM,IAAIp+D,MAAM,uBAAyBoC,EAAO,uBAKlD,MAHsB,mBAAXg8D,IACTA,EAAS,CAAE70D,MAAO60D,IAEbA,CACT,4DCTA,MAAM08D,KAAO,oBAAQ,MAMfd,QAAUp7H,QAAUqK,OAAOrK,QAMjCo7H,QAAQc,KAAO,CACbvxH,MAAOuxH,KAAKC,SAASz2H,KAAKw2H,MAC1B1xH,UAAW0xH,KAAKE,SAAS12H,KAAKw2H,OAOhCd,QAAQ9pE,KAAO,CACb3mD,MAAOyL,KAAKzL,MAAMjF,KAAK0Q,MACvB5L,UAAW,SAASoP,EAAK9O,GACvB,MAAM8F,EAAO9Q,OAAOe,OAAO,CAACw7H,SAAU,KAAM3lF,MAAO,GAAI5rC,GACvD,OAAOsL,KAAK5L,UAAUoP,EAAKhJ,EAAKyrH,SAAUzrH,EAAK8lC,MACjD,GAOF0kF,QAAQkB,WAAa,CACnB3xH,MAAO,SAASA,MAAMwP,IAAKrP,QAAS4B,MAElC,IAIE,OAHa,IAATA,OACFyN,IAAM,yBAA2BA,IAAI5H,OAAS,YAEzCgqH,KAAKpiH,MAAQ,CAAC,CACvB,CAAE,MAAO0H,GACP,IAAa,IAATnV,MAAkB,2BAA2B8L,KAAKqJ,EAAIxL,SACxD,OAAO1L,MAAMwP,IAAKrP,SAAS,GAE7B,MAAM,IAAImG,YAAY4Q,EACxB,CACF,EACArX,UAAW,WACT,MAAM,IAAIpJ,MAAM,2CAClB,gCClDF,MAAM85H,EAAW,EAAQ,MAEzB7wH,EAAOrK,QAAU,SAASgb,EAAMlQ,GAC9B,MAAM8F,EAAOsqH,EAASpwH,GAMtB,GAJiB,MAAbkQ,EAAKyB,OACPzB,EAAKyB,KAAO,CAAC,GAGa,mBAAjB7L,EAAKuqH,QACd,OAAOvqH,EAAKuqH,QAAQngH,EAAMpK,GAG5B,MAAMvL,EAAM2V,EAAKyB,KAAK+/G,mBAAqB5rH,EAAK4rH,kBAChD,GAAW,MAAPn3H,KAAiC,IAAjBuL,EAAKuqH,SAAqC,MAAhBvqH,EAAKuqH,SACjD,OAAOngH,EAGT,MAAMlD,EAAoC,iBAAjBlH,EAAKuqH,QAC1BvqH,EAAKuqH,QACJ91H,GAAOuL,EAAK6qH,WAAW,GAGtBlhF,EAAMv/B,EAAKwrB,QAAQt0B,QAAQ4F,GAKjC,OAJa,IAATyiC,IACFv/B,EAAKmgH,QAAUngH,EAAKwrB,QAAQ30B,MAAM,EAAG0oC,IAGhCv/B,CACT,+BC7BA,MAAMyhH,EAAY,EAAQ,MACpBvB,EAAW,EAAQ,MAEzB7wH,EAAOrK,QAAU,SAAS07H,EAAUvhH,EAAKrP,GACvC,MAAM8F,EAAOsqH,EAASpwH,GAChB00D,EAASi9D,EAAUf,EAAU9qH,GACnC,GAA4B,mBAAjB4uD,EAAO70D,MAChB,MAAM,IAAIgG,UAAU,aAAe+qH,EAAW,4BAEhD,OAAOl8D,EAAO70D,MAAMwP,EAAKvJ,EAC3B,+BCVA,MAAM8rH,EAAS,EAAQ,KACjBD,EAAY,EAAQ,MACpBvB,EAAW,EAAQ,MAiDzB,SAASyB,EAAQxiH,GACf,MAAyB,OAAlBA,EAAItI,OAAO,GAAcsI,EAAM,KAAOA,CAC/C,CAjDA9P,EAAOrK,QAAU,SAASgb,EAAMyB,EAAM3R,GACpC,GAAY,MAAR2R,GAA2B,MAAX3R,EAClB,OAAQ4xH,EAAO1hH,IACb,IAAK,SACHyB,EAAOzB,EAAKyB,KACZ3R,EAAU,CAAC,EACX,MACF,IAAK,SACH,OAAOkQ,EACT,QACE,MAAM,IAAIrK,UAAU,0CAK1B,MAAMwJ,EAAMa,EAAKwrB,QACX51B,EAAOsqH,EAASpwH,GACtB,GAAY,MAAR2R,EAAc,CAChB,IAAK7L,EAAK6L,KAAM,OAAOzB,EACvByB,EAAO7L,EAAK6L,IACd,CAEA,MAAMi/G,EAAW1gH,EAAK0gH,UAAY9qH,EAAK8qH,SACjCl8D,EAASi9D,EAAUf,EAAU9qH,GACnC,GAAgC,mBAArB4uD,EAAOh1D,UAChB,MAAM,IAAImG,UAAU,aAAe+qH,EAAW,gCAGhDj/G,EAAO3c,OAAOe,OAAO,CAAC,EAAGma,EAAKyB,KAAMA,GACpC,MAAMlL,EAAOX,EAAK6qH,WAAW,GACvB7pH,EAAQhB,EAAK6qH,WAAW,GACxBH,EAAS97D,EAAOh1D,UAAUiS,EAAM3R,GAASyH,OAC/C,IAAI+I,EAAM,GAYV,MAVe,OAAXggH,IACFhgH,EAAMqhH,EAAQprH,GAAQorH,EAAQrB,GAAUqB,EAAQ/qH,IAGtB,iBAAjBoJ,EAAKmgH,SAAyC,KAAjBngH,EAAKmgH,UACD,IAAtChhH,EAAIjI,QAAQ8I,EAAKmgH,QAAQ5oH,UAC3B+I,GAAOqhH,EAAQ3hH,EAAKmgH,SAAWwB,EAAQ/qH,IAIpC0J,EAAMqhH,EAAQxiH,EACvB,+BCjDA,MAAMuiH,EAAS,EAAQ,KACjBlyH,EAAY,EAAQ,MACpB1H,EAAQ,EAAQ,MAOtBuH,EAAOrK,QAAU,SAASgb,GA8BxB,MA7BqB,WAAjB0hH,EAAO1hH,KACTA,EAAO,CAAEwrB,QAASxrB,IAGM,WAAtB0hH,EAAO1hH,EAAKyB,QACdzB,EAAKyB,KAAO,CAAC,GAKXzB,EAAKmnC,UAA4B,MAAhBnnC,EAAKwrB,UACxBxrB,EAAKwrB,QAAUxrB,EAAKmnC,UAItBr/C,EAAM85H,OAAO5hH,EAAM,OAAQlY,EAAM0Z,SAASxB,EAAKwrB,UAC/C1jC,EAAM85H,OAAO5hH,EAAM,WAAYA,EAAK0gH,UAAY,IAChD54H,EAAM85H,OAAO5hH,EAAM,SAAUA,EAAKsgH,QAAU,IAC5Cx4H,EAAM85H,OAAO5hH,EAAM,aAAa,SAASyB,EAAM3R,GAI7C,OAHIA,GAAWA,EAAQ4wH,WACrB1gH,EAAK0gH,SAAW5wH,EAAQ4wH,UAEnBlxH,EAAUwQ,EAAMyB,EAAM3R,EAC/B,IAGAkQ,EAAKwrB,QAAU1jC,EAAMoV,SAAS8C,EAAKwrB,SACnCxrB,EAAKob,SAAU,EACfpb,EAAKmgH,QAAU,GACRngH,CACT,+BCxCA,MAAM6hH,EAAW,EAAQ,MACnBH,EAAS,EAAQ,KAEvB18H,EAAQ48H,OAAS,SAAShjH,EAAKlB,EAAKtB,GAClCiS,QAAQtpB,eAAe6Z,EAAKlB,EAAK,CAC/BjB,YAAY,EACZC,cAAc,EACdgX,UAAU,EACVzuB,MAAOmX,GAEX,EAMApX,EAAQ2c,SAAW,SAASvF,GAC1B,MAAuB,WAAhBslH,EAAOtlH,EAChB,EAMApX,EAAQ0jC,SAAW,SAAStsB,GAC1B,MAAuB,WAAhBslH,EAAOtlH,EAChB,EAMApX,EAAQwc,SAAW,SAAS3R,GAC1B,MAAwB,iBAAVA,EAAqBsR,OAAOU,KAAKhS,GAASA,CAC1D,EAMA7K,EAAQkY,SAAW,SAASrN,GAC1B,GAAI7K,EAAQ2c,SAAS9R,GAAQ,OAAOgyH,EAAS34F,OAAOr5B,IACpD,GAAqB,iBAAVA,EACT,MAAM,IAAI8F,UAAU,2CAEtB,OAAOksH,EAAShyH,EAClB,EAMA7K,EAAQ87H,SAAW,SAAS1kH,GAC1B,OAAOA,EAAOpM,MAAMC,QAAQmM,GAAOA,EAAM,CAACA,GAAQ,EACpD,EAMApX,EAAQizB,WAAa,SAAS9Y,EAAKmyB,EAAQ/zB,GAEzC,MADmB,iBAARA,IAAkBA,EAAM+zB,EAAO/gC,QACnC4O,EAAItI,MAAM,EAAG0G,KAAS+zB,CAC/B,yBCxDAjiC,EAAOrK,QAAU,SAAsBoX,GACrC,OAAO,MAAOA,IACO,iBAARA,GAAmC,mBAARA,EAC1C,+BCXAtX,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ88H,eAAiB98H,EAAQ+8H,gBAAa,EAC9C,MAAMC,EAAe,EAAQ,MAC7B,MAAMD,UAAmB37H,MACrB6D,YAAYoR,EAAU,kCAClB1O,MAAM0O,GACNvW,OAAOipF,eAAe5jF,KAAM43H,EAAW5+G,WACvC/c,MAAMyjB,kBAAkB1f,KAAMA,KAAKF,aACnCE,KAAK3B,KAAO,YAChB,CACYskF,IAAPzqE,OAAOyqE,eACR,MAAO,YACX,EAEJ9nF,EAAQ+8H,WAAaA,EAMrB/8H,EAAQ88H,eALR,SAAwBzrE,GACpB,GAAIA,GAAUA,EAAOlH,QACjB,MAAM,IAAI4yE,CAElB,EAEAj9H,OAAOC,eAAeg9H,EAAY1/G,OAAO4/G,YAAa,CAClDvuG,UAAU,EACVhX,cAAc,EACdzX,MAAM6a,IACM,EAAIkiH,EAAat5F,UAAU5oB,KAA8B,eAAvBA,EAAE7V,YAAYzB,MAAmD,eAA1BsX,EAAEuC,OAAOyqE,6CCzBlGhoF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQk9H,eAAY,EACpB,MAAMC,EAAe,EAAQ,MACvBC,EAAc,EAAQ,MA0B5Bp9H,EAAQk9H,UAzBRp7H,eAAyBmR,EAAQoqH,EAAUC,EAAUjsE,IACjD,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAI1sD,EAAS,GACb,MAAM44H,GAAK,EAAIH,EAAYI,eAAevqH,EAAQo+C,GAAQh0C,OAAO4sE,kBAC3D,MAAEhqF,EAAK,KAAE8D,SAAew5H,EAAGzrH,OACjC,GAAI/N,EACA,MAAM,IAAI3C,MAAM,iCAEpB,IAEI0Q,EAFA2rH,QAAeJ,EAASp9H,EAAOoxD,GAGnC,IAFA1sD,EAAOmC,KAAK7G,KAEH6R,QAAayrH,EAAGzrH,QAAQ/N,MAAM,CACnC,MAAMu+B,EAAUxwB,EAAK7R,MACfyY,QAAY2kH,EAAS/6F,EAAS+uB,GAC9BqsE,QAAYJ,EAAS5kH,EAAK+kH,EAAQpsE,GAC5B,IAARqsE,EACA/4H,EAAOmC,KAAKw7B,GAEPo7F,EAAM,IACX/4H,EAAS,CAAC29B,GACVm7F,EAAS/kH,EAEjB,CACA,OAAO/T,CACX,+BC5BA7E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8pD,WAAQ,EAChB,MAAMqzE,EAAe,EAAQ,MAyB7Bn9H,EAAQ8pD,MAxBR,SAAe6zE,EAAStsE,GACpB,OAAO,IAAIl2C,SAAQ,CAAC4hB,EAASwB,KACrB8yB,GAAUA,EAAOlH,SACjB5rB,EAAO,IAAI4+F,EAAaJ,YAE5B,MAAM7gE,EAAKjrC,YAAW,KACdogC,IACAA,EAAOhyC,oBAAoB,QAASu+G,GAChCvsE,EAAOlH,SACPyzE,IAIR7gG,GAAS,GACV4gG,GAIH,SAASC,IACLjpG,aAAaunC,GACb39B,EAAO,IAAI4+F,EAAaJ,WAC5B,CANI1rE,GACAA,EAAO1yC,iBAAiB,QAASi/G,EAAS,CAAEl1H,MAAM,GAKtD,GAER,+BC1BA5I,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ69H,cAAW,EACnB,MAAMC,EAAc,EAAQ,MACtBC,EAAY,EAAQ,MA8B1B/9H,EAAQ69H,SAtBR,SAAkB/zC,GACd,OAAO,YAAav9E,GAChB,MAAMyxH,EAAO,IAAIF,EAAYG,UACvBr/G,EAAU,YAAas/G,GACzBF,EAAK7kH,MAA2B,IAArB+kH,EAAU3yH,OAAe2yH,EAAU,GAAKA,GACnDF,EAAKz9G,KACT,EACA,IACIupE,KAAQv9E,EAAKhC,OAAOqU,GACxB,CACA,MAAOtL,GACH0qH,EAAKt5H,MAAM4O,GACX0qH,EAAKz9G,KACT,CAMA,OAAO,EAAIw9G,EAAUI,UAAd,CALSr8H,kBACZ,IAAK,IAAIgQ,IAAQA,QAAaksH,EAAKlsH,QAAQ/N,YACjC+N,EAAK7R,KAEnB,CACgCm+H,GACpC,CACJ,+BChCAt+H,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQq+H,qBAAkB,EAC1B,MAAMP,EAAc,EAAQ,MACtBC,EAAY,EAAQ,MAoC1B/9H,EAAQq+H,gBA5BR,SAAyBv0C,GACrB,OAAO,YAAav9E,GAChB,MAAMyxH,EAAO,IAAIF,EAAYG,UACvBr/G,EAAU,SAAUiD,KAAQq8G,GAC1Br8G,GACAm8G,EAAKt5H,MAAMmd,GACXm8G,EAAKz9G,QAGLy9G,EAAK7kH,MAA2B,IAArB+kH,EAAU3yH,OAAe2yH,EAAU,GAAKA,GACnDF,EAAKz9G,MAEb,EACA,IACIupE,KAAQv9E,EAAKhC,OAAOqU,GACxB,CACA,MAAOtL,GACH0qH,EAAKt5H,MAAM4O,GACX0qH,EAAKz9G,KACT,CAMA,OAAO,EAAIw9G,EAAUI,UAAd,CALSr8H,kBACZ,IAAK,IAAIgQ,IAAQA,QAAaksH,EAAKlsH,QAAQ/N,YACjC+N,EAAK7R,KAEnB,CACgCm+H,GACpC,CACJ,+BCtCAt+H,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQs+H,4BAA8Bt+H,EAAQu+H,oBAAsBv+H,EAAQw+H,kBAAoBx+H,EAAQy+H,kBAAoBz+H,EAAQi+H,UAAYj+H,EAAQ0+H,oBAAiB,EACzK,MAAMC,EAAiB,EAAQ,MACzBC,EAAa,EAAQ,MACrB5B,EAAe,EAAQ,MACvB6B,EAAa,EAAQ,MACrB1B,EAAe,EAAQ,MAI7B,MAAMuB,EAEF58H,cAAcg9H,EAAYv/G,EAAS8xC,GAC/B,MAAMp+C,EAASo+C,EAAS,IAAI0tE,EAAuB55H,KAAMksD,GAAUlsD,KACnE,IAAIuL,EAAI,EACR,UAAW,MAAM5H,KAAQmK,QACf6rH,EAAWznH,KAAKkI,EAASzW,EAAM4H,IAAK2gD,EAElD,CACAtoB,QAAQx8B,GACJ,IAAImE,GAAK,EACT,MAAMiC,EAAIpG,EAAKhB,OACf,IAAIsH,EAAM1N,KACV,OAASuL,EAAIiC,GACTE,EAAMtG,EAAKmE,GAAGguH,EAAeM,GAAGnsH,IAEpC,OAAOA,CACX,CAEAoV,YAAYhV,EAAQoqH,EAAWuB,EAAWK,cAAe1/G,GACrD,MAAM6oB,GAAK,EAAIu2F,EAAeO,cAAc7B,EAAU99G,EAAS,GAC/D,IAAI,EAAIy9G,EAAamC,YAAYlsH,KAAW,EAAI+pH,EAAaoC,iBAAiBnsH,GAC1E,OAAO,IAAIurH,EAAkBvrH,EAAQm1B,GAEzC,IAAI,EAAI40F,EAAaqC,WAAWpsH,GAC5B,OAAO,IAAIsrH,EAAoBtrH,EAAQm1B,GAE3C,IAAI,EAAI40F,EAAasC,cAAcrsH,GAC/B,OAAO,IAAIqrH,EAA4BrrH,EAAQm1B,GAEnD,IAAI,EAAI40F,EAAauC,aAAatsH,GAC9B,OAAO,IAAIwrH,EAAkBxrH,EAAQm1B,GAEzC,IAAI,EAAI40F,EAAawC,YAAYvsH,GAC7B,OAAO,IAAIurH,EAAkB,CAAE,CAACnhH,OAAO4sE,eAAgB,IAAMh3E,GAAUm1B,GAE3E,MAAM,IAAIz3B,UAAU,2BACxB,CAQAsX,UAAUhV,GACN,OAAIA,aAAkByrH,EACXzrH,EAEW,iBAAXA,EACA,IAAIwrH,EAAkB,CAACxrH,GAAS2rH,EAAWK,gBAElD,EAAIjC,EAAamC,YAAYlsH,KAAW,EAAI+pH,EAAaoC,iBAAiBnsH,GACnE,IAAIurH,EAAkBvrH,EAAQ2rH,EAAWK,gBAEhD,EAAIjC,EAAaqC,WAAWpsH,GACrB,IAAIsrH,EAAoBtrH,EAAQ2rH,EAAWK,gBAElD,EAAIjC,EAAasC,cAAcrsH,GACxB,IAAIqrH,EAA4BrrH,EAAQ2rH,EAAWK,gBAE1D,EAAIjC,EAAauC,aAAatsH,GACvB,IAAIwrH,EAAkBxrH,EAAQ2rH,EAAWK,eAE7C,IAAIR,EAAkB,CAACxrH,GAAS2rH,EAAWK,cACtD,EAEJj/H,EAAQ0+H,eAAiBA,EACzBA,EAAevgH,UAAUd,OAAOyqE,aAAe,iBAC/ChoF,OAAOC,eAAe2+H,EAAgBrhH,OAAO4/G,YAAa,CACtDvuG,UAAU,EACVhX,cAAc,EACdzX,MAAMw/H,MACQA,GAAqC,mBAA7BA,EAAKpiH,OAAOyqE,gBAGtC,MACM43C,EAAc,QACpB,MAAMzB,EACF0B,OACAC,QACAC,WACA56H,cACIE,KAAKw6H,QAAS,EACdx6H,KAAKy6H,QAAU,GACfz6H,KAAK06H,WAAa,EACtB,CACA,CAACxiH,OAAO4sE,iBACJ,OAAO9kF,IACX,CACAgU,MAAMlZ,GACFkF,KAAK26H,MAAM,CAAE3zH,KAfD,QAeoBlM,SACpC,CACAyE,MAAMA,GACFS,KAAK26H,MAAM,CAAE3zH,KAAMuzH,EAAah7H,SACpC,CACAo7H,MAAMh3H,GACF,GAAI3D,KAAKw6H,OACL,MAAM,IAAIv+H,MAAM,2BAEpB,GAAI+D,KAAK06H,WAAWt0H,OAAS,EAAG,CAC5B,MAAM,QAAEwxB,EAAO,OAAEwB,GAAWp5B,KAAK06H,WAAWruH,QACxC1I,EAAKqD,OAASuzH,EACdnhG,EAAOz1B,EAAKpE,OAGZq4B,EAAQ,CAAEh5B,MAAM,EAAO9D,MAAO6I,EAAK7I,OAE3C,MAEIkF,KAAKy6H,QAAQ94H,KAAKgC,EAE1B,CACAgJ,OACI,GAAI3M,KAAKy6H,QAAQr0H,OAAS,EAAG,CACzB,MAAM,KAAEY,EAAI,MAAElM,EAAK,MAAEyE,GAAUS,KAAKy6H,QAAQpuH,QAC5C,OAAIrF,IAASuzH,EACFvkH,QAAQojB,OAAO75B,GAGfyW,QAAQ4hB,QAAQ,CAAEh5B,MAAM,EAAO9D,SAE9C,CACA,OAAIkF,KAAKw6H,OACExkH,QAAQ4hB,QAAQ,CAAEh5B,MAAM,IAE5B,IAAIoX,SAAQ,CAAC4hB,EAASwB,KACzBp5B,KAAK06H,WAAW/4H,KAAK,CAAEi2B,UAASwB,UAAS,GAEjD,CACAhe,MACI,KAAOpb,KAAK06H,WAAWt0H,OAAS,GAC5BpG,KAAK06H,WAAWruH,QAAQurB,QAAQ,CAAEh5B,MAAM,IAE5CoB,KAAKw6H,QAAS,CAClB,EAEJ3/H,EAAQi+H,UAAYA,EACpB,MAAMQ,UAA0BC,EAC5BqB,QACAC,UACA/6H,YAAYgO,EAAQoqH,GAChB11H,QACAxC,KAAK46H,QAAU9sH,EACf9N,KAAK66H,UAAY3C,CACrB,CACAv7H,OAAQub,OAAO4sE,iBACX,IAAIv5E,EAAI,EACR,MAAMnF,GAAS,EAAIszH,EAAWoB,UAAU96H,KAAK46H,QAAQx0H,QACrD,KAAOmF,EAAInF,eACKpG,KAAK66H,UAAU76H,KAAK46H,QAAQrvH,GAAIA,IAEpD,EAEJ1Q,EAAQy+H,kBAAoBA,EAC5B,MAAMD,UAA0BE,EAC5BqB,QACAC,UACA/6H,YAAYgO,EAAQoqH,GAChB11H,QACAxC,KAAK46H,QAAU9sH,EACf9N,KAAK66H,UAAY3C,CACrB,CACAv7H,OAAQub,OAAO4sE,iBACX,IAAIv5E,EAAI,EACR,UAAW,MAAM5H,KAAQ3D,KAAK46H,oBACd56H,KAAK66H,UAAUl3H,EAAM4H,IAEzC,EAEJ1Q,EAAQw+H,kBAAoBA,EAC5B,MAAMD,UAA4BG,EAC9BqB,QACAC,UACA/6H,YAAYgO,EAAQoqH,GAChB11H,QACAxC,KAAK46H,QAAU9sH,EACf9N,KAAK66H,UAAY3C,CACrB,CACAv7H,OAAQub,OAAO4sE,iBACX,MAAMnhF,QAAa3D,KAAK46H,oBACZ56H,KAAK66H,UAAUl3H,EAAM,EACrC,EAEJ9I,EAAQu+H,oBAAsBA,EAC9B,MAAMD,UAAoCI,EACtCwB,YACAF,UACA/6H,YAAYk7H,EAAY9C,GACpB11H,QACAxC,KAAK+6H,YAAcC,EACnBh7H,KAAK66H,UAAY3C,CACrB,CACAv7H,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,MAAM2sE,EAAO,IAAIC,EACXmC,EAAej7H,KAAK+6H,YAAYx3D,UAAU,CAC5C52D,KAAK7R,GACD+9H,EAAK7kH,MAAMlZ,EACf,EACAyE,MAAMmd,GACFm8G,EAAKt5H,MAAMmd,EACf,EACAga,WACImiG,EAAKz9G,KACT,IAEJ,SAASq9G,IACLI,EAAKt5H,MAAM,IAAIy4H,EAAaJ,WAChC,CACI1rE,GACAA,EAAO1yC,iBAAiB,QAASi/G,GAErC,IAAIltH,EAAI,EACR,IACI,IAAK,IAAIoB,IAAQA,QAAaksH,EAAKlsH,QAAQ/N,OACvC,EAAIo5H,EAAaL,gBAAgBzrE,eACrBlsD,KAAK66H,UAAUluH,EAAK7R,MAAOyQ,IAE/C,CACA,QACQ2gD,GACAA,EAAOhyC,oBAAoB,QAASu+G,GAExCwC,EAAaC,aACjB,CACJ,EAEJrgI,EAAQs+H,4BAA8BA,EACtC,MAAMS,EACFgB,QACAO,QACAr7H,YAAYgO,EAAQo+C,GAChBlsD,KAAK46H,QAAU9sH,EACf9N,KAAKm7H,QAAUjvE,CACnB,CACA,CAACh0C,OAAO4sE,iBAEJ,OAAO9kF,KAAK46H,QAAQ1iH,OAAO4sE,eAAe9kF,KAAKm7H,QACnD,EAEJ,IACI,CAAEC,IACE,GAyBiB,iBAAX5rH,QAA2C,iBAAbK,UAA+C,IAAtBA,SAASwrH,SAxBlE,OAEJ9B,EAAevgH,UAAgB,KAE/B,YAAqB5R,GACjB,IACIgU,EADA7P,GAAK,EAET,MAAMiC,EAAIpG,EAAKhB,OACf,IACIuG,EADA1F,EAAOjH,KAEX,OAASuL,EAAIiC,GAET,GADAb,EAAOvF,EAAKmE,GACQ,mBAAToB,EACP1F,EAAO0F,EAAK4sH,EAAeM,GAAG5yH,SAE7B,IAAI,EAAI4wH,EAAayD,sBAAsB3uH,GAG5C,QAFGyO,OAAM,GAAShU,EAAKmE,EAAI,IAAM,CAAC,IAE3B,EAAIssH,EAAa0D,sBAAsBt0H,GAAQA,EAAK28B,KAAKj3B,EAAM,CAAEyO,QACpEm+G,EAAeM,GAAG5yH,GAAMu0H,aAAaC,EAAa9uH,IAAOi3B,KAAKj3B,EAAM,CAAEyO,QAGlF,OAAOnU,CACX,EApBA,MAAMw0H,EAAe,CAAC9lH,EAAGlK,EAAOkK,EAAE8O,gBAAkB,CAAE1iB,YAAY,KAAW0J,CAqBhF,EA1BD,EA2BJ,CACA,MAAO0C,GAEP,6BC1RAxT,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQi+H,eAAY,EACpB,MACMyB,EAAc,QACpB,MAAMzB,EACF0B,OACAC,QACAC,WACA56H,cACIE,KAAKw6H,QAAS,EACdx6H,KAAKy6H,QAAU,GACfz6H,KAAK06H,WAAa,EACtB,CACA,CAACxiH,OAAO4sE,iBACJ,OAAO9kF,IACX,CACAgU,MAAMlZ,GACFkF,KAAK26H,MAAM,CAAE3zH,KAfD,QAeoBlM,SACpC,CACAyE,MAAMA,GACFS,KAAK26H,MAAM,CAAE3zH,KAAMuzH,EAAah7H,SACpC,CACAo7H,MAAMh3H,GACF,GAAI3D,KAAKw6H,OACL,MAAM,IAAIv+H,MAAM,2BAEpB,GAAI+D,KAAK06H,WAAWt0H,OAAS,EAAG,CAC5B,MAAM,QAAEwxB,EAAO,OAAEwB,GAAWp5B,KAAK06H,WAAWruH,QACxC1I,EAAKqD,OAASuzH,EACdnhG,EAAOz1B,EAAKpE,OAGZq4B,EAAQ,CAAEh5B,MAAM,EAAO9D,MAAO6I,EAAK7I,OAE3C,MAEIkF,KAAKy6H,QAAQ94H,KAAKgC,EAE1B,CACAgJ,OACI,GAAI3M,KAAKy6H,QAAQr0H,OAAS,EAAG,CACzB,MAAM,KAAEY,EAAI,MAAElM,EAAK,MAAEyE,GAAUS,KAAKy6H,QAAQpuH,QAC5C,OAAIrF,IAASuzH,EACFvkH,QAAQojB,OAAO75B,GAGfyW,QAAQ4hB,QAAQ,CAAEh5B,MAAM,EAAO9D,SAE9C,CACA,OAAIkF,KAAKw6H,OACExkH,QAAQ4hB,QAAQ,CAAEh5B,MAAM,IAE5B,IAAIoX,SAAQ,CAAC4hB,EAASwB,KACzBp5B,KAAK06H,WAAW/4H,KAAK,CAAEi2B,UAASwB,UAAS,GAEjD,CACAhe,MACI,KAAOpb,KAAK06H,WAAWt0H,OAAS,GAC5BpG,KAAK06H,WAAWruH,QAAQurB,QAAQ,CAAEh5B,MAAM,IAE5CoB,KAAKw6H,QAAS,CAClB,EAEJ3/H,EAAQi+H,UAAYA,+BC/DpBn+H,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6gI,aAAU,EAClB,MAAMjC,EAAa,EAAQ,MACrBxB,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAsB7Bn9H,EAAQ6gI,QAdR/+H,eAAuBmR,EAAQnI,GAC3B,MAAQ,SAAcuyH,EAAWuB,EAAWK,cAAe,OAAY5tE,EAAQ,QAAa9xC,GAAazU,GAAW,CAAC,GACrH,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,IAAI8mE,EAAM,EACN9+E,EAAQ,EACZ,UAAW,MAAMvwC,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5D8mE,SAAakF,EAAShmH,KAAKkI,EAASzW,EAAMuoD,GAC1ChY,IAEJ,GAAc,IAAVA,EACA,MAAM,IAAIj4C,MAAM,oBAEpB,OAAO+2H,EAAM9+E,CACjB,+BCzBAv5C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8gI,WAAa9gI,EAAQ+gI,SAAW/gI,EAAQghI,2BAAwB,EACxE,MAAMC,EAAmB,EAAQ,MAC3BC,EAAmB,EAAQ,MAC3B9D,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAC7B,MAAM6D,UAA8BC,EAAiBvC,eACjDqB,QACA96H,YAAYgO,GACRtL,QACAxC,KAAK46H,QAAU9sH,CACnB,CACAnR,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAI3sD,EAAQ,KACRy8H,GAAW,EACf,IAAK,MAAMluH,KAAU9N,KAAK46H,QAAS,CAC/B,MAAMxC,GAAK,EAAIH,EAAYI,eAAevqH,EAAQo+C,GAAQh0C,OAAO4sE,iBAGjE,IAFAvlF,EAAQ,KACRy8H,GAAW,IACD,CACN,IAAIvtH,EAAI,CAAC,EACT,IACI,MAAM,KAAE7P,EAAI,MAAE9D,SAAgBs9H,EAAGzrH,OACjC,GAAI/N,EAAM,OACA,EAAIm9H,EAAiBE,qBAAqB7D,GAChD,KACJ,CACA3pH,EAAI3T,CACR,CACA,MAAOqT,GACH5O,EAAQ4O,EACR6tH,GAAW,QACL,EAAID,EAAiBE,qBAAqB7D,GAChD,KACJ,OACM3pH,CACV,CACA,IAAKutH,EACD,KAER,CACA,GAAIA,EACA,MAAMz8H,CAEd,EAEJ1E,EAAQghI,sBAAwBA,EAYhChhI,EAAQ+gI,SAHR,SAAkB9tH,GACd,OAAO,IAAI+tH,EAAsB/tH,EACrC,EAaAjT,EAAQ8gI,WAHR,YAAuBv0H,GACnB,OAAO,IAAIy0H,EAAsBz0H,EACrC,+BCtEAzM,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqhI,cAAgBrhI,EAAQshI,gCAA6B,EAC7D,MAAML,EAAmB,EAAQ,MAC3BrC,EAAa,EAAQ,MACrBxB,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MACvBoE,EAAa,EAAQ,MAErBC,EAAgB,IAAIrmH,SAAQ,SAClC,SAASsmH,EAAqBt+F,EAAS/xB,GACnC,OAAO+xB,EAAQjE,MAAMj/B,IAAU,CAAGA,QAAOmR,WAC7C,CACA,MAAMkwH,UAAmCL,EAAiBvC,eACtDgD,SACAz8H,YAAY08H,GACRh6H,QACAxC,KAAKu8H,SAAWC,CACpB,CACA7/H,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,MAAM9lD,EAASpG,KAAKu8H,SAASn2H,OACvBq2H,EAAY,IAAI52H,MAAMO,GACtBs2H,EAAQ,IAAI72H,MAAMO,GACxB,IAAIu2H,GAAc,EAClB,MAAM73H,EAAS,IAAIe,MAAMO,GACnBw2H,EAAY,IAAI/2H,MAAMO,GAC5B,IAAIs1D,EAASt1D,EACbw2H,EAAUv2H,MAAK,GACf,IAAK,IAAIkF,EAAI,EAAGA,EAAInF,EAAQmF,IAAK,CAC7B,MAAMmwE,GAAW,EAAIu8C,EAAYI,eAAer4H,KAAKu8H,SAAShxH,GAAI2gD,GAAQh0C,OAAO4sE,iBACjF23C,EAAUlxH,GAAKmwE,EACfghD,EAAMnxH,GAAK+wH,EAAqB5gD,EAAS/uE,OAAQpB,EACrD,CACA,KAAOmwD,EAAS,GAAG,CACf,MAAM/uD,GAAO,EAAIyvH,EAAWS,UAAUH,IAC9B5hI,OAASA,MAAOgiI,EAAQl+H,KAAMm+H,GAAO,MAAE9wH,SAAiBU,EAChE,GAAIowH,EACAL,EAAMzwH,GAASowH,EACf3gE,QAEC,CACD52D,EAAOmH,GAAS6wH,EAChBF,EAAU3wH,IAAS,EACnB,MAAM+wH,EAAYP,EAAUxwH,GAC5BywH,EAAMzwH,GAASqwH,EAAqBU,EAAUrwH,OAAQV,IAClD0wH,IAAgBA,EAAcC,EAAU9rG,MAAM2oG,EAAWwD,oBACnDn4H,EAEd,CACJ,CACJ,EAEJjK,EAAQshI,2BAA6BA,EAIrCthI,EAAQqhI,cAHR,YAA0BM,GACtB,OAAO,IAAIL,EAA2BK,EAC1C,+BCvDA7hI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQuK,OAASvK,EAAQqiI,WAAariI,EAAQsiI,yBAAsB,EACpE,MAAMrB,EAAmB,EAAQ,MAC3B7D,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAC7B,MAAMmF,UAA4BrB,EAAiBvC,eAC/CqB,QACA96H,YAAYgO,GACRtL,QACAxC,KAAK46H,QAAU9sH,CACnB,CACAnR,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAK,MAAMkxE,KAASp9H,KAAK46H,QACrB,UAAW,MAAMj3H,KAAQ,EAAIs0H,EAAYI,eAAe+E,EAAOlxE,SACrDvoD,CAGlB,EAEJ9I,EAAQsiI,oBAAsBA,EAI9BtiI,EAAQqiI,WAHR,SAAoBpvH,GAChB,OAAO,IAAIqvH,EAAoBrvH,EACnC,EAaAjT,EAAQuK,OAHR,YAAmBgC,GACf,OAAO,IAAI+1H,EAAoB/1H,EACnC,6BCnCAzM,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQq5C,WAAQ,EAChB,MAAM+jF,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAsB7Bn9H,EAAQq5C,MAXRv3C,eAAqBmR,EAAQnI,GACzB,MAAQ,OAAYumD,EAAQ,QAAa9xC,EAAS,UAAewgB,EAAYj+B,WAAY,IAASgJ,GAAW,CAAC,GAC9G,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAI,EACR,UAAW,MAAM5H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,SAClDtxB,EAAU1oB,KAAKkI,EAASzW,EAAM4H,EAAG2gD,IACvC3gD,IAGR,OAAOA,CACX,+BCxBA5Q,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmL,YAAS,EACjB,MAAM81H,EAAmB,EAAQ,MAC3B9D,EAAe,EAAQ,MAC7B,MAAMqF,UAA+BvB,EAAiBvC,eAClD+D,IACAx9H,YAAYmjC,GACRzgC,QACAxC,KAAKs9H,IAAMr6F,CACf,CACAtmC,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,MAAMksE,QAAWp4H,KAAKs9H,IAAIpxE,GAC1B,IAAIv/C,EACJ,OAASA,QAAayrH,EAAGzrH,QAAQ/N,YACvB+N,EAAK7R,KAEnB,EAYJD,EAAQmL,OAHR,SAAgBi9B,GACZ,OAAO,IAAIo6F,EAAuBp6F,EACtC,+BC5BAtoC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0iI,WAAQ,EAChB,MAAMzB,EAAmB,EAAQ,MAC3B7D,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAC7B,MAAMwF,UAA2B1B,EAAiBvC,eAC9C+D,IACAx9H,YAAYmjC,GACRzgC,QACAxC,KAAKs9H,IAAMr6F,CACf,CACAtmC,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,MAAMvxB,QAAc36B,KAAKs9H,IAAIpxE,GAC7B,UAAW,MAAMvoD,KAAQ,EAAIs0H,EAAYI,eAAe19F,EAAOuxB,SACrDvoD,CAEd,EAaJ9I,EAAQ0iI,MAHR,SAAev1F,GACX,OAAO,IAAIw1F,EAAmBx1F,EAClC,+BC7BArtC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4iI,eAAY,EACpB,MAAMxF,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAsB7Bn9H,EAAQ4iI,UAXR9gI,eAAyBmR,EAAQ7B,EAAOigD,IACpC,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAIU,EACR,UAAW,MAAMtI,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAAS,CACrE,GAAU,IAAN3gD,EACA,OAAO5H,EAEX4H,GACJ,CAEJ,+BCxBA5Q,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgjC,WAAQ,EAChB,MAAMi+F,EAAmB,EAAQ,MAC3B9D,EAAe,EAAQ,MAC7B,MAAM0F,UAA2B5B,EAAiBvC,eAC9C58H,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,EACrC,EAWJrxD,EAAQgjC,MAHR,WACI,OAAO,IAAI6/F,CACf,+BCjBA/iI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQi2B,WAAQ,EAChB,MAAMmnG,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAqB7Bn9H,EAAQi2B,MAXRn0B,eAAqBmR,EAAQnI,GACzB,MAAQ,OAAYumD,EAAQ,QAAa9xC,EAAS,UAAewgB,GAAcj1B,GAC/E,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAI,EACR,UAAW,MAAM5H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5D,UAAYtxB,EAAU1oB,KAAKkI,EAASzW,EAAM4H,IAAK2gD,GAC3C,OAAO,EAGf,OAAO,CACX,+BCvBAvxD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwS,UAAO,EACf,MAAM4qH,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAoB7Bn9H,EAAQwS,KAXR1Q,eAAoBmR,EAAQnI,GACxB,MAAQ,OAAYumD,EAAQ,QAAa9xC,EAAS,UAAewgB,GAAcj1B,GAC/E,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAI,EACR,UAAW,MAAM5H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5D,SAAUtxB,EAAU1oB,KAAKkI,EAASzW,EAAM4H,IAAK2gD,GACzC,OAAOvoD,CAInB,+BCtBAhJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8iI,eAAY,EACpB,MAAM1F,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAqB7Bn9H,EAAQ8iI,UAXRhhI,eAAyBmR,EAAQnI,GAC7B,MAAQ,OAAYumD,EAAQ,QAAa9xC,EAAS,UAAewgB,GAAcj1B,GAC/E,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAI,EACR,UAAW,MAAM5H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5D,SAAUtxB,EAAU1oB,KAAKkI,EAASzW,EAAM4H,IAAK2gD,GACzC,OAAO3gD,EAGf,OAAQ,CACZ,+BCvBA5Q,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQo6C,WAAQ,EAChB,MAAMgjF,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAoB7Bn9H,EAAQo6C,MAXRt4C,eAAqBmR,EAAQnI,GACzB,MAAQ,OAAYumD,EAAQ,QAAa9xC,EAAS,UAAewgB,EAAYj+B,WAAY,IAASgJ,GAAW,CAAC,GAC9G,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAI,EACR,UAAW,MAAM5H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5D,SAAUtxB,EAAU1oB,KAAKkI,EAASzW,EAAM4H,IAAK2gD,GACzC,OAAOvoD,CAInB,+BCtBAhJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+iI,cAAW,EACnB,MAAMnE,EAAa,EAAQ,MACrBxB,EAAc,EAAQ,MACtBmE,EAAa,EAAQ,MAErBC,EAAgB,IAAIrmH,SAAQ,SAClC,SAASsmH,EAAqBt+F,EAAS/xB,GACnC,OAAO+xB,EAAQjE,MAAMj/B,IAAU,CAAGA,QAAOmR,WAC7C,CA6CApR,EAAQ+iI,SArCRjhI,kBAA2B6/H,GACvB,IAAItwE,EAASswE,EAAQnwH,QACf6/C,aAAkB8E,cACpBwrE,EAAQ1qH,QAAQo6C,GAChBA,OAASzwD,GAEb,MAAM2K,EAASo2H,EAAQp2H,OACjBq2H,EAAY,IAAI52H,MAAMO,GACtBs2H,EAAQ,IAAI72H,MAAMO,GACxB,IAAIs1D,EAASt1D,EACb,MAAMtB,EAAS,IAAIe,MAAMO,GACnBw2H,EAAY,IAAI/2H,MAAMO,GAC5Bw2H,EAAUv2H,MAAK,GACf,IAAK,IAAIkF,EAAI,EAAGA,EAAInF,EAAQmF,IAAK,CAC7B,MAAMmwE,GAAW,EAAIu8C,EAAYI,eAAemE,EAAQjxH,GAAI2gD,GAAQh0C,OAAO4sE,iBAC3E23C,EAAUlxH,GAAKmwE,EACfghD,EAAMnxH,GAAK+wH,EAAqB5gD,EAAS/uE,OAAQpB,EACrD,CACA,KAAOmwD,EAAS,GAAG,CACf,MAAM/uD,GAAO,EAAIyvH,EAAWS,UAAUH,IAC9B5hI,MAAO+iI,EAAK,MAAE5xH,SAAgBU,EACtC,GAAIkxH,EAAMj/H,KACN89H,EAAMzwH,GAASowH,EACf3gE,QAEC,CACD,MAAMshE,EAAYP,EAAUxwH,GAC5BywH,EAAMzwH,GAASqwH,EAAqBU,EAAUrwH,OAAQV,GACtD2wH,EAAU3wH,IAAS,EACnBnH,EAAOmH,GAAS4xH,EAAM/iI,KAC1B,CACJ,CACA,GAAI8hI,EAAUx2H,OAAS,GAAKw2H,EAAU9rG,MAAM2oG,EAAWwD,UACnD,OAAOn4H,CAGf,+BCrDAnK,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQijI,cAAgBjjI,EAAQkjI,gCAAkCljI,EAAQmjI,iCAA8B,EACxG,MAAMlC,EAAmB,EAAQ,MAE3BmC,EAA8C,oBAAtBC,kBAAoCA,kBAAoBzmH,YACtF,MAAMumH,UAAoClC,EAAiBvC,eACvD13H,QACA/B,YAAY+B,GACRW,QACAxC,KAAK6B,QAAUA,CACnB,CACA,CAACqW,OAAO4sE,iBACJ,MAAMvgE,EAASvkB,KAAK6B,QACdk9E,EAASx6D,EAAkB,YACjC,OAAO45G,EAAe55G,EAAQw6D,EAmDtCpiF,gBAA6CoiF,GACzC,IAAI3vE,EACJ,OAASA,QAAU2vE,EAAO3hF,QAAQwB,YACxBwQ,EAAEtU,KAEhB,CAxD8CsjI,CAA6Br/C,GACvE,EAEJlkF,EAAQmjI,4BAA8BA,EACtC,MAAMD,UAAwCC,EAC1C,CAAC9lH,OAAO4sE,iBACJ,MAAMvgE,EAASvkB,KAAK6B,QACpB,IAAIk9E,EACJ,IACIA,EAASx6D,EAAkB,UAAE,CAAEknE,KAAM,QACzC,CACA,MAAOt9E,GACH,OAAO3L,MAAM0V,OAAO4sE,gBACxB,CACA,MAAMpJ,EAAWyiD,EAAe55G,EAAQw6D,EA4ChDpiF,gBAA0CoiF,GACtC,IAAI3vE,EACAtU,QAAc,KAClB,OAASsU,QAAUivH,EAASt/C,EAAQjkF,EAAO,IAAI8D,MAC3C9D,QAAcsU,EAAEtU,KAExB,CAlDwDwjI,CAA0Bv/C,IAG1E,OADArD,EAAS/uE,OACF+uE,CACX,EAGJ/+E,eAAgBwhI,EAAe55G,EAAQw6D,EAAQrD,GAC3C,IAAI6iD,GAAQ,EACZ,UACW7iD,CACX,CACA,MAAOvtE,IACEowH,GAAQ,IAASx/C,SACZA,EAAe,OAAE5wE,EAE/B,CACA,QACI,GAAI4wE,IACKw/C,SACKx/C,EAAe,SAErBx6D,EAAO8pE,QACP,IACItP,EAAO+C,OAAO9nD,OAAM,SAGpB+kD,EAAOsD,aACX,CACA,MAAOl0E,GAEP,CAGZ,CACJ,CAiBAxR,eAAe0hI,EAASt/C,EAAQy/C,EAAazwH,GACzC,IAAIya,EACAva,EACJ,GAA2B,iBAAhBuwH,EACPvwH,EAAS,IAAIwJ,YAAa+Q,EAAOg2G,QAEhC,GAAIA,aAAuB/mH,YAC5B+Q,GAAQva,EAASuwH,GAAarnH,eAE7B,MAAIqnH,aAAuBP,GAI5B,MAAO,CAAEr/H,MAAM,EAAM9D,WAAOW,GAH5B+sB,GAAQva,EAASuwH,GAAarnH,UAIlC,CACA,aAAasnH,EAAS1/C,EAAQ9wE,EAAQF,EAAQya,EAClD,CAEA7rB,eAAe8hI,EAAS1/C,EAAQ9wE,EAAQF,EAAQya,GAC5C,IAAIk2G,EAAc3wH,EAClB,GAAI2wH,GAAel2G,EACf,MAAO,CAAE5pB,MAAM,EAAO9D,MAAO,IAAIqmB,WAAWlT,EAAQ,EAAGua,IAE3D,MAAM,KAAE5pB,EAAI,MAAE9D,SAAgBikF,EAAO3hF,KAAK,IAAI+jB,WAAWlT,EAAQywH,EAAal2G,EAAOk2G,IACrF,OAAKA,GAAe5jI,EAAMqc,YAAcqR,IAAS5pB,QAChC6/H,EAAS1/C,EAAQjkF,EAAMmT,OAAQywH,EAAal2G,GAEtD,CAAE5pB,OAAM9D,MAAO,IAAIqmB,WAAWrmB,EAAMmT,OAAQ,EAAGywH,GAC1D,CA1EA7jI,EAAQkjI,gCAAkCA,EAuF1CljI,EAAQijI,cALR,SAAuBv5G,EAAQ5e,GAC3B,OAAQA,GAA+B,SAApBA,EAAc,KAE3B,IAAIo4H,EAAgCx5G,GADpC,IAAIy5G,EAA4Bz5G,EAE1C,+BCxHA5pB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8jI,eAAY,EACpB,MAAMC,EAAqB,EAAQ,MAC7B/G,EAAe,EAAQ,MAyC7Bh9H,EAAQ8jI,UArBR,SAAmBlqH,EAAKzN,EAAMrB,EAASk5H,GAKnC,IAJI,EAAIhH,EAAaiH,YAAYn5H,KAC7Bk5H,EAAiBl5H,EACjBA,OAAUlK,GAhBlB,SAAuBgZ,GACnB,QAASA,IAAO,EAAIojH,EAAaiH,YAAYrqH,EAAI+E,oBAAqB,EAAIq+G,EAAaiH,YAAYrqH,EAAIyF,oBAC3G,CAgBQ6kH,CAActqH,GAAM,CACpB,MAAMsC,EAAStC,EACf,OAAO,EAAImqH,EAAmBI,mBAAmBl4G,GAAM/P,EAAOyC,iBAAiBxS,EAAM8f,EAAGnhB,KAAWmhB,GAAM/P,EAAOmD,oBAAoBlT,EAAM8f,EAAGnhB,IAAUk5H,EAC3J,CACK,GA5BT,SAAmCpqH,GAC/B,QAASA,IAAO,EAAIojH,EAAaiH,YAAYrqH,EAAInR,MAAO,EAAIu0H,EAAaiH,YAAYrqH,EAAIwqH,IAC7F,CA0BaC,CAA0BzqH,GAAM,CACrC,MAAMsC,EAAStC,EACf,OAAO,EAAImqH,EAAmBI,mBAAmBl4G,GAAM/P,EAAOzT,GAAG0D,EAAM8f,KAAKA,GAAM/P,EAAOkoH,IAAIj4H,EAAM8f,IAAI+3G,EAC3G,CACK,GA7BT,SAA4BpqH,GACxB,QAASA,IAAO,EAAIojH,EAAaiH,YAAYrqH,EAAIgpC,eAAgB,EAAIo6E,EAAaiH,YAAYrqH,EAAI0F,eACtG,CA2BaglH,CAAmB1qH,GAAM,CAC9B,MAAMsC,EAAStC,EACf,OAAO,EAAImqH,EAAmBI,mBAAmBl4G,GAAM/P,EAAO0mC,YAAYz2C,EAAM8f,KAAKA,GAAM/P,EAAOoD,eAAenT,EAAM8f,IAAI+3G,EAC/H,CAEI,MAAM,IAAIrzH,UAAU,2BAE5B,+BC3CA7Q,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmkI,sBAAmB,EAC3B,MAAMpG,EAAY,EAAQ,MACpBa,EAAa,EAAQ,MACrB5B,EAAe,EAAQ,MACvBc,EAAc,EAAQ,OACtB,QAAE7yH,GAAYD,MAgCpBhL,EAAQmkI,iBApBR,SAA0BI,EAAYC,EAAeR,IAC5C,EAAIhH,EAAaiH,YAAYD,KAC9BA,EAAiBpF,EAAWwD,UAEhC,MAAMpE,EAAO,IAAIF,EAAYG,UACvBr/G,EAAU,IAAIrS,IAASyxH,EAAK7kH,MAhBtC,SAAqBivB,EAAI77B,GACrB,OAAOtB,EAAQsB,GAAQ67B,KAAM77B,GAAQ67B,EAAG77B,EAC5C,CAc4Ck4H,CAAYT,EAAgBz3H,IAapE,OAZAg4H,EAAW3lH,IAYJ,EAAIm/G,EAAUI,UAAd,CAXMr8H,kBACT,IACI,IAAK,IAAIgQ,IAAQA,QAAaksH,EAAKlsH,QAAQ/N,YACjC+N,EAAK7R,KAEnB,CACA,QACIukI,EAAc5lH,GACdo/G,EAAKz9G,KACT,CACJ,CACgCmkH,GACpC,+BCrCA5kI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+1B,cAAW,EACnB,MAAMkrG,EAAmB,EAAQ,MAC3B9D,EAAe,EAAQ,MAC7B,MAAMwH,UAA8B1D,EAAiBvC,eACjDkG,cACAC,WACAC,SACAC,gBACA9/H,YAAY+/H,EAAc3c,EAAW4c,EAASjB,GAC1Cr8H,QACAxC,KAAKy/H,cAAgBI,EACrB7/H,KAAK0/H,WAAaxc,EAClBljH,KAAK2/H,SAAWG,EAChB9/H,KAAK4/H,gBAAkBf,CAC3B,CACAliI,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAK,IAAI3gD,EAAIvL,KAAKy/H,oBAAqBz/H,KAAK0/H,WAAWn0H,EAAG2gD,GAAS3gD,QAAUvL,KAAK2/H,SAASp0H,EAAG2gD,eAC9ElsD,KAAK4/H,gBAAgBr0H,EAAG2gD,EAE5C,EAiBJrxD,EAAQ+1B,SAHR,SAAkBivG,EAAc3c,EAAW4c,EAASjB,GAChD,OAAO,IAAIW,EAAsBK,EAAc3c,EAAW4c,EAASjB,EACvE,+BCrCAlkI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQklI,kBAAe,EACvB,MAAMjE,EAAmB,EAAQ,MAC3BkE,EAAW,EAAQ,MACnBhI,EAAe,EAAQ,MAC7B,MAAMiI,UAAkCnE,EAAiBvC,eACrDkG,cACAC,WACAC,SACAC,gBACAM,cACApgI,YAAY+/H,EAAc3c,EAAW4c,EAASjB,EAAgBsB,GAC1D39H,QACAxC,KAAKy/H,cAAgBI,EACrB7/H,KAAK0/H,WAAaxc,EAClBljH,KAAK2/H,SAAWG,EAChB9/H,KAAK4/H,gBAAkBf,EACvB7+H,KAAKkgI,cAAgBC,CACzB,CACAxjI,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAK,IAAI3gD,EAAIvL,KAAKy/H,oBAAqBz/H,KAAK0/H,WAAWn0H,EAAG2gD,GAAS3gD,QAAUvL,KAAK2/H,SAASp0H,EAAG2gD,GAAS,CACnG,MAAMk0E,QAAapgI,KAAKkgI,cAAc30H,EAAG2gD,SACnC,EAAI8zE,EAASr7E,OAAOy7E,EAAMl0E,eACpBlsD,KAAK4/H,gBAAgBr0H,EAAG2gD,EACxC,CACJ,EAkBJrxD,EAAQklI,aAHR,SAAsBF,EAAc3c,EAAW4c,EAASjB,EAAgBsB,GACpE,OAAO,IAAIF,EAA0BJ,EAAc3c,EAAW4c,EAASjB,EAAgBsB,EAC3F,8BC3CAxlI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwlI,SAAM,EACd,MAAMC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAcxB1lI,EAAQwlI,IAHR,SAAand,EAAWsd,EAAYC,GAAa,EAAIF,EAAQ1iG,UACzD,OAAO,EAAIyiG,EAAQ/C,QAAO5gI,MAAOuvD,SAAmBg3D,EAAUh3D,GAAWs0E,EAAaC,GAC1F,+BChBA9lI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmwB,cAAW,EACnB,MAAM01G,EAAa,EAAQ,MACrBzI,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAyB7Bn9H,EAAQmwB,SAdRruB,eAAwBmR,EAAQ6yH,EAAaC,EAAY,EAAG10E,IACxD,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAI20E,EAAUD,EACVr1H,EAAI,EACJK,KAAK8H,IAAImtH,KACTA,EAAU,GAEd,UAAW,MAAMl9H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5D,GAAI3gD,IAAMs1H,IAAW,EAAIH,EAAWvI,UAAUx0H,EAAMg9H,GAChD,OAAO,EAGf,OAAO,CACX,8BC5BAhmI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6c,KAAO7c,EAAQg/H,QAAK,EAC5B,MAAMiH,EAAU,EAAQ,MACxBA,EAAQC,aAAa,EAAQ,MAAsBlmI,GACnDimI,EAAQC,aAAa,EAAQ,MAAelmI,GAC5CimI,EAAQC,aAAa,EAAQ,MAAqBlmI,GAClDimI,EAAQC,aAAa,EAAQ,MAAclmI,GAC3CimI,EAAQC,aAAa,EAAQ,MAAiBlmI,GAC9CimI,EAAQC,aAAa,EAAQ,MAAoBlmI,GACjDimI,EAAQC,aAAa,EAAQ,MAAalmI,GAC1CimI,EAAQC,aAAa,EAAQ,IAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAalmI,GAC1CimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAgBlmI,GAC7CimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAgBlmI,GAC7CimI,EAAQC,aAAa,EAAQ,MAAWlmI,GACxCimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAelmI,GAC5CimI,EAAQC,aAAa,EAAQ,MAAoBlmI,GACjDimI,EAAQC,aAAa,EAAQ,MAAuBlmI,GACpDimI,EAAQC,aAAa,EAAQ,MAAgBlmI,GAC7CimI,EAAQC,aAAa,EAAQ,MAAelmI,GAC5CimI,EAAQC,aAAa,EAAQ,MAAmBlmI,GAChDimI,EAAQC,aAAa,EAAQ,KAAUlmI,GACvCimI,EAAQC,aAAa,EAAQ,MAAelmI,GAC5CimI,EAAQC,aAAa,EAAQ,MAAelmI,GAC5CimI,EAAQC,aAAa,EAAQ,MAAclmI,GAC3CimI,EAAQC,aAAa,EAAQ,MAAWlmI,GACxCimI,EAAQC,aAAa,EAAQ,MAAUlmI,GACvCimI,EAAQC,aAAa,EAAQ,KAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAUlmI,GACvCimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,KAASlmI,GACtCimI,EAAQC,aAAa,EAAQ,MAAwBlmI,GACrDimI,EAAQC,aAAa,EAAQ,MAAWlmI,GACxCimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAkBlmI,GAC/CimI,EAAQC,aAAa,EAAQ,MAAalmI,GAC1CimI,EAAQC,aAAa,EAAQ,MAAkBlmI,GAC/CimI,EAAQC,aAAa,EAAQ,MAAoBlmI,GACjDimI,EAAQC,aAAa,EAAQ,MAAalmI,GAC1CimI,EAAQC,aAAa,EAAQ,MAAWlmI,GACxCimI,EAAQC,aAAa,EAAQ,MAAUlmI,GACvCimI,EAAQC,aAAa,EAAQ,MAAkBlmI,GAC/CimI,EAAQC,aAAa,EAAQ,MAAclmI,GAC3CimI,EAAQC,aAAa,EAAQ,MAAkBlmI,GAC/CimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAmBlmI,GAChDimI,EAAQC,aAAa,EAAQ,MAAYlmI,GACzCimI,EAAQC,aAAa,EAAQ,MAAclmI,GAC3CimI,EAAQC,aAAa,EAAQ,MAAUlmI,GACvC,MAAMihI,EAAmB,EAAQ,MACjCjhI,EAAQg/H,GAAKiC,EAAiBvC,eAAeM,GAC7Ch/H,EAAQ6c,KAAOokH,EAAiBvC,eAAe7hH,kCCzD/C/c,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmmI,cAAW,EACnB,MAAMlF,EAAmB,EAAQ,MAC3BkE,EAAW,EAAQ,MACnBhI,EAAe,EAAQ,MAC7B,MAAMiJ,UAA8BnF,EAAiBvC,eACjD2H,SACAphI,YAAY04H,GACRh2H,QACAxC,KAAKkhI,SAAW1I,CACpB,CACA77H,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAI,EACR,aACU,EAAIy0H,EAASr7E,OAAO3kD,KAAKkhI,SAAUh1E,SACnC3gD,GAEd,EAWJ1Q,EAAQmmI,SAHR,SAAkBxI,GACd,OAAO,IAAIyI,EAAsBzI,EACrC,+BC5BA79H,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQo2B,aAAU,EAClB,MAAMgnG,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAgB7Bn9H,EAAQo2B,QAPRt0B,eAAuBmR,EAAQo+C,IAC3B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,UAAW,MAAMv3C,KAAK,EAAIsjH,EAAYI,eAAevqH,EAAQo+C,GACzD,OAAO,EAEX,OAAO,CACX,+BClBAvxD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQsmI,UAAO,EACf,MAAMlJ,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAuB7Bn9H,EAAQsmI,KAZRxkI,eAAoBmR,EAAQnI,GACxB,MAAQ,OAAYumD,EAAQ,QAAa9xC,EAAS,UAAewgB,EAAYj+B,WAAY,IAASgJ,GAAW,CAAC,GAC9G,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,IACI1sD,EADA+L,EAAI,EAER,UAAW,MAAM5H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,SAClDtxB,EAAU1oB,KAAKkI,EAASzW,EAAM4H,IAAK2gD,KACzC1sD,EAASmE,GAGjB,OAAOnE,CACX,+BCzBA7E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6Q,SAAM,EACd,MAAMg1H,EAAa,EAAQ,MACrBjH,EAAa,EAAQ,MACrBxB,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MA0B7Bn9H,EAAQ6Q,IAjBR/O,eAAmBmR,EAAQnI,GACvB,MAAQ,SAAcwyH,EAAWuI,EAAWU,sBAAuB,OAAYl1E,EAAQ,SAAcgsE,EAAWuB,EAAWK,eAAmBn0H,GAAW,CAAC,GAC1J,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,MAAMksE,GAAK,EAAIH,EAAYI,eAAevqH,EAAQo+C,GAAQh0C,OAAO4sE,iBACjE,IAAIn4E,QAAayrH,EAAGzrH,OACpB,GAAIA,EAAK/N,KACL,MAAM,IAAI3C,MAAM,iCAEpB,IAAIolI,QAAiBnJ,EAASvrH,EAAK7R,OACnC,OAAS6R,QAAayrH,EAAGzrH,QAAQ/N,MAAM,CACnC,MAAMu+B,QAAgB+6F,EAASvrH,EAAK7R,aACzBq9H,EAASh7F,EAASkkG,GAAa,IACtCA,EAAWlkG,EAEnB,CACA,OAAOkkG,CACX,8BC9BA1mI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQymI,WAAQ,EAChB,MAAMC,EAAe,EAAQ,MACvBb,EAAa,EAAQ,MAc3B7lI,EAAQymI,MAJR,SAAexzH,EAAQnI,GACnB,MAAQ,SAAcwyH,EAAWuI,EAAWU,sBAAuB,SAAclJ,EAAU,OAAYhsE,GAAYvmD,GAAW,CAAC,EAC/H,OAAO,EAAI47H,EAAaxJ,WAAWjqH,EAAQoqH,EAAUC,EAAUjsE,EACnE,+BChBAvxD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmoB,MAAQnoB,EAAQ2mI,wBAAqB,EAC7C,MAAM1F,EAAmB,EAAQ,MAC3B7D,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MACvBoE,EAAa,EAAQ,MAErBC,EAAgB,IAAIrmH,SAAQ,SAClC,SAASsmH,EAAqBt+F,EAAS/xB,GACnC,OAAO+xB,EAAQjE,MAAMj/B,IAAU,CAAGA,QAAOmR,WAC7C,CACA,MAAMu1H,UAA2B1F,EAAiBvC,eAC9CqB,QACA96H,YAAYgO,GACRtL,QACAxC,KAAK46H,QAAU9sH,CACnB,CACAnR,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,MAAM9lD,EAASpG,KAAK46H,QAAQx0H,OACtBq2H,EAAY,IAAI52H,MAAMO,GACtBs2H,EAAQ,IAAI72H,MAAMO,GACxB,IAAIs1D,EAASt1D,EACb,IAAK,IAAImF,EAAI,EAAGA,EAAInF,EAAQmF,IAAK,CAC7B,MAAMmwE,GAAW,EAAIu8C,EAAYI,eAAer4H,KAAK46H,QAAQrvH,GAAI2gD,GAAQh0C,OAAO4sE,iBAChF23C,EAAUlxH,GAAKmwE,EACfghD,EAAMnxH,GAAK+wH,EAAqB5gD,EAAS/uE,OAAQpB,EACrD,CACA,KAAOmwD,EAAS,GAAG,CACf,MAAM/uD,GAAO,EAAIyvH,EAAWS,UAAUH,IAC9B5hI,OAAS8D,KAAMm+H,EAAOjiI,MAAOgiI,GAAQ,MAAE7wH,SAAiBU,EAChE,GAAIowH,EACAL,EAAMzwH,GAASowH,EACf3gE,QAEC,CACD,MAAMshE,EAAYP,EAAUxwH,GAC5BywH,EAAMzwH,GAASqwH,EAAqBU,EAAUrwH,OAAQV,SAChD6wH,CACV,CACJ,CACJ,EAEJjiI,EAAQ2mI,mBAAqBA,EAI7B3mI,EAAQmoB,MAHR,SAAelV,KAAW1G,GACtB,OAAO,IAAIo6H,EAAmB,CAAC1zH,KAAW1G,GAC9C,+BC9CAzM,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgR,SAAM,EACd,MAAM60H,EAAa,EAAQ,MACrBjH,EAAa,EAAQ,MACrBxB,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MA0B7Bn9H,EAAQgR,IAjBRlP,eAAmBmR,EAAQnI,GACvB,MAAQ,SAAcwyH,EAAWuI,EAAWU,sBAAuB,OAAYl1E,EAAQ,SAAcgsE,EAAWuB,EAAWK,eAAmBn0H,GAAW,CAAC,GAC1J,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,MAAMksE,GAAK,EAAIH,EAAYI,eAAevqH,EAAQo+C,GAAQh0C,OAAO4sE,iBACjE,IAAIn4E,QAAayrH,EAAGzrH,OACpB,GAAIA,EAAK/N,KACL,MAAM,IAAI3C,MAAM,iCAEpB,IAAIwlI,QAAiBvJ,EAASvrH,EAAK7R,OACnC,OAAS6R,QAAayrH,EAAGzrH,QAAQ/N,MAAM,CACnC,MAAMu+B,QAAgB+6F,EAASvrH,EAAK7R,aACzBq9H,EAASh7F,EAASskG,GAAa,IACtCA,EAAWtkG,EAEnB,CACA,OAAOskG,CACX,+BC9BA9mI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6mI,WAAQ,EAChB,MAAMH,EAAe,EAAQ,MACvBb,EAAa,EAAQ,MAe3B7lI,EAAQ6mI,MALR,SAAe5zH,EAAQnI,GACnB,MAAQ,SAAcwyH,EAAWuI,EAAWU,sBAAuB,SAAclJ,EAAU,OAAYhsE,GAAYvmD,GAAW,CAAC,EAE/H,OAAO,EAAI47H,EAAaxJ,WAAWjqH,EAAQoqH,GADvBv7H,MAAO4W,EAAKkuH,WAAqBtJ,EAAS5kH,EAAKkuH,IACDv1E,EACtE,+BCjBAvxD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8mI,MAAQ9mI,EAAQ+mI,wBAAqB,EAC7C,MAAM9F,EAAmB,EAAQ,MAC3B9D,EAAe,EAAQ,MAC7B,MAAM4J,UAA2B9F,EAAiBvC,eAC9Cz5H,cACI0C,OACJ,CACA7F,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,SAC3B,IAAIl2C,SAAQ,CAACrB,EAAGykB,KACd8yB,GACAA,EAAO1yC,iBAAiB,SAAS,IAAM4f,EAAO,IAAI4+F,EAAaJ,aAAe,CAAEr0H,MAAM,GAC1F,GAER,EAEJ1I,EAAQ+mI,mBAAqBA,EAS7B/mI,EAAQ8mI,MAHR,WACI,OAAO,IAAIC,CACf,8BCzBAjnI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgnI,GAAKhnI,EAAQinI,qBAAkB,EACvC,MAAMhG,EAAmB,EAAQ,MAC3B9D,EAAe,EAAQ,MAC7B,MAAM8J,UAAwBhG,EAAiBvC,eAC3CwI,MACAjiI,YAAYsH,GACR5E,QACAxC,KAAK+hI,MAAQ36H,CACjB,CACAzK,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAK,MAAMvoD,KAAQ3D,KAAK+hI,YACdp+H,CAEd,EAEJ9I,EAAQinI,gBAAkBA,EAW1BjnI,EAAQgnI,GAHR,YAAez6H,GACX,OAAO,IAAI06H,EAAgB16H,EAC/B,+BC3BAzM,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmnI,kBAAoBnnI,EAAQonI,oCAAiC,EACrE,MAAMnG,EAAmB,EAAQ,MAC3B7D,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAC7B,MAAMiK,UAAuCnG,EAAiBvC,eAC1DqB,QACA96H,YAAYgO,GACRtL,QACAxC,KAAK46H,QAAU9sH,CACnB,CACAnR,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAK,MAAMvoD,KAAQ3D,KAAK46H,QAAS,CAC7B,MAAMxC,GAAK,EAAIH,EAAYI,eAAe10H,EAAMuoD,GAAQh0C,OAAO4sE,iBAC/D,OAAU,CACN,IAAIn4E,EACJ,IACIA,QAAayrH,EAAGzrH,MACpB,CACA,MAAOwB,GACH,KACJ,CACA,GAAIxB,EAAK/N,KACL,YAEE+N,EAAK7R,KACf,CACJ,CACJ,EAEJD,EAAQonI,+BAAiCA,EAWzCpnI,EAAQmnI,kBAHR,YAA8B56H,GAC1B,OAAO,IAAI66H,EAA+B76H,EAC9C,+BCzCAzM,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQsD,IAAMtD,EAAQqnI,sBAAmB,EACzC,MAAMpG,EAAmB,EAAQ,MAC3B7D,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAC7B,MAAMkK,UAAyBpG,EAAiBvC,eAC5CqB,QACAC,UACAsH,SACAriI,YAAYgO,EAAQoqH,EAAU99G,GAC1B5X,QACAxC,KAAK46H,QAAU9sH,EACf9N,KAAK66H,UAAY3C,EACjBl4H,KAAKmiI,SAAW/nH,CACpB,CACAzd,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAI,EACR,UAAW,MAAM5H,KAAQ,EAAIs0H,EAAYI,eAAer4H,KAAK46H,QAAS1uE,GAAS,CAC3E,MAAM1sD,QAAeQ,KAAK66H,UAAU3oH,KAAKlS,KAAKmiI,SAAUx+H,EAAM4H,IAAK2gD,SAC7D1sD,CACV,CACJ,EAEJ3E,EAAQqnI,iBAAmBA,EAkB3BrnI,EAAQsD,IALR,SAAa+5H,EAAU99G,GACnB,OAAO,SAA6BtM,GAChC,OAAO,IAAIo0H,EAAiBp0H,EAAQoqH,EAAU99G,EAClD,CACJ,+BCzCAzf,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQm+H,QAAUn+H,EAAQunI,wBAAqB,EAC/C,MAAMtG,EAAmB,EAAQ,MAC3BuG,EAAkB,EAAQ,KAC1BC,EAAW,EAAQ,MACnBtK,EAAe,EAAQ,MAC7B,MAAMoK,UAA2BtG,EAAiBvC,eAC9CqB,QACA2H,QACAC,QACAC,OACAC,SACA5iI,YAAYgO,EAAQG,GAChBzL,QACAxC,KAAKyiI,OAAS,KACdziI,KAAKwiI,QAAU,KACfxiI,KAAK0iI,UAAW,EAChB1iI,KAAK46H,QAAU9sH,EACf9N,KAAKuiI,QAAUt0H,CACnB,CACA,CAACiK,OAAO4sE,eAAe54B,GAEnB,OADA,EAAI8rE,EAAaL,gBAAgBzrE,GAC1BlsD,KAAK2iI,aAAa,EAC7B,CACAhmI,mBAAoBoR,EAAS,GACzB,IAAIxC,EAAIwC,EAAS,EACbnP,GAAO,EACX,MAAMqP,EAASjO,KAAKuiI,QACpB,IACI,GACI,KAAMh3H,EAAI0C,EAAOimC,YACPjmC,EAAOuE,IAAIjH,OADrB,CAIA,GAAIvL,KAAK0iI,SACL,MAAM1iI,KAAKyiI,OAEM,OAAjBziI,KAAKwiI,UACLxiI,KAAKwiI,QAAUxiI,KAAK46H,QAAQjuH,OAAOotB,MAAM3qB,IACrCpP,KAAKwiI,QAAU,KACVpzH,EAAExQ,MACHqP,EAAOtM,KAAKyN,EAAEtU,OAEXsU,QAGZxQ,cAAeoB,KAAKwiI,QAAQxoG,OAAO7rB,IAGlC,MAFAnO,KAAKyiI,OAASt0H,EACdnO,KAAK0iI,UAAW,EACVv0H,CAAC,KAENvP,UACKqP,EAAOuE,IAAIjH,GAnBrB,SAqBM3M,EACd,CACA,QACIqP,EAAOrP,MACX,CACJ,EAEJ/D,EAAQunI,mBAAqBA,EAwB7BvnI,EAAQm+H,QAVR,SAASA,EAAQ4J,GAAc,EAAI1K,GAC/B,OAAO,SAAiCpqH,GACpC,OAAKoqH,GAKE,EAAIoK,EAASt8H,SAAQ,IAAMkyH,EAASc,EAAQ4J,EAAR5J,CAAqBlrH,IAASoK,OAAO4sE,mBAHtE,IAAIs9C,EAAmBt0H,EAAOoK,OAAO4sE,kBADnB,IAAjB89C,EACsD,IAAIP,EAAgBQ,gBACpB,IAAIR,EAAgBS,aAAaF,GAGtG,CACJ,+BCpFAjoI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkoI,aAAU,EAClB,MAAMV,EAAkB,EAAQ,KAC1BC,EAAW,EAAQ,MACnB1J,EAAY,EAAQ,MACpBZ,EAAe,EAAQ,MAC7B,MAAMgL,UAA6BpK,EAAUwJ,mBACzCtiI,YAAYgO,GACRtL,MAAMsL,EAAQ,IAAIu0H,EAAgBS,aAAa,GACnD,CACA,CAAC5qH,OAAO4sE,eAAe54B,GAGnB,OAFA,EAAI8rE,EAAaL,gBAAgBzrE,GACjClsD,KAAKuiI,QAAQK,cACN5iI,KAAK2iI,aAAa3iI,KAAKuiI,QAAQruF,OAAOh8B,OAAO4sE,gBACxD,EAoBJjqF,EAAQkoI,QAPR,SAASA,EAAQ7K,GACb,OAAO,SAAiCpqH,GACpC,OAAOoqH,GACD,EAAIoK,EAASt8H,SAAQrJ,SAAYu7H,EAAS6K,IAAUj1H,IAASoK,OAAO4sE,mBACpE,IAAIk+C,EAAqBl1H,EAAOoK,OAAO4sE,iBACjD,CACJ,+BCjCAnqF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQw9H,cAAgBx9H,EAAQooI,UAAYpoI,EAAQ++H,4BAAyB,EAC7E,MAAMkC,EAAmB,EAAQ,MACjC,MAAMlC,UAA+BkC,EAAiBvC,eAClDqB,QACAO,QACAr7H,YAAYgO,EAAQo+C,GAChB1pD,QACAxC,KAAK46H,QAAU9sH,EACf9N,KAAKm7H,QAAUjvE,CACnB,CACA+2E,UAAU/2E,GACN,OAAO,IAAI0tE,EAAuB55H,KAAK46H,QAAS1uE,EACpD,CACA,CAACh0C,OAAO4sE,iBACJ,OAAO9kF,KAAK46H,QAAQ1iH,OAAO4sE,eAAe9kF,KAAKm7H,QACnD,EAEJtgI,EAAQ++H,uBAAyBA,EAajC/+H,EAAQooI,UALR,SAAmB/2E,GACf,OAAO,SAAmCp+C,GACtC,OAAO,IAAI8rH,EAAuB9rH,EAAQo+C,EAC9C,CACJ,EAaArxD,EAAQw9H,cAHR,SAAuBvqH,EAAQo+C,GAC3B,OAAOA,EAAS,IAAI0tE,EAAuB9rH,EAAQo+C,GAAUp+C,CACjE,+BC1CAnT,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ28D,KAAO38D,EAAQqoI,uBAAoB,EAC3C,MAAMpH,EAAmB,EAAQ,MAC3B7D,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MACvBoE,EAAa,EAAQ,MAC3B,SAASE,EAAqBt+F,EAAS/xB,GACnC,OAAO+xB,EAAQjE,MAAMj/B,IAAU,CAAGA,QAAOmR,WAC7C,CACA,MAAMi3H,UAA0BpH,EAAiBvC,eAC7CgD,SACAz8H,YAAY08H,GACRh6H,QACAxC,KAAKu8H,SAAWC,CACpB,CACA7/H,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,MAAMswE,EAAUx8H,KAAKu8H,SACfn2H,EAASo2H,EAAQp2H,OACjBq2H,EAAY,IAAI52H,MAAMO,GACtBs2H,EAAQ,IAAI72H,MAAMO,GACxB,IAAK,IAAImF,EAAI,EAAGA,EAAInF,EAAQmF,IAAK,CAC7B,MAAMmwE,GAAW,EAAIu8C,EAAYI,eAAemE,EAAQjxH,GAAI2gD,GAAQh0C,OAAO4sE,iBAC3E23C,EAAUlxH,GAAKmwE,EACfghD,EAAMnxH,GAAK+wH,EAAqB5gD,EAAS/uE,OAAQpB,EACrD,CACA,MAAMoB,GAAO,EAAIyvH,EAAWS,UAAUH,IAC9B5hI,MAAO+iI,EAAK,MAAE5xH,SAAgBU,EACjCkxH,EAAMj/H,aACDi/H,EAAM/iI,OAEhB,MAAMkiI,EAAYP,EAAUxwH,GAE5B,IAAK,IAAIV,EAAI,EAAGA,EAAInF,EAAQmF,IAAK,CAC7B,GAAIA,IAAMU,EACN,SAEJ,MAAMk3H,EAAgB1G,EAAUlxH,GAC5B43H,EAAc9/C,QACd8/C,EAAc9/C,QAEtB,CACA,IAAI+/C,EACJ,OAASA,QAAiBpG,EAAUrwH,QAAQ/N,YAClCwkI,EAAStoI,KAEvB,EAEJD,EAAQqoI,kBAAoBA,EAU5BroI,EAAQ28D,KAHR,YAAiBglE,GACb,OAAO,IAAI0G,EAAkB1G,EACjC,+BCzDA7hI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyM,WAAQ,EAChB,MAAMw0H,EAAmB,EAAQ,MAC3B9D,EAAe,EAAQ,MAC7B,MAAMqL,UAA2BvH,EAAiBvC,eAC9C+J,OACAC,OACAzjI,YAAYqb,EAAO+4B,GACf1xC,QACAxC,KAAKsjI,OAASnoH,EACdnb,KAAKujI,OAASrvF,CAClB,CACAv3C,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,IAAK,IAAI/uB,EAAUn9B,KAAKsjI,OAAQloH,EAAMpb,KAAKsjI,OAAStjI,KAAKujI,OAAQpmG,EAAU/hB,EAAK+hB,UACtEA,CAEd,EAYJtiC,EAAQyM,MAHR,SAAe6T,EAAO+4B,GAClB,OAAO,IAAImvF,EAAmBloH,EAAO+4B,EACzC,+BC5BAv5C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwM,YAAS,EACjB,MAAM4wH,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAkC7Bn9H,EAAQwM,OAtBR1K,eAAsBmR,EAAQnI,GAC1B,MAAQ,KAAU69H,EAAM,OAAYt3E,EAAQ,SAAc/uD,GAAawI,EACjE89H,EAAU99H,EAAQ60C,eAAe,SACvC,EAAIw9E,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAI,EACJm4H,GAAW,EACXh2H,EAAM81H,EACV,UAAW,MAAM7/H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GACxDw3E,IAAaA,EAAWD,GACxB/1H,QAAYvQ,EAASuQ,EAAK/J,EAAM4H,IAAK2gD,IAGrCx+C,EAAM/J,EACN+/H,GAAW,EACXn4H,KAGR,IAAMk4H,IAAWC,EACb,MAAM,IAAIznI,MAAM,iCAEpB,OAAOyR,CACX,+BCpCA/S,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8oI,iBAAc,EACtB,MAAMC,EAAY,EAAQ,MACpB5L,EAAe,EAAQ,MAkC7Bn9H,EAAQ8oI,YAtBRhnI,eAA2BmR,EAAQnI,GAC/B,MAAQ,KAAU69H,EAAM,OAAYt3E,EAAQ,SAAc/uD,GAAawI,EACjE89H,EAAU99H,EAAQ60C,eAAe,SACvC,EAAIw9E,EAAaL,gBAAgBzrE,GACjC,MAAM17B,QAAc,EAAIozG,EAAUC,SAAS/1H,EAAQo+C,GACnD,IAAIw3E,GAAW,EACXh2H,EAAM81H,EACV,IAAK,IAAIz1H,EAASyiB,EAAMpqB,OAAS,EAAG2H,GAAU,EAAGA,IAAU,CACvD,MAAMpK,EAAO6sB,EAAMziB,GACf21H,IAAaA,EAAWD,GACxB/1H,QAAYvQ,EAASuQ,EAAK/J,EAAMoK,EAAQm+C,IAGxCx+C,EAAM/J,EACN+/H,GAAW,EAEnB,CACA,IAAMD,IAAWC,EACb,MAAM,IAAIznI,MAAM,iCAEpB,OAAOyR,CACX,+BCpCA/S,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQipI,YAAcjpI,EAAQkpI,8BAA2B,EACzD,MAAMjI,EAAmB,EAAQ,MAC3B9D,EAAe,EAAQ,MAC7B,MAAM+L,UAAiCjI,EAAiBvC,eACpDyK,OACAT,OACAzjI,YAAYhF,EAAOo5C,GACf1xC,QACAxC,KAAKgkI,OAASlpI,EACdkF,KAAKujI,OAASrvF,CAClB,CACAv3C,OAAQub,OAAO4sE,eAAe54B,GAC1B,IAAqB,IAAjBlsD,KAAKujI,OACL,QACI,EAAIvL,EAAaL,gBAAgBzrE,SAC3BlsD,KAAKgkI,YAIf,IAAK,IAAIz4H,EAAI,EAAGA,EAAIvL,KAAKujI,OAAQh4H,KAC7B,EAAIysH,EAAaL,gBAAgBzrE,SAC3BlsD,KAAKgkI,MAGvB,EAEJnpI,EAAQkpI,yBAA2BA,EAYnClpI,EAAQipI,YAHR,SAAqBhpI,EAAOo5C,GAAQ,GAChC,OAAO,IAAI6vF,EAAyBjpI,EAAOo5C,EAC/C,+BCtCAv5C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQopI,mBAAgB,EACxB,MAAMvD,EAAa,EAAQ,MACrBzI,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAyB7Bn9H,EAAQopI,cAdRtnI,eAA6BmR,EAAQo2H,EAAOv+H,GACxC,MAAQ,SAAcwyH,EAAWuI,EAAWyD,cAAe,OAAYj4E,GAAWvmD,GAAW,CAAC,GAC9F,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,MAAMk4E,GAAM,EAAInM,EAAYI,eAAevqH,EAAQo+C,GAAQh0C,OAAO4sE,iBAC5Du/C,GAAM,EAAIpM,EAAYI,eAAe6L,EAAOh4E,GAAQh0C,OAAO4sE,iBACjE,IAAIw/C,EACAC,EACJ,OAASD,QAAcF,EAAIz3H,QAAQ/N,MAC/B,IAAQ2lI,QAAcF,EAAI13H,QAAQ/N,aAAeu5H,EAASmM,EAAMxpI,MAAOypI,EAAMzpI,OACzE,OAAO,EAGf,eAAgBupI,EAAI13H,QAAQ/N,IAChC,+BC5BAjE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2pI,YAAS,EACjB,MAAMvM,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MA8B7Bn9H,EAAQ2pI,OAjBR7nI,eAAsBmR,EAAQnI,GAC1B,MAAQ,OAAYumD,EAAQ,QAAa9xC,EAAS,UAAewgB,EAAYj+B,WAAY,IAASgJ,GAAW,CAAC,EAE9G,IAAInG,GADJ,EAAIw4H,EAAaL,gBAAgBzrE,GAEjC,IAAIu4E,GAAY,EACZl5H,EAAI,EACR,UAAW,MAAM5H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAAS,CACrE,GAAIu4E,SAAoB7pG,EAAU1oB,KAAKkI,EAASzW,EAAM4H,IAAK2gD,GACvD,MAAM,IAAIjwD,MAAM,yCAEV2+B,EAAU1oB,KAAKkI,EAASzW,EAAM4H,IAAK2gD,KACzC1sD,EAASmE,EACT8gI,GAAY,EAEpB,CACA,OAAOjlI,CACX,+BChCA7E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQuhC,UAAO,EACf,MAAM67F,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAsB7Bn9H,EAAQuhC,KAXRz/B,eAAoBmR,EAAQnI,GACxB,MAAQ,OAAYumD,EAAQ,QAAa9xC,EAAS,UAAewgB,GAAcj1B,GAC/E,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,IAAI3gD,EAAI,EACR,UAAW,MAAM5H,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5D,SAAUtxB,EAAU1oB,KAAKkI,EAASzW,EAAM4H,IAAK2gD,GACzC,OAAO,EAGf,OAAO,CACX,+BCxBAvxD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQm4H,SAAM,EACd,MAAMyG,EAAa,EAAQ,MACrBxB,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAiB7Bn9H,EAAQm4H,IATRr2H,eAAmBmR,EAAQnI,GACvB,MAAQ,SAAcuyH,EAAWuB,EAAWK,cAAe,OAAY5tE,EAAQ,QAAa9xC,GAAazU,GAAW,CAAC,GACrH,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,IAAIpxD,EAAQ,EACZ,UAAW,MAAM6I,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5DpxD,SAAeo9H,EAAShmH,KAAKkI,EAASzW,EAAMuoD,GAEhD,OAAOpxD,CACX,+BCpBAH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQirC,gBAAa,EACrB,MAAMg2F,EAAmB,EAAQ,MAC3B9D,EAAe,EAAQ,MAC7B,MAAM0M,UAA2B5I,EAAiBvC,eAC9CkJ,OACA3iI,YAAYP,GACRiD,QACAxC,KAAKyiI,OAASljI,CAClB,CACA5C,OAAQub,OAAO4sE,eAAe54B,GAE1B,MADA,EAAI8rE,EAAaL,gBAAgBzrE,GAC3BlsD,KAAKyiI,MACf,EAWJ5nI,EAAQirC,WAHR,SAAoBvmC,GAChB,OAAO,IAAImlI,EAAmBnlI,EAClC,+BCvBA5E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgpI,aAAU,EAClB,MAAM5L,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAiB7Bn9H,EAAQgpI,QARRlnI,eAAuBmR,EAAQo+C,IAC3B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,MAAMtT,EAAU,GAChB,UAAW,MAAMj1C,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5DtT,EAAQj3C,KAAKgC,GAEjB,OAAOi1C,CACX,+BCnBAj+C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8pI,iBAAmB9pI,EAAQ+pI,iBAAc,EACjD,MAAMC,EAAY,EAAQ,MACpBC,EAAkB,EAAQ,MAC1BhJ,EAAmB,EAAQ,MASjC,MAAMiJ,EACFnK,QACA96H,YAAY86H,GACR56H,KAAK46H,QAAUA,CACnB,CACAj+H,eACI,MAAMmR,EAAS9N,KAAK46H,QAChB9sH,GAAUA,EAAOu1E,cACXv1E,EAAOu1E,SAEjBrjF,KAAK46H,QAAU,IACnB,EAEJ,MAAMoK,UAA6CD,EAC/CjlI,YAAYgO,GACRtL,MAAMsL,EACV,CAEAnR,WAAW6vD,GACP,MAAM1+C,EAAS9N,KAAK46H,QACpB,GAAI9sH,EAAQ,CACR,MAAMsB,QAAUtB,EAAOnB,KAAK6/C,EAAWq6B,aACvC,IAAKz3E,EAAExQ,KACH,OAAO4tD,EAAWjpC,QAAQnU,EAAEtU,MAEpC,CACA0xD,EAAW//C,OACf,EAEJ,MAAMw4H,UAA0CF,EAE5Cv9C,sBAIA09C,sBACAplI,YAAYi/E,EAAQtzE,EAAO,CAAC,GACxBjJ,MAAMu8E,GACN/+E,KAAKgH,KAAO,QACZhH,KAAKwnF,sBAAwB/7E,EAA4B,sBACzDzL,KAAKklI,sBAAwB,IAAIF,EAAqCjmD,EAC1E,CAEApiF,WAAW6vD,GACP,IAAKA,EAAWi6B,YACZ,aAAazmF,KAAKklI,sBAAsB9sC,KAAK5rC,GAEjD,GAAIxsD,KAAK46H,QAAS,CACd,MAAM,KAAE90C,GAASt5B,EAAWi6B,aACtB,KAAE7nF,EAAI,MAAE9D,SAAgBkF,KAAK46H,QAAQjuH,KAAKm5E,GAChD,IAAKlnF,EAAM,CAIP,GAAqB,iBAAV9D,EACP,OAAO0xD,EAAWi6B,YAAYP,QAAQprF,GAK1C,GAAI2c,YAAYE,OAAO7c,GACnB,OAAOA,EAAMmT,SAAW63E,EAAK73E,OACvBu+C,EAAWi6B,YAAYH,mBAAmBxrF,GAC1C0xD,EAAWi6B,YAAYP,QAtEjD,SAAgBnvE,EAAQjJ,EAAQq3H,EAAmB,EAAGC,EAAmBt3H,EAAOqJ,YAC5E,MAAMkuH,EAAmBtuH,EAAOI,WAC1B+J,EAAM,IAAIC,WAAWpK,EAAO9I,OAAQ8I,EAAOK,WAAYiuH,GACvDphD,EAAM,IAAI9iE,WAAWrT,EAAOG,OAAQH,EAAOsJ,WAAYxL,KAAKC,IAAIu5H,EAAkBC,EAAkBv3H,EAAOG,OAAOkJ,WAAarJ,EAAOsJ,aAE5I,OADA8J,EAAIzO,IAAIwxE,EAAKkhD,GACNlhD,EAAI9sE,UACf,CAgEyDmuH,CAAOx/C,EAAMhrF,GAE1D,CACJ,CACA0xD,EAAW//C,OACf,EAQJ,MAAM84H,EAA8B,MAChC,IAAIC,EACAC,EA0BAC,EAvBoB,CAAC53H,EAAQrC,KAE7B,MAAMk6H,UAA2Cp5E,eAC7C,CAACr0C,OAAO4sE,iBACJ,OAAO,EAAIggD,EAAgBhH,eAAe99H,MAAMkY,OAAO4sE,gBAC3D,EAEJ,MAAMi5C,UAAwCxxE,eAC1C,CAACr0C,OAAO4sE,iBACJ,OAAO,EAAIggD,EAAgBhH,eAAe99H,KAAM,CAAEyrF,KAAM,SAAUvzE,OAAO4sE,gBAC7E,EAUJ,OARA0gD,EAAmCzH,EACnC0H,EAAsCE,EAItCD,EAAoCE,EAG7BA,EAAgD93H,EAAQrC,EAAK,EAKxE,MAAMm6H,EAAkD,CAAC93H,EAAQrC,IACtDqC,aAAkBm3H,EACnB,IAAIO,EAAiC13H,EAAQrC,GAC7C,IAAIg6H,EAAoC33H,EAAQrC,GAE1D,MAAO,CAACqC,EAAQrC,IAASi6H,EAAkC53H,EAAQrC,EACtE,EApCmC,GA0CpC,SAASm5H,EAAY92H,EAAQnI,GACzB,OAAKA,GAAa,SAAUA,GAAgC,UAApBA,EAAc,KAG/C4/H,EAA4B,IAAIN,EAAkCn3H,EAAOoK,OAAO4sE,iBAAkBn/E,GAAUA,GAFxG4/H,EAA4B,IAAIP,EAAqCl3H,EAAOoK,OAAO4sE,kBAAmBn/E,EAGrH,CAWA,SAASkgI,EAAcp0H,GACnB,OAAOA,EAAKq0H,aAAer0H,EAAKq0H,WAAar0H,EAAKmyB,MAAK,EAAIihG,EAAU9B,WAAY6B,GACrF,CACA,SAASD,EAAiBh/H,GACtB,OAAQA,EAA8Bi/H,EAAY5kI,KAAM2F,GAAtCi/H,EAAY5kI,KAClC,CAfAnF,EAAQ+pI,YAAcA,EACtB9I,EAAiBvC,eAAevgH,UAAUo2D,IAAM,WAC5C,OAAOy2D,EAAc7lI,MAAMovE,KAC/B,EACA0sD,EAAiBvC,eAAevgH,UAAU8/E,OAAS,SAAUvvE,EAAU5jB,GACnE,OAAOkgI,EAAc7lI,MAAM84F,OAAOvvE,EAAU5jB,EAChD,EACAm2H,EAAiBvC,eAAevgH,UAAUqzC,YAAc,SAAUtnC,EAAQpf,GACtE,OAAOkgI,EAAc7lI,MAAMqsD,YAAYtnC,EAAQpf,EACnD,EAOA9K,EAAQ8pI,iBAAmBA,EAC3B7I,EAAiBvC,eAAevgH,UAAU4rH,YAAcD,+BC1JxDhqI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkrI,WAAQ,EAChB,MAAMtM,EAAa,EAAQ,MACrBxB,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAsB7Bn9H,EAAQkrI,MAXRppI,eAAqBmR,EAAQnI,GACzB,MAAQ,OAAYumD,EAAQ,gBAAqB85E,EAAkBvM,EAAWK,cAAe,YAAiBmM,EAAcxM,EAAWK,eAAmBn0H,GAAW,CAAC,GACtK,EAAIqyH,EAAaL,gBAAgBzrE,GACjC,MAAM/tD,EAAM,IAAI82B,IAChB,UAAW,MAAMtxB,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAAS,CACrE,MAAMpxD,QAAckrI,EAAgBriI,EAAMuoD,GACpC34C,QAAY0yH,EAAYtiI,EAAMuoD,GACpC/tD,EAAIsU,IAAIc,EAAKzY,EACjB,CACA,OAAOqD,CACX,+BCzBAxD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQqrI,kBAAe,EACvB,MAAMC,EAAe,EAAQ,MACvBC,EAAa,EAAQ,MAC3B,MAAMC,EACFC,gBAAiB,EACjBpL,cACIl7H,KAAKsmI,gBAAiB,CAC1B,EAEJ,MAAMC,EACF3L,QACA96H,YAAYgO,GACR9N,KAAK46H,QAAU9sH,CACnB,CAEA,CAACs4H,EAAWpL,cACR,OAAOh7H,IACX,CAEAujE,UAAU52D,EAAMpN,EAAOm3B,GACnB,MAAM+vC,GAAW,EAAI0/D,EAAaK,YAAY75H,EAAMpN,EAAOm3B,GACrDukG,EAAe,IAAIoL,EACnBjO,EAAKp4H,KAAK46H,QAAQ1iH,OAAO4sE,iBACzBhzB,EAAI,KACNsmE,EAAGzrH,OACEotB,MAAK,EAAGj/B,QAAO8D,WACXq8H,EAAaqL,iBACV1nI,EACA6nE,EAAS/vC,YAGT+vC,EAAS95D,KAAK7R,GACdg3D,KAER,IAEC93B,OAAOtd,IACHu+G,EAAaqL,gBACd7/D,EAASlnE,MAAMmd,EACnB,GACF,EAGN,OADAo1C,IACOmpE,CACX,EAYJpgI,EAAQqrI,aAHR,SAAsBp4H,GAClB,OAAO,IAAIy4H,EAAwBz4H,EACvC,+BCxDAnT,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4rI,WAAQ,EAChB,MAAMxO,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAiB7Bn9H,EAAQ4rI,MARR9pI,eAAqBmR,EAAQo+C,IACzB,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,MAAMz5C,EAAM,IAAI9N,IAChB,UAAW,MAAMhB,KAAQ,EAAIs0H,EAAYI,eAAevqH,EAAQo+C,GAC5Dz5C,EAAI5N,IAAIlB,GAEZ,OAAO8O,CACX,+BCnBA9X,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6rI,aAAU,EAClB,MAAM5K,EAAmB,EAAQ,MAC3B7D,EAAc,EAAQ,MACtBD,EAAe,EAAQ,MAC7B,MAAM2O,UAA2B7K,EAAiBvC,eAC9CmG,WACA9E,QACA96H,YAAYojH,EAAWp1G,GACnBtL,QACAxC,KAAK0/H,WAAaxc,EAClBljH,KAAK46H,QAAU9sH,CACnB,CACAnR,OAAQub,OAAO4sE,eAAe54B,GAE1B,KADA,EAAI8rE,EAAaL,gBAAgBzrE,SACpBlsD,KAAK0/H,WAAWxzE,IACzB,UAAW,MAAMvoD,KAAQ,EAAIs0H,EAAYI,eAAer4H,KAAK46H,QAAS1uE,SAC5DvoD,CAGlB,EAcJ9I,EAAQ6rI,QAHR,SAAiB54H,EAAQo1G,GACrB,OAAO,IAAIyjB,EAAmBzjB,EAAWp1G,EAC7C,+BCjCAnT,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0gD,IAAM1gD,EAAQ+rI,sBAAmB,EACzC,MAAM3O,EAAc,EAAQ,MACtB6D,EAAmB,EAAQ,MAC3BC,EAAmB,EAAQ,MAC3B/D,EAAe,EAAQ,MAC7B,MAAM4O,UAAyB9K,EAAiBvC,eAC5CgD,SACAz8H,YAAY08H,GACRh6H,QACAxC,KAAKu8H,SAAWC,CACpB,CAEA7/H,OAAQub,OAAO4sE,eAAe54B,IAC1B,EAAI8rE,EAAaL,gBAAgBzrE,GACjC,MAAM26E,EAAgB7mI,KAAKu8H,SAASn2H,OAC9B0gI,EAAM9mI,KAAKu8H,SAASp+H,KAAKwX,IAAM,EAAIsiH,EAAYI,eAAe1iH,EAAGu2C,GAAQh0C,OAAO4sE,mBACtF,KAAO+hD,EAAgB,GAAG,CACtB,MAAM/hI,EAAS,IAAIe,MAAMghI,GACzB,IAAK,IAAIt7H,GAAK,IAAKA,EAAIs7H,GAAgB,CACnC,MAAM,MAAE/rI,EAAK,KAAE8D,SAAekoI,EAAIv7H,GAAGoB,OACrC,GAAI/N,EAEA,kBADMoX,QAAQC,IAAI6wH,EAAI3oI,IAAI49H,EAAiBE,sBAG/Cn3H,EAAOyG,GAAKzQ,CAChB,OACMgK,CACV,CACJ,EAEJjK,EAAQ+rI,iBAAmBA,EAI3B/rI,EAAQ0gD,IAHR,YAAgBihF,GACZ,OAAO,IAAIoK,EAAiBpK,EAChC,4BClCA7hI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQioI,aAAejoI,EAAQgoI,qBAAkB,EAqBjDhoI,EAAQgoI,gBAjBR,MACIkE,MAAQ,GACR9rE,QACIj7D,KAAK+mI,MAAQ,EACjB,CACI7yF,YACA,OAAOl0C,KAAK+mI,MAAM3gI,MACtB,CACAoM,IAAIvG,GACA,OAAOjM,KAAK+mI,MAAM96H,EACtB,CACAtK,KAAK7G,GACDkF,KAAK+mI,MAAMplI,KAAK7G,EACpB,CAEA8D,OAAS,GA4Cb/D,EAAQioI,aAtCR,MACIkE,aACAD,MACAxD,OAAS,EACTzjI,YAAY8iI,GACR5iI,KAAKgnI,aAAepE,EACpB5iI,KAAK+mI,MAAQ,IAAI9xG,GACrB,CACAgmC,QACIj7D,KAAK+mI,MAAM9rE,OACf,CACI/mB,YACA,OAAOl0C,KAAKujI,MAChB,CACIX,kBACA,OAAO5iI,KAAKgnI,YAChB,CACIpE,gBAAY9nI,GACZkF,KAAKgnI,aAAelsI,CACxB,CACA8D,OACIoB,KAAKgnI,cACT,CACAx0H,IAAIvG,GACA,IAAKjM,KAAK+mI,MAAM9gH,IAAIha,GAChB,MAAM,IAAIhQ,MAAM,8CAEpB,MAAMyrB,EAAM1nB,KAAK+mI,MAAMv0H,IAAIvG,GACrBgG,EAAMyV,EAAI5sB,MAIhB,OAHoB,KAAd4sB,EAAIwsB,OACNl0C,KAAK+mI,MAAMn9G,OAAO3d,GAEfgG,CACX,CACAtQ,KAAK7G,GACDkF,KAAK+mI,MAAMt0H,IAAIzS,KAAKujI,SAAU,CAAEzoI,MAAOA,EAAOo5C,MAAOl0C,KAAKgnI,cAC9D,8BC9DJrsI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmgI,gBAAa,EAGrBngI,EAAQmgI,WAAgC,mBAAX9iH,QAAyBA,OAAO8iH,YAAe,0CCJ5ErgI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQk/H,kBAAe,EA+BvBl/H,EAAQk/H,aA3BR,SAAsBp1C,EAAMvqE,EAAS6sH,GACjC,QAAuB,IAAZ7sH,EACP,OAAOuqE,EAEX,OAAQsiD,GACJ,KAAK,EACD,OAAO,WACH,OAAOtiD,EAAKzyE,KAAKkI,EACrB,EACJ,KAAK,EACD,OAAO,SAAU6jB,GACb,OAAO0mD,EAAKzyE,KAAKkI,EAAS6jB,EAC9B,EACJ,KAAK,EACD,OAAO,SAAUnjC,EAAOmR,GACpB,OAAO04E,EAAKzyE,KAAKkI,EAAStf,EAAOmR,EACrC,EACJ,KAAK,EACD,OAAO,SAAUnR,EAAOmR,EAAOymB,GAC3B,OAAOiyD,EAAKzyE,KAAKkI,EAAStf,EAAOmR,EAAOymB,EAC5C,EACJ,QACI,OAAO,WACH,OAAOiyD,EAAKxyE,MAAMiI,EAAS1V,UAC/B,EAEZ,6BC/BA/J,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQumI,sBAAwBvmI,EAAQqsI,iBAAmBrsI,EAAQspI,cAAgBtpI,EAAQs9H,cAAW,EAOtGt9H,EAAQs9H,SAHR,SAAkBxiH,EAAGwxH,GACjB,OAAOxxH,IAAMwxH,GAAmB,iBAANxxH,GAA+B,iBAANwxH,GAAkB5uD,MAAM5iE,IAAM4iE,MAAM4uD,EAC3F,EAQAtsI,EAAQspI,cAHRxnI,eAA6BgZ,EAAGwxH,GAC5B,OAAOxxH,IAAMwxH,GAAmB,iBAANxxH,GAA+B,iBAANwxH,GAAkB5uD,MAAM5iE,IAAM4iE,MAAM4uD,EAC3F,EASAtsI,EAAQqsI,iBAJR,SAA0B3zH,EAAKkuH,GAE3B,OAAOluH,EAAMkuH,EAAW,EAAIluH,EAAMkuH,GAAY,EAAI,CACtD,EASA5mI,EAAQumI,sBAJRzkI,eAAqC4W,EAAKkuH,GAEtC,OAAOluH,EAAMkuH,EAAW,EAAIluH,EAAMkuH,GAAY,EAAI,CACtD,6BC9BA9mI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQi/H,cAAgBj/H,EAAQoiI,cAAW,EAO3CpiI,EAAQoiI,SAHR,SAAkBtnH,GACd,OAAOA,CACX,EAQA9a,EAAQi/H,cAHRn9H,eAA6BgZ,GACzB,OAAOA,CACX,6BCbAhb,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQusI,gBAAkBvsI,EAAQwsI,oBAAsBxsI,EAAQysI,oBAAsBzsI,EAAQygI,qBAAuBzgI,EAAQ0gI,qBAAuB1gI,EAAQs/H,aAAet/H,EAAQo/H,gBAAkBp/H,EAAQw/H,WAAax/H,EAAQm/H,WAAan/H,EAAQu/H,YAAcv/H,EAAQq/H,UAAYr/H,EAAQ0jC,SAAW1jC,EAAQikI,gBAAa,EAEjU,MAEMyI,EAAa5xH,GAAmB,kBAANA,EAGhC9a,EAAQikI,WADYnpH,GAAmB,mBAANA,EAIjC9a,EAAQ0jC,SADU5oB,GAAW,MAALA,GAAahb,OAAOgb,KAAOA,EAMnD9a,EAAQq/H,UAHWvkH,IACR,EAAI9a,EAAQ0jC,UAAU5oB,KAAM,EAAI9a,EAAQikI,YAAYnpH,EAAEokB,MAOjEl/B,EAAQu/H,YAHR,SAAqBzkH,GACjB,OAAO,EAAI9a,EAAQ0jC,UAAU5oB,IAhBhB,CAACA,GAAmB,iBAANA,EAgBQ8oB,CAAS9oB,EAAU,OAC1D,EAMA9a,EAAQm/H,WAHR,SAAoBrkH,GAChB,OAAY,MAALA,IAAa,EAAI9a,EAAQikI,YAAYnpH,EAAEuC,OAAOwjE,UACzD,EAMA7gF,EAAQw/H,WAHR,SAAoB1kH,GAChB,OAAO,EAAI9a,EAAQ0jC,UAAU5oB,MAAO,EAAI9a,EAAQikI,YAAYnpH,EAAEuC,OAAOwjE,aAAc,EAAI7gF,EAAQikI,YAAYnpH,EAAQ,KACvH,EAMA9a,EAAQo/H,gBAHR,SAAyBtkH,GACrB,OAAO,EAAI9a,EAAQ0jC,UAAU5oB,KAAM,EAAI9a,EAAQikI,YAAYnpH,EAAEuC,OAAO4sE,eACxE,EAMAjqF,EAAQs/H,aAHR,SAAsBxkH,GAClB,OAAY,MAALA,GAAahb,OAAOgb,KAAOA,GAA+B,mBAAnBA,EAAa,SAC/D,EAUA9a,EAAQ0gI,qBAPsB5lH,IAClB,EAAI9a,EAAQ0jC,UAAU5oB,KAC1B,EAAI9a,EAAQikI,YAAYnpH,EAAQ,QAChC,EAAI9a,EAAQikI,YAAYnpH,EAAS,QACjC4xH,EAAU5xH,EAAY,YACtB,EAAI9a,EAAQ0jC,UAAU5oB,EAAkB,gBAWhD9a,EAAQygI,qBAPsB3lH,IAClB,EAAI9a,EAAQ0jC,UAAU5oB,KAC1B,EAAI9a,EAAQikI,YAAYnpH,EAAO,OAC/B,EAAI9a,EAAQikI,YAAYnpH,EAAU,SAClC4xH,EAAU5xH,EAAY,YACtB,EAAI9a,EAAQ0jC,UAAU5oB,EAAkB,gBAOhD9a,EAAQysI,oBAHqB3xH,IAClB,EAAI9a,EAAQ0jC,UAAU5oB,KAAM,EAAI9a,EAAQikI,YAAYnpH,EAAU,UAAM,EAAI9a,EAAQikI,YAAYnpH,EAAa,WAOpH9a,EAAQwsI,oBAHqB1xH,IAClB,EAAI9a,EAAQ0jC,UAAU5oB,KAAM,EAAI9a,EAAQikI,YAAYnpH,EAAS,SAAM,EAAI9a,EAAQikI,YAAYnpH,EAAa,WAOnH9a,EAAQusI,gBAHiBzxH,IACd,EAAI9a,EAAQ0jC,UAAU5oB,KAAM,EAAI9a,EAAQysI,qBAAqB3xH,EAAQ,iCCzEhFhb,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQohI,oBAAsBphI,EAAQ2sI,oBAAiB,EASvD3sI,EAAQ2sI,eALR,SAAwBpP,GACK,mBAAdA,EAAG/0C,QACV+0C,EAAG/0C,QAEX,EAUAxoF,EAAQohI,oBALRt/H,eAAmCy7H,GACN,mBAAdA,EAAG/0C,cACJ+0C,EAAG/0C,QAEjB,6BCYA,SAASokD,EAAY3sI,GACjB,OAAiB,OAAVA,GAAoC,iBAAVA,GAAuC,mBAAVA,CAClE,CANAH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQgiI,cAAW,EAQnB,MAAM6K,EAAK,IAAIC,QAwDf9sI,EAAQgiI,SAvDR,SAAkB+K,GACd,IAAIC,EA6CJ,OA5Ce,IAAI7xH,SAAQ,CAAC4hB,EAASwB,KACjCyuG,EAAW,CAAEjwG,UAASwB,UACtB,IAAK,MAAM0uG,KAAaF,EAAY,CAChC,GAAIH,EAAYK,GAAY,CAKxB9xH,QAAQ4hB,QAAQkwG,GAAW/tG,KAAKnC,EAASwB,GACzC,QACJ,CACA,IAAI2uG,EAASL,EAAGl1H,IAAIs1H,QACLrsI,IAAXssI,GACAA,EAAS,CAAEC,UAAW,IAAIrjI,IAAI,CAACkjI,IAAYI,SAAS,GACpDP,EAAGj1H,IAAIq1H,EAAWC,GAElB/xH,QAAQ4hB,QAAQkwG,GAAW/tG,MAAMj/B,IAE7B,IAAK,MAAM,QAAE88B,KAAamwG,EAAOC,UAC7BpwG,EAAQ98B,GAEZitI,EAAOC,UAAU/sE,QACjB8sE,EAAOE,SAAU,CAAI,IACrBvrH,IAEA,IAAK,MAAM,OAAE0c,KAAY2uG,EAAOC,UAC5B5uG,EAAO1c,GAEXqrH,EAAOC,UAAU/sE,QACjB8sE,EAAOE,SAAU,CAAI,KAGpBF,EAAOE,QAGZjyH,QAAQ4hB,QAAQkwG,GAAW/tG,KAAKnC,EAASwB,GAGzC2uG,EAAOC,UAAUnjI,IAAIgjI,EAE7B,KAIUK,SAAQ,KAClB,IAAK,MAAMJ,KAAaF,EACfH,EAAYK,IACEJ,EAAGl1H,IAAIs1H,GACfE,UAAUp+G,OAAOi+G,EAEhC,GAER,6BC1FAltI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQstI,eAAY,EAcpBttI,EAAQstI,UAVR,SAAmBrtI,GACf,MAAMstI,EAASjsI,OAAOrB,GACtB,OAAIy9E,MAAM6vD,GACC,EAEI,IAAXA,GAAiBl/F,SAASk/F,IAGtBA,EAAS,EAAI,GAAK,GAAKx8H,KAAKy3C,MAAMz3C,KAAK8H,IAAI00H,IAFxCA,CAGf,+BCdAztI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQigI,cAAW,EACnB,MAAMuN,EAAc,EAAQ,MACtBC,EAAiB18H,KAAKiW,IAAI,EAAG,IAAM,EAQzChnB,EAAQigI,SAJR,SAAkBhgI,GACd,MAAMsY,GAAM,EAAIi1H,EAAYF,WAAWrtI,GACvC,OAAO8Q,KAAKC,IAAID,KAAKF,IAAI0H,EAAK,GAAIk1H,EACtC,+BCVA3tI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2rI,gBAAa,EACrB,MAAM3O,EAAe,EAAQ,MACvBx6F,EAAQ1oB,IAAD,EAmBb9Z,EAAQ2rI,WAfR,SAAoB75H,EAAMpN,EAAOm3B,GAC7B,MAAM+vC,EAAW95D,EACjB,OAAI85D,GAAgC,iBAAbA,EACZ,CACH95D,MAAM,EAAIkrH,EAAaiH,YAAYr4D,EAAS95D,MAASgJ,GAAM8wD,EAAS95D,KAAKgJ,GAAK0nB,EAC9E99B,OAAO,EAAIs4H,EAAaiH,YAAYr4D,EAASlnE,OAAU4O,GAAMs4D,EAASlnE,MAAM4O,GAAKkvB,EACjF3G,UAAU,EAAImhG,EAAaiH,YAAYr4D,EAAS/vC,UAAY,IAAM+vC,EAAS/vC,WAAa2G,GAGzF,CACH1wB,MAAM,EAAIkrH,EAAaiH,YAAYnyH,GAAQA,EAAO0wB,EAClD99B,OAAO,EAAIs4H,EAAaiH,YAAYv/H,GAASA,EAAQ89B,EACrD3G,UAAU,EAAImhG,EAAaiH,YAAYpoG,GAAYA,EAAW2G,EAEtE,+BCnBA,IAAI05F,EAAO,EAAQ,MAGnB7xH,EAAOrK,QAAUk8H,+BCHjB,IAAIwR,EAAS,EAAQ,MACjBC,EAAS,EAAQ,MAGrB,SAASC,EAAWpqI,GAClB,OAAO,WACL,MAAM,IAAIpC,MAAM,YAAcoC,EAAO,qCACvC,CACF,CAGA6G,EAAOrK,QAAQ6tI,KAAf,QACAxjI,EAAOrK,QAAQ8tI,OAAf,QACAzjI,EAAOrK,QAAQ+tI,gBAAf,QACA1jI,EAAOrK,QAAQguI,YAAf,QACA3jI,EAAOrK,QAAQiuI,YAAf,QACA5jI,EAAOrK,QAAQkuI,oBAAsB,EAArC,MACA7jI,EAAOrK,QAAQmuI,oBAAsB,EAArC,MACA9jI,EAAOrK,QAAQsU,KAAsBo5H,EAAOp5H,KAC5CjK,EAAOrK,QAAQouI,QAAsBV,EAAOU,QAC5C/jI,EAAOrK,QAAQm8H,SAAsBuR,EAAOvR,SAC5C9xH,EAAOrK,QAAQquI,YAAsBX,EAAOW,YAC5ChkI,EAAOrK,QAAQsuI,KAAsBX,EAAOW,KAC5CjkI,EAAOrK,QAAQo8H,SAAsBuR,EAAOvR,SAC5C/xH,EAAOrK,QAAQuuI,cAAf,QAGAlkI,EAAOrK,QAAQwuI,eAAiB,EAAhC,MACAnkI,EAAOrK,QAAQyuI,YAAf,QACApkI,EAAOrK,QAAQ0uI,eAAiB,EAAhC,MAGArkI,EAAOrK,QAAQshC,KAAiBssG,EAAW,QAC3CvjI,EAAOrK,QAAQ2K,MAAiBijI,EAAW,SAC3CvjI,EAAOrK,QAAQ2uI,QAAiBf,EAAW,WAC3CvjI,EAAOrK,QAAQ4uI,eAAiBhB,EAAW,yCCnC3C,SAASiB,EAAUplG,GACjB,OAAO,MAAQA,CACjB,CAgDAp/B,EAAOrK,QAAQ6uI,UAAiBA,EAChCxkI,EAAOrK,QAAQ0jC,SA9Cf,SAAkB+F,GAChB,MAA2B,iBAAZA,GAAsC,OAAZA,CAC3C,EA6CAp/B,EAAOrK,QAAQgpI,QA1Cf,SAAiB8F,GACf,OAAI9jI,MAAMC,QAAQ6jI,GAAkBA,EAC3BD,EAAUC,GAAkB,GAE9B,CAAEA,EACX,EAsCAzkI,EAAOrK,QAAQq6C,OAnBf,SAAgBnkB,EAAQmjB,GACtB,IAAiB01F,EAAbpqI,EAAS,GAEb,IAAKoqI,EAAQ,EAAGA,EAAQ11F,EAAO01F,GAAS,EACtCpqI,GAAUuxB,EAGZ,OAAOvxB,CACT,EAYA0F,EAAOrK,QAAQgvI,eATf,SAAwBzB,GACtB,OAAmB,IAAXA,GAAkBjsI,OAAO2tI,oBAAsB,EAAI1B,CAC7D,EAQAljI,EAAOrK,QAAQwX,OArCf,SAAgB0E,EAAQjJ,GACtB,IAAI7B,EAAO7F,EAAQmN,EAAKw2H,EAExB,GAAIj8H,EAGF,IAAK7B,EAAQ,EAAG7F,GAFhB2jI,EAAapvI,OAAO2Y,KAAKxF,IAEW1H,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAEnE8K,EADAxD,EAAMw2H,EAAW99H,IACH6B,EAAOyF,GAIzB,OAAOwD,CACT,+BC9BA,IAAInZ,EAAsB,EAAQ,MAC9BwrI,EAAsB,EAAQ,MAC9BJ,EAAsB,EAAQ,MAC9BD,EAAsB,EAAQ,MAE9BiB,EAAkBrvI,OAAOqe,UAAUjG,SACnCk3H,EAAkBtvI,OAAOqe,UAAUwhC,eAEnCrwC,EAA4B,EAC5BX,EAA4B,GAC5BhB,EAA4B,GAC5B0B,EAA4B,GAC5BggI,EAA4B,GAC5BphI,EAA4B,GAC5BqhI,EAA4B,GAC5BzgI,EAA4B,GAC5BtB,EAA4B,GAC5B6B,EAA4B,GAC5B9B,EAA4B,GAC5BQ,EAA4B,GAC5ByhI,EAA4B,GAC5B1hI,EAA4B,GAC5B2hI,EAA4B,GAC5BC,EAA4B,GAC5BC,EAA4B,GAC5BC,EAA4B,GAC5BjhI,EAA4B,GAC5BQ,EAA4B,GAC5BooC,EAA4B,GAC5Bs4F,EAA4B,IAC5BpgI,EAA4B,IAC5BqgI,EAA4B,IAE5BC,EAAmB,CAEvBA,EAA2B,MAC3BA,EAA2B,MAC3BA,EAA2B,MAC3BA,EAA2B,MAC3BA,GAA2B,MAC3BA,GAA2B,MAC3BA,GAA2B,MAC3BA,GAA2B,MAC3BA,GAA2B,MAC3BA,GAA2B,MAC3BA,GAA2B,OAC3BA,IAA2B,MAC3BA,IAA2B,MAC3BA,KAA2B,MAC3BA,KAA2B,OAEvBC,EAA6B,CAC/B,IAAK,IAAK,MAAO,MAAO,MAAO,KAAM,KAAM,KAC3C,IAAK,IAAK,KAAM,KAAM,KAAM,MAAO,MAAO,OA8B5C,SAASC,EAAUC,GACjB,IAAI/5G,EAAQg6G,EAAQ3kI,EAIpB,GAFA2qB,EAAS+5G,EAAU/3H,SAAS,IAAI8B,cAE5Bi2H,GAAa,IACfC,EAAS,IACT3kI,EAAS,OACJ,GAAI0kI,GAAa,MACtBC,EAAS,IACT3kI,EAAS,MACJ,MAAI0kI,GAAa,YAItB,MAAM,IAAI1B,EAAc,iEAHxB2B,EAAS,IACT3kI,EAAS,CAGX,CAEA,MAAO,KAAO2kI,EAASntI,EAAOs3C,OAAO,IAAK9uC,EAAS2qB,EAAO3qB,QAAU2qB,CACtE,CAEA,SAASi6G,EAAMrlI,GACb3F,KAAKoyD,OAAgBzsD,EAAgB,QAAKqjI,EAC1ChpI,KAAKirI,OAAgBr/H,KAAKF,IAAI,EAAI/F,EAAgB,QAAK,GACvD3F,KAAKkrI,cAAgBvlI,EAAuB,gBAAK,EACjD3F,KAAKmrI,YAAgBxlI,EAAqB,cAAK,EAC/C3F,KAAKorI,UAAiBxtI,EAAO8rI,UAAU/jI,EAAmB,YAAM,EAAIA,EAAmB,UACvF3F,KAAKqrI,SAtDP,SAAyBj5E,EAAQj0D,GAC/B,IAAIqB,EAAQ8T,EAAMrH,EAAO7F,EAAQooC,EAAKz+B,EAAO/I,EAE7C,GAAY,OAAR7I,EAAc,MAAO,CAAC,EAK1B,IAHAqB,EAAS,CAAC,EAGLyM,EAAQ,EAAG7F,GAFhBkN,EAAO3Y,OAAO2Y,KAAKnV,IAEWiI,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAC7DuiC,EAAMl7B,EAAKrH,GACX8D,EAAQgvB,OAAO5gC,EAAIqwC,IAEK,OAApBA,EAAI9hC,MAAM,EAAG,KACf8hC,EAAM,qBAAuBA,EAAI9hC,MAAM,KAEzC1F,EAAOorD,EAAOk5E,gBAA0B,SAAE98F,KAE9By7F,EAAgB/3H,KAAKlL,EAAKukI,aAAcx7H,KAClDA,EAAQ/I,EAAKukI,aAAax7H,IAG5BvQ,EAAOgvC,GAAOz+B,EAGhB,OAAOvQ,CACT,CA6BuBgsI,CAAgBxrI,KAAKoyD,OAAQzsD,EAAgB,QAAK,MACvE3F,KAAKyrI,SAAgB9lI,EAAkB,WAAK,EAC5C3F,KAAK0rI,UAAgB/lI,EAAmB,WAAK,GAC7C3F,KAAK2rI,OAAgBhmI,EAAgB,SAAK,EAC1C3F,KAAK4rI,aAAgBjmI,EAAsB,eAAK,EAChD3F,KAAK6rI,aAAgBlmI,EAAsB,eAAK,EAEhD3F,KAAK8rI,cAAgB9rI,KAAKoyD,OAAO25E,iBACjC/rI,KAAKgsI,cAAgBhsI,KAAKoyD,OAAO65E,iBAEjCjsI,KAAKwuC,IAAM,KACXxuC,KAAKR,OAAS,GAEdQ,KAAKksI,WAAa,GAClBlsI,KAAKmsI,eAAiB,IACxB,CAGA,SAASC,EAAar7G,EAAQs7G,GAQ5B,IAPA,IAII7qG,EAJA8qG,EAAM1uI,EAAOs3C,OAAO,IAAKm3F,GACzBloG,EAAW,EACXx3B,GAAQ,EACRnN,EAAS,GAET4G,EAAS2qB,EAAO3qB,OAEb+9B,EAAW/9B,IAEF,KADduG,EAAOokB,EAAOhkB,QAAQ,KAAMo3B,KAE1B3C,EAAOzQ,EAAOrkB,MAAMy3B,GACpBA,EAAW/9B,IAEXo7B,EAAOzQ,EAAOrkB,MAAMy3B,EAAUx3B,EAAO,GACrCw3B,EAAWx3B,EAAO,GAGhB60B,EAAKp7B,QAAmB,OAATo7B,IAAehiC,GAAU8sI,GAE5C9sI,GAAUgiC,EAGZ,OAAOhiC,CACT,CAEA,SAAS+sI,EAAiBliG,EAAO71B,GAC/B,MAAO,KAAO5W,EAAOs3C,OAAO,IAAK7K,EAAM4gG,OAASz2H,EAClD,CAiBA,SAASg4H,EAAa/9H,GACpB,OAAOA,IAAMvE,GAAcuE,IAAMtE,CACnC,CAMA,SAASsiI,EAAYh+H,GACnB,OAAS,IAAWA,GAAKA,GAAK,KACrB,KAAWA,GAAKA,GAAK,OAAmB,OAANA,GAAsB,OAANA,GAClD,OAAWA,GAAKA,GAAK,OAAmB,QAANA,GAClC,OAAWA,GAAKA,GAAK,OAChC,CAkBA,SAASi+H,EAAYj+H,EAAGxH,GAGtB,OAAOwlI,EAAYh+H,IAAY,QAANA,GAEpBA,IAAM9F,GACN8F,IAAMlF,GACNkF,IAAM1E,GACN0E,IAAMg8H,GACNh8H,IAAMi8H,GAGNj8H,IAAM/F,IACJ+F,IAAM07H,GAAgBljI,GAvB/B,SAAkBwH,GAChB,OAAOg+H,EAAYh+H,KAAO+9H,EAAa/9H,IAE5B,QAANA,GAEAA,IAAMjG,GACNiG,IAAMjF,CACb,CAgBuCmjI,CAAS1lI,GAChD,CAmCA,SAAS2lI,EAAoB77G,GAE3B,MADqB,QACC1d,KAAK0d,EAC7B,CAEA,IAAI87G,EAAgB,EAChBC,EAAgB,EAChBC,EAAgB,EAChBC,EAAgB,EAChBC,EAAgB,EA+EpB,SAASC,EAAY7iG,EAAOtZ,EAAQvc,EAAO24H,GACzC9iG,EAAM8+F,KAAQ,WACZ,GAAsB,IAAlBp4G,EAAO3qB,OACT,MAAO,KAET,IAAKikC,EAAMuhG,eACyC,IAAhDhB,EAA2B79H,QAAQgkB,GACrC,MAAO,IAAMA,EAAS,IAGxB,IAAIk6G,EAAS5gG,EAAM4gG,OAASr/H,KAAKF,IAAI,EAAG8I,GAQpCk3H,GAAiC,IAArBrhG,EAAMqhG,WACjB,EAAI9/H,KAAKF,IAAIE,KAAKC,IAAIw+B,EAAMqhG,UAAW,IAAKrhG,EAAMqhG,UAAYT,GAG/DmC,EAAiBD,GAEf9iG,EAAM+gG,WAAa,GAAK52H,GAAS61B,EAAM+gG,UAK7C,OAnGJ,SAA2Br6G,EAAQq8G,EAAgBC,EAAgB3B,EAAW4B,GAC5E,IAAI/hI,EACAsnC,EAAM06F,EApDc9+H,EAqDpB++H,GAAe,EACfC,GAAkB,EAClBC,GAAkC,IAAfhC,EACnBiC,GAAqB,EACrBC,EAtDGnB,EAHiBh+H,EAyDKsiB,EAAOtd,WAAW,KAtDhB,QAANhF,IACnB+9H,EAAa/9H,IAGdA,IAAM27H,GACN37H,IAAM87H,GACN97H,IAAM/F,GACN+F,IAAM9F,GACN8F,IAAMlF,GACNkF,IAAM1E,GACN0E,IAAMg8H,GACNh8H,IAAMi8H,GAENj8H,IAAM07H,GACN17H,IAAMrG,GACNqG,IAAMtG,GACNsG,IAAMy7H,GACNz7H,IAAMpE,GACNoE,IAAM47H,GACN57H,IAAM67H,GACN77H,IAAMxE,GACNwE,IAAM3F,GAEN2F,IAAM/E,GACN+E,IAAM+7H,GACN/7H,IAAM0jC,IA8BCq6F,EAAaz7G,EAAOtd,WAAWsd,EAAO3qB,OAAS,IAE3D,GAAIgnI,EAGF,IAAK7hI,EAAI,EAAGA,EAAIwlB,EAAO3qB,OAAQmF,IAAK,CAElC,IAAKkhI,EADL55F,EAAO9hB,EAAOtd,WAAWlI,IAEvB,OAAO0hI,EAETM,EAAYhiI,EAAI,EAAIwlB,EAAOtd,WAAWlI,EAAI,GAAK,KAC/CqiI,EAAQA,GAASlB,EAAY75F,EAAM06F,EACrC,KACK,CAEL,IAAKhiI,EAAI,EAAGA,EAAIwlB,EAAO3qB,OAAQmF,IAAK,CAElC,IADAsnC,EAAO9hB,EAAOtd,WAAWlI,MACZ/B,EACXgkI,GAAe,EAEXE,IACFD,EAAkBA,GAEfliI,EAAIoiI,EAAoB,EAAIjC,GACM,MAAlC36G,EAAO48G,EAAoB,GAC9BA,EAAoBpiI,QAEjB,IAAKkhI,EAAY55F,GACtB,OAAOo6F,EAETM,EAAYhiI,EAAI,EAAIwlB,EAAOtd,WAAWlI,EAAI,GAAK,KAC/CqiI,EAAQA,GAASlB,EAAY75F,EAAM06F,EACrC,CAEAE,EAAkBA,GAAoBC,GACnCniI,EAAIoiI,EAAoB,EAAIjC,GACM,MAAlC36G,EAAO48G,EAAoB,EAChC,CAIA,OAAKH,GAAiBC,EAOlBJ,EAAiB,GAAKT,EAAoB77G,GACrCk8G,EAIFQ,EAAkBT,EAAeD,EAT/Ba,IAAUN,EAAkBv8G,GAC/B87G,EAAcC,CAStB,CAqCYe,CAAkB98G,EAAQq8G,EAAgB/iG,EAAM4gG,OAAQS,GAJhE,SAAuB36G,GACrB,OAjNN,SAA+BsZ,EAAOr1B,GACpC,IAAI/I,EAAO7F,EAEX,IAAK6F,EAAQ,EAAG7F,EAASikC,EAAMyhG,cAAc1lI,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAG5E,GAFOo+B,EAAMyhG,cAAc7/H,GAElB2rB,QAAQ5iB,GACf,OAAO,EAIX,OAAO,CACT,CAqMa84H,CAAsBzjG,EAAOtZ,EACtC,KAGE,KAAK87G,EACH,OAAO97G,EACT,KAAK+7G,EACH,MAAO,IAAM/7G,EAAOniB,QAAQ,KAAM,MAAQ,IAC5C,KAAKm+H,EACH,MAAO,IAAMgB,EAAYh9G,EAAQsZ,EAAM4gG,QACnC+C,EAAkB5B,EAAar7G,EAAQk6G,IAC7C,KAAK+B,EACH,MAAO,IAAMe,EAAYh9G,EAAQsZ,EAAM4gG,QACnC+C,EAAkB5B,EA4B9B,SAAoBr7G,EAAQk9G,GAoB1B,IAfA,IAWIC,EAGAr/H,EAVEs/H,EAJFC,EAAS,iBAGT5uI,GAEF2uI,GAAqB,KADjBA,EAASp9G,EAAOhkB,QAAQ,OACHohI,EAASp9G,EAAO3qB,OACzCgoI,EAAOv2F,UAAYs2F,EACZE,EAASt9G,EAAOrkB,MAAM,EAAGyhI,GAASF,IAGvCK,EAAiC,OAAdv9G,EAAO,IAA6B,MAAdA,EAAO,GAK5CliB,EAAQu/H,EAAO9lG,KAAKvX,IAAU,CACpC,IAAIlqB,EAASgI,EAAM,GAAI2yB,EAAO3yB,EAAM,GACpCq/H,EAA4B,MAAZ1sG,EAAK,GACrBhiC,GAAUqH,GACJynI,GAAqBJ,GAAyB,KAAT1sG,EAC9B,GAAP,MACF6sG,EAAS7sG,EAAMysG,GACnBK,EAAmBJ,CACrB,CAEA,OAAO1uI,CACT,CA3D2C+uI,CAAWx9G,EAAQ26G,GAAYT,IACpE,KAAKgC,EACH,MAAO,IAuGf,SAAsBl8G,GAKpB,IAJA,IACI8hB,EAAMjS,EACN4tG,EAFAhvI,EAAS,GAIJ+L,EAAI,EAAGA,EAAIwlB,EAAO3qB,OAAQmF,KACjCsnC,EAAO9hB,EAAOtd,WAAWlI,KAEb,OAAUsnC,GAAQ,QAC5BjS,EAAW7P,EAAOtd,WAAWlI,EAAI,KACjB,OAAUq1B,GAAY,OAEpCphC,GAAUqrI,EAA4B,MAAjBh4F,EAAO,OAAkBjS,EAAW,MAAS,OAElEr1B,KAIJ/L,KADAgvI,EAAY7D,EAAiB93F,KACL45F,EAAY55F,GAChC9hB,EAAOxlB,GACPijI,GAAa3D,EAAUh4F,GAG7B,OAAOrzC,CACT,CA/HqBivI,CAAa19G,GAAqB,IACjD,QACE,MAAM,IAAIq4G,EAAc,0CAE9B,CA5Ca,EA6Cf,CAGA,SAAS2E,EAAYh9G,EAAQs8G,GAC3B,IAAIqB,EAAkB9B,EAAoB77G,GAAUgO,OAAOsuG,GAAkB,GAGzEsB,EAA8C,OAA9B59G,EAAOA,EAAO3qB,OAAS,GAI3C,OAAOsoI,IAHIC,GAAuC,OAA9B59G,EAAOA,EAAO3qB,OAAS,IAA0B,OAAX2qB,EAChC49G,EAAO,GAAK,IAAnB,KAEc,IACnC,CAGA,SAASX,EAAkBj9G,GACzB,MAAqC,OAA9BA,EAAOA,EAAO3qB,OAAS,GAAc2qB,EAAOrkB,MAAM,GAAI,GAAKqkB,CACpE,CAyCA,SAASs9G,EAAS7sG,EAAMysG,GACtB,GAAa,KAATzsG,GAA2B,MAAZA,EAAK,GAAY,OAAOA,EAa3C,IAVA,IACI3yB,EAEWuM,EAHXwzH,EAAU,SAGVzzH,EAAQ,EAAQzJ,EAAO,EAAG/E,EAAO,EACjCnN,EAAS,GAMLqP,EAAQ+/H,EAAQtmG,KAAK9G,KAC3B70B,EAAOkC,EAAM5C,OAEFkP,EAAQ8yH,IACjB7yH,EAAO1J,EAAOyJ,EAASzJ,EAAO/E,EAC9BnN,GAAU,KAAOgiC,EAAK90B,MAAMyO,EAAOC,GAEnCD,EAAQC,EAAM,GAEhB1J,EAAO/E,EAaT,OARAnN,GAAU,KAENgiC,EAAKp7B,OAAS+U,EAAQ8yH,GAASv8H,EAAOyJ,EACxC3b,GAAUgiC,EAAK90B,MAAMyO,EAAOzJ,GAAQ,KAAO8vB,EAAK90B,MAAMgF,EAAO,GAE7DlS,GAAUgiC,EAAK90B,MAAMyO,GAGhB3b,EAAOkN,MAAM,EACtB,CA8LA,SAASmiI,EAAWxkG,EAAO8gE,EAAQ2jC,GACjC,IAAIC,EAASC,EAAU/iI,EAAO7F,EAAQY,EAAM+I,EAI5C,IAAK9D,EAAQ,EAAG7F,GAFhB4oI,EAAWF,EAAWzkG,EAAM2hG,cAAgB3hG,EAAMyhG,eAEhB1lI,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAGjE,KAFAjF,EAAOgoI,EAAS/iI,IAENgjI,YAAejoI,EAAK4zB,cACxB5zB,EAAKioI,YAAkC,iBAAX9jC,GAAyBA,aAAkBnkG,EAAKioI,eAC5EjoI,EAAK4zB,WAAc5zB,EAAK4zB,UAAUuwE,IAAU,CAIhD,GAFA9gE,EAAMmE,IAAMsgG,EAAW9nI,EAAKwnC,IAAM,IAE9BxnC,EAAKkoI,UAAW,CAGlB,GAFAn/H,EAAQs6B,EAAMghG,SAASrkI,EAAKwnC,MAAQxnC,EAAKmoI,aAEF,sBAAnCnF,EAAU93H,KAAKlL,EAAKkoI,WACtBH,EAAU/nI,EAAKkoI,UAAU/jC,EAAQp7F,OAC5B,KAAIk6H,EAAgB/3H,KAAKlL,EAAKkoI,UAAWn/H,GAG9C,MAAM,IAAIq5H,EAAc,KAAOpiI,EAAKwnC,IAAM,+BAAiCz+B,EAAQ,WAFnFg/H,EAAU/nI,EAAKkoI,UAAUn/H,GAAOo7F,EAAQp7F,EAG1C,CAEAs6B,EAAM8+F,KAAO4F,CACf,CAEA,OAAO,CACT,CAGF,OAAO,CACT,CAKA,SAASK,EAAU/kG,EAAO71B,EAAO22F,EAAQ7/F,EAAO+jI,EAASlC,GACvD9iG,EAAMmE,IAAM,KACZnE,EAAM8+F,KAAOh+B,EAER0jC,EAAWxkG,EAAO8gE,GAAQ,IAC7B0jC,EAAWxkG,EAAO8gE,GAAQ,GAG5B,IAAInkG,EAAOgjI,EAAU93H,KAAKm4B,EAAM8+F,MAE5B79H,IACFA,EAAS++B,EAAM+gG,UAAY,GAAK/gG,EAAM+gG,UAAY52H,GAGpD,IACI86H,EACAC,EAFAC,EAAyB,oBAATxoI,GAAuC,mBAATA,EAalD,GATIwoI,IAEFD,GAAgC,KADhCD,EAAiBjlG,EAAM6hG,WAAWn/H,QAAQo+F,MAIzB,OAAd9gE,EAAMmE,KAA8B,MAAdnE,EAAMmE,KAAgB+gG,GAA+B,IAAjBllG,EAAM4gG,QAAgBz2H,EAAQ,KAC3F66H,GAAU,GAGRE,GAAallG,EAAM8hG,eAAemD,GACpCjlG,EAAM8+F,KAAO,QAAUmG,MAClB,CAIL,GAHIE,GAAiBD,IAAcllG,EAAM8hG,eAAemD,KACtDjlG,EAAM8hG,eAAemD,IAAkB,GAE5B,oBAATtoI,EACEsE,GAA6C,IAAnC3Q,OAAO2Y,KAAK+2B,EAAM8+F,MAAM/iI,QAlJ5C,SAA2BikC,EAAO71B,EAAO22F,EAAQkkC,GAC/C,IAGIpjI,EACA7F,EACAqpI,EACAC,EACAC,EACAC,EARAb,EAAgB,GAChBc,EAAgBxlG,EAAMmE,IACtBshG,EAAgBn1I,OAAO2Y,KAAK63F,GAShC,IAAuB,IAAnB9gE,EAAMohG,SAERqE,EAAc9vG,YACT,GAA8B,mBAAnBqK,EAAMohG,SAEtBqE,EAAc9vG,KAAKqK,EAAMohG,eACpB,GAAIphG,EAAMohG,SAEf,MAAM,IAAIrC,EAAc,4CAG1B,IAAKn9H,EAAQ,EAAG7F,EAAS0pI,EAAc1pI,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EACtE2jI,EAAa,GAERP,GAAqB,IAAVpjI,IACd2jI,GAAcrD,EAAiBliG,EAAO71B,IAIxCk7H,EAAcvkC,EADdskC,EAAYK,EAAc7jI,IAGrBmjI,EAAU/kG,EAAO71B,EAAQ,EAAGi7H,GAAW,GAAM,GAAM,MAIxDE,EAA8B,OAAdtlG,EAAMmE,KAA8B,MAAdnE,EAAMmE,KAC5BnE,EAAM8+F,MAAQ9+F,EAAM8+F,KAAK/iI,OAAS,QAG5CikC,EAAM8+F,MAAQ3/H,IAAmB6gC,EAAM8+F,KAAK11H,WAAW,GACzDm8H,GAAc,IAEdA,GAAc,MAIlBA,GAAcvlG,EAAM8+F,KAEhBwG,IACFC,GAAcrD,EAAiBliG,EAAO71B,IAGnC46H,EAAU/kG,EAAO71B,EAAQ,EAAGk7H,GAAa,EAAMC,KAIhDtlG,EAAM8+F,MAAQ3/H,IAAmB6gC,EAAM8+F,KAAK11H,WAAW,GACzDm8H,GAAc,IAEdA,GAAc,KAMhBb,GAHAa,GAAcvlG,EAAM8+F,OAMtB9+F,EAAMmE,IAAMqhG,EACZxlG,EAAM8+F,KAAO4F,GAAW,IAC1B,CA2EQgB,CAAkB1lG,EAAO71B,EAAO61B,EAAM8+F,KAAMkG,GACxCE,IACFllG,EAAM8+F,KAAO,QAAUmG,EAAiBjlG,EAAM8+F,QA/LxD,SAA0B9+F,EAAO71B,EAAO22F,GACtC,IAGIl/F,EACA7F,EACAqpI,EACAC,EACAE,EAPAb,EAAgB,GAChBc,EAAgBxlG,EAAMmE,IACtBshG,EAAgBn1I,OAAO2Y,KAAK63F,GAOhC,IAAKl/F,EAAQ,EAAG7F,EAAS0pI,EAAc1pI,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAEtE2jI,EAAa,GACC,IAAV3jI,IAAa2jI,GAAc,MAE3BvlG,EAAMwhG,eAAc+D,GAAc,KAGtCF,EAAcvkC,EADdskC,EAAYK,EAAc7jI,IAGrBmjI,EAAU/kG,EAAO71B,EAAOi7H,GAAW,GAAO,KAI3CplG,EAAM8+F,KAAK/iI,OAAS,OAAMwpI,GAAc,MAE5CA,GAAcvlG,EAAM8+F,MAAQ9+F,EAAMwhG,aAAe,IAAM,IAAM,KAAOxhG,EAAMwhG,aAAe,GAAK,KAEzFuD,EAAU/kG,EAAO71B,EAAOk7H,GAAa,GAAO,KAOjDX,GAHAa,GAAcvlG,EAAM8+F,OAMtB9+F,EAAMmE,IAAMqhG,EACZxlG,EAAM8+F,KAAO,IAAM4F,EAAU,GAC/B,CA0JQiB,CAAiB3lG,EAAO71B,EAAO61B,EAAM8+F,MACjCoG,IACFllG,EAAM8+F,KAAO,QAAUmG,EAAiB,IAAMjlG,EAAM8+F,YAGnD,GAAa,mBAATniI,EAA2B,CACpC,IAAIipI,EAAc5lG,EAAM6gG,eAAkB12H,EAAQ,EAAMA,EAAQ,EAAIA,EAChElJ,GAAgC,IAAtB++B,EAAM8+F,KAAK/iI,QApO/B,SAA4BikC,EAAO71B,EAAO22F,EAAQkkC,GAChD,IAEIpjI,EACA7F,EAHA2oI,EAAU,GACVc,EAAUxlG,EAAMmE,IAIpB,IAAKviC,EAAQ,EAAG7F,EAAS+kG,EAAO/kG,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAE3DmjI,EAAU/kG,EAAO71B,EAAQ,EAAG22F,EAAOl/F,IAAQ,GAAM,KAC9CojI,GAAqB,IAAVpjI,IACd8iI,GAAWxC,EAAiBliG,EAAO71B,IAGjC61B,EAAM8+F,MAAQ3/H,IAAmB6gC,EAAM8+F,KAAK11H,WAAW,GACzDs7H,GAAW,IAEXA,GAAW,KAGbA,GAAW1kG,EAAM8+F,MAIrB9+F,EAAMmE,IAAMqhG,EACZxlG,EAAM8+F,KAAO4F,GAAW,IAC1B,CA4MQmB,CAAmB7lG,EAAO4lG,EAAY5lG,EAAM8+F,KAAMkG,GAC9CE,IACFllG,EAAM8+F,KAAO,QAAUmG,EAAiBjlG,EAAM8+F,QAzPxD,SAA2B9+F,EAAO71B,EAAO22F,GACvC,IAEIl/F,EACA7F,EAHA2oI,EAAU,GACVc,EAAUxlG,EAAMmE,IAIpB,IAAKviC,EAAQ,EAAG7F,EAAS+kG,EAAO/kG,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAE3DmjI,EAAU/kG,EAAO71B,EAAO22F,EAAOl/F,IAAQ,GAAO,KAClC,IAAVA,IAAa8iI,GAAW,KAAQ1kG,EAAMwhG,aAAqB,GAAN,MACzDkD,GAAW1kG,EAAM8+F,MAIrB9+F,EAAMmE,IAAMqhG,EACZxlG,EAAM8+F,KAAO,IAAM4F,EAAU,GAC/B,CA4OQoB,CAAkB9lG,EAAO4lG,EAAY5lG,EAAM8+F,MACvCoG,IACFllG,EAAM8+F,KAAO,QAAUmG,EAAiB,IAAMjlG,EAAM8+F,MAG1D,KAAO,IAAa,oBAATniI,EAIJ,CACL,GAAIqjC,EAAM8gG,YAAa,OAAO,EAC9B,MAAM,IAAI/B,EAAc,0CAA4CpiI,EACtE,CANoB,MAAdqjC,EAAMmE,KACR0+F,EAAY7iG,EAAOA,EAAM8+F,KAAM30H,EAAO24H,EAK1C,CAEkB,OAAd9iG,EAAMmE,KAA8B,MAAdnE,EAAMmE,MAC9BnE,EAAM8+F,KAAO,KAAO9+F,EAAMmE,IAAM,KAAOnE,EAAM8+F,KAEjD,CAEA,OAAO,CACT,CAEA,SAASiH,GAAuBjlC,EAAQ9gE,GACtC,IAEIp+B,EACA7F,EAHAiqI,EAAU,GACVC,EAAoB,GAMxB,IAFAC,GAAYplC,EAAQklC,EAASC,GAExBrkI,EAAQ,EAAG7F,EAASkqI,EAAkBlqI,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAC1Eo+B,EAAM6hG,WAAWvqI,KAAK0uI,EAAQC,EAAkBrkI,KAElDo+B,EAAM8hG,eAAiB,IAAItmI,MAAMO,EACnC,CAEA,SAASmqI,GAAYplC,EAAQklC,EAASC,GACpC,IAAIR,EACA7jI,EACA7F,EAEJ,GAAe,OAAX+kG,GAAqC,iBAAXA,EAE5B,IAAe,KADfl/F,EAAQokI,EAAQtjI,QAAQo+F,KAEoB,IAAtCmlC,EAAkBvjI,QAAQd,IAC5BqkI,EAAkB3uI,KAAKsK,QAKzB,GAFAokI,EAAQ1uI,KAAKwpG,GAETtlG,MAAMC,QAAQqlG,GAChB,IAAKl/F,EAAQ,EAAG7F,EAAS+kG,EAAO/kG,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAC/DskI,GAAYplC,EAAOl/F,GAAQokI,EAASC,QAKtC,IAAKrkI,EAAQ,EAAG7F,GAFhB0pI,EAAgBn1I,OAAO2Y,KAAK63F,IAEW/kG,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EACtEskI,GAAYplC,EAAO2kC,EAAc7jI,IAASokI,EAASC,EAK7D,CAEA,SAASnH,GAAKzjI,EAAOC,GAGnB,IAAI0kC,EAAQ,IAAI2gG,EAFhBrlI,EAAUA,GAAW,CAAC,GAMtB,OAFK0kC,EAAMshG,QAAQyE,GAAuB1qI,EAAO2kC,GAE7C+kG,EAAU/kG,EAAO,EAAG3kC,GAAO,GAAM,GAAc2kC,EAAM8+F,KAAO,KAEzD,EACT,CAMAjkI,EAAOrK,QAAQsuI,KAAWA,GAC1BjkI,EAAOrK,QAAQo8H,SALf,SAAkBvxH,EAAOC,GACvB,OAAOwjI,GAAKzjI,EAAO9H,EAAOyU,OAAO,CAAE+/C,OAAQ22E,GAAuBpjI,GACpE,yBC10BA,SAASyjI,EAAcjwH,EAAQq3H,GAE7Bv0I,MAAMiW,KAAKlS,MAEXA,KAAK3B,KAAO,gBACZ2B,KAAKmZ,OAASA,EACdnZ,KAAKwwI,KAAOA,EACZxwI,KAAKkR,SAAWlR,KAAKmZ,QAAU,qBAAuBnZ,KAAKwwI,KAAO,IAAMxwI,KAAKwwI,KAAKz9H,WAAa,IAG3F9W,MAAMyjB,kBAERzjB,MAAMyjB,kBAAkB1f,KAAMA,KAAKF,aAGnCE,KAAK+L,OAAQ,IAAK9P,OAAS8P,OAAS,EAExC,CAIAq9H,EAAcpwH,UAAYre,OAAOqL,OAAO/J,MAAM+c,WAC9CowH,EAAcpwH,UAAUlZ,YAAcspI,EAGtCA,EAAcpwH,UAAUjG,SAAW,SAAkBs8H,GACnD,IAAI7vI,EAASQ,KAAK3B,KAAO,KAQzB,OANAmB,GAAUQ,KAAKmZ,QAAU,oBAEpBk2H,GAAWrvI,KAAKwwI,OACnBhxI,GAAU,IAAMQ,KAAKwwI,KAAKz9H,YAGrBvT,CACT,EAGA0F,EAAOrK,QAAUuuI,+BCtCjB,IAAIxrI,EAAsB,EAAQ,MAC9BwrI,EAAsB,EAAQ,MAC9BqH,EAAsB,EAAQ,MAC9B1H,EAAsB,EAAQ,MAC9BC,EAAsB,EAAQ,MAG9BiB,EAAkBtvI,OAAOqe,UAAUwhC,eAGnCk2F,EAAoB,EACpBC,EAAoB,EACpBC,EAAoB,EACpBC,EAAoB,EAGpBC,EAAiB,EACjBC,EAAiB,EACjBC,EAAiB,EAGjBC,EAAgC,sIAChCC,EAAgC,qBAChCC,EAAgC,cAChCC,EAAgC,yBAChCC,EAAgC,mFAGpC,SAASC,EAAO78H,GAAO,OAAO9Z,OAAOqe,UAAUjG,SAASb,KAAKuC,EAAM,CAEnE,SAAS88H,EAAO9iI,GACd,OAAc,KAANA,GAA8B,KAANA,CAClC,CAEA,SAAS+iI,EAAe/iI,GACtB,OAAc,IAANA,GAA+B,KAANA,CACnC,CAEA,SAASgjI,EAAahjI,GACpB,OAAc,IAANA,GACM,KAANA,GACM,KAANA,GACM,KAANA,CACV,CAEA,SAASijI,EAAkBjjI,GACzB,OAAa,KAANA,GACM,KAANA,GACM,KAANA,GACM,MAANA,GACM,MAANA,CACT,CAEA,SAASkjI,EAAYljI,GACnB,IAAImjI,EAEJ,OAAK,IAAenjI,GAAOA,GAAK,GACvBA,EAAI,GAMR,KAFLmjI,EAAS,GAAJnjI,IAEuBmjI,GAAM,IACzBA,EAAK,GAAO,IAGb,CACV,CAiBA,SAASC,EAAqBpjI,GAE5B,OAAc,KAANA,EAAqB,KAChB,KAANA,EAAqB,IACf,KAANA,EAAqB,KACf,MAANA,GACM,IAANA,EADqB,KAEf,MAANA,EAAqB,KACf,MAANA,EAAqB,KACf,MAANA,EAAqB,KACf,MAANA,EAAqB,KACf,MAANA,EAAqB,IACf,KAANA,EAAyB,IACnB,KAANA,EAAqB,IACf,KAANA,EAAqB,IACf,KAANA,EAAqB,KACf,KAANA,EAAqB,IACf,KAANA,EAAqB,IACf,KAANA,EAAqB,SACf,KAANA,EAAqB,SAAW,EACzC,CAEA,SAASqjI,EAAkBrjI,GACzB,OAAIA,GAAK,MACAswB,OAAOI,aAAa1wB,GAItBswB,OAAOI,aACa,OAAvB1wB,EAAI,OAAa,IACS,OAA1BA,EAAI,MAAY,MAEtB,CAIA,IAFA,IAAIsjI,EAAoB,IAAIlsI,MAAM,KAC9BmsI,EAAkB,IAAInsI,MAAM,KACvB0F,EAAI,EAAGA,EAAI,IAAKA,IACvBwmI,EAAkBxmI,GAAKsmI,EAAqBtmI,GAAK,EAAI,EACrDymI,EAAgBzmI,GAAKsmI,EAAqBtmI,GAI5C,SAASy/H,EAAMtlI,EAAOC,GACpB3F,KAAK0F,MAAQA,EAEb1F,KAAKo9C,SAAYz3C,EAAkB,UAAM,KACzC3F,KAAKoyD,OAAYzsD,EAAgB,QAAQqjI,EACzChpI,KAAKiyI,UAAYtsI,EAAmB,WAAK,KACzC3F,KAAKkyI,OAAYvsI,EAAgB,SAAQ,EACzC3F,KAAKmsD,KAAYxmD,EAAc,OAAU,EACzC3F,KAAK0Z,SAAY/T,EAAkB,UAAM,KAEzC3F,KAAK8rI,cAAgB9rI,KAAKoyD,OAAO25E,iBACjC/rI,KAAKmyI,QAAgBnyI,KAAKoyD,OAAOk5E,gBAEjCtrI,KAAKoG,OAAaV,EAAMU,OACxBpG,KAAKmkC,SAAa,EAClBnkC,KAAKwhC,KAAa,EAClBxhC,KAAK4rG,UAAa,EAClB5rG,KAAKoyI,WAAa,EAElBpyI,KAAKqyI,UAAY,EAYnB,CAGA,SAASC,EAAcjoG,EAAOn5B,GAC5B,OAAO,IAAIk4H,EACTl4H,EACA,IAAIu/H,EAAKpmG,EAAM+S,SAAU/S,EAAM3kC,MAAO2kC,EAAMlG,SAAUkG,EAAM7I,KAAO6I,EAAMlG,SAAWkG,EAAMuhE,WAC9F,CAEA,SAAS9lE,EAAWuE,EAAOn5B,GACzB,MAAMohI,EAAcjoG,EAAOn5B,EAC7B,CAEA,SAASqhI,EAAaloG,EAAOn5B,GACvBm5B,EAAM4nG,WACR5nG,EAAM4nG,UAAU//H,KAAK,KAAMogI,EAAcjoG,EAAOn5B,GAEpD,CAGA,IAAIshI,EAAoB,CAEtBC,KAAM,SAA6BpoG,EAAOhsC,EAAM+I,GAE9C,IAAIyH,EAAO6jI,EAAOC,EAEI,OAAlBtoG,EAAM1hB,SACRmd,EAAWuE,EAAO,kCAGA,IAAhBjjC,EAAKhB,QACP0/B,EAAWuE,EAAO,+CAKN,QAFdx7B,EAAQ,uBAAuBy5B,KAAKlhC,EAAK,MAGvC0+B,EAAWuE,EAAO,6CAGpBqoG,EAAQt2I,SAASyS,EAAM,GAAI,IAC3B8jI,EAAQv2I,SAASyS,EAAM,GAAI,IAEb,IAAV6jI,GACF5sG,EAAWuE,EAAO,6CAGpBA,EAAM1hB,QAAUvhB,EAAK,GACrBijC,EAAMuoG,gBAAmBD,EAAQ,EAEnB,IAAVA,GAAyB,IAAVA,GACjBJ,EAAaloG,EAAO,2CAExB,EAEAwoG,IAAK,SAA4BxoG,EAAOhsC,EAAM+I,GAE5C,IAAI2jI,EAAQlkI,EAEQ,IAAhBO,EAAKhB,QACP0/B,EAAWuE,EAAO,+CAGpB0gG,EAAS3jI,EAAK,GACdP,EAASO,EAAK,GAETgqI,EAAmB/9H,KAAK03H,IAC3BjlG,EAAWuE,EAAO,+DAGhB4/F,EAAgB/3H,KAAKm4B,EAAMyoG,OAAQ/H,IACrCjlG,EAAWuE,EAAO,8CAAgD0gG,EAAS,gBAGxEsG,EAAgBh+H,KAAKxM,IACxBi/B,EAAWuE,EAAO,gEAGpBA,EAAMyoG,OAAO/H,GAAUlkI,CACzB,GAIF,SAASksI,EAAe1oG,EAAOlvB,EAAOC,EAAK43H,GACzC,IAAIC,EAAWC,EAASC,EAAYpE,EAEpC,GAAI5zH,EAAQC,EAAK,CAGf,GAFA2zH,EAAU1kG,EAAM3kC,MAAMgH,MAAMyO,EAAOC,GAE/B43H,EACF,IAAKC,EAAY,EAAGC,EAAUnE,EAAQ3oI,OAAQ6sI,EAAYC,EAASD,GAAa,EAEzD,KADrBE,EAAapE,EAAQt7H,WAAWw/H,KAEzB,IAAQE,GAAcA,GAAc,SACzCrtG,EAAWuE,EAAO,sCAGb4mG,EAAsB59H,KAAK07H,IACpCjpG,EAAWuE,EAAO,gDAGpBA,EAAM7qC,QAAUuvI,CAClB,CACF,CAEA,SAASqE,EAAc/oG,EAAO1R,EAAa7qB,EAAQulI,GACjD,IAAItJ,EAAYx2H,EAAKtH,EAAOqnI,EAQ5B,IANK11I,EAAO2gC,SAASzwB,IACnBg4B,EAAWuE,EAAO,qEAKfp+B,EAAQ,EAAGqnI,GAFhBvJ,EAAapvI,OAAO2Y,KAAKxF,IAEa1H,OAAQ6F,EAAQqnI,EAAUrnI,GAAS,EACvEsH,EAAMw2H,EAAW99H,GAEZg+H,EAAgB/3H,KAAKymB,EAAaplB,KACrColB,EAAYplB,GAAOzF,EAAOyF,GAC1B8/H,EAAgB9/H,IAAO,EAG7B,CAEA,SAASggI,EAAiBlpG,EAAO0kG,EAASsE,EAAiBG,EAAQC,EAASC,EAAWvgE,EAAWwgE,GAChG,IAAI1nI,EAAOqnI,EAKX,GAAIztI,MAAMC,QAAQ2tI,GAGhB,IAAKxnI,EAAQ,EAAGqnI,GAFhBG,EAAU5tI,MAAMmT,UAAUtM,MAAMwF,KAAKuhI,IAEFrtI,OAAQ6F,EAAQqnI,EAAUrnI,GAAS,EAChEpG,MAAMC,QAAQ2tI,EAAQxnI,KACxB65B,EAAWuE,EAAO,+CAGG,iBAAZopG,GAAmD,oBAA3BnC,EAAOmC,EAAQxnI,MAChDwnI,EAAQxnI,GAAS,mBAmBvB,GAXuB,iBAAZwnI,GAA4C,oBAApBnC,EAAOmC,KACxCA,EAAU,mBAIZA,EAAU10G,OAAO00G,GAED,OAAZ1E,IACFA,EAAU,CAAC,GAGE,4BAAXyE,EACF,GAAI3tI,MAAMC,QAAQ4tI,GAChB,IAAKznI,EAAQ,EAAGqnI,EAAWI,EAAUttI,OAAQ6F,EAAQqnI,EAAUrnI,GAAS,EACtEmnI,EAAc/oG,EAAO0kG,EAAS2E,EAAUznI,GAAQonI,QAGlDD,EAAc/oG,EAAO0kG,EAAS2E,EAAWL,QAGtChpG,EAAM8hB,MACN89E,EAAgB/3H,KAAKmhI,EAAiBI,KACvCxJ,EAAgB/3H,KAAK68H,EAAS0E,KAChCppG,EAAM7I,KAAO2xC,GAAa9oC,EAAM7I,KAChC6I,EAAMlG,SAAWwvG,GAAYtpG,EAAMlG,SACnC2B,EAAWuE,EAAO,2BAEpB0kG,EAAQ0E,GAAWC,SACZL,EAAgBI,GAGzB,OAAO1E,CACT,CAEA,SAAS6E,EAAcvpG,GACrB,IAAIuiE,EAIO,MAFXA,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAGhCkG,EAAMlG,WACU,KAAPyoE,GACTviE,EAAMlG,WACyC,KAA3CkG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAC/BkG,EAAMlG,YAGR2B,EAAWuE,EAAO,4BAGpBA,EAAM7I,MAAQ,EACd6I,EAAMuhE,UAAYvhE,EAAMlG,QAC1B,CAEA,SAAS0vG,EAAoBxpG,EAAOypG,EAAeC,GAIjD,IAHA,IAAIC,EAAa,EACbpnC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,UAExB,IAAPyoE,GAAU,CACf,KAAO4kC,EAAe5kC,IACpBA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAGtC,GAAI2vG,GAAwB,KAAPlnC,EACnB,GACEA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,gBACtB,KAAPyoE,GAA8B,KAAPA,GAA8B,IAAPA,GAGzD,IAAI2kC,EAAO3kC,GAYT,MALA,IANAgnC,EAAcvpG,GAEduiE,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,UAClC6vG,IACA3pG,EAAM+nG,WAAa,EAEL,KAAPxlC,GACLviE,EAAM+nG,aACNxlC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,SAK1C,CAMA,OAJqB,IAAjB4vG,GAAqC,IAAfC,GAAoB3pG,EAAM+nG,WAAa2B,GAC/DxB,EAAaloG,EAAO,yBAGf2pG,CACT,CAEA,SAASC,EAAsB5pG,GAC7B,IACIuiE,EADAqmC,EAAY5oG,EAAMlG,SAOtB,QAAY,MAJZyoE,EAAKviE,EAAM3kC,MAAM+N,WAAWw/H,KAIM,KAAPrmC,GACvBA,IAAOviE,EAAM3kC,MAAM+N,WAAWw/H,EAAY,IAC1CrmC,IAAOviE,EAAM3kC,MAAM+N,WAAWw/H,EAAY,KAE5CA,GAAa,EAIF,KAFXrmC,EAAKviE,EAAM3kC,MAAM+N,WAAWw/H,MAEZxB,EAAa7kC,IAMjC,CAEA,SAASsnC,EAAiB7pG,EAAO6J,GACjB,IAAVA,EACF7J,EAAM7qC,QAAU,IACP00C,EAAQ,IACjB7J,EAAM7qC,QAAU5B,EAAOs3C,OAAO,KAAMhB,EAAQ,GAEhD,CAoeA,SAASigG,EAAkB9pG,EAAO+pG,GAChC,IAAIC,EAMAznC,EALAijC,EAAYxlG,EAAMmE,IAClB8lG,EAAYjqG,EAAM89B,OAClB4mE,EAAY,GAEZwF,GAAY,EAShB,IANqB,OAAjBlqG,EAAM89B,SACR99B,EAAMmqG,UAAUnqG,EAAM89B,QAAU4mE,GAGlCniC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,UAEpB,IAAPyoE,GAEM,KAAPA,GAMC6kC,EAFOpnG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,SAAW,KASpD,GAHAowG,GAAW,EACXlqG,EAAMlG,WAEF0vG,EAAoBxpG,GAAO,GAAO,IAChCA,EAAM+nG,YAAcgC,EACtBrF,EAAQptI,KAAK,MACbirG,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,eAYtC,GAPAkwG,EAAQhqG,EAAM7I,KACdizG,EAAYpqG,EAAO+pG,EAAYxD,GAAkB,GAAO,GACxD7B,EAAQptI,KAAK0oC,EAAM7qC,QACnBq0I,EAAoBxpG,GAAO,GAAO,GAElCuiE,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAE7BkG,EAAM7I,OAAS6yG,GAAShqG,EAAM+nG,WAAagC,IAAuB,IAAPxnC,EAC9D9mE,EAAWuE,EAAO,4CACb,GAAIA,EAAM+nG,WAAagC,EAC5B,MAIJ,QAAIG,IACFlqG,EAAMmE,IAAMqhG,EACZxlG,EAAM89B,OAASmsE,EACfjqG,EAAM61B,KAAO,WACb71B,EAAM7qC,OAASuvI,GACR,EAGX,CA6JA,SAAS2F,EAAgBrqG,GACvB,IAAI4oG,EAGA0B,EACAC,EACAhoC,EAJAioC,GAAa,EACbC,GAAa,EAOjB,GAAW,MAFXloC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAEV,OAAO,EAuB/B,GArBkB,OAAdkG,EAAMmE,KACR1I,EAAWuE,EAAO,iCAKT,MAFXuiE,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,YAGlC0wG,GAAa,EACbjoC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,WAEpB,KAAPyoE,GACTkoC,GAAU,EACVH,EAAY,KACZ/nC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,WAGpCwwG,EAAY,IAGd1B,EAAY5oG,EAAMlG,SAEd0wG,EAAY,CACd,GAAKjoC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,gBAC3B,IAAPyoE,GAAmB,KAAPA,GAEfviE,EAAMlG,SAAWkG,EAAMjkC,QACzBwuI,EAAUvqG,EAAM3kC,MAAMgH,MAAMumI,EAAW5oG,EAAMlG,UAC7CyoE,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,WAEpC2B,EAAWuE,EAAO,qDAEtB,KAAO,CACL,KAAc,IAAPuiE,IAAa6kC,EAAa7kC,IAEpB,KAAPA,IACGkoC,EAUHhvG,EAAWuE,EAAO,gDATlBsqG,EAAYtqG,EAAM3kC,MAAMgH,MAAMumI,EAAY,EAAG5oG,EAAMlG,SAAW,GAEzDitG,EAAmB/9H,KAAKshI,IAC3B7uG,EAAWuE,EAAO,mDAGpByqG,GAAU,EACV7B,EAAY5oG,EAAMlG,SAAW,IAMjCyoE,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAGtCywG,EAAUvqG,EAAM3kC,MAAMgH,MAAMumI,EAAW5oG,EAAMlG,UAEzCgtG,EAAwB99H,KAAKuhI,IAC/B9uG,EAAWuE,EAAO,sDAEtB,CAsBA,OApBIuqG,IAAYvD,EAAgBh+H,KAAKuhI,IACnC9uG,EAAWuE,EAAO,4CAA8CuqG,GAG9DC,EACFxqG,EAAMmE,IAAMomG,EAEH3K,EAAgB/3H,KAAKm4B,EAAMyoG,OAAQ6B,GAC5CtqG,EAAMmE,IAAMnE,EAAMyoG,OAAO6B,GAAaC,EAEf,MAAdD,EACTtqG,EAAMmE,IAAM,IAAMomG,EAEK,OAAdD,EACTtqG,EAAMmE,IAAM,qBAAuBomG,EAGnC9uG,EAAWuE,EAAO,0BAA4BsqG,EAAY,MAGrD,CACT,CAEA,SAASI,EAAmB1qG,GAC1B,IAAI4oG,EACArmC,EAIJ,GAAW,MAFXA,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAEV,OAAO,EAS/B,IAPqB,OAAjBkG,EAAM89B,QACRriC,EAAWuE,EAAO,qCAGpBuiE,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UACpC8uG,EAAY5oG,EAAMlG,SAEJ,IAAPyoE,IAAa6kC,EAAa7kC,KAAQ8kC,EAAkB9kC,IACzDA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAQtC,OALIkG,EAAMlG,WAAa8uG,GACrBntG,EAAWuE,EAAO,8DAGpBA,EAAM89B,OAAS99B,EAAM3kC,MAAMgH,MAAMumI,EAAW5oG,EAAMlG,WAC3C,CACT,CAgCA,SAASswG,EAAYpqG,EAAO2qG,EAAcC,EAAaC,EAAaC,GAClE,IAAIC,EACAC,EACAC,EAIAC,EACAC,EACAxuI,EACAyuI,EACAC,EAPAC,EAAe,EACfC,GAAa,EACbC,GAAa,EAkCjB,GA3BuB,OAAnBxrG,EAAM3wB,UACR2wB,EAAM3wB,SAAS,OAAQ2wB,GAGzBA,EAAMmE,IAAS,KACfnE,EAAM89B,OAAS,KACf99B,EAAM61B,KAAS,KACf71B,EAAM7qC,OAAS,KAEf41I,EAAmBC,EAAoBC,EACrCzE,IAAsBoE,GACtBrE,IAAsBqE,EAEpBC,GACErB,EAAoBxpG,GAAO,GAAO,KACpCurG,GAAY,EAERvrG,EAAM+nG,WAAa4C,EACrBW,EAAe,EACNtrG,EAAM+nG,aAAe4C,EAC9BW,EAAe,EACNtrG,EAAM+nG,WAAa4C,IAC5BW,GAAgB,IAKD,IAAjBA,EACF,KAAOjB,EAAgBrqG,IAAU0qG,EAAmB1qG,IAC9CwpG,EAAoBxpG,GAAO,GAAO,IACpCurG,GAAY,EACZN,EAAwBF,EAEpB/qG,EAAM+nG,WAAa4C,EACrBW,EAAe,EACNtrG,EAAM+nG,aAAe4C,EAC9BW,EAAe,EACNtrG,EAAM+nG,WAAa4C,IAC5BW,GAAgB,IAGlBL,GAAwB,EAwD9B,GAnDIA,IACFA,EAAwBM,GAAaT,GAGlB,IAAjBQ,GAAsB9E,IAAsBoE,IAE5CQ,EADE/E,IAAoBuE,GAAetE,IAAqBsE,EAC7CD,EAEAA,EAAe,EAG9BU,EAAcrrG,EAAMlG,SAAWkG,EAAMuhE,UAEhB,IAAjB+pC,EACEL,IACCnB,EAAkB9pG,EAAOqrG,IA5XpC,SAA0BrrG,EAAO+pG,EAAYqB,GAC3C,IAAIK,EACAX,EACAd,EACA0B,EAUAnpC,EATAijC,EAAgBxlG,EAAMmE,IACtB8lG,EAAgBjqG,EAAM89B,OACtB4mE,EAAgB,CAAC,EACjBsE,EAAkB,CAAC,EACnBG,EAAgB,KAChBC,EAAgB,KAChBC,EAAgB,KAChBsC,GAAgB,EAChBzB,GAAgB,EASpB,IANqB,OAAjBlqG,EAAM89B,SACR99B,EAAMmqG,UAAUnqG,EAAM89B,QAAU4mE,GAGlCniC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,UAEpB,IAAPyoE,GAAU,CASf,GARAkpC,EAAYzrG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,SAAW,GACpDkwG,EAAQhqG,EAAM7I,KACdu0G,EAAO1rG,EAAMlG,SAMD,KAAPyoE,GAA6B,KAAPA,IAAuB6kC,EAAaqE,GA2BxD,KAAIrB,EAAYpqG,EAAOorG,EAAY9E,GAAkB,GAAO,GA8CjE,MA5CA,GAAItmG,EAAM7I,OAAS6yG,EAAO,CAGxB,IAFAznC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,UAE3BqtG,EAAe5kC,IACpBA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAGtC,GAAW,KAAPyoE,EAGG6kC,EAFL7kC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,YAGlC2B,EAAWuE,EAAO,2FAGhB2rG,IACFzC,EAAiBlpG,EAAO0kG,EAASsE,EAAiBG,EAAQC,EAAS,MACnED,EAASC,EAAUC,EAAY,MAGjCa,GAAW,EACXyB,GAAgB,EAChBb,GAAe,EACf3B,EAASnpG,EAAMmE,IACfilG,EAAUppG,EAAM7qC,WAEX,KAAI+0I,EAMT,OAFAlqG,EAAMmE,IAAMqhG,EACZxlG,EAAM89B,OAASmsE,GACR,EALPxuG,EAAWuE,EAAO,2DAMpB,CAEF,KAAO,KAAIkqG,EAMT,OAFAlqG,EAAMmE,IAAMqhG,EACZxlG,EAAM89B,OAASmsE,GACR,EALPxuG,EAAWuE,EAAO,iFAMpB,CAIF,MAxEa,KAAPuiE,GACEopC,IACFzC,EAAiBlpG,EAAO0kG,EAASsE,EAAiBG,EAAQC,EAAS,MACnED,EAASC,EAAUC,EAAY,MAGjCa,GAAW,EACXyB,GAAgB,EAChBb,GAAe,GAENa,GAETA,GAAgB,EAChBb,GAAe,GAGfrvG,EAAWuE,EAAO,qGAGpBA,EAAMlG,UAAY,EAClByoE,EAAKkpC,EA2EP,IAlBIzrG,EAAM7I,OAAS6yG,GAAShqG,EAAM+nG,WAAagC,KACzCK,EAAYpqG,EAAO+pG,EAAYvD,GAAmB,EAAMsE,KACtDa,EACFvC,EAAUppG,EAAM7qC,OAEhBk0I,EAAYrpG,EAAM7qC,QAIjBw2I,IACHzC,EAAiBlpG,EAAO0kG,EAASsE,EAAiBG,EAAQC,EAASC,EAAWW,EAAO0B,GACrFvC,EAASC,EAAUC,EAAY,MAGjCG,EAAoBxpG,GAAO,GAAO,GAClCuiE,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAGhCkG,EAAM+nG,WAAagC,GAAsB,IAAPxnC,EACpC9mE,EAAWuE,EAAO,2CACb,GAAIA,EAAM+nG,WAAagC,EAC5B,KAEJ,CAmBA,OAZI4B,GACFzC,EAAiBlpG,EAAO0kG,EAASsE,EAAiBG,EAAQC,EAAS,MAIjEc,IACFlqG,EAAMmE,IAAMqhG,EACZxlG,EAAM89B,OAASmsE,EACfjqG,EAAM61B,KAAO,UACb71B,EAAM7qC,OAASuvI,GAGVwF,CACT,CAoOW0B,CAAiB5rG,EAAOqrG,EAAaD,KAnrBhD,SAA4BprG,EAAO+pG,GACjC,IACIC,EAEAtF,EAGAmH,EACAC,EACAC,EACAC,EAEA5C,EACAD,EACAE,EACA9mC,EAdAyxB,GAAW,EAEXwR,EAAWxlG,EAAMmE,IAEjB8lG,EAAWjqG,EAAM89B,OAMjBkrE,EAAkB,CAAC,EAQvB,GAAW,MAFXzmC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAGhC+xG,EAAa,GACbG,GAAY,EACZtH,EAAU,OACL,IAAW,MAAPniC,EAKT,OAAO,EAJPspC,EAAa,IACbG,GAAY,EACZtH,EAAU,CAAC,CAGb,CAQA,IANqB,OAAjB1kG,EAAM89B,SACR99B,EAAMmqG,UAAUnqG,EAAM89B,QAAU4mE,GAGlCniC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAEtB,IAAPyoE,GAAU,CAKf,GAJAinC,EAAoBxpG,GAAO,EAAM+pG,IAEjCxnC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,aAEvB+xG,EAMT,OALA7rG,EAAMlG,WACNkG,EAAMmE,IAAMqhG,EACZxlG,EAAM89B,OAASmsE,EACfjqG,EAAM61B,KAAOm2E,EAAY,UAAY,WACrChsG,EAAM7qC,OAASuvI,GACR,EACG1Q,GACVv4F,EAAWuE,EAAO,gDAGDqpG,EAAY,KAC/ByC,EAASC,GAAiB,EAEf,KAAPxpC,GAGE6kC,EAFQpnG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,SAAW,MAGlDgyG,EAASC,GAAiB,EAC1B/rG,EAAMlG,WACN0vG,EAAoBxpG,GAAO,EAAM+pG,IAIrCC,EAAQhqG,EAAM7I,KACdizG,EAAYpqG,EAAO+pG,EAAY1D,GAAiB,GAAO,GACvD8C,EAASnpG,EAAMmE,IACfilG,EAAUppG,EAAM7qC,OAChBq0I,EAAoBxpG,GAAO,EAAM+pG,GAEjCxnC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAE7BiyG,GAAkB/rG,EAAM7I,OAAS6yG,GAAiB,KAAPznC,IAC9CupC,GAAS,EACTvpC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UACpC0vG,EAAoBxpG,GAAO,EAAM+pG,GACjCK,EAAYpqG,EAAO+pG,EAAY1D,GAAiB,GAAO,GACvDgD,EAAYrpG,EAAM7qC,QAGhB62I,EACF9C,EAAiBlpG,EAAO0kG,EAASsE,EAAiBG,EAAQC,EAASC,GAC1DyC,EACTpH,EAAQptI,KAAK4xI,EAAiBlpG,EAAO,KAAMgpG,EAAiBG,EAAQC,EAASC,IAE7E3E,EAAQptI,KAAK8xI,GAGfI,EAAoBxpG,GAAO,EAAM+pG,GAItB,MAFXxnC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,YAGhCk6F,GAAW,EACXzxB,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,WAEpCk6F,GAAW,CAEf,CAEAv4F,EAAWuE,EAAO,wDACpB,CA6kBUisG,CAAmBjsG,EAAOorG,GAC5BI,GAAa,GAERR,GA9kBb,SAAyBhrG,EAAO+pG,GAC9B,IAAImC,EACAC,EAOA/wB,EACA7Y,EA7rBmBn+F,EAsrBnBgoI,EAAiB3F,EACjB4F,GAAiB,EACjBC,GAAiB,EACjBC,EAAiBxC,EACjByC,EAAiB,EACjBC,GAAiB,EAMrB,GAAW,OAFXlqC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAGhCqyG,GAAU,MACL,IAAW,KAAP5pC,EAGT,OAAO,EAFP4pC,GAAU,CAGZ,CAKA,IAHAnsG,EAAM61B,KAAO,SACb71B,EAAM7qC,OAAS,GAED,IAAPotG,GAGL,GAAW,MAFXA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,YAEH,KAAPyoE,EACpBkkC,IAAkB2F,EACpBA,EAAmB,KAAP7pC,EAAsBokC,EAAgBD,EAElDjrG,EAAWuE,EAAO,4CAGf,OAAKo7E,EArtBT,KADkBh3G,EAstBam+F,IArtBTn+F,GAAK,GACvBA,EAAI,IAGL,IAitBoC,GAWxC,MAVY,IAARg3G,EACF3/E,EAAWuE,EAAO,gFACRssG,EAIV7wG,EAAWuE,EAAO,8CAHlBusG,EAAaxC,EAAa3uB,EAAM,EAChCkxB,GAAiB,EAOrB,CAGF,GAAInF,EAAe5kC,GAAK,CACtB,GAAKA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,gBAClCqtG,EAAe5kC,IAEtB,GAAW,KAAPA,EACF,GAAKA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,iBACjCotG,EAAO3kC,IAAe,IAAPA,EAE3B,CAEA,KAAc,IAAPA,GAAU,CAMf,IALAgnC,EAAcvpG,GACdA,EAAM+nG,WAAa,EAEnBxlC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,YAEzBwyG,GAAkBtsG,EAAM+nG,WAAawE,IAC/B,KAAPhqC,GACNviE,EAAM+nG,aACNxlC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAOtC,IAJKwyG,GAAkBtsG,EAAM+nG,WAAawE,IACxCA,EAAavsG,EAAM+nG,YAGjBb,EAAO3kC,GACTiqC,QADF,CAMA,GAAIxsG,EAAM+nG,WAAawE,EAAY,CAG7BH,IAAazF,EACf3mG,EAAM7qC,QAAU5B,EAAOs3C,OAAO,KAAMwhG,EAAiB,EAAIG,EAAaA,GAC7DJ,IAAa3F,GAClB4F,IACFrsG,EAAM7qC,QAAU,MAKpB,KACF,CAsCA,IAnCIg3I,EAGEhF,EAAe5kC,IACjBkqC,GAAiB,EAEjBzsG,EAAM7qC,QAAU5B,EAAOs3C,OAAO,KAAMwhG,EAAiB,EAAIG,EAAaA,IAG7DC,GACTA,GAAiB,EACjBzsG,EAAM7qC,QAAU5B,EAAOs3C,OAAO,KAAM2hG,EAAa,IAGzB,IAAfA,EACLH,IACFrsG,EAAM7qC,QAAU,KAKlB6qC,EAAM7qC,QAAU5B,EAAOs3C,OAAO,KAAM2hG,GAMtCxsG,EAAM7qC,QAAU5B,EAAOs3C,OAAO,KAAMwhG,EAAiB,EAAIG,EAAaA,GAGxEH,GAAiB,EACjBC,GAAiB,EACjBE,EAAa,EACbN,EAAelsG,EAAMlG,UAEbotG,EAAO3kC,IAAe,IAAPA,GACrBA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAGtC4uG,EAAe1oG,EAAOksG,EAAclsG,EAAMlG,UAAU,EA1DpD,CA2DF,CAEA,OAAO,CACT,CAickC4yG,CAAgB1sG,EAAOorG,IAnzBzD,SAAgCprG,EAAO+pG,GACrC,IAAIxnC,EACA2pC,EAAcS,EAIlB,GAAW,MAFXpqC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAGhC,OAAO,EAQT,IALAkG,EAAM61B,KAAO,SACb71B,EAAM7qC,OAAS,GACf6qC,EAAMlG,WACNoyG,EAAeS,EAAa3sG,EAAMlG,SAEuB,KAAjDyoE,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,YACxC,GAAW,KAAPyoE,EAAoB,CAItB,GAHAmmC,EAAe1oG,EAAOksG,EAAclsG,EAAMlG,UAAU,GAGzC,MAFXyoE,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,WAOlC,OAAO,EAJPoyG,EAAelsG,EAAMlG,SACrBkG,EAAMlG,WACN6yG,EAAa3sG,EAAMlG,QAKvB,MAAWotG,EAAO3kC,IAChBmmC,EAAe1oG,EAAOksG,EAAcS,GAAY,GAChD9C,EAAiB7pG,EAAOwpG,EAAoBxpG,GAAO,EAAO+pG,IAC1DmC,EAAeS,EAAa3sG,EAAMlG,UAEzBkG,EAAMlG,WAAakG,EAAMuhE,WAAaqoC,EAAsB5pG,GACrEvE,EAAWuE,EAAO,iEAGlBA,EAAMlG,WACN6yG,EAAa3sG,EAAMlG,UAIvB2B,EAAWuE,EAAO,6DACpB,CAywBY4sG,CAAuB5sG,EAAOorG,IAvwB1C,SAAgCprG,EAAO+pG,GACrC,IAAImC,EACAS,EACAE,EACAC,EACA1xB,EACA7Y,EAxgBiBn+F,EA4gBrB,GAAW,MAFXm+F,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAGhC,OAAO,EAQT,IALAkG,EAAM61B,KAAO,SACb71B,EAAM7qC,OAAS,GACf6qC,EAAMlG,WACNoyG,EAAeS,EAAa3sG,EAAMlG,SAEuB,KAAjDyoE,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,YAAkB,CAC1D,GAAW,KAAPyoE,EAGF,OAFAmmC,EAAe1oG,EAAOksG,EAAclsG,EAAMlG,UAAU,GACpDkG,EAAMlG,YACC,EAEF,GAAW,KAAPyoE,EAAoB,CAI7B,GAHAmmC,EAAe1oG,EAAOksG,EAAclsG,EAAMlG,UAAU,GAGhDotG,EAFJ3kC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,WAGlC0vG,EAAoBxpG,GAAO,EAAO+pG,QAG7B,GAAIxnC,EAAK,KAAOmlC,EAAkBnlC,GACvCviE,EAAM7qC,QAAUwyI,EAAgBplC,GAChCviE,EAAMlG,gBAED,IAAKshF,EAtiBN,OADWh3G,EAuiBem+F,GAtiBJ,EACtB,MAANn+F,EAA4B,EACtB,KAANA,EAA4B,EACzB,GAmiBoC,EAAG,CAIxC,IAHAyoI,EAAYzxB,EACZ0xB,EAAY,EAELD,EAAY,EAAGA,KAGfzxB,EAAMksB,EAFX/kC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,aAEL,EAC7BgzG,GAAaA,GAAa,GAAK1xB,EAG/B3/E,EAAWuE,EAAO,kCAItBA,EAAM7qC,QAAUsyI,EAAkBqF,GAElC9sG,EAAMlG,UAER,MACE2B,EAAWuE,EAAO,2BAGpBksG,EAAeS,EAAa3sG,EAAMlG,QAEpC,MAAWotG,EAAO3kC,IAChBmmC,EAAe1oG,EAAOksG,EAAcS,GAAY,GAChD9C,EAAiB7pG,EAAOwpG,EAAoBxpG,GAAO,EAAO+pG,IAC1DmC,EAAeS,EAAa3sG,EAAMlG,UAEzBkG,EAAMlG,WAAakG,EAAMuhE,WAAaqoC,EAAsB5pG,GACrEvE,EAAWuE,EAAO,iEAGlBA,EAAMlG,WACN6yG,EAAa3sG,EAAMlG,SAEvB,CAEA2B,EAAWuE,EAAO,6DACpB,CA2rBY+sG,CAAuB/sG,EAAOorG,GAChCI,GAAa,EAhHvB,SAAmBxrG,GACjB,IAAI4oG,EAAWoE,EACXzqC,EAIJ,GAAW,MAFXA,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAEV,OAAO,EAK/B,IAHAyoE,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UACpC8uG,EAAY5oG,EAAMlG,SAEJ,IAAPyoE,IAAa6kC,EAAa7kC,KAAQ8kC,EAAkB9kC,IACzDA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAetC,OAZIkG,EAAMlG,WAAa8uG,GACrBntG,EAAWuE,EAAO,6DAGpBgtG,EAAQhtG,EAAM3kC,MAAMgH,MAAMumI,EAAW5oG,EAAMlG,UAEtC8lG,EAAgB/3H,KAAKm4B,EAAMmqG,UAAW6C,IACzCvxG,EAAWuE,EAAO,uBAAyBgtG,EAAQ,KAGrDhtG,EAAM7qC,OAAS6qC,EAAMmqG,UAAU6C,GAC/BxD,EAAoBxpG,GAAO,GAAO,IAC3B,CACT,CAsFmBitG,CAAUjtG,IACnBwrG,GAAa,EAEK,OAAdxrG,EAAMmE,KAAiC,OAAjBnE,EAAM89B,QAC9BriC,EAAWuE,EAAO,8CAz6B9B,SAAyBA,EAAO+pG,EAAYmD,GAC1C,IACIzB,EACAS,EACAS,EACAQ,EACAnD,EACAoD,EACAC,EAGA9qC,EAFA+qC,EAAQttG,EAAM61B,KACd6uE,EAAU1kG,EAAM7qC,OAKpB,GAAIiyI,EAFJ7kC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,YAG9ButG,EAAkB9kC,IACX,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,MAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,EACF,OAAO,EAGT,IAAW,KAAPA,GAA6B,KAAPA,KAGpB6kC,EAFJqE,EAAYzrG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,SAAW,KAGhDozG,GAAwB7F,EAAkBoE,IAC5C,OAAO,EASX,IALAzrG,EAAM61B,KAAO,SACb71B,EAAM7qC,OAAS,GACf+2I,EAAeS,EAAa3sG,EAAMlG,SAClCqzG,GAAoB,EAEN,IAAP5qC,GAAU,CACf,GAAW,KAAPA,GAGF,GAAI6kC,EAFJqE,EAAYzrG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,SAAW,KAGhDozG,GAAwB7F,EAAkBoE,GAC5C,WAGG,GAAW,KAAPlpC,GAGT,GAAI6kC,EAFQpnG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,SAAW,IAGlD,UAGG,IAAKkG,EAAMlG,WAAakG,EAAMuhE,WAAaqoC,EAAsB5pG,IAC7DktG,GAAwB7F,EAAkB9kC,GACnD,MAEK,GAAI2kC,EAAO3kC,GAAK,CAMrB,GALAynC,EAAQhqG,EAAM7I,KACdi2G,EAAaptG,EAAMuhE,UACnB8rC,EAAcrtG,EAAM+nG,WACpByB,EAAoBxpG,GAAO,GAAQ,GAE/BA,EAAM+nG,YAAcgC,EAAY,CAClCoD,GAAoB,EACpB5qC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,UAClC,QACF,CACEkG,EAAMlG,SAAW6yG,EACjB3sG,EAAM7I,KAAO6yG,EACbhqG,EAAMuhE,UAAY6rC,EAClBptG,EAAM+nG,WAAasF,EACnB,KAEJ,EAEIF,IACFzE,EAAe1oG,EAAOksG,EAAcS,GAAY,GAChD9C,EAAiB7pG,EAAOA,EAAM7I,KAAO6yG,GACrCkC,EAAeS,EAAa3sG,EAAMlG,SAClCqzG,GAAoB,GAGjBhG,EAAe5kC,KAClBoqC,EAAa3sG,EAAMlG,SAAW,GAGhCyoE,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,SACtC,CAIA,OAFA4uG,EAAe1oG,EAAOksG,EAAcS,GAAY,KAE5C3sG,EAAM7qC,SAIV6qC,EAAM61B,KAAOy3E,EACbttG,EAAM7qC,OAASuvI,GACR,EACT,CAi0BmB6I,CAAgBvtG,EAAOorG,EAAY/E,IAAoBuE,KAChEY,GAAa,EAEK,OAAdxrG,EAAMmE,MACRnE,EAAMmE,IAAM,MAIK,OAAjBnE,EAAM89B,SACR99B,EAAMmqG,UAAUnqG,EAAM89B,QAAU99B,EAAM7qC,SAGhB,IAAjBm2I,IAGTE,EAAaP,GAAyBnB,EAAkB9pG,EAAOqrG,KAIjD,OAAdrrG,EAAMmE,KAA8B,MAAdnE,EAAMmE,IAC9B,GAAkB,MAAdnE,EAAMmE,KAWR,IAJqB,OAAjBnE,EAAM7qC,QAAkC,WAAf6qC,EAAM61B,MACjCp6B,EAAWuE,EAAO,oEAAsEA,EAAM61B,KAAO,KAGlGq1E,EAAY,EAAGC,EAAenrG,EAAMyhG,cAAc1lI,OAAQmvI,EAAYC,EAAcD,GAAa,EAGpG,IAFAvuI,EAAOqjC,EAAMyhG,cAAcyJ,IAElB39G,QAAQyS,EAAM7qC,QAAS,CAC9B6qC,EAAM7qC,OAASwH,EAAK6wI,UAAUxtG,EAAM7qC,QACpC6qC,EAAMmE,IAAMxnC,EAAKwnC,IACI,OAAjBnE,EAAM89B,SACR99B,EAAMmqG,UAAUnqG,EAAM89B,QAAU99B,EAAM7qC,QAExC,KACF,OAEOyqI,EAAgB/3H,KAAKm4B,EAAM8nG,QAAQ9nG,EAAM61B,MAAQ,YAAa71B,EAAMmE,MAC7ExnC,EAAOqjC,EAAM8nG,QAAQ9nG,EAAM61B,MAAQ,YAAY71B,EAAMmE,KAEhC,OAAjBnE,EAAM7qC,QAAmBwH,EAAKk5D,OAAS71B,EAAM61B,MAC/Cp6B,EAAWuE,EAAO,gCAAkCA,EAAMmE,IAAM,wBAA0BxnC,EAAKk5D,KAAO,WAAa71B,EAAM61B,KAAO,KAG7Hl5D,EAAK4wB,QAAQyS,EAAM7qC,SAGtB6qC,EAAM7qC,OAASwH,EAAK6wI,UAAUxtG,EAAM7qC,QACf,OAAjB6qC,EAAM89B,SACR99B,EAAMmqG,UAAUnqG,EAAM89B,QAAU99B,EAAM7qC,SAJxCsmC,EAAWuE,EAAO,gCAAkCA,EAAMmE,IAAM,mBAQlE1I,EAAWuE,EAAO,iBAAmBA,EAAMmE,IAAM,KAOrD,OAHuB,OAAnBnE,EAAM3wB,UACR2wB,EAAM3wB,SAAS,QAAS2wB,GAEL,OAAdA,EAAMmE,KAAkC,OAAjBnE,EAAM89B,QAAmB0tE,CACzD,CAEA,SAASiC,EAAaztG,GACpB,IACI4oG,EACA8E,EACAC,EAEAprC,EALAqrC,EAAgB5tG,EAAMlG,SAItB+zG,GAAgB,EAQpB,IALA7tG,EAAM1hB,QAAU,KAChB0hB,EAAMuoG,gBAAkBvoG,EAAM6nG,OAC9B7nG,EAAMyoG,OAAS,CAAC,EAChBzoG,EAAMmqG,UAAY,CAAC,EAEsC,KAAjD5nC,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,aACxC0vG,EAAoBxpG,GAAO,GAAO,GAElCuiE,EAAKviE,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,YAE9BkG,EAAM+nG,WAAa,GAAY,KAAPxlC,KAL8B,CAa1D,IAJAsrC,GAAgB,EAChBtrC,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UACpC8uG,EAAY5oG,EAAMlG,SAEJ,IAAPyoE,IAAa6kC,EAAa7kC,IAC/BA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAUtC,IANA6zG,EAAgB,IADhBD,EAAgB1tG,EAAM3kC,MAAMgH,MAAMumI,EAAW5oG,EAAMlG,WAGjC/9B,OAAS,GACzB0/B,EAAWuE,EAAO,gEAGN,IAAPuiE,GAAU,CACf,KAAO4kC,EAAe5kC,IACpBA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAGtC,GAAW,KAAPyoE,EAAoB,CACtB,GAAKA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,gBAC3B,IAAPyoE,IAAa2kC,EAAO3kC,IAC3B,KACF,CAEA,GAAI2kC,EAAO3kC,GAAK,MAIhB,IAFAqmC,EAAY5oG,EAAMlG,SAEJ,IAAPyoE,IAAa6kC,EAAa7kC,IAC/BA,EAAKviE,EAAM3kC,MAAM+N,aAAa42B,EAAMlG,UAGtC6zG,EAAcr2I,KAAK0oC,EAAM3kC,MAAMgH,MAAMumI,EAAW5oG,EAAMlG,UACxD,CAEW,IAAPyoE,GAAUgnC,EAAcvpG,GAExB4/F,EAAgB/3H,KAAKsgI,EAAmBuF,GAC1CvF,EAAkBuF,GAAe1tG,EAAO0tG,EAAeC,GAEvDzF,EAAaloG,EAAO,+BAAiC0tG,EAAgB,IAEzE,CAEAlE,EAAoBxpG,GAAO,GAAO,GAET,IAArBA,EAAM+nG,YACyC,KAA/C/nG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WACkB,KAA/CkG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,SAAW,IACO,KAA/CkG,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,SAAW,IAC1CkG,EAAMlG,UAAY,EAClB0vG,EAAoBxpG,GAAO,GAAO,IAEzB6tG,GACTpyG,EAAWuE,EAAO,mCAGpBoqG,EAAYpqG,EAAOA,EAAM+nG,WAAa,EAAGvB,GAAmB,GAAO,GACnEgD,EAAoBxpG,GAAO,GAAO,GAE9BA,EAAMuoG,iBACN1B,EAA8B79H,KAAKg3B,EAAM3kC,MAAMgH,MAAMurI,EAAe5tG,EAAMlG,YAC5EouG,EAAaloG,EAAO,oDAGtBA,EAAMgoG,UAAU1wI,KAAK0oC,EAAM7qC,QAEvB6qC,EAAMlG,WAAakG,EAAMuhE,WAAaqoC,EAAsB5pG,GAEf,KAA3CA,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,YAC/BkG,EAAMlG,UAAY,EAClB0vG,EAAoBxpG,GAAO,GAAO,IAKlCA,EAAMlG,SAAYkG,EAAMjkC,OAAS,GACnC0/B,EAAWuE,EAAO,wDAItB,CAGA,SAAS8tG,EAAczyI,EAAOC,GAE5BA,EAAUA,GAAW,CAAC,EAED,KAHrBD,EAAQq5B,OAAOr5B,IAGLU,SAGmC,KAAvCV,EAAM+N,WAAW/N,EAAMU,OAAS,IACO,KAAvCV,EAAM+N,WAAW/N,EAAMU,OAAS,KAClCV,GAAS,MAIiB,QAAxBA,EAAM+N,WAAW,KACnB/N,EAAQA,EAAMgH,MAAM,KAIxB,IAAI29B,EAAQ,IAAI2gG,EAAMtlI,EAAOC,GAEzByyI,EAAU1yI,EAAMqH,QAAQ,MAU5B,KARiB,IAAbqrI,IACF/tG,EAAMlG,SAAWi0G,EACjBtyG,EAAWuE,EAAO,sCAIpBA,EAAM3kC,OAAS,KAEmC,KAA3C2kC,EAAM3kC,MAAM+N,WAAW42B,EAAMlG,WAClCkG,EAAM+nG,YAAc,EACpB/nG,EAAMlG,UAAY,EAGpB,KAAOkG,EAAMlG,SAAYkG,EAAMjkC,OAAS,GACtC0xI,EAAaztG,GAGf,OAAOA,EAAMgoG,SACf,CAGA,SAASpJ,EAAQvjI,EAAOg2E,EAAU/1E,GACf,OAAb+1E,GAAyC,iBAAbA,QAA4C,IAAZ/1E,IAC9DA,EAAU+1E,EACVA,EAAW,MAGb,IAAI22D,EAAY8F,EAAczyI,EAAOC,GAErC,GAAwB,mBAAb+1E,EACT,OAAO22D,EAGT,IAAK,IAAIpmI,EAAQ,EAAG7F,EAASisI,EAAUjsI,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EACtEyvE,EAAS22D,EAAUpmI,GAEvB,CAGA,SAASkD,EAAKzJ,EAAOC,GACnB,IAAI0sI,EAAY8F,EAAczyI,EAAOC,GAErC,GAAyB,IAArB0sI,EAAUjsI,OAAd,CAGO,GAAyB,IAArBisI,EAAUjsI,OACnB,OAAOisI,EAAU,GAEnB,MAAM,IAAIjJ,EAAc,2DADxB,CAEF,CAkBAlkI,EAAOrK,QAAQouI,QAAcA,EAC7B/jI,EAAOrK,QAAQsU,KAAcA,EAC7BjK,EAAOrK,QAAQquI,YAjBf,SAAqBxjI,EAAOg2E,EAAU/1E,GAMpC,MALwB,iBAAb+1E,GAAsC,OAAbA,QAAwC,IAAZ/1E,IAC9DA,EAAU+1E,EACVA,EAAW,MAGNutD,EAAQvjI,EAAOg2E,EAAU99E,EAAOyU,OAAO,CAAE+/C,OAAQ22E,GAAuBpjI,GACjF,EAWAT,EAAOrK,QAAQm8H,SARf,SAAkBtxH,EAAOC,GACvB,OAAOwJ,EAAKzJ,EAAO9H,EAAOyU,OAAO,CAAE+/C,OAAQ22E,GAAuBpjI,GACpE,+BClmDA,IAAI/H,EAAS,EAAQ,MAGrB,SAAS6yI,EAAKpyI,EAAM4P,EAAQk2B,EAAU3C,EAAMqqE,GAC1C7rG,KAAK3B,KAAWA,EAChB2B,KAAKiO,OAAWA,EAChBjO,KAAKmkC,SAAWA,EAChBnkC,KAAKwhC,KAAWA,EAChBxhC,KAAK6rG,OAAWA,CAClB,CAGA4kC,EAAKz3H,UAAUq/H,WAAa,SAAoBpN,EAAQt/H,GACtD,IAAIwc,EAAMhN,EAAOw9B,EAAMv9B,EAAKmvC,EAE5B,IAAKvqD,KAAKiO,OAAQ,OAAO,KAQzB,IANAg9H,EAASA,GAAU,EACnBt/H,EAAYA,GAAa,GAEzBwc,EAAO,GACPhN,EAAQnb,KAAKmkC,SAENhpB,EAAQ,IAA4E,IAAvE,sBAA2BpO,QAAQ/M,KAAKiO,OAAO8sB,OAAO5f,EAAQ,KAEhF,GADAA,GAAS,EACLnb,KAAKmkC,SAAWhpB,EAASxP,EAAY,EAAI,EAAI,CAC/Cwc,EAAO,QACPhN,GAAS,EACT,KACF,CAMF,IAHAw9B,EAAO,GACPv9B,EAAMpb,KAAKmkC,SAEJ/oB,EAAMpb,KAAKiO,OAAO7H,SAA2E,IAAjE,sBAA2B2G,QAAQ/M,KAAKiO,OAAO8sB,OAAO3f,KAEvF,IADAA,GAAO,GACGpb,KAAKmkC,SAAYx4B,EAAY,EAAI,EAAI,CAC7CgtC,EAAO,QACPv9B,GAAO,EACP,KACF,CAKF,OAFAmvC,EAAUvqD,KAAKiO,OAAOvB,MAAMyO,EAAOC,GAE5Bxd,EAAOs3C,OAAO,IAAK+1F,GAAU9iH,EAAOoiC,EAAU5R,EAAO,KACrD/6C,EAAOs3C,OAAO,IAAK+1F,EAASjrI,KAAKmkC,SAAWhpB,EAAQgN,EAAK/hB,QAAU,GAC5E,EAGAqqI,EAAKz3H,UAAUjG,SAAW,SAAkBs8H,GAC1C,IAAI9kF,EAAS+tF,EAAQ,GAgBrB,OAdIt4I,KAAK3B,OACPi6I,GAAS,OAASt4I,KAAK3B,KAAO,MAGhCi6I,GAAS,YAAct4I,KAAKwhC,KAAO,GAAK,aAAexhC,KAAK6rG,OAAS,GAEhEwjC,IACH9kF,EAAUvqD,KAAKq4I,gBAGbC,GAAS,MAAQ/tF,GAId+tF,CACT,EAGApzI,EAAOrK,QAAU41I,+BCvEjB,IAAI7yI,EAAgB,EAAQ,MACxBwrI,EAAgB,EAAQ,MACxBV,EAAgB,EAAQ,MAG5B,SAAS6P,EAAYnmF,EAAQ/zD,EAAMmB,GACjC,IAAIg5I,EAAU,GAgBd,OAdApmF,EAAOqmF,QAAQ3rI,SAAQ,SAAU4rI,GAC/Bl5I,EAAS+4I,EAAYG,EAAgBr6I,EAAMmB,EAC7C,IAEA4yD,EAAO/zD,GAAMyO,SAAQ,SAAU6rI,GAC7Bn5I,EAAOsN,SAAQ,SAAU8rI,EAAcC,GACjCD,EAAapqG,MAAQmqG,EAAYnqG,KAAOoqG,EAAa14E,OAASy4E,EAAYz4E,MAC5Es4E,EAAQ72I,KAAKk3I,EAEjB,IAEAr5I,EAAOmC,KAAKg3I,EACd,IAEOn5I,EAAO8E,QAAO,SAAU0C,EAAMiF,GACnC,OAAmC,IAA5BusI,EAAQzrI,QAAQd,EACzB,GACF,CAsBA,SAAS08H,EAAOtxE,GACdr3D,KAAKy4I,QAAWphF,EAAWohF,SAAY,GACvCz4I,KAAK84I,SAAWzhF,EAAWyhF,UAAY,GACvC94I,KAAK8uI,SAAWz3E,EAAWy3E,UAAY,GAEvC9uI,KAAK84I,SAAShsI,SAAQ,SAAU9F,GAC9B,GAAIA,EAAK+xI,UAA8B,WAAlB/xI,EAAK+xI,SACxB,MAAM,IAAI3P,EAAc,kHAE5B,IAEAppI,KAAK+rI,iBAAmBwM,EAAYv4I,KAAM,WAAY,IACtDA,KAAKisI,iBAAmBsM,EAAYv4I,KAAM,WAAY,IACtDA,KAAKsrI,gBAhCP,WACE,IAKOr/H,EAAO7F,EALV5G,EAAS,CACPw5I,OAAQ,CAAC,EACTrP,SAAU,CAAC,EACXsP,QAAS,CAAC,EACVC,SAAU,CAAC,GAGjB,SAASC,EAAYnyI,GACnBxH,EAAOwH,EAAKk5D,MAAMl5D,EAAKwnC,KAAOhvC,EAAiB,SAAEwH,EAAKwnC,KAAOxnC,CAC/D,CAEA,IAAKiF,EAAQ,EAAG7F,EAAS1B,UAAU0B,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAClEvH,UAAUuH,GAAOa,QAAQqsI,GAE3B,OAAO35I,CACT,CAgB0B45I,CAAWp5I,KAAK+rI,iBAAkB/rI,KAAKisI,iBACjE,CAGAtD,EAAO0Q,QAAU,KAGjB1Q,EAAO3iI,OAAS,WACd,IAAIszI,EAASC,EAEb,OAAQ70I,UAAU0B,QAChB,KAAK,EACHkzI,EAAU3Q,EAAO0Q,QACjBE,EAAQ70I,UAAU,GAClB,MAEF,KAAK,EACH40I,EAAU50I,UAAU,GACpB60I,EAAQ70I,UAAU,GAClB,MAEF,QACE,MAAM,IAAI0kI,EAAc,wDAM5B,GAHAkQ,EAAU17I,EAAOimI,QAAQyV,GACzBC,EAAQ37I,EAAOimI,QAAQ0V,IAElBD,EAAQxoH,OAAM,SAAUshC,GAAU,OAAOA,aAAkBu2E,CAAQ,IACtE,MAAM,IAAIS,EAAc,6FAG1B,IAAKmQ,EAAMzoH,OAAM,SAAU9pB,GAAQ,OAAOA,aAAgB0hI,CAAM,IAC9D,MAAM,IAAIU,EAAc,sFAG1B,OAAO,IAAIT,EAAO,CAChB8P,QAASa,EACTxK,SAAUyK,GAEd,EAGAr0I,EAAOrK,QAAU8tI,+BCjGjB,IAAIA,EAAS,EAAQ,MAGrBzjI,EAAOrK,QAAU,IAAI8tI,EAAO,CAC1B8P,QAAS,CACP,EAAQ,sCCHZ,IAAI9P,EAAS,EAAQ,MAGrBzjI,EAAOrK,QAAU8tI,EAAO0Q,QAAU,IAAI1Q,EAAO,CAC3C8P,QAAS,CACP,EAAQ,OAEV3J,SAAU,CACR,EAAQ,MACR,EAAQ,KACR,EAAQ,sCCZZ,IAAInG,EAAS,EAAQ,MAGrBzjI,EAAOrK,QAAU,IAAI8tI,EAAO,CAC1B8P,QAAS,CACP,EAAQ,OAEVK,SAAU,CACR,EAAQ,MACR,EAAQ,OAEVhK,SAAU,CACR,EAAQ,MACR,EAAQ,MACR,EAAQ,MACR,EAAQ,sCClBZ,IAAInG,EAAS,EAAQ,MAGrBzjI,EAAOrK,QAAU,IAAI8tI,EAAO,CAC1BmG,SAAU,CACR,EAAQ,MACR,EAAQ,MACR,EAAQ,sCCHZ,IAAInG,EAAS,EAAQ,MAGrBzjI,EAAOrK,QAAU,IAAI8tI,EAAO,CAC1B8P,QAAS,CACP,EAAQ,OAEVK,SAAU,CACR,EAAQ,MACR,EAAQ,MACR,EAAQ,MACR,EAAQ,sCCpBZ,IAAI1P,EAAgB,EAAQ,MAExBoQ,EAA2B,CAC7B,OACA,UACA,YACA,aACA,YACA,YACA,eACA,gBAGEC,EAAkB,CACpB,SACA,WACA,WA0CFv0I,EAAOrK,QAzBP,SAAc2zC,EAAK7oC,GAdnB,IAA6BxH,EACvBqB,EAiCJ,GAnBAmG,EAAUA,GAAW,CAAC,EAEtBhL,OAAO2Y,KAAK3N,GAASmH,SAAQ,SAAUzO,GACrC,IAAgD,IAA5Cm7I,EAAyBzsI,QAAQ1O,GACnC,MAAM,IAAI+qI,EAAc,mBAAqB/qI,EAAO,8BAAgCmwC,EAAM,eAE9F,IAGAxuC,KAAKwuC,IAAeA,EACpBxuC,KAAKkgE,KAAev6D,EAAc,MAAa,KAC/C3F,KAAK43B,QAAejyB,EAAiB,SAAU,WAAc,OAAO,CAAM,EAC1E3F,KAAK63I,UAAelyI,EAAmB,WAAQ,SAAU2R,GAAQ,OAAOA,CAAM,EAC9EtX,KAAKivI,WAAetpI,EAAoB,YAAO,KAC/C3F,KAAK46B,UAAej1B,EAAmB,WAAQ,KAC/C3F,KAAKkvI,UAAevpI,EAAmB,WAAQ,KAC/C3F,KAAKmvI,aAAexpI,EAAsB,cAAK,KAC/C3F,KAAKurI,cAhCsBptI,EAgCawH,EAAsB,cAAK,KA/B/DnG,EAAS,CAAC,EAEF,OAARrB,GACFxD,OAAO2Y,KAAKnV,GAAK2O,SAAQ,SAAUiD,GACjC5R,EAAI4R,GAAOjD,SAAQ,SAAUuqI,GAC3B73I,EAAOu/B,OAAOs4G,IAAUtnI,CAC1B,GACF,IAGKvQ,IAuBqC,IAAxCi6I,EAAgB1sI,QAAQ/M,KAAKkgE,MAC/B,MAAM,IAAIkpE,EAAc,iBAAmBppI,KAAKkgE,KAAO,uBAAyB1xB,EAAM,eAE1F,+BCtDA,IAAIkrG,EAEJ,IAGEA,EAAa,cACf,CAAE,MAAOvvC,GAAK,CAEd,IAAIu+B,EAAa,EAAQ,MAIrBiR,EAAa,wEAmHjBz0I,EAAOrK,QAAU,IAAI6tI,EAAK,2BAA4B,CACpDxoE,KAAM,SACNtoC,QAlHF,SAA2BtgB,GACzB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAI4B,EAAMk8B,EAAKwkG,EAAS,EAAGluI,EAAM4L,EAAKlR,OAAQjI,EAAMw7I,EAGpD,IAAKvkG,EAAM,EAAGA,EAAM1pC,EAAK0pC,IAIvB,MAHAl8B,EAAO/a,EAAI4O,QAAQuK,EAAKyjB,OAAOqa,KAGpB,IAAX,CAGA,GAAIl8B,EAAO,EAAG,OAAO,EAErB0gI,GAAU,CALa,CASzB,OAAQA,EAAS,GAAO,CAC1B,EA+FE/B,UA7FF,SAA6BvgI,GAC3B,IAAI89B,EAAKykG,EACLn0I,EAAQ4R,EAAK1I,QAAQ,WAAY,IACjClD,EAAMhG,EAAMU,OACZjI,EAAMw7I,EACNG,EAAO,EACPt6I,EAAS,GAIb,IAAK41C,EAAM,EAAGA,EAAM1pC,EAAK0pC,IAClBA,EAAM,GAAM,GAAMA,IACrB51C,EAAOmC,KAAMm4I,GAAQ,GAAM,KAC3Bt6I,EAAOmC,KAAMm4I,GAAQ,EAAK,KAC1Bt6I,EAAOmC,KAAY,IAAPm4I,IAGdA,EAAQA,GAAQ,EAAK37I,EAAI4O,QAAQrH,EAAMq1B,OAAOqa,IAmBhD,OAZiB,IAFjBykG,EAAYnuI,EAAM,EAAK,IAGrBlM,EAAOmC,KAAMm4I,GAAQ,GAAM,KAC3Bt6I,EAAOmC,KAAMm4I,GAAQ,EAAK,KAC1Bt6I,EAAOmC,KAAY,IAAPm4I,IACU,KAAbD,GACTr6I,EAAOmC,KAAMm4I,GAAQ,GAAM,KAC3Bt6I,EAAOmC,KAAMm4I,GAAQ,EAAK,MACJ,KAAbD,GACTr6I,EAAOmC,KAAMm4I,GAAQ,EAAK,KAIxBJ,EAEKA,EAAWhiI,KAAOgiI,EAAWhiI,KAAKlY,GAAU,IAAIk6I,EAAWl6I,GAG7DA,CACT,EAoDEo7B,UARF,SAAkBuwE,GAChB,OAAOuuC,GAAcA,EAAWliI,SAAS2zF,EAC3C,EAOE+jC,UAnDF,SAA6B/jC,GAC3B,IAA2B/1D,EAAKuD,EAA5Bn5C,EAAS,GAAIs6I,EAAO,EACpBpuI,EAAMy/F,EAAO/kG,OACbjI,EAAMw7I,EAIV,IAAKvkG,EAAM,EAAGA,EAAM1pC,EAAK0pC,IAClBA,EAAM,GAAM,GAAMA,IACrB51C,GAAUrB,EAAK27I,GAAQ,GAAM,IAC7Bt6I,GAAUrB,EAAK27I,GAAQ,GAAM,IAC7Bt6I,GAAUrB,EAAK27I,GAAQ,EAAK,IAC5Bt6I,GAAUrB,EAAW,GAAP27I,IAGhBA,GAAQA,GAAQ,GAAK3uC,EAAO/1D,GAwB9B,OAjBa,IAFbuD,EAAOjtC,EAAM,IAGXlM,GAAUrB,EAAK27I,GAAQ,GAAM,IAC7Bt6I,GAAUrB,EAAK27I,GAAQ,GAAM,IAC7Bt6I,GAAUrB,EAAK27I,GAAQ,EAAK,IAC5Bt6I,GAAUrB,EAAW,GAAP27I,IACI,IAATnhG,GACTn5C,GAAUrB,EAAK27I,GAAQ,GAAM,IAC7Bt6I,GAAUrB,EAAK27I,GAAQ,EAAK,IAC5Bt6I,GAAUrB,EAAK27I,GAAQ,EAAK,IAC5Bt6I,GAAUrB,EAAI,KACI,IAATw6C,IACTn5C,GAAUrB,EAAK27I,GAAQ,EAAK,IAC5Bt6I,GAAUrB,EAAK27I,GAAQ,EAAK,IAC5Bt6I,GAAUrB,EAAI,IACdqB,GAAUrB,EAAI,KAGTqB,CACT,iCC3HA,IAAIkpI,EAAO,EAAQ,MAqBnBxjI,EAAOrK,QAAU,IAAI6tI,EAAK,yBAA0B,CAClDxoE,KAAM,SACNtoC,QArBF,SAA4BtgB,GAC1B,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAI5L,EAAM4L,EAAKlR,OAEf,OAAgB,IAARsF,IAAuB,SAAT4L,GAA4B,SAATA,GAA4B,SAATA,IAC5C,IAAR5L,IAAuB,UAAT4L,GAA6B,UAATA,GAA6B,UAATA,EAChE,EAeEugI,UAbF,SAA8BvgI,GAC5B,MAAgB,SAATA,GACS,SAATA,GACS,SAATA,CACT,EAUEsjB,UARF,SAAmBuwE,GACjB,MAAkD,qBAA3CxwG,OAAOqe,UAAUjG,SAASb,KAAKi5F,EACxC,EAOE+jC,UAAW,CACT6K,UAAW,SAAU5uC,GAAU,OAAOA,EAAS,OAAS,OAAS,EACjE6uC,UAAW,SAAU7uC,GAAU,OAAOA,EAAS,OAAS,OAAS,EACjE8uC,UAAW,SAAU9uC,GAAU,OAAOA,EAAS,OAAS,OAAS,GAEnEgkC,aAAc,2CC/BhB,IAAIvxI,EAAS,EAAQ,MACjB8qI,EAAS,EAAQ,MAEjBwR,EAAqB,IAAI7pI,OAE3B,2LA6DE8pI,EAAyB,gBAwC7Bj1I,EAAOrK,QAAU,IAAI6tI,EAAK,0BAA2B,CACnDxoE,KAAM,SACNtoC,QA5FF,SAA0BtgB,GACxB,OAAa,OAATA,MAEC4iI,EAAmB7mI,KAAKiE,IAGC,MAA1BA,EAAKA,EAAKlR,OAAS,GAKzB,EAkFEyxI,UAhFF,SAA4BvgI,GAC1B,IAAIxc,EAAO6+C,EAAMn2C,EAAM63C,EAUvB,OAPA1B,EAAsB,OADtB7+C,EAASwc,EAAK1I,QAAQ,KAAM,IAAIgB,eACjB,IAAc,EAAI,EACjCyrC,EAAS,GAEL,KAAKtuC,QAAQjS,EAAM,KAAO,IAC5BA,EAAQA,EAAM4R,MAAM,IAGR,SAAV5R,EACe,IAAT6+C,EAAcx9C,OAAO8I,kBAAoB9I,OAAO2tI,kBAErC,SAAVhvI,EACFs/I,IAEEt/I,EAAMiS,QAAQ,MAAQ,GAC/BjS,EAAMkB,MAAM,KAAK8Q,SAAQ,SAAUkE,GACjCqqC,EAAOvpC,QAAQ85B,WAAW56B,EAAG,IAC/B,IAEAlW,EAAQ,EACR0I,EAAO,EAEP63C,EAAOvuC,SAAQ,SAAUy+B,GACvBzwC,GAASywC,EAAI/nC,EACbA,GAAQ,EACV,IAEOm2C,EAAO7+C,GAGT6+C,EAAO/N,WAAW9wC,EAAO,GAClC,EA+CE8/B,UATF,SAAiBuwE,GACf,MAAmD,oBAA3CxwG,OAAOqe,UAAUjG,SAASb,KAAKi5F,KAC/BA,EAAS,GAAM,GAAKvtG,EAAOisI,eAAe1+B,GACpD,EAOE+jC,UA3CF,SAA4B/jC,EAAQp7F,GAClC,IAAI2X,EAEJ,GAAI6wD,MAAM4yB,GACR,OAAQp7F,GACN,IAAK,YAAa,MAAO,OACzB,IAAK,YAAa,MAAO,OACzB,IAAK,YAAa,MAAO,YAEtB,GAAI5T,OAAO8I,oBAAsBkmG,EACtC,OAAQp7F,GACN,IAAK,YAAa,MAAO,OACzB,IAAK,YAAa,MAAO,OACzB,IAAK,YAAa,MAAO,YAEtB,GAAI5T,OAAO2tI,oBAAsB3+B,EACtC,OAAQp7F,GACN,IAAK,YAAa,MAAO,QACzB,IAAK,YAAa,MAAO,QACzB,IAAK,YAAa,MAAO,aAEtB,GAAInS,EAAOisI,eAAe1+B,GAC/B,MAAO,OAQT,OALAzjF,EAAMyjF,EAAOp4F,SAAS,IAKfonI,EAAuB9mI,KAAKqU,GAAOA,EAAI9Y,QAAQ,IAAK,MAAQ8Y,CACrE,EAaEynH,aAAc,2CChHhB,IAAIvxI,EAAS,EAAQ,MACjB8qI,EAAS,EAAQ,MAQrB,SAAS2R,EAAU5rI,GACjB,OAAS,IAAeA,GAAOA,GAAK,EACtC,CAEA,SAAS6rI,EAAU7rI,GACjB,OAAS,IAAeA,GAAOA,GAAK,EACtC,CAwIAvJ,EAAOrK,QAAU,IAAI6tI,EAAK,wBAAyB,CACjDxoE,KAAM,SACNtoC,QAxIF,SAA4BtgB,GAC1B,GAAa,OAATA,EAAe,OAAO,EAE1B,IAGIs1F,EApBan+F,EAiBb/C,EAAM4L,EAAKlR,OACX6F,EAAQ,EACRsuI,GAAY,EAGhB,IAAK7uI,EAAK,OAAO,EASjB,GAJW,OAHXkhG,EAAKt1F,EAAKrL,KAGe,MAAP2gG,IAChBA,EAAKt1F,IAAOrL,IAGH,MAAP2gG,EAAY,CAEd,GAAI3gG,EAAQ,IAAMP,EAAK,OAAO,EAK9B,GAAW,OAJXkhG,EAAKt1F,IAAOrL,IAII,CAId,IAFAA,IAEOA,EAAQP,EAAKO,IAElB,GAAW,OADX2gG,EAAKt1F,EAAKrL,IACV,CACA,GAAW,MAAP2gG,GAAqB,MAAPA,EAAY,OAAO,EACrC2tC,GAAY,CAFY,CAI1B,OAAOA,GAAoB,MAAP3tC,CACtB,CAGA,GAAW,MAAPA,EAAY,CAId,IAFA3gG,IAEOA,EAAQP,EAAKO,IAElB,GAAW,OADX2gG,EAAKt1F,EAAKrL,IACV,CACA,KA1DG,KADQwC,EA2DI6I,EAAK7D,WAAWxH,KA1DNwC,GAAK,IAC3B,IAAeA,GAAOA,GAAK,IAC3B,IAAeA,GAAOA,GAAK,KAwDU,OAAO,EAC/C8rI,GAAY,CAFY,CAI1B,OAAOA,GAAoB,MAAP3tC,CACtB,CAGA,KAAO3gG,EAAQP,EAAKO,IAElB,GAAW,OADX2gG,EAAKt1F,EAAKrL,IACV,CACA,IAAKouI,EAAU/iI,EAAK7D,WAAWxH,IAAS,OAAO,EAC/CsuI,GAAY,CAFY,CAI1B,OAAOA,GAAoB,MAAP3tC,CACtB,CAKA,GAAW,MAAPA,EAAY,OAAO,EAEvB,KAAO3gG,EAAQP,EAAKO,IAElB,GAAW,OADX2gG,EAAKt1F,EAAKrL,IACV,CACA,GAAW,MAAP2gG,EAAY,MAChB,IAAK0tC,EAAUhjI,EAAK7D,WAAWxH,IAC7B,OAAO,EAETsuI,GAAY,CALY,CAS1B,SAAKA,GAAoB,MAAP3tC,KAGP,MAAPA,GAGG,oBAAoBv5F,KAAKiE,EAAK5K,MAAMT,IAC7C,EAqDE4rI,UAnDF,SAA8BvgI,GAC5B,IAA4Bs1F,EAAIppG,EAA5B1I,EAAQwc,EAAMqiC,EAAO,EAAa0B,EAAS,GAc/C,OAZ4B,IAAxBvgD,EAAMiS,QAAQ,OAChBjS,EAAQA,EAAM8T,QAAQ,KAAM,KAKnB,OAFXg+F,EAAK9xG,EAAM,KAEc,MAAP8xG,IACL,MAAPA,IAAYjzD,GAAQ,GAExBizD,GADA9xG,EAAQA,EAAM4R,MAAM,IACT,IAGC,MAAV5R,EAAsB,EAEf,MAAP8xG,EACe,MAAb9xG,EAAM,GAAmB6+C,EAAOv9C,SAAStB,EAAM4R,MAAM,GAAI,GAC5C,MAAb5R,EAAM,GAAmB6+C,EAAOv9C,SAAStB,EAAO,IAC7C6+C,EAAOv9C,SAAStB,EAAO,IAGJ,IAAxBA,EAAMiS,QAAQ,MAChBjS,EAAMkB,MAAM,KAAK8Q,SAAQ,SAAUkE,GACjCqqC,EAAOvpC,QAAQ1V,SAAS4U,EAAG,IAC7B,IAEAlW,EAAQ,EACR0I,EAAO,EAEP63C,EAAOvuC,SAAQ,SAAUy+B,GACvBzwC,GAAUywC,EAAI/nC,EACdA,GAAQ,EACV,IAEOm2C,EAAO7+C,GAIT6+C,EAAOv9C,SAAStB,EAAO,GAChC,EAWE8/B,UATF,SAAmBuwE,GACjB,MAAoD,oBAA5CxwG,OAAOqe,UAAUjG,SAASb,KAAKi5F,IAC/BA,EAAS,GAAM,IAAMvtG,EAAOisI,eAAe1+B,EACrD,EAOE+jC,UAAW,CACTnrH,OAAa,SAAUtP,GAAO,OAAOA,GAAO,EAAI,KAAOA,EAAI1B,SAAS,GAAK,MAAQ0B,EAAI1B,SAAS,GAAGrG,MAAM,EAAI,EAC3G8qG,MAAa,SAAU/iG,GAAO,OAAOA,GAAO,EAAI,IAAOA,EAAI1B,SAAS,GAAK,KAAQ0B,EAAI1B,SAAS,GAAGrG,MAAM,EAAI,EAC3G8tI,QAAa,SAAU/lI,GAAO,OAAOA,EAAI1B,SAAS,GAAK,EAEvD0nI,YAAa,SAAUhmI,GAAO,OAAOA,GAAO,EAAI,KAAOA,EAAI1B,SAAS,IAAI8B,cAAiB,MAAQJ,EAAI1B,SAAS,IAAI8B,cAAcnI,MAAM,EAAI,GAE5IyiI,aAAc,UACd5D,aAAc,CACZxnH,OAAa,CAAE,EAAI,OACnByzF,MAAa,CAAE,EAAI,OACnBgjC,QAAa,CAAE,GAAI,OACnBC,YAAa,CAAE,GAAI,uCCxKvB,IAAIC,EASJ,IAGEA,EAAU,EAAS,KACrB,CAAE,MAAO/lI,GAGe,oBAAXnF,SAAwBkrI,EAAUlrI,OAAOkrI,QACtD,CAEA,IAAIhS,EAAO,EAAQ,MAiEnBxjI,EAAOrK,QAAU,IAAI6tI,EAAK,gCAAiC,CACzDxoE,KAAM,SACNtoC,QAjEF,SAAmCtgB,GACjC,GAAa,OAATA,EAAe,OAAO,EAE1B,IACE,IAAIxJ,EAAS,IAAMwJ,EAAO,IACtBhR,EAASo0I,EAAQl1I,MAAMsI,EAAQ,CAAExG,OAAO,IAE5C,MAAoC,YAAhChB,EAAIU,MAC4B,IAAhCV,EAAIqhB,KAAKvhB,QACuB,wBAAhCE,EAAIqhB,KAAK,GAAG3gB,OACqB,4BAAhCV,EAAIqhB,KAAK,GAAGktB,WAAW7tC,MACU,uBAAhCV,EAAIqhB,KAAK,GAAGktB,WAAW7tC,KAK/B,CAAE,MAAO0V,GACP,OAAO,CACT,CACF,EA+CEm7H,UA7CF,SAAqCvgI,GAGnC,IAGIqQ,EAHA7Z,EAAS,IAAMwJ,EAAO,IACtBhR,EAASo0I,EAAQl1I,MAAMsI,EAAQ,CAAExG,OAAO,IACxCqT,EAAS,GAGb,GAAoC,YAAhCrU,EAAIU,MAC4B,IAAhCV,EAAIqhB,KAAKvhB,QACuB,wBAAhCE,EAAIqhB,KAAK,GAAG3gB,MACqB,4BAAhCV,EAAIqhB,KAAK,GAAGktB,WAAW7tC,MACU,uBAAhCV,EAAIqhB,KAAK,GAAGktB,WAAW7tC,KAC3B,MAAM,IAAI/K,MAAM,8BAWlB,OARAqK,EAAIqhB,KAAK,GAAGktB,WAAWl6B,OAAO7N,SAAQ,SAAUilG,GAC9Cp3F,EAAOhZ,KAAKowG,EAAM1zG,KACpB,IAEAspB,EAAOrhB,EAAIqhB,KAAK,GAAGktB,WAAWltB,KAAKrgB,MAIM,mBAArChB,EAAIqhB,KAAK,GAAGktB,WAAWltB,KAAK3gB,KAEvB,IAAIq2E,SAAS1iE,EAAQ7M,EAAOpB,MAAMib,EAAK,GAAK,EAAGA,EAAK,GAAK,IAK3D,IAAI01D,SAAS1iE,EAAQ,UAAY7M,EAAOpB,MAAMib,EAAK,GAAIA,EAAK,IACrE,EAcEiT,UARF,SAAoBuwE,GAClB,MAAkD,sBAA3CxwG,OAAOqe,UAAUjG,SAASb,KAAKi5F,EACxC,EAOE+jC,UAbF,SAAqC/jC,GACnC,OAAOA,EAAOp4F,UAChB,gCC9EA,IAAI21H,EAAO,EAAQ,MAmDnBxjI,EAAOrK,QAAU,IAAI6tI,EAAK,8BAA+B,CACvDxoE,KAAM,SACNtoC,QAnDF,SAAiCtgB,GAC/B,GAAa,OAATA,EAAe,OAAO,EAC1B,GAAoB,IAAhBA,EAAKlR,OAAc,OAAO,EAE9B,IAAI0M,EAASwE,EACTqhC,EAAS,cAAcrQ,KAAKhxB,GAC5BqjI,EAAY,GAIhB,GAAkB,MAAd7nI,EAAO,GAAY,CAGrB,GAFI6lC,IAAMgiG,EAAYhiG,EAAK,IAEvBgiG,EAAUv0I,OAAS,EAAG,OAAO,EAEjC,GAAqD,MAAjD0M,EAAOA,EAAO1M,OAASu0I,EAAUv0I,OAAS,GAAY,OAAO,CACnE,CAEA,OAAO,CACT,EAiCEyxI,UA/BF,SAAmCvgI,GACjC,IAAIxE,EAASwE,EACTqhC,EAAS,cAAcrQ,KAAKhxB,GAC5BqjI,EAAY,GAQhB,MALkB,MAAd7nI,EAAO,KACL6lC,IAAMgiG,EAAYhiG,EAAK,IAC3B7lC,EAASA,EAAOpG,MAAM,EAAGoG,EAAO1M,OAASu0I,EAAUv0I,OAAS,IAGvD,IAAIiK,OAAOyC,EAAQ6nI,EAC5B,EAoBE//G,UARF,SAAkBuwE,GAChB,MAAkD,oBAA3CxwG,OAAOqe,UAAUjG,SAASb,KAAKi5F,EACxC,EAOE+jC,UAnBF,SAAmC/jC,GACjC,IAAI3rG,EAAS,IAAM2rG,EAAOr9F,OAAS,IAMnC,OAJIq9F,EAAO1yD,SAAQj5C,GAAU,KACzB2rG,EAAOyvC,YAAWp7I,GAAU,KAC5B2rG,EAAO5kE,aAAY/mC,GAAU,KAE1BA,CACT,iCC7CA,IAAIkpI,EAAO,EAAQ,MAmBnBxjI,EAAOrK,QAAU,IAAI6tI,EAAK,iCAAkC,CAC1DxoE,KAAM,SACNtoC,QAnBF,WACE,OAAO,CACT,EAkBEigH,UAhBF,WAGA,EAcEj9G,UARF,SAAqBuwE,GACnB,YAAyB,IAAXA,CAChB,EAOE+jC,UAbF,WACE,MAAO,EACT,iCCbA,IAAIxG,EAAO,EAAQ,MAEnBxjI,EAAOrK,QAAU,IAAI6tI,EAAK,wBAAyB,CACjDxoE,KAAM,UACN23E,UAAW,SAAUvgI,GAAQ,OAAgB,OAATA,EAAgBA,EAAO,CAAC,CAAG,iCCJjE,IAAIoxH,EAAO,EAAQ,MAMnBxjI,EAAOrK,QAAU,IAAI6tI,EAAK,0BAA2B,CACnDxoE,KAAM,SACNtoC,QANF,SAA0BtgB,GACxB,MAAgB,OAATA,GAA0B,OAATA,CAC1B,iCCJA,IAAIoxH,EAAO,EAAQ,MAmBnBxjI,EAAOrK,QAAU,IAAI6tI,EAAK,yBAA0B,CAClDxoE,KAAM,SACNtoC,QAnBF,SAAyBtgB,GACvB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAI5L,EAAM4L,EAAKlR,OAEf,OAAgB,IAARsF,GAAsB,MAAT4L,GACL,IAAR5L,IAAuB,SAAT4L,GAA4B,SAATA,GAA4B,SAATA,EAC9D,EAaEugI,UAXF,WACE,OAAO,IACT,EAUEj9G,UARF,SAAgBuwE,GACd,OAAkB,OAAXA,CACT,EAOE+jC,UAAW,CACT2L,UAAW,WAAc,MAAO,GAAQ,EACxCd,UAAW,WAAc,MAAO,MAAQ,EACxCC,UAAW,WAAc,MAAO,MAAQ,EACxCC,UAAW,WAAc,MAAO,MAAQ,GAE1C9K,aAAc,2CC9BhB,IAAIzG,EAAO,EAAQ,MAEfuB,EAAkBtvI,OAAOqe,UAAUwhC,eACnCwvF,EAAkBrvI,OAAOqe,UAAUjG,SAkCvC7N,EAAOrK,QAAU,IAAI6tI,EAAK,yBAA0B,CAClDxoE,KAAM,WACNtoC,QAlCF,SAAyBtgB,GACvB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAqBrL,EAAO7F,EAAQk/E,EAAMw1D,EAASC,EAA/CC,EAAa,GACb7vC,EAAS7zF,EAEb,IAAKrL,EAAQ,EAAG7F,EAAS+kG,EAAO/kG,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAAG,CAIlE,GAHAq5E,EAAO6lB,EAAOl/F,GACd8uI,GAAa,EAEgB,oBAAzB/Q,EAAU93H,KAAKozE,GAA6B,OAAO,EAEvD,IAAKw1D,KAAWx1D,EACd,GAAI2kD,EAAgB/3H,KAAKozE,EAAMw1D,GAAU,CACvC,GAAKC,EACA,OAAO,EADKA,GAAa,CAEhC,CAGF,IAAKA,EAAY,OAAO,EAExB,IAAqC,IAAjCC,EAAWjuI,QAAQ+tI,GAClB,OAAO,EAD4BE,EAAWr5I,KAAKm5I,EAE1D,CAEA,OAAO,CACT,EASEjD,UAPF,SAA2BvgI,GACzB,OAAgB,OAATA,EAAgBA,EAAO,EAChC,iCCnCA,IAAIoxH,EAAO,EAAQ,MAEfsB,EAAYrvI,OAAOqe,UAAUjG,SA4CjC7N,EAAOrK,QAAU,IAAI6tI,EAAK,0BAA2B,CACnDxoE,KAAM,WACNtoC,QA5CF,SAA0BtgB,GACxB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAIrL,EAAO7F,EAAQk/E,EAAMhyE,EAAM9T,EAC3B2rG,EAAS7zF,EAIb,IAFA9X,EAAS,IAAIqG,MAAMslG,EAAO/kG,QAErB6F,EAAQ,EAAG7F,EAAS+kG,EAAO/kG,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAAG,CAGlE,GAFAq5E,EAAO6lB,EAAOl/F,GAEe,oBAAzB+9H,EAAU93H,KAAKozE,GAA6B,OAAO,EAIvD,GAAoB,KAFpBhyE,EAAO3Y,OAAO2Y,KAAKgyE,IAEVl/E,OAAc,OAAO,EAE9B5G,EAAOyM,GAAS,CAAEqH,EAAK,GAAIgyE,EAAKhyE,EAAK,IACvC,CAEA,OAAO,CACT,EAwBEukI,UAtBF,SAA4BvgI,GAC1B,GAAa,OAATA,EAAe,MAAO,GAE1B,IAAIrL,EAAO7F,EAAQk/E,EAAMhyE,EAAM9T,EAC3B2rG,EAAS7zF,EAIb,IAFA9X,EAAS,IAAIqG,MAAMslG,EAAO/kG,QAErB6F,EAAQ,EAAG7F,EAAS+kG,EAAO/kG,OAAQ6F,EAAQ7F,EAAQ6F,GAAS,EAC/Dq5E,EAAO6lB,EAAOl/F,GAEdqH,EAAO3Y,OAAO2Y,KAAKgyE,GAEnB9lF,EAAOyM,GAAS,CAAEqH,EAAK,GAAIgyE,EAAKhyE,EAAK,KAGvC,OAAO9T,CACT,iCC5CA,IAAIkpI,EAAO,EAAQ,MAEnBxjI,EAAOrK,QAAU,IAAI6tI,EAAK,wBAAyB,CACjDxoE,KAAM,WACN23E,UAAW,SAAUvgI,GAAQ,OAAgB,OAATA,EAAgBA,EAAO,EAAI,iCCJjE,IAAIoxH,EAAO,EAAQ,MAEfuB,EAAkBtvI,OAAOqe,UAAUwhC,eAoBvCt1C,EAAOrK,QAAU,IAAI6tI,EAAK,wBAAyB,CACjDxoE,KAAM,UACNtoC,QApBF,SAAwBtgB,GACtB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAI/D,EAAK43F,EAAS7zF,EAElB,IAAK/D,KAAO43F,EACV,GAAI8+B,EAAgB/3H,KAAKi5F,EAAQ53F,IACX,OAAhB43F,EAAO53F,GAAe,OAAO,EAIrC,OAAO,CACT,EASEskI,UAPF,SAA0BvgI,GACxB,OAAgB,OAATA,EAAgBA,EAAO,CAAC,CACjC,iCCpBA,IAAIoxH,EAAO,EAAQ,MAEnBxjI,EAAOrK,QAAU,IAAI6tI,EAAK,wBAAyB,CACjDxoE,KAAM,SACN23E,UAAW,SAAUvgI,GAAQ,OAAgB,OAATA,EAAgBA,EAAO,EAAI,iCCJjE,IAAIoxH,EAAO,EAAQ,MAEfuS,EAAmB,IAAI5qI,OACzB,sDAIE6qI,EAAwB,IAAI7qI,OAC9B,oLAuEFnL,EAAOrK,QAAU,IAAI6tI,EAAK,8BAA+B,CACvDxoE,KAAM,SACNtoC,QA9DF,SAA8BtgB,GAC5B,OAAa,OAATA,IACgC,OAAhC2jI,EAAiB3yG,KAAKhxB,IACe,OAArC4jI,EAAsB5yG,KAAKhxB,GAEjC,EA0DEugI,UAxDF,SAAgCvgI,GAC9B,IAAIzI,EAAOssI,EAAMC,EAAOC,EAAKC,EAAMC,EAAQp3B,EACLq3B,EADaC,EAAW,EAC1DptB,EAAQ,KAKZ,GAFc,QADdx/G,EAAQosI,EAAiB3yG,KAAKhxB,MACVzI,EAAQqsI,EAAsB5yG,KAAKhxB,IAEzC,OAAVzI,EAAgB,MAAM,IAAI5S,MAAM,sBAQpC,GAJAk/I,GAAStsI,EAAM,GACfusI,GAAUvsI,EAAM,GAAM,EACtBwsI,GAAQxsI,EAAM,IAETA,EAAM,GACT,OAAO,IAAI8C,KAAKA,KAAK+pI,IAAIP,EAAMC,EAAOC,IASxC,GAJAC,GAASzsI,EAAM,GACf0sI,GAAW1sI,EAAM,GACjBs1G,GAAWt1G,EAAM,GAEbA,EAAM,GAAI,CAEZ,IADA4sI,EAAW5sI,EAAM,GAAGnC,MAAM,EAAG,GACtB+uI,EAASr1I,OAAS,GACvBq1I,GAAY,IAEdA,GAAYA,CACd,CAeA,OAXI5sI,EAAM,KAGRw/G,EAAqC,KAAlB,IAFPx/G,EAAM,OACJA,EAAM,KAAO,IAEV,MAAbA,EAAM,KAAYw/G,GAASA,IAGjCmtB,EAAO,IAAI7pI,KAAKA,KAAK+pI,IAAIP,EAAMC,EAAOC,EAAKC,EAAMC,EAAQp3B,EAAQs3B,IAE7DptB,GAAOmtB,EAAKG,QAAQH,EAAK50E,UAAYynD,GAElCmtB,CACT,EAUEvM,WAAYt9H,KACZu9H,UATF,SAAgC/jC,GAC9B,OAAOA,EAAOh3F,aAChB,aC/EA,IAAIpB,EAAWpY,OAAOqe,UAAUjG,SAmEhC,SAAS6oI,EAAS3pI,GAChB,MAAkC,mBAApBA,EAAInS,YAA6BmS,EAAInS,YAAYzB,KAAO,IACxE,CAnEA6G,EAAOrK,QAAU,SAAgBoX,GAC/B,QAAY,IAARA,EAAgB,MAAO,YAC3B,GAAY,OAARA,EAAc,MAAO,OAEzB,IAAIjL,SAAciL,EAClB,GAAa,YAATjL,EAAoB,MAAO,UAC/B,GAAa,WAATA,EAAmB,MAAO,SAC9B,GAAa,WAATA,EAAmB,MAAO,SAC9B,GAAa,WAATA,EAAmB,MAAO,SAC9B,GAAa,aAATA,EACF,MAoFwB,sBAAnB40I,EApFgB3pI,GAAO,oBAAsB,WAGpD,GAwDF,SAAiBA,GACf,OAAIpM,MAAMC,QAAgBD,MAAMC,QAAQmM,GACjCA,aAAepM,KACxB,CA3DMC,CAAQmM,GAAM,MAAO,QACzB,GA2GF,SAAkBA,GAChB,SAAIA,EAAInS,aAAmD,mBAA7BmS,EAAInS,YAAY0X,WACrCvF,EAAInS,YAAY0X,SAASvF,EAGpC,CAhHMuF,CAASvF,GAAM,MAAO,SAC1B,GAwFF,SAAqBA,GACnB,IACE,GAA0B,iBAAfA,EAAI7L,QAA6C,mBAAf6L,EAAI6/F,OAC/C,OAAO,CAEX,CAAE,MAAOp1F,GACP,IAAuC,IAAnCA,EAAIxL,QAAQnE,QAAQ,UACtB,OAAO,CAEX,CACA,OAAO,CACT,CAnGM8uI,CAAY5pI,GAAM,MAAO,YAC7B,GA8DF,SAAgBA,GACd,OAAIA,aAAeN,MACgB,mBAArBM,EAAI6pI,cACU,mBAAhB7pI,EAAI8pI,SACY,mBAAhB9pI,EAAI+pI,OAClB,CAnEMC,CAAOhqI,GAAM,MAAO,OACxB,GAyDF,SAAiBA,GACf,OAAOA,aAAehW,OAAiC,iBAAhBgW,EAAIf,SAAwBe,EAAInS,aAA0D,iBAApCmS,EAAInS,YAAYo8I,eAC/G,CA3DMxmD,CAAQzjF,GAAM,MAAO,QACzB,GAmEF,SAAkBA,GAChB,OAAIA,aAAe5B,QACS,iBAAd4B,EAAIwuB,OACa,kBAAnBxuB,EAAIs0B,YACc,kBAAlBt0B,EAAI2oI,WACW,kBAAf3oI,EAAIwmC,MAClB,CAzEM0jG,CAASlqI,GAAM,MAAO,SAE1B,OAAQ2pI,EAAS3pI,IACf,IAAK,SAAU,MAAO,SACtB,IAAK,UAAW,MAAO,UAGvB,IAAK,UAAW,MAAO,UACvB,IAAK,UAAW,MAAO,UACvB,IAAK,MAAO,MAAO,MACnB,IAAK,MAAO,MAAO,MAGnB,IAAK,YAAa,MAAO,YACzB,IAAK,aAAc,MAAO,aAC1B,IAAK,oBAAqB,MAAO,oBAGjC,IAAK,aAAc,MAAO,aAC1B,IAAK,cAAe,MAAO,cAG3B,IAAK,aAAc,MAAO,aAC1B,IAAK,cAAe,MAAO,cAC3B,IAAK,eAAgB,MAAO,eAC5B,IAAK,eAAgB,MAAO,eAG9B,GAmDF,SAAwBA,GACtB,MAA4B,mBAAdA,EAAImqI,OACS,mBAAfnqI,EAAIoxE,QACS,mBAAbpxE,EAAItF,IAClB,CAvDM0vI,CAAepqI,GACjB,MAAO,YAKT,OADAjL,EAAO+L,EAASb,KAAKD,IAEnB,IAAK,kBAAmB,MAAO,SAE/B,IAAK,wBAAyB,MAAO,cACrC,IAAK,wBAAyB,MAAO,cACrC,IAAK,2BAA4B,MAAO,iBACxC,IAAK,0BAA2B,MAAO,gBAIzC,OAAOjL,EAAK0F,MAAM,GAAI,GAAGkD,cAAchB,QAAQ,MAAO,GACxD,kBCjEA,IAGIsJ,EAHO,EAAQ,MAGDA,OAElBhT,EAAOrK,QAAUqd,YCejBhT,EAAOrK,QAXP,SAAkB21B,EAAO8rH,GAKvB,IAJA,IAAIrwI,GAAS,EACT7F,EAAkB,MAAToqB,EAAgB,EAAIA,EAAMpqB,OACnC5G,EAASqG,MAAMO,KAEV6F,EAAQ7F,GACf5G,EAAOyM,GAASqwI,EAAS9rH,EAAMvkB,GAAQA,EAAOukB,GAEhD,OAAOhxB,CACT,kBClBA,IAAI0Y,EAAS,EAAQ,MACjBqkI,EAAY,EAAQ,MACpBC,EAAiB,EAAQ,MAOzBC,EAAiBvkI,EAASA,EAAOyqE,iBAAclnF,EAkBnDyJ,EAAOrK,QATP,SAAoBC,GAClB,OAAa,MAATA,OACeW,IAAVX,EAdQ,qBADL,gBAiBJ2hJ,GAAkBA,KAAkB9hJ,OAAOG,GAC/CyhJ,EAAUzhJ,GACV0hJ,EAAe1hJ,EACrB,kBCzBA,IAAIod,EAAS,EAAQ,MACjBwkI,EAAW,EAAQ,MACnB52I,EAAU,EAAQ,MAClB62I,EAAW,EAAQ,MAMnBC,EAAc1kI,EAASA,EAAOc,eAAYvd,EAC1CohJ,EAAiBD,EAAcA,EAAY7pI,cAAWtX,EA0B1DyJ,EAAOrK,QAhBP,SAASiiJ,EAAahiJ,GAEpB,GAAoB,iBAATA,EACT,OAAOA,EAET,GAAIgL,EAAQhL,GAEV,OAAO4hJ,EAAS5hJ,EAAOgiJ,GAAgB,GAEzC,GAAIH,EAAS7hJ,GACX,OAAO+hJ,EAAiBA,EAAe3qI,KAAKpX,GAAS,GAEvD,IAAI0E,EAAU1E,EAAQ,GACtB,MAAkB,KAAV0E,GAAkB,EAAI1E,IA3BjB,IA2BwC,KAAO0E,CAC9D,YCjCA,IAAIu9I,EAA8B,iBAAVtkG,QAAsBA,QAAUA,OAAO99C,SAAWA,QAAU89C,OAEpFvzC,EAAOrK,QAAUkiJ,kBCHjB,IAAI7kI,EAAS,EAAQ,MAGjB8kI,EAAcriJ,OAAOqe,UAGrBwhC,EAAiBwiG,EAAYxiG,eAO7ByiG,EAAuBD,EAAYjqI,SAGnC0pI,EAAiBvkI,EAASA,EAAOyqE,iBAAclnF,EA6BnDyJ,EAAOrK,QApBP,SAAmBC,GACjB,IAAIoiJ,EAAQ1iG,EAAetoC,KAAKpX,EAAO2hJ,GACnCjuG,EAAM1zC,EAAM2hJ,GAEhB,IACE3hJ,EAAM2hJ,QAAkBhhJ,EACxB,IAAI0hJ,GAAW,CACjB,CAAE,MAAOhvI,GAAI,CAEb,IAAI3O,EAASy9I,EAAqB/qI,KAAKpX,GAQvC,OAPIqiJ,IACED,EACFpiJ,EAAM2hJ,GAAkBjuG,SAEjB1zC,EAAM2hJ,IAGVj9I,CACT,YC1CA,IAOIy9I,EAPctiJ,OAAOqe,UAOcjG,SAavC7N,EAAOrK,QAJP,SAAwBC,GACtB,OAAOmiJ,EAAqB/qI,KAAKpX,EACnC,kBCnBA,IAAIiiJ,EAAa,EAAQ,MAGrBK,EAA0B,iBAAR3rI,MAAoBA,MAAQA,KAAK9W,SAAWA,QAAU8W,KAGxE8hB,EAAOwpH,GAAcK,GAAY//D,SAAS,cAATA,GAErCn4E,EAAOrK,QAAU04B,kBCRjB,IAAIxgB,EAAW,EAAQ,KAMnBsqI,EAAe,sBACfC,EAAkBjtI,OAAOgtI,EAAavvI,QAwB1C5I,EAAOrK,QAPP,SAAsBk2B,GAEpB,OADAA,EAAShe,EAASge,KACAusH,EAAgBjqI,KAAK0d,GACnCA,EAAOniB,QAAQyuI,EAAc,QAC7BtsH,CACN,YCNA,IAAIjrB,EAAUD,MAAMC,QAEpBZ,EAAOrK,QAAUiL,YCGjBZ,EAAOrK,QAJP,SAAsBC,GACpB,OAAgB,MAATA,GAAiC,iBAATA,CACjC,kBC1BA,IAAIyiJ,EAAa,EAAQ,MACrBC,EAAe,EAAQ,MA2B3Bt4I,EAAOrK,QALP,SAAkBC,GAChB,MAAuB,iBAATA,GACX0iJ,EAAa1iJ,IArBF,mBAqBYyiJ,EAAWziJ,EACvC,iBC1BA,IAAIgiJ,EAAe,EAAQ,MA2B3B53I,EAAOrK,QAJP,SAAkBC,GAChB,OAAgB,MAATA,EAAgB,GAAKgiJ,EAAahiJ,EAC3C,+BCvBA,IAAIy8H,EAAS,EAAQ,KACjBllH,EAAS,EAAQ,MA2FrB,SAASorI,EAAYj8G,EAAMk8G,GACzB,OAAIl8G,EAAK90B,MAAM,EAAGgxI,EAAMt3I,UAAYs3I,GAGhCl8G,EAAKzG,OAAO2iH,EAAMt3I,OAAS,KAAOs3I,EAAMhxI,OAAO,EAIrD,CAwBA,SAASuwH,EAAShrH,GAChB,OAAOA,CACT,CA7GA/M,EAAOrK,QAAU,SAAS6K,EAAOC,GACR,mBAAZA,IACTA,EAAU,CAAEH,MAAOG,IAGrB,IAAIkQ,EAgFN,SAAkBnQ,GAKhB,GAJsB,WAAlB6xH,EAAO7xH,KACTA,EAAQ,CAAE27B,QAAS37B,IAGQ,iBAAlBA,EAAM27B,YAqBDpvB,EArBmCvM,EAAM27B,UAsB9CpvB,EAAInS,aAAmD,mBAA7BmS,EAAInS,YAAY0X,UAC5CvF,EAAInS,YAAY0X,SAASvF,IAtBhC,MAAM,IAAIzG,UAAU,+BAoBxB,IAAkByG,EAfhB,OAFAvM,EAAM27B,QAAU37B,EAAM27B,QAAQtuB,WAC9BrN,EAAM8wB,SAAW,GACV9wB,CACT,CA5Fai4I,CAASj4I,GAEhB+F,EAAO4G,EAAO,CAAC,EADJ,CAACurI,kBAAmB,MAAOp4I,MAAOy3H,GACjBt3H,GAC5B+3I,EAAQjyI,EAAKmyI,kBACbC,EAAQhoI,EAAKwrB,QAAQrlC,MAAM,SAC3Bw6B,EAAW,KACXa,EA6FG,CAAE9jB,IAAK,GAAI+D,KAAM,GAAI+pB,QAAS,IA5FjCA,EAAU,GACVt1B,EAAQ,GAEZ,SAAS+xI,EAAa7rI,GACpB4D,EAAKwrB,QAAUpvB,EACfukB,EAAW,GACX6K,EAAU,EACZ,CAEA,SAAS08G,EAAa9rI,GAChBlG,EAAM3F,SACRixB,EAAQ9jB,IA4Ed,SAAgBtB,EAAKyrI,GACnB,OAAOzrI,EAAMA,EAAIvF,MAAMgxI,EAAMt3I,QAAQgH,OAAS,EAChD,CA9EoB4wI,CAAOjyI,EAAM,GAAI2xI,GAC/BrmH,EAAQgK,QAAUpvB,EAClBxG,EAAKjG,MAAM6xB,EAASb,GACpBA,EAAS70B,KAAK01B,GACdA,EA6EG,CAAE9jB,IAAK,GAAI+D,KAAM,GAAI+pB,QAAS,IA5EjCA,EAAU,GACVt1B,EAAQ,GAEZ,CAEA,IAAK,IAAIR,EAAI,EAAGA,EAAIsyI,EAAMz3I,OAAQmF,IAAK,CACrC,IAAIi2B,EAAOq8G,EAAMtyI,GACb6H,EAAMrH,EAAM3F,OACZ63I,EAAKz8G,EAAKp0B,OAEd,GAAIqwI,EAAYQ,EAAIP,GAApB,CACE,GAAkB,IAAdO,EAAG73I,QAAsB,IAANmF,EAAS,CAC9B,GAAY,IAAR6H,GAAqB,IAARA,EAAW,CAC1BiuB,EAAQ1/B,KAAK6/B,GACb,QACF,CACAz1B,EAAMpK,KAAKs8I,GACX5mH,EAAQ/f,KAAO+pB,EAAQ78B,KAAK,MAC5B68B,EAAU,GACV,QACF,CAEiB,OAAb7K,GACFsnH,EAAaz8G,EAAQ78B,KAAK,OAGhB,IAAR4O,GACF2qI,EAAa18G,EAAQ78B,KAAK,OAG5BuH,EAAMpK,KAAKs8I,EAEb,MAEA58G,EAAQ1/B,KAAK6/B,EACf,CASA,OAPiB,OAAbhL,EACFsnH,EAAaz8G,EAAQ78B,KAAK,OAE1Bu5I,EAAa18G,EAAQ78B,KAAK,OAG5BqR,EAAK2gB,SAAWA,EACT3gB,CACT,yBCnFA3Q,EAAOrK,QAAU,SAASma,GACxB,MAAmB,iBAARA,GAAsC,WAAlBA,EAAI+lB,OAAO,GACjC/lB,EAAItI,MAAM,GAEZsI,CACT,+BCZA,IAAIkpI,EAAW,EAAQ,MACnBC,EAAe,EAAQ,MAEvBC,EAAqB,CACvBC,aAAc,EACdC,gBAAiB,GAGnB,SAASC,EAAUvpI,GACjB,OAAOA,EAAIhZ,MAAM,MAAUmC,KAAI,SAAUktC,GAAK,OAAOA,EAAEkzG,UAAU,MAAQ,IAAG/5I,KAAK,KACnF,CAEA,SAASg6I,EAAWvsI,GAIlB,IAHA,IAAIkJ,EAAQ,EACRC,EAAM+iI,EAAa/3I,OAAS,EAEzB+U,GAASC,GAAK,CACnB,IAAIqjI,EAAM7yI,KAAKy3C,OAAOloC,EAAQC,GAAO,GAEjCrE,EAASonI,EAAaM,GAC1B,GAAI1nI,EAAO,GAAG,IAAM9E,GAAO8E,EAAO,GAAG,IAAM9E,EACzC,OAAO8E,EACEA,EAAO,GAAG,GAAK9E,EACxBmJ,EAAMqjI,EAAM,EAEZtjI,EAAQsjI,EAAM,CAElB,CAEA,OAAO,IACT,CAEA,IAAIC,EAAqB,kCAEzB,SAASC,EAAa5tH,GACpB,OAAOA,EAEJniB,QAAQ8vI,EAAoB,KAE5Bt4I,MACL,CAuDA,IAAIw4I,EAAsB,oqFAE1B,SAASC,EAAc5+E,EAAO6+E,GACD,SAAvB7+E,EAAM94B,OAAO,EAAG,KAClB84B,EAAQi+E,EAASa,UAAU9+E,GACPm+E,EAAmBE,iBAGzC,IAAI/+I,GAAQ,GAERg/I,EAAUt+E,KAAWA,GACP,MAAbA,EAAM,IAA2B,MAAbA,EAAM,IACd,MAAbA,EAAM,IAA0C,MAA5BA,EAAMA,EAAM75D,OAAS,KACjB,IAAxB65D,EAAMlzD,QAAQ,MACwB,IAAtCkzD,EAAMjyC,OAAO4wH,MACfr/I,GAAQ,GAIV,IADA,IAAI6T,EAAMurI,EAAa1+E,GACd10D,EAAI,EAAGA,EAAI6H,IAAO7H,EAAG,CAC5B,IAAIgzC,EAASigG,EAAWv+E,EAAMikD,YAAY34G,IAC1C,GAAKyzI,IAAeZ,EAAmBC,cAA8B,UAAd9/F,EAAO,IACzDygG,IAAeZ,EAAmBE,iBACpB,UAAd//F,EAAO,IAAgC,cAAdA,EAAO,GAAqB,CACxDh/C,GAAQ,EACR,KACF,CACF,CAEA,MAAO,CACL0gE,MAAOA,EACP1gE,MAAOA,EAEX,CAEA,SAASy/I,EAAWC,EAAaC,EAASJ,GACxC,IAAIt/I,EAzFN,SAAkBy/I,EAAaC,EAASJ,GAKtC,IAJA,IAAI9iB,GAAW,EACXmjB,EAAY,GAEZ/rI,EAAMurI,EAAaM,GACd1zI,EAAI,EAAGA,EAAI6H,IAAO7H,EAAG,CAC5B,IAAIq6G,EAAYq5B,EAAY/6B,YAAY34G,GACpCgzC,EAASigG,EAAW54B,GAExB,OAAQrnE,EAAO,IACb,IAAK,aACHy9E,GAAW,EACXmjB,GAAapgH,OAAOkyE,cAAc2U,GAClC,MACF,IAAK,UACH,MACF,IAAK,SACHu5B,GAAapgH,OAAOkyE,cAAc9+F,MAAM4sB,OAAQwf,EAAO,IACvD,MACF,IAAK,YACCugG,IAAsBV,EAAmBC,aAC3Cc,GAAapgH,OAAOkyE,cAAc9+F,MAAM4sB,OAAQwf,EAAO,IAEvD4gG,GAAapgH,OAAOkyE,cAAc2U,GAEpC,MACF,IAAK,QACHu5B,GAAapgH,OAAOkyE,cAAc2U,GAClC,MACF,IAAK,yBACCs5B,GACFljB,GAAW,EACXmjB,GAAapgH,OAAOkyE,cAAc2U,IAElCu5B,GAAapgH,OAAOkyE,cAAc9+F,MAAM4sB,OAAQwf,EAAO,IAEzD,MACF,IAAK,wBACC2gG,IACFljB,GAAW,GAGbmjB,GAAapgH,OAAOkyE,cAAc2U,GAGxC,CAEA,MAAO,CACL70F,OAAQouH,EACR5/I,MAAOy8H,EAEX,CAsCeojB,CAASH,EAAaC,EAASJ,GAC5Ct/I,EAAOuxB,OAASwtH,EAAU/+I,EAAOuxB,QAGjC,IADA,IAAIsuH,EAAS7/I,EAAOuxB,OAAO/0B,MAAM,KACxBuP,EAAI,EAAGA,EAAI8zI,EAAOj5I,SAAUmF,EACnC,IACE,IAAI+zI,EAAaT,EAAcQ,EAAO9zI,IACtC8zI,EAAO9zI,GAAK+zI,EAAWr/E,MACvBzgE,EAAOD,MAAQC,EAAOD,OAAS+/I,EAAW//I,KAC5C,CAAE,MAAM4O,GACN3O,EAAOD,OAAQ,CACjB,CAGF,MAAO,CACLwxB,OAAQsuH,EAAO76I,KAAK,KACpBjF,MAAOC,EAAOD,MAElB,CAEA2F,EAAOrK,QAAQ0kJ,QAAU,SAASN,EAAaC,EAASJ,EAAmBU,GACzE,IAAIhgJ,EAASw/I,EAAWC,EAAaC,EAASJ,GAC1CO,EAAS7/I,EAAOuxB,OAAO/0B,MAAM,KAUjC,GATAqjJ,EAASA,EAAOlhJ,KAAI,SAASshJ,GAC3B,IACE,OAAOvB,EAASqB,QAAQE,EAC1B,CAAE,MAAMtxI,GAEN,OADA3O,EAAOD,OAAQ,EACRkgJ,CACT,CACF,IAEID,EAAiB,CACnB,IAAIE,EAAQL,EAAO3yI,MAAM,EAAG2yI,EAAOj5I,OAAS,GAAG5B,KAAK,KAAK4B,QACrDs5I,EAAMt5I,OAAS,KAAwB,IAAjBs5I,EAAMt5I,UAC9B5G,EAAOD,OAAQ,GAGjB,IAAK,IAAIgM,EAAE,EAAGA,EAAI8zI,EAAOj5I,SAAUmF,EACjC,GAAI8zI,EAAOj5I,OAAS,IAAwB,IAAlBi5I,EAAOj5I,OAAc,CAC7C5G,EAAOD,OAAQ,EACf,KACF,CAEJ,CAEA,OAAIC,EAAOD,MAAc,KAClB8/I,EAAO76I,KAAK,IACrB,EAEAU,EAAOrK,QAAQkkJ,UAAY,SAASE,EAAaC,GAC/C,IAAI1/I,EAASw/I,EAAWC,EAAaC,EAASd,EAAmBE,iBAEjE,MAAO,CACLqB,OAAQngJ,EAAOuxB,OACfxxB,MAAOC,EAAOD,MAElB,EAEA2F,EAAOrK,QAAQujJ,mBAAqBA,yBC9LpC,IAAIwB,EAAc,CAAC,EAGnB,SAASjmG,EAAKhkC,GACV,OAAOA,EAAI,GAAK,EAAI,CACxB,CAWA,SAASkqI,EAAuBC,EAAWC,GAClCA,EAASC,YACRF,EAEN,MAAMG,EAAaF,EAASC,SAAW,GAAKp0I,KAAKiW,IAAI,EAAGi+H,GAClDj/D,EAAaj1E,KAAKiW,IAAI,EAAGi+H,GAAa,EAEtCI,EAAYH,EAASI,gBAAkBv0I,KAAKiW,IAAI,EAAGk+H,EAASI,iBAAmBv0I,KAAKiW,IAAI,EAAGi+H,GAC3FM,EAAcL,EAASI,gBAAkBv0I,KAAKiW,IAAI,EAAGk+H,EAASI,gBAAkB,GAAKv0I,KAAKiW,IAAI,EAAGi+H,EAAY,GAEnH,OAAO,SAAS1iE,EAAG3xE,GACVA,IAAMA,EAAO,CAAC,GAEnB,IAAIkK,GAAKynE,EAET,GAAI3xE,EAAK40I,aAAc,CACnB,IAAKlkJ,OAAO+sC,SAASvzB,GACjB,MAAM,IAAInK,UAAU,mCAIxB,GADAmK,EAAIgkC,EAAKhkC,GAAK/J,KAAKy3C,MAAMz3C,KAAK8H,IAAIiC,IAC9BA,EAAIsqI,GAActqI,EAAIkrE,EACtB,MAAM,IAAIr1E,UAAU,iCAGxB,OAAOmK,CACX,CAEA,IAAK4iE,MAAM5iE,IAAMlK,EAAK60I,MAKlB,OAJA3qI,EAtCZ,SAAmBA,GAEf,OAAKA,EAAI,GAAO,IAAmB,IAAP,EAAJA,GACb/J,KAAKy3C,MAAM1tC,GAEX/J,KAAK+/B,MAAMh2B,EAE1B,CA+BgB4qI,CAAU5qI,GAEVA,EAAIsqI,IAAYtqI,EAAIsqI,GACpBtqI,EAAIkrE,IAAYlrE,EAAIkrE,GACjBlrE,EAGX,IAAKxZ,OAAO+sC,SAASvzB,IAAY,IAANA,EACvB,OAAO,EAMX,GAHAA,EAAIgkC,EAAKhkC,GAAK/J,KAAKy3C,MAAMz3C,KAAK8H,IAAIiC,IAClCA,GAAQuqI,GAEHH,EAASC,UAAYrqI,GAAKyqI,EAC3B,OAAOzqI,EAAIuqI,EACR,GAAIH,EAASC,SAChB,GAAIrqI,EAAI,EACNA,GAAKuqI,OACA,IAAW,IAAPvqI,EACT,OAAO,EAIb,OAAOA,CACX,CACJ,CAtEAzQ,EAAOrK,QAAU+kJ,EAwEjBA,EAAkB,KAAI,WAEtB,EAEAA,EAAqB,QAAI,SAAU3tI,GAC/B,QAASA,CACb,EAEA2tI,EAAkB,KAAIC,EAAuB,EAAG,CAAEG,UAAU,IAC5DJ,EAAmB,MAAIC,EAAuB,EAAG,CAAEG,UAAU,IAE7DJ,EAAmB,MAAIC,EAAuB,GAAI,CAAEG,UAAU,IAC9DJ,EAAY,kBAAoBC,EAAuB,GAAI,CAAEG,UAAU,IAEvEJ,EAAkB,KAAIC,EAAuB,GAAI,CAAEG,UAAU,IAC7DJ,EAAY,iBAAmBC,EAAuB,GAAI,CAAEG,UAAU,IAEtEJ,EAAY,aAAeC,EAAuB,GAAI,CAAEG,UAAU,EAAOG,gBAAiB,KAC1FP,EAAY,sBAAwBC,EAAuB,GAAI,CAAEG,UAAU,EAAMG,gBAAiB,KAElGP,EAAoB,OAAI,SAAUxiE,GAC9B,MAAMznE,GAAKynE,EAEX,IAAKjhF,OAAO+sC,SAASvzB,GACjB,MAAM,IAAInK,UAAU,iDAGxB,OAAOmK,CACX,EAEAiqI,EAAY,uBAAyB,SAAUxiE,GAC3C,MAAMznE,GAAKynE,EAEX,GAAI7E,MAAM5iE,GACN,MAAM,IAAInK,UAAU,mBAGxB,OAAOmK,CACX,EAGAiqI,EAAmB,MAAIA,EAAoB,OAC3CA,EAAY,sBAAwBA,EAAY,uBAEhDA,EAAuB,UAAI,SAAUxiE,EAAG3xE,GAGpC,OAFKA,IAAMA,EAAO,CAAC,GAEfA,EAAK+0I,wBAAgC,OAANpjE,EACxB,GAGJr+C,OAAOq+C,EAClB,EAEAwiE,EAAwB,WAAI,SAAUxiE,EAAG3xE,GACrC,MAAMkK,EAAIopB,OAAOq+C,GACjB,IAAI3uE,EACJ,IAAK,IAAIlD,EAAI,OAA8B9P,KAA1BgT,EAAIkH,EAAEuuG,YAAY34G,MAAqBA,EACpD,GAAIkD,EAAI,IACJ,MAAM,IAAIjD,UAAU,sCAI5B,OAAOmK,CACX,EAEAiqI,EAAuB,UAAI,SAAUxiE,GACjC,MAAMqjE,EAAI1hH,OAAOq+C,GACX5vE,EAAIizI,EAAEr6I,OACNs6I,EAAI,GACV,IAAK,IAAIn1I,EAAI,EAAGA,EAAIiC,IAAKjC,EAAG,CACxB,MAAMkD,EAAIgyI,EAAEhtI,WAAWlI,GACvB,GAAIkD,EAAI,OAAUA,EAAI,MAClBiyI,EAAE/+I,KAAKo9B,OAAOkyE,cAAcxiG,SACzB,GAAI,OAAUA,GAAKA,GAAK,MAC3BiyI,EAAE/+I,KAAKo9B,OAAOkyE,cAAc,aAE5B,GAAI1lG,IAAMiC,EAAI,EACVkzI,EAAE/+I,KAAKo9B,OAAOkyE,cAAc,YACzB,CACH,MAAM1lE,EAAIk1G,EAAEhtI,WAAWlI,EAAI,GAC3B,GAAI,OAAUggC,GAAKA,GAAK,MAAQ,CAC5B,MAAM9rC,EAAQ,KAAJgP,EACJ/O,EAAQ,KAAJ6rC,EACVm1G,EAAE/+I,KAAKo9B,OAAOkyE,cAAc,MAAY,KAAWxxG,EAAIC,MACrD6L,CACN,MACIm1I,EAAE/+I,KAAKo9B,OAAOkyE,cAAc,OAEpC,CAER,CAEA,OAAOyvC,EAAEl8I,KAAK,GAClB,EAEAo7I,EAAkB,KAAI,SAAUxiE,EAAG3xE,GAC/B,KAAM2xE,aAAazrE,MACf,MAAM,IAAInG,UAAU,iCAExB,IAAI+sE,MAAM6E,GAIV,OAAOA,CACX,EAEAwiE,EAAoB,OAAI,SAAUxiE,EAAG3xE,GAKjC,OAJM2xE,aAAa/sE,SACf+sE,EAAI,IAAI/sE,OAAO+sE,IAGZA,CACX,+BC3LA,MAAMujE,EAAM,EAAQ,MAEpB9lJ,EAAQ+lJ,eAAiB,MACvB9gJ,YAAY+gJ,GACV,MAAMn4H,EAAMm4H,EAAgB,GACtBr9I,EAAOq9I,EAAgB,GAE7B,IAAIC,EAAa,KACjB,QAAarlJ,IAAT+H,IACFs9I,EAAaH,EAAII,cAAcv9I,GACZ,YAAfs9I,GACF,MAAM,IAAIt1I,UAAU,oBAIxB,MAAMw1I,EAAYL,EAAII,cAAcr4H,EAAK,CAAEu4H,QAASH,IACpD,GAAkB,YAAdE,EACF,MAAM,IAAIx1I,UAAU,eAGtBxL,KAAKsrB,KAAO01H,CAGd,CAEI7zH,WACF,OAAOwzH,EAAIO,aAAalhJ,KAAKsrB,KAC/B,CAEI6B,SAAKnc,GACP,MAAMgwI,EAAYL,EAAII,cAAc/vI,GACpC,GAAkB,YAAdgwI,EACF,MAAM,IAAIx1I,UAAU,eAGtBxL,KAAKsrB,KAAO01H,CACd,CAEIh4H,aACF,OAAO23H,EAAIQ,mBAAmBnhJ,KAAKsrB,KACrC,CAEItF,eACF,OAAOhmB,KAAKsrB,KAAKq3C,OAAS,GAC5B,CAEI38C,aAAShV,GACX2vI,EAAII,cAAc/vI,EAAI,IAAK,CAAE0X,IAAK1oB,KAAKsrB,KAAM81H,cAAe,gBAC9D,CAEIjzH,eACF,OAAOnuB,KAAKsrB,KAAK6C,QACnB,CAEIA,aAASnd,GACP2vI,EAAIU,gCAAgCrhJ,KAAKsrB,OAI7Cq1H,EAAIW,eAAethJ,KAAKsrB,KAAMta,EAChC,CAEIod,eACF,OAAOpuB,KAAKsrB,KAAK8C,QACnB,CAEIA,aAASpd,GACP2vI,EAAIU,gCAAgCrhJ,KAAKsrB,OAI7Cq1H,EAAIY,eAAevhJ,KAAKsrB,KAAMta,EAChC,CAEIsW,WACF,MAAMoB,EAAM1oB,KAAKsrB,KAEjB,OAAiB,OAAb5C,EAAIpB,KACC,GAGQ,OAAboB,EAAInB,KACCo5H,EAAIa,cAAc94H,EAAIpB,MAGxBq5H,EAAIa,cAAc94H,EAAIpB,MAAQ,IAAMq5H,EAAIc,iBAAiB/4H,EAAInB,KACtE,CAEID,SAAKtW,GACHhR,KAAKsrB,KAAKo2H,kBAIdf,EAAII,cAAc/vI,EAAG,CAAE0X,IAAK1oB,KAAKsrB,KAAM81H,cAAe,QACxD,CAEIp0H,eACF,OAAuB,OAAnBhtB,KAAKsrB,KAAKhE,KACL,GAGFq5H,EAAIa,cAAcxhJ,KAAKsrB,KAAKhE,KACrC,CAEI0F,aAAShc,GACPhR,KAAKsrB,KAAKo2H,kBAIdf,EAAII,cAAc/vI,EAAG,CAAE0X,IAAK1oB,KAAKsrB,KAAM81H,cAAe,YACxD,CAEI75H,WACF,OAAuB,OAAnBvnB,KAAKsrB,KAAK/D,KACL,GAGFo5H,EAAIc,iBAAiBzhJ,KAAKsrB,KAAK/D,KACxC,CAEIA,SAAKvW,GACH2vI,EAAIU,gCAAgCrhJ,KAAKsrB,QAInC,KAANta,EACFhR,KAAKsrB,KAAK/D,KAAO,KAEjBo5H,EAAII,cAAc/vI,EAAG,CAAE0X,IAAK1oB,KAAKsrB,KAAM81H,cAAe,SAE1D,CAEI7zH,eACF,OAAIvtB,KAAKsrB,KAAKo2H,iBACL1hJ,KAAKsrB,KAAKruB,KAAK,GAGM,IAA1B+C,KAAKsrB,KAAKruB,KAAKmJ,OACV,GAGF,IAAMpG,KAAKsrB,KAAKruB,KAAKuH,KAAK,IACnC,CAEI+oB,aAASvc,GACPhR,KAAKsrB,KAAKo2H,mBAId1hJ,KAAKsrB,KAAKruB,KAAO,GACjB0jJ,EAAII,cAAc/vI,EAAG,CAAE0X,IAAK1oB,KAAKsrB,KAAM81H,cAAe,eACxD,CAEIpzH,aACF,OAAwB,OAApBhuB,KAAKsrB,KAAKqlC,OAAsC,KAApB3wD,KAAKsrB,KAAKqlC,MACjC,GAGF,IAAM3wD,KAAKsrB,KAAKqlC,KACzB,CAEI3iC,WAAOhd,GAGT,MAAM0X,EAAM1oB,KAAKsrB,KAEjB,GAAU,KAANta,EAEF,YADA0X,EAAIioC,MAAQ,MAId,MAAMjrD,EAAiB,MAATsL,EAAE,GAAaA,EAAEgC,UAAU,GAAKhC,EAC9C0X,EAAIioC,MAAQ,GACZgwF,EAAII,cAAcr7I,EAAO,CAAEgjB,MAAK04H,cAAe,SACjD,CAEI5tI,WACF,OAA2B,OAAvBxT,KAAKsrB,KAAKq2H,UAA4C,KAAvB3hJ,KAAKsrB,KAAKq2H,SACpC,GAGF,IAAM3hJ,KAAKsrB,KAAKq2H,QACzB,CAEInuI,SAAKxC,GACP,GAAU,KAANA,EAEF,YADAhR,KAAKsrB,KAAKq2H,SAAW,MAIvB,MAAMj8I,EAAiB,MAATsL,EAAE,GAAaA,EAAEgC,UAAU,GAAKhC,EAC9ChR,KAAKsrB,KAAKq2H,SAAW,GACrBhB,EAAII,cAAcr7I,EAAO,CAAEgjB,IAAK1oB,KAAKsrB,KAAM81H,cAAe,YAC5D,CAEAQ,SACE,OAAO5hJ,KAAKmtB,IACd,gCCpMF,MAAMyyH,EAAc,EAAQ,MACtBjiJ,EAAQ,EAAQ,MAChBkkJ,EAAO,EAAQ,MAEf/mD,EAAOn9F,EAAMmkJ,WAEnB,SAAS73H,EAAIvB,GACX,IAAK1oB,MAAQA,KAAK86F,MAAW96F,gBAAgBiqB,GAC3C,MAAM,IAAIze,UAAU,yHAEtB,GAAI9G,UAAU0B,OAAS,EACrB,MAAM,IAAIoF,UAAU,4DAA8D9G,UAAU0B,OAAS,aAEvG,MAAMgB,EAAO,GACb,IAAK,IAAImE,EAAI,EAAGA,EAAI7G,UAAU0B,QAAUmF,EAAI,IAAKA,EAC/CnE,EAAKmE,GAAK7G,UAAU6G,GAEtBnE,EAAK,GAAKw4I,EAAuB,UAAEx4I,EAAK,SACxB3L,IAAZ2L,EAAK,KACTA,EAAK,GAAKw4I,EAAuB,UAAEx4I,EAAK,KAGxClC,EAAOrK,QAAQknJ,MAAM/hJ,KAAMoH,EAC7B,CAEA6iB,EAAIjR,UAAU4oI,OAAS,WACrB,IAAK5hJ,OAASkF,EAAOrK,QAAQmnJ,GAAGhiJ,MAC9B,MAAM,IAAIwL,UAAU,sBAEtB,MAAMpE,EAAO,GACb,IAAK,IAAImE,EAAI,EAAGA,EAAI7G,UAAU0B,QAAUmF,EAAI,IAAKA,EAC/CnE,EAAKmE,GAAK7G,UAAU6G,GAEtB,OAAOvL,KAAK86F,GAAM8mD,OAAOzvI,MAAMnS,KAAK86F,GAAO1zF,EAC7C,EACAzM,OAAOC,eAAeqvB,EAAIjR,UAAW,OAAQ,CAC3CxG,MACE,OAAOxS,KAAK86F,GAAM3tE,IACpB,EACA1a,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAM3tE,KAAOiwD,CACpB,EACA9qE,YAAY,EACZC,cAAc,IAGhB0X,EAAIjR,UAAUjG,SAAW,WACvB,IAAK/S,OAASkF,EAAOrK,QAAQmnJ,GAAGhiJ,MAC9B,MAAM,IAAIwL,UAAU,sBAEtB,OAAOxL,KAAKmtB,IACd,EAEAxyB,OAAOC,eAAeqvB,EAAIjR,UAAW,SAAU,CAC7CxG,MACE,OAAOxS,KAAK86F,GAAM9xE,MACpB,EACA1W,YAAY,EACZC,cAAc,IAGhB5X,OAAOC,eAAeqvB,EAAIjR,UAAW,WAAY,CAC/CxG,MACE,OAAOxS,KAAK86F,GAAM90E,QACpB,EACAvT,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAM90E,SAAWo3D,CACxB,EACA9qE,YAAY,EACZC,cAAc,IAGhB5X,OAAOC,eAAeqvB,EAAIjR,UAAW,WAAY,CAC/CxG,MACE,OAAOxS,KAAK86F,GAAM3sE,QACpB,EACA1b,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAM3sE,SAAWivD,CACxB,EACA9qE,YAAY,EACZC,cAAc,IAGhB5X,OAAOC,eAAeqvB,EAAIjR,UAAW,WAAY,CAC/CxG,MACE,OAAOxS,KAAK86F,GAAM1sE,QACpB,EACA3b,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAM1sE,SAAWgvD,CACxB,EACA9qE,YAAY,EACZC,cAAc,IAGhB5X,OAAOC,eAAeqvB,EAAIjR,UAAW,OAAQ,CAC3CxG,MACE,OAAOxS,KAAK86F,GAAMxzE,IACpB,EACA7U,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAMxzE,KAAO81D,CACpB,EACA9qE,YAAY,EACZC,cAAc,IAGhB5X,OAAOC,eAAeqvB,EAAIjR,UAAW,WAAY,CAC/CxG,MACE,OAAOxS,KAAK86F,GAAM9tE,QACpB,EACAva,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAM9tE,SAAWowD,CACxB,EACA9qE,YAAY,EACZC,cAAc,IAGhB5X,OAAOC,eAAeqvB,EAAIjR,UAAW,OAAQ,CAC3CxG,MACE,OAAOxS,KAAK86F,GAAMvzE,IACpB,EACA9U,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAMvzE,KAAO61D,CACpB,EACA9qE,YAAY,EACZC,cAAc,IAGhB5X,OAAOC,eAAeqvB,EAAIjR,UAAW,WAAY,CAC/CxG,MACE,OAAOxS,KAAK86F,GAAMvtE,QACpB,EACA9a,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAMvtE,SAAW6vD,CACxB,EACA9qE,YAAY,EACZC,cAAc,IAGhB5X,OAAOC,eAAeqvB,EAAIjR,UAAW,SAAU,CAC7CxG,MACE,OAAOxS,KAAK86F,GAAM9sE,MACpB,EACAvb,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAM9sE,OAASovD,CACtB,EACA9qE,YAAY,EACZC,cAAc,IAGhB5X,OAAOC,eAAeqvB,EAAIjR,UAAW,OAAQ,CAC3CxG,MACE,OAAOxS,KAAK86F,GAAMtnF,IACpB,EACAf,IAAI2qE,GACFA,EAAIwiE,EAAuB,UAAExiE,GAC7Bp9E,KAAK86F,GAAMtnF,KAAO4pE,CACpB,EACA9qE,YAAY,EACZC,cAAc,IAIhBrN,EAAOrK,QAAU,CACfmnJ,GAAGvtI,KACQA,GAAOA,EAAIqmF,aAAiB+mD,EAAKjB,eAE5C56I,OAAO66I,EAAiBoB,GACtB,IAAIxtI,EAAM9Z,OAAOqL,OAAOikB,EAAIjR,WAE5B,OADAhZ,KAAK+hJ,MAAMttI,EAAKosI,EAAiBoB,GAC1BxtI,CACT,EACAstI,MAAMttI,EAAKosI,EAAiBoB,GACrBA,IAAaA,EAAc,CAAC,GACjCA,EAAYroI,QAAUnF,EAEtBA,EAAIqmF,GAAQ,IAAI+mD,EAAKjB,eAAeC,EAAiBoB,GACrDxtI,EAAIqmF,GAAMn9F,EAAMukJ,eAAiBztI,CACnC,EACA0tI,UAAWl4H,EACXm4H,OAAQ,CACN/iF,OAAQ,CAAEp1C,IAAKA,GACfo4H,OAAQ,CAAEp4H,IAAKA,kCC9LnBpvB,EAAQovB,IAAM,EAAd,gBACA,qBACA,2BACA,sBACA,uBACA,uBACA,sBACA,yBACA,8CCTA,MAAMi0H,EAAW,EAAQ,MACnBoE,EAAO,EAAQ,MAEfC,EAAiB,CACrBC,IAAK,GACL3sI,KAAM,KACN4sI,OAAQ,GACRr8H,KAAM,GACNyD,MAAO,IACPhF,GAAI,GACJ69H,IAAK,KAGDzvF,EAAU/6C,OAAO,WAEvB,SAASymI,EAAa3pI,GACpB,OAAOkpI,EAASyE,KAAK32E,OAAOh3D,GAAK5O,MACnC,CAEA,SAASw8I,EAAGl9I,EAAO0vC,GACjB,MAAM3mC,EAAI/I,EAAM0vC,GAChB,OAAOmjC,MAAM9pE,QAAKhT,EAAYsjC,OAAOkyE,cAAcxiG,EACrD,CAEA,SAASo0I,EAAap0I,GACpB,OAAOA,GAAK,IAAQA,GAAK,EAC3B,CAEA,SAASq0I,EAAar0I,GACpB,OAAQA,GAAK,IAAQA,GAAK,IAAUA,GAAK,IAAQA,GAAK,GACxD,CAMA,SAASs0I,EAAWt0I,GAClB,OAAOo0I,EAAap0I,IAAOA,GAAK,IAAQA,GAAK,IAAUA,GAAK,IAAQA,GAAK,GAC3E,CAEA,SAASu0I,EAAY/0I,GACnB,MAAkB,MAAXA,GAA2C,QAAzBA,EAAO2B,aAClC,CAWA,SAASqzI,EAA2BlyH,GAClC,OAAyB,IAAlBA,EAAO3qB,QAAgB08I,EAAa/xH,EAAOmzF,YAAY,MAAsB,MAAdnzF,EAAO,IAA4B,MAAdA,EAAO,GACpG,CAcA,SAASmyH,EAAgBvgF,GACvB,YAAkClnE,IAA3B8mJ,EAAe5/E,EACxB,CAEA,SAASwgF,EAAUz6H,GACjB,OAAOw6H,EAAgBx6H,EAAIi6C,OAC7B,CAMA,SAASygF,EAAc30I,GACrB,IAAIi+F,EAAMj+F,EAAEsE,SAAS,IAAI8B,cAKzB,OAJmB,IAAf63F,EAAItmG,SACNsmG,EAAM,IAAMA,GAGP,IAAMA,CACf,CA8BA,SAAS22C,EAAyB50I,GAChC,OAAOA,GAAK,IAAQA,EAAI,GAC1B,CAEA,MAAM60I,EAA4B,IAAI3+I,IAAI,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,MAC5E,SAAS4+I,EAAoB90I,GAC3B,OAAO40I,EAAyB50I,IAAM60I,EAA0Br9H,IAAIxX,EACtE,CAEA,MAAM+0I,EACJ,IAAI7+I,IAAI,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,MAC/C,SAAS8+I,EAAwBh1I,GAC/B,OAAO80I,EAAoB90I,IAAM+0I,EAA8Bv9H,IAAIxX,EACrE,CAEA,SAASi1I,EAAkBj1I,EAAGk1I,GAC5B,MAAMC,EAAO7kH,OAAOkyE,cAAcxiG,GAElC,OAAIk1I,EAAmBl1I,GA9CzB,SAA2BA,GACzB,MAAM0H,EAAM,IAAIa,OAAOvI,GAEvB,IAAIuG,EAAM,GAEV,IAAK,IAAIzJ,EAAI,EAAGA,EAAI4K,EAAI/P,SAAUmF,EAChCyJ,GAAOouI,EAAcjtI,EAAI5K,IAG3B,OAAOyJ,CACT,CAqCW6uI,CAAkBD,GAGpBA,CACT,CAEA,SAASE,EAAgBp+I,GACvB,IAAIq+I,EAAI,GAUR,OARIr+I,EAAMU,QAAU,GAAyB,MAApBV,EAAMq1B,OAAO,IAAgD,MAAlCr1B,EAAMq1B,OAAO,GAAGnrB,eAClElK,EAAQA,EAAMsN,UAAU,GACxB+wI,EAAI,IACKr+I,EAAMU,QAAU,GAAyB,MAApBV,EAAMq1B,OAAO,KAC3Cr1B,EAAQA,EAAMsN,UAAU,GACxB+wI,EAAI,GAGQ,KAAVr+I,EACK,GAGW,KAANq+I,EAAW,SAAkB,KAANA,EAAW,eAAiB,UACvD1wI,KAAK3N,GACNutD,EAGF72D,SAASsJ,EAAOq+I,EACzB,CA6NA,SAASC,EAAUt+I,EAAOu+I,GACxB,GAAiB,MAAbv+I,EAAM,GACR,MAAgC,MAA5BA,EAAMA,EAAMU,OAAS,GAChB6sD,EAlKb,SAAmBvtD,GACjB,MAAM6iB,EAAU,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACtC,IAAI27H,EAAa,EACb5lI,EAAW,KACX6lI,EAAU,EAId,GAAuB,MAFvBz+I,EAAQw4I,EAASyE,KAAK32E,OAAOtmE,IAEnBy+I,GAAiB,CACzB,GAA2B,KAAvBz+I,EAAMy+I,EAAU,GAClB,OAAOlxF,EAGTkxF,GAAW,IACTD,EACF5lI,EAAW4lI,CACb,CAEA,KAAOC,EAAUz+I,EAAMU,QAAQ,CAC7B,GAAmB,IAAf89I,EACF,OAAOjxF,EAGT,GAAuB,KAAnBvtD,EAAMy+I,GAAiB,CACzB,GAAiB,OAAb7lI,EACF,OAAO20C,IAEPkxF,IACAD,EACF5lI,EAAW4lI,EACX,QACF,CAEA,IAAIppJ,EAAQ,EACRsL,EAAS,EAEb,KAAOA,EAAS,GAAK28I,EAAWr9I,EAAMy+I,KACpCrpJ,EAAgB,GAARA,EAAesB,SAASwmJ,EAAGl9I,EAAOy+I,GAAU,MAClDA,IACA/9I,EAGJ,GAAuB,KAAnBV,EAAMy+I,GAAiB,CACzB,GAAe,IAAX/9I,EACF,OAAO6sD,EAKT,GAFAkxF,GAAW/9I,EAEP89I,EAAa,EACf,OAAOjxF,EAGT,IAAImxF,EAAc,EAElB,UAA0B3oJ,IAAnBiK,EAAMy+I,IAAwB,CACnC,IAAIE,EAAY,KAEhB,GAAID,EAAc,EAAG,CACnB,KAAuB,KAAnB1+I,EAAMy+I,IAAmBC,EAAc,GAGzC,OAAOnxF,IAFLkxF,CAIN,CAEA,IAAKtB,EAAan9I,EAAMy+I,IACtB,OAAOlxF,EAGT,KAAO4vF,EAAan9I,EAAMy+I,KAAW,CACnC,MAAM/b,EAAShsI,SAASwmJ,EAAGl9I,EAAOy+I,IAClC,GAAkB,OAAdE,EACFA,EAAYjc,MACP,IAAkB,IAAdic,EACT,OAAOpxF,EAEPoxF,EAAwB,GAAZA,EAAiBjc,CAC/B,CACA,GAAIic,EAAY,IACd,OAAOpxF,IAEPkxF,CACJ,CAEA57H,EAAQ27H,GAAoC,IAAtB37H,EAAQ27H,GAAsBG,IAElDD,EAEkB,IAAhBA,GAAqC,IAAhBA,KACrBF,CAEN,CAEA,GAAoB,IAAhBE,EACF,OAAOnxF,EAGT,KACF,CAAO,GAAuB,KAAnBvtD,EAAMy+I,IAEf,KADEA,OACqB1oJ,IAAnBiK,EAAMy+I,GACR,OAAOlxF,OAEJ,QAAuBx3D,IAAnBiK,EAAMy+I,GACf,OAAOlxF,EAGT1qC,EAAQ27H,GAAcppJ,IACpBopJ,CACJ,CAEA,GAAiB,OAAb5lI,EAAmB,CACrB,IAAIgmI,EAAQJ,EAAa5lI,EAEzB,IADA4lI,EAAa,EACS,IAAfA,GAAoBI,EAAQ,GAAG,CACpC,MAAMC,EAAOh8H,EAAQjK,EAAWgmI,EAAQ,GACxC/7H,EAAQjK,EAAWgmI,EAAQ,GAAK/7H,EAAQ27H,GACxC37H,EAAQ27H,GAAcK,IACpBL,IACAI,CACJ,CACF,MAAO,GAAiB,OAAbhmI,GAAoC,IAAf4lI,EAC9B,OAAOjxF,EAGT,OAAO1qC,CACT,CAsCWi8H,CAAU9+I,EAAMsN,UAAU,EAAGtN,EAAMU,OAAS,IAGrD,IAAK69I,EACH,OAqBJ,SAAyBv+I,GACvB,IA/VqF,IA+VlCA,EA/VrCsoB,OAAO,2DAgWnB,OAAOilC,EAGT,IAAIrtD,EAAS,GACb,MAAM6+I,EAAUvG,EAASyE,KAAK32E,OAAOtmE,GACrC,IAAK,IAAI6F,EAAI,EAAGA,EAAIk5I,EAAQr+I,SAAUmF,EACpC3F,GAAU89I,EAAkBe,EAAQl5I,GAAI83I,GAE1C,OAAOz9I,CACT,CAhCW8+I,CAAgBh/I,GAGzB,MAAMi6I,EAxSR,SAA2B3qI,GACzB,MAAMtP,EAAQ,IAAIsR,OAAOhC,GACnBpP,EAAS,GACf,IAAK,IAAI2F,EAAI,EAAGA,EAAI7F,EAAMU,SAAUmF,EACjB,KAAb7F,EAAM6F,GACR3F,EAAOjE,KAAK+D,EAAM6F,IACI,KAAb7F,EAAM6F,IAAaw3I,EAAWr9I,EAAM6F,EAAI,KAAOw3I,EAAWr9I,EAAM6F,EAAI,KAC7E3F,EAAOjE,KAAKvF,SAASsJ,EAAMgH,MAAMnB,EAAI,EAAGA,EAAI,GAAGwH,WAAY,KAC3DxH,GAAK,GAEL3F,EAAOjE,KAAK+D,EAAM6F,IAGtB,OAAO,IAAIyL,OAAOpR,GAAQmN,UAC5B,CA0RiB4xI,CAAkBj/I,GAC3Bk/I,EAActC,EAAK/C,QAAQI,GAAQ,EAAO2C,EAAKlE,mBAAmBE,iBAAiB,GACzF,GAAoB,OAAhBsG,EACF,OAAO3xF,EAGT,IAtVuF,IAsVpD2xF,EAtVrB52H,OAAO,6DAuVnB,OAAOilC,EAGT,MAAM4xF,EAlPR,SAAmBn/I,GACjB,MAAM4oB,EAAQ5oB,EAAM1J,MAAM,KAO1B,GANgC,KAA5BsyB,EAAMA,EAAMloB,OAAS,IACnBkoB,EAAMloB,OAAS,GACjBkoB,EAAMrjB,MAINqjB,EAAMloB,OAAS,EACjB,OAAOV,EAGT,MAAMo/I,EAAU,GAChB,IAAK,MAAMluH,KAAQtI,EAAO,CACxB,GAAa,KAATsI,EACF,OAAOlxB,EAET,MAAM8H,EAAIs2I,EAAgBltH,GAC1B,GAAIppB,IAAMylD,EACR,OAAOvtD,EAGTo/I,EAAQnjJ,KAAK6L,EACf,CAEA,IAAK,IAAIjC,EAAI,EAAGA,EAAIu5I,EAAQ1+I,OAAS,IAAKmF,EACxC,GAAIu5I,EAAQv5I,GAAK,IACf,OAAO0nD,EAGX,GAAI6xF,EAAQA,EAAQ1+I,OAAS,IAAMwF,KAAKiW,IAAI,IAAK,EAAIijI,EAAQ1+I,QAC3D,OAAO6sD,EAGT,IAAI8xF,EAAOD,EAAQ75I,MACf0yB,EAAU,EAEd,IAAK,MAAMnwB,KAAKs3I,EACdC,GAAQv3I,EAAI5B,KAAKiW,IAAI,IAAK,EAAI8b,KAC5BA,EAGJ,OAAOonH,CACT,CAuMmBC,CAAUJ,GAC3B,MAAwB,iBAAbC,GAAyBA,IAAa5xF,EACxC4xF,EAGFD,CACT,CAkDA,SAASpD,EAAcl6H,GACrB,MAAoB,iBAATA,EA9Pb,SAAuBiB,GACrB,IAAI3iB,EAAS,GACT4H,EAAI+a,EAER,IAAK,IAAIhd,EAAI,EAAGA,GAAK,IAAKA,EACxB3F,EAASm5B,OAAOvxB,EAAI,KAAO5H,EACjB,IAAN2F,IACF3F,EAAS,IAAMA,GAEjB4H,EAAI5B,KAAKy3C,MAAM71C,EAAI,KAGrB,OAAO5H,CACT,CAkPWq/I,CAAc39H,GAInBA,aAAgBzhB,MACX,IApHX,SAAuB0iB,GACrB,IAAI3iB,EAAS,GACb,MACM0Y,EAuER,SAAiC1Q,GAC/B,IAAIs3I,EAAS,KACTrlH,EAAS,EACTslH,EAAY,KACZC,EAAU,EAEd,IAAK,IAAI75I,EAAI,EAAGA,EAAIqC,EAAIxH,SAAUmF,EACjB,IAAXqC,EAAIrC,IACF65I,EAAUvlH,IACZqlH,EAASC,EACTtlH,EAASulH,GAGXD,EAAY,KACZC,EAAU,IAEQ,OAAdD,IACFA,EAAY55I,KAEZ65I,GAUN,OALIA,EAAUvlH,IACZqlH,EAASC,EACTtlH,EAASulH,GAGJ,CACLhwG,IAAK8vG,EACL9xI,IAAKysB,EAET,CAzGoBwlH,CAAwB98H,GACf6sB,IAC3B,IAAIkwG,GAAU,EAEd,IAAK,IAAIpB,EAAa,EAAGA,GAAc,IAAKA,EACtCoB,GAAmC,IAAxB/8H,EAAQ27H,KAEZoB,IACTA,GAAU,GAGRhnI,IAAa4lI,GAOjBt+I,GAAU2iB,EAAQ27H,GAAYnxI,SAAS,IAEpB,IAAfmxI,IACFt+I,GAAU,OARVA,GADiC,IAAfs+I,EAAmB,KAAO,IAE5CoB,GAAU,IAWd,OAAO1/I,CACT,CAwFiB2/I,CAAcj+H,GAAQ,IAG9BA,CACT,CAUA,SAASk+H,EAAY98H,GACnB,MAAMzrB,EAAOyrB,EAAIzrB,KAmBnB,IAAwC8zB,EAlBlB,IAAhB9zB,EAAKmJ,SAGU,SAAfsiB,EAAIi6C,QAAqC,IAAhB1lE,EAAKmJ,SAeI2qB,EAf2C9zB,EAAK,GAgB/E,cAAcoW,KAAK0d,KAZ1B9zB,EAAKgO,MACP,CAEA,SAASw6I,EAAoB/8H,GAC3B,MAAwB,KAAjBA,EAAIyF,UAAoC,KAAjBzF,EAAI0F,QACpC,CAUA,SAASs3H,EAAgBhgJ,EAAOlC,EAAMmiJ,EAAkBj9H,EAAK04H,GAU3D,GATAphJ,KAAKmkJ,QAAU,EACfnkJ,KAAK0F,MAAQA,EACb1F,KAAKwD,KAAOA,GAAQ,KACpBxD,KAAK2lJ,iBAAmBA,GAAoB,QAC5C3lJ,KAAKohJ,cAAgBA,EACrBphJ,KAAK0oB,IAAMA,EACX1oB,KAAKizD,SAAU,EACfjzD,KAAK4lJ,YAAa,GAEb5lJ,KAAK0oB,IAAK,CACb1oB,KAAK0oB,IAAM,CACTi6C,OAAQ,GACRx0C,SAAU,GACVC,SAAU,GACV9G,KAAM,KACNC,KAAM,KACNtqB,KAAM,GACN0zD,MAAO,KACPgxF,SAAU,KAEVD,kBAAkB,GAGpB,MAAMh6H,EAxDV,SAA0BgB,GACxB,OAAOA,EAAI9Z,QAAQ,mDAAoD,GACzE,CAsDgBi3I,CAAiB7lJ,KAAK0F,OAC9BgiB,IAAQ1nB,KAAK0F,QACf1F,KAAK4lJ,YAAa,GAEpB5lJ,KAAK0F,MAAQgiB,CACf,CAEA,MAAMA,EA3DR,SAA2BgB,GACzB,OAAOA,EAAI9Z,QAAQ,wBAAyB,GAC9C,CAyDck3I,CAAkB9lJ,KAAK0F,OAenC,IAdIgiB,IAAQ1nB,KAAK0F,QACf1F,KAAK4lJ,YAAa,GAEpB5lJ,KAAK0F,MAAQgiB,EAEb1nB,KAAKqqC,MAAQ+2G,GAAiB,eAE9BphJ,KAAKiO,OAAS,GACdjO,KAAK+lJ,QAAS,EACd/lJ,KAAKgmJ,SAAU,EACfhmJ,KAAKimJ,uBAAwB,EAE7BjmJ,KAAK0F,MAAQw4I,EAASyE,KAAK32E,OAAOhsE,KAAK0F,OAEhC1F,KAAKmkJ,SAAWnkJ,KAAK0F,MAAMU,SAAUpG,KAAKmkJ,QAAS,CACxD,MAAM11I,EAAIzO,KAAK0F,MAAM1F,KAAKmkJ,SACpBP,EAAOrrE,MAAM9pE,QAAKhT,EAAYsjC,OAAOkyE,cAAcxiG,GAGnDy3I,EAAMlmJ,KAAK,SAAWA,KAAKqqC,OAAO57B,EAAGm1I,GAC3C,IAAKsC,EACH,MACK,GAAIA,IAAQjzF,EAAS,CAC1BjzD,KAAKizD,SAAU,EACf,KACF,CACF,CACF,CAEAyyF,EAAgB1sI,UAAU,sBAAwB,SAA0BvK,EAAGm1I,GAC7E,GAAId,EAAar0I,GACfzO,KAAKiO,QAAU21I,EAAKh0I,cACpB5P,KAAKqqC,MAAQ,aACR,IAAKrqC,KAAKohJ,cAKf,OADAphJ,KAAK4lJ,YAAa,EACX3yF,EAJPjzD,KAAKqqC,MAAQ,cACXrqC,KAAKmkJ,OAIT,CAEA,OAAO,CACT,EAEAuB,EAAgB1sI,UAAU,gBAAkB,SAAqBvK,EAAGm1I,GAClE,GA1iBF,SAA6Bn1I,GAC3B,OAAOq0I,EAAar0I,IAAMo0I,EAAap0I,EACzC,CAwiBM03I,CAAoB13I,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,EACpDzO,KAAKiO,QAAU21I,EAAKh0I,mBACf,GAAU,KAANnB,EAAU,CACnB,GAAIzO,KAAKohJ,cAAe,CACtB,GAAI+B,EAAUnjJ,KAAK0oB,OAASw6H,EAAgBljJ,KAAKiO,QAC/C,OAAO,EAGT,IAAKk1I,EAAUnjJ,KAAK0oB,MAAQw6H,EAAgBljJ,KAAKiO,QAC/C,OAAO,EAGT,IAAKw3I,EAAoBzlJ,KAAK0oB,MAA0B,OAAlB1oB,KAAK0oB,IAAInB,OAAkC,SAAhBvnB,KAAKiO,OACpE,OAAO,EAGT,GAAwB,SAApBjO,KAAK0oB,IAAIi6C,SAAwC,KAAlB3iE,KAAK0oB,IAAIpB,MAAiC,OAAlBtnB,KAAK0oB,IAAIpB,MAClE,OAAO,CAEX,CAGA,GAFAtnB,KAAK0oB,IAAIi6C,OAAS3iE,KAAKiO,OACvBjO,KAAKiO,OAAS,GACVjO,KAAKohJ,cACP,OAAO,EAEe,SAApBphJ,KAAK0oB,IAAIi6C,QAC0B,KAAjC3iE,KAAK0F,MAAM1F,KAAKmkJ,QAAU,IAA8C,KAAjCnkJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,KACnEnkJ,KAAK4lJ,YAAa,GAEpB5lJ,KAAKqqC,MAAQ,QACJ84G,EAAUnjJ,KAAK0oB,MAAsB,OAAd1oB,KAAKwD,MAAiBxD,KAAKwD,KAAKm/D,SAAW3iE,KAAK0oB,IAAIi6C,OACpF3iE,KAAKqqC,MAAQ,gCACJ84G,EAAUnjJ,KAAK0oB,KACxB1oB,KAAKqqC,MAAQ,4BAC6B,KAAjCrqC,KAAK0F,MAAM1F,KAAKmkJ,QAAU,IACnCnkJ,KAAKqqC,MAAQ,sBACXrqC,KAAKmkJ,UAEPnkJ,KAAK0oB,IAAIg5H,kBAAmB,EAC5B1hJ,KAAK0oB,IAAIzrB,KAAK0E,KAAK,IACnB3B,KAAKqqC,MAAQ,4BAEjB,KAAO,IAAKrqC,KAAKohJ,cAMf,OADAphJ,KAAK4lJ,YAAa,EACX3yF,EALPjzD,KAAKiO,OAAS,GACdjO,KAAKqqC,MAAQ,YACbrqC,KAAKmkJ,SAAW,CAIlB,CAEA,OAAO,CACT,EAEAuB,EAAgB1sI,UAAU,mBAAqB,SAAuBvK,GACpE,OAAkB,OAAdzO,KAAKwD,MAAkBxD,KAAKwD,KAAKk+I,kBAA0B,KAANjzI,EAChDwkD,GACEjzD,KAAKwD,KAAKk+I,kBAA0B,KAANjzI,GACvCzO,KAAK0oB,IAAIi6C,OAAS3iE,KAAKwD,KAAKm/D,OAC5B3iE,KAAK0oB,IAAIzrB,KAAO+C,KAAKwD,KAAKvG,KAAKyP,QAC/B1M,KAAK0oB,IAAIioC,MAAQ3wD,KAAKwD,KAAKmtD,MAC3B3wD,KAAK0oB,IAAIi5H,SAAW,GACpB3hJ,KAAK0oB,IAAIg5H,kBAAmB,EAC5B1hJ,KAAKqqC,MAAQ,YACiB,SAArBrqC,KAAKwD,KAAKm/D,QACnB3iE,KAAKqqC,MAAQ,SACXrqC,KAAKmkJ,UAEPnkJ,KAAKqqC,MAAQ,aACXrqC,KAAKmkJ,UAGF,EACT,EAEAuB,EAAgB1sI,UAAU,uCAAyC,SAAyCvK,GAU1G,OATU,KAANA,GAA6C,KAAjCzO,KAAK0F,MAAM1F,KAAKmkJ,QAAU,IACxCnkJ,KAAKqqC,MAAQ,qCACXrqC,KAAKmkJ,UAEPnkJ,KAAK4lJ,YAAa,EAClB5lJ,KAAKqqC,MAAQ,aACXrqC,KAAKmkJ,UAGF,CACT,EAEAuB,EAAgB1sI,UAAU,2BAA6B,SAA8BvK,GAQnF,OAPU,KAANA,EACFzO,KAAKqqC,MAAQ,aAEbrqC,KAAKqqC,MAAQ,SACXrqC,KAAKmkJ,UAGF,CACT,EAEAuB,EAAgB1sI,UAAU,kBAAoB,SAAuBvK,GA0CnE,OAzCAzO,KAAK0oB,IAAIi6C,OAAS3iE,KAAKwD,KAAKm/D,OACxB4V,MAAM9pE,IACRzO,KAAK0oB,IAAIyF,SAAWnuB,KAAKwD,KAAK2qB,SAC9BnuB,KAAK0oB,IAAI0F,SAAWpuB,KAAKwD,KAAK4qB,SAC9BpuB,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,KAC1BtnB,KAAK0oB,IAAInB,KAAOvnB,KAAKwD,KAAK+jB,KAC1BvnB,KAAK0oB,IAAIzrB,KAAO+C,KAAKwD,KAAKvG,KAAKyP,QAC/B1M,KAAK0oB,IAAIioC,MAAQ3wD,KAAKwD,KAAKmtD,OACZ,KAANliD,EACTzO,KAAKqqC,MAAQ,iBACE,KAAN57B,GACTzO,KAAK0oB,IAAIyF,SAAWnuB,KAAKwD,KAAK2qB,SAC9BnuB,KAAK0oB,IAAI0F,SAAWpuB,KAAKwD,KAAK4qB,SAC9BpuB,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,KAC1BtnB,KAAK0oB,IAAInB,KAAOvnB,KAAKwD,KAAK+jB,KAC1BvnB,KAAK0oB,IAAIzrB,KAAO+C,KAAKwD,KAAKvG,KAAKyP,QAC/B1M,KAAK0oB,IAAIioC,MAAQ,GACjB3wD,KAAKqqC,MAAQ,SACE,KAAN57B,GACTzO,KAAK0oB,IAAIyF,SAAWnuB,KAAKwD,KAAK2qB,SAC9BnuB,KAAK0oB,IAAI0F,SAAWpuB,KAAKwD,KAAK4qB,SAC9BpuB,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,KAC1BtnB,KAAK0oB,IAAInB,KAAOvnB,KAAKwD,KAAK+jB,KAC1BvnB,KAAK0oB,IAAIzrB,KAAO+C,KAAKwD,KAAKvG,KAAKyP,QAC/B1M,KAAK0oB,IAAIioC,MAAQ3wD,KAAKwD,KAAKmtD,MAC3B3wD,KAAK0oB,IAAIi5H,SAAW,GACpB3hJ,KAAKqqC,MAAQ,YACJ84G,EAAUnjJ,KAAK0oB,MAAc,KAANja,GAChCzO,KAAK4lJ,YAAa,EAClB5lJ,KAAKqqC,MAAQ,mBAEbrqC,KAAK0oB,IAAIyF,SAAWnuB,KAAKwD,KAAK2qB,SAC9BnuB,KAAK0oB,IAAI0F,SAAWpuB,KAAKwD,KAAK4qB,SAC9BpuB,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,KAC1BtnB,KAAK0oB,IAAInB,KAAOvnB,KAAKwD,KAAK+jB,KAC1BvnB,KAAK0oB,IAAIzrB,KAAO+C,KAAKwD,KAAKvG,KAAKyP,MAAM,EAAG1M,KAAKwD,KAAKvG,KAAKmJ,OAAS,GAEhEpG,KAAKqqC,MAAQ,SACXrqC,KAAKmkJ,UAGF,CACT,EAEAuB,EAAgB1sI,UAAU,wBAA0B,SAA4BvK,GAiB9E,OAhBI00I,EAAUnjJ,KAAK0oB,MAAe,KAANja,GAAkB,KAANA,EAKvB,KAANA,EACTzO,KAAKqqC,MAAQ,aAEbrqC,KAAK0oB,IAAIyF,SAAWnuB,KAAKwD,KAAK2qB,SAC9BnuB,KAAK0oB,IAAI0F,SAAWpuB,KAAKwD,KAAK4qB,SAC9BpuB,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,KAC1BtnB,KAAK0oB,IAAInB,KAAOvnB,KAAKwD,KAAK+jB,KAC1BvnB,KAAKqqC,MAAQ,SACXrqC,KAAKmkJ,UAZG,KAAN11I,IACFzO,KAAK4lJ,YAAa,GAEpB5lJ,KAAKqqC,MAAQ,qCAYR,CACT,EAEAq7G,EAAgB1sI,UAAU,mCAAqC,SAAsCvK,GAUnG,OATU,KAANA,GAA6C,KAAjCzO,KAAK0F,MAAM1F,KAAKmkJ,QAAU,IACxCnkJ,KAAKqqC,MAAQ,qCACXrqC,KAAKmkJ,UAEPnkJ,KAAK4lJ,YAAa,EAClB5lJ,KAAKqqC,MAAQ,qCACXrqC,KAAKmkJ,UAGF,CACT,EAEAuB,EAAgB1sI,UAAU,0CAA4C,SAA4CvK,GAQhH,OAPU,KAANA,GAAkB,KAANA,GACdzO,KAAKqqC,MAAQ,cACXrqC,KAAKmkJ,SAEPnkJ,KAAK4lJ,YAAa,GAGb,CACT,EAEAF,EAAgB1sI,UAAU,mBAAqB,SAAwBvK,EAAGm1I,GACxE,GAAU,KAANn1I,EAAU,CACZzO,KAAK4lJ,YAAa,EACd5lJ,KAAK+lJ,SACP/lJ,KAAKiO,OAAS,MAAQjO,KAAKiO,QAE7BjO,KAAK+lJ,QAAS,EAGd,MAAM3yI,EAAMurI,EAAa3+I,KAAKiO,QAC9B,IAAK,IAAIk2I,EAAU,EAAGA,EAAU/wI,IAAO+wI,EAAS,CAC9C,MAAMv+B,EAAY5lH,KAAKiO,OAAOi2G,YAAYigC,GAE1C,GAAkB,KAAdv+B,IAAqB5lH,KAAKimJ,sBAAuB,CACnDjmJ,KAAKimJ,uBAAwB,EAC7B,QACF,CACA,MAAMG,EAAoB1C,EAAkB99B,EAAW69B,GACnDzjJ,KAAKimJ,sBACPjmJ,KAAK0oB,IAAI0F,UAAYg4H,EAErBpmJ,KAAK0oB,IAAIyF,UAAYi4H,CAEzB,CACApmJ,KAAKiO,OAAS,EAChB,MAAO,GAAIsqE,MAAM9pE,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,GACnC00I,EAAUnjJ,KAAK0oB,MAAc,KAANja,EAAW,CAC5C,GAAIzO,KAAK+lJ,QAA0B,KAAhB/lJ,KAAKiO,OAEtB,OADAjO,KAAK4lJ,YAAa,EACX3yF,EAETjzD,KAAKmkJ,SAAWxF,EAAa3+I,KAAKiO,QAAU,EAC5CjO,KAAKiO,OAAS,GACdjO,KAAKqqC,MAAQ,MACf,MACErqC,KAAKiO,QAAU21I,EAGjB,OAAO,CACT,EAEA8B,EAAgB1sI,UAAU,kBAC1B0sI,EAAgB1sI,UAAU,cAAgB,SAAuBvK,EAAGm1I,GAClE,GAAI5jJ,KAAKohJ,eAAqC,SAApBphJ,KAAK0oB,IAAIi6C,SAC/B3iE,KAAKmkJ,QACPnkJ,KAAKqqC,MAAQ,iBACR,GAAU,KAAN57B,GAAazO,KAAKgmJ,QAiBtB,GAAIztE,MAAM9pE,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,GACnC00I,EAAUnjJ,KAAK0oB,MAAc,KAANja,EAAW,CAE5C,KADEzO,KAAKmkJ,QACHhB,EAAUnjJ,KAAK0oB,MAAwB,KAAhB1oB,KAAKiO,OAE9B,OADAjO,KAAK4lJ,YAAa,EACX3yF,EACF,GAAIjzD,KAAKohJ,eAAiC,KAAhBphJ,KAAKiO,SAC1Bw3I,EAAoBzlJ,KAAK0oB,MAA0B,OAAlB1oB,KAAK0oB,IAAInB,MAEpD,OADAvnB,KAAK4lJ,YAAa,GACX,EAGT,MAAMt+H,EAAO08H,EAAUhkJ,KAAKiO,OAAQk1I,EAAUnjJ,KAAK0oB,MACnD,GAAIpB,IAAS2rC,EACX,OAAOA,EAMT,GAHAjzD,KAAK0oB,IAAIpB,KAAOA,EAChBtnB,KAAKiO,OAAS,GACdjO,KAAKqqC,MAAQ,aACTrqC,KAAKohJ,cACP,OAAO,CAEX,MACY,KAAN3yI,EACFzO,KAAKgmJ,SAAU,EACA,KAANv3I,IACTzO,KAAKgmJ,SAAU,GAEjBhmJ,KAAKiO,QAAU21I,MA9CqB,CACpC,GAAoB,KAAhB5jJ,KAAKiO,OAEP,OADAjO,KAAK4lJ,YAAa,EACX3yF,EAGT,MAAM3rC,EAAO08H,EAAUhkJ,KAAKiO,OAAQk1I,EAAUnjJ,KAAK0oB,MACnD,GAAIpB,IAAS2rC,EACX,OAAOA,EAMT,GAHAjzD,KAAK0oB,IAAIpB,KAAOA,EAChBtnB,KAAKiO,OAAS,GACdjO,KAAKqqC,MAAQ,OACc,aAAvBrqC,KAAKohJ,cACP,OAAO,CAEX,CAgCA,OAAO,CACT,EAEAsE,EAAgB1sI,UAAU,cAAgB,SAAmBvK,EAAGm1I,GAC9D,GAAIf,EAAap0I,GACfzO,KAAKiO,QAAU21I,MACV,MAAIrrE,MAAM9pE,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,GACnC00I,EAAUnjJ,KAAK0oB,MAAc,KAANja,GACxBzO,KAAKohJ,eAiBd,OADAphJ,KAAK4lJ,YAAa,EACX3yF,EAhBP,GAAoB,KAAhBjzD,KAAKiO,OAAe,CACtB,MAAMsZ,EAAOnrB,SAAS4D,KAAKiO,QAC3B,GAAIsZ,EAAO3b,KAAKiW,IAAI,EAAG,IAAM,EAE3B,OADA7hB,KAAK4lJ,YAAa,EACX3yF,EAETjzD,KAAK0oB,IAAInB,KAAOA,KAvyBDo7C,EAuyBsB3iE,KAAK0oB,IAAIi6C,OAtyB3C4/E,EAAe5/E,IAsyBsC,KAAOp7C,EAC/DvnB,KAAKiO,OAAS,EAChB,CACA,GAAIjO,KAAKohJ,cACP,OAAO,EAETphJ,KAAKqqC,MAAQ,eACXrqC,KAAKmkJ,OAIT,CAlzBF,IAAqBxhF,EAozBnB,OAAO,CACT,EAEA,MAAM0jF,EAA0B,IAAI1hJ,IAAI,CAAC,GAAI,GAAI,GAAI,KAErD+gJ,EAAgB1sI,UAAU,cAAgB,SAAmBvK,GAr1B7D,IAAwC63I,EAAKC,EAi4B3C,OA3CAvmJ,KAAK0oB,IAAIi6C,OAAS,OAER,KAANl0D,GAAkB,KAANA,GACJ,KAANA,IACFzO,KAAK4lJ,YAAa,GAEpB5lJ,KAAKqqC,MAAQ,cACU,OAAdrqC,KAAKwD,MAAsC,SAArBxD,KAAKwD,KAAKm/D,OACrC4V,MAAM9pE,IACRzO,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,KAC1BtnB,KAAK0oB,IAAIzrB,KAAO+C,KAAKwD,KAAKvG,KAAKyP,QAC/B1M,KAAK0oB,IAAIioC,MAAQ3wD,KAAKwD,KAAKmtD,OACZ,KAANliD,GACTzO,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,KAC1BtnB,KAAK0oB,IAAIzrB,KAAO+C,KAAKwD,KAAKvG,KAAKyP,QAC/B1M,KAAK0oB,IAAIioC,MAAQ,GACjB3wD,KAAKqqC,MAAQ,SACE,KAAN57B,GACTzO,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,KAC1BtnB,KAAK0oB,IAAIzrB,KAAO+C,KAAKwD,KAAKvG,KAAKyP,QAC/B1M,KAAK0oB,IAAIioC,MAAQ3wD,KAAKwD,KAAKmtD,MAC3B3wD,KAAK0oB,IAAIi5H,SAAW,GACpB3hJ,KAAKqqC,MAAQ,aAETrqC,KAAK0F,MAAMU,OAASpG,KAAKmkJ,QAAU,GAAM,IA92BXmC,EA+2BE73I,EA/2BG83I,EA+2BAvmJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,IA92B9DrB,EAAawD,IAAiB,KAARC,GAAsB,MAARA,IA+2BlCvmJ,KAAK0F,MAAMU,OAASpG,KAAKmkJ,QAAU,GAAK,IACvCkC,EAAwBpgI,IAAIjmB,KAAK0F,MAAM1F,KAAKmkJ,QAAU,KAC1DnkJ,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,KAC1BtnB,KAAK0oB,IAAIzrB,KAAO+C,KAAKwD,KAAKvG,KAAKyP,QAC/B84I,EAAYxlJ,KAAK0oB,MAEjB1oB,KAAK4lJ,YAAa,EAGpB5lJ,KAAKqqC,MAAQ,SACXrqC,KAAKmkJ,UAGTnkJ,KAAKqqC,MAAQ,SACXrqC,KAAKmkJ,UAGF,CACT,EAEAuB,EAAgB1sI,UAAU,oBAAsB,SAAwBvK,GA53BxE,IAA8CsiB,EA84B5C,OAjBU,KAANtiB,GAAkB,KAANA,GACJ,KAANA,IACFzO,KAAK4lJ,YAAa,GAEpB5lJ,KAAKqqC,MAAQ,cAEK,OAAdrqC,KAAKwD,MAAsC,SAArBxD,KAAKwD,KAAKm/D,SAl4Bb,KADmB5xC,EAo4BC/wB,KAAKwD,KAAKvG,KAAK,IAn4B9CmJ,QAAgB08I,EAAa/xH,EAAOmzF,YAAY,KAAqB,MAAdnzF,EAAO,GAo4BtE/wB,KAAK0oB,IAAIzrB,KAAK0E,KAAK3B,KAAKwD,KAAKvG,KAAK,IAElC+C,KAAK0oB,IAAIpB,KAAOtnB,KAAKwD,KAAK8jB,MAG9BtnB,KAAKqqC,MAAQ,SACXrqC,KAAKmkJ,UAGF,CACT,EAEAuB,EAAgB1sI,UAAU,mBAAqB,SAAuBvK,EAAGm1I,GACvE,GAAIrrE,MAAM9pE,IAAY,KAANA,GAAkB,KAANA,GAAkB,KAANA,GAAkB,KAANA,EAElD,KADEzO,KAAKmkJ,SACFnkJ,KAAKohJ,eAAiB6B,EAA2BjjJ,KAAKiO,QACzDjO,KAAK4lJ,YAAa,EAClB5lJ,KAAKqqC,MAAQ,YACR,GAAoB,KAAhBrqC,KAAKiO,OAAe,CAE7B,GADAjO,KAAK0oB,IAAIpB,KAAO,GACZtnB,KAAKohJ,cACP,OAAO,EAETphJ,KAAKqqC,MAAQ,YACf,KAAO,CACL,IAAI/iB,EAAO08H,EAAUhkJ,KAAKiO,OAAQk1I,EAAUnjJ,KAAK0oB,MACjD,GAAIpB,IAAS2rC,EACX,OAAOA,EAOT,GALa,cAAT3rC,IACFA,EAAO,IAETtnB,KAAK0oB,IAAIpB,KAAOA,EAEZtnB,KAAKohJ,cACP,OAAO,EAGTphJ,KAAKiO,OAAS,GACdjO,KAAKqqC,MAAQ,YACf,MAEArqC,KAAKiO,QAAU21I,EAGjB,OAAO,CACT,EAEA8B,EAAgB1sI,UAAU,oBAAsB,SAAwBvK,GAuBtE,OAtBI00I,EAAUnjJ,KAAK0oB,MACP,KAANja,IACFzO,KAAK4lJ,YAAa,GAEpB5lJ,KAAKqqC,MAAQ,OAEH,KAAN57B,GAAkB,KAANA,KACZzO,KAAKmkJ,SAECnkJ,KAAKohJ,eAAuB,KAAN3yI,EAGtBzO,KAAKohJ,eAAuB,KAAN3yI,OAGjBhT,IAANgT,IACTzO,KAAKqqC,MAAQ,OACH,KAAN57B,KACAzO,KAAKmkJ,UALTnkJ,KAAK0oB,IAAIi5H,SAAW,GACpB3hJ,KAAKqqC,MAAQ,aAJbrqC,KAAK0oB,IAAIioC,MAAQ,GACjB3wD,KAAKqqC,MAAQ,UAWR,CACT,EAEAq7G,EAAgB1sI,UAAU,cAAgB,SAAmBvK,GAC3D,GAAI8pE,MAAM9pE,IAAY,KAANA,GAAa00I,EAAUnjJ,KAAK0oB,MAAc,KAANja,IAC9CzO,KAAKohJ,gBAAwB,KAAN3yI,GAAkB,KAANA,GAAY,CAwBnD,GAvBI00I,EAAUnjJ,KAAK0oB,MAAc,KAANja,IACzBzO,KAAK4lJ,YAAa,GA99BJ,QADlB33I,GADmBA,EAm+BDjO,KAAKiO,QAl+BP2B,gBACqB,SAAX3B,GAAgC,SAAXA,GAAgC,WAAXA,GAk+BhEu3I,EAAYxlJ,KAAK0oB,KACP,KAANja,GAAc00I,EAAUnjJ,KAAK0oB,MAAc,KAANja,GACvCzO,KAAK0oB,IAAIzrB,KAAK0E,KAAK,MAEZqhJ,EAAYhjJ,KAAKiO,SAAiB,KAANQ,GAC1B00I,EAAUnjJ,KAAK0oB,MAAc,KAANja,EAExBu0I,EAAYhjJ,KAAKiO,UACH,SAApBjO,KAAK0oB,IAAIi6C,QAA8C,IAAzB3iE,KAAK0oB,IAAIzrB,KAAKmJ,QAAgB68I,EAA2BjjJ,KAAKiO,UACxE,KAAlBjO,KAAK0oB,IAAIpB,MAAiC,OAAlBtnB,KAAK0oB,IAAIpB,OACnCtnB,KAAK4lJ,YAAa,EAClB5lJ,KAAK0oB,IAAIpB,KAAO,IAElBtnB,KAAKiO,OAASjO,KAAKiO,OAAO,GAAK,KAEjCjO,KAAK0oB,IAAIzrB,KAAK0E,KAAK3B,KAAKiO,SATxBjO,KAAK0oB,IAAIzrB,KAAK0E,KAAK,IAWrB3B,KAAKiO,OAAS,GACU,SAApBjO,KAAK0oB,IAAIi6C,cAA4BlnE,IAANgT,GAAyB,KAANA,GAAkB,KAANA,GAChE,KAAOzO,KAAK0oB,IAAIzrB,KAAKmJ,OAAS,GAA0B,KAArBpG,KAAK0oB,IAAIzrB,KAAK,IAC/C+C,KAAK4lJ,YAAa,EAClB5lJ,KAAK0oB,IAAIzrB,KAAKoP,QAGR,KAANoC,IACFzO,KAAK0oB,IAAIioC,MAAQ,GACjB3wD,KAAKqqC,MAAQ,SAEL,KAAN57B,IACFzO,KAAK0oB,IAAIi5H,SAAW,GACpB3hJ,KAAKqqC,MAAQ,WAEjB,MAGY,KAAN57B,GACAs0I,EAAW/iJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,KACpCpB,EAAW/iJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,MACxCnkJ,KAAK4lJ,YAAa,GAGpB5lJ,KAAKiO,QAAUy1I,EAAkBj1I,EAAG80I,GA7gCxC,IAAqBt1I,EAghCnB,OAAO,CACT,EAEAy3I,EAAgB1sI,UAAU,mCAAqC,SAAmCvK,GAwBhG,OAvBU,KAANA,GACFzO,KAAK0oB,IAAIioC,MAAQ,GACjB3wD,KAAKqqC,MAAQ,SACE,KAAN57B,GACTzO,KAAK0oB,IAAIi5H,SAAW,GACpB3hJ,KAAKqqC,MAAQ,aAGRkuC,MAAM9pE,IAAY,KAANA,IACfzO,KAAK4lJ,YAAa,GAGV,KAANn3I,GACEs0I,EAAW/iJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,KACrCpB,EAAW/iJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,MACzCnkJ,KAAK4lJ,YAAa,GAGfrtE,MAAM9pE,KACTzO,KAAK0oB,IAAIzrB,KAAK,GAAK+C,KAAK0oB,IAAIzrB,KAAK,GAAKymJ,EAAkBj1I,EAAG40I,MAIxD,CACT,EAEAqC,EAAgB1sI,UAAU,eAAiB,SAAoBvK,EAAGm1I,GAChE,GAAIrrE,MAAM9pE,KAAQzO,KAAKohJ,eAAuB,KAAN3yI,EAAW,CAC5C00I,EAAUnjJ,KAAK0oB,MAA4B,OAApB1oB,KAAK0oB,IAAIi6C,QAAuC,QAApB3iE,KAAK0oB,IAAIi6C,SAC/D3iE,KAAK2lJ,iBAAmB,SAG1B,MAAM13I,EAAS,IAAI+I,OAAOhX,KAAKiO,QAC/B,IAAK,IAAI1C,EAAI,EAAGA,EAAI0C,EAAO7H,SAAUmF,EAC/B0C,EAAO1C,GAAK,IAAQ0C,EAAO1C,GAAK,KAAsB,KAAd0C,EAAO1C,IAA6B,KAAd0C,EAAO1C,IACvD,KAAd0C,EAAO1C,IAA6B,KAAd0C,EAAO1C,GAC/BvL,KAAK0oB,IAAIioC,OAASyyF,EAAcn1I,EAAO1C,IAEvCvL,KAAK0oB,IAAIioC,OAAS5xB,OAAOkyE,cAAchjG,EAAO1C,IAIlDvL,KAAKiO,OAAS,GACJ,KAANQ,IACFzO,KAAK0oB,IAAIi5H,SAAW,GACpB3hJ,KAAKqqC,MAAQ,WAEjB,MAEY,KAAN57B,GACAs0I,EAAW/iJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,KACpCpB,EAAW/iJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,MACxCnkJ,KAAK4lJ,YAAa,GAGpB5lJ,KAAKiO,QAAU21I,EAGjB,OAAO,CACT,EAEA8B,EAAgB1sI,UAAU,kBAAoB,SAAuBvK,GAenE,OAdI8pE,MAAM9pE,KACO,IAANA,EACTzO,KAAK4lJ,YAAa,GAGR,KAANn3I,GACAs0I,EAAW/iJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,KACpCpB,EAAW/iJ,KAAK0F,MAAM1F,KAAKmkJ,QAAU,MACxCnkJ,KAAK4lJ,YAAa,GAGpB5lJ,KAAK0oB,IAAIi5H,UAAY+B,EAAkBj1I,EAAG40I,MAGrC,CACT,EAsDAn+I,EAAOrK,QAAQqmJ,aApDf,SAAsBx4H,EAAK89H,GACzB,IAAI5gJ,EAAS8iB,EAAIi6C,OAAS,IAqB1B,GApBiB,OAAbj6C,EAAIpB,MACN1hB,GAAU,KAEW,KAAjB8iB,EAAIyF,UAAoC,KAAjBzF,EAAI0F,WAC7BxoB,GAAU8iB,EAAIyF,SACO,KAAjBzF,EAAI0F,WACNxoB,GAAU,IAAM8iB,EAAI0F,UAEtBxoB,GAAU,KAGZA,GAAU47I,EAAc94H,EAAIpB,MAEX,OAAboB,EAAInB,OACN3hB,GAAU,IAAM8iB,EAAInB,OAEA,OAAbmB,EAAIpB,MAAgC,SAAfoB,EAAIi6C,SAClC/8D,GAAU,MAGR8iB,EAAIg5H,iBACN97I,GAAU8iB,EAAIzrB,KAAK,QAEnB,IAAK,MAAM8zB,KAAUrI,EAAIzrB,KACvB2I,GAAU,IAAMmrB,EAYpB,OARkB,OAAdrI,EAAIioC,QACN/qD,GAAU,IAAM8iB,EAAIioC,OAGjB61F,GAAoC,OAAjB99H,EAAIi5H,WAC1B/7I,GAAU,IAAM8iB,EAAIi5H,UAGf/7I,CACT,EAeAV,EAAOrK,QAAQsmJ,mBAAqB,SAAUz4H,GAE5C,OAAQA,EAAIi6C,QACV,IAAK,OACH,IACE,OAAOz9D,EAAOrK,QAAQsmJ,mBAAmBj8I,EAAOrK,QAAQ4rJ,SAAS/9H,EAAIzrB,KAAK,IAC5E,CAAE,MAAOkR,GAEP,MAAO,MACT,CACF,IAAK,MACL,IAAK,SACL,IAAK,OACL,IAAK,QACL,IAAK,KACL,IAAK,MACH,OA7BN,SAAyBggC,GACvB,IAAI3uC,EAAS2uC,EAAMw0B,OAAS,MAO5B,OANAnjE,GAAUgiJ,EAAcrzG,EAAM7mB,MAEX,OAAf6mB,EAAM5mB,OACR/nB,GAAU,IAAM2uC,EAAM5mB,MAGjB/nB,CACT,CAoBaknJ,CAAgB,CACrB/jF,OAAQj6C,EAAIi6C,OACZr7C,KAAMoB,EAAIpB,KACVC,KAAMmB,EAAInB,OAEd,IAAK,OAEH,MAAO,UACT,QAEE,MAAO,OAEb,EAEAriB,EAAOrK,QAAQkmJ,cAAgB,SAAUr7I,EAAOC,QAC9BlK,IAAZkK,IACFA,EAAU,CAAC,GAGb,MAAMg7I,EAAM,IAAI+E,EAAgBhgJ,EAAOC,EAAQs7I,QAASt7I,EAAQggJ,iBAAkBhgJ,EAAQ+iB,IAAK/iB,EAAQy7I,eACvG,OAAIT,EAAI1tF,QACC,UAGF0tF,EAAIj4H,GACb,EAEAxjB,EAAOrK,QAAQymJ,eAAiB,SAAU54H,EAAKyF,GAC7CzF,EAAIyF,SAAW,GACf,MAAMs2H,EAAUvG,EAASyE,KAAK32E,OAAO79C,GACrC,IAAK,IAAI5iB,EAAI,EAAGA,EAAIk5I,EAAQr+I,SAAUmF,EACpCmd,EAAIyF,UAAYu1H,EAAkBe,EAAQl5I,GAAIk4I,EAElD,EAEAv+I,EAAOrK,QAAQ0mJ,eAAiB,SAAU74H,EAAK0F,GAC7C1F,EAAI0F,SAAW,GACf,MAAMq2H,EAAUvG,EAASyE,KAAK32E,OAAO59C,GACrC,IAAK,IAAI7iB,EAAI,EAAGA,EAAIk5I,EAAQr+I,SAAUmF,EACpCmd,EAAI0F,UAAYs1H,EAAkBe,EAAQl5I,GAAIk4I,EAElD,EAEAv+I,EAAOrK,QAAQ2mJ,cAAgBA,EAE/Bt8I,EAAOrK,QAAQwmJ,gCA7wBf,SAAyC34H,GACvC,OAAoB,OAAbA,EAAIpB,MAA8B,KAAboB,EAAIpB,MAAeoB,EAAIg5H,kBAAmC,SAAfh5H,EAAIi6C,MAC7E,EA6wBAz9D,EAAOrK,QAAQ4mJ,iBAAmB,SAAUrlG,GAC1C,OAAOrd,OAAOqd,EAChB,EAEAl3C,EAAOrK,QAAQ4rJ,SAAW,SAAU/gJ,EAAOC,GAMzC,YALgBlK,IAAZkK,IACFA,EAAU,CAAC,GAINT,EAAOrK,QAAQkmJ,cAAcr7I,EAAO,CAAEu7I,QAASt7I,EAAQs7I,QAAS0E,iBAAkBhgJ,EAAQggJ,kBACnG,yBC9wCAzgJ,EAAOrK,QAAQ8rJ,MAAQ,SAAe5vI,EAAQjJ,GAC5C,MAAMwF,EAAO3Y,OAAOkzD,oBAAoB//C,GACxC,IAAK,IAAIvC,EAAI,EAAGA,EAAI+H,EAAKlN,SAAUmF,EACjC5Q,OAAOC,eAAemc,EAAQzD,EAAK/H,GAAI5Q,OAAOisJ,yBAAyB94I,EAAQwF,EAAK/H,IAExF,EAEArG,EAAOrK,QAAQqnJ,cAAgBhqI,OAAO,WACtChT,EAAOrK,QAAQinJ,WAAa5pI,OAAO,QAEnChT,EAAOrK,QAAQgsJ,eAAiB,SAAU/rD,GACxC,OAAOA,EAAK51F,EAAOrK,QAAQqnJ,cAC7B,EAEAh9I,EAAOrK,QAAQisJ,eAAiB,SAAUltI,GACxC,OAAOA,EAAQ1U,EAAOrK,QAAQinJ,WAChC,yBClBA58I,EAAOrK,QAAUksJ,QAAQ,iCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,iCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,wCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,iCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,iCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,6BCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,sCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,+BCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,gCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,8BCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,uCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,0CCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,6BCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,+BCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,mCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,iCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,8BCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,8BCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,8BCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,+BCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,yCCAzB7hJ,EAAOrK,QAAUksJ,QAAQ,mCCSzBpsJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmxE,OAASnxE,EAAQ45D,YAAS,EAYlC55D,EAAQ45D,OAXR,SAAgBhgD,GACZ,IAAIO,EAAM,GACV,IAAK,IAAIzJ,KAAKkJ,EACNA,EAAI+lC,eAAejvC,KACfyJ,EAAI5O,SACJ4O,GAAO,KACXA,GAAOq8C,mBAAmB9lD,GAAK,IAAM8lD,mBAAmB58C,EAAIlJ,KAGpE,OAAOyJ,CACX,EAiBAna,EAAQmxE,OATR,SAAgBg7E,GACZ,IAAIC,EAAM,CAAC,EACPC,EAAQF,EAAGhrJ,MAAM,KACrB,IAAK,IAAIuP,EAAI,EAAGk0I,EAAIyH,EAAM9gJ,OAAQmF,EAAIk0I,EAAGl0I,IAAK,CAC1C,IAAI+5E,EAAO4hE,EAAM37I,GAAGvP,MAAM,KAC1BirJ,EAAIE,mBAAmB7hE,EAAK,KAAO6hE,mBAAmB7hE,EAAK,GAC/D,CACA,OAAO2hE,CACX,6BCpCAtsJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2K,WAAQ,EAoBhB,MAAM4hJ,EAAK,sPACL94H,EAAQ,CACV,SAAU,WAAY,YAAa,WAAY,OAAQ,WAAY,OAAQ,OAAQ,WAAY,OAAQ,YAAa,OAAQ,QAAS,UAwBzIzzB,EAAQ2K,MAtBR,SAAewP,GACX,GAAIA,EAAI5O,OAAS,IACb,KAAM,eAEV,MAAM69E,EAAMjvE,EAAKtV,EAAIsV,EAAIjI,QAAQ,KAAMoB,EAAI6G,EAAIjI,QAAQ,MAC7C,GAANrN,IAAiB,GAANyO,IACX6G,EAAMA,EAAIhC,UAAU,EAAGtT,GAAKsV,EAAIhC,UAAUtT,EAAGyO,GAAGS,QAAQ,KAAM,KAAOoG,EAAIhC,UAAU7E,EAAG6G,EAAI5O,SAE9F,IAAIklC,EAAI87G,EAAG9+G,KAAKtzB,GAAO,IAAK++C,EAAM,CAAC,EAAGxoD,EAAI,GAC1C,KAAOA,KACHwoD,EAAIzlC,EAAM/iB,IAAM+/B,EAAE//B,IAAM,GAU5B,OARU,GAAN7L,IAAiB,GAANyO,IACX4lD,EAAIjmD,OAASm2E,EACblwB,EAAIzsC,KAAOysC,EAAIzsC,KAAKtU,UAAU,EAAG+gD,EAAIzsC,KAAKlhB,OAAS,GAAGwI,QAAQ,KAAM,KACpEmlD,EAAIszF,UAAYtzF,EAAIszF,UAAUz4I,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAAIA,QAAQ,KAAM,KAC9EmlD,EAAIuzF,SAAU,GAElBvzF,EAAIwzF,UAKR,SAAmB9yI,EAAKxX,GACpB,MAAyBoC,EAAQpC,EAAK2R,QAAzB,WAAuC,KAAK5S,MAAM,KAO/D,MANwB,KAApBiB,EAAKyP,MAAM,EAAG,IAA6B,IAAhBzP,EAAKmJ,QAChC/G,EAAM2N,OAAO,EAAG,GAEE,KAAlB/P,EAAKyP,OAAO,IACZrN,EAAM2N,OAAO3N,EAAM+G,OAAS,EAAG,GAE5B/G,CACX,CAdoBkoJ,CAAUxzF,EAAKA,EAAU,MACzCA,EAAIyzF,SAcR,SAAkBzzF,EAAKpD,GACnB,MAAMr5C,EAAO,CAAC,EAMd,OALAq5C,EAAM/hD,QAAQ,6BAA6B,SAAU82G,EAAIp1G,EAAIq1G,GACrDr1G,IACAgH,EAAKhH,GAAMq1G,EAEnB,IACOruG,CACX,CAtBmBkwI,CAASzzF,EAAKA,EAAW,OACjCA,CACX,6BC7CAp5D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4sJ,MAAQ5sJ,EAAQmxE,OAASnxE,EAAQ45D,YAAS,EAClD,MAAMizF,EAAW,mEAAmE1rJ,MAAM,IAAKoK,EAAS,GAAIjI,EAAM,CAAC,EACnH,IAAqB8I,EAAjBu8H,EAAO,EAAGj4H,EAAI,EAQlB,SAASkpD,EAAOtnD,GACZ,IAAIw6I,EAAU,GACd,GACIA,EAAUD,EAASv6I,EAAM/G,GAAUuhJ,EACnCx6I,EAAMvB,KAAKy3C,MAAMl2C,EAAM/G,SAClB+G,EAAM,GACf,OAAOw6I,CACX,CAiCA,IAhCA9sJ,EAAQ45D,OAASA,EAejB55D,EAAQmxE,OAPR,SAAgBh3D,GACZ,IAAIyvI,EAAU,EACd,IAAKl5I,EAAI,EAAGA,EAAIyJ,EAAI5O,OAAQmF,IACxBk5I,EAAUA,EAAUr+I,EAASjI,EAAI6W,EAAI+lB,OAAOxvB,IAEhD,OAAOk5I,CACX,EAcA5pJ,EAAQ4sJ,MANR,WACI,MAAMnzF,EAAMG,GAAQ,IAAI9iD,MACxB,OAAI2iD,IAAQrtD,GACDu8H,EAAO,EAAGv8H,EAAOqtD,GACrBA,EAAM,IAAMG,EAAO+uE,IAC9B,EAKOj4H,EAAInF,EAAQmF,IACfpN,EAAIupJ,EAASn8I,IAAMA,6BCrDvB5Q,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+sJ,oBAAiB,EACzB/sJ,EAAQ+sJ,eAAiBnvG,oCCFzB99C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0qB,SAAW1qB,EAAQ2K,MAAQ3K,EAAQgtJ,sBAAwBhtJ,EAAQitJ,WAAajtJ,EAAQktJ,eAAiBltJ,EAAQmtJ,UAAYntJ,EAAQmrB,SAAWnrB,EAAQotJ,YAAS,EACzK,MAAMC,EAAc,EAAQ,MAC5BvtJ,OAAOC,eAAeC,EAAS,SAAU,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAO01I,EAAYD,MAAQ,IAC3GptJ,EAAQmrB,SAAWkiI,EAAYD,OAAOjiI,SACtC,IAAImiI,EAAiB,EAAQ,MAC7BxtJ,OAAOC,eAAeC,EAAS,YAAa,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAO21I,EAAeH,SAAW,IACpHrtJ,OAAOC,eAAeC,EAAS,iBAAkB,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAO21I,EAAeJ,cAAgB,IAC9H,IAAIK,EAAa,EAAQ,MACzBztJ,OAAOC,eAAeC,EAAS,aAAc,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAO41I,EAAWN,UAAY,IAClH,IAAIO,EAAY,EAAQ,MACxB1tJ,OAAOC,eAAeC,EAAS,wBAAyB,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAO61I,EAAUR,qBAAuB,IACvI,IAAIS,EAAgB,EAAQ,MAC5B3tJ,OAAOC,eAAeC,EAAS,QAAS,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAO81I,EAAc9iJ,KAAO,IAC3G,IAAI+iJ,EAA6B,EAAQ,IACzC5tJ,OAAOC,eAAeC,EAAS,WAAY,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAO+1I,EAA2BhjI,QAAU,uCCf9H,IAAIijI,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQotJ,YAAS,EACjB,MAAMG,EAAa,EAAQ,MACrBC,EAAY,EAAQ,MACpBM,EAAe,EAAQ,MACvBL,EAAgB,EAAQ,MACxBM,EAAUJ,EAAgB,EAAQ,OAClCK,EAAsB,EAAQ,MAC9BC,EAAqB,EAAQ,MAC7BP,EAA6B,EAAQ,IACrC13I,GAAQ,EAAI+3I,EAAQ5rJ,SAAS,2BACnC,MAAMirJ,UAAeY,EAAoBE,QAOrCjpJ,YAAYi0D,EAAKtoD,EAAO,CAAC,GACrBjJ,QACAxC,KAAK4f,WAAa2oI,EAA2BS,kBAC7ChpJ,KAAKipJ,YAAc,GACfl1F,GAAO,iBAAoBA,IAC3BtoD,EAAOsoD,EACPA,EAAM,MAENA,GACAA,GAAM,EAAIu0F,EAAc9iJ,OAAOuuD,GAC/BtoD,EAAKuhB,SAAW+mC,EAAIzsC,KACpB7b,EAAKwd,OAA0B,UAAjB8qC,EAAI/tC,UAAyC,QAAjB+tC,EAAI/tC,SAC9Cva,EAAK8b,KAAOwsC,EAAIxsC,KACZwsC,EAAIpD,QACJllD,EAAKklD,MAAQoD,EAAIpD,QAEhBllD,EAAK6b,OACV7b,EAAKuhB,UAAW,EAAIs7H,EAAc9iJ,OAAOiG,EAAK6b,MAAMA,OAExD,EAAI+gI,EAAUR,uBAAuB7nJ,KAAMyL,GAC3CzL,KAAKipB,OACD,MAAQxd,EAAKwd,OACPxd,EAAKwd,OACe,oBAAb4F,UAA4B,WAAaA,SAAS7I,SAC/Dva,EAAKuhB,WAAavhB,EAAK8b,OAEvB9b,EAAK8b,KAAOvnB,KAAKipB,OAAS,MAAQ,MAEtCjpB,KAAKgtB,SACDvhB,EAAKuhB,WACoB,oBAAb6B,SAA2BA,SAAS7B,SAAW,aAC/DhtB,KAAKunB,KACD9b,EAAK8b,OACoB,oBAAbsH,UAA4BA,SAAStH,KACvCsH,SAAStH,KACTvnB,KAAKipB,OACD,MACA,MAClBjpB,KAAK8nJ,WAAar8I,EAAKq8I,YAAc,CACjC,UACA,YACA,gBAEJ9nJ,KAAKipJ,YAAc,GACnBjpJ,KAAKkpJ,cAAgB,EACrBlpJ,KAAKyL,KAAO9Q,OAAOe,OAAO,CACtBuB,KAAM,aACNskG,OAAO,EACP4nD,iBAAiB,EACjBjhI,SAAS,EACTkhI,eAAgB,IAChBC,iBAAiB,EACjBC,kBAAkB,EAClBznD,oBAAoB,EACpB/9E,kBAAmB,CACf/G,UAAW,MAEfwsI,iBAAkB,CAAC,EACnBC,qBAAqB,GACtB/9I,GACHzL,KAAKyL,KAAKxO,KACN+C,KAAKyL,KAAKxO,KAAK2R,QAAQ,MAAO,KACzB5O,KAAKyL,KAAK69I,iBAAmB,IAAM,IACb,iBAApBtpJ,KAAKyL,KAAKklD,QACjB3wD,KAAKyL,KAAKklD,OAAQ,EAAIg4F,EAAa38E,QAAQhsE,KAAKyL,KAAKklD,QAGzD3wD,KAAK+2D,GAAK,KACV/2D,KAAKypJ,SAAW,KAChBzpJ,KAAK0pJ,aAAe,KACpB1pJ,KAAK2pJ,YAAc,KAEnB3pJ,KAAK4pJ,iBAAmB,KACQ,mBAArBpwI,mBACHxZ,KAAKyL,KAAK+9I,sBAIVxpJ,KAAK6pJ,0BAA4B,KACzB7pJ,KAAK8pJ,YAEL9pJ,KAAK8pJ,UAAU19H,qBACfpsB,KAAK8pJ,UAAUr9I,QACnB,EAEJ+M,iBAAiB,eAAgBxZ,KAAK6pJ,2BAA2B,IAE/C,cAAlB7pJ,KAAKgtB,WACLhtB,KAAK+pJ,qBAAuB,KACxB/pJ,KAAKgqJ,QAAQ,kBAAmB,CAC5Bj4F,YAAa,2BACf,EAENv4C,iBAAiB,UAAWxZ,KAAK+pJ,sBAAsB,KAG/D/pJ,KAAKoM,MACT,CAQA69I,gBAAgB5rJ,GACZwS,EAAM,0BAA2BxS,GACjC,MAAMsyD,EAAQh2D,OAAOe,OAAO,CAAC,EAAGsE,KAAKyL,KAAKklD,OAE1CA,EAAMu5F,IAAMpB,EAAmB9iI,SAE/B2qC,EAAMm5F,UAAYzrJ,EAEd2B,KAAK+2D,KACLpG,EAAMw5F,IAAMnqJ,KAAK+2D,IACrB,MAAMtrD,EAAO9Q,OAAOe,OAAO,CAAC,EAAGsE,KAAKyL,KAAM,CACtCklD,QACApuC,OAAQviB,KACRgtB,SAAUhtB,KAAKgtB,SACf/D,OAAQjpB,KAAKipB,OACb1B,KAAMvnB,KAAKunB,MACZvnB,KAAKyL,KAAK89I,iBAAiBlrJ,IAE9B,OADAwS,EAAM,cAAepF,GACd,IAAI28I,EAAWN,WAAWzpJ,GAAMoN,EAC3C,CAMAW,OACI,IAAI09I,EACJ,GAAI9pJ,KAAKyL,KAAK49I,iBACVpB,EAAOmC,wBACmC,IAA1CpqJ,KAAK8nJ,WAAW/6I,QAAQ,aACxB+8I,EAAY,gBAEX,IAAI,IAAM9pJ,KAAK8nJ,WAAW1hJ,OAK3B,YAHApG,KAAKqqJ,cAAa,KACdrqJ,KAAKsqJ,aAAa,QAAS,0BAA0B,GACtD,GAIHR,EAAY9pJ,KAAK8nJ,WAAW,EAChC,CACA9nJ,KAAKqlB,WAAa,UAElB,IACIykI,EAAY9pJ,KAAKiqJ,gBAAgBH,EACrC,CACA,MAAO37I,GAIH,OAHA0C,EAAM,qCAAsC1C,GAC5CnO,KAAK8nJ,WAAWz7I,aAChBrM,KAAKoM,MAET,CACA09I,EAAU19I,OACVpM,KAAKuqJ,aAAaT,EACtB,CAMAS,aAAaT,GACTj5I,EAAM,uBAAwBi5I,EAAUzrJ,MACpC2B,KAAK8pJ,YACLj5I,EAAM,iCAAkC7Q,KAAK8pJ,UAAUzrJ,MACvD2B,KAAK8pJ,UAAU19H,sBAGnBpsB,KAAK8pJ,UAAYA,EAEjBA,EACKxmJ,GAAG,QAAStD,KAAKwqJ,QAAQjqJ,KAAKP,OAC9BsD,GAAG,SAAUtD,KAAKyqJ,SAASlqJ,KAAKP,OAChCsD,GAAG,QAAStD,KAAKyB,QAAQlB,KAAKP,OAC9BsD,GAAG,SAAU6V,GAAWnZ,KAAKgqJ,QAAQ,kBAAmB7wI,IACjE,CAOAuxI,MAAMrsJ,GACFwS,EAAM,yBAA0BxS,GAChC,IAAIyrJ,EAAY9pJ,KAAKiqJ,gBAAgB5rJ,GACjCssJ,GAAS,EACb1C,EAAOmC,uBAAwB,EAC/B,MAAMQ,EAAkB,KAChBD,IAEJ95I,EAAM,8BAA+BxS,GACrCyrJ,EAAUjmI,KAAK,CAAC,CAAE7c,KAAM,OAAQsQ,KAAM,WACtCwyI,EAAUvmJ,KAAK,UAAW2hB,IACtB,IAAIylI,EAEJ,GAAI,SAAWzlI,EAAIle,MAAQ,UAAYke,EAAI5N,KAAM,CAI7C,GAHAzG,EAAM,4BAA6BxS,GACnC2B,KAAK6qJ,WAAY,EACjB7qJ,KAAKsqJ,aAAa,YAAaR,IAC1BA,EACD,OACJ7B,EAAOmC,sBAAwB,cAAgBN,EAAUzrJ,KACzDwS,EAAM,iCAAkC7Q,KAAK8pJ,UAAUzrJ,MACvD2B,KAAK8pJ,UAAU3kI,OAAM,KACbwlI,GAEA,WAAa3qJ,KAAKqlB,aAEtBxU,EAAM,iDACNmN,IACAhe,KAAKuqJ,aAAaT,GAClBA,EAAUjmI,KAAK,CAAC,CAAE7c,KAAM,aACxBhH,KAAKsqJ,aAAa,UAAWR,GAC7BA,EAAY,KACZ9pJ,KAAK6qJ,WAAY,EACjB7qJ,KAAK6e,QAAO,GAEpB,KACK,CACDhO,EAAM,8BAA+BxS,GACrC,MAAMqe,EAAM,IAAIzgB,MAAM,eAEtBygB,EAAIotI,UAAYA,EAAUzrJ,KAC1B2B,KAAKsqJ,aAAa,eAAgB5tI,EACtC,KACF,EAEN,SAASouI,IACDH,IAGJA,GAAS,EACT3sI,IACA8rI,EAAUr9I,QACVq9I,EAAY,KAChB,CAEA,MAAM3+H,EAAWzO,IACb,MAAMnd,EAAQ,IAAItD,MAAM,gBAAkBygB,GAE1Cnd,EAAMuqJ,UAAYA,EAAUzrJ,KAC5BysJ,IACAj6I,EAAM,mDAAoDxS,EAAMqe,GAChE1c,KAAKsqJ,aAAa,eAAgB/qJ,EAAM,EAE5C,SAASwrJ,IACL5/H,EAAQ,mBACZ,CAEA,SAASD,IACLC,EAAQ,gBACZ,CAEA,SAAS6/H,EAAUvlH,GACXqkH,GAAarkH,EAAGpnC,OAASyrJ,EAAUzrJ,OACnCwS,EAAM,6BAA8B40B,EAAGpnC,KAAMyrJ,EAAUzrJ,MACvDysJ,IAER,CAEA,MAAM9sI,EAAU,KACZ8rI,EAAU3vI,eAAe,OAAQywI,GACjCd,EAAU3vI,eAAe,QAASgR,GAClC2+H,EAAU3vI,eAAe,QAAS4wI,GAClC/qJ,KAAKi/H,IAAI,QAAS/zG,GAClBlrB,KAAKi/H,IAAI,YAAa+rB,EAAU,EAEpClB,EAAUvmJ,KAAK,OAAQqnJ,GACvBd,EAAUvmJ,KAAK,QAAS4nB,GACxB2+H,EAAUvmJ,KAAK,QAASwnJ,GACxB/qJ,KAAKuD,KAAK,QAAS2nB,GACnBlrB,KAAKuD,KAAK,YAAaynJ,IACwB,IAA3ChrJ,KAAKypJ,SAAS18I,QAAQ,iBACb,iBAAT1O,EAEA2B,KAAKqqJ,cAAa,KACTM,GACDb,EAAU19I,MACd,GACD,KAGH09I,EAAU19I,MAElB,CAMA6+I,SAQI,GAPAp6I,EAAM,eACN7Q,KAAKqlB,WAAa,OAClB4iI,EAAOmC,sBAAwB,cAAgBpqJ,KAAK8pJ,UAAUzrJ,KAC9D2B,KAAKsqJ,aAAa,QAClBtqJ,KAAK6e,QAGD,SAAW7e,KAAKqlB,YAAcrlB,KAAKyL,KAAKyc,QAAS,CACjDrX,EAAM,2BACN,IAAItF,EAAI,EACR,MAAMk0I,EAAIz/I,KAAKypJ,SAASrjJ,OACxB,KAAOmF,EAAIk0I,EAAGl0I,IACVvL,KAAK0qJ,MAAM1qJ,KAAKypJ,SAASl+I,GAEjC,CACJ,CAMAk/I,SAASS,GACL,GAAI,YAAclrJ,KAAKqlB,YACnB,SAAWrlB,KAAKqlB,YAChB,YAAcrlB,KAAKqlB,WAMnB,OALAxU,EAAM,uCAAwCq6I,EAAOlkJ,KAAMkkJ,EAAO5zI,MAClEtX,KAAKsqJ,aAAa,SAAUY,GAE5BlrJ,KAAKsqJ,aAAa,aAClBtqJ,KAAKmrJ,mBACGD,EAAOlkJ,MACX,IAAK,OACDhH,KAAKorJ,YAAYn6I,KAAKzL,MAAM0lJ,EAAO5zI,OACnC,MACJ,IAAK,OACDtX,KAAKqrJ,WAAW,QAChBrrJ,KAAKsqJ,aAAa,QAClBtqJ,KAAKsqJ,aAAa,QAClB,MACJ,IAAK,QACD,MAAM5tI,EAAM,IAAIzgB,MAAM,gBAEtBygB,EAAIxD,KAAOgyI,EAAO5zI,KAClBtX,KAAKyB,QAAQib,GACb,MACJ,IAAK,UACD1c,KAAKsqJ,aAAa,OAAQY,EAAO5zI,MACjCtX,KAAKsqJ,aAAa,UAAWY,EAAO5zI,WAK5CzG,EAAM,8CAA+C7Q,KAAKqlB,WAElE,CAOA+lI,YAAY9zI,GACRtX,KAAKsqJ,aAAa,YAAahzI,GAC/BtX,KAAK+2D,GAAKz/C,EAAK6yI,IACfnqJ,KAAK8pJ,UAAUn5F,MAAMw5F,IAAM7yI,EAAK6yI,IAChCnqJ,KAAKypJ,SAAWzpJ,KAAKsrJ,eAAeh0I,EAAKmyI,UACzCzpJ,KAAK0pJ,aAAepyI,EAAKoyI,aACzB1pJ,KAAK2pJ,YAAcryI,EAAKqyI,YACxB3pJ,KAAK6c,WAAavF,EAAKuF,WACvB7c,KAAKirJ,SAED,WAAajrJ,KAAKqlB,YAEtBrlB,KAAKmrJ,kBACT,CAMAA,mBACInrJ,KAAKurJ,eAAevrJ,KAAK4pJ,kBACzB5pJ,KAAK4pJ,iBAAmB5pJ,KAAKqqJ,cAAa,KACtCrqJ,KAAKgqJ,QAAQ,eAAe,GAC7BhqJ,KAAK0pJ,aAAe1pJ,KAAK2pJ,aACxB3pJ,KAAKyL,KAAK22F,WACVpiG,KAAK4pJ,iBAAiBvnD,OAE9B,CAMAmoD,UACIxqJ,KAAKipJ,YAAYj8I,OAAO,EAAGhN,KAAKkpJ,eAIhClpJ,KAAKkpJ,cAAgB,EACjB,IAAMlpJ,KAAKipJ,YAAY7iJ,OACvBpG,KAAKsqJ,aAAa,SAGlBtqJ,KAAK6e,OAEb,CAMAA,QACI,GAAI,WAAa7e,KAAKqlB,YAClBrlB,KAAK8pJ,UAAUvgI,WACdvpB,KAAK6qJ,WACN7qJ,KAAKipJ,YAAY7iJ,OAAQ,CACzB,MAAMolJ,EAAUxrJ,KAAKyrJ,qBACrB56I,EAAM,gCAAiC26I,EAAQplJ,QAC/CpG,KAAK8pJ,UAAUjmI,KAAK2nI,GAGpBxrJ,KAAKkpJ,cAAgBsC,EAAQplJ,OAC7BpG,KAAKsqJ,aAAa,QACtB,CACJ,CAOAmB,qBAII,KAH+BzrJ,KAAK6c,YACR,YAAxB7c,KAAK8pJ,UAAUzrJ,MACf2B,KAAKipJ,YAAY7iJ,OAAS,GAE1B,OAAOpG,KAAKipJ,YAEhB,IAAIyC,EAAc,EAClB,IAAK,IAAIngJ,EAAI,EAAGA,EAAIvL,KAAKipJ,YAAY7iJ,OAAQmF,IAAK,CAC9C,MAAM+L,EAAOtX,KAAKipJ,YAAY19I,GAAG+L,KAIjC,GAHIA,IACAo0I,IAAe,EAAIrD,EAAUlxI,YAAYG,IAEzC/L,EAAI,GAAKmgJ,EAAc1rJ,KAAK6c,WAE5B,OADAhM,EAAM,iCAAkCtF,EAAGvL,KAAKipJ,YAAY7iJ,QACrDpG,KAAKipJ,YAAYv8I,MAAM,EAAGnB,GAErCmgJ,GAAe,CACnB,CAEA,OADA76I,EAAM,+BAAgC66I,EAAa1rJ,KAAK6c,YACjD7c,KAAKipJ,WAChB,CASAj1I,MAAMkR,EAAKvf,EAASs9B,GAEhB,OADAjjC,KAAKqrJ,WAAW,UAAWnmI,EAAKvf,EAASs9B,GAClCjjC,IACX,CACA6jB,KAAKqB,EAAKvf,EAASs9B,GAEf,OADAjjC,KAAKqrJ,WAAW,UAAWnmI,EAAKvf,EAASs9B,GAClCjjC,IACX,CAUAqrJ,WAAWrkJ,EAAMsQ,EAAM3R,EAASs9B,GAS5B,GARI,mBAAsB3rB,IACtB2rB,EAAK3rB,EACLA,OAAO7b,GAEP,mBAAsBkK,IACtBs9B,EAAKt9B,EACLA,EAAU,MAEV,YAAc3F,KAAKqlB,YAAc,WAAarlB,KAAKqlB,WACnD,QAEJ1f,EAAUA,GAAW,CAAC,GACd2Y,UAAW,IAAU3Y,EAAQ2Y,SACrC,MAAM4sI,EAAS,CACXlkJ,KAAMA,EACNsQ,KAAMA,EACN3R,QAASA,GAEb3F,KAAKsqJ,aAAa,eAAgBY,GAClClrJ,KAAKipJ,YAAYtnJ,KAAKupJ,GAClBjoH,GACAjjC,KAAKuD,KAAK,QAAS0/B,GACvBjjC,KAAK6e,OACT,CAIApS,QACI,MAAMA,EAAQ,KACVzM,KAAKgqJ,QAAQ,gBACbn5I,EAAM,+CACN7Q,KAAK8pJ,UAAUr9I,OAAO,EAEpBk/I,EAAkB,KACpB3rJ,KAAKi/H,IAAI,UAAW0sB,GACpB3rJ,KAAKi/H,IAAI,eAAgB0sB,GACzBl/I,GAAO,EAELm/I,EAAiB,KAEnB5rJ,KAAKuD,KAAK,UAAWooJ,GACrB3rJ,KAAKuD,KAAK,eAAgBooJ,EAAgB,EAqB9C,MAnBI,YAAc3rJ,KAAKqlB,YAAc,SAAWrlB,KAAKqlB,aACjDrlB,KAAKqlB,WAAa,UACdrlB,KAAKipJ,YAAY7iJ,OACjBpG,KAAKuD,KAAK,SAAS,KACXvD,KAAK6qJ,UACLe,IAGAn/I,GACJ,IAGCzM,KAAK6qJ,UACVe,IAGAn/I,KAGDzM,IACX,CAMAyB,QAAQib,GACJ7L,EAAM,kBAAmB6L,GACzBurI,EAAOmC,uBAAwB,EAC/BpqJ,KAAKsqJ,aAAa,QAAS5tI,GAC3B1c,KAAKgqJ,QAAQ,kBAAmBttI,EACpC,CAMAstI,QAAQ7wI,EAAQ44C,GACR,YAAc/xD,KAAKqlB,YACnB,SAAWrlB,KAAKqlB,YAChB,YAAcrlB,KAAKqlB,aACnBxU,EAAM,iCAAkCsI,GAExCnZ,KAAKurJ,eAAevrJ,KAAK4pJ,kBAEzB5pJ,KAAK8pJ,UAAU19H,mBAAmB,SAElCpsB,KAAK8pJ,UAAUr9I,QAEfzM,KAAK8pJ,UAAU19H,qBACoB,mBAAxBlS,sBACPA,oBAAoB,eAAgBla,KAAK6pJ,2BAA2B,GACpE3vI,oBAAoB,UAAWla,KAAK+pJ,sBAAsB,IAG9D/pJ,KAAKqlB,WAAa,SAElBrlB,KAAK+2D,GAAK,KAEV/2D,KAAKsqJ,aAAa,QAASnxI,EAAQ44C,GAGnC/xD,KAAKipJ,YAAc,GACnBjpJ,KAAKkpJ,cAAgB,EAE7B,CAOAoC,eAAe7B,GACX,MAAMoC,EAAmB,GACzB,IAAItgJ,EAAI,EACR,MAAMwF,EAAI04I,EAASrjJ,OACnB,KAAOmF,EAAIwF,EAAGxF,KACLvL,KAAK8nJ,WAAW/6I,QAAQ08I,EAASl+I,KAClCsgJ,EAAiBlqJ,KAAK8nJ,EAASl+I,IAEvC,OAAOsgJ,CACX,EAEJhxJ,EAAQotJ,OAASA,EACjBA,EAAOjiI,SAAW8iI,EAAmB9iI,4CChnBrC,IAAIwiI,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmtJ,UAAYntJ,EAAQktJ,oBAAiB,EAC7C,MAAMe,EAAqB,EAAQ,MAC7BD,EAAsB,EAAQ,MAC9BR,EAAY,EAAQ,MACpBO,EAAUJ,EAAgB,EAAQ,OAClCG,EAAe,EAAQ,MACvB93I,GAAQ,EAAI+3I,EAAQ5rJ,SAAS,8BACnC,MAAM+qJ,UAAuB9rJ,MACzB6D,YAAYqZ,EAAQ44C,EAAap1B,GAC7Bn6B,MAAM2W,GACNnZ,KAAK+xD,YAAcA,EACnB/xD,KAAK28B,QAAUA,EACf38B,KAAKgH,KAAO,gBAChB,EAEJnM,EAAQktJ,eAAiBA,EACzB,MAAMC,UAAkBa,EAAoBE,QAOxCjpJ,YAAY2L,GACRjJ,QACAxC,KAAKupB,UAAW,GAChB,EAAI8+H,EAAUR,uBAAuB7nJ,KAAMyL,GAC3CzL,KAAKyL,KAAOA,EACZzL,KAAK2wD,MAAQllD,EAAKklD,MAClB3wD,KAAKuiB,OAAS9W,EAAK8W,MACvB,CAUA9gB,QAAQ0X,EAAQ44C,EAAap1B,GAEzB,OADAn6B,MAAM8nJ,aAAa,QAAS,IAAIvC,EAAe5uI,EAAQ44C,EAAap1B,IAC7D38B,IACX,CAIAoM,OAGI,OAFApM,KAAKqlB,WAAa,UAClBrlB,KAAK8rJ,SACE9rJ,IACX,CAIAyM,QAKI,MAJwB,YAApBzM,KAAKqlB,YAAgD,SAApBrlB,KAAKqlB,aACtCrlB,KAAK+rJ,UACL/rJ,KAAKgqJ,WAEFhqJ,IACX,CAMA6jB,KAAK2nI,GACuB,SAApBxrJ,KAAKqlB,WACLrlB,KAAKgU,MAAMw3I,GAIX36I,EAAM,4CAEd,CAMAo6I,SACIjrJ,KAAKqlB,WAAa,OAClBrlB,KAAKupB,UAAW,EAChB/mB,MAAM8nJ,aAAa,OACvB,CAOA0B,OAAO10I,GACH,MAAM4zI,GAAS,EAAIpC,EAAmBmD,cAAc30I,EAAMtX,KAAKuiB,OAAO3C,YACtE5f,KAAKyqJ,SAASS,EAClB,CAMAT,SAASS,GACL1oJ,MAAM8nJ,aAAa,SAAUY,EACjC,CAMAlB,QAAQ7iF,GACJnnE,KAAKqlB,WAAa,SAClB7iB,MAAM8nJ,aAAa,QAASnjF,EAChC,CAMAhiD,MAAM+mI,GAAW,CACjBC,UAAU/5F,EAAQzB,EAAQ,CAAC,GACvB,OAAQyB,EACJ,MACApyD,KAAKosJ,YACLpsJ,KAAKqsJ,QACLrsJ,KAAKyL,KAAKxO,KACV+C,KAAKssJ,OAAO37F,EACpB,CACAy7F,YACI,MAAMp/H,EAAWhtB,KAAKyL,KAAKuhB,SAC3B,OAAkC,IAA3BA,EAASjgB,QAAQ,KAAcigB,EAAW,IAAMA,EAAW,GACtE,CACAq/H,QACI,OAAIrsJ,KAAKyL,KAAK8b,OACRvnB,KAAKyL,KAAKwd,QAAU9sB,OAA0B,MAAnB6D,KAAKyL,KAAK8b,QACjCvnB,KAAKyL,KAAKwd,QAAqC,KAA3B9sB,OAAO6D,KAAKyL,KAAK8b,OACpC,IAAMvnB,KAAKyL,KAAK8b,KAGhB,EAEf,CACA+kI,OAAO37F,GACH,MAAMS,GAAe,EAAIu3F,EAAal0F,QAAQ9D,GAC9C,OAAOS,EAAahrD,OAAS,IAAMgrD,EAAe,EACtD,EAEJv2D,EAAQmtJ,UAAYA,+BCtJpBrtJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQitJ,gBAAa,EACrB,MAAMyE,EAAe,EAAQ,MACvBC,EAAiB,EAAQ,MACzBC,EAAoB,EAAQ,MAClC5xJ,EAAQitJ,WAAa,CACjBp7H,UAAW8/H,EAAeE,GAC1BC,aAAcF,EAAkBG,GAChCC,QAASN,EAAaO,4CCR1B,IAAItE,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkyJ,QAAUlyJ,EAAQiyJ,aAAU,EACpC,MAAM3E,EAAiB,EAAQ,MACzBS,EAAUJ,EAAgB,EAAQ,OAClCwE,EAAa,EAAQ,MACrBlE,EAAqB,EAAQ,MAC7BmE,EAAsB,EAAQ,MAC9BpE,EAAsB,EAAQ,MAC9BR,EAAY,EAAQ,MACpB6E,EAAkB,EAAQ,MAC1Br8I,GAAQ,EAAI+3I,EAAQ5rJ,SAAS,4BACnC,SAAS6gC,IAAU,CACnB,MAAMsvH,EAIK,MAHK,IAAIF,EAAoBG,IAAI,CACpCC,SAAS,IAEMC,aAEvB,MAAMR,UAAgB3E,EAAeH,UAOjCloJ,YAAY2L,GAGR,GAFAjJ,MAAMiJ,GACNzL,KAAK6sJ,SAAU,EACS,oBAAbh+H,SAA0B,CACjC,MAAM0+H,EAAQ,WAAa1+H,SAAS7I,SACpC,IAAIuB,EAAOsH,SAAStH,KAEfA,IACDA,EAAOgmI,EAAQ,MAAQ,MAE3BvtJ,KAAKwtJ,GACoB,oBAAb3+H,UACJpjB,EAAKuhB,WAAa6B,SAAS7B,UAC3BzF,IAAS9b,EAAK8b,IAC1B,CAIA,MAAMkmI,EAAchiJ,GAAQA,EAAKgiJ,YACjCztJ,KAAK0tJ,eAAiBP,IAAYM,EAC9BztJ,KAAKyL,KAAK09I,kBACVnpJ,KAAK2tJ,WAAY,EAAIV,EAAoBW,mBAEjD,CACIvvJ,WACA,MAAO,SACX,CAOAytJ,SACI9rJ,KAAK6tJ,MACT,CAOA1oI,MAAM+mI,GACFlsJ,KAAKqlB,WAAa,UAClB,MAAMF,EAAQ,KACVtU,EAAM,UACN7Q,KAAKqlB,WAAa,SAClB6mI,GAAS,EAEb,GAAIlsJ,KAAK6sJ,UAAY7sJ,KAAKupB,SAAU,CAChC,IAAIm2H,EAAQ,EACR1/I,KAAK6sJ,UACLh8I,EAAM,+CACN6uI,IACA1/I,KAAKuD,KAAK,gBAAgB,WACtBsN,EAAM,gCACJ6uI,GAASv6H,GACf,KAECnlB,KAAKupB,WACN1Y,EAAM,+CACN6uI,IACA1/I,KAAKuD,KAAK,SAAS,WACfsN,EAAM,gCACJ6uI,GAASv6H,GACf,IAER,MAEIA,GAER,CAMA0oI,OACIh9I,EAAM,WACN7Q,KAAK6sJ,SAAU,EACf7sJ,KAAK8tJ,SACL9tJ,KAAKsqJ,aAAa,OACtB,CAMA0B,OAAO10I,GACHzG,EAAM,sBAAuByG,IAe7B,EAAIwxI,EAAmBiF,eAAez2I,EAAMtX,KAAKuiB,OAAO3C,YAAY9S,SAdlDo+I,IAMd,GAJI,YAAclrJ,KAAKqlB,YAA8B,SAAhB6lI,EAAOlkJ,MACxChH,KAAKirJ,SAGL,UAAYC,EAAOlkJ,KAEnB,OADAhH,KAAKgqJ,QAAQ,CAAEj4F,YAAa,oCACrB,EAGX/xD,KAAKyqJ,SAASS,EAAO,IAKrB,WAAalrJ,KAAKqlB,aAElBrlB,KAAK6sJ,SAAU,EACf7sJ,KAAKsqJ,aAAa,gBACd,SAAWtqJ,KAAKqlB,WAChBrlB,KAAK6tJ,OAGLh9I,EAAM,uCAAwC7Q,KAAKqlB,YAG/D,CAMA0mI,UACI,MAAMt/I,EAAQ,KACVoE,EAAM,wBACN7Q,KAAKgU,MAAM,CAAC,CAAEhN,KAAM,UAAW,EAE/B,SAAWhH,KAAKqlB,YAChBxU,EAAM,4BACNpE,MAKAoE,EAAM,wCACN7Q,KAAKuD,KAAK,OAAQkJ,GAE1B,CAOAuH,MAAMw3I,GACFxrJ,KAAKupB,UAAW,GAChB,EAAIu/H,EAAmBkF,eAAexC,GAAUl0I,IAC5CtX,KAAKiuJ,QAAQ32I,GAAM,KACftX,KAAKupB,UAAW,EAChBvpB,KAAKsqJ,aAAa,QAAQ,GAC5B,GAEV,CAMAv2F,MACI,MAAM3B,EAASpyD,KAAKyL,KAAKwd,OAAS,QAAU,OACtC0nC,EAAQ3wD,KAAK2wD,OAAS,CAAC,EAQ7B,OANI,IAAU3wD,KAAKyL,KAAKyiJ,oBACpBv9F,EAAM3wD,KAAKyL,KAAK29I,iBAAkB,EAAI4D,EAAWvF,UAEhDznJ,KAAK0tJ,gBAAmB/8F,EAAMw5F,MAC/Bx5F,EAAMw9F,IAAM,GAETnuJ,KAAKmsJ,UAAU/5F,EAAQzB,EAClC,CAOAjjC,QAAQjiB,EAAO,CAAC,GAEZ,OADA9Q,OAAOe,OAAO+P,EAAM,CAAE+hJ,GAAIxtJ,KAAKwtJ,GAAIG,UAAW3tJ,KAAK2tJ,WAAa3tJ,KAAKyL,MAC9D,IAAIshJ,EAAQ/sJ,KAAK+zD,MAAOtoD,EACnC,CAQAwiJ,QAAQ32I,EAAM2rB,GACV,MAAMjc,EAAMhnB,KAAK0tB,QAAQ,CACrB9E,OAAQ,OACRtR,KAAMA,IAEV0P,EAAI1jB,GAAG,UAAW2/B,GAClBjc,EAAI1jB,GAAG,SAAS,CAAC8qJ,EAAWzxH,KACxB38B,KAAKyB,QAAQ,iBAAkB2sJ,EAAWzxH,EAAQ,GAE1D,CAMAmxH,SACIj9I,EAAM,YACN,MAAMmW,EAAMhnB,KAAK0tB,UACjB1G,EAAI1jB,GAAG,OAAQtD,KAAKgsJ,OAAOzrJ,KAAKP,OAChCgnB,EAAI1jB,GAAG,SAAS,CAAC8qJ,EAAWzxH,KACxB38B,KAAKyB,QAAQ,iBAAkB2sJ,EAAWzxH,EAAQ,IAEtD38B,KAAKquJ,QAAUrnI,CACnB,EAEJnsB,EAAQiyJ,QAAUA,EAClB,MAAMC,UAAgBlE,EAAoBE,QAOtCjpJ,YAAYi0D,EAAKtoD,GACbjJ,SACA,EAAI6lJ,EAAUR,uBAAuB7nJ,KAAMyL,GAC3CzL,KAAKyL,KAAOA,EACZzL,KAAK4oB,OAASnd,EAAKmd,QAAU,MAC7B5oB,KAAK+zD,IAAMA,EACX/zD,KAAKsX,UAAO7b,IAAcgQ,EAAK6L,KAAO7L,EAAK6L,KAAO,KAClDtX,KAAKgG,QACT,CAMAA,SACI,IAAI81E,EACJ,MAAMrwE,GAAO,EAAI48I,EAAUiG,MAAMtuJ,KAAKyL,KAAM,QAAS,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,aAChIA,EAAK4hJ,UAAYrtJ,KAAKyL,KAAK+hJ,GAC3B,MAAMe,EAAOvuJ,KAAKuuJ,IAAM,IAAItB,EAAoBG,IAAI3hJ,GACpD,IACIoF,EAAM,kBAAmB7Q,KAAK4oB,OAAQ5oB,KAAK+zD,KAC3Cw6F,EAAIniJ,KAAKpM,KAAK4oB,OAAQ5oB,KAAK+zD,KAAK,GAChC,IACI,GAAI/zD,KAAKyL,KAAK+iJ,aAAc,CACxBD,EAAI1tD,uBAAyB0tD,EAAI1tD,uBAAsB,GACvD,IAAK,IAAIt1F,KAAKvL,KAAKyL,KAAK+iJ,aAChBxuJ,KAAKyL,KAAK+iJ,aAAah0G,eAAejvC,IACtCgjJ,EAAIztD,iBAAiBv1F,EAAGvL,KAAKyL,KAAK+iJ,aAAajjJ,GAG3D,CACJ,CACA,MAAO4C,GAAK,CACZ,GAAI,SAAWnO,KAAK4oB,OAChB,IACI2lI,EAAIztD,iBAAiB,eAAgB,2BACzC,CACA,MAAO3yF,GAAK,CAEhB,IACIogJ,EAAIztD,iBAAiB,SAAU,MACnC,CACA,MAAO3yF,GAAK,CACmB,QAA9B2tE,EAAK97E,KAAKyL,KAAKkiJ,iBAA8B,IAAP7xE,GAAyBA,EAAG2yE,WAAWF,GAE1E,oBAAqBA,IACrBA,EAAIpF,gBAAkBnpJ,KAAKyL,KAAK09I,iBAEhCnpJ,KAAKyL,KAAKijJ,iBACVH,EAAIthI,QAAUjtB,KAAKyL,KAAKijJ,gBAE5BH,EAAI/tD,mBAAqB,KACrB,IAAI1kB,EACmB,IAAnByyE,EAAIlpI,aAC2B,QAA9By2D,EAAK97E,KAAKyL,KAAKkiJ,iBAA8B,IAAP7xE,GAAyBA,EAAG6yE,aAAaJ,IAEhF,IAAMA,EAAIlpI,aAEV,MAAQkpI,EAAIhwG,QAAU,OAASgwG,EAAIhwG,OACnCv+C,KAAK4uJ,SAKL5uJ,KAAKqqJ,cAAa,KACdrqJ,KAAKyB,QAA8B,iBAAf8sJ,EAAIhwG,OAAsBgwG,EAAIhwG,OAAS,EAAE,GAC9D,GACP,EAEJ1tC,EAAM,cAAe7Q,KAAKsX,MAC1Bi3I,EAAI1qI,KAAK7jB,KAAKsX,KAClB,CACA,MAAOnJ,GAOH,YAHAnO,KAAKqqJ,cAAa,KACdrqJ,KAAKyB,QAAQ0M,EAAE,GAChB,EAEP,CACwB,oBAAb0B,WACP7P,KAAKiM,MAAQ8gJ,EAAQ8B,gBACrB9B,EAAQ+B,SAAS9uJ,KAAKiM,OAASjM,KAEvC,CAMAyB,QAAQib,GACJ1c,KAAKsqJ,aAAa,QAAS5tI,EAAK1c,KAAKuuJ,KACrCvuJ,KAAKge,SAAQ,EACjB,CAMAA,QAAQ+wI,GACJ,QAAI,IAAuB/uJ,KAAKuuJ,KAAO,OAASvuJ,KAAKuuJ,IAArD,CAIA,GADAvuJ,KAAKuuJ,IAAI/tD,mBAAqB3iE,EAC1BkxH,EACA,IACI/uJ,KAAKuuJ,IAAIx/H,OACb,CACA,MAAO5gB,GAAK,CAEQ,oBAAb0B,iBACAk9I,EAAQ+B,SAAS9uJ,KAAKiM,OAEjCjM,KAAKuuJ,IAAM,IAXX,CAYJ,CAMAK,SACI,MAAMt3I,EAAOtX,KAAKuuJ,IAAIx+F,aACT,OAATz4C,IACAtX,KAAKsqJ,aAAa,OAAQhzI,GAC1BtX,KAAKsqJ,aAAa,WAClBtqJ,KAAKge,UAEb,CAMA+Q,QACI/uB,KAAKge,SACT,EAUJ,GARAnjB,EAAQkyJ,QAAUA,EAClBA,EAAQ8B,cAAgB,EACxB9B,EAAQ+B,SAAW,CAAC,EAMI,oBAAbj/I,SAEP,GAA2B,mBAAhBm/I,YAEPA,YAAY,WAAYC,QAEvB,GAAgC,mBAArBz1I,iBAAiC,CAC7C,MAAM01I,EAAmB,eAAgBhC,EAAgBtF,eAAiB,WAAa,SACvFpuI,iBAAiB01I,EAAkBD,GAAe,EACtD,CAEJ,SAASA,IACL,IAAK,IAAI1jJ,KAAKwhJ,EAAQ+B,SACd/B,EAAQ+B,SAASt0G,eAAejvC,IAChCwhJ,EAAQ+B,SAASvjJ,GAAGwjB,OAGhC,mCC5ZA,IAAIy5H,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0qB,SAAW1qB,EAAQmuJ,kBAAoBnuJ,EAAQs0J,sBAAwBt0J,EAAQub,eAAY,EACnG,MAAMg5I,EAAO5G,EAAgB,EAAQ,OACrC3tJ,EAAQub,UAAYg5I,EAAKpyJ,QACzBnC,EAAQs0J,uBAAwB,EAChCt0J,EAAQmuJ,kBAAoB,aAC5BnuJ,EAAQ0qB,SAAW1pB,QAAQ0pB,4CCT3B,IAAIijI,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6xJ,QAAK,EACb,MAAMvE,EAAiB,EAAQ,MACzB6E,EAAa,EAAQ,MACrB3E,EAAY,EAAQ,MACpBE,EAA6B,EAAQ,IACrCK,EAAUJ,EAAgB,EAAQ,OAClCM,EAAqB,EAAQ,MAC7Bj4I,GAAQ,EAAI+3I,EAAQ5rJ,SAAS,8BAE7BqyJ,EAAqC,oBAAd3/I,WACI,iBAAtBA,UAAU4/I,SACmB,gBAApC5/I,UAAU4/I,QAAQ1/I,cACtB,MAAM88I,UAAWvE,EAAeH,UAO5BloJ,YAAY2L,GACRjJ,MAAMiJ,GACNzL,KAAK0tJ,gBAAkBjiJ,EAAKgiJ,WAChC,CACIpvJ,WACA,MAAO,WACX,CACAytJ,SACI,IAAK9rJ,KAAKgpC,QAEN,OAEJ,MAAM+qB,EAAM/zD,KAAK+zD,MACXhuC,EAAY/lB,KAAKyL,KAAKsa,UAEtBta,EAAO4jJ,EACP,CAAC,GACD,EAAIhH,EAAUiG,MAAMtuJ,KAAKyL,KAAM,QAAS,oBAAqB,MAAO,MAAO,aAAc,OAAQ,KAAM,UAAW,qBAAsB,eAAgB,kBAAmB,SAAU,aAAc,SAAU,uBAC/MzL,KAAKyL,KAAK+iJ,eACV/iJ,EAAKkb,QAAU3mB,KAAKyL,KAAK+iJ,cAE7B,IACIxuJ,KAAK6kB,GACD0jI,EAA2B4G,wBAA0BE,EAC/CtpI,EACI,IAAIwiI,EAA2BnyI,UAAU29C,EAAKhuC,GAC9C,IAAIwiI,EAA2BnyI,UAAU29C,GAC7C,IAAIw0F,EAA2BnyI,UAAU29C,EAAKhuC,EAAWta,EACvE,CACA,MAAOiR,GACH,OAAO1c,KAAKsqJ,aAAa,QAAS5tI,EACtC,CACA1c,KAAK6kB,GAAGjF,WAAa5f,KAAKuiB,OAAO3C,WACjC5f,KAAKuvJ,mBACT,CAMAA,oBACIvvJ,KAAK6kB,GAAGuG,OAAS,KACTprB,KAAKyL,KAAK22F,WACVpiG,KAAK6kB,GAAGlC,QAAQ0/E,QAEpBriG,KAAKirJ,QAAQ,EAEjBjrJ,KAAK6kB,GAAGqG,QAAWskI,GAAexvJ,KAAKgqJ,QAAQ,CAC3Cj4F,YAAa,8BACbp1B,QAAS6yH,IAEbxvJ,KAAK6kB,GAAGwG,UAAay3E,GAAO9iG,KAAKgsJ,OAAOlpD,EAAGxrF,MAC3CtX,KAAK6kB,GAAGsG,QAAWhd,GAAMnO,KAAKyB,QAAQ,kBAAmB0M,EAC7D,CACA6F,MAAMw3I,GACFxrJ,KAAKupB,UAAW,EAGhB,IAAK,IAAIhe,EAAI,EAAGA,EAAIigJ,EAAQplJ,OAAQmF,IAAK,CACrC,MAAM2/I,EAASM,EAAQjgJ,GACjBkkJ,EAAalkJ,IAAMigJ,EAAQplJ,OAAS,GAC1C,EAAI0iJ,EAAmB4G,cAAcxE,EAAQlrJ,KAAK0tJ,gBAAiBp2I,IAE/D,MAAM7L,EAAO,CAAC,GACT88I,EAA2B4G,wBACxBjE,EAAOvlJ,UACP8F,EAAK6S,SAAW4sI,EAAOvlJ,QAAQ2Y,UAE/Bte,KAAKyL,KAAKqY,qBAGV,iBAAoBxM,EAAON,OAAOG,WAAWG,GAAQA,EAAKlR,QAChDpG,KAAKyL,KAAKqY,kBAAkB/G,YAClCtR,EAAK6S,UAAW,GAO5B,IACQiqI,EAA2B4G,sBAE3BnvJ,KAAK6kB,GAAGhB,KAAKvM,GAGbtX,KAAK6kB,GAAGhB,KAAKvM,EAAM7L,EAE3B,CACA,MAAO0C,GACH0C,EAAM,wCACV,CACI4+I,IAGA,EAAIlH,EAA2BhjI,WAAU,KACrCvlB,KAAKupB,UAAW,EAChBvpB,KAAKsqJ,aAAa,QAAQ,GAC3BtqJ,KAAKqqJ,aACZ,GAER,CACJ,CACA0B,eAC2B,IAAZ/rJ,KAAK6kB,KACZ7kB,KAAK6kB,GAAGpY,QACRzM,KAAK6kB,GAAK,KAElB,CAMAkvC,MACI,MAAM3B,EAASpyD,KAAKyL,KAAKwd,OAAS,MAAQ,KACpC0nC,EAAQ3wD,KAAK2wD,OAAS,CAAC,EAS7B,OAPI3wD,KAAKyL,KAAKyiJ,oBACVv9F,EAAM3wD,KAAKyL,KAAK29I,iBAAkB,EAAI4D,EAAWvF,UAGhDznJ,KAAK0tJ,iBACN/8F,EAAMw9F,IAAM,GAETnuJ,KAAKmsJ,UAAU/5F,EAAQzB,EAClC,CAOA3nB,QACI,QAASu/G,EAA2BnyI,SACxC,EAEJvb,EAAQ6xJ,GAAKA,qCChKb,IAAIlE,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+xJ,QAAK,EACb,MAAMzE,EAAiB,EAAQ,MACzBI,EAA6B,EAAQ,IACrCO,EAAqB,EAAQ,MAE7Bj4I,GAAQ,EADE23I,EAAgB,EAAQ,OACdxrJ,SAAS,iCACnC,MAAM4vJ,UAAWzE,EAAeH,UACxB3pJ,WACA,MAAO,cACX,CACAytJ,SAEgC,mBAAjB6D,eAIX3vJ,KAAK8pJ,UAAY,IAAI6F,aAAa3vJ,KAAKmsJ,UAAU,SAAUnsJ,KAAKyL,KAAK89I,iBAAiBvpJ,KAAK3B,OAC3F2B,KAAK8pJ,UAAUhoE,OACV/nD,MAAK,KACNlpB,EAAM,+BACN7Q,KAAKgqJ,SAAS,IAEbhwH,OAAOtd,IACR7L,EAAM,6BAA8B6L,GACpC1c,KAAKyB,QAAQ,qBAAsBib,EAAI,IAG3C1c,KAAK8pJ,UAAU//D,MAAMhwD,MAAK,KACtB/5B,KAAK8pJ,UAAU8F,4BAA4B71H,MAAMxV,IAC7C,MAAMsrI,GAAgB,EAAI/G,EAAmBgH,2BAA2B3zJ,OAAO2kF,iBAAkB9gF,KAAKuiB,OAAO3C,YACvGm/D,EAASx6D,EAAO+E,SAAS+iC,YAAYwjG,GAAerrG,YACpDurG,GAAgB,EAAIjH,EAAmBkH,6BAC7CD,EAAczmI,SAASwvE,OAAOv0E,EAAOgF,UACrCvpB,KAAKgwF,OAAS+/D,EAAcxmI,SAASolE,YACrC,MAAMvxF,EAAO,KACT2hF,EACK3hF,OACA28B,MAAK,EAAGn7B,OAAM9D,YACX8D,EACAiS,EAAM,sBAGVA,EAAM,qBAAsB/V,GAC5BkF,KAAKyqJ,SAAS3vJ,GACdsC,IAAM,IAEL48B,OAAOtd,IACR7L,EAAM,sCAAuC6L,EAAI,GACnD,EAENtf,IACA,MAAM8tJ,EAAS,CAAElkJ,KAAM,QACnBhH,KAAK2wD,MAAMw5F,MACXe,EAAO5zI,KAAO,WAAWtX,KAAK2wD,MAAMw5F,SAExCnqJ,KAAKgwF,OAAOh8E,MAAMk3I,GAAQnxH,MAAK,IAAM/5B,KAAKirJ,UAAS,GACrD,IAEV,CACAj3I,MAAMw3I,GACFxrJ,KAAKupB,UAAW,EAChB,IAAK,IAAIhe,EAAI,EAAGA,EAAIigJ,EAAQplJ,OAAQmF,IAAK,CACrC,MAAM2/I,EAASM,EAAQjgJ,GACjBkkJ,EAAalkJ,IAAMigJ,EAAQplJ,OAAS,EAC1CpG,KAAKgwF,OAAOh8E,MAAMk3I,GAAQnxH,MAAK,KACvB01H,IACA,EAAIlH,EAA2BhjI,WAAU,KACrCvlB,KAAKupB,UAAW,EAChBvpB,KAAKsqJ,aAAa,QAAQ,GAC3BtqJ,KAAKqqJ,aACZ,GAER,CACJ,CACA0B,UACI,IAAIjwE,EACsB,QAAzBA,EAAK97E,KAAK8pJ,iBAA8B,IAAPhuE,GAAyBA,EAAGrvE,OAClE,EAEJ5R,EAAQ+xJ,GAAKA,qCCnFb,IAAIqD,EAAmBjwJ,MAAQA,KAAKiwJ,kBAAqBt1J,OAAOqL,OAAS,SAAU8O,EAAGw2B,EAAG12B,EAAGs7I,QAC7Ez0J,IAAPy0J,IAAkBA,EAAKt7I,GAC3B,IAAIu7I,EAAOx1J,OAAOisJ,yBAAyBt7G,EAAG12B,GACzCu7I,KAAS,QAASA,GAAQ7kH,EAAEo9G,WAAayH,EAAK5mI,UAAY4mI,EAAK59I,gBAClE49I,EAAO,CAAE79I,YAAY,EAAME,IAAK,WAAa,OAAO84B,EAAE12B,EAAI,IAE5Dja,OAAOC,eAAeka,EAAGo7I,EAAIC,EAChC,EAAI,SAAUr7I,EAAGw2B,EAAG12B,EAAGs7I,QACTz0J,IAAPy0J,IAAkBA,EAAKt7I,GAC3BE,EAAEo7I,GAAM5kH,EAAE12B,EACb,GACGw7I,EAAsBpwJ,MAAQA,KAAKowJ,qBAAwBz1J,OAAOqL,OAAS,SAAU8O,EAAG9D,GACxFrW,OAAOC,eAAeka,EAAG,UAAW,CAAExC,YAAY,EAAMxX,MAAOkW,GAClE,EAAI,SAAS8D,EAAG9D,GACb8D,EAAW,QAAI9D,CACnB,GACIq/I,EAAgBrwJ,MAAQA,KAAKqwJ,cAAiB,SAAU5H,GACxD,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIjpJ,EAAS,CAAC,EACd,GAAW,MAAPipJ,EAAa,IAAK,IAAI7zI,KAAK6zI,EAAe,YAAN7zI,GAAmBja,OAAOqe,UAAUwhC,eAAetoC,KAAKu2I,EAAK7zI,IAAIq7I,EAAgBzwJ,EAAQipJ,EAAK7zI,GAEtI,OADAw7I,EAAmB5wJ,EAAQipJ,GACpBjpJ,CACX,EACA7E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQy1J,UAAYz1J,EAAQ2K,MAAQ3K,EAAQ+yJ,gBAAkB/yJ,EAAQuyJ,SAAM,EAC5E,MAAMmD,EAAuBF,EAAa,EAAQ,OASlD,SAAS7qJ,EAAMgrJ,GACX,MAAMliI,EAAQkiI,EAAgBx0J,MAAM,MAC9BuP,EAAI+iB,EAAM,GAAGvhB,QAAQ,KAC3B,IAAW,IAAPxB,EACA,OAEJ,MAAMlN,EAAOiwB,EAAM,GAAGtb,UAAU,EAAGzH,GAAG6B,OACtC,IAAK/O,EAAK+H,OACN,OAEJ,IAAItL,EAAQwzB,EAAM,GAAGtb,UAAUzH,EAAI,GAAG6B,OACV,KAAxBtS,EAAM2Y,WAAW,KAEjB3Y,EAAQA,EAAM4R,MAAM,GAAI,IAE5B,MAAMkiB,EAAS,CACXvwB,OACAvD,SAEJ,IAAK,IAAIiW,EAAI,EAAGA,EAAIud,EAAMloB,OAAQ2K,IAAK,CACnC,MAAM0/I,EAAWniI,EAAMvd,GAAG/U,MAAM,KAChC,GAAwB,IAApBy0J,EAASrqJ,OACT,SAEJ,MAAMmN,EAAMk9I,EAAS,GAAGrjJ,OAClBtS,EAAQ21J,EAAS,GAAGrjJ,OAC1B,OAAQmG,GACJ,IAAK,UACDqb,EAAO8hI,QAAU,IAAI/+I,KAAK7W,GAC1B,MACJ,IAAK,UACD,MAAM61J,EAAa,IAAIh/I,KACvBg/I,EAAWC,cAAcD,EAAWE,gBAAkBz0J,SAAStB,EAAO,KACtE8zB,EAAO8hI,QAAUC,EAK7B,CACA,OAAO/hI,CACX,CAhDA/zB,EAAQuyJ,IAAMmD,EAAqBvzJ,SAAWuzJ,EAI9C11J,EAAQ+yJ,gBAHR,WACI,OAAO,IAAI0C,CACf,EA8CAz1J,EAAQ2K,MAAQA,EAChB,MAAM8qJ,EACFxwJ,cACIE,KAAK8wJ,QAAU,IAAI77H,GACvB,CACA05H,aAAaJ,GACT,MAAMzpJ,EAASypJ,EAAIvtD,kBAAkB,cAChCl8F,GAGLA,EAAOgI,SAAShS,IACZ,MAAM08C,EAAShyC,EAAM1K,GACjB08C,GACAx3C,KAAK8wJ,QAAQr+I,IAAI+kC,EAAOn5C,KAAMm5C,EAClC,GAER,CACAi3G,WAAWF,GACP,MAAMuC,EAAU,GAChB9wJ,KAAK8wJ,QAAQhkJ,SAAQ,CAAC8hB,EAAQvwB,KAC1B,IAAIy9E,GAC2B,QAAzBA,EAAKltD,EAAO8hI,eAA4B,IAAP50E,OAAgB,EAASA,EAAGlV,WAAaj1D,KAAK2iD,MACjFt0D,KAAK8wJ,QAAQlnI,OAAOvrB,GAGpByyJ,EAAQnvJ,KAAK,GAAGtD,KAAQuwB,EAAO9zB,QACnC,IAEAg2J,EAAQ1qJ,SACRmoJ,EAAI1tD,uBAAsB,GAC1B0tD,EAAIztD,iBAAiB,SAAUgwD,EAAQtsJ,KAAK,OAEpD,EAEJ3J,EAAQy1J,UAAYA,+BC7GpB31J,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQsc,WAAatc,EAAQgtJ,sBAAwBhtJ,EAAQyzJ,UAAO,EACpE,MAAMpB,EAAkB,EAAQ,MAShCryJ,EAAQyzJ,KARR,SAAc75I,KAAQs8I,GAClB,OAAOA,EAAK1pJ,QAAO,CAACqG,EAAKkH,KACjBH,EAAI+lC,eAAe5lC,KACnBlH,EAAIkH,GAAKH,EAAIG,IAEVlH,IACR,CAAC,EACR,EAGA,MAAMsjJ,EAAqB9D,EAAgBtF,eAAe97H,WACpDmlI,EAAuB/D,EAAgBtF,eAAep4H,aAW5D30B,EAAQgtJ,sBAVR,SAA+BpzI,EAAKhJ,GAC5BA,EAAKylJ,iBACLz8I,EAAI41I,aAAe2G,EAAmBzwJ,KAAK2sJ,EAAgBtF,gBAC3DnzI,EAAI82I,eAAiB0F,EAAqB1wJ,KAAK2sJ,EAAgBtF,kBAG/DnzI,EAAI41I,aAAe6C,EAAgBtF,eAAe97H,WAAWvrB,KAAK2sJ,EAAgBtF,gBAClFnzI,EAAI82I,eAAiB2B,EAAgBtF,eAAep4H,aAAajvB,KAAK2sJ,EAAgBtF,gBAE9F,EAYA/sJ,EAAQsc,WAPR,SAAoB1C,GAChB,MAAmB,iBAARA,EAOf,SAAoBO,GAChB,IAAIvG,EAAI,EAAGrI,EAAS,EACpB,IAAK,IAAImF,EAAI,EAAGk0I,EAAIzqI,EAAI5O,OAAQmF,EAAIk0I,EAAGl0I,IACnCkD,EAAIuG,EAAIvB,WAAWlI,GACfkD,EAAI,IACJrI,GAAU,EAELqI,EAAI,KACTrI,GAAU,EAELqI,EAAI,OAAUA,GAAK,MACxBrI,GAAU,GAGVmF,IACAnF,GAAU,GAGlB,OAAOA,CACX,CAzBe+qJ,CAAW18I,GAGf7I,KAAKu0E,KAPQ,MAOF1rE,EAAI0C,YAAc1C,EAAI+T,MAC5C,6BCnCA7tB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQu2J,aAAev2J,EAAQw2J,qBAAuBx2J,EAAQy2J,kBAAe,EAC7E,MAAMA,EAAe32J,OAAOqL,OAAO,MACnCnL,EAAQy2J,aAAeA,EACvBA,EAAmB,KAAI,IACvBA,EAAoB,MAAI,IACxBA,EAAmB,KAAI,IACvBA,EAAmB,KAAI,IACvBA,EAAsB,QAAI,IAC1BA,EAAsB,QAAI,IAC1BA,EAAmB,KAAI,IACvB,MAAMD,EAAuB12J,OAAOqL,OAAO,MAC3CnL,EAAQw2J,qBAAuBA,EAC/B12J,OAAO2Y,KAAKg+I,GAAcxkJ,SAASyG,IAC/B89I,EAAqBC,EAAa/9I,IAAQA,CAAG,IAGjD1Y,EAAQu2J,aADa,CAAEpqJ,KAAM,QAASsQ,KAAM,6CChB5C3c,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQoxJ,kBAAe,EACvB,MAAMsF,EAAe,EAAQ,MA4B7B12J,EAAQoxJ,aA3Ba,CAACuF,EAAe5xI,KACjC,GAA6B,iBAAlB4xI,EACP,MAAO,CACHxqJ,KAAM,UACNsQ,KAAMm6I,EAAUD,EAAe5xI,IAGvC,MAAM5Y,EAAOwqJ,EAAcz2H,OAAO,GAClC,GAAa,MAAT/zB,EAAc,CACd,MAAMiH,EAAS+I,OAAOU,KAAK85I,EAAcx+I,UAAU,GAAI,UACvD,MAAO,CACHhM,KAAM,UACNsQ,KAAMm6I,EAAUxjJ,EAAQ2R,GAEhC,CACA,OAAK2xI,EAAaF,qBAAqBrqJ,GAGhCwqJ,EAAcprJ,OAAS,EACxB,CACEY,KAAMuqJ,EAAaF,qBAAqBrqJ,GACxCsQ,KAAMk6I,EAAcx+I,UAAU,IAEhC,CACEhM,KAAMuqJ,EAAaF,qBAAqBrqJ,IARrCuqJ,EAAaH,YASnB,EAGT,MAAMK,EAAY,CAACn6I,EAAMsI,IAEZ,gBADDA,EAEItI,aAAgBG,YAETH,EAEFN,OAAOQ,SAASF,GAEdA,EAAKrJ,OAAOvB,MAAM4K,EAAKF,WAAYE,EAAKF,WAAaE,EAAKH,YAI1DG,EAAKrJ,OAIZ+I,OAAOQ,SAASF,GAETA,EAIAN,OAAOU,KAAKJ,gCCtDnC3c,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ62J,qBAAuB72J,EAAQ60J,kBAAe,EACtD,MAAM6B,EAAe,EAAQ,MAQ7B12J,EAAQ60J,aAPa,EAAG1oJ,OAAMsQ,QAAQo2I,EAAgBvwJ,IAC9Cma,aAAgBG,aAAeA,YAAYE,OAAOL,GAC3Cna,EAASuwJ,EAAiBp2I,EAAO,IAAMD,EAASC,GAAM,GAAMvE,SAAS,WAGzE5V,EAASo0J,EAAaD,aAAatqJ,IAASsQ,GAAQ,KAG/D,MAAMD,EAAW,CAACC,EAAMq6I,IAChB36I,OAAOQ,SAASF,IACfA,aAAgB6J,aAAewwI,EACzBr6I,EAEFA,aAAgBG,YACdT,OAAOU,KAAKJ,GAGZN,OAAOU,KAAKJ,EAAKrJ,OAAQqJ,EAAKF,WAAYE,EAAKH,YAG9D,IAAIy6I,EAaJ/2J,EAAQ62J,qBAZR,SAA8BxG,EAAQ/tJ,GAClC,GAAI+tJ,EAAO5zI,gBAAgBG,aAAeA,YAAYE,OAAOuzI,EAAO5zI,MAChE,OAAOna,EAASka,EAAS6zI,EAAO5zI,MAAM,KAE1C,EAAIzc,EAAQ60J,cAAcxE,GAAQ,GAAOvD,IAChCiK,IAEDA,EAAe,IAAIp9F,aAEvBr3D,EAASy0J,EAAan9F,OAAOkzF,GAAS,GAE9C,+BCnCAhtJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkzJ,cAAgBlzJ,EAAQoxJ,aAAepxJ,EAAQmzJ,cAAgBnzJ,EAAQ60J,aAAe70J,EAAQmrB,SAAWnrB,EAAQi1J,0BAA4Bj1J,EAAQm1J,+BAA4B,EACzL,MAAM6B,EAAoB,EAAQ,MAClCl3J,OAAOC,eAAeC,EAAS,eAAgB,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAOq/I,EAAkBnC,YAAc,IAC7H,MAAMoC,EAAoB,EAAQ,MAClCn3J,OAAOC,eAAeC,EAAS,eAAgB,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAOs/I,EAAkB7F,YAAc,IAC7H,MAAMsF,EAAe,EAAQ,MACvBQ,EAAYhzH,OAAOI,aAAa,IAiEtC,IAAI6yH,EACJ,SAASl7I,EAAY46C,GACjB,OAAOA,EAAOrqD,QAAO,CAACqG,EAAK2O,IAAU3O,EAAM2O,EAAMjW,QAAQ,EAC7D,CACA,SAAS6rJ,EAAavgG,EAAQlpC,GAC1B,GAAIkpC,EAAO,GAAGtrD,SAAWoiB,EACrB,OAAOkpC,EAAOrlD,QAElB,MAAM4B,EAAS,IAAIkT,WAAWqH,GAC9B,IAAIzX,EAAI,EACR,IAAK,IAAIxF,EAAI,EAAGA,EAAIid,EAAMjd,IACtB0C,EAAO1C,GAAKmmD,EAAO,GAAG3gD,KAClBA,IAAM2gD,EAAO,GAAGtrD,SAChBsrD,EAAOrlD,QACP0E,EAAI,GAMZ,OAHI2gD,EAAOtrD,QAAU2K,EAAI2gD,EAAO,GAAGtrD,SAC/BsrD,EAAO,GAAKA,EAAO,GAAGhlD,MAAMqE,IAEzB9C,CACX,CAtEApT,EAAQmzJ,cAfc,CAACxC,EAASruJ,KAE5B,MAAMiJ,EAASolJ,EAAQplJ,OACjB8rJ,EAAiB,IAAIrsJ,MAAMO,GACjC,IAAI8tC,EAAQ,EACZs3G,EAAQ1+I,SAAQ,CAACo+I,EAAQ3/I,MAErB,EAAIsmJ,EAAkBnC,cAAcxE,GAAQ,GAAQsG,IAChDU,EAAe3mJ,GAAKimJ,IACdt9G,IAAU9tC,GACZjJ,EAAS+0J,EAAe1tJ,KAAKutJ,GACjC,GACF,GACJ,EAeNl3J,EAAQkzJ,cAZc,CAACoE,EAAgBvyI,KACnC,MAAMsyI,EAAiBC,EAAen2J,MAAM+1J,GACtCvG,EAAU,GAChB,IAAK,IAAIjgJ,EAAI,EAAGA,EAAI2mJ,EAAe9rJ,OAAQmF,IAAK,CAC5C,MAAM6mJ,GAAgB,EAAIN,EAAkB7F,cAAciG,EAAe3mJ,GAAIqU,GAE7E,GADA4rI,EAAQ7pJ,KAAKywJ,GACc,UAAvBA,EAAcprJ,KACd,KAER,CACA,OAAOwkJ,CAAO,EAqClB3wJ,EAAQm1J,0BAlCR,WAEI,OAAO,IAAIh0D,gBAAgB,CACvBrrE,UAAUu6H,EAAQ1+F,IACd,EAAIqlG,EAAkBH,sBAAsBxG,GAASsG,IACjD,MAAMtuI,EAAgBsuI,EAAcprJ,OACpC,IAAIwU,EAEJ,GAAIsI,EAAgB,IAChBtI,EAAS,IAAIuG,WAAW,GACxB,IAAIykE,SAAShrE,EAAO3M,QAAQokJ,SAAS,EAAGnvI,QAEvC,GAAIA,EAAgB,MAAO,CAC5BtI,EAAS,IAAIuG,WAAW,GACxB,MAAM2kE,EAAO,IAAIF,SAAShrE,EAAO3M,QACjC63E,EAAKusE,SAAS,EAAG,KACjBvsE,EAAKwsE,UAAU,EAAGpvI,EACtB,KACK,CACDtI,EAAS,IAAIuG,WAAW,GACxB,MAAM2kE,EAAO,IAAIF,SAAShrE,EAAO3M,QACjC63E,EAAKusE,SAAS,EAAG,KACjBvsE,EAAKysE,aAAa,EAAGC,OAAOtvI,GAChC,CAEIgoI,EAAO5zI,MAA+B,iBAAhB4zI,EAAO5zI,OAC7BsD,EAAO,IAAM,KAEjB4xC,EAAWjpC,QAAQ3I,GACnB4xC,EAAWjpC,QAAQiuI,EAAc,GAEzC,GAER,EA6FA32J,EAAQi1J,0BArER,SAAmCjzI,EAAY+C,GACtCoyI,IACDA,EAAe,IAAIjmF,aAEvB,MAAMra,EAAS,GACf,IAAIrnB,EAAQ,EACRooH,GAAkB,EAClB54I,GAAW,EAEf,OAAO,IAAImiF,gBAAgB,CACvBrrE,UAAUtU,EAAOmwC,GAEb,IADAkF,EAAO/vD,KAAK0a,KACC,CACT,GAAc,IAAVguB,EAA+B,CAC/B,GAAIvzB,EAAY46C,GAAU,EACtB,MAEJ,MAAM92C,EAASq3I,EAAavgG,EAAQ,GACpC73C,EAAkC,MAAV,IAAZe,EAAO,IACnB63I,EAA6B,IAAZ73I,EAAO,GAEpByvB,EADAooH,EAAiB,IACT,EAEgB,MAAnBA,EACG,EAGA,CAEhB,MACK,GAAc,IAAVpoH,EAA2C,CAChD,GAAIvzB,EAAY46C,GAAU,EACtB,MAEJ,MAAMghG,EAAcT,EAAavgG,EAAQ,GACzC+gG,EAAiB,IAAI7sE,SAAS8sE,EAAYzkJ,OAAQykJ,EAAYt7I,WAAYs7I,EAAYtsJ,QAAQusJ,UAAU,GACxGtoH,EAAQ,CACZ,MACK,GAAc,IAAVA,EAA2C,CAChD,GAAIvzB,EAAY46C,GAAU,EACtB,MAEJ,MAAMghG,EAAcT,EAAavgG,EAAQ,GACnCo0B,EAAO,IAAIF,SAAS8sE,EAAYzkJ,OAAQykJ,EAAYt7I,WAAYs7I,EAAYtsJ,QAC5EoH,EAAIs4E,EAAK8sE,UAAU,GACzB,GAAIplJ,EAAI5B,KAAKiW,IAAI,EAAG,IAAW,EAAG,CAE9B2qC,EAAWjpC,QAAQguI,EAAaH,cAChC,KACJ,CACAqB,EAAiBjlJ,EAAI5B,KAAKiW,IAAI,EAAG,IAAMikE,EAAK8sE,UAAU,GACtDvoH,EAAQ,CACZ,KACK,CACD,GAAIvzB,EAAY46C,GAAU+gG,EACtB,MAEJ,MAAMn7I,EAAO26I,EAAavgG,EAAQ+gG,GAClCjmG,EAAWjpC,SAAQ,EAAIuuI,EAAkB7F,cAAcpyI,EAAWvC,EAAO06I,EAAahmF,OAAO10D,GAAOsI,IACpGyqB,EAAQ,CACZ,CACA,GAAuB,IAAnBooH,GAAwBA,EAAiB51I,EAAY,CACrD2vC,EAAWjpC,QAAQguI,EAAaH,cAChC,KACJ,CACJ,CACJ,GAER,EAEAv2J,EAAQmrB,SAAW,kBCjKnB,IAAK+lB,WAAWwgB,eAId,IACE,MAAM1wD,EAAU,EAAQ,OAClB,YAAEg3J,GAAgBh3J,EACxB,IACEA,EAAQg3J,YAAc,OACtBl4J,OAAOe,OAAOqwC,WAAY,EAAQ,OAClClwC,EAAQg3J,YAAcA,CACxB,CAAE,MAAOtzJ,GAEP,MADA1D,EAAQg3J,YAAcA,EAChBtzJ,CACR,CACF,CAAE,MAAOA,GAEP5E,OAAOe,OAAOqwC,WAAY,EAAQ,KACpC,CAGF,IAGE,MAAM,KAAE+mH,GAAS,EAAQ,MACrBA,IAASA,EAAK95I,UAAUuL,SAC1BuuI,EAAK95I,UAAUuL,OAAS,SAAe5J,GACrC,IAAIwpB,EAAW,EACf,MAAM4uH,EAAO/yJ,KAEb,OAAO,IAAIusD,eAAe,CACxBvlD,KAAM,QACNrK,WAAYq2J,GACV,MAAM32I,EAAQ02I,EAAKrmJ,MAAMy3B,EAAUv4B,KAAKC,IAAIknJ,EAAKvqI,KAAM2b,EAnC/C,QAoCFl2B,QAAeoO,EAAM42I,cAC3B9uH,GAAYl2B,EAAOkJ,WACnB67I,EAAKzvI,QAAQ,IAAIpC,WAAWlT,IAExBk2B,IAAa4uH,EAAKvqI,MACpBwqI,EAAKvmJ,OAET,GAEJ,EAEJ,CAAE,MAAOlN,GAAQ,6BCnCjB,SAAS2zJ,EAAQznJ,GACbA,EAAOA,GAAQ,CAAC,EAChBzL,KAAK4R,GAAKnG,EAAKI,KAAO,IACtB7L,KAAK0L,IAAMD,EAAKC,KAAO,IACvB1L,KAAKmzJ,OAAS1nJ,EAAK0nJ,QAAU,EAC7BnzJ,KAAKozJ,OAAS3nJ,EAAK2nJ,OAAS,GAAK3nJ,EAAK2nJ,QAAU,EAAI3nJ,EAAK2nJ,OAAS,EAClEpzJ,KAAKqzJ,SAAW,CACpB,CATA14J,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQq4J,aAAU,EASlBr4J,EAAQq4J,QAAUA,EAOlBA,EAAQl6I,UAAU2tD,SAAW,WACzB,IAAI/0D,EAAK5R,KAAK4R,GAAKhG,KAAKiW,IAAI7hB,KAAKmzJ,OAAQnzJ,KAAKqzJ,YAC9C,GAAIrzJ,KAAKozJ,OAAQ,CACb,IAAIE,EAAO1nJ,KAAKihE,SACZ0mF,EAAY3nJ,KAAKy3C,MAAMiwG,EAAOtzJ,KAAKozJ,OAASxhJ,GAChDA,EAAoC,IAAN,EAAxBhG,KAAKy3C,MAAa,GAAPiwG,IAAuB1hJ,EAAK2hJ,EAAY3hJ,EAAK2hJ,CAClE,CACA,OAAgC,EAAzB3nJ,KAAKC,IAAI+F,EAAI5R,KAAK0L,IAC7B,EAMAwnJ,EAAQl6I,UAAUwD,MAAQ,WACtBxc,KAAKqzJ,SAAW,CACpB,EAMAH,EAAQl6I,UAAUw6I,OAAS,SAAU3nJ,GACjC7L,KAAK4R,GAAK/F,CACd,EAMAqnJ,EAAQl6I,UAAUy6I,OAAS,SAAU/nJ,GACjC1L,KAAK0L,IAAMA,CACf,EAMAwnJ,EAAQl6I,UAAU06I,UAAY,SAAUN,GACpCpzJ,KAAKozJ,OAASA,CAClB,qCCpEA,IAAI5K,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAA,QAAkBA,EAAQs0B,QAAUt0B,EAAQgkE,GAAKhkE,EAAQotJ,OAASptJ,EAAQ84J,QAAU94J,EAAQmrB,cAAW,EACvG,MAAM4tI,EAAW,EAAQ,MACnBC,EAAe,EAAQ,MAC7Bl5J,OAAOC,eAAeC,EAAS,UAAW,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAOqhJ,EAAaF,OAAS,IAC9G,MAAMzL,EAAc,EAAQ,KAC5BvtJ,OAAOC,eAAeC,EAAS,SAAU,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAO01I,EAAYD,MAAQ,IAC3G,MACMp3I,EADU23I,EAAgB,EAAQ,OAClBxrJ,QAAQ,oBAIxB6/B,EAAQ,CAAC,EACf,SAASi3H,EAAO//F,EAAKtoD,GACE,iBAARsoD,IACPtoD,EAAOsoD,EACPA,OAAMt4D,GAEVgQ,EAAOA,GAAQ,CAAC,EAChB,MAAM+rC,EAASo8G,EAASlrI,IAAIqrC,EAAKtoD,EAAKxO,MAAQ,cACxC6Q,EAAS0pC,EAAO1pC,OAChBipD,EAAKvf,EAAOuf,GACZ95D,EAAOu6C,EAAOv6C,KACd82J,EAAgBl3H,EAAMk6B,IAAO95D,KAAQ4/B,EAAMk6B,GAAU,KAK3D,IAAI8H,EAeJ,OAnBsBpzD,EAAKuoJ,UACvBvoJ,EAAK,0BACL,IAAUA,EAAKwoJ,WACfF,GAGAljJ,EAAM,+BAAgC/C,GACtC+wD,EAAK,IAAIg1F,EAAaF,QAAQ7lJ,EAAQrC,KAGjCoxB,EAAMk6B,KACPlmD,EAAM,yBAA0B/C,GAChC+uB,EAAMk6B,GAAM,IAAI88F,EAAaF,QAAQ7lJ,EAAQrC,IAEjDozD,EAAKhiC,EAAMk6B,IAEXvf,EAAOmZ,QAAUllD,EAAKklD,QACtBllD,EAAKklD,MAAQnZ,EAAOgwG,UAEjB3oF,EAAGt8C,OAAOi1B,EAAOv6C,KAAMwO,EAClC,CACA5Q,EAAQgkE,GAAKi1F,EACbj5J,EAAQs0B,QAAU2kI,EAClBj5J,EAAA,QAAkBi5J,EAGlBn5J,OAAOe,OAAOo4J,EAAQ,CAClBH,QAASE,EAAaF,QACtB1L,OAAQC,EAAYD,OACpBppF,GAAIi1F,EACJ3kI,QAAS2kI,IAOb,IAAII,EAAqB,EAAQ,MACjCv5J,OAAOC,eAAeC,EAAS,WAAY,CAAEyX,YAAY,EAAME,IAAK,WAAc,OAAO0hJ,EAAmBluI,QAAU,IAEtH9gB,EAAOrK,QAAUi5J,qCCnEjB,IAAI7D,EAAmBjwJ,MAAQA,KAAKiwJ,kBAAqBt1J,OAAOqL,OAAS,SAAU8O,EAAGw2B,EAAG12B,EAAGs7I,QAC7Ez0J,IAAPy0J,IAAkBA,EAAKt7I,GAC3Bja,OAAOC,eAAeka,EAAGo7I,EAAI,CAAE59I,YAAY,EAAME,IAAK,WAAa,OAAO84B,EAAE12B,EAAI,GACnF,EAAI,SAAUE,EAAGw2B,EAAG12B,EAAGs7I,QACTz0J,IAAPy0J,IAAkBA,EAAKt7I,GAC3BE,EAAEo7I,GAAM5kH,EAAE12B,EACb,GACGw7I,EAAsBpwJ,MAAQA,KAAKowJ,qBAAwBz1J,OAAOqL,OAAS,SAAU8O,EAAG9D,GACxFrW,OAAOC,eAAeka,EAAG,UAAW,CAAExC,YAAY,EAAMxX,MAAOkW,GAClE,EAAI,SAAS8D,EAAG9D,GACb8D,EAAW,QAAI9D,CACnB,GACIq/I,EAAgBrwJ,MAAQA,KAAKqwJ,cAAiB,SAAU5H,GACxD,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIjpJ,EAAS,CAAC,EACd,GAAW,MAAPipJ,EAAa,IAAK,IAAI7zI,KAAK6zI,EAAe,YAAN7zI,GAAmBja,OAAOqe,UAAUwhC,eAAetoC,KAAKu2I,EAAK7zI,IAAIq7I,EAAgBzwJ,EAAQipJ,EAAK7zI,GAEtI,OADAw7I,EAAmB5wJ,EAAQipJ,GACpBjpJ,CACX,EACIgpJ,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ84J,aAAU,EAClB,MAAMQ,EAAqB,EAAQ,MAC7BjM,EAAc,EAAQ,KACtBlkD,EAASqsD,EAAa,EAAQ,OAC9B+D,EAAU,EAAQ,MAClBC,EAAc,EAAQ,MACtBxL,EAAsB,EAAQ,MAE9Bh4I,EADU23I,EAAgB,EAAQ,OAClBxrJ,QAAQ,4BAC9B,MAAM22J,UAAgB9K,EAAoBE,QACtCjpJ,YAAYi0D,EAAKtoD,GACb,IAAIqwE,EACJt5E,QACAxC,KAAKs0J,KAAO,CAAC,EACbt0J,KAAKu0J,KAAO,GACRxgG,GAAO,iBAAoBA,IAC3BtoD,EAAOsoD,EACPA,OAAMt4D,IAEVgQ,EAAOA,GAAQ,CAAC,GACXxO,KAAOwO,EAAKxO,MAAQ,aACzB+C,KAAKyL,KAAOA,EACZ0oJ,EAAmBtM,sBAAsB7nJ,KAAMyL,GAC/CzL,KAAKw0J,cAAmC,IAAtB/oJ,EAAK+oJ,cACvBx0J,KAAKy0J,qBAAqBhpJ,EAAKgpJ,sBAAwBh5I,KACvDzb,KAAK00J,kBAAkBjpJ,EAAKipJ,mBAAqB,KACjD10J,KAAK20J,qBAAqBlpJ,EAAKkpJ,sBAAwB,KACvD30J,KAAK40J,oBAAwD,QAAnC94E,EAAKrwE,EAAKmpJ,2BAAwC,IAAP94E,EAAgBA,EAAK,IAC1F97E,KAAK60J,QAAU,IAAIR,EAAYnB,QAAQ,CACnCrnJ,IAAK7L,KAAK00J,oBACVhpJ,IAAK1L,KAAK20J,uBACVvB,OAAQpzJ,KAAK40J,wBAEjB50J,KAAKitB,QAAQ,MAAQxhB,EAAKwhB,QAAU,IAAQxhB,EAAKwhB,SACjDjtB,KAAK0qB,YAAc,SACnB1qB,KAAK+zD,IAAMA,EACX,MAAM+gG,EAAUrpJ,EAAKu4F,QAAUA,EAC/BhkG,KAAKisE,QAAU,IAAI6oF,EAAQC,QAC3B/0J,KAAK8rE,QAAU,IAAIgpF,EAAQE,QAC3Bh1J,KAAKi1J,cAAoC,IAArBxpJ,EAAKypJ,YACrBl1J,KAAKi1J,cACLj1J,KAAKoM,MACb,CACAooJ,aAAaxjJ,GACT,OAAKtM,UAAU0B,QAEfpG,KAAKm1J,gBAAkBnkJ,EAChBhR,MAFIA,KAAKm1J,aAGpB,CACAV,qBAAqBzjJ,GACjB,YAAUvV,IAANuV,EACOhR,KAAKo1J,uBAChBp1J,KAAKo1J,sBAAwBpkJ,EACtBhR,KACX,CACA00J,kBAAkB1jJ,GACd,IAAI8qE,EACJ,YAAUrgF,IAANuV,EACOhR,KAAKq1J,oBAChBr1J,KAAKq1J,mBAAqBrkJ,EACF,QAAvB8qE,EAAK97E,KAAK60J,eAA4B,IAAP/4E,GAAyBA,EAAG03E,OAAOxiJ,GAC5DhR,KACX,CACA40J,oBAAoB5jJ,GAChB,IAAI8qE,EACJ,YAAUrgF,IAANuV,EACOhR,KAAKs1J,sBAChBt1J,KAAKs1J,qBAAuBtkJ,EACJ,QAAvB8qE,EAAK97E,KAAK60J,eAA4B,IAAP/4E,GAAyBA,EAAG43E,UAAU1iJ,GAC/DhR,KACX,CACA20J,qBAAqB3jJ,GACjB,IAAI8qE,EACJ,YAAUrgF,IAANuV,EACOhR,KAAKu1J,uBAChBv1J,KAAKu1J,sBAAwBvkJ,EACL,QAAvB8qE,EAAK97E,KAAK60J,eAA4B,IAAP/4E,GAAyBA,EAAG23E,OAAOziJ,GAC5DhR,KACX,CACAitB,QAAQjc,GACJ,OAAKtM,UAAU0B,QAEfpG,KAAKw1J,SAAWxkJ,EACThR,MAFIA,KAAKw1J,QAGpB,CAOAC,wBAESz1J,KAAK01J,eACN11J,KAAKm1J,eACqB,IAA1Bn1J,KAAK60J,QAAQxB,UAEbrzJ,KAAK21J,WAEb,CAQAvpJ,KAAK62B,GAED,GADApyB,EAAM,gBAAiB7Q,KAAK0qB,cACvB1qB,KAAK0qB,YAAY3d,QAAQ,QAC1B,OAAO/M,KACX6Q,EAAM,aAAc7Q,KAAK+zD,KACzB/zD,KAAKq6D,OAAS,IAAI85F,EAAmBlM,OAAOjoJ,KAAK+zD,IAAK/zD,KAAKyL,MAC3D,MAAM8W,EAASviB,KAAKq6D,OACd5oD,EAAOzR,KACbA,KAAK0qB,YAAc,UACnB1qB,KAAK41J,eAAgB,EAErB,MAAMC,EAAiBzB,EAAQ9wJ,GAAGif,EAAQ,QAAQ,WAC9C9Q,EAAK2Z,SACL6X,GAAMA,GACV,IACMxhC,EAAWib,IACb7L,EAAM,SACN7Q,KAAKge,UACLhe,KAAK0qB,YAAc,SACnB1qB,KAAKsqJ,aAAa,QAAS5tI,GACvBumB,EACAA,EAAGvmB,GAIH1c,KAAKy1J,sBACT,EAGEK,EAAW1B,EAAQ9wJ,GAAGif,EAAQ,QAAS9gB,GAC7C,IAAI,IAAUzB,KAAKw1J,SAAU,CACzB,MAAMvoI,EAAUjtB,KAAKw1J,SACrB3kJ,EAAM,wCAAyCoc,GAE/C,MAAM8oI,EAAQ/1J,KAAKqqJ,cAAa,KAC5Bx5I,EAAM,qCAAsCoc,GAC5C4oI,IACAp0J,EAAQ,IAAIxF,MAAM,YAClBsmB,EAAO9V,OAAO,GACfwgB,GACCjtB,KAAKyL,KAAK22F,WACV2zD,EAAM1zD,QAEVriG,KAAKu0J,KAAK5yJ,MAAK,KACX3B,KAAKurJ,eAAewK,EAAM,GAElC,CAGA,OAFA/1J,KAAKu0J,KAAK5yJ,KAAKk0J,GACf71J,KAAKu0J,KAAK5yJ,KAAKm0J,GACR91J,IACX,CAOAmvB,QAAQ8T,GACJ,OAAOjjC,KAAKoM,KAAK62B,EACrB,CAMA7X,SACIva,EAAM,QAEN7Q,KAAKge,UAELhe,KAAK0qB,YAAc,OACnB1qB,KAAKsqJ,aAAa,QAElB,MAAM/nI,EAASviB,KAAKq6D,OACpBr6D,KAAKu0J,KAAK5yJ,KAAKyyJ,EAAQ9wJ,GAAGif,EAAQ,OAAQviB,KAAKg2J,OAAOz1J,KAAKP,OAAQo0J,EAAQ9wJ,GAAGif,EAAQ,OAAQviB,KAAKi2J,OAAO11J,KAAKP,OAAQo0J,EAAQ9wJ,GAAGif,EAAQ,QAASviB,KAAKmrB,QAAQ5qB,KAAKP,OAAQo0J,EAAQ9wJ,GAAGif,EAAQ,QAASviB,KAAKkrB,QAAQ3qB,KAAKP,OAAQo0J,EAAQ9wJ,GAAGtD,KAAK8rE,QAAS,UAAW9rE,KAAKk2J,UAAU31J,KAAKP,OAC/R,CAMAg2J,SACIh2J,KAAKsqJ,aAAa,OACtB,CAMA2L,OAAO3+I,GACH,IACItX,KAAK8rE,QAAQjnE,IAAIyS,EACrB,CACA,MAAOnJ,GACHnO,KAAKkrB,QAAQ,cAAe/c,EAChC,CACJ,CAMA+nJ,UAAUhL,GAENiJ,EAAmB5uI,UAAS,KACxBvlB,KAAKsqJ,aAAa,SAAUY,EAAO,GACpClrJ,KAAKqqJ,aACZ,CAMAl/H,QAAQzO,GACJ7L,EAAM,QAAS6L,GACf1c,KAAKsqJ,aAAa,QAAS5tI,EAC/B,CAOA6F,OAAO4zI,EAAK1qJ,GACR,IAAI8W,EAASviB,KAAKs0J,KAAK6B,GAQvB,OAPK5zI,EAIIviB,KAAKi1J,eAAiB1yI,EAAOm5C,QAClCn5C,EAAO4M,WAJP5M,EAAS,IAAI2lI,EAAYD,OAAOjoJ,KAAMm2J,EAAK1qJ,GAC3CzL,KAAKs0J,KAAK6B,GAAO5zI,GAKdA,CACX,CAOA6C,SAAS7C,GACL,MAAM+xI,EAAO35J,OAAO2Y,KAAKtT,KAAKs0J,MAC9B,IAAK,MAAM6B,KAAO7B,EAEd,GADet0J,KAAKs0J,KAAK6B,GACdz6F,OAEP,YADA7qD,EAAM,4CAA6CslJ,GAI3Dn2J,KAAKo2J,QACT,CAOAC,QAAQnL,GACJr6I,EAAM,oBAAqBq6I,GAC3B,MAAMgH,EAAiBlyJ,KAAKisE,QAAQxX,OAAOy2F,GAC3C,IAAK,IAAI3/I,EAAI,EAAGA,EAAI2mJ,EAAe9rJ,OAAQmF,IACvCvL,KAAKq6D,OAAOrmD,MAAMk+I,EAAe3mJ,GAAI2/I,EAAOvlJ,QAEpD,CAMAqY,UACInN,EAAM,WACN7Q,KAAKu0J,KAAKznJ,SAASwpJ,GAAeA,MAClCt2J,KAAKu0J,KAAKnuJ,OAAS,EACnBpG,KAAK8rE,QAAQ9pE,SACjB,CAMAo0J,SACIvlJ,EAAM,cACN7Q,KAAK41J,eAAgB,EACrB51J,KAAK01J,eAAgB,EACrB11J,KAAKkrB,QAAQ,gBACTlrB,KAAKq6D,QACLr6D,KAAKq6D,OAAO5tD,OACpB,CAMA8pJ,aACI,OAAOv2J,KAAKo2J,QAChB,CAMAlrI,QAAQ/R,EAAQ44C,GACZlhD,EAAM,mBAAoBsI,GAC1BnZ,KAAKge,UACLhe,KAAK60J,QAAQr4I,QACbxc,KAAK0qB,YAAc,SACnB1qB,KAAKsqJ,aAAa,QAASnxI,EAAQ44C,GAC/B/xD,KAAKm1J,gBAAkBn1J,KAAK41J,eAC5B51J,KAAK21J,WAEb,CAMAA,YACI,GAAI31J,KAAK01J,eAAiB11J,KAAK41J,cAC3B,OAAO51J,KACX,MAAMyR,EAAOzR,KACb,GAAIA,KAAK60J,QAAQxB,UAAYrzJ,KAAKo1J,sBAC9BvkJ,EAAM,oBACN7Q,KAAK60J,QAAQr4I,QACbxc,KAAKsqJ,aAAa,oBAClBtqJ,KAAK01J,eAAgB,MAEpB,CACD,MAAMc,EAAQx2J,KAAK60J,QAAQluF,WAC3B91D,EAAM,0CAA2C2lJ,GACjDx2J,KAAK01J,eAAgB,EACrB,MAAMK,EAAQ/1J,KAAKqqJ,cAAa,KACxB54I,EAAKmkJ,gBAET/kJ,EAAM,wBACN7Q,KAAKsqJ,aAAa,oBAAqB74I,EAAKojJ,QAAQxB,UAEhD5hJ,EAAKmkJ,eAETnkJ,EAAKrF,MAAMsQ,IACHA,GACA7L,EAAM,2BACNY,EAAKikJ,eAAgB,EACrBjkJ,EAAKkkJ,YACL31J,KAAKsqJ,aAAa,kBAAmB5tI,KAGrC7L,EAAM,qBACNY,EAAKglJ,cACT,IACF,GACHD,GACCx2J,KAAKyL,KAAK22F,WACV2zD,EAAM1zD,QAEVriG,KAAKu0J,KAAK5yJ,MAAK,KACX3B,KAAKurJ,eAAewK,EAAM,GAElC,CACJ,CAMAU,cACI,MAAMC,EAAU12J,KAAK60J,QAAQxB,SAC7BrzJ,KAAK01J,eAAgB,EACrB11J,KAAK60J,QAAQr4I,QACbxc,KAAKsqJ,aAAa,YAAaoM,EACnC,EAEJ77J,EAAQ84J,QAAUA,6BCjZlBh5J,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyI,QAAK,EAObzI,EAAQyI,GANR,SAAYmR,EAAKquF,EAAI7/D,GAEjB,OADAxuB,EAAInR,GAAGw/F,EAAI7/D,GACJ,WACHxuB,EAAIwqH,IAAIn8B,EAAI7/D,EAChB,CACJ,oCCPA,IAAIulH,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQotJ,YAAS,EACjB,MAAMiM,EAAqB,EAAQ,MAC7BE,EAAU,EAAQ,MAClBvL,EAAsB,EAAQ,MAE9Bh4I,EADU23I,EAAgB,EAAQ,OAClBxrJ,QAAQ,2BAKxB25J,EAAkBh8J,OAAOi8J,OAAO,CAClCznI,QAAS,EACT0nI,cAAe,EACfN,WAAY,EACZO,cAAe,EAEfC,YAAa,EACb58I,eAAgB,IA0BpB,MAAM8tI,UAAeY,EAAoBE,QAIrCjpJ,YAAY++D,EAAIs3F,EAAK1qJ,GACjBjJ,QAeAxC,KAAKg3J,WAAY,EAKjBh3J,KAAKi3J,WAAY,EAIjBj3J,KAAKk3J,cAAgB,GAIrBl3J,KAAKm3J,WAAa,GAOlBn3J,KAAK4C,OAAS,GAKd5C,KAAKo3J,UAAY,EACjBp3J,KAAKq3J,IAAM,EACXr3J,KAAKs3J,KAAO,CAAC,EACbt3J,KAAKygC,MAAQ,CAAC,EACdzgC,KAAK6+D,GAAKA,EACV7+D,KAAKm2J,IAAMA,EACP1qJ,GAAQA,EAAK4iB,OACbruB,KAAKquB,KAAO5iB,EAAK4iB,MAErBruB,KAAKu3J,MAAQ58J,OAAOe,OAAO,CAAC,EAAG+P,GAC3BzL,KAAK6+D,GAAGo2F,cACRj1J,KAAKoM,MACb,CAeIorJ,mBACA,OAAQx3J,KAAKg3J,SACjB,CAMAS,YACI,GAAIz3J,KAAKu0J,KACL,OACJ,MAAM11F,EAAK7+D,KAAK6+D,GAChB7+D,KAAKu0J,KAAO,CACRH,EAAQ9wJ,GAAGu7D,EAAI,OAAQ7+D,KAAKorB,OAAO7qB,KAAKP,OACxCo0J,EAAQ9wJ,GAAGu7D,EAAI,SAAU7+D,KAAK03J,SAASn3J,KAAKP,OAC5Co0J,EAAQ9wJ,GAAGu7D,EAAI,QAAS7+D,KAAKmrB,QAAQ5qB,KAAKP,OAC1Co0J,EAAQ9wJ,GAAGu7D,EAAI,QAAS7+D,KAAKkrB,QAAQ3qB,KAAKP,OAElD,CAkBI07D,aACA,QAAS17D,KAAKu0J,IAClB,CAWAplI,UACI,OAAInvB,KAAKg3J,YAETh3J,KAAKy3J,YACAz3J,KAAK6+D,GAAkB,eACxB7+D,KAAK6+D,GAAGzyD,OACR,SAAWpM,KAAK6+D,GAAGn0C,aACnB1qB,KAAKorB,UALEprB,IAOf,CAIAoM,OACI,OAAOpM,KAAKmvB,SAChB,CAgBAtL,QAAQzc,GAGJ,OAFAA,EAAK0K,QAAQ,WACb9R,KAAKkC,KAAKiQ,MAAMnS,KAAMoH,GACfpH,IACX,CAkBAkC,KAAK4gG,KAAO17F,GACR,GAAIuvJ,EAAgBn8G,eAAesoD,GAC/B,MAAM,IAAI7mG,MAAM,IAAM6mG,EAAG/vF,WAAa,8BAG1C,GADA3L,EAAK0K,QAAQgxF,GACT9iG,KAAKu3J,MAAMI,UAAY33J,KAAKygC,MAAMm3H,YAAc53J,KAAKygC,MAAMo3H,SAE3D,OADA73J,KAAK83J,YAAY1wJ,GACVpH,KAEX,MAAMkrJ,EAAS,CACXlkJ,KAAMktJ,EAAmB6D,WAAWC,MACpC1gJ,KAAMlQ,EAEV8jJ,QAAiB,CAAC,GAGlB,GAFAA,EAAOvlJ,QAAQ2Y,UAAmC,IAAxBte,KAAKygC,MAAMniB,SAEjC,mBAAsBlX,EAAKA,EAAKhB,OAAS,GAAI,CAC7C,MAAM2wD,EAAK/2D,KAAKq3J,MAChBxmJ,EAAM,iCAAkCkmD,GACxC,MAAMkhG,EAAM7wJ,EAAK6D,MACjBjL,KAAKk4J,qBAAqBnhG,EAAIkhG,GAC9B/M,EAAOn0F,GAAKA,CAChB,CACA,MAAMohG,EAAsBn4J,KAAK6+D,GAAGxE,QAChCr6D,KAAK6+D,GAAGxE,OAAOyvF,WACf9pJ,KAAK6+D,GAAGxE,OAAOyvF,UAAUvgI,SAa7B,OAZsBvpB,KAAKygC,MAAMo3H,UAAcM,GAAwBn4J,KAAKg3J,UAInEh3J,KAAKg3J,WACVh3J,KAAKo4J,wBAAwBlN,GAC7BlrJ,KAAKkrJ,OAAOA,IAGZlrJ,KAAKm3J,WAAWx1J,KAAKupJ,GAPrBr6I,EAAM,6DASV7Q,KAAKygC,MAAQ,CAAC,EACPzgC,IACX,CAIAk4J,qBAAqBnhG,EAAIkhG,GACrB,IAAIn8E,EACJ,MAAM7uD,EAAwC,QAA7B6uD,EAAK97E,KAAKygC,MAAMxT,eAA4B,IAAP6uD,EAAgBA,EAAK97E,KAAKu3J,MAAMc,WACtF,QAAgB58J,IAAZwxB,EAEA,YADAjtB,KAAKs3J,KAAKvgG,GAAMkhG,GAIpB,MAAMlC,EAAQ/1J,KAAK6+D,GAAGwrF,cAAa,YACxBrqJ,KAAKs3J,KAAKvgG,GACjB,IAAK,IAAIxrD,EAAI,EAAGA,EAAIvL,KAAKm3J,WAAW/wJ,OAAQmF,IACpCvL,KAAKm3J,WAAW5rJ,GAAGwrD,KAAOA,IAC1BlmD,EAAM,iDAAkDkmD,GACxD/2D,KAAKm3J,WAAWnqJ,OAAOzB,EAAG,IAGlCsF,EAAM,iDAAkDkmD,EAAI9pC,GAC5DgrI,EAAI/lJ,KAAKlS,KAAM,IAAI/D,MAAM,2BAA2B,GACrDgxB,GACHjtB,KAAKs3J,KAAKvgG,GAAM,IAAI3vD,KAEhBpH,KAAK6+D,GAAG0sF,eAAewK,GACvBkC,EAAI9lJ,MAAMnS,KAAM,CAAC,QAASoH,GAAM,CAExC,CAiBAkxJ,YAAYx1D,KAAO17F,GAEf,MAAMmxJ,OAAiC98J,IAAvBuE,KAAKygC,MAAMxT,cAAmDxxB,IAA1BuE,KAAKu3J,MAAMc,WAC/D,OAAO,IAAIriJ,SAAQ,CAAC4hB,EAASwB,KACzBhyB,EAAKzF,MAAK,CAAC62J,EAAMC,IACTF,EACOC,EAAOp/H,EAAOo/H,GAAQ5gI,EAAQ6gI,GAG9B7gI,EAAQ4gI,KAGvBx4J,KAAKkC,KAAK4gG,KAAO17F,EAAK,GAE9B,CAMA0wJ,YAAY1wJ,GACR,IAAI6wJ,EACiC,mBAA1B7wJ,EAAKA,EAAKhB,OAAS,KAC1B6xJ,EAAM7wJ,EAAK6D,OAEf,MAAMigJ,EAAS,CACXn0F,GAAI/2D,KAAKo3J,YACTsB,SAAU,EACVl9I,SAAS,EACTpU,OACAq5B,MAAO9lC,OAAOe,OAAO,CAAEk8J,WAAW,GAAQ53J,KAAKygC,QAEnDr5B,EAAKzF,MAAK,CAAC+a,KAAQi8I,KACf,GAAIzN,IAAWlrJ,KAAK4C,OAAO,GAsB3B,OAlByB,OAAR8Z,EAETwuI,EAAOwN,SAAW14J,KAAKu3J,MAAMI,UAC7B9mJ,EAAM,0CAA2Cq6I,EAAOn0F,GAAIm0F,EAAOwN,UACnE14J,KAAK4C,OAAOyJ,QACR4rJ,GACAA,EAAIv7I,KAKZ7L,EAAM,oCAAqCq6I,EAAOn0F,IAClD/2D,KAAK4C,OAAOyJ,QACR4rJ,GACAA,EAAI,QAASU,IAGrBzN,EAAO1vI,SAAU,EACVxb,KAAK44J,aAAa,IAE7B54J,KAAK4C,OAAOjB,KAAKupJ,GACjBlrJ,KAAK44J,aACT,CAOAA,YAAYnpF,GAAQ,GAEhB,GADA5+D,EAAM,mBACD7Q,KAAKg3J,WAAoC,IAAvBh3J,KAAK4C,OAAOwD,OAC/B,OAEJ,MAAM8kJ,EAASlrJ,KAAK4C,OAAO,IACvBsoJ,EAAO1vI,SAAYi0D,GAIvBy7E,EAAO1vI,SAAU,EACjB0vI,EAAOwN,WACP7nJ,EAAM,iCAAkCq6I,EAAOn0F,GAAIm0F,EAAOwN,UAC1D14J,KAAKygC,MAAQyqH,EAAOzqH,MACpBzgC,KAAKkC,KAAKiQ,MAAMnS,KAAMkrJ,EAAO9jJ,OAPzByJ,EAAM,8DAA+Dq6I,EAAOn0F,GAQpF,CAOAm0F,OAAOA,GACHA,EAAOiL,IAAMn2J,KAAKm2J,IAClBn2J,KAAK6+D,GAAGw3F,QAAQnL,EACpB,CAMA9/H,SACIva,EAAM,kCACkB,mBAAb7Q,KAAKquB,KACZruB,KAAKquB,MAAM/W,IACPtX,KAAK64J,mBAAmBvhJ,EAAK,IAIjCtX,KAAK64J,mBAAmB74J,KAAKquB,KAErC,CAOAwqI,mBAAmBvhJ,GACftX,KAAKkrJ,OAAO,CACRlkJ,KAAMktJ,EAAmB6D,WAAWe,QACpCxhJ,KAAMtX,KAAK+4J,KACLp+J,OAAOe,OAAO,CAAE6mG,IAAKviG,KAAK+4J,KAAMhrJ,OAAQ/N,KAAKg5J,aAAe1hJ,GAC5DA,GAEd,CAOA6T,QAAQzO,GACC1c,KAAKg3J,WACNh3J,KAAKsqJ,aAAa,gBAAiB5tI,EAE3C,CAQAwO,QAAQ/R,EAAQ44C,GACZlhD,EAAM,aAAcsI,GACpBnZ,KAAKg3J,WAAY,SACVh3J,KAAK+2D,GACZ/2D,KAAKsqJ,aAAa,aAAcnxI,EAAQ44C,EAC5C,CAOA2lG,SAASxM,GAEL,GADsBA,EAAOiL,MAAQn2J,KAAKm2J,IAG1C,OAAQjL,EAAOlkJ,MACX,KAAKktJ,EAAmB6D,WAAWe,QAC3B5N,EAAO5zI,MAAQ4zI,EAAO5zI,KAAK6yI,IAC3BnqJ,KAAKi5J,UAAU/N,EAAO5zI,KAAK6yI,IAAKe,EAAO5zI,KAAKirF,KAG5CviG,KAAKsqJ,aAAa,gBAAiB,IAAIruJ,MAAM,8LAEjD,MACJ,KAAKi4J,EAAmB6D,WAAWC,MACnC,KAAK9D,EAAmB6D,WAAWmB,aAC/Bl5J,KAAKm5J,QAAQjO,GACb,MACJ,KAAKgJ,EAAmB6D,WAAWqB,IACnC,KAAKlF,EAAmB6D,WAAWsB,WAC/Br5J,KAAKs5J,MAAMpO,GACX,MACJ,KAAKgJ,EAAmB6D,WAAWwB,WAC/Bv5J,KAAKw5J,eACL,MACJ,KAAKtF,EAAmB6D,WAAW0B,cAC/Bz5J,KAAKgC,UACL,MAAM0a,EAAM,IAAIzgB,MAAMivJ,EAAO5zI,KAAKpG,SAElCwL,EAAIpF,KAAO4zI,EAAO5zI,KAAKA,KACvBtX,KAAKsqJ,aAAa,gBAAiB5tI,GAG/C,CAOAy8I,QAAQjO,GACJ,MAAM9jJ,EAAO8jJ,EAAO5zI,MAAQ,GAC5BzG,EAAM,oBAAqBzJ,GACvB,MAAQ8jJ,EAAOn0F,KACflmD,EAAM,mCACNzJ,EAAKzF,KAAK3B,KAAKi4J,IAAI/M,EAAOn0F,MAE1B/2D,KAAKg3J,UACLh3J,KAAK05J,UAAUtyJ,GAGfpH,KAAKk3J,cAAcv1J,KAAKhH,OAAOi8J,OAAOxvJ,GAE9C,CACAsyJ,UAAUtyJ,GACN,GAAIpH,KAAK25J,eAAiB35J,KAAK25J,cAAcvzJ,OAAQ,CACjD,MAAMuT,EAAY3Z,KAAK25J,cAAcjtJ,QACrC,IAAK,MAAMgN,KAAYC,EACnBD,EAASvH,MAAMnS,KAAMoH,EAE7B,CACA5E,MAAMN,KAAKiQ,MAAMnS,KAAMoH,GACnBpH,KAAK+4J,MAAQ3xJ,EAAKhB,QAA2C,iBAA1BgB,EAAKA,EAAKhB,OAAS,KACtDpG,KAAKg5J,YAAc5xJ,EAAKA,EAAKhB,OAAS,GAE9C,CAMA6xJ,IAAIlhG,GACA,MAAMtlD,EAAOzR,KACb,IAAI45J,GAAO,EACX,OAAO,YAAaxyJ,GAEZwyJ,IAEJA,GAAO,EACP/oJ,EAAM,iBAAkBzJ,GACxBqK,EAAKy5I,OAAO,CACRlkJ,KAAMktJ,EAAmB6D,WAAWqB,IACpCriG,GAAIA,EACJz/C,KAAMlQ,IAEd,CACJ,CAOAkyJ,MAAMpO,GACF,MAAM+M,EAAMj4J,KAAKs3J,KAAKpM,EAAOn0F,IACzB,mBAAsBkhG,GACtBpnJ,EAAM,yBAA0Bq6I,EAAOn0F,GAAIm0F,EAAO5zI,MAClD2gJ,EAAI9lJ,MAAMnS,KAAMkrJ,EAAO5zI,aAChBtX,KAAKs3J,KAAKpM,EAAOn0F,KAGxBlmD,EAAM,aAAcq6I,EAAOn0F,GAEnC,CAMAkiG,UAAUliG,EAAIwrC,GACV1xF,EAAM,8BAA+BkmD,GACrC/2D,KAAK+2D,GAAKA,EACV/2D,KAAKi3J,UAAY10D,GAAOviG,KAAK+4J,OAASx2D,EACtCviG,KAAK+4J,KAAOx2D,EACZviG,KAAKg3J,WAAY,EACjBh3J,KAAK65J,eACL75J,KAAKsqJ,aAAa,WAClBtqJ,KAAK44J,aAAY,EACrB,CAMAiB,eACI75J,KAAKk3J,cAAcpqJ,SAAS1F,GAASpH,KAAK05J,UAAUtyJ,KACpDpH,KAAKk3J,cAAgB,GACrBl3J,KAAKm3J,WAAWrqJ,SAASo+I,IACrBlrJ,KAAKo4J,wBAAwBlN,GAC7BlrJ,KAAKkrJ,OAAOA,EAAO,IAEvBlrJ,KAAKm3J,WAAa,EACtB,CAMAqC,eACI3oJ,EAAM,yBAA0B7Q,KAAKm2J,KACrCn2J,KAAKgC,UACLhC,KAAKkrB,QAAQ,uBACjB,CAQAlpB,UACQhC,KAAKu0J,OAELv0J,KAAKu0J,KAAKznJ,SAASwpJ,GAAeA,MAClCt2J,KAAKu0J,UAAO94J,GAEhBuE,KAAK6+D,GAAa,SAAE7+D,KACxB,CAiBAu2J,aAWI,OAVIv2J,KAAKg3J,YACLnmJ,EAAM,6BAA8B7Q,KAAKm2J,KACzCn2J,KAAKkrJ,OAAO,CAAElkJ,KAAMktJ,EAAmB6D,WAAWwB,cAGtDv5J,KAAKgC,UACDhC,KAAKg3J,WAELh3J,KAAKkrB,QAAQ,wBAEVlrB,IACX,CAMAyM,QACI,OAAOzM,KAAKu2J,YAChB,CAUAj4I,SAASA,GAEL,OADAte,KAAKygC,MAAMniB,SAAWA,EACfte,IACX,CAUI63J,eAEA,OADA73J,KAAKygC,MAAMo3H,UAAW,EACf73J,IACX,CAcAitB,QAAQA,GAEJ,OADAjtB,KAAKygC,MAAMxT,QAAUA,EACdjtB,IACX,CAYA85J,MAAMpgJ,GAGF,OAFA1Z,KAAK25J,cAAgB35J,KAAK25J,eAAiB,GAC3C35J,KAAK25J,cAAch4J,KAAK+X,GACjB1Z,IACX,CAYA+5J,WAAWrgJ,GAGP,OAFA1Z,KAAK25J,cAAgB35J,KAAK25J,eAAiB,GAC3C35J,KAAK25J,cAAc7nJ,QAAQ4H,GACpB1Z,IACX,CAmBAg6J,OAAOtgJ,GACH,IAAK1Z,KAAK25J,cACN,OAAO35J,KAEX,GAAI0Z,EAAU,CACV,MAAMC,EAAY3Z,KAAK25J,cACvB,IAAK,IAAIpuJ,EAAI,EAAGA,EAAIoO,EAAUvT,OAAQmF,IAClC,GAAImO,IAAaC,EAAUpO,GAEvB,OADAoO,EAAU3M,OAAOzB,EAAG,GACbvL,IAGnB,MAEIA,KAAK25J,cAAgB,GAEzB,OAAO35J,IACX,CAKAi6J,eACI,OAAOj6J,KAAK25J,eAAiB,EACjC,CAcAO,cAAcxgJ,GAGV,OAFA1Z,KAAKm6J,sBAAwBn6J,KAAKm6J,uBAAyB,GAC3Dn6J,KAAKm6J,sBAAsBx4J,KAAK+X,GACzB1Z,IACX,CAcAo6J,mBAAmB1gJ,GAGf,OAFA1Z,KAAKm6J,sBAAwBn6J,KAAKm6J,uBAAyB,GAC3Dn6J,KAAKm6J,sBAAsBroJ,QAAQ4H,GAC5B1Z,IACX,CAmBAq6J,eAAe3gJ,GACX,IAAK1Z,KAAKm6J,sBACN,OAAOn6J,KAEX,GAAI0Z,EAAU,CACV,MAAMC,EAAY3Z,KAAKm6J,sBACvB,IAAK,IAAI5uJ,EAAI,EAAGA,EAAIoO,EAAUvT,OAAQmF,IAClC,GAAImO,IAAaC,EAAUpO,GAEvB,OADAoO,EAAU3M,OAAOzB,EAAG,GACbvL,IAGnB,MAEIA,KAAKm6J,sBAAwB,GAEjC,OAAOn6J,IACX,CAKAs6J,uBACI,OAAOt6J,KAAKm6J,uBAAyB,EACzC,CAQA/B,wBAAwBlN,GACpB,GAAIlrJ,KAAKm6J,uBAAyBn6J,KAAKm6J,sBAAsB/zJ,OAAQ,CACjE,MAAMuT,EAAY3Z,KAAKm6J,sBAAsBztJ,QAC7C,IAAK,MAAMgN,KAAYC,EACnBD,EAASvH,MAAMnS,KAAMkrJ,EAAO5zI,KAEpC,CACJ,EAEJzc,EAAQotJ,OAASA,qCCh2BjB,IAAIO,EAAmBxoJ,MAAQA,KAAKwoJ,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA9tJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6tB,SAAM,EACd,MAAMyrI,EAAqB,EAAQ,MAE7BtjJ,EADU23I,EAAgB,EAAQ,OAClBxrJ,QAAQ,wBA6D9BnC,EAAQ6tB,IAnDR,SAAaqrC,EAAK92D,EAAO,GAAI8oG,GACzB,IAAItxF,EAAMs/C,EAEVgyC,EAAMA,GAA4B,oBAAbl3E,UAA4BA,SAC7C,MAAQklC,IACRA,EAAMgyC,EAAI//E,SAAW,KAAO+/E,EAAIz+E,MAEjB,iBAARysC,IACH,MAAQA,EAAIh5B,OAAO,KAEfg5B,EADA,MAAQA,EAAIh5B,OAAO,GACbgrE,EAAI//E,SAAW+tC,EAGfgyC,EAAIz+E,KAAOysC,GAGpB,sBAAsB1gD,KAAK0gD,KAC5BljD,EAAM,uBAAwBkjD,GAE1BA,OADA,IAAuBgyC,EACjBA,EAAI//E,SAAW,KAAO+tC,EAGtB,WAAaA,GAI3BljD,EAAM,WAAYkjD,GAClBt/C,EAAM0/I,EAAmB3uJ,MAAMuuD,IAG9Bt/C,EAAI8S,OACD,cAAclU,KAAKoB,EAAIuR,UACvBvR,EAAI8S,KAAO,KAEN,eAAelU,KAAKoB,EAAIuR,YAC7BvR,EAAI8S,KAAO,QAGnB9S,EAAIxX,KAAOwX,EAAIxX,MAAQ,IACvB,MACMqqB,GADkC,IAA3B7S,EAAI6S,KAAKva,QAAQ,KACV,IAAM0H,EAAI6S,KAAO,IAAM7S,EAAI6S,KAS/C,OAPA7S,EAAIsiD,GAAKtiD,EAAIuR,SAAW,MAAQsB,EAAO,IAAM7S,EAAI8S,KAAOtqB,EAExDwX,EAAI0Y,KACA1Y,EAAIuR,SACA,MACAsB,GACCy+E,GAAOA,EAAIx+E,OAAS9S,EAAI8S,KAAO,GAAK,IAAM9S,EAAI8S,MAChD9S,CACX,+BCnEA9Z,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0/J,kBAAoB1/J,EAAQ2/J,uBAAoB,EACxD,MAAMC,EAAiB,EAAQ,MAiB/B,SAASC,EAAmBpjJ,EAAMqjJ,GAC9B,IAAKrjJ,EACD,OAAOA,EACX,IAAI,EAAImjJ,EAAe5gJ,UAAUvC,GAAO,CACpC,MAAMypD,EAAc,CAAE65F,cAAc,EAAMztJ,IAAKwtJ,EAAQv0J,QAEvD,OADAu0J,EAAQh5J,KAAK2V,GACNypD,CACX,CACK,GAAIl7D,MAAMC,QAAQwR,GAAO,CAC1B,MAAMujJ,EAAU,IAAIh1J,MAAMyR,EAAKlR,QAC/B,IAAK,IAAImF,EAAI,EAAGA,EAAI+L,EAAKlR,OAAQmF,IAC7BsvJ,EAAQtvJ,GAAKmvJ,EAAmBpjJ,EAAK/L,GAAIovJ,GAE7C,OAAOE,CACX,CACK,GAAoB,iBAATvjJ,KAAuBA,aAAgB3F,MAAO,CAC1D,MAAMkpJ,EAAU,CAAC,EACjB,IAAK,MAAMtnJ,KAAO+D,EACV3c,OAAOqe,UAAUwhC,eAAetoC,KAAKoF,EAAM/D,KAC3CsnJ,EAAQtnJ,GAAOmnJ,EAAmBpjJ,EAAK/D,GAAMonJ,IAGrD,OAAOE,CACX,CACA,OAAOvjJ,CACX,CAeA,SAASwjJ,EAAmBxjJ,EAAMqjJ,GAC9B,IAAKrjJ,EACD,OAAOA,EACX,GAAIA,IAA8B,IAAtBA,EAAKsjJ,aAAuB,CAIpC,GAHyC,iBAAbtjJ,EAAKnK,KAC7BmK,EAAKnK,KAAO,GACZmK,EAAKnK,IAAMwtJ,EAAQv0J,OAEnB,OAAOu0J,EAAQrjJ,EAAKnK,KAGpB,MAAM,IAAIlR,MAAM,sBAExB,CACK,GAAI4J,MAAMC,QAAQwR,GACnB,IAAK,IAAI/L,EAAI,EAAGA,EAAI+L,EAAKlR,OAAQmF,IAC7B+L,EAAK/L,GAAKuvJ,EAAmBxjJ,EAAK/L,GAAIovJ,QAGzC,GAAoB,iBAATrjJ,EACZ,IAAK,MAAM/D,KAAO+D,EACV3c,OAAOqe,UAAUwhC,eAAetoC,KAAKoF,EAAM/D,KAC3C+D,EAAK/D,GAAOunJ,EAAmBxjJ,EAAK/D,GAAMonJ,IAItD,OAAOrjJ,CACX,CApEAzc,EAAQ2/J,kBARR,SAA2BtP,GACvB,MAAMyP,EAAU,GACVI,EAAa7P,EAAO5zI,KACpB0jJ,EAAO9P,EAGb,OAFA8P,EAAK1jJ,KAAOojJ,EAAmBK,EAAYJ,GAC3CK,EAAKC,YAAcN,EAAQv0J,OACpB,CAAE8kJ,OAAQ8P,EAAML,QAASA,EACpC,EAyCA9/J,EAAQ0/J,kBALR,SAA2BrP,EAAQyP,GAG/B,OAFAzP,EAAO5zI,KAAOwjJ,EAAmB5P,EAAO5zI,KAAMqjJ,UACvCzP,EAAO+P,YACP/P,CACX,+BCzDAvwJ,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQm6J,QAAUn6J,EAAQk6J,QAAUl6J,EAAQk9J,WAAal9J,EAAQmrB,cAAW,EAC5E,MAAM6iI,EAAsB,EAAQ,MAC9BqS,EAAc,EAAQ,MACtBT,EAAiB,EAAQ,MAEzB5pJ,GAAQ,EADE,EAAQ,MACE7T,SAAS,oBAI7B25J,EAAkB,CACpB,UACA,gBACA,aACA,gBACA,cACA,kBAQJ,IAAIoB,EAsFJ,SAASx5H,EAASzjC,GACd,MAAiD,oBAA1CH,OAAOqe,UAAUjG,SAASb,KAAKpX,EAC1C,CAzFAD,EAAQmrB,SAAW,EAEnB,SAAW+xI,GACPA,EAAWA,EAAoB,QAAI,GAAK,UACxCA,EAAWA,EAAuB,WAAI,GAAK,aAC3CA,EAAWA,EAAkB,MAAI,GAAK,QACtCA,EAAWA,EAAgB,IAAI,GAAK,MACpCA,EAAWA,EAA0B,cAAI,GAAK,gBAC9CA,EAAWA,EAAyB,aAAI,GAAK,eAC7CA,EAAWA,EAAuB,WAAI,GAAK,YAC9C,CARD,CAQGA,EAAal9J,EAAQk9J,aAAel9J,EAAQk9J,WAAa,CAAC,IA2E7Dl9J,EAAQk6J,QAvER,MAMIj1J,YAAYo3H,GACRl3H,KAAKk3H,SAAWA,CACpB,CAOAziE,OAAOhgD,GAEH,OADA5D,EAAM,qBAAsB4D,GACxBA,EAAIzN,OAAS+wJ,EAAWC,OAASvjJ,EAAIzN,OAAS+wJ,EAAWqB,OACrD,EAAIqB,EAAeU,WAAW1mJ,GAW/B,CAACzU,KAAKo7J,eAAe3mJ,IAVbzU,KAAKq7J,eAAe,CACvBr0J,KAAMyN,EAAIzN,OAAS+wJ,EAAWC,MACxBD,EAAWmB,aACXnB,EAAWsB,WACjBlD,IAAK1hJ,EAAI0hJ,IACT7+I,KAAM7C,EAAI6C,KACVy/C,GAAItiD,EAAIsiD,IAKxB,CAIAqkG,eAAe3mJ,GAEX,IAAIO,EAAM,GAAKP,EAAIzN,KAoBnB,OAlBIyN,EAAIzN,OAAS+wJ,EAAWmB,cACxBzkJ,EAAIzN,OAAS+wJ,EAAWsB,aACxBrkJ,GAAOP,EAAIwmJ,YAAc,KAIzBxmJ,EAAI0hJ,KAAO,MAAQ1hJ,EAAI0hJ,MACvBnhJ,GAAOP,EAAI0hJ,IAAM,KAGjB,MAAQ1hJ,EAAIsiD,KACZ/hD,GAAOP,EAAIsiD,IAGX,MAAQtiD,EAAI6C,OACZtC,GAAO/D,KAAK5L,UAAUoP,EAAI6C,KAAMtX,KAAKk3H,WAEzCrmH,EAAM,mBAAoB4D,EAAKO,GACxBA,CACX,CAMAqmJ,eAAe5mJ,GACX,MAAM6mJ,GAAiB,EAAIJ,EAAYV,mBAAmB/lJ,GACpDumJ,EAAOh7J,KAAKo7J,eAAeE,EAAepQ,QAC1CyP,EAAUW,EAAeX,QAE/B,OADAA,EAAQ7oJ,QAAQkpJ,GACTL,CACX,GAYJ,MAAM3F,UAAgBnM,EAAoBE,QAMtCjpJ,YAAYy7J,GACR/4J,QACAxC,KAAKu7J,QAAUA,CACnB,CAMA12J,IAAI4P,GACA,IAAIy2I,EACJ,GAAmB,iBAARz2I,EAAkB,CACzB,GAAIzU,KAAKw7J,cACL,MAAM,IAAIv/J,MAAM,mDAEpBivJ,EAASlrJ,KAAKy7J,aAAahnJ,GAC3B,MAAMinJ,EAAgBxQ,EAAOlkJ,OAAS+wJ,EAAWmB,aAC7CwC,GAAiBxQ,EAAOlkJ,OAAS+wJ,EAAWsB,YAC5CnO,EAAOlkJ,KAAO00J,EAAgB3D,EAAWC,MAAQD,EAAWqB,IAE5Dp5J,KAAKw7J,cAAgB,IAAIG,EAAoBzQ,GAElB,IAAvBA,EAAO+P,aACPz4J,MAAM8nJ,aAAa,UAAWY,IAKlC1oJ,MAAM8nJ,aAAa,UAAWY,EAEtC,KACK,MAAI,EAAIuP,EAAe5gJ,UAAUpF,KAAQA,EAAImnJ,OAe9C,MAAM,IAAI3/J,MAAM,iBAAmBwY,GAbnC,IAAKzU,KAAKw7J,cACN,MAAM,IAAIv/J,MAAM,oDAGhBivJ,EAASlrJ,KAAKw7J,cAAcK,eAAepnJ,GACvCy2I,IAEAlrJ,KAAKw7J,cAAgB,KACrBh5J,MAAM8nJ,aAAa,UAAWY,GAM1C,CACJ,CAOAuQ,aAAazmJ,GACT,IAAIzJ,EAAI,EAER,MAAMT,EAAI,CACN9D,KAAM7K,OAAO6Y,EAAI+lB,OAAO,KAE5B,QAA2Bt/B,IAAvBs8J,EAAWjtJ,EAAE9D,MACb,MAAM,IAAI/K,MAAM,uBAAyB6O,EAAE9D,MAG/C,GAAI8D,EAAE9D,OAAS+wJ,EAAWmB,cACtBpuJ,EAAE9D,OAAS+wJ,EAAWsB,WAAY,CAClC,MAAMl+I,EAAQ5P,EAAI,EAClB,KAA2B,MAApByJ,EAAI+lB,SAASxvB,IAAcA,GAAKyJ,EAAI5O,SAC3C,MAAM+P,EAAMnB,EAAIhC,UAAUmI,EAAO5P,GACjC,GAAI4K,GAAOha,OAAOga,IAA0B,MAAlBnB,EAAI+lB,OAAOxvB,GACjC,MAAM,IAAItP,MAAM,uBAEpB6O,EAAEmwJ,YAAc9+J,OAAOga,EAC3B,CAEA,GAAI,MAAQnB,EAAI+lB,OAAOxvB,EAAI,GAAI,CAC3B,MAAM4P,EAAQ5P,EAAI,EAClB,OAASA,GAED,MADMyJ,EAAI+lB,OAAOxvB,IAGjBA,IAAMyJ,EAAI5O,SAGlB0E,EAAEqrJ,IAAMnhJ,EAAIhC,UAAUmI,EAAO5P,EACjC,MAEIT,EAAEqrJ,IAAM,IAGZ,MAAMxpJ,EAAOqI,EAAI+lB,OAAOxvB,EAAI,GAC5B,GAAI,KAAOoB,GAAQxQ,OAAOwQ,IAASA,EAAM,CACrC,MAAMwO,EAAQ5P,EAAI,EAClB,OAASA,GAAG,CACR,MAAMkD,EAAIuG,EAAI+lB,OAAOxvB,GACrB,GAAI,MAAQkD,GAAKtS,OAAOsS,IAAMA,EAAG,GAC3BlD,EACF,KACJ,CACA,GAAIA,IAAMyJ,EAAI5O,OACV,KACR,CACA0E,EAAEisD,GAAK56D,OAAO6Y,EAAIhC,UAAUmI,EAAO5P,EAAI,GAC3C,CAEA,GAAIyJ,EAAI+lB,SAASxvB,GAAI,CACjB,MAAM8hD,EAAUrtD,KAAK87J,SAAS9mJ,EAAImyB,OAAO57B,IACzC,IAAIypJ,EAAQ+G,eAAejxJ,EAAE9D,KAAMqmD,GAI/B,MAAM,IAAIpxD,MAAM,mBAHhB6O,EAAEwM,KAAO+1C,CAKjB,CAEA,OADAx8C,EAAM,mBAAoBmE,EAAKlK,GACxBA,CACX,CACAgxJ,SAAS9mJ,GACL,IACI,OAAO/D,KAAKzL,MAAMwP,EAAKhV,KAAKu7J,QAChC,CACA,MAAOptJ,GACH,OAAO,CACX,CACJ,CACA2U,sBAAsB9b,EAAMqmD,GACxB,OAAQrmD,GACJ,KAAK+wJ,EAAWe,QACZ,OAAOv6H,EAAS8uB,GACpB,KAAK0qG,EAAWwB,WACZ,YAAmB99J,IAAZ4xD,EACX,KAAK0qG,EAAW0B,cACZ,MAA0B,iBAAZpsG,GAAwB9uB,EAAS8uB,GACnD,KAAK0qG,EAAWC,MAChB,KAAKD,EAAWmB,aACZ,OAAQrzJ,MAAMC,QAAQunD,KACK,iBAAfA,EAAQ,IACW,iBAAfA,EAAQ,KAC6B,IAAzCspG,EAAgB5pJ,QAAQsgD,EAAQ,KAChD,KAAK0qG,EAAWqB,IAChB,KAAKrB,EAAWsB,WACZ,OAAOxzJ,MAAMC,QAAQunD,GAEjC,CAIArrD,UACQhC,KAAKw7J,gBACLx7J,KAAKw7J,cAAcQ,yBACnBh8J,KAAKw7J,cAAgB,KAE7B,EAEJ3gK,EAAQm6J,QAAUA,EASlB,MAAM2G,EACF77J,YAAYorJ,GACRlrJ,KAAKkrJ,OAASA,EACdlrJ,KAAK26J,QAAU,GACf36J,KAAKi8J,UAAY/Q,CACrB,CASA2Q,eAAeK,GAEX,GADAl8J,KAAK26J,QAAQh5J,KAAKu6J,GACdl8J,KAAK26J,QAAQv0J,SAAWpG,KAAKi8J,UAAUhB,YAAa,CAEpD,MAAM/P,GAAS,EAAIgQ,EAAYX,mBAAmBv6J,KAAKi8J,UAAWj8J,KAAK26J,SAEvE,OADA36J,KAAKg8J,yBACE9Q,CACX,CACA,OAAO,IACX,CAIA8Q,yBACIh8J,KAAKi8J,UAAY,KACjBj8J,KAAK26J,QAAU,EACnB,8BC9TJhgK,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQsgK,UAAYtgK,EAAQgf,cAAW,EACvC,MAAMsiJ,EAA+C,mBAAhB1kJ,YAM/B1E,EAAWpY,OAAOqe,UAAUjG,SAC5BqpJ,EAAiC,mBAATtJ,MACT,oBAATA,MACoB,6BAAxB//I,EAASb,KAAK4gJ,MAChBuJ,EAAiC,mBAATzwF,MACT,oBAATA,MACoB,6BAAxB74D,EAASb,KAAK05D,MAMtB,SAAS/xD,EAASpF,GACd,OAAS0nJ,IAA0B1nJ,aAAegD,aAlBvC,CAAChD,GACyB,mBAAvBgD,YAAYE,OACpBF,YAAYE,OAAOlD,GACnBA,EAAIxG,kBAAkBwJ,YAeqCE,CAAOlD,KACnE2nJ,GAAkB3nJ,aAAeq+I,MACjCuJ,GAAkB5nJ,aAAem3D,IAC1C,CACA/wE,EAAQgf,SAAWA,EA4BnBhf,EAAQsgK,UA3BR,SAASA,EAAU1mJ,EAAKmtI,GACpB,IAAKntI,GAAsB,iBAARA,EACf,OAAO,EAEX,GAAI5O,MAAMC,QAAQ2O,GAAM,CACpB,IAAK,IAAIlJ,EAAI,EAAGk0I,EAAIhrI,EAAIrO,OAAQmF,EAAIk0I,EAAGl0I,IACnC,GAAI4vJ,EAAU1mJ,EAAIlJ,IACd,OAAO,EAGf,OAAO,CACX,CACA,GAAIsO,EAASpF,GACT,OAAO,EAEX,GAAIA,EAAImtI,QACkB,mBAAfntI,EAAImtI,QACU,IAArBl9I,UAAU0B,OACV,OAAO+0J,EAAU1mJ,EAAImtI,UAAU,GAEnC,IAAK,MAAMruI,KAAOkB,EACd,GAAI9Z,OAAOqe,UAAUwhC,eAAetoC,KAAKuC,EAAKlB,IAAQ4nJ,EAAU1mJ,EAAIlB,IAChE,OAAO,EAGf,OAAO,CACX,kBCrDA,IAAI4iH,EAAS,EAAQ,KACjBmmC,EAAgB,EAAQ,KACxBC,EAAS,EAAQ,MACjBC,EAAQ,EAAQ,MAChBxjC,EAAU,EAAQ,MAClByjC,EAAU,EAAQ,MAClBC,EAAe,EAAQ,MACvBC,EAAS,EAAQ,MAIrB,SAASC,EAAuBzuJ,GAAK,OAAOA,GAAkB,iBAANA,GAAkB,YAAaA,EAAIA,EAAI,CAAE,QAAWA,EAAK,CAHjH,EAAQ,MACR,EAAQ,MAIR,IAAI0uJ,EAA+BD,EAAsBzmC,GACrD2mC,EAAqCF,EAAsBF,GAE3DK,EAAal3J,MAAMmT,UACnBgkJ,EAAWriK,OAAOqe,UAClBikJ,EAAY,CACd,IAAK,QACL,IAAK,SACL,IAAM,QACN,IAAK,OACL,IAAK,OACL,KAAM,SAEJtqH,EAAc,aAClB,SAASuqH,EAAWzoJ,EAAKG,GACvB,OAAOooJ,EAASxiH,eAAetoC,KAAKuC,EAAKG,EAC3C,CACA,SAASuoJ,EAAavwD,GACpB,OAAOqwD,EAAUrwD,EACnB,CACA,SAASwwD,EAAengK,EAAMogK,EAAe3gJ,GAQ3C,GAPKA,EAAI4gJ,SAEP5gJ,EAAM,IAAI6gJ,EAAc7gJ,IAE1BA,EAAI4gJ,OAAOrgK,IAGNogK,EAAe,CAClB,MAAMG,EAAM9gJ,GACZA,EAAM,IAAIzgB,MAAMuhK,EAAItsJ,UAChB7S,KAAOm/J,EAAIn/J,IACjB,CACA,OAAOqe,CACT,CACA,SAAS6gJ,EAAcrsJ,EAASusJ,EAAQC,GACtC,IAAIhhJ,EACAihJ,EAsBJ,IAAIC,EACJ,GAtBI1sJ,aAAmBjV,QAErBiV,EAAU,IADVysJ,EAAQzsJ,GACW7S,SAASs/J,EAAMzsJ,WAEhCvW,OAAOipF,gBACTlnE,EAAM,IAAIzgB,MAAMiV,GAChBvW,OAAOipF,eAAelnE,EAAK6gJ,EAAcvkJ,aAEzC0D,EAAM1c,KACNrF,OAAOC,eAAe8hB,EAAK,UAAW,CACpCpK,YAAY,EACZiX,UAAU,EACVzuB,MAAOoW,KAGXvW,OAAOC,eAAe8hB,EAAK,OAAQ,CACjC5hB,MAAO,0BAELmB,MAAMyjB,mBACRzjB,MAAMyjB,kBAAkBhD,EAAK1c,KAAKF,aAGhC69J,EAAO,CACT,MAAME,EAAkBljK,OAAOisJ,yBAAyB+W,EAAO,SAC/DC,EAAWC,IAAoBA,EAAgBrrJ,KAAO,KAAOqrJ,EAAgB/iK,QACxE8iK,IACHA,EAAW,IAAMD,EAAM5xJ,MAE3B,KAAO,CACL,MAAMA,EAAQ,IAAI9P,MAAMiV,GAASnF,MACjC6xJ,EAAW,IAAM7xJ,CACnB,CA8BA,OA7BApR,OAAOC,eAAe8hB,EAAK,QAAS,CAClClK,IAAK,IAAMorJ,EAAS1rJ,KAAKwK,KAE3B/hB,OAAOC,eAAe8hB,EAAK,QAAS,CAClC5hB,MAAO6iK,IAETjhJ,EAAI+gJ,OAASA,EACb/gJ,EAAIghJ,MAAQA,EACZhhJ,EAAIohJ,aAAc,EAClBphJ,EAAI4gJ,OAAS,SAAgBrgK,GAC3B,IAAIioB,EAAM,KAAOjoB,GAAQ,gBAAkB,IAiB3C,OAbI+C,KAAK89J,cACH99J,KAAKy9J,QAAUz9J,KAAK09J,MACtBx4I,GAAO,UAAUllB,KAAKy9J,kBAAkBz9J,KAAK09J,SACpC19J,KAAKy9J,SACdv4I,GAAO,UAAUllB,KAAKy9J,YAG1Bv4I,GAAO,MACHllB,KAAK89J,cACP54I,GAAO,KAETllB,KAAKkR,QAAUgU,GAAOllB,KAAKkR,SAAW,IACtClR,KAAK89J,aAAc,EACZ99J,IACT,EACO0c,CACT,CAUA,SAASqhJ,EAAS9rJ,GAChB,OAAOA,EAAIrD,QAAQ+jC,EAAawqH,EAClC,CACA,SAASr+B,EAAWrqH,GAClB,MAAuC,sBAAhCuoJ,EAASjqJ,SAASb,KAAKuC,EAChC,CACA,SAASupJ,EAAUvpJ,GACjB,MAAuC,mBAAhCuoJ,EAASjqJ,SAASb,KAAKuC,EAChC,CACA,SAASuc,EAASvc,GAChB,MAAuC,oBAAhCuoJ,EAASjqJ,SAASb,KAAKuC,EAChC,CACA,SAAS8pB,EAAS9pB,GAChB,MAAuC,oBAAhCuoJ,EAASjqJ,SAASb,KAAKuC,EAChC,CAqBA,SAASwpJ,EAAcvuD,GACrB,MAAMphF,GAfwByiI,EAeOrhD,GAXjB,iBAATqhD,EACFA,EAAK/0J,MAAM,KAEb,CAAC+0J,GALC,GAFX,IAAgCA,EAgB9B,OAAO,SAAoBptJ,GACzB,IAAIu6J,EAAQv6J,EACZ,IAAK,IAAI4H,EAAI,EAAGA,EAAI+iB,EAAMloB,OAAQmF,IAAK,CACrC,MAAMqrB,EAAOtI,EAAM/iB,GAInB,IAAI2xJ,EAAWgB,EAAOtnI,GAGpB,OAFAsnI,EAAQA,EAAMtnI,EAIlB,CACA,OAAOsnI,CACT,CACF,CACA,SAASC,EAAQ1pJ,EAAKxC,EAAKmsJ,GACzB,MAAM5+J,EAAS,CAAC,EACVk8E,EAAWojD,EAAW7sH,GAAOA,EAAMgsJ,EAAchsJ,GACvD,IAAK,IAAI1G,EAAI,EAAGA,EAAIkJ,EAAIrO,OAAQmF,IAAK,CACnC,MAAMzQ,EAAQ2Z,EAAIlJ,GACZgI,EAAMmoE,EAAS5gF,EAAOyQ,GAC5B,QAAY9P,IAAR8X,IAA0C,IAArB6qJ,EACvB,MAAM,IAAI5yJ,UAAU,uBAAuByG,6BAE5CzS,EAAO+T,KAAS/T,EAAO+T,GAAO,KAAK5R,KAAK7G,EAC3C,CACA,OAAO0E,CACT,CACA,SAASqkI,EAAQpvH,GACf,OAAO5O,MAAMmT,UAAUtM,MAAMwF,KAAKuC,EACpC,CACA,SAAS4pJ,EAAQ7tI,GACf,MAAMhxB,EAAS,GACf,IAAKgxB,EACH,OAAOhxB,EAET,MAAM4G,EAASoqB,EAAMpqB,OACf4kC,EAAW64F,EAAQn/H,WAAWgI,MAAM,GAC1C,IAAIT,GAAS,EACb,OAASA,EAAQ7F,IAC0B,IAArC2G,EAAQi+B,EAAUxa,EAAMvkB,KAC1BzM,EAAOmC,KAAK6uB,EAAMvkB,IAGtB,OAAOzM,CACT,CACA,SAAS01C,EAAOopH,EAAO9wJ,GACrB,IAAIwH,EAAM,GACV,IAAK,IAAIzJ,EAAI,EAAGA,EAAIiC,EAAGjC,IACrByJ,GAAOspJ,EAET,OAAOtpJ,CACT,CAaA,SAAS7W,EAAIsW,EAAKkwE,GAChB,IAAI/rC,EAAU,GACd,GAAW,MAAPnkC,EACF,OAAOmkC,EAET,GAAImkH,EAAW5+J,KAAOsW,EAAItW,MAAQ4+J,EAAW5+J,IAC3C,OAAOsW,EAAItW,IAAIwmF,GAEjB,IAAK,IAAIp5E,EAAI,EAAGA,EAAIkJ,EAAIrO,OAAQmF,IAC9BqtC,EAAQA,EAAQxyC,QAAUu+E,EAAKlwE,EAAIlJ,GAAIA,GAKzC,OAHIkJ,EAAIrO,UAAYqO,EAAIrO,SACtBwyC,EAAQxyC,OAASqO,EAAIrO,QAEhBwyC,CACT,CACA,SAAS2lH,EAAU3wJ,EAAK4wJ,EAAMz9I,GAC5B,IAAIxV,GAAK,GACT,SAASoB,IACPpB,IACIA,EAAIqC,EAAIxH,OACVo4J,EAAK5wJ,EAAIrC,GAAIA,EAAGoB,EAAMoU,GAEtBA,GAEJ,CACApU,EACF,CACA,SAAS8xJ,EAAShqJ,EAAK+pJ,EAAMz9I,GAC3B,MAAMzN,EAAOorJ,EAAMjqJ,GAAO,CAAC,GACrBrB,EAAME,EAAKlN,OACjB,IAAImF,GAAK,GACT,SAASoB,IACPpB,IACA,MAAMqJ,EAAItB,EAAK/H,GACXA,EAAI6H,EACNorJ,EAAK5pJ,EAAGH,EAAIG,GAAIrJ,EAAG6H,EAAKzG,GAExBoU,GAEJ,CACApU,EACF,CACA,SAASI,EAAQa,EAAK+wJ,EAAe/9B,GACnC,OAAO/6H,MAAMmT,UAAUjM,QAAQmF,KAAKtE,GAAO,GAAI+wJ,EAAe/9B,EAChE,CACA,SAAS89B,EAAMjqJ,GAEb,MAAM7G,EAAM,GACZ,IAAK,IAAIgH,KAAKH,EACRyoJ,EAAWzoJ,EAAKG,IAClBhH,EAAIjM,KAAKiT,GAGb,OAAOhH,CACT,CACA,SAASgxJ,EAASnqJ,GAChB,OAAOiqJ,EAAMjqJ,GAAKtW,KAAIyW,GAAK,CAACA,EAAGH,EAAIG,KACrC,CAIA,SAASvC,EAAOwsJ,EAAMC,GAKpB,OAJAD,EAAOA,GAAQ,CAAC,EAChBH,EAAMI,GAAMhyJ,SAAQ8H,IAClBiqJ,EAAKjqJ,GAAKkqJ,EAAKlqJ,EAAE,IAEZiqJ,CACT,CApLIlkK,OAAOipF,eACTjpF,OAAOipF,eAAe25E,EAAcvkJ,UAAW/c,MAAM+c,WAErDukJ,EAAcvkJ,UAAYre,OAAOqL,OAAO/J,MAAM+c,UAAW,CACvDlZ,YAAa,CACXhF,MAAOyiK,KAyLb,IAAIwB,EAAM,CACR70D,UAAW,KACXgzD,WAAYA,EACZE,eAAgBA,EAChBG,cAAeA,EACflsI,OAAQ0sI,EACRj/B,WAAYA,EACZh5H,QAASk4J,EACThtI,SAAUA,EACVuN,SAAUA,EACV0/H,cAAeA,EACfE,QAASA,EACTt6B,QAASA,EACTw6B,QAASA,EACTnpH,OAAQA,EACR4D,KAzGF,SAAcrkC,EAAKkwE,EAAMhoD,GACvB,GAAW,MAAPloB,EAGJ,GAAIsoJ,EAAWjwJ,SAAW2H,EAAI3H,UAAYiwJ,EAAWjwJ,QACnD2H,EAAI3H,QAAQ63E,EAAMhoD,QACb,GAAIloB,EAAIrO,UAAYqO,EAAIrO,OAC7B,IAAK,IAAImF,EAAI,EAAGk0I,EAAIhrI,EAAIrO,OAAQmF,EAAIk0I,EAAGl0I,IACrCo5E,EAAKzyE,KAAKyqB,EAASloB,EAAIlJ,GAAIA,EAAGkJ,EAGpC,EA+FEtW,IAAKA,EACLogK,UAAWA,EACXE,SAAUA,EACV1xJ,QAASA,EACTuG,KAAMorJ,EACNE,SAAUA,EACVnkC,QAzCF,SAAiBhmH,GACf,OAAOiqJ,EAAMjqJ,GAAKtW,KAAIyW,GAAKH,EAAIG,IACjC,EAwCEvC,OAAQA,EACR2sJ,QAAS3sJ,EACT4sJ,WAlCF,SAAsB1rJ,EAAKtB,GACzB,GAAI+rJ,EAAU/rJ,IAAQ+e,EAAS/e,GAC7B,OAA6B,IAAtBA,EAAIlF,QAAQwG,GACd,GAAIgrB,EAAStsB,GAClB,OAAOsB,KAAOtB,EAEhB,MAAM,IAAIhW,MAAM,2CAA6CsX,EAAM,yBACrE,GA8BA,IAAI2rJ,EAAkB,WAClBC,EAAa,wBAQbC,EAAe,SACfC,EAAmB,aACnBC,EAAa,OACbC,EAAoB,cACpBC,EAAkB,YAClBC,EAAuB,iBACvBC,EAAqB,eACrBC,EAAgB,UAChBC,EAAmB,aACnBC,EAAoB,cACpBC,EAAqB,eACrBC,EAAsB,gBACtBC,GAAmB,aACnBC,GAAoB,cACpBC,GAAiB,WACjBC,GAAc,QACdC,GAAc,QACdC,GAAc,QACdC,GAAa,OACbC,GAAY,MACZC,GAAc,QACdC,GAAgB,UAChBC,GAAa,OACbC,GAAe,SAEfC,GAAc,QAClB,SAASvlJ,GAAMrU,EAAMlM,EAAO2iK,EAAQC,GAClC,MAAO,CACL12J,KAAMA,EACNlM,MAAOA,EACP2iK,OAAQA,EACRC,MAAOA,EAEX,CACA,MAAM74D,GACJ/kG,YAAYkV,EAAKvJ,GACfzL,KAAKgV,IAAMA,EACXhV,KAAKiM,MAAQ,EACbjM,KAAKoT,IAAM4B,EAAI5O,OACfpG,KAAKy9J,OAAS,EACdz9J,KAAK09J,MAAQ,EACb19J,KAAK6gK,SAAU,EAEf,IAAIvyH,GADJ7iC,EAAOA,GAAQ,CAAC,GACA6iC,MAAQ,CAAC,EACzBtuC,KAAKsuC,KAAO,CACVwyH,YAAaxyH,EAAKyyH,YAnDN,KAoDZC,UAAW1yH,EAAK2yH,UAnDN,KAoDVC,eAAgB5yH,EAAK6yH,eAnDN,KAoDfC,aAAc9yH,EAAK+yH,aAnDN,KAoDbC,cAAehzH,EAAKizH,cAnDN,KAoDdC,YAAalzH,EAAKmzH,YAnDN,MAqDdzhK,KAAK0hK,aAAej2J,EAAKi2J,WACzB1hK,KAAK2hK,eAAiBl2J,EAAKk2J,YAC7B,CACA51D,YACE,IAEI13D,EAFAopH,EAASz9J,KAAKy9J,OACdC,EAAQ19J,KAAK09J,MAEjB,GAAI19J,KAAK6gK,QAAS,CAEhB,IAAIe,EAAM5hK,KAAKm9B,UACf,GAAIn9B,KAAKk2D,aAEP,OAAO,KACF,GAAY,MAAR0rG,GAAuB,MAARA,EAExB,OAAOvmJ,GAAM+jJ,EAAcp/J,KAAK6hK,aAAaD,GAAMnE,EAAQC,GACtD,GAAIrpH,EAAMr0C,KAAK8hK,SAAS5C,GAE7B,OAAO7jJ,GAAMgkJ,EAAkBhrH,EAAKopH,EAAQC,GACvC,IAAKrpH,EAAMr0C,KAAK+hK,eAAe/hK,KAAKsuC,KAAK0yH,cAAgB3sH,EAAMr0C,KAAK+hK,eAAe,IAAM/hK,KAAKsuC,KAAK0yH,YAyBxG,OAlBAhhK,KAAK6gK,SAAU,EACX7gK,KAAK0hK,aACPE,EAAM5hK,KAAKm9B,UACC,OAARykI,EAEF5hK,KAAKgiK,UACY,OAARJ,IAET5hK,KAAKgiK,UACLJ,EAAM5hK,KAAKm9B,UACC,OAARykI,EACF5hK,KAAKgiK,UAGLhiK,KAAKiiK,SAIJ5mJ,GAAMmkJ,EAAiBnrH,EAAKopH,EAAQC,GACtC,IAAKrpH,EAAMr0C,KAAK+hK,eAAe/hK,KAAKsuC,KAAK8yH,iBAAmB/sH,EAAMr0C,KAAK+hK,eAAe,IAAM/hK,KAAKsuC,KAAK8yH,eAG3G,OADAphK,KAAK6gK,SAAU,EACRxlJ,GAAMqkJ,EAAoBrrH,EAAKopH,EAAQC,GACzC,GAAY,MAARkE,GAAmD,MAApC5hK,KAAKgV,IAAI+lB,OAAO/6B,KAAKiM,MAAQ,GAAY,CAEjEjM,KAAKkiK,SAAS,GAGd,IAAIC,EAAY,GAChB,MAAQniK,KAAKk2D,cAAc,CACzB,GAAuB,MAAnBl2D,KAAKm9B,WAAyC,OAApBn9B,KAAKmlD,WAAqB,CACtDnlD,KAAKgiK,UACL,KACF,CACEG,GAAaniK,KAAKm9B,UAClBn9B,KAAKgiK,SAET,CAIA,IAAII,EAAiB,CAAC,IAAK,IAAK,IAAK,KACjCC,EAAa,GACjB,MAAQriK,KAAKk2D,eACsD,IAA5CksG,EAAer1J,QAAQ/M,KAAKm9B,YAE/CklI,GAAcriK,KAAKm9B,UACnBn9B,KAAKgiK,UAKT,OAAO3mJ,GAAMulJ,GAAa,CACxBj5I,KAAMw6I,EACN1hI,MAAO4hI,GACN5E,EAAQC,EACb,CAAO,IAAiC,IAA7ByB,EAAWpyJ,QAAQ60J,GAAa,CAEzC5hK,KAAKgiK,UACL,IAEIh7J,EAFAs7J,EAAa,CAAC,KAAM,MAAO,KAAM,MAAO,KAAM,KAAM,KAAM,MAC1DC,EAAaX,EAAM5hK,KAAKm9B,UAY5B,QAVyC,IAArCpwB,EAAQu1J,EAAYC,KACtBviK,KAAKgiK,UACLJ,EAAMW,GAGoD,IAAtDx1J,EAAQu1J,EAAYC,EAAaviK,KAAKm9B,aACxCykI,EAAMW,EAAaviK,KAAKm9B,UACxBn9B,KAAKgiK,YAGDJ,GACN,IAAK,IACH56J,EAAO44J,EACP,MACF,IAAK,IACH54J,EAAO64J,EACP,MACF,IAAK,IACH74J,EAAO84J,EACP,MACF,IAAK,IACH94J,EAAO+4J,EACP,MACF,IAAK,IACH/4J,EAAOg5J,GACP,MACF,IAAK,IACHh5J,EAAOi5J,GACP,MACF,IAAK,IACHj5J,EAAOm5J,GACP,MACF,IAAK,IACHn5J,EAAOo5J,GACP,MACF,IAAK,IACHp5J,EAAOq5J,GACP,MACF,IAAK,IACHr5J,EAAOs5J,GACP,MACF,QACEt5J,EAAOk5J,GAEX,OAAO7kJ,GAAMrU,EAAM46J,EAAKnE,EAAQC,EAClC,CAIE,GADArpH,EAAMr0C,KAAKwiK,cAActD,EAAkBC,GACvC9qH,EAAIxlC,MAAM,iBAAkB,CAC9B,GAAuB,MAAnB7O,KAAKm9B,UAAmB,CAC1Bn9B,KAAKgiK,UACL,IAAIS,EAAMziK,KAAK8hK,SAvMZ,cAwMH,OAAOzmJ,GAAMmlJ,GAAansH,EAAM,IAAMouH,EAAKhF,EAAQC,EACrD,CACE,OAAOriJ,GAAMklJ,GAAWlsH,EAAKopH,EAAQC,EAEzC,CAAO,GAAIrpH,EAAIxlC,MAAM,kBACnB,OAAOwM,GAAMolJ,GAAepsH,EAAKopH,EAAQC,GACpC,GAAY,SAARrpH,EACT,OAAOh5B,GAAMqlJ,GAAYrsH,EAAKopH,EAAQC,GAQjC,GAAY,SAARrpH,EACT,OAAOh5B,GAAMqlJ,GAAYrsH,EAAKopH,EAAQC,GACjC,GAAIrpH,EACT,OAAOh5B,GAAMslJ,GAActsH,EAAKopH,EAAQC,GAExC,MAAM,IAAIzhK,MAAM,mCAAqCo4C,EAG3D,CAAO,CAIL,IAAIquH,EAAa1iK,KAAKsuC,KAAKwyH,YAAY/lI,OAAO,GAAK/6B,KAAKsuC,KAAK4yH,eAAenmI,OAAO,GAAK/6B,KAAKsuC,KAAKgzH,cAAcvmI,OAAO,GAAK/6B,KAAKsuC,KAAKkzH,YAAYzmI,OAAO,GACzJ,GAAI/6B,KAAKk2D,aACP,OAAO,KACF,IAAK7hB,EAAMr0C,KAAK+hK,eAAe/hK,KAAKsuC,KAAKwyH,YAAc,QAAUzsH,EAAMr0C,KAAK+hK,eAAe/hK,KAAKsuC,KAAKwyH,cAE1G,OADA9gK,KAAK6gK,SAAU,EACRxlJ,GAAMkkJ,EAAmBlrH,EAAKopH,EAAQC,GACxC,IAAKrpH,EAAMr0C,KAAK+hK,eAAe/hK,KAAKsuC,KAAK4yH,eAAiB,QAAU7sH,EAAMr0C,KAAK+hK,eAAe/hK,KAAKsuC,KAAK4yH,iBAE7G,OADAlhK,KAAK6gK,SAAU,EACRxlJ,GAAMokJ,EAAsBprH,EAAKopH,EAAQC,GAC3C,CAEL,IAAIpmJ,EADJ+8B,EAAM,GAEN,IAAIsuH,GAAY,EAYhB,IAXI3iK,KAAK4iK,SAAS5iK,KAAKsuC,KAAKgzH,iBAC1BqB,GAAY,EACZtuH,EAAMr0C,KAAK+hK,eAAe/hK,KAAKsuC,KAAKgzH,gBASa,QAA3ChqJ,EAAOtX,KAAKwiK,cAAcE,KAAuB,CAEvD,GADAruH,GAAO/8B,GACFtX,KAAK4iK,SAAS5iK,KAAKsuC,KAAKwyH,cAAgB9gK,KAAK4iK,SAAS5iK,KAAKsuC,KAAK4yH,iBAAmBlhK,KAAK4iK,SAAS5iK,KAAKsuC,KAAKgzH,kBAAoBqB,EAAW,CAC7I,GAAI3iK,KAAK2hK,cAAgB3hK,KAAK4iK,SAAS5iK,KAAKsuC,KAAKwyH,cAAgB9gK,KAAK09J,MAAQ,GAAK19J,KAAK09J,OAASrpH,EAAIjuC,OAAQ,CAC3G,IAAIy8J,EAAWxuH,EAAI3nC,OAAO1M,KAAK09J,OAC/B,GAAI,QAAQrqJ,KAAKwvJ,KAEfxuH,EAAMA,EAAI3nC,MAAM,GAAI1M,KAAK09J,QACpBrpH,EAAIjuC,QAGP,OAAOpG,KAAK+rG,WAGlB,CAEA,KACF,CAAO,GAAI/rG,KAAK4iK,SAAS5iK,KAAKsuC,KAAKkzH,aAAc,CAC/C,IAAKmB,EACH,MAAM,IAAI1mK,MAAM,6BAElBo4C,GAAOr0C,KAAK+hK,eAAe/hK,KAAKsuC,KAAKkzH,aACrC,KACF,CAGEntH,GAAOr0C,KAAKm9B,UACZn9B,KAAKgiK,SAET,CACA,GAAa,OAAT1qJ,GAAiBqrJ,EACnB,MAAM,IAAI1mK,MAAM,4CAElB,OAAOof,GAAMsnJ,EAAYhD,EAAgBL,EAAYjrH,EAAKopH,EAAQC,EACpE,CACF,CACF,CACAmE,aAAalvJ,GACX3S,KAAKgiK,UACL,IAAIhtJ,EAAM,GACV,MAAQhV,KAAKk2D,cAAgBl2D,KAAKm9B,YAAcxqB,GAAW,CACzD,IAAIivJ,EAAM5hK,KAAKm9B,UACf,GAAY,OAARykI,EAAc,CAEhB,OADA5hK,KAAKgiK,UACGhiK,KAAKm9B,WACX,IAAK,IACHnoB,GAAO,KACP,MACF,IAAK,IACHA,GAAO,KACP,MACF,IAAK,IACHA,GAAO,KACP,MACF,QACEA,GAAOhV,KAAKm9B,UAEhBn9B,KAAKgiK,SACP,MACEhtJ,GAAO4sJ,EACP5hK,KAAKgiK,SAET,CAEA,OADAhiK,KAAKgiK,UACEhtJ,CACT,CACA4tJ,SAAS5tJ,GACP,OAAIhV,KAAKiM,MAAQ+I,EAAI5O,OAASpG,KAAKoT,IAC1B,KAEDpT,KAAKgV,IAAItI,MAAM1M,KAAKiM,MAAOjM,KAAKiM,MAAQ+I,EAAI5O,UACvC4O,CACf,CACA+sJ,eAAe/sJ,GACb,OAAIhV,KAAK4iK,SAAS5tJ,IAChBhV,KAAKkiK,SAASltJ,EAAI5O,QACX4O,GAEF,IACT,CACAwtJ,cAAcM,GAGZ,OAAO9iK,KAAK+iK,kBAAiB,EAAMD,GAAc,GACnD,CACAhB,SAASgB,GAGP,OAAO9iK,KAAK+iK,kBAAiB,EAAOD,EACtC,CACAC,iBAAiBC,EAAcF,GAK7B,GAAI9iK,KAAKk2D,aACP,OAAO,KAET,IAAIjhB,EAAQ6tH,EAAW/1J,QAAQ/M,KAAKm9B,WAGpC,GAAI6lI,IAA2B,IAAX/tH,IAAiB+tH,IAA2B,IAAX/tH,EAAc,CACjE,IAAIkB,EAAIn2C,KAAKm9B,UACbn9B,KAAKgiK,UAIL,IAAI5sH,EAAM0tH,EAAW/1J,QAAQ/M,KAAKm9B,WAClC,MAAQ6lI,IAAyB,IAAT5tH,IAAe4tH,IAAyB,IAAT5tH,KAAgBp1C,KAAKk2D,cAC1E/f,GAAKn2C,KAAKm9B,UACVn9B,KAAKgiK,UACL5sH,EAAM0tH,EAAW/1J,QAAQ/M,KAAKm9B,WAEhC,OAAOgZ,CACT,CACA,MAAO,EACT,CACA8sH,cAAcp9H,GACZ,IAAIpC,EAAUzjC,KAAKkjK,aAAar0J,MAAMg3B,GACtC,OAAKpC,GAKLzjC,KAAKkiK,SAASz+H,EAAQ,GAAGr9B,QAClBq9B,GALE,IAMX,CACAyyB,aACE,OAAOl2D,KAAKiM,OAASjM,KAAKoT,GAC5B,CACA8uJ,SAAS10J,GACP,IAAK,IAAIjC,EAAI,EAAGA,EAAIiC,EAAGjC,IACrBvL,KAAKgiK,SAET,CACAA,UACEhiK,KAAKiM,QACmB,OAApBjM,KAAKmlD,YACPnlD,KAAKy9J,SACLz9J,KAAK09J,MAAQ,GAEb19J,KAAK09J,OAET,CACAyF,MAAM31J,GACJ,IAAK,IAAIjC,EAAI,EAAGA,EAAIiC,EAAGjC,IACrBvL,KAAKiiK,MAET,CACAA,OAEE,GADAjiK,KAAKiM,QACkB,OAAnBjM,KAAKm9B,UAAoB,CAC3Bn9B,KAAKy9J,SACL,IAAIroH,EAAMp1C,KAAKikF,IAAI5uC,YAAY,KAAMr1C,KAAKiM,MAAQ,GAEhDjM,KAAK09J,OADM,IAATtoH,EACWp1C,KAAKiM,MAELjM,KAAKiM,MAAQmpC,CAE9B,MACEp1C,KAAK09J,OAET,CAGAvgI,UACE,OAAKn9B,KAAKk2D,aAGH,GAFEl2D,KAAKgV,IAAI+lB,OAAO/6B,KAAKiM,MAGhC,CAGAi3J,aACE,OAAKljK,KAAKk2D,aAGH,GAFEl2D,KAAKgV,IAAImyB,OAAOnnC,KAAKiM,MAGhC,CACAk5C,WACE,OAAOnlD,KAAKgV,IAAI+lB,OAAO/6B,KAAKiM,MAAQ,EACtC,EAEF,SAASshG,GAAItpB,EAAKx4E,GAChB,OAAO,IAAIo5F,GAAU5gB,EAAKx4E,EAC5B,CAEA,IAAI23J,GAAQ,CACVl5D,UAAW,KACXqD,IAAKA,GACL6xD,aAAcA,EACdC,iBAAkBA,EAClBC,WAAYA,EACZC,kBAAmBA,EACnBC,gBAAiBA,EACjBC,qBAAsBA,EACtBC,mBAAoBA,EACpBC,cAAeA,EACfC,iBAAkBA,EAClBC,kBAAmBA,EACnBC,mBAAoBA,EACpBC,oBAAqBA,EACrBC,iBAAkBA,GAClBC,kBAAmBA,GACnBC,eAAgBA,GAChBC,YAAaA,GACbC,YAAaA,GACbC,YAAaA,GACbC,WAAYA,GACZC,UAAWA,GACXC,YAAaA,GACbC,cAAeA,GACfC,WAAYA,GACZC,aAAcA,GACd0C,cAlbkB,UAmblBzC,YAAaA,IAmBf,SAAS0C,GAAYC,EAAKllK,EAAMmlK,GAE9B9E,EADA8E,EAAQA,GAAS,CAAC,GACL12J,SAAQ8H,IAjBvB,IAAoBrO,EAAQmO,EAkBxB8uJ,EAAM5uJ,IAlBUrO,EAkBMg9J,EAAIvqJ,UAAUpE,GAlBZF,EAkBgB8uJ,EAAM5uJ,GAjB1B,mBAAXrO,GAAyC,mBAATmO,EAClCA,EAEF,WAEL,MAAM+wG,EAAMzlH,KAAKuG,OAGjBvG,KAAKuG,OAASA,EACd,MAAMmhB,EAAMhT,EAAKvC,MAAMnS,KAAM0E,WAE7B,OADA1E,KAAKuG,OAASk/G,EACP/9F,CACT,EAKmD,IAEnD,MAAM+7I,UAAiBF,EACjBG,eACF,OAAOrlK,CACT,EAGF,OADAgU,EAAOoxJ,EAASzqJ,UAAWwqJ,GACpBC,CACT,CACA,MAAME,GACJ7jK,eAAesH,GAEbpH,KAAK0S,QAAQtL,EACf,CACAsL,OAAQ,CACJgxJ,eACF,OAAO1jK,KAAKF,YAAYzB,IAC1B,CACAykB,cAAczkB,EAAMmlK,GAKlB,MAJoB,iBAATnlK,IACTmlK,EAAQnlK,EACRA,EAAO,aAEFilK,GAAYtjK,KAAM3B,EAAMmlK,EACjC,EAEF,MAAMI,WAAmBjH,EAAOh6J,aAC9B7C,eAAesH,GACb5E,QAEAxC,KAAK0S,QAAQtL,EACf,CACAsL,OAAQ,CACJgxJ,eACF,OAAO1jK,KAAKF,YAAYzB,IAC1B,CACAykB,cAAczkB,EAAMmlK,GAKlB,MAJoB,iBAATnlK,IACTmlK,EAAQnlK,EACRA,EAAO,aAEFilK,GAAYtjK,KAAM3B,EAAMmlK,EACjC,EAGF,SAASK,GAAiBpvJ,EAAKzN,EAAM4xC,GAC/BnkC,aAAezN,GACjB4xC,EAAQj3C,KAAK8S,GAEXA,aAAe81F,IACjB91F,EAAIqvJ,QAAQ98J,EAAM4xC,EAEtB,CACA,MAAM2xD,WAAao5D,GACjBjxJ,KAAK+qJ,EAAQC,KAAUt2J,GACrBpH,KAAKy9J,OAASA,EACdz9J,KAAK09J,MAAQA,EACb19J,KAAK+jK,OAAOj3J,SAAQ,CAAC2zE,EAAOl1E,KAE1B,IAAI0G,EAAMvN,UAAU6G,EAAI,QAIZ9P,IAARwW,IACFA,EAAM,MAERjS,KAAKygF,GAASxuE,CAAG,GAErB,CACA6xJ,QAAQ98J,EAAM4xC,GAOZ,OANAA,EAAUA,GAAW,GACjB54C,gBAAgBgkK,GAClBhkK,KAAKqwG,SAASvjG,SAAQrF,GAASo8J,GAAiBp8J,EAAOT,EAAM4xC,KAE7D54C,KAAK+jK,OAAOj3J,SAAQ2zE,GAASojF,GAAiB7jK,KAAKygF,GAAQz5E,EAAM4xC,KAE5DA,CACT,CACAqrH,WAAWt/E,GACT3kF,KAAK+jK,OAAOj3J,SAAQ2zE,IAClBkE,EAAK3kF,KAAKygF,GAAQA,EAAM,GAE5B,EAIF,MAAMyjF,WAAc35D,GACdm5D,eACF,MAAO,OACT,CACIK,aACF,MAAO,CAAC,QACV,EAIF,MAAMC,WAAiBz5D,GACjBm5D,eACF,MAAO,UACT,CACIK,aACF,MAAO,CAAC,WACV,CACArxJ,KAAK+qJ,EAAQC,EAAOx2J,GAClB1E,MAAMkQ,KAAK+qJ,EAAQC,EAAOx2J,GAAS,GACrC,CACAi9J,SAASpoK,GACPiE,KAAKqwG,SAAS1uG,KAAK5F,EACrB,EAEF,MAAMqoK,GAAOJ,GAAS3xJ,OAAO,QACvB61F,GAAUg8D,GAAM7xJ,OAAO,WACvBgyJ,GAAWH,GAAM7xJ,OAAO,UACxBiyJ,GAAQN,GAAS3xJ,OAAO,SACxBkyJ,GAAYP,GAAS3xJ,OAAO,SAC5BmyJ,GAAOj6D,GAAKl4F,OAAO,OAAQ,CAC/B0xJ,OAAQ,CAAC,MAAO,WAEZU,GAAOT,GAAS3xJ,OAAO,QACvBqyJ,GAAYn6D,GAAKl4F,OAAO,YAAa,CACzC0xJ,OAAQ,CAAC,SAAU,SAEfY,GAAKp6D,GAAKl4F,OAAO,KAAM,CAC3B0xJ,OAAQ,CAAC,OAAQ,OAAQ,WAErBa,GAAUD,GAAGtyJ,OAAO,WACpBwyJ,GAAWt6D,GAAKl4F,OAAO,WAAY,CACvC0xJ,OAAQ,CAAC,OAAQ,OAAQ,WAErBe,GAAMv6D,GAAKl4F,OAAO,MAAO,CAC7B0xJ,OAAQ,CAAC,MAAO,OAAQ,OAAQ,WAE5BgB,GAAYD,GAAIzyJ,OAAO,aACvB2yJ,GAAWF,GAAIzyJ,OAAO,YACtB4yJ,GAAQ16D,GAAKl4F,OAAO,QAAS,CACjC0xJ,OAAQ,CAAC,OAAQ,OAAQ,UAErBmB,GAASD,GAAM5yJ,OAAO,UACtB8yJ,GAAS56D,GAAKl4F,OAAO,SAAU,CACnC0xJ,OAAQ,CAAC,WAAY,SAAU,iBAEjC,MAAMqB,WAAmB76D,GACnBm5D,eACF,MAAO,YACT,CACIK,aACF,MAAO,CAAC,WAAY,QAAS,cAC/B,CACArxJ,KAAK+qJ,EAAQC,EAAOriG,EAAUh8D,EAAOgmK,GACnC7iK,MAAMkQ,KAAK+qJ,EAAQC,EAAOriG,EAAUh8D,GAAS,IAAI2kK,GAAYqB,EAC/D,EAEF,MAAMC,GAAU/6D,GAAKl4F,OAAO,UAAW,CACrC0xJ,OAAQ,CAAC,OAAQ,UAEbwB,GAASD,GAAQjzJ,OAAO,UACxBmzJ,GAAcD,GAAOlzJ,OAAO,cAAe,CAC/C0xJ,OAAQ,CAAC,OAAQ,OAAQ,YAErB0B,GAAchB,GAAKpyJ,OAAO,eAC1BqzJ,GAAQn7D,GAAKl4F,OAAO,QAAS,CACjC0xJ,OAAQ,CAAC,OAAQ,UAEb/6D,GAAQuB,GAAKl4F,OAAO,QAAS,CACjC0xJ,OAAQ,CAAC,YAAa,YAKlB4B,GAHcp7D,GAAKl4F,OAAO,cAAe,CAC7C0xJ,OAAQ,CAAC,cAEiB1xJ,OAAO,WAC7BuzJ,GAAUr7D,GAAKl4F,OAAO,UAAW,CACrC0xJ,OAAQ,CAAC,WAAY,mBAEjB8B,GAAQt7D,GAAKl4F,OAAO,MAAO,CAC/B0xJ,OAAQ,CAAC,UAAW,WAEhB+B,GAASv7D,GAAKl4F,OAAO,SAAU,CACnC0xJ,OAAQ,CAAC,OAAQ,QAAS,aAEtBgC,GAAOx7D,GAAKl4F,OAAO,OAAQ,CAC/B0xJ,OAAQ,CAAC,OAAQ,UAEbiC,GAAShC,GAAS3xJ,OAAO,UACzB4zJ,GAAU17D,GAAKl4F,OAAO,UAAW,CACrC0xJ,OAAQ,CAAC,UAELmC,GAAeh+D,GAAQ71F,OAAO,gBAC9B8zJ,GAAU57D,GAAKl4F,OAAO,UAAW,CACrC0xJ,OAAQ,CAAC,YAELqC,GAAQ77D,GAAKl4F,OAAO,QAAS,CACjC0xJ,OAAQ,CAAC,OAAQ,WAEbsC,GAAKD,GAAM/zJ,OAAO,MAClBi0J,GAAKF,GAAM/zJ,OAAO,MAClBk0J,GAAKH,GAAM/zJ,OAAO,MAClBm0J,GAAMJ,GAAM/zJ,OAAO,OACnBo0J,GAAMN,GAAQ9zJ,OAAO,OACrBq0J,GAAMN,GAAM/zJ,OAAO,OACnBs0J,GAASP,GAAM/zJ,OAAO,UACtBu0J,GAAMR,GAAM/zJ,OAAO,OACnBw0J,GAAMT,GAAM/zJ,OAAO,OACnBy0J,GAAMV,GAAM/zJ,OAAO,OACnB00J,GAAWX,GAAM/zJ,OAAO,YACxB20J,GAAMZ,GAAM/zJ,OAAO,OACnB40J,GAAMb,GAAM/zJ,OAAO,OACnB60J,GAAMf,GAAQ9zJ,OAAO,OACrB80J,GAAMhB,GAAQ9zJ,OAAO,OACrB+0J,GAAU78D,GAAKl4F,OAAO,UAAW,CACrC0xJ,OAAQ,CAAC,OAAQ,SAEbsD,GAAiB98D,GAAKl4F,OAAO,iBAAkB,CACnD0xJ,OAAQ,CAAC,OAAQ,UAEbuD,GAAgB/8D,GAAKl4F,OAAO,gBAAiB,CACjDK,KAAKu9D,EAAKv7D,EAAMtN,EAAMmgK,GACpBvnK,KAAKuG,SACLvG,KAAKwnK,QAAUv3F,EAAIw3F,QAAUx3F,EAC7BjwE,KAAK0U,KAAOA,EACZ1U,KAAKoH,KAAOA,GAAQ,IAAI48J,GACxBhkK,KAAKunK,YAAcA,GAAe,GAClCvnK,KAAK0nK,WAAaz3F,EAAIy3F,UACxB,EACA3D,OAAQ,CAAC,UAAW,OAAQ,OAAQ,iBAEhC4D,GAAqBL,GAAcj1J,OAAO,sBAGhD,SAASg/B,GAAMr8B,EAAKi2H,EAAQ28B,GAC1B,IAAI/pB,EAAQ7oI,EAAIhZ,MAAM,MACtB6hJ,EAAM/wI,SAAQ,CAAC00B,EAAMj2B,KACfi2B,IAASomI,GAAUr8J,EAAI,IAAMq8J,IAC/B/rK,QAAQs+C,OAAOnmC,MAAM,IAAIkhC,OAAO+1F,IAElC,MAAM48B,EAAKt8J,IAAMsyI,EAAMz3I,OAAS,EAAI,GAAK,KACzCvK,QAAQs+C,OAAOnmC,MAAM,GAAGwtB,IAAOqmI,IAAK,GAExC,CA4CA,IAAI3gK,GAAQ,CACVgjG,UAAW,KACXK,KAAMA,GACN65D,KAAMA,GACNJ,SAAUA,GACVE,MAAOA,GACPh8D,QAASA,GACThwF,OAAQmsJ,GACRC,MAAOA,GACPz+J,MAAO0+J,GACPC,KAAMA,GACNC,KAAMA,GACNuB,OAAQA,GACRC,QAASA,GACTC,aAAcA,GACdvB,GAAIA,GACJC,QAASA,GACTC,SAAUA,GACVC,IAAKA,GACLC,UAAWA,GACXC,SAAUA,GACVC,MAAOA,GACPC,OAAQA,GACRC,OAAQA,GACRC,WAAYA,GACZE,QAASA,GACTC,OAAQA,GACRC,YAAaA,GACbC,YAAaA,GACbC,MAAOA,GACP18D,MAAOA,GACP28D,QAASA,GACTC,QAASA,GACTjhK,IAAKkhK,GACLC,OAAQA,GACRC,KAAMA,GACNrB,UAAWA,GACX0B,MAAOA,GACPC,GAAIA,GACJC,GAAIA,GACJC,GAAIA,GACJC,IAAKA,GACLC,IAAKA,GACLC,IAAKA,GACLC,OAAQA,GACRC,IAAKA,GACLC,IAAKA,GACLC,IAAKA,GACLC,SAAUA,GACVC,IAAKA,GACLC,IAAKA,GACLC,IAAKA,GACLC,IAAKA,GACLC,QAASA,GACTC,eAAgBA,GAChBC,cAAeA,GACfK,mBAAoBA,GACpBG,WAlGF,SAASA,EAAW/rK,EAAMkvI,GAGxB,GAFAA,EAASA,GAAU,EACnB55F,GAAMt1C,EAAK2nK,SAAW,KAAMz4B,GACxBlvI,aAAgBioK,GAClB3yH,GAAM,MACNt1C,EAAKs0G,SAASvjG,SAAQU,IACpBs6J,EAAWt6J,EAAGy9H,EAAS,EAAE,SAEtB,GAAIlvI,aAAgBurK,GACzBj2H,GAAM,GAAGt1C,EAAKyrK,WAAWzrK,EAAK2Y,UAC1B3Y,EAAKqL,MACP0gK,EAAW/rK,EAAKqL,KAAM6jI,EAAS,GAE7BlvI,EAAKwrK,aACPxrK,EAAKwrK,YAAYz6J,SAAQU,IACvBs6J,EAAWt6J,EAAGy9H,EAAS,EAAE,QAGxB,CACL,IAAI/jI,EAAQ,GACRs8J,EAAQ,KACZznK,EAAKkoK,YAAW,CAAChyJ,EAAK81J,KAChB91J,aAAes4F,GACjBrjG,EAAMvF,KAAK,CAAComK,EAAW91J,KAEvBuxJ,EAAQA,GAAS,CAAC,EAClBA,EAAMuE,GAAa91J,EACrB,IAEEuxJ,EACFnyH,GAAMpgC,KAAK5L,UAAUm+J,EAAO,KAAM,GAAK,KAAM,MAAM,GAEnDnyH,GAAM,MAERnqC,EAAM4F,SAAQ,EAAEi7J,EAAWv6J,MACzB6jC,GAAM,IAAI02H,QAAiB98B,EAAS,GACpC68B,EAAWt6J,EAAGy9H,EAAS,EAAE,GAE7B,CACF,GA8DA,MAAM5mC,WAAes/D,GACnBjxJ,KAAKsgC,GACHhzC,KAAKgzC,OAASA,EACdhzC,KAAKgoK,OAAS,KACdhoK,KAAKioK,cAAgB,KACrBjoK,KAAKkoK,uBAAwB,EAC7BloK,KAAKoV,WAAa,EACpB,CACA22F,UAAUo8D,GACR,IAAI9zH,EACJ,GAAIr0C,KAAKgoK,OAAQ,CACf,GAAKG,GAAkBnoK,KAAKgoK,OAAOhhK,OAASq4J,EAK1C,OAFAhrH,EAAMr0C,KAAKgoK,OACXhoK,KAAKgoK,OAAS,KACP3zH,EAJPr0C,KAAKgoK,OAAS,IAMlB,CAEA,GADA3zH,EAAMr0C,KAAKgzC,OAAO+4D,aACbo8D,EACH,KAAO9zH,GAAOA,EAAIrtC,OAASq4J,GACzBhrH,EAAMr0C,KAAKgzC,OAAO+4D,YAGtB,OAAO13D,CACT,CACA+zH,YAEE,OADApoK,KAAKgoK,OAAShoK,KAAKgoK,QAAUhoK,KAAK+rG,YAC3B/rG,KAAKgoK,MACd,CACAK,UAAUh0H,GACR,GAAIr0C,KAAKgoK,OACP,MAAM,IAAI/rK,MAAM,uDAElB+D,KAAKgoK,OAAS3zH,CAChB,CACA90C,MAAM2lB,EAAKu4I,EAAQC,GACjB,QAAejiK,IAAXgiK,QAAkChiK,IAAViiK,EAAqB,CAC/C,MAAMrpH,EAAMr0C,KAAKooK,aAAe,CAAC,EACjC3K,EAASppH,EAAIopH,OACbC,EAAQrpH,EAAIqpH,KACd,CAOA,YANejiK,IAAXgiK,IACFA,GAAU,QAEEhiK,IAAViiK,IACFA,GAAS,GAEJ,IAAIH,EAAcr4I,EAAKu4I,EAAQC,EACxC,CACA4K,KAAKpjJ,EAAKu4I,EAAQC,GAChB,MAAM19J,KAAKT,MAAM2lB,EAAKu4I,EAAQC,EAChC,CACA6K,KAAKvhK,GACH,IAAIqtC,EAAMr0C,KAAK+rG,YACf,SAAK13D,GAAOA,EAAIrtC,OAASA,KACvBhH,KAAKqoK,UAAUh0H,IACR,EAGX,CACAkiE,OAAOvvG,GACL,IAAIqtC,EAAMr0C,KAAK+rG,YAIf,OAHI13D,EAAIrtC,OAASA,GACfhH,KAAKsoK,KAAK,YAActhK,EAAO,SAAWqtC,EAAIrtC,KAAMqtC,EAAIopH,OAAQppH,EAAIqpH,OAE/DrpH,CACT,CACAm0H,UAAUxhK,EAAMiL,GACd,IAAIoiC,EAAMr0C,KAAK+rG,YACf,SAAK13D,GAAOA,EAAIrtC,OAASA,GAAQqtC,EAAIv5C,QAAUmX,KAC7CjS,KAAKqoK,UAAUh0H,IACR,EAGX,CACAo0H,WAAWx2J,GACT,OAAOjS,KAAKwoK,UAAU7H,GAAc1uJ,EACtC,CACAy2J,qBAAqBrqK,GACnB,IAAIg2C,EAmBJ,OAlBKh2C,KACHg2C,EAAMr0C,KAAKooK,cAETpoK,KAAKsoK,KAAK,0BAERj0H,EAAIrtC,OAAS25J,IACf3gK,KAAKsoK,KAAK,6EAEZjqK,EAAO2B,KAAK+rG,YAAYjxG,QAE1Bu5C,EAAMr0C,KAAK+rG,cACA13D,EAAIrtC,OAASw4J,EACM,MAAxBnrH,EAAIv5C,MAAMigC,OAAO,KACnB/6B,KAAKkoK,uBAAwB,GAG/BloK,KAAKsoK,KAAK,yBAA2BjqK,EAAO,cAEvCg2C,CACT,CACAs0H,0BACE,IAAIt0H,EAAMr0C,KAAK+rG,YACX13D,GAAOA,EAAIrtC,OAAS04J,EACtB1/J,KAAKkoK,sBAA0G,MAAlF7zH,EAAIv5C,MAAMigC,OAAOsZ,EAAIv5C,MAAMsL,OAASpG,KAAKgzC,OAAO1E,KAAK8yH,aAAah7J,OAAS,IAExGpG,KAAKqoK,UAAUh0H,GACfr0C,KAAKsoK,KAAK,yBAEd,CACAM,WACE,IACI7sK,EACA8sK,EAFAC,EAAS9oK,KAAKooK,YAoBlB,GAjBIpoK,KAAKyoK,WAAW,QAClB1sK,EAAO,IAAI+oK,GAAIgE,EAAOrL,OAAQqL,EAAOpL,OACrCmL,EAAW,UACF7oK,KAAKyoK,WAAW,cACzB1sK,EAAO,IAAIgpK,GAAU+D,EAAOrL,OAAQqL,EAAOpL,OAC3CmL,EAAW,WACF7oK,KAAKyoK,WAAW,aACzB1sK,EAAO,IAAIipK,GAAS8D,EAAOrL,OAAQqL,EAAOpL,OAC1CmL,EAAW,UAEX7oK,KAAKsoK,KAAK,gCAAiCQ,EAAOrL,OAAQqL,EAAOpL,OAEnE3hK,EAAKsC,KAAO2B,KAAK+oK,eACXhtK,EAAKsC,gBAAgBgmK,IACzBrkK,KAAKsoK,KAAK,6CAECtoK,KAAKooK,YAAYphK,OACjBm5J,GAAa,CAExB,MAAM5sJ,EAAMxX,EAAKsC,KAGjB,IAFAtC,EAAKsC,KAAO,IAAIkmK,GAAUhxJ,EAAIkqJ,OAAQlqJ,EAAImqJ,OAC1C3hK,EAAKsC,KAAK8lK,SAAS5wJ,GACZvT,KAAKuoK,KAAKpI,KAAc,CAC7B,MAAM6I,EAAOhpK,KAAK+oK,eAClBhtK,EAAKsC,KAAK8lK,SAAS6E,EACrB,CACF,CAYA,OAXKhpK,KAAKyoK,WAAW,OACnBzoK,KAAKsoK,KAAK,2CAA4CQ,EAAOrL,OAAQqL,EAAOpL,OAE9E3hK,EAAK6R,IAAM5N,KAAK25G,kBAChB35G,KAAK0oK,qBAAqBI,EAAOhuK,OACjCiB,EAAK4rB,KAAO3nB,KAAKipK,iBAAiBJ,EAAU,QACxC7oK,KAAKyoK,WAAW,UAClBzoK,KAAK0oK,qBAAqB,QAC1B3sK,EAAKmtK,MAAQlpK,KAAKipK,iBAAiBJ,IAErC7oK,KAAK0oK,uBACE3sK,CACT,CACAotK,aACE,MAAMC,EAAWppK,KAAKooK,YACjBpoK,KAAKyoK,WAAW,UACnBzoK,KAAKsoK,KAAK,kBAEZ,MAAMjqK,EAAO2B,KAAK+oK,cAAa,GACzB3hK,EAAOpH,KAAKqpK,iBACZttK,EAAO,IAAIkpK,GAAMmE,EAAS3L,OAAQ2L,EAAS1L,MAAOr/J,EAAM+I,GAI9D,OAHApH,KAAK0oK,qBAAqBU,EAAStuK,OACnCiB,EAAK4rB,KAAO3nB,KAAKipK,iBAAiB,YAClCjpK,KAAK0oK,uBACE3sK,CACT,CACAutK,YAGE,IAAIC,EAAUvpK,KAAKooK,YACdpoK,KAAKyoK,WAAW,SACnBzoK,KAAKsoK,KAAK,iBAEZ,MAAMkB,EAAaxpK,KAAKqpK,gBAAe,IAAS,IAAIrF,GAC9CyF,EAAYzpK,KAAK+oK,eACvB/oK,KAAK0oK,qBAAqBa,EAAQzuK,OAClC,MAAM6sB,EAAO3nB,KAAKipK,iBAAiB,WACnCjpK,KAAK0oK,uBACL,MAAMgB,EAAa,IAAIrF,GAASkF,EAAQ9L,OAAQ8L,EAAQ7L,MAAO,UACzDiM,EAAa,IAAIzE,GAAOqE,EAAQ9L,OAAQ8L,EAAQ7L,MAAOgM,EAAYF,EAAY7hJ,GAG/EvgB,EAAOqiK,EAAUriK,KAAKipG,SAM5B,OALMjpG,EAAKA,EAAKhB,OAAS,aAAcq/J,IACrCr+J,EAAKzF,KAAK,IAAI8jK,IAEDr+J,EAAKA,EAAKhB,OAAS,GAC3B+9J,SAAS,IAAIK,GAAK+E,EAAQ9L,OAAQ8L,EAAQ7L,MAAOgM,EAAYC,IAC7D,IAAI3D,GAAOuD,EAAQ9L,OAAQ8L,EAAQ7L,MAAO,CAAC+L,GACpD,CACAG,mBACE,IAAIv1H,EAAMr0C,KAAKooK,YACX/C,EAAc,KAWlB,OAVIrlK,KAAKyoK,WAAW,QAClBpD,GAAc,EACLrlK,KAAKyoK,WAAW,aACzBpD,GAAc,GAEI,OAAhBA,IACGrlK,KAAKyoK,WAAW,YACnBzoK,KAAKsoK,KAAK,iDAAkDj0H,EAAIopH,OAAQppH,EAAIqpH,QAGzE2H,CACT,CACAwE,cACE,IAAIC,EAAY9pK,KAAKooK,YAChBpoK,KAAKyoK,WAAW,WACnBzoK,KAAKsoK,KAAK,+BAAgCwB,EAAUrM,OAAQqM,EAAUpM,OAExE,MAAMriG,EAAWr7D,KAAK25G,kBACjB35G,KAAKyoK,WAAW,OACnBzoK,KAAKsoK,KAAK,qCAAsCwB,EAAUrM,OAAQqM,EAAUpM,OAE9E,MAAM3mJ,EAAS/W,KAAK25G,kBACd0rD,EAAcrlK,KAAK4pK,mBACnB7tK,EAAO,IAAIopK,GAAO2E,EAAUrM,OAAQqM,EAAUpM,MAAOriG,EAAUtkD,EAAQsuJ,GAE7E,OADArlK,KAAK0oK,qBAAqBoB,EAAUhvK,OAC7BiB,CACT,CACAguK,YACE,MAAMC,EAAUhqK,KAAKooK,YAChBpoK,KAAKyoK,WAAW,SACnBzoK,KAAKsoK,KAAK,4BAEZ,MAAMjtG,EAAWr7D,KAAK25G,kBACjB35G,KAAKyoK,WAAW,WACnBzoK,KAAKsoK,KAAK,6BAA8B0B,EAAQvM,OAAQuM,EAAQtM,OAElE,MAAMr+J,EAAQ,IAAI2kK,GAClB,IAAIqB,EACJ,OAAU,CAER,MAAM4E,EAAUjqK,KAAKooK,YACrB,GAAI6B,EAAQjjK,OAASw4J,EAAiB,CAC/BngK,EAAMgxG,SAASjqG,QAClBpG,KAAKsoK,KAAK,+CAAgD0B,EAAQvM,OAAQuM,EAAQtM,OAMpD,MAA5BuM,EAAQnvK,MAAMigC,OAAO,KACvB/6B,KAAKkoK,uBAAwB,GAE/BloK,KAAK+rG,YACL,KACF,CACI1sG,EAAMgxG,SAASjqG,OAAS,IAAMpG,KAAKuoK,KAAKpI,KAC1CngK,KAAKsoK,KAAK,4BAA6B0B,EAAQvM,OAAQuM,EAAQtM,OAEjE,MAAMr/J,EAAO2B,KAAK+oK,eAIlB,GAH6B,MAAzB1qK,EAAKvD,MAAMigC,OAAO,IACpB/6B,KAAKsoK,KAAK,kEAAmEjqK,EAAKo/J,OAAQp/J,EAAKq/J,OAE7F19J,KAAKyoK,WAAW,MAAO,CACzB,MAAMpxB,EAAQr3I,KAAK+oK,eACnB1pK,EAAM8kK,SAAS,IAAIK,GAAKnmK,EAAKo/J,OAAQp/J,EAAKq/J,MAAOr/J,EAAMg5I,GACzD,MACEh4I,EAAM8kK,SAAS9lK,GAEjBgnK,EAAcrlK,KAAK4pK,kBACrB,CACA,OAAO,IAAIxE,GAAW4E,EAAQvM,OAAQuM,EAAQtM,MAAOriG,EAAUh8D,EAAOgmK,EACxE,CACAxoD,aACE,MAAMruE,EAAMxuC,KAAKooK,YACZpoK,KAAKyoK,WAAW,UACnBzoK,KAAKsoK,KAAK,6BAA8B95H,EAAIivH,OAAQjvH,EAAIkvH,OAE1D,MAAM3hK,EAAO,IAAI2pK,GAAMl3H,EAAIivH,OAAQjvH,EAAIkvH,OACvC3hK,EAAKsC,KAAO2B,KAAK+oK,eACXhtK,EAAKsC,gBAAgBgmK,IACzBrkK,KAAKsoK,KAAK,qCAAsC95H,EAAIivH,OAAQjvH,EAAIkvH,OAElE19J,KAAK0oK,qBAAqBl6H,EAAI1zC,OAC9BiB,EAAK4rB,KAAO3nB,KAAKipK,iBAAiB,YAClCjpK,KAAKyoK,WAAW,YAChBzoK,KAAKyoK,WAAW1sK,EAAKsC,KAAKvD,OAC1B,MAAMu5C,EAAMr0C,KAAKooK,YAKjB,OAJK/zH,GACHr0C,KAAKsoK,KAAK,kDAEZtoK,KAAK0oK,qBAAqBr0H,EAAIv5C,OACvBiB,CACT,CACAmuK,eACE,MAAMt1B,EAAU,UACVpmG,EAAMxuC,KAAKooK,YACZpoK,KAAKyoK,WAAW7zB,IACnB50I,KAAKsoK,KAAK,8BAAgC1zB,GAE5C,MAAM74I,EAAO,IAAI4pK,GAAQn3H,EAAIivH,OAAQjvH,EAAIkvH,OAGzC,OAFA3hK,EAAKs/D,SAAWr7D,KAAK25G,kBACrB35G,KAAK0oK,qBAAqBl6H,EAAI1zC,OACvBiB,CACT,CACAouK,eACE,MAAMv1B,EAAU,UACVpmG,EAAMxuC,KAAKooK,YACZpoK,KAAKyoK,WAAW7zB,IACnB50I,KAAKsoK,KAAK,0BAA4B1zB,GAExC,MAAM74I,EAAO,IAAI6pK,GAAQp3H,EAAIivH,OAAQjvH,EAAIkvH,OAMzC,OALA3hK,EAAKs/D,SAAWr7D,KAAK25G,kBACjB35G,KAAKyoK,WAAW,WAAazoK,KAAKyoK,WAAW,aAC/C1sK,EAAKquK,eAAgB,GAEvBpqK,KAAK0oK,qBAAqBl6H,EAAI1zC,OACvBiB,CACT,CACAsuK,UACE,MAAM77H,EAAMxuC,KAAKooK,YACjB,IAAIrsK,EACAiE,KAAKyoK,WAAW,OAASzoK,KAAKyoK,WAAW,SAAWzoK,KAAKyoK,WAAW,UACtE1sK,EAAO,IAAI4oK,GAAGn2H,EAAIivH,OAAQjvH,EAAIkvH,OACrB19J,KAAKyoK,WAAW,WACzB1sK,EAAO,IAAI6oK,GAAQp2H,EAAIivH,OAAQjvH,EAAIkvH,OAEnC19J,KAAKsoK,KAAK,wCAAyC95H,EAAIivH,OAAQjvH,EAAIkvH,OAErE3hK,EAAKuuK,KAAOtqK,KAAK25G,kBACjB35G,KAAK0oK,qBAAqBl6H,EAAI1zC,OAC9BiB,EAAK4rB,KAAO3nB,KAAKipK,iBAAiB,OAAQ,SAAU,OAAQ,SAC5D,MAAM50H,EAAMr0C,KAAKooK,YACjB,OAAQ/zH,GAAOA,EAAIv5C,OACjB,IAAK,SACL,IAAK,OACHiB,EAAKmtK,MAAQlpK,KAAKqqK,UAClB,MACF,IAAK,OACHrqK,KAAK0oK,uBACL3sK,EAAKmtK,MAAQlpK,KAAKipK,iBAAiB,SACnCjpK,KAAK0oK,uBACL,MACF,IAAK,QACH3sK,EAAKmtK,MAAQ,KACblpK,KAAK0oK,uBACL,MACF,QACE1oK,KAAKsoK,KAAK,2DAEd,OAAOvsK,CACT,CACAwuK,WACE,MAAM/7H,EAAMxuC,KAAKooK,YACZpoK,KAAKyoK,WAAW,QACnBzoK,KAAKsoK,KAAK,yBAA0B95H,EAAIivH,OAAQjvH,EAAIkvH,OAEtD,MAAM3hK,EAAO,IAAI8pK,GAAMr3H,EAAIivH,OAAQjvH,EAAIkvH,MAAO,IAC9C,IAAI3mJ,EACJ,MAAOA,EAAS/W,KAAK+oK,kBACnBhtK,EAAKyuK,QAAQ7oK,KAAKoV,GACb/W,KAAKuoK,KAAKpI,OAgBjB,OAZKngK,KAAKwoK,UAAUtI,GAAgB,MASlCnkK,EAAKjB,MAAQkF,KAAK25G,kBAClB35G,KAAK0oK,qBAAqBl6H,EAAI1zC,QATzBkF,KAAKuoK,KAAK/I,IAGbzjK,EAAK4rB,KAAO,IAAIs+I,GAAQz3H,EAAIivH,OAAQjvH,EAAIkvH,MAAO19J,KAAKipK,iBAAiB,WACrEltK,EAAKjB,MAAQ,KACbkF,KAAK0oK,wBAJL1oK,KAAKsoK,KAAK,+CAAgD95H,EAAIivH,OAAQjvH,EAAIkvH,OAUvE3hK,CACT,CACA0uK,cAKE,MAAMC,EAAc,SACdC,EAAY,YACZC,EAAY,OACZC,EAAc,UAGdr8H,EAAMxuC,KAAKooK,YAGZpoK,KAAKyoK,WAAWiC,IAAiB1qK,KAAKyoK,WAAWmC,IAAe5qK,KAAKyoK,WAAWoC,IACnF7qK,KAAKsoK,KAAK,sDAAuD95H,EAAIivH,OAAQjvH,EAAIkvH,OAInF,MAAMxyD,EAAOlrG,KAAK25G,kBAGlB35G,KAAK0oK,qBAAqBgC,GAC1B1qK,KAAKipK,iBAAiB2B,EAAWC,EAAaF,GAG9C,IAAIt2H,EAAMr0C,KAAKooK,YAGf,MAAMl1D,EAAQ,GACd,IAAI43D,EAGJ,EAAG,CAED9qK,KAAKyoK,WAAWmC,GAChB,MAAMN,EAAOtqK,KAAK25G,kBAClB35G,KAAK0oK,qBAAqBgC,GAE1B,MAAM/iJ,EAAO3nB,KAAKipK,iBAAiB2B,EAAWC,EAAaF,GAC3Dz3D,EAAMvxG,KAAK,IAAIokK,GAAK1xH,EAAI7S,KAAM6S,EAAIgvE,IAAKinD,EAAM3iJ,IAE7C0sB,EAAMr0C,KAAKooK,WACb,OAAS/zH,GAAOA,EAAIv5C,QAAU8vK,GAG9B,OAAQv2H,EAAIv5C,OACV,KAAK+vK,EACH7qK,KAAK0oK,uBACLoC,EAAc9qK,KAAKipK,iBAAiB0B,GACpC3qK,KAAK0oK,uBACL,MACF,KAAKiC,EACH3qK,KAAK0oK,uBACL,MACF,QAEE1oK,KAAKsoK,KAAK,oEAId,OAAO,IAAIxC,GAAOt3H,EAAIivH,OAAQjvH,EAAIkvH,MAAOxyD,EAAMgI,EAAO43D,EACxD,CACAluD,iBACE,IAAIvoE,EAAMr0C,KAAKooK,YAKf,GAHI/zH,EAAIrtC,OAAS25J,IACf3gK,KAAKsoK,KAAK,oBAAqBj0H,EAAIopH,OAAQppH,EAAIqpH,OAE7C19J,KAAKioK,gBAA6D,IAA5Cl7J,EAAQ/M,KAAKioK,cAAe5zH,EAAIv5C,OACxD,OAAO,KAET,OAAQu5C,EAAIv5C,OACV,IAAK,MACH,OAAOkF,KAAK+qK,WACd,IAAK,WACH,OAAO/qK,KAAK+qK,SAAS,YACvB,IAAK,KACL,IAAK,UACH,OAAO/qK,KAAKqqK,UACd,IAAK,MACL,IAAK,YACL,IAAK,WACH,OAAOrqK,KAAK4oK,WACd,IAAK,QACH,OAAO5oK,KAAK68G,aACd,IAAK,UACH,OAAO78G,KAAKkqK,eACd,IAAK,UACH,OAAOlqK,KAAKmqK,eACd,IAAK,MACH,OAAOnqK,KAAKuqK,WACd,IAAK,QACH,OAAOvqK,KAAKmpK,aACd,IAAK,OACH,OAAOnpK,KAAKspK,YACd,IAAK,SACH,OAAOtpK,KAAK6pK,cACd,IAAK,OACH,OAAO7pK,KAAK+pK,YACd,IAAK,SACH,OAAO/pK,KAAKgrK,uBACd,IAAK,SACH,OAAOhrK,KAAKyqK,cACd,QACE,GAAIzqK,KAAKoV,WAAWhP,OAClB,IAAK,IAAImF,EAAI,EAAGA,EAAIvL,KAAKoV,WAAWhP,OAAQmF,IAAK,CAC/C,MAAM0kE,EAAMjwE,KAAKoV,WAAW7J,GAC5B,IAA4C,IAAxCwB,EAAQkjE,EAAI3hC,MAAQ,GAAI+F,EAAIv5C,OAC9B,OAAOm1E,EAAIzqE,MAAMxF,KAAMkH,GAAOk8J,GAElC,CAEFpjK,KAAKsoK,KAAK,sBAAwBj0H,EAAIv5C,MAAOu5C,EAAIopH,OAAQppH,EAAIqpH,OAGnE,CACAqN,SAASn2B,GAEP,MAAMq2B,EAAa,OADnBr2B,EAAUA,GAAW,OAGfs2B,EAAgB,IAAI76J,OAAO,sBAAwBukI,EAAU,IAAMq2B,EAAa,iBACtF,IAAIE,EAAW,EACXn2J,EAAM,GACNyuB,EAAU,KAId,MAAM2nI,EAAQprK,KAAK0oK,uBAInB,MAAQjlI,EAAUzjC,KAAKgzC,OAAOiwH,cAAciI,KAAmBC,EAAW,GAAG,CAC3E,MAAMl1J,EAAMwtB,EAAQ,GACd6R,EAAM7R,EAAQ,GACd4nI,EAAY5nI,EAAQ,GAGtB4nI,IAAcz2B,EAChBu2B,GAAY,EACHE,IAAcJ,IACvBE,GAAY,GAIG,IAAbA,GAEFn2J,GAAOsgC,EAEPt1C,KAAKgzC,OAAOmwH,MAAMltJ,EAAI7P,OAASkvC,EAAIlvC,SAEnC4O,GAAOiB,CAEX,CACA,OAAO,IAAI+vJ,GAAOoF,EAAM3N,OAAQ2N,EAAM1N,MAAO,CAAC,IAAIwI,GAAakF,EAAM3N,OAAQ2N,EAAM1N,MAAO1oJ,IAC5F,CACAs2J,aAAavvK,GACX,IAAI+3J,EACAz/G,EAAMr0C,KAAKooK,YACf,KAAO/zH,GAAK,CACV,GAAIA,EAAIrtC,OAAS44J,EAEf7jK,EAAO,IAAIupK,GAAQjxH,EAAIopH,OAAQppH,EAAIqpH,MAAO3hK,EAAMiE,KAAKqpK,uBAChD,GAAIh1H,EAAIrtC,OAAS84J,EAEtBhM,EAAS9zJ,KAAKurK,iBACVzX,EAAOzjD,SAASjqG,OAAS,GAC3BpG,KAAKsoK,KAAK,iBAEZvsK,EAAO,IAAI2oK,GAAUrwH,EAAIopH,OAAQppH,EAAIqpH,MAAO3hK,EAAM+3J,EAAOzjD,SAAS,QAC7D,IAAIh8D,EAAIrtC,OAASk5J,IAAgC,MAAd7rH,EAAIv5C,MAa5C,MAb2D,CAE3DkF,KAAK+rG,YACL,MAAM95F,EAAMjS,KAAK+rG,YACb95F,EAAIjL,OAAS25J,IACf3gK,KAAKsoK,KAAK,sCAAwCr2J,EAAInX,MAAOmX,EAAIwrJ,OAAQxrJ,EAAIyrJ,OAK/E5J,EAAS,IAAI5rD,GAAQj2F,EAAIwrJ,OAAQxrJ,EAAIyrJ,MAAOzrJ,EAAInX,OAChDiB,EAAO,IAAI2oK,GAAUrwH,EAAIopH,OAAQppH,EAAIqpH,MAAO3hK,EAAM+3J,EACpD,CAEA,CACAz/G,EAAMr0C,KAAKooK,WACb,CACA,OAAOrsK,CACT,CACA49G,kBAEE,OADW35G,KAAKwrK,eAElB,CACAA,gBACE,IAAIzvK,EAAOiE,KAAKyrK,UAChB,GAAIzrK,KAAKyoK,WAAW,MAAO,CACzB,MAAMiD,EAAW1rK,KAAKyrK,UAChBE,EAAW5vK,EACjBA,EAAO,IAAI8oK,GAAS9oK,EAAK0hK,OAAQ1hK,EAAK2hK,OACtC3hK,EAAK4rB,KAAOgkJ,EACZ5vK,EAAKuuK,KAAOoB,EACR1rK,KAAKyoK,WAAW,QAClB1sK,EAAKmtK,MAAQlpK,KAAKyrK,UAElB1vK,EAAKmtK,MAAQ,IAEjB,CACA,OAAOntK,CACT,CACA0vK,UACE,IAAI1vK,EAAOiE,KAAK4rK,WAChB,KAAO5rK,KAAKyoK,WAAW,OAAO,CAC5B,MAAMoD,EAAQ7rK,KAAK4rK,WACnB7vK,EAAO,IAAIwqK,GAAGxqK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EAC/C,CACA,OAAO9vK,CACT,CACA6vK,WACE,IAAI7vK,EAAOiE,KAAK8rK,WAChB,KAAO9rK,KAAKyoK,WAAW,QAAQ,CAC7B,MAAMoD,EAAQ7rK,KAAK8rK,WACnB/vK,EAAO,IAAIyqK,GAAIzqK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EAChD,CACA,OAAO9vK,CACT,CACA+vK,WACE,MAAMz3H,EAAMr0C,KAAKooK,YACjB,OAAIpoK,KAAKyoK,WAAW,OACX,IAAIhC,GAAIpyH,EAAIopH,OAAQppH,EAAIqpH,MAAO19J,KAAK8rK,YAEtC9rK,KAAK+rK,SACd,CACAA,UACE,IAAIhwK,EAAOiE,KAAKgsK,UAChB,OAAU,CAGR,MAAM33H,EAAMr0C,KAAK+rG,YACjB,IAAK13D,EACH,MAEF,MAAM43H,EAAS53H,EAAIrtC,OAAS25J,IAA8B,QAAdtsH,EAAIv5C,MAKhD,GAHKmxK,GACHjsK,KAAKqoK,UAAUh0H,IAEbr0C,KAAKyoK,WAAW,MAMb,CAEDwD,GACFjsK,KAAKqoK,UAAUh0H,GAEjB,KACF,CAZ2B,CACzB,MAAMw3H,EAAQ7rK,KAAKgsK,UACnBjwK,EAAO,IAAIsqK,GAAGtqK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,GACzCI,IACFlwK,EAAO,IAAI0qK,GAAI1qK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,GAE5C,CAOF,CACA,OAAOA,CACT,CAIAiwK,UACE,IAAIjwK,EAAOiE,KAAKksK,eAEhB,GAAIlsK,KAAKyoK,WAAW,MAAO,CAEzB,MAAM19H,EAAM/qC,KAAKyoK,WAAW,OAEtBoD,EAAQ7rK,KAAKksK,eAEnBnwK,EAAO,IAAIuqK,GAAGvqK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,GAEzC9gI,IACFhvC,EAAO,IAAI0qK,GAAI1qK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,GAE5C,CAEA,OAAOA,CACT,CACAmwK,eACE,MAAMC,EAAa,CAAC,KAAM,MAAO,KAAM,MAAO,IAAK,IAAK,KAAM,MACxDjhE,EAAOlrG,KAAKosK,cACZC,EAAM,GACZ,OAAU,CAER,MAAMh4H,EAAMr0C,KAAK+rG,YACjB,IAAK13D,EACH,MACK,IAAuC,IAAnC83H,EAAWp/J,QAAQsnC,EAAIv5C,OAE3B,CACLkF,KAAKqoK,UAAUh0H,GACf,KACF,CAJEg4H,EAAI1qK,KAAK,IAAI0lK,GAAehzH,EAAIopH,OAAQppH,EAAIqpH,MAAO19J,KAAKosK,cAAe/3H,EAAIv5C,OAK/E,CACA,OAAIuxK,EAAIjmK,OACC,IAAIghK,GAAQiF,EAAI,GAAG5O,OAAQ4O,EAAI,GAAG3O,MAAOxyD,EAAMmhE,GAE/CnhE,CAEX,CAGAkhE,cACE,IAAIrwK,EAAOiE,KAAKssK,WAChB,KAAOtsK,KAAKwoK,UAAUnI,GAAa,MAAM,CACvC,MAAMwL,EAAQ7rK,KAAKssK,WACnBvwK,EAAO,IAAI4qK,GAAO5qK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EACnD,CACA,OAAO9vK,CACT,CACAuwK,WACE,IAAIvwK,EAAOiE,KAAKusK,WAChB,KAAOvsK,KAAKwoK,UAAUtI,GAAgB,MAAM,CAC1C,MAAM2L,EAAQ7rK,KAAKusK,WACnBxwK,EAAO,IAAI2qK,GAAI3qK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EAChD,CACA,OAAO9vK,CACT,CACAwwK,WACE,IAAIxwK,EAAOiE,KAAKwsK,WAChB,KAAOxsK,KAAKwoK,UAAUtI,GAAgB,MAAM,CAC1C,MAAM2L,EAAQ7rK,KAAKwsK,WACnBzwK,EAAO,IAAI6qK,GAAI7qK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EAChD,CACA,OAAO9vK,CACT,CACAywK,WACE,IAAIzwK,EAAOiE,KAAKysK,WAChB,KAAOzsK,KAAKwoK,UAAUtI,GAAgB,MAAM,CAC1C,MAAM2L,EAAQ7rK,KAAKysK,WACnB1wK,EAAO,IAAI8qK,GAAI9qK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EAChD,CACA,OAAO9vK,CACT,CACA0wK,WACE,IAAI1wK,EAAOiE,KAAK0sK,gBAChB,KAAO1sK,KAAKwoK,UAAUtI,GAAgB,MAAM,CAC1C,MAAM2L,EAAQ7rK,KAAK0sK,gBACnB3wK,EAAO,IAAI+qK,GAAI/qK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EAChD,CACA,OAAO9vK,CACT,CACA2wK,gBACE,IAAI3wK,EAAOiE,KAAK2sK,WAChB,KAAO3sK,KAAKwoK,UAAUtI,GAAgB,OAAO,CAC3C,MAAM2L,EAAQ7rK,KAAK2sK,WACnB5wK,EAAO,IAAIgrK,GAAShrK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EACrD,CACA,OAAO9vK,CACT,CACA4wK,WACE,IAAI5wK,EAAOiE,KAAK4sK,WAChB,KAAO5sK,KAAKwoK,UAAUtI,GAAgB,MAAM,CAC1C,MAAM2L,EAAQ7rK,KAAK4sK,WACnB7wK,EAAO,IAAIirK,GAAIjrK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EAChD,CACA,OAAO9vK,CACT,CACA6wK,WACE,IAAI7wK,EAAOiE,KAAK6sK,aAChB,KAAO7sK,KAAKwoK,UAAUtI,GAAgB,OAAO,CAC3C,MAAM2L,EAAQ7rK,KAAK6sK,aACnB9wK,EAAO,IAAIkrK,GAAIlrK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAM8vK,EAChD,CACA,OAAO9vK,CACT,CACA8wK,WAAWC,GACT,MAAMz4H,EAAMr0C,KAAKooK,YACjB,IAAIrsK,EAWJ,OATEA,EADEiE,KAAKwoK,UAAUtI,GAAgB,KAC1B,IAAIgH,GAAI7yH,EAAIopH,OAAQppH,EAAIqpH,MAAO19J,KAAK6sK,YAAW,IAC7C7sK,KAAKwoK,UAAUtI,GAAgB,KACjC,IAAIiH,GAAI9yH,EAAIopH,OAAQppH,EAAIqpH,MAAO19J,KAAK6sK,YAAW,IAE/C7sK,KAAK+oK,eAET+D,IACH/wK,EAAOiE,KAAK+sK,YAAYhxK,IAEnBA,CACT,CACAgtK,aAAaiE,GACX,MAAM34H,EAAMr0C,KAAK+rG,YACjB,IAAI95F,EACAlW,EAAO,KAmCX,GAlCKs4C,EAEMA,EAAIrtC,OAASo4J,EACtBntJ,EAAMoiC,EAAIv5C,MACDu5C,EAAIrtC,OAASu5J,GACtBtuJ,EAAM7V,SAASi4C,EAAIv5C,MAAO,IACjBu5C,EAAIrtC,OAASw5J,GACtBvuJ,EAAM25B,WAAWyI,EAAIv5C,OACZu5C,EAAIrtC,OAASy5J,GACJ,SAAdpsH,EAAIv5C,MACNmX,GAAM,EACiB,UAAdoiC,EAAIv5C,MACbmX,GAAM,EAENjS,KAAKsoK,KAAK,oBAAsBj0H,EAAIv5C,MAAOu5C,EAAIopH,OAAQppH,EAAIqpH,OAEpDrpH,EAAIrtC,OAAS05J,GACtBzuJ,EAAM,KACGoiC,EAAIrtC,OAAS45J,KACtB3uJ,EAAM,IAAI5B,OAAOgkC,EAAIv5C,MAAM6sB,KAAM0sB,EAAIv5C,MAAM2lC,QAlB3CzgC,KAAKsoK,KAAK,6CAoBA7sK,IAARwW,EACFlW,EAAO,IAAImsG,GAAQ7zD,EAAIopH,OAAQppH,EAAIqpH,MAAOzrJ,GACjCoiC,EAAIrtC,OAAS25J,GACtB5kK,EAAO,IAAIsoK,GAAShwH,EAAIopH,OAAQppH,EAAIqpH,MAAOrpH,EAAIv5C,QAI/CkF,KAAKqoK,UAAUh0H,GACft4C,EAAOiE,KAAKurK,kBAETyB,IACHjxK,EAAOiE,KAAKsrK,aAAavvK,IAEvBA,EACF,OAAOA,EAEP,MAAMiE,KAAKT,MAAM,qBAAqB80C,EAAIv5C,QAASu5C,EAAIopH,OAAQppH,EAAIqpH,MAEvE,CACAuP,kBACE,MAAM54H,EAAMr0C,KAAKu2G,OAAOoqD,IACxB,IAAItiK,EAAOg2C,EAAIv5C,MACf,KAAOkF,KAAKwoK,UAAUtI,GAAgB,MACpC7hK,GAAQ,IAAM2B,KAAKu2G,OAAOoqD,IAAc7lK,MAE1C,OAAO,IAAIupK,GAAShwH,EAAIopH,OAAQppH,EAAIqpH,MAAOr/J,EAC7C,CACA6uK,gBAAgBnxK,GACd,OAAIiE,KAAKooK,YAAYphK,OAAS44J,EAGf5/J,KAAKsrK,aAAavvK,GACnBqL,KAAKipG,SAEZ,EACT,CACA08D,YAAYhxK,GACV,KAAOiE,KAAKuoK,KAAKjI,KAAa,CAC5B,MAAMjiK,EAAO2B,KAAKitK,kBAClBlxK,EAAO,IAAIwpK,GAAOlnK,EAAKo/J,OAAQp/J,EAAKq/J,MAAOr/J,EAAM,IAAI2lK,GAAS3lK,EAAKo/J,OAAQp/J,EAAKq/J,MAAO,CAAC3hK,GAAMqJ,OAAOpF,KAAKktK,gBAAgBnxK,KAC5H,CACA,OAAOA,CACT,CACAivK,uBACE,IAAImC,EAAYntK,KAAKooK,YAChBpoK,KAAKyoK,WAAW,WACnBzoK,KAAKsoK,KAAK,yCAEZ,MAAMjqK,EAAO2B,KAAKitK,kBACZ7lK,EAAOpH,KAAKktK,gBAAgB7uK,GAClC2B,KAAK0oK,qBAAqByE,EAAUryK,OACpC,MAAM6sB,EAAO,IAAIs+I,GAAQ5nK,EAAKo/J,OAAQp/J,EAAKq/J,MAAO19J,KAAKipK,iBAAiB,cACxEjpK,KAAK0oK,uBACL,MAAM3sK,EAAO,IAAIwpK,GAAOlnK,EAAKo/J,OAAQp/J,EAAKq/J,MAAOr/J,EAAM,IAAI2lK,GAAS3lK,EAAKo/J,OAAQp/J,EAAKq/J,MAAO,CAAC/1I,GAAMviB,OAAOgC,KAC3G,OAAO,IAAI4+J,GAAO3nK,EAAKo/J,OAAQp/J,EAAKq/J,MAAO,CAAC3hK,GAC9C,CACAwvK,iBACE,IACIxvK,EADAs4C,EAAMr0C,KAAK+rG,YAEf,OAAQ13D,EAAIrtC,MACV,KAAK44J,EACH7jK,EAAO,IAAIuoK,GAAMjwH,EAAIopH,OAAQppH,EAAIqpH,OACjC,MACF,KAAKoC,EACH/jK,EAAO,IAAIwoK,GAAUlwH,EAAIopH,OAAQppH,EAAIqpH,OACrC,MACF,KAAKsC,GACHjkK,EAAO,IAAI0oK,GAAKpwH,EAAIopH,OAAQppH,EAAIqpH,OAChC,MACF,QACE,OAAO,KAEX,OAAU,CAER,MAAM12J,EAAOhH,KAAKooK,YAAYphK,KAC9B,GAAIA,IAAS64J,GAAqB74J,IAAS+4J,GAAuB/4J,IAASi5J,GAAmB,CAC5FjgK,KAAK+rG,YACL,KACF,CAMA,GALIhwG,EAAKs0G,SAASjqG,OAAS,IACpBpG,KAAKuoK,KAAKpI,KACbngK,KAAKsoK,KAAK,kDAAmDj0H,EAAIopH,OAAQppH,EAAIqpH,QAG7E3hK,aAAgB0oK,GAAM,CAExB,MAAMlxJ,EAAMvT,KAAK+oK,eAIZ/oK,KAAKuoK,KAAKnI,KACbpgK,KAAKsoK,KAAK,gDAAiDj0H,EAAIopH,OAAQppH,EAAIqpH,OAI7E,MAAM5iK,EAAQkF,KAAK25G,kBACnB59G,EAAKooK,SAAS,IAAIK,GAAKjxJ,EAAIkqJ,OAAQlqJ,EAAImqJ,MAAOnqJ,EAAKzY,GACrD,KAAO,CAEL,MAAMowG,EAAOlrG,KAAK25G,kBAClB59G,EAAKooK,SAASj5D,EAChB,CACF,CACA,OAAOnvG,CACT,CACAstK,eAAe5kE,EAAU2oE,GACvB,IAAI/4H,EAAMr0C,KAAKooK,YACf,IAAKgF,GAAY/4H,EAAIrtC,OAAS44J,EAAkB,CAC9C,GAAIn7D,EACF,OAAO,KAEPzkG,KAAKsoK,KAAK,qBAAsBj0H,EAAIopH,OAAQppH,EAAIqpH,MAEpD,CACIrpH,EAAIrtC,OAAS44J,IACfvrH,EAAMr0C,KAAK+rG,aAEb,MAAM3kG,EAAO,IAAI48J,GAAS3vH,EAAIopH,OAAQppH,EAAIqpH,OACpC2P,EAAS,IAAI5H,GAAYpxH,EAAIopH,OAAQppH,EAAIqpH,OAC/C,IAAI4P,GAAa,EACjB,OAAU,CAGR,GADAj5H,EAAMr0C,KAAKooK,aACNgF,GAAY/4H,EAAIrtC,OAAS64J,EAAmB,CAC/C7/J,KAAK+rG,YACL,KACF,CAAO,GAAIqhE,GAAY/4H,EAAIrtC,OAASw4J,EAClC,MAEF,GAAI8N,IAAettK,KAAKuoK,KAAKpI,IAC3BngK,KAAKsoK,KAAK,kDAAmDj0H,EAAIopH,OAAQppH,EAAIqpH,WACxE,CACL,MAAMz/H,EAAMj+B,KAAK25G,kBACb35G,KAAKwoK,UAAUtI,GAAgB,KACjCmN,EAAOlJ,SAAS,IAAIK,GAAKvmI,EAAIw/H,OAAQx/H,EAAIy/H,MAAOz/H,EAAKj+B,KAAK25G,oBAE1DvyG,EAAK+8J,SAASlmI,EAElB,CACAqvI,GAAa,CACf,CAIA,OAHID,EAAOh9D,SAASjqG,QAClBgB,EAAK+8J,SAASkJ,GAETjmK,CACT,CACA6hK,oBAAoBsE,GAClB,MAAMtmK,EAAOjH,KAAKioK,cAClBjoK,KAAKioK,cAAgBsF,EACrB,MAAMrnB,EAAMlmJ,KAAKwF,QAEjB,OADAxF,KAAKioK,cAAgBhhK,EACdi/I,CACT,CACAsnB,aACE,IAAIn5H,EACJ,MAAMl+B,EAAM,GACZ,KAAOk+B,EAAMr0C,KAAK+rG,aAChB,GAAI13D,EAAIrtC,OAASs4J,EAAY,CAC3B,IAAIhoJ,EAAO+8B,EAAIv5C,MACf,MAAMixG,EAAY/rG,KAAKooK,YACjBqF,EAAU1hE,GAAaA,EAAUjxG,MAKnCkF,KAAKkoK,wBAEP5wJ,EAAOA,EAAK1I,QAAQ,OAAQ,IAC5B5O,KAAKkoK,uBAAwB,GAI3Bn8D,IAAcA,EAAU/kG,OAASu4J,GAA4D,MAAvCkO,EAAQ1yI,OAAO0yI,EAAQrnK,OAAS,IAAc2lG,EAAU/kG,OAASy4J,GAAmF,MAA3DgO,EAAQ1yI,OAAO/6B,KAAKgzC,OAAO1E,KAAK4yH,eAAe96J,SAAmB2lG,EAAU/kG,OAAS24J,GAA2E,MAA1D8N,EAAQ1yI,OAAO/6B,KAAKgzC,OAAO1E,KAAKgzH,cAAcl7J,WAErSkR,EAAOA,EAAK1I,QAAQ,OAAQ,KAE9BuH,EAAIxU,KAAK,IAAIqkK,GAAO3xH,EAAIopH,OAAQppH,EAAIqpH,MAAO,CAAC,IAAIwI,GAAa7xH,EAAIopH,OAAQppH,EAAIqpH,MAAOpmJ,KACtF,MAAO,GAAI+8B,EAAIrtC,OAASu4J,EAAmB,CACzCv/J,KAAKkoK,uBAAwB,EAC7B,MAAM16J,EAAIxN,KAAK48G,iBACf,IAAKpvG,EACH,MAEF2I,EAAIxU,KAAK6L,EACX,MAAO,GAAI6mC,EAAIrtC,OAASy4J,EAAsB,CAC5C,MAAMtxJ,EAAInO,KAAK25G,kBACf35G,KAAKkoK,uBAAwB,EAC7BloK,KAAK2oK,0BACLxyJ,EAAIxU,KAAK,IAAIqkK,GAAO3xH,EAAIopH,OAAQppH,EAAIqpH,MAAO,CAACvvJ,IAC9C,MAAWkmC,EAAIrtC,OAAS24J,EACtB3/J,KAAKkoK,sBAAyG,MAAjF7zH,EAAIv5C,MAAMigC,OAAOsZ,EAAIv5C,MAAMsL,OAASpG,KAAKgzC,OAAO1E,KAAKkzH,YAAYp7J,OAAS,GAGvGpG,KAAKsoK,KAAK,kCAAoCj0H,EAAIrtC,KAAMqtC,EAAIopH,OAAQppH,EAAIqpH,OAG5E,OAAOvnJ,CACT,CACA3Q,QACE,OAAO,IAAIw+J,GAAS,EAAG,EAAGhkK,KAAKwtK,aACjC,CACAE,cACE,OAAO,IAAItJ,GAAK,EAAG,EAAGpkK,KAAKwtK,aAC7B,EAyBF,IAAIG,GAAM,EACV,SAASC,KACP,MAAO,QAAUD,IACnB,CAGA,SAASE,GAAOjgK,EAAK+2E,GACnB,IAAIj9D,EAAM,KACV,IAAK,IAAInc,EAAI,EAAGA,EAAIqC,EAAIxH,OAAQmF,IAAK,CACnC,MAAM5H,EAAOghF,EAAK/2E,EAAIrC,IAClB5H,IAASiK,EAAIrC,KACVmc,IACHA,EAAM9Z,EAAIlB,SAEZgb,EAAInc,GAAK5H,EAEb,CACA,OAAO+jB,GAAO9Z,CAChB,CACA,SAASkgK,GAAOxnK,EAAKq+E,EAAMopF,GACzB,KAAMznK,aAAeikG,IACnB,OAAOjkG,EAET,IAAKynK,EAAY,CACf,MAAMC,EAAOrpF,EAAKr+E,GAClB,GAAI0nK,GAAQA,IAAS1nK,EACnB,OAAO0nK,CAEX,CACA,GAAI1nK,aAAe09J,GAAU,CAC3B,MAAM3zD,EAAWw9D,GAAOvnK,EAAI+pG,UAAUt0G,GAAQ+xK,GAAO/xK,EAAM4oF,EAAMopF,KAC7D19D,IAAa/pG,EAAI+pG,WACnB/pG,EAAM,IAAIY,GAAMZ,EAAIo9J,UAAUp9J,EAAIm3J,OAAQn3J,EAAIo3J,MAAOrtD,GAEzD,MAAO,GAAI/pG,aAAeghK,GAAe,CACvC,MAAMlgK,EAAO0mK,GAAOxnK,EAAIc,KAAMu9E,EAAMopF,GAC9BxG,EAAcsG,GAAOvnK,EAAIihK,aAAaxrK,GAAQ+xK,GAAO/xK,EAAM4oF,EAAMopF,KACnE3mK,IAASd,EAAIc,MAAQmgK,IAAgBjhK,EAAIihK,cAC3CjhK,EAAM,IAAIY,GAAMZ,EAAIo9J,UAAUp9J,EAAIkhK,QAASlhK,EAAIoO,KAAMtN,EAAMmgK,GAE/D,KAAO,CACL,MAAM/D,EAAQl9J,EAAIy9J,OAAO5lK,KAAIsiF,GAASn6E,EAAIm6E,KACpCwtF,EAASJ,GAAOrK,GAAO9uJ,GAAQo5J,GAAOp5J,EAAMiwE,EAAMopF,KACpDE,IAAWzK,IACbl9J,EAAM,IAAIY,GAAMZ,EAAIo9J,UAAUp9J,EAAIm3J,OAAQn3J,EAAIo3J,OAC9CuQ,EAAOnhK,SAAQ,CAAC4H,EAAMnJ,KACpBjF,EAAIA,EAAIy9J,OAAOx4J,IAAMmJ,CAAI,IAG/B,CACA,OAAOq5J,GAAappF,EAAKr+E,IAAcA,CACzC,CACA,SAAS4nK,GAAU5nK,EAAKq+E,GACtB,OAAOmpF,GAAOxnK,EAAKq+E,GAAM,EAC3B,CACA,SAASwpF,GAAapyK,EAAMqyK,EAAc15J,GACxC,IAAI27F,EAAW,GACXg+D,EAASH,GAAUx5J,EAAO3Y,EAAK2Y,GAAQ3Y,GAAMuyK,IAC/C,IAAIC,EACJ,OAAID,aAAoB5I,GACf4I,IACEA,aAAoB/I,KAA0D,IAAhDx4J,EAAQqhK,EAAcE,EAASjwK,KAAKvD,QAAiBwzK,aAAoB3G,MAChH4G,EAAS,IAAIlK,GAASiK,EAAS7Q,OAAQ6Q,EAAS5Q,MAAOkQ,MACvDv9D,EAAS1uG,KAAK,IAAI6jK,GAAY8I,EAAS7Q,OAAQ6Q,EAAS5Q,MAAO4Q,EAASjwK,KAAMiwK,EAASlnK,KAAMmnK,KAExFA,EAAM,IAOf,OALI75J,EACF3Y,EAAK2Y,GAAQ25J,EAEbtyK,EAAOsyK,EAELh+D,EAASjqG,QACXiqG,EAAS1uG,KAAK5F,GACP,IAAIioK,GAASjoK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAOrtD,IAEtCt0G,CAEX,CAyEA,IAAIyyK,GAAY3oK,MAAM6R,KAClB+2J,GAAsC,mBAAXv2J,QAAyBA,OAAOwjE,UAAiC,mBAAd8yF,GAKlF,MAAME,GACJ5uK,YAAYyG,EAAQooK,GAClB3uK,KAAKysC,UAAY9xC,OAAOqL,OAAO,MAC/BhG,KAAKuG,OAASA,EACdvG,KAAK4uK,UAAW,EAGhB5uK,KAAK2uK,cAAgBA,CACvB,CACAl8J,IAAIpU,EAAM4T,EAAK48J,GAGb,IAAIvgJ,EAAQjwB,EAAKrC,MAAM,KACnByY,EAAMzU,KAAKysC,UACX/oB,EAAQ1jB,KACZ,GAAI6uK,IACEnrJ,EAAQ1jB,KAAK43B,QAAQtJ,EAAM,IAAI,IACjC5K,EAAMjR,IAAIpU,EAAM4T,OAFpB,CAMA,IAAK,IAAI1G,EAAI,EAAGA,EAAI+iB,EAAMloB,OAAS,EAAGmF,IAAK,CACzC,MAAMwrD,EAAKzoC,EAAM/iB,GACZkJ,EAAIsiD,KACPtiD,EAAIsiD,GAAM,CAAC,GAEbtiD,EAAMA,EAAIsiD,EACZ,CACAtiD,EAAI6Z,EAAMA,EAAMloB,OAAS,IAAM6L,CAR/B,CASF,CACAO,IAAInU,GACF,IAAI4T,EAAMjS,KAAKysC,UAAUpuC,GACzB,YAAY5C,IAARwW,EACKA,EAEF,IACT,CACA6hJ,OAAOz1J,GACL,IAAIyM,EAAI9K,KAAKuG,OACT0L,EAAMjS,KAAKysC,UAAUpuC,GACzB,YAAY5C,IAARwW,EACKA,EAEFnH,GAAKA,EAAEgpJ,OAAOz1J,EACvB,CACAu5B,QAAQv5B,EAAMywK,GACZ,IAAIhkK,EAAIgkK,GAAY9uK,KAAK2uK,mBAAgBlzK,EAAYuE,KAAKuG,OAE1D,YAAY9K,IADFuE,KAAKysC,UAAUpuC,GAEhB2B,KAEF8K,GAAKA,EAAE8sB,QAAQv5B,EACxB,CACAsD,KAAKgtK,GACH,OAAO,IAAID,GAAQ1uK,KAAM2uK,EAC3B,CACA1jK,MACE,OAAOjL,KAAKuG,MACd,EAEF,SAASwoK,GAAUC,EAAUC,EAAYtqF,GACvC,OAAO,YAAkBuqF,GACvB,IACI9nK,EADA6/H,EAAWkoC,GAAQD,GAEnB7B,EAqCR,SAAwBjmK,GACtB,IAAIgM,EAAMhM,EAAKhB,OACf,GAAIgN,EAAK,CACP,MAAMg8J,EAAUhoK,EAAKgM,EAAM,GAC3B,GAAIi8J,GAAcD,GAChB,OAAOA,CAEX,CACA,MAAO,CAAC,CACV,CA9CiBE,CAAeJ,GAC5B,GAAIjoC,EAAW+nC,EAAS5oK,OACtBgB,EAAO8nK,EAAUxiK,MAAM,EAAGsiK,EAAS5oK,QAInC8oK,EAAUxiK,MAAMtF,EAAKhB,OAAQ6gI,GAAUn6H,SAAQ,CAACmF,EAAK1G,KAC/CA,EAAI0jK,EAAW7oK,SACjBinK,EAAO4B,EAAW1jK,IAAM0G,EAC1B,IAEF7K,EAAKzF,KAAK0rK,QACL,GAAIpmC,EAAW+nC,EAAS5oK,OAAQ,CACrCgB,EAAO8nK,EAAUxiK,MAAM,EAAGu6H,GAC1B,IAAK,IAAI17H,EAAI07H,EAAU17H,EAAIyjK,EAAS5oK,OAAQmF,IAAK,CAC/C,MAAM0yB,EAAM+wI,EAASzjK,GAKrBnE,EAAKzF,KAAK0rK,EAAOpvI,WACVovI,EAAOpvI,EAChB,CACA72B,EAAKzF,KAAK0rK,EACZ,MACEjmK,EAAO8nK,EAET,OAAOvqF,EAAKxyE,MAAMnS,KAAMoH,EAC1B,CACF,CAKA,SAASioK,GAAc56J,GACrB,OAAOA,GAAO9Z,OAAOqe,UAAUwhC,eAAetoC,KAAKuC,EAAK,aAC1D,CAWA,SAAS06J,GAAQ/nK,GACf,IAAIgM,EAAMhM,EAAKhB,OACf,OAAY,IAARgN,EACK,EAGLi8J,GADYjoK,EAAKgM,EAAM,IAElBA,EAAM,EAENA,CAEX,CAKA,SAASm8J,GAAWt9J,GAClB,GAAmB,iBAARA,EACT,OAAOA,EAETjS,KAAKiS,IAAMA,EACXjS,KAAKoG,OAAS6L,EAAI7L,MACpB,CAcA,SAASopK,GAAaj1J,EAAMxD,GAC1B,OAAIwD,aAAgBg1J,GACX,IAAIA,GAAWx4J,GAEjBA,EAAOhE,UAChB,CACA,SAAS08J,GAASx9J,GAChB,IAAIjL,SAAciL,EAClB,MAAa,WAATjL,EACK,IAAIuoK,GAAWt9J,GACJ,aAATjL,EACFiL,EAEA,SAAkB7K,GACvB,IAAI8+I,EAAMj0I,EAAIE,MAAMnS,KAAM0E,WAC1B,MAAmB,iBAARwhJ,EACF,IAAIqpB,GAAWrpB,GAEjBA,CACT,CAEJ,CAlCAqpB,GAAWv2J,UAAYre,OAAOqL,OAAO+4B,OAAO/lB,UAAW,CACrD5S,OAAQ,CACNmjB,UAAU,EACVhX,cAAc,EACdzX,MAAO,KAGXy0K,GAAWv2J,UAAU02J,QAAU,WAC7B,OAAO1vK,KAAKiS,GACd,EACAs9J,GAAWv2J,UAAUjG,SAAW,WAC9B,OAAO/S,KAAKiS,GACd,EAmNA,IAAI,QACFnM,GAAO,KACPwN,GAAI,WACJ2rJ,IACEF,EAEJ,IAAI4Q,GAAgB,CAClBzlE,UAAW,KACX0lE,MAAOlB,GACPK,UAAWA,GACXc,gBAjRF,SAAyBp7J,GAEvB,OADAA,EAAIq7J,YAAa,EACVr7J,CACT,EA+QE06J,QAASA,GACTY,cAxMF,SAAuB99J,EAAKy1J,GAK1B,OAJAz1J,EAAMA,QAAoCA,EAAM,IAC5Cy1J,GAAgBz1J,aAAes9J,KACjCt9J,EAAM8rJ,EAAS9rJ,EAAIc,aAEdd,CACT,EAmME+9J,cAlMF,SAAuB/9J,EAAKwrJ,EAAQC,GAClC,GAAIzrJ,QACF,MAAM,IAAIsrJ,EAAc,8CAA+CE,EAAS,EAAGC,EAAQ,GAE7F,OAAOzrJ,CACT,EA8LEg+J,aA7LF,SAAsBx7J,EAAKxC,GACzB,GAAIwC,QAGJ,MAAwB,mBAAbA,EAAIxC,GACN,IAAI7K,IAASqN,EAAIxC,GAAKE,MAAMsC,EAAKrN,GAEnCqN,EAAIxC,EACb,EAsLEi+J,qBA7KF,SAA8BvzI,EAASjZ,EAAOrlB,GAC5C,IAAI4T,EAAMyR,EAAMowI,OAAOz1J,GACvB,YAAe5C,IAARwW,EAAoBA,EAAM0qB,EAAQm3H,OAAOz1J,EAClD,EA2KE8xK,SAtLF,SAAkB17J,EAAKpW,EAAMs+B,EAASv1B,GACpC,IAAKqN,EACH,MAAM,IAAIxY,MAAM,mBAAqBoC,EAAO,mCACvC,GAAmB,mBAARoW,EAChB,MAAM,IAAIxY,MAAM,mBAAqBoC,EAAO,8BAE9C,OAAOoW,EAAItC,MAAMwqB,EAASv1B,EAC5B,EAgLEi6F,YAlHF,SAAuB9hG,EAAOk+J,EAAQC,GACpC,OAAIn+J,EAAMk+J,OACDl+J,QAGQ9D,IAAXgiK,IACFA,GAAU,QAEEhiK,IAAViiK,IACFA,GAAS,GAEJ,IAAIH,EAAch+J,EAAOk+J,EAAQC,GAE5C,EAsGE53J,QAASA,GACTwN,KAAMA,GACNi8J,WAAYA,GACZC,aAAcA,GACdC,SAAUA,GACVW,UA1GF,SAAmBxiK,EAAKyiK,EAAO7R,EAAMz9I,GACnC,GAAIi9I,EAAUpwJ,GAAM,CAClB,MAAMwF,EAAMxF,EAAIxH,OAChBm4J,EAAU3wJ,GAAK,SAAsBjK,EAAM4H,EAAGoB,GAC5C,OAAQ0jK,GACN,KAAK,EACH7R,EAAK76J,EAAM4H,EAAG6H,EAAKzG,GACnB,MACF,KAAK,EACH6xJ,EAAK76J,EAAK,GAAIA,EAAK,GAAI4H,EAAG6H,EAAKzG,GAC/B,MACF,KAAK,EACH6xJ,EAAK76J,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAI4H,EAAG6H,EAAKzG,GACxC,MACF,QACEhJ,EAAKhC,KAAK4J,EAAG6H,EAAKzG,GAClB6xJ,EAAKrsJ,MAAMnS,KAAM2D,GAEvB,GAAGod,EACL,MACE09I,EAAS7wJ,GAAK,SAAsB2F,EAAKtB,EAAK1G,EAAG6H,EAAKzG,GACpD6xJ,EAAKjrJ,EAAKtB,EAAK1G,EAAG6H,EAAKzG,EACzB,GAAGoU,EAEP,EAmFEuvJ,SAlFF,SAAkB1iK,EAAKyiK,EAAO1rF,EAAM5jE,GAClC,IACI3N,EACAm9J,EAFA7rJ,EAAW,EAGf,SAAS9lB,EAAK2M,EAAG3F,GACf8e,IACA6rJ,EAAUhlK,GAAK3F,EACX8e,IAAatR,GACf2N,EAAG,KAAMwvJ,EAAU/rK,KAAK,IAE5B,CACA,GAAIw5J,EAAUpwJ,GAGZ,GAFAwF,EAAMxF,EAAIxH,OACVmqK,EAAY,IAAI1qK,MAAMuN,GACV,IAARA,EACF2N,EAAG,KAAM,SAET,IAAK,IAAIxV,EAAI,EAAGA,EAAIqC,EAAIxH,OAAQmF,IAAK,CACnC,MAAM5H,EAAOiK,EAAIrC,GACjB,OAAQ8kK,GACN,KAAK,EACH1rF,EAAKhhF,EAAM4H,EAAG6H,EAAKxU,GACnB,MACF,KAAK,EACH+lF,EAAKhhF,EAAK,GAAIA,EAAK,GAAI4H,EAAG6H,EAAKxU,GAC/B,MACF,KAAK,EACH+lF,EAAKhhF,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAI4H,EAAG6H,EAAKxU,GACxC,MACF,QACE+E,EAAKhC,KAAK4J,EAAG6H,EAAKxU,GAClB+lF,EAAKxyE,MAAMnS,KAAM2D,GAEvB,KAEG,CACL,MAAM2P,EAAOorJ,EAAM9wJ,GAAO,CAAC,GAG3B,GAFAwF,EAAME,EAAKlN,OACXmqK,EAAY,IAAI1qK,MAAMuN,GACV,IAARA,EACF2N,EAAG,KAAM,SAET,IAAK,IAAIxV,EAAI,EAAGA,EAAI+H,EAAKlN,OAAQmF,IAAK,CACpC,MAAMqJ,EAAItB,EAAK/H,GACfo5E,EAAK/vE,EAAGhH,EAAIgH,GAAIrJ,EAAG6H,EAAKxU,EAC1B,CAEJ,CACF,EAmCEqgK,WAAYA,GACZuR,aAnCF,SAAsB5iK,GACpB,MAAmB,iBAARA,GAA4B,OAARA,GAAgBowJ,EAAUpwJ,GAChDA,EACE6gK,IAAqBv2J,OAAOwjE,YAAY9tE,EAC1C4gK,GAAU5gK,GAEVA,CAEX,EA4BE6iK,qBAlJF,SAA8Bz/J,GAC5B,MAAiB,iBAANA,GAAqD,mBAA5BA,EAAEkH,OAAO4sE,eACpC9zE,EAEF,IAAIgF,SAAQrZ,UACjB,IAAI0uC,EAAI,GAER,OAAa,CAEX,IAAI,KACFzsC,EAAI,MACJ9D,SACQkW,EAAErE,OACZ,GAAI/N,EACF,MAGFysC,EAAE1pC,KAAKo9B,OAAOjkC,GAChB,CACA88B,EAAQyT,EAAE7mC,KAAK,IAAI,GAEvB,EA8HEksK,kBApLF,SAA2B/zI,EAAS3rB,GAClC,GAAiB,iBAANA,GAAqD,mBAA5BA,EAAEkH,OAAO4sE,eAC3C,OAAO9zE,EAET2rB,EAAQg0I,QAAUh0I,EAAQg0I,SAAW,IAAI17I,IACzC,IAAI27I,EAAWj0I,EAAQg0I,QAAQn+J,IAAIxB,GACnC,GAAI4/J,EACF,OAAOA,EAET,IAAIC,EAAgB,GAChBC,EAAe9/J,EAAEkH,OAAO4sE,iBACxBisF,EAAiB,CACnB,CAAC74J,OAAO4sE,iBACN,IAAI3nD,EAAU,EACd,MAAO,CACLxwB,OAEE,GAAIwwB,EAAU0zI,EAAczqK,OAC1B,OAAOyqK,EAAc1zI,KAEvB,IAAI6zI,EAAeF,EAAankK,OAGhC,OAFAkkK,EAAclvK,KAAKqvK,KACjB7zI,EACK6zI,CACT,EAEJ,GAGF,OADAr0I,EAAQg0I,QAAQl+J,IAAIzB,EAAG+/J,GAChBA,CACT,GA2JA,MAAM5E,GAAa,CACjB,KAAM,KACN,MAAO,MACP,KAAM,KACN,MAAO,MACP,IAAK,IACL,IAAK,IACL,KAAM,KACN,KAAM,MAER,MAAM8E,WAAiBtN,GACrBjxJ,KAAKw+J,EAAc9S,GACjBp+J,KAAKkxK,aAAeA,EACpBlxK,KAAKmxK,QAAU,GACfnxK,KAAKoxK,OAAS,EACdpxK,KAAKiO,OAAS,KACdjO,KAAKqxK,YAAc,GACnBrxK,KAAKsxK,cAAgB,GACrBtxK,KAAKuxK,SAAU,EACfvxK,KAAKo+J,iBAAmBA,CAC1B,CACAkK,KAAKpjJ,EAAKu4I,EAAQC,GAOhB,WANejiK,IAAXgiK,IACFA,GAAU,QAEEhiK,IAAViiK,IACFA,GAAS,GAEL,IAAIH,EAAcr4I,EAAKu4I,EAAQC,EACvC,CACA8T,cACE,MAAMz6G,EAAK/2D,KAAKyxK,SAMhB,OALAzxK,KAAKqxK,YAAY1vK,KAAK3B,KAAKiO,QAC3BjO,KAAKiO,OAAS8oD,EACd/2D,KAAK0xK,MAAM,6BACX1xK,KAAK0xK,MAAM,OAAO1xK,KAAKiO,gBACvBjO,KAAK2xK,gBAAgB3xK,KAAKiO,QACnB8oD,CACT,CACA66G,aACE5xK,KAAKiO,OAASjO,KAAKqxK,YAAYpmK,MAC/BjL,KAAK6xK,gBACP,CACAH,MAAMx4J,GACJlZ,KAAKmxK,QAAQxvK,KAAKuX,EACpB,CACA44J,UAAU54J,GACRlZ,KAAK0xK,MAAMx4J,EAAO,KACpB,CACA64J,cAAcl0B,GACZA,EAAM/wI,SAAQ00B,GAAQxhC,KAAK8xK,UAAUtwI,IACvC,CACAmwI,kBACE3xK,KAAK8xK,UAAU,kBAAkB9xK,KAAKiO,WACxC,CACA4jK,iBACE7xK,KAAK8xK,UAAU,mBACjB,CACAE,eAAej2K,EAAMsC,EAAM4zK,GACzBjyK,KAAKiO,OAAS,SACdjO,KAAKsxK,cAAgB,GACrBtxK,KAAK8xK,UAAU,mBAAmBzzK,qCAClC2B,KAAK8xK,UAAU,gBAAgB/1K,EAAK0hK,WACpCz9J,KAAK8xK,UAAU,eAAe/1K,EAAK2hK,UACnC19J,KAAK8xK,UAAU,OAAO9xK,KAAKiO,gBACtBgkK,GACHjyK,KAAK2xK,kBAEP3xK,KAAK8xK,UAAU,QACjB,CACAI,aAAaC,GAKXnyK,KAAK6xK,iBACL7xK,KAAKoyK,oBACLpyK,KAAK8xK,UAAU,iBACf9xK,KAAK8xK,UAAU,kDACf9xK,KAAK8xK,UAAU,KACf9xK,KAAK8xK,UAAU,KACf9xK,KAAKiO,OAAS,IAChB,CACAokK,iBACEryK,KAAKsxK,eAAiB,IACxB,CACAc,oBACEpyK,KAAK8xK,UAAU9xK,KAAKsxK,cAAgB,KACpCtxK,KAAKsxK,cAAgB,EACvB,CACAgB,kBAAkB3tF,GAChB,IAAI2sF,EAAgBtxK,KAAKsxK,cACzBtxK,KAAKsxK,cAAgB,GACrB3sF,EAAKzyE,KAAKlS,MACVA,KAAKoyK,oBACLpyK,KAAKsxK,cAAgBA,CACvB,CACAiB,cAAc7qJ,GACZ,IAAIhL,EAAM1c,KAAKyxK,SACf,MAAO,kBAAoB/0J,GAAOgL,EAAM,IAAMA,EAAM,IAA7C,WAAqEhL,EAAM,UAAYA,EAAM,cACtG,CACA+0J,SAEE,OADAzxK,KAAKoxK,SACE,KAAOpxK,KAAKoxK,MACrB,CACAoB,gBACE,OAA4B,MAArBxyK,KAAKkxK,aAAuB,YAAcjgK,KAAK5L,UAAUrF,KAAKkxK,aACvE,CACAuB,iBAAiB12K,EAAM2nB,GACrB3nB,EAAKs0G,SAASvjG,SAAQrF,IACpBzH,KAAKsF,QAAQmC,EAAOic,EAAM,GAE9B,CACAgvJ,kBAAkB32K,EAAM2nB,EAAOivJ,EAAWC,GACpCD,GACF3yK,KAAK0xK,MAAMiB,GAEb52K,EAAKs0G,SAASvjG,SAAQ,CAACrF,EAAO8D,KACxBA,EAAI,GACNvL,KAAK0xK,MAAM,KAEb1xK,KAAKsF,QAAQmC,EAAOic,EAAM,IAExBkvJ,GACF5yK,KAAK0xK,MAAMkB,EAEf,CACAC,mBAAmB92K,EAAM2nB,GAGvB1jB,KAAK8yK,WAAW/2K,EAAMmsG,GAASm8D,GAAUC,GAAOC,GAAWE,GAAMa,GAASJ,GAAQK,GAAQb,GAAW0C,GAASvC,GAAUwB,GAAIC,GAAIE,GAAKD,GAAIE,GAAKC,GAAKC,GAAQC,GAAKC,GAAKC,GAAKC,GAAUC,GAAKC,GAAKC,GAAKC,GAAKC,GAASpD,IACjNhkK,KAAKsF,QAAQvJ,EAAM2nB,EACrB,CACAovJ,WAAW/2K,KAASw9I,GACbA,EAAMn9G,MAAK+Z,GAAKp6C,aAAgBo6C,KACnCn2C,KAAKsoK,KAAK,6BAA6BvsK,EAAK2nK,WAAY3nK,EAAK0hK,OAAQ1hK,EAAK2hK,MAE9E,CACAqV,qBAAqBh3K,EAAM2nB,EAAO/mB,GAChC,IAAIyK,EAAOrL,EAAKqL,KACZmgK,EAAcxrK,EAAKwrK,YACnBG,EAAwC,kBAApB3rK,EAAK2rK,YAA2B3rK,EAAK2rK,WAmD7D,GA5CK/qK,IACHqD,KAAK0xK,MAAM,aAAa1xK,KAAKiO,WAC7BjO,KAAK0xK,MAAM,iCAEb1xK,KAAK0xK,MAAM,qBAAqB31K,EAAKyrK,cAAczrK,EAAK2Y,WACxD1U,KAAK0xK,MAAM,YACPtqK,GAAQmgK,IACVvnK,KAAK0xK,MAAM,KAETtqK,IACIA,aAAgB48J,IACpBhkK,KAAKsoK,KAAK,mFAEZlhK,EAAKipG,SAASvjG,SAAQ,CAACmxB,EAAK1yB,KAI1BvL,KAAK6yK,mBAAmB50I,EAAKva,IACzBnY,IAAMnE,EAAKipG,SAASjqG,OAAS,GAAKmhK,EAAYnhK,SAChDpG,KAAK0xK,MAAM,IACb,KAGAnK,EAAYnhK,QACdmhK,EAAYz6J,SAAQ,CAACmxB,EAAK1yB,KAIxB,GAHIA,EAAI,GACNvL,KAAK0xK,MAAM,KAETzzI,EAAK,CACPj+B,KAAK8xK,UAAU,0BACf9xK,KAAK8xK,UAAU,iEACf,MAAM/6G,EAAK/2D,KAAKwxK,cAChBxxK,KAAKsyK,mBAAkB,KACrBtyK,KAAKsF,QAAQ24B,EAAKva,GAClB1jB,KAAK8xK,UAAU,YAAY/6G,MAAO,IAEpC/2D,KAAK4xK,aACL5xK,KAAK8xK,UAAU,UAAU/6G,MACzB/2D,KAAK8xK,UAAU,IACjB,MACE9xK,KAAK0xK,MAAM,OACb,IAGA/0K,EAAO,CAET,MAAM+qB,EAAM1nB,KAAKyxK,SACjBzxK,KAAK8xK,UAAU,KAAO9xK,KAAKuyK,cAAc7qJ,IACzC1nB,KAAK8xK,UAAU,aAAa9xK,KAAKiO,gCAAgCyZ,MAAQggJ,+BACzE1nK,KAAKqyK,gBACP,MACEryK,KAAK0xK,MAAM,KACX1xK,KAAK0xK,MAAM,KACX1xK,KAAK0xK,MAAM,KAAKhK,+BAEpB,CACAsL,0BAA0Bj3K,EAAM2nB,GAC9B1jB,KAAK+yK,qBAAqBh3K,EAAM2nB,GAAO,EACzC,CACAuvJ,gBAAgBl3K,EAAM2nB,GACpB1jB,KAAKyyK,iBAAiB12K,EAAM2nB,EAC9B,CACAwvJ,eAAen3K,GACb,GAA0B,iBAAfA,EAAKjB,MAAoB,CAClC,IAAImX,EAAMlW,EAAKjB,MAAM8T,QAAQ,MAAO,QACpCqD,EAAMA,EAAIrD,QAAQ,KAAM,OACxBqD,EAAMA,EAAIrD,QAAQ,MAAO,OACzBqD,EAAMA,EAAIrD,QAAQ,MAAO,OACzBqD,EAAMA,EAAIrD,QAAQ,MAAO,OACzBqD,EAAMA,EAAIrD,QAAQ,UAAW,WAC7B5O,KAAK0xK,MAAM,IAAIz/J,KACjB,MAA0B,OAAflW,EAAKjB,MACdkF,KAAK0xK,MAAM,QAEX1xK,KAAK0xK,MAAM31K,EAAKjB,MAAMiY,WAE1B,CACAogK,cAAcp3K,EAAM2nB,GAClB,IAAIrlB,EAAOtC,EAAKjB,MACZkW,EAAI0S,EAAMowI,OAAOz1J,GACjB2S,EACFhR,KAAK0xK,MAAM1gK,GAEXhR,KAAK0xK,MAAM,iDAAwDrzK,EAAO,KAE9E,CACA+0K,aAAar3K,EAAM2nB,GACjB1jB,KAAK0yK,kBAAkB32K,EAAM2nB,EAAO,IAAK,IAC3C,CACA2vJ,aAAat3K,EAAM2nB,GACjB1jB,KAAK0yK,kBAAkB32K,EAAM2nB,EAAO,IAAK,IAC3C,CACA4vJ,YAAYv3K,EAAM2nB,GAChB1jB,KAAK0yK,kBAAkB32K,EAAM2nB,EAAO,IAAK,IAC3C,CACA6vJ,YAAYx3K,EAAM2nB,GAChB,IAAInQ,EAAMxX,EAAKwX,IACXtB,EAAMlW,EAAKjB,MACXyY,aAAe8wJ,GACjB9wJ,EAAM,IAAI20F,GAAQ30F,EAAIkqJ,OAAQlqJ,EAAImqJ,MAAOnqJ,EAAIzY,OAClCyY,aAAe20F,IAAgC,iBAAd30F,EAAIzY,OAChDkF,KAAKsoK,KAAK,kDAAmD/0J,EAAIkqJ,OAAQlqJ,EAAImqJ,OAE/E19J,KAAKsF,QAAQiO,EAAKmQ,GAClB1jB,KAAK0xK,MAAM,MACX1xK,KAAK6yK,mBAAmB5gK,EAAKyR,EAC/B,CACA8vJ,gBAAgBz3K,EAAM2nB,GACpB1jB,KAAK0xK,MAAM,KACX1xK,KAAKsF,QAAQvJ,EAAKuuK,KAAM5mJ,GACxB1jB,KAAK0xK,MAAM,KACX1xK,KAAKsF,QAAQvJ,EAAK4rB,KAAMjE,GACxB1jB,KAAK0xK,MAAM,KACQ,OAAf31K,EAAKmtK,MACPlpK,KAAKsF,QAAQvJ,EAAKmtK,MAAOxlJ,GAEzB1jB,KAAK0xK,MAAM,MAEb1xK,KAAK0xK,MAAM,IACb,CACA+B,UAAU13K,EAAM2nB,GACd1jB,KAAK0xK,MAAM,uBACX1xK,KAAKsF,QAAQvJ,EAAKy1G,KAAM9tF,GACxB1jB,KAAK0xK,MAAM,KACX1xK,KAAKsF,QAAQvJ,EAAK01G,MAAO/tF,GACzB1jB,KAAK0xK,MAAM,IACb,CACAgC,UAAU33K,EAAM2nB,GAGd,IAAI+tF,EAAQ11G,EAAK01G,MAAMpzG,KAAOtC,EAAK01G,MAAMpzG,KAAKvD,MAE5CiB,EAAK01G,MAAM32G,MACbkF,KAAK0xK,MAAM,gBAAkBjgE,EAAQ,qBACrCzxG,KAAKsF,QAAQvJ,EAAKy1G,KAAM9tF,GAEpB3nB,EAAK01G,MAAMrqG,OACbpH,KAAK0xK,MAAM,KACX1xK,KAAKsF,QAAQvJ,EAAK01G,MAAMrqG,KAAMsc,IAEhC1jB,KAAK0xK,MAAM,aACb,CACAiC,cAAc53K,EAAM2nB,EAAO1O,GACzBhV,KAAK0xK,MAAM,uCACX1xK,KAAKsF,QAAQvJ,EAAKy1G,KAAM9tF,GACxB1jB,KAAK0xK,MAAM,KACX1xK,KAAK0xK,MAAM18J,GACXhV,KAAK0xK,MAAM,uCACX1xK,KAAKsF,QAAQvJ,EAAK01G,MAAO/tF,GACzB1jB,KAAK0xK,MAAM,IACb,CAIAkC,UAAU73K,EAAM2nB,GACd,OAAO1jB,KAAK2zK,cAAc53K,EAAM2nB,EAAO,OACzC,CACAmwJ,WAAW93K,EAAM2nB,GACf,OAAO1jB,KAAK2zK,cAAc53K,EAAM2nB,EAAO,OACzC,CACAowJ,WAAW/3K,EAAM2nB,GACf,OAAO1jB,KAAK2zK,cAAc53K,EAAM2nB,EAAO,MACzC,CACAqwJ,cAAch4K,EAAM2nB,GAClB,OAAO1jB,KAAK2zK,cAAc53K,EAAM2nB,EAAO,WACzC,CACAswJ,WAAWj4K,EAAM2nB,GACf,OAAO1jB,KAAK2zK,cAAc53K,EAAM2nB,EAAO,MACzC,CACAuwJ,WAAWl4K,EAAM2nB,GACf,OAAO1jB,KAAK2zK,cAAc53K,EAAM2nB,EAAO,MACzC,CACAwwJ,WAAWn4K,EAAM2nB,GACf,OAAO1jB,KAAK2zK,cAAc53K,EAAM2nB,EAAO,MACzC,CACAywJ,WAAWp4K,EAAM2nB,GACf,OAAO1jB,KAAK2zK,cAAc53K,EAAM2nB,EAAO,MACzC,CACA0wJ,WAAWr4K,EAAM2nB,GACf1jB,KAAK0xK,MAAM,KACX1xK,KAAKsF,QAAQvJ,EAAKgb,OAAQ2M,EAC5B,CACA2wJ,gBAAgBt4K,EAAM2nB,GACpB1jB,KAAK0xK,MAAM,eACX1xK,KAAKsF,QAAQvJ,EAAKy1G,KAAM9tF,GACxB1jB,KAAK0xK,MAAM,OACX1xK,KAAKsF,QAAQvJ,EAAK01G,MAAO/tF,GACzB1jB,KAAK0xK,MAAM,IACb,CACA4C,WAAWv4K,EAAM2nB,GACf1jB,KAAK0xK,MAAM,aACX1xK,KAAKsF,QAAQvJ,EAAKy1G,KAAM9tF,GACxB1jB,KAAK0xK,MAAM,MACX1xK,KAAKsF,QAAQvJ,EAAK01G,MAAO/tF,GACzB1jB,KAAK0xK,MAAM,IACb,CACA6C,WAAWx4K,EAAM2nB,GACf1jB,KAAK0xK,MAAM,KACX1xK,KAAKsF,QAAQvJ,EAAKgb,OAAQ2M,EAC5B,CACA8wJ,WAAWz4K,EAAM2nB,GACf1jB,KAAK0xK,MAAM,KACX1xK,KAAKsF,QAAQvJ,EAAKgb,OAAQ2M,EAC5B,CACA+wJ,eAAe14K,EAAM2nB,GACnB1jB,KAAKsF,QAAQvJ,EAAKmvG,KAAMxnF,GACxB3nB,EAAKswK,IAAIv/J,SAAQgqG,IACf92G,KAAK0xK,MAAM,IAAIvF,GAAWr1D,EAAG9vG,UAC7BhH,KAAKsF,QAAQwxG,EAAG5L,KAAMxnF,EAAM,GAEhC,CACAgxJ,iBAAiB34K,EAAM2nB,GACrB1jB,KAAK0xK,MAAM,0BACX1xK,KAAK6yK,mBAAmB92K,EAAKgb,OAAQ2M,GACrC1jB,KAAK0xK,MAAM,MACX1xK,KAAK6yK,mBAAmB92K,EAAKkW,IAAKyR,GAClC1jB,KAAK0xK,MAAM,IACb,CACAiD,aAAa54K,GACX,OAAQA,EAAK2nK,UACX,IAAK,SACH,OAAO3nK,EAAKjB,MACd,IAAK,UACH,MAAO,wBAA0BkF,KAAK20K,aAAa54K,EAAKsC,MAAQ,IAClE,IAAK,YACH,OAAO2B,KAAK20K,aAAa54K,EAAKgb,QAAU,KAAO/W,KAAK20K,aAAa54K,EAAKkW,KAAO,KAC/E,IAAK,UACH,OAAOlW,EAAKjB,MAAMiY,WACpB,QACE,MAAO,iBAEb,CACA6hK,eAAe74K,EAAM2nB,GAKnB1jB,KAAK0xK,MAAM,aAAe31K,EAAK0hK,OAAS,aAAe1hK,EAAK2hK,MAAQ,MACpE19J,KAAK0xK,MAAM,2BAEX1xK,KAAK6yK,mBAAmB92K,EAAKsC,KAAMqlB,GAInC1jB,KAAK0xK,MAAM,MAAQ1xK,KAAK20K,aAAa54K,EAAKsC,MAAMuQ,QAAQ,KAAM,OAAS,gBACvE5O,KAAK0yK,kBAAkB32K,EAAKqL,KAAMsc,EAAO,IAAK,MAC9C1jB,KAAK0xK,MAAM,IACb,CAEAmD,cAAc94K,EAAM2nB,GAClB,IAAIrlB,EAAOtC,EAAKsC,KAChB2B,KAAK8yK,WAAWz0K,EAAMgmK,IACtBrkK,KAAK0xK,MAAM,aAAe31K,EAAK0hK,OAAS,aAAe1hK,EAAK2hK,MAAQ,MACpE19J,KAAK0xK,MAAM,wBAA0BrzK,EAAKvD,MAAQ,qBAElDkF,KAAK0yK,kBAAkB32K,EAAKqL,KAAMsc,GAElC1jB,KAAK0xK,MAAM,KACX1xK,KAAK0xK,MAAM,IACb,CAEAoD,mBAAmB/4K,EAAM2nB,GACvB,IAAIrlB,EAAOtC,EAAKsC,KACZkwK,EAASxyK,EAAKwyK,OAAOzzK,MACzBkF,KAAK8yK,WAAWz0K,EAAMgmK,IACtB3gJ,EAAMjR,IAAI87J,EAAQA,GAClBvuK,KAAK0xK,MAAM,kBAAoBrzK,EAAKvD,MAAQ,qBAC5CkF,KAAK0yK,kBAAkB32K,EAAKqL,KAAMsc,GAClC1jB,KAAK8xK,UAAU,KAAO9xK,KAAKuyK,cAAchE,IACzCvuK,KAAKqyK,gBACP,CACA0C,mBAAmBh5K,EAAM2nB,GACvB1jB,KAAK0xK,MAAM,4BACX1xK,KAAKszK,YAAYv3K,EAAM2nB,GACvB1jB,KAAK0xK,MAAM,IACb,CACAsD,WAAWj5K,EAAM2nB,GACf,IAAI2zI,EAAM,GAIVt7J,EAAKyuK,QAAQ19J,SAAQiK,IACnB,IAAI1Y,EAAO0Y,EAAOjc,MACdi8D,EAAKrzC,EAAMowI,OAAOz1J,GAClB04D,UACFA,EAAK/2D,KAAKyxK,SAIVzxK,KAAK8xK,UAAU,OAAS/6G,EAAK,MAE/BsgG,EAAI11J,KAAKo1D,EAAG,IAEVh7D,EAAKjB,OACPkF,KAAK0xK,MAAMra,EAAI7yJ,KAAK,OAAS,OAC7BxE,KAAK6yK,mBAAmB92K,EAAKjB,MAAO4oB,GACpC1jB,KAAK8xK,UAAU,OAEf9xK,KAAK0xK,MAAMra,EAAI7yJ,KAAK,OAAS,OAC7BxE,KAAKsF,QAAQvJ,EAAK4rB,KAAMjE,GACxB1jB,KAAK8xK,UAAU,MAEjB/1K,EAAKyuK,QAAQ19J,SAAQ,CAACiK,EAAQxL,KAC5B,IAAIwrD,EAAKsgG,EAAI9rJ,GACTlN,EAAO0Y,EAAOjc,MAIlBkF,KAAK8xK,UAAU,cAAczzK,OAAU04D,aACvC/2D,KAAK8xK,UAAU,wBACf9xK,KAAK8xK,UAAU,wBAAwBzzK,OAAU04D,OACjD/2D,KAAK8xK,UAAU,KACQ,MAAnBzzK,EAAK08B,OAAO,KACd/6B,KAAK8xK,UAAU,wBACf9xK,KAAK8xK,UAAU,sBAAsBzzK,OAAU04D,OAC/C/2D,KAAK8xK,UAAU,KACjB,GAEJ,CACAmD,cAAcl5K,EAAM2nB,GAClB1jB,KAAK0xK,MAAM,YACX1xK,KAAKsF,QAAQvJ,EAAKmvG,KAAMxnF,GACxB1jB,KAAK0xK,MAAM,OACX31K,EAAKm3G,MAAMpmG,SAAQ,CAAC2B,EAAGlD,KACrBvL,KAAK0xK,MAAM,SACX1xK,KAAKsF,QAAQmJ,EAAE67J,KAAM5mJ,GACrB1jB,KAAK0xK,MAAM,MACX1xK,KAAKsF,QAAQmJ,EAAEkZ,KAAMjE,GAEjBjV,EAAEkZ,KAAK0oF,SAASjqG,QAClBpG,KAAK8xK,UAAU,SACjB,IAEE/1K,EAAKiB,UACPgD,KAAK0xK,MAAM,YACX1xK,KAAKsF,QAAQvJ,EAAKiB,QAAS0mB,IAE7B1jB,KAAK0xK,MAAM,IACb,CACAwD,UAAUn5K,EAAM2nB,EAAO/mB,GACrBqD,KAAK0xK,MAAM,OACX1xK,KAAK6yK,mBAAmB92K,EAAKuuK,KAAM5mJ,GACnC1jB,KAAK8xK,UAAU,OACf9xK,KAAKsyK,mBAAkB,KACrBtyK,KAAKsF,QAAQvJ,EAAK4rB,KAAMjE,GACpB/mB,GACFqD,KAAK0xK,MAAM,OACb,IAEE31K,EAAKmtK,OACPlpK,KAAK8xK,UAAU,aACf9xK,KAAKsyK,mBAAkB,KACrBtyK,KAAKsF,QAAQvJ,EAAKmtK,MAAOxlJ,GACrB/mB,GACFqD,KAAK0xK,MAAM,OACb,KAEO/0K,IACTqD,KAAK8xK,UAAU,aACf9xK,KAAK0xK,MAAM,SAEb1xK,KAAK8xK,UAAU,IACjB,CACAqD,eAAep5K,EAAM2nB,GACnB,MAAM,IAAIznB,MAAM,0CAClB,CACAm5K,kBAAkBr5K,EAAM6R,EAAKrC,EAAG6H,GACb,CAAC,CAChB/U,KAAM,QACN4T,IAAK,GAAG1G,SACP,CACDlN,KAAM,SACN4T,IAAK1G,GACJ,CACDlN,KAAM,WACN4T,IAAK,GAAGmB,OAAS7H,KAChB,CACDlN,KAAM,YACN4T,IAAK,GAAGmB,OAAS7H,SAChB,CACDlN,KAAM,QACN4T,IAAK,GAAG1G,WACP,CACDlN,KAAM,OACN4T,IAAK,GAAG1G,SAAS6H,SAChB,CACD/U,KAAM,SACN4T,IAAKmB,IAEEtG,SAAQpN,IACfM,KAAK8xK,UAAU,mBAAmBpyK,EAAErB,UAAUqB,EAAEuS,QAAQ,GAE5D,CACAojK,WAAWt5K,EAAM2nB,GAKf,MAAMnY,EAAIvL,KAAKyxK,SACTr+J,EAAMpT,KAAKyxK,SACX7jK,EAAM5N,KAAKyxK,SAWjB,GAVA/tJ,EAAQA,EAAM/hB,OACd3B,KAAK8xK,UAAU,yBACf9xK,KAAK0xK,MAAM,OAAO9jK,QAClB5N,KAAK6yK,mBAAmB92K,EAAK6R,IAAK8V,GAClC1jB,KAAK8xK,UAAU,KACf9xK,KAAK0xK,MAAM,MAAM9jK,QACjB5N,KAAK8xK,UAAUlkK,EAAM,2BAA6BA,EAAM,MAIpD7R,EAAKsC,gBAAgBkmK,GAAW,CAClCvkK,KAAK8xK,UAAU,OAAOvmK,MAKtBvL,KAAK8xK,UAAU,sBAAsBlkK,SACrC5N,KAAK8xK,UAAU,OAAO1+J,OAASxF,aAC/B5N,KAAK8xK,UAAU,OAAOvmK,QAAQA,OAAOqC,aAAerC,UAGpDxP,EAAKsC,KAAKgyG,SAASvjG,SAAQ,CAACrF,EAAO6tK,KACjC,IAAIC,EAAMv1K,KAAKyxK,SACfzxK,KAAK8xK,UAAU,OAAOyD,OAAS3nK,KAAOrC,MAAM+pK,OAC5Ct1K,KAAK8xK,UAAU,cAAcrqK,OAAWmG,KAAOrC,MAAM+pK,QACrD5xJ,EAAMjR,IAAI1W,EAAKsC,KAAKgyG,SAASilE,GAAGx6K,MAAOy6K,EAAI,IAE7Cv1K,KAAKo1K,kBAAkBr5K,EAAM6R,EAAKrC,EAAG6H,GACrCpT,KAAKsyK,mBAAkB,KACrBtyK,KAAKsF,QAAQvJ,EAAK4rB,KAAMjE,EAAM,IAEhC1jB,KAAK8xK,UAAU,KACf9xK,KAAK8xK,UAAU,YAEf,MAAOv+J,EAAKtB,GAAOlW,EAAKsC,KAAKgyG,SACvBz7F,EAAI5U,KAAKyxK,SACTzgK,EAAIhR,KAAKyxK,SACf/tJ,EAAMjR,IAAIc,EAAIzY,MAAO8Z,GACrB8O,EAAMjR,IAAIR,EAAInX,MAAOkW,GACrBhR,KAAK8xK,UAAU,GAAGvmK,WAClBvL,KAAK8xK,UAAU,OAAO1+J,oBAAsBxF,cAC5C5N,KAAK8xK,UAAU,WAAWl9J,QAAQhH,QAClC5N,KAAK8xK,UAAU,GAAGvmK,QAClBvL,KAAK8xK,UAAU,OAAO9gK,OAAOpD,KAAOgH,OACpC5U,KAAK8xK,UAAU,cAAcv+J,EAAIzY,WAAW8Z,OAC5C5U,KAAK8xK,UAAU,cAAc7/J,EAAInX,WAAWkW,OAC5ChR,KAAKo1K,kBAAkBr5K,EAAM6R,EAAKrC,EAAG6H,GACrCpT,KAAKsyK,mBAAkB,KACrBtyK,KAAKsF,QAAQvJ,EAAK4rB,KAAMjE,EAAM,IAEhC1jB,KAAK8xK,UAAU,KACf9xK,KAAK8xK,UAAU,IACjB,KAAO,CAEL,MAAM9gK,EAAIhR,KAAKyxK,SACf/tJ,EAAMjR,IAAI1W,EAAKsC,KAAKvD,MAAOkW,GAC3BhR,KAAK8xK,UAAU,OAAO1+J,OAASxF,aAC/B5N,KAAK8xK,UAAU,WAAWvmK,QAAQA,OAAOqC,aAAerC,UACxDvL,KAAK8xK,UAAU,OAAO9gK,OAAOpD,KAAOrC,OACpCvL,KAAK8xK,UAAU,cAAc/1K,EAAKsC,KAAKvD,WAAWkW,OAClDhR,KAAKo1K,kBAAkBr5K,EAAM6R,EAAKrC,EAAG6H,GACrCpT,KAAKsyK,mBAAkB,KACrBtyK,KAAKsF,QAAQvJ,EAAK4rB,KAAMjE,EAAM,IAEhC1jB,KAAK8xK,UAAU,IACjB,CACA9xK,KAAK8xK,UAAU,KACX/1K,EAAKmtK,QACPlpK,KAAK8xK,UAAU,QAAU1+J,EAAM,OAC/BpT,KAAKsF,QAAQvJ,EAAKmtK,MAAOxlJ,GACzB1jB,KAAK8xK,UAAU,MAEjB9xK,KAAK8xK,UAAU,uBACjB,CACA0D,kBAAkBz5K,EAAM2nB,EAAO+xJ,GAC7B,MAAM,IAAIx5K,MAAM,6CAClB,CACAy5K,iBAAiB35K,EAAM2nB,GACrB1jB,KAAKw1K,kBAAkBz5K,EAAM2nB,EAC/B,CACAiyJ,gBAAgB55K,EAAM2nB,GACpB1jB,KAAKw1K,kBAAkBz5K,EAAM2nB,GAAO,EACtC,CACAkyJ,cAAc75K,EAAM2nB,GAClB,IAAItc,EAAO,GACPimK,EAAS,KACTwI,EAAS,SAAW71K,KAAKyxK,SACzBqE,OAAsBr6K,IAAVioB,EAGhB3nB,EAAKqL,KAAKipG,SAASvjG,SAAQ,CAACmxB,EAAK1yB,KAC3BA,IAAMxP,EAAKqL,KAAKipG,SAASjqG,OAAS,GAAK63B,aAAewmI,GACxD4I,EAASpvI,GAETj+B,KAAK8yK,WAAW70I,EAAKomI,IACrBj9J,EAAKzF,KAAKs8B,GACZ,IAEF,MAAM83I,EAAY,IAAI3uK,EAAKjJ,KAAIqP,GAAK,KAAKA,EAAE1S,UAAU,UAG/Ck0K,EAAW5nK,EAAKjJ,KAAIqP,GAAK,IAAIA,EAAE1S,WAC/Bm0K,GAAc5B,GAAUA,EAAOh9D,UAAY,IAAIlyG,KAAIqP,GAAK,IAAIA,EAAE+F,IAAIzY,WAMxE,IAAIk7K,EAqCJ,OAnCEA,EADEF,EACUpyJ,EAAM/hB,MAAK,GAEX,IAAI+sK,GAElB1uK,KAAK+xK,WAAW,OAAO8D,yBAA+B,IAAI7G,EAASxqK,KAAK,WAAY,IAAIyqK,EAAWzqK,KAAK,WAAY,oBAAoBuxK,EAAUvxK,KAAK,WAAY,2BAA4B,YAAcsxK,EAAY,oBAAsB,wBAAyB,yBAA0B,gEAAiE,yCAKnW1uK,EAAK0F,SAAQmxB,IACXj+B,KAAK8xK,UAAU,cAAc7zI,EAAInjC,aAAamjC,EAAInjC,WAClDk7K,EAAUvjK,IAAIwrB,EAAInjC,MAAO,KAAKmjC,EAAInjC,QAAQ,IAIxCuyK,GACFA,EAAOh9D,SAASvjG,SAAQw4E,IACtB,MAAMjnF,EAAOinF,EAAK/xE,IAAIzY,MACtBkF,KAAK0xK,MAAM,cAAcrzK,QACzB2B,KAAK0xK,MAAM,iDAAiDrzK,OAC5D2B,KAAK0xK,MAAM,cAAcrzK,UACzB2B,KAAK6yK,mBAAmBvtF,EAAKxqF,MAAOk7K,GACpCh2K,KAAK0xK,MAAM,KAAK,IAKpB1xK,KAAKwxK,cACLxxK,KAAKsyK,mBAAkB,KACrBtyK,KAAKsF,QAAQvJ,EAAK4rB,KAAMquJ,EAAU,IAEpCh2K,KAAK8xK,UAAU,YAAcgE,EAAY,eAAiB,iBAC1D91K,KAAK4xK,aAEL5xK,KAAK8xK,UAAU,OACR+D,CACT,CACAI,aAAal6K,EAAM2nB,GACjB,IAAImyJ,EAAS71K,KAAK41K,cAAc75K,GAG5BsC,EAAOtC,EAAKsC,KAAKvD,MACrB4oB,EAAMjR,IAAIpU,EAAMw3K,GACZnyJ,EAAMnd,OACRvG,KAAK8xK,UAAU,cAAczzK,OAAUw3K,QAEL,MAA9B95K,EAAKsC,KAAKvD,MAAMigC,OAAO,IACzB/6B,KAAK8xK,UAAU,sBAAsBzzK,QAEvC2B,KAAK8xK,UAAU,wBAAwBzzK,OAAUw3K,OAErD,CACAK,cAAcn6K,EAAM2nB,GAElB1jB,KAAK0xK,MAAM,uBACX,MAAMmE,EAAS71K,KAAK41K,cAAc75K,EAAM2nB,GACxC1jB,KAAK0xK,MAAM,UAAUmE,SACvB,CACAM,0BAA0BlzI,GACxB,MAAM8zB,EAAK/2D,KAAKyxK,SACVt0K,EAAW6C,KAAKyxK,SAKtB,OAJAzxK,KAAK8xK,UAAU,OAAO/6G,gDACtB/2D,KAAK8xK,UAAU,YAAY30K,4DAC3B8lC,EAAG9lC,GACH6C,KAAK8xK,UAAU,OACR/6G,CACT,CACAq/G,oBAAoBr6K,EAAM2nB,EAAO2yJ,EAAcjM,GAC7C,OAAOpqK,KAAKm2K,2BAA0Bp1J,IACpC/gB,KAAK0xK,MAAM,oBACX1xK,KAAK6yK,mBAAmB92K,EAAKs/D,SAAU33C,GACvC,MAAM4yJ,EAAat2K,KAAKwyK,gBAClB+D,EAAkBF,EAAe,OAAS,QAC1CG,EAAmBpM,EAAgB,OAAS,QAClDpqK,KAAK8xK,UAAU,KAAKyE,MAAoBD,MAAeE,MAAqBz1J,MAAO,GAEvF,CACA01J,oBAAoB16K,EAAM26K,GACxB,OAAO12K,KAAKm2K,2BAA0Bp1J,IACpC/gB,KAAK8xK,UAAU4E,EAAmB,iBAAmB36K,EAAKspK,YAAc,kCAAoC,IAAMtkJ,EAAK,KAAK,GAEhI,CACA41J,cAAc56K,EAAM2nB,GAClB,MAAM3M,EAAShb,EAAKgb,OAAOjc,MACrBugE,EAAWr7D,KAAKo2K,oBAAoBr6K,EAAM2nB,GAAO,EAAO3nB,EAAKquK,eAC7D33D,EAAWzyG,KAAKy2K,oBAAoB16K,EAAMs/D,GAChD33C,EAAMjR,IAAIsE,EAAQ07F,GACd/uF,EAAMnd,OACRvG,KAAK8xK,UAAU,cAAc/6J,OAAY07F,OAEzCzyG,KAAK8xK,UAAU,wBAAwB/6J,OAAY07F,MAEvD,CACAmkE,kBAAkB76K,EAAM2nB,GACtB,MAAM23C,EAAWr7D,KAAKo2K,oBAAoBr6K,EAAM2nB,GAAO,GAAO,GACxD+uF,EAAWzyG,KAAKy2K,oBAAoB16K,EAAMs/D,GAChDt/D,EAAKsD,MAAMgxG,SAASvjG,SAAQ+pK,IAC1B,IAAIx4K,EACAg5I,EACAtgF,EAAK/2D,KAAKyxK,SACVoF,aAAoBrS,IACtBnmK,EAAOw4K,EAAStjK,IAAIzY,MACpBu8I,EAAQw/B,EAAS/7K,MAAMA,OAGvBu8I,EADAh5I,EAAOw4K,EAAS/7K,MAGlBkF,KAAK8xK,UAAU,2CAA2Cr/D,OAAcp0G,UACxE2B,KAAK8xK,UAAU,OAAO/6G,OAAQ07C,KAAYp0G,MAC1C2B,KAAK8xK,UAAU,YACf9xK,KAAK8xK,UAAU,mCAAmCzzK,SAClD2B,KAAK8xK,UAAU,KACfpuJ,EAAMjR,IAAI4kI,EAAOtgF,GACbrzC,EAAMnd,OACRvG,KAAK8xK,UAAU,cAAcz6B,OAAWtgF,OAExC/2D,KAAK8xK,UAAU,wBAAwBz6B,OAAWtgF,MACpD,GAEJ,CACA+/G,aAAa/6K,GACX,IAAIg7D,EAAK/2D,KAAKyxK,SAYdzxK,KAAK0xK,MAAM,SACN1xK,KAAKuxK,SACRvxK,KAAK0xK,MAAM,mEAEb1xK,KAAK0xK,MAAM,qBAAqB31K,EAAKsC,KAAKvD,WACrCkF,KAAKuxK,SACRvxK,KAAK0xK,MAAM,KAEb1xK,KAAK8xK,UAAU,kCAAoC9xK,KAAKuyK,cAAcx7G,IAQtE/2D,KAAK8xK,UAAU,MACjB,CACAiF,aAAah7K,EAAM2nB,GACjB,IAAIrlB,EAAOtC,EAAKsvK,UAAUvwK,MACtBi8D,EAAKh7D,EAAKwyK,OAAOzzK,MACrB,MAAMimB,EAAK/gB,KAAKuyK,cAAcx7G,GAC9B/2D,KAAK8xK,UAAU,0BAA0BzzK,SAAYA,sBAAyB0iB,KAC9E/gB,KAAK8xK,UAAU,GAAG/6G,wBAAyBA,OAC3C/2D,KAAKqyK,iBACL3uJ,EAAMjR,IAAIskD,EAAIA,EAChB,CACAigH,eAAej7K,EAAM2nB,GACnB,MAAM,IAAIznB,MAAM,kCAClB,CACAg7K,eAAel7K,EAAM2nB,GACnB,MAAM23C,EAAWr7D,KAAKo2K,oBAAoBr6K,EAAM2nB,GAAO,EAAO3nB,EAAKquK,eAInEpqK,KAAK0xK,MAAM,aAAa1xK,KAAKiO,iBAC7BjO,KAAK8xK,UAAUz2G,EAAW,0CAC1Br7D,KAAK0xK,MAAM,KAEb,CAEAwF,oBAAoBn7K,EAAM2nB,GACxB1jB,KAAKkzK,eAAen3K,EAAM2nB,EAC5B,CACAyzJ,eAAep7K,EAAM2nB,GAGnB,IAAIzV,EAASjO,KAAKiO,OAClBjO,KAAKiO,OAAS,SACdjO,KAAK8xK,UAAU,yBACf9xK,KAAK8xK,UAAU,oBACf9xK,KAAKsyK,mBAAkB,KACrBtyK,KAAKsF,QAAQvJ,EAAK4rB,KAAMjE,EAAM,IAGhC1jB,KAAKiO,OAASA,EAEdjO,KAAK8xK,UAAU,OACjB,CACAsF,cAAcr7K,EAAM2nB,GACD3nB,EAAKs0G,SACbvjG,SAAQrF,IAGXA,aAAiBy+J,GACfz+J,EAAM3M,QACRkF,KAAK0xK,MAAM,aAAa1xK,KAAKiO,iBAC7BjO,KAAKkzK,eAAezrK,EAAOic,GAC3B1jB,KAAK8xK,UAAU,QAGjB9xK,KAAK0xK,MAAM,aAAa1xK,KAAKiO,iCACzBjO,KAAKo+J,kBACPp+J,KAAK0xK,MAAM,0BAEb1xK,KAAK0xK,MAAM,UACX1xK,KAAKsF,QAAQmC,EAAOic,GAChB1jB,KAAKo+J,kBACPp+J,KAAK0xK,MAAM,IAAI31K,EAAK0hK,UAAU1hK,EAAK2hK,UAGrC19J,KAAK0xK,MAAM,KACX1xK,KAAK0xK,MAAM,6BACb,GAEJ,CACA2F,YAAYt7K,EAAM2nB,GACZA,GACF1jB,KAAKsoK,KAAK,2CAEZ5kJ,EAAQ,IAAIgrJ,GACZ1uK,KAAKgyK,eAAej2K,EAAM,QAAQ,GAClCiE,KAAK0xK,MAAM,mbAmBT11K,MAAM,MAAMmC,KAAIktC,GAAKA,EAAEj+B,SAAQ9I,QAAO+mC,KAAOA,IAAG7mC,KAAK,OACvDxE,KAAK2xK,kBACL3xK,KAAK8xK,UAAU,8BACf9xK,KAAKyyK,iBAAiB12K,EAAM2nB,GAC5B1jB,KAAK8xK,UAAU,wBACf9xK,KAAK8xK,UAAU,aAAa9xK,KAAKiO,+EACjCjO,KAAK8xK,UAAU,KACf9xK,KAAKkyK,cAAa,GAClBlyK,KAAKuxK,SAAU,EACf,MAAMhE,EAAa,GACb+J,EAASv7K,EAAK+nK,QAAQ4B,IAC5B4R,EAAOxqK,SAAQ,CAACxB,EAAOC,KACrB,MAAMlN,EAAOiN,EAAMjN,KAAKvD,MACxB,IAAkC,IAA9ByyK,EAAWxgK,QAAQ1O,GACrB,MAAM,IAAIpC,MAAM,UAAUoC,8BAE5BkvK,EAAW5rK,KAAKtD,GAChB2B,KAAKgyK,eAAe1mK,EAAO,KAAKjN,KAChC,MAAMk5K,EAAW,IAAI7I,GACrB1uK,KAAK8xK,UAAU,iCACf9xK,KAAKsF,QAAQgG,EAAMqc,KAAM4vJ,GACzBv3K,KAAKkyK,cAAc,IAErBlyK,KAAK8xK,UAAU,YACfwF,EAAOxqK,SAAQ,CAACxB,EAAOC,KACrB,MAAM8/J,EAAY,KAAK//J,EAAMjN,KAAKvD,QAClCkF,KAAK8xK,UAAU,GAAGzG,MAAcA,KAAa,IAE/CrrK,KAAK8xK,UAAU,iBACjB,CACAxsK,QAAQvJ,EAAM2nB,GACZ,IAAI8zJ,EAAWx3K,KAAK,UAAYjE,EAAK2nK,UACjC8T,EACFA,EAAStlK,KAAKlS,KAAMjE,EAAM2nB,GAE1B1jB,KAAKsoK,KAAK,iCAAiCvsK,EAAK2nK,WAAY3nK,EAAK0hK,OAAQ1hK,EAAK2hK,MAElF,CACA+Z,UACE,OAAOz3K,KAAKmxK,QAAQ3sK,KAAK,GAC3B,EAEF,SAASc,GAAQ2+E,EAAKmqF,EAAch5J,EAAY/W,EAAMoN,EAAO,CAAC,GAC5D,MAAMgD,EAAI,IAAIwiK,GAAS5yK,EAAMoN,EAAK2yJ,kBAI5BsZ,GADiBtiK,GAAc,IAAIjX,KAAI8xE,GAAOA,EAAI0nG,aAAYrzK,QAAOwtD,KAAOA,IAC/CzqD,QAAO,CAACgkC,EAAGusI,IAAcA,EAAUvsI,IAAI44C,GAE1E,OADAx1E,EAAEnJ,QA50CJ,SAAmBgB,EAAK8nK,GACtB,OAJF,SAAa9nK,EAAK8nK,GAChB,OAzBF,SAA2B9nK,GACzB,OAAO4nK,GAAU5nK,GAAKvK,IACpB,KAAMA,aAAgB4oK,IAAS5oK,aAAgB+oK,IAC7C,OAEF,IAAInoK,GAAQ,EASZ,GARAmxK,GAAO/xK,GAAM0L,IACX,GAAIA,aAAiB+9J,IAAe/9J,aAAiBm9J,IAAWn9J,aAAiBs9J,IAAat9J,aAAiBu9J,IAAYv9J,aAAiBkgK,GAG1I,OAFAhrK,GAAQ,EAED8K,CAEO,IAEd9K,EAAO,CACT,GAAIZ,aAAgB4oK,GAClB,OAAO,IAAIC,GAAQ7oK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAKuuK,KAAMvuK,EAAK4rB,KAAM5rB,EAAKmtK,OAClE,GAAIntK,aAAgB+oK,MAAS/oK,aAAgBipK,IAClD,OAAO,IAAID,GAAUhpK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO3hK,EAAK6R,IAAK7R,EAAKsC,KAAMtC,EAAK4rB,KAAM5rB,EAAKmtK,MAEvF,CACgB,GAEpB,CAES2O,CA5CT,SAAmBvxK,GACjB,OAAOwnK,GAAOxnK,GAAKwxK,IACjB,KAAMA,aAAqBpS,IACzB,OAEF,IAAIqS,GAAW,EACf,MAAMxJ,EAASX,KACfkK,EAAUnwJ,KAAOmmJ,GAAOgK,EAAUnwJ,MAAM5rB,IAEtC,GAAIA,aAAgBupK,IAA+B,UAApBvpK,EAAKsC,KAAKvD,MAEvC,OADAi9K,GAAW,EACJ,IAAI1T,GAAStoK,EAAK0hK,OAAQ1hK,EAAK2hK,MAAO6Q,EAC/C,IAEEwJ,GACFD,EAAUnwJ,KAAK0oF,SAASv+F,QAAQ,IAAIk3F,GAAM,EAAG,EAAG8uE,EAAUz5K,KAAM,IAAIgmK,GAAS,EAAG,EAAGkK,IACrF,GAEJ,CA0B2ByJ,CA7D3B,SAAqB1xK,EAAK8nK,GACxB,OAAOF,GAAU5nK,GAAKvK,GAChBA,aAAgBiqK,GACXmI,GAAapyK,EAAMqyK,GACjBryK,aAAgB8pK,GAClBsI,GAAapyK,EAAMqyK,EAAc,SAC/BryK,aAAgB+oK,GAClBqJ,GAAapyK,EAAMqyK,EAAc,OAC/BryK,aAAgB4oK,GAClBwJ,GAAapyK,EAAMqyK,EAAc,QAC/BryK,aAAgBurK,GAClB6G,GAAapyK,EAAMqyK,EAAc,aAExC,GAGN,CA6CqC6J,CAAY3xK,EAAK8nK,IACtD,CAES8J,CAAI5xK,EAAK8nK,GAAgB,GAClC,CA00CYz9I,CAl+CZ,SAAeszD,EAAK7uE,EAAY3J,GAC9B,IAAIX,EAAI,IAAIu5F,GAAOkJ,GAAItpB,EAAKx4E,IAI5B,YAHmBhQ,IAAf2Z,IACFtK,EAAEsK,WAAaA,GAEVtK,EAAE4iK,aACX,CA49CsBloK,CAAMkyK,EAActiK,EAAY3J,GAAO2iK,IACpD3/J,EAAEgpK,SACX,CAEA,SAASl5B,GAAUzjJ,EAAO+/E,GACxB,OAAI//E,UAAmD,IAAVA,EACpC+/E,EAEF//E,CACT,CACA,MAAM4Y,GAAM9H,KAAK8H,IACjB,SAAS6kE,GAAMprE,GACb,OAAOA,GAAQA,CACjB,CAuBA,SAASgrK,GAAWnjK,GAElB,MAAMkxI,GADNlxI,EAAMupI,GAAUvpI,EAAK,KACLpF,cAChB,OAAO4/J,GAAax6J,EAAKkxI,EAAInrH,OAAO,GAAGlmB,cAAgBqxI,EAAIx5I,MAAM,GACnE,CAYA,SAAS0rK,GAASnmK,EAAKomK,EAAKC,GAC1B,OAAIA,EACKrmK,GAAOomK,OAEC58K,IAARwW,EAAoBA,EAAMomK,CAErC,CAwCA,SAAShnJ,GAAOrc,GACd,OAAIA,aAAeu6J,GACVv6J,EAGFy6J,GAAS1R,GADhB/oJ,EAAMA,QAAoC,GAAKA,GAClBjC,YAC/B,CAyDA,SAAS8D,GAAK5E,GACZ,GAAI+e,EAAS/e,GACX,OAAOA,EAAIjW,MAAM,IACZ,GAAIuiC,EAAStsB,GAClB,OAAO2sJ,EAAS3sJ,GAAO,CAAC,GAAG9T,KAAI,EAAEoV,EAAKzY,MAAW,CAC/CyY,MACAzY,YAEG,GAAIkjK,EAAU/rJ,GACnB,OAAOA,EAEP,MAAM,IAAIsrJ,EAAc,iCAE5B,CAqBA,SAASgb,GAAkBC,GAQzB,OAPA,SAAgB5qK,EAAK6qK,EAAW,SAAUC,GACxC,MAAM/7I,EAAU38B,KACVqT,EAAOspB,EAAQrtB,IAAIqpK,QAAQF,GACjC,OAAO50C,EAAQj2H,GAAKtJ,QAAO,SAA2BX,GACpD,OAAO0P,EAAKnB,KAAKyqB,EAASh5B,EAAM+0K,KAAeF,CACjD,GACF,CAEF,CACA,IAAIp/I,GAASm/I,IAAkB,GAI3BK,GAASL,IAAkB,GAuH3Bv4I,GAAO+uI,GAAU,CAAC,QAAS,UAAW,iBAAkB,aAAc,IAAI,SAAoBnhK,EAAKirK,EAAUC,EAAU/nB,GAEzH,IAAIvgI,EAAQryB,EAAIyP,GAAKoD,GAAKA,IACtB+nK,EAAe9a,EAAclN,GAmBjC,OAlBAvgI,EAAMwP,MAAK,CAACvgC,EAAGC,KACb,IAAIiW,EAAIo7I,EAAOgoB,EAAat5K,GAAKA,EAC7B0nI,EAAI4pB,EAAOgoB,EAAar5K,GAAKA,EACjC,GAAIM,KAAKsP,IAAI7D,KAAK2yJ,kBAAoBrN,SAAet1J,IAANka,QAAyBla,IAAN0rI,GAChE,MAAM,IAAI37H,UAAU,oBAAoBulJ,4BAM1C,OAJK+nB,GAAY9nJ,EAASrb,IAAMqb,EAASm2G,KACvCxxH,EAAIA,EAAE/F,cACNu3H,EAAIA,EAAEv3H,eAEJ+F,EAAIwxH,EACC0xC,EAAW,GAAK,EACdljK,EAAIwxH,EACN0xC,GAAY,EAAI,EAEhB,CACT,IAEKroJ,CACT,IAwBA,SAASpjB,GAAK4H,GACZ,OAAOw6J,GAAax6J,EAAKA,EAAIpG,QAAQ,aAAc,IACrD,CAoCA,MAAMoqK,GAAS,4CAETC,GAAU,2DACVC,GAAc,kBACdC,GAAQ,SACRC,GAAQ,+BAoDd,IAAIC,GAAU,CACZnvE,UAAW,KACXx2F,IAAKA,GACL4lK,MA1cF,SAAe1rK,EAAK2rK,EAAWC,GAC7B,IAAIjuK,EACAmc,EAAM,GACN+9F,EAAM,GACV,IAAKl6G,EAAI,EAAGA,EAAIqC,EAAIxH,OAAQmF,IACtBA,EAAIguK,GAAc,GAAK9zD,EAAIr/G,SAC7BshB,EAAI/lB,KAAK8jH,GACTA,EAAM,IAERA,EAAI9jH,KAAKiM,EAAIrC,IAEf,GAAIk6G,EAAIr/G,OAAQ,CACd,GAAIozK,EACF,IAAKjuK,EAAIk6G,EAAIr/G,OAAQmF,EAAIguK,EAAWhuK,IAClCk6G,EAAI9jH,KAAK63K,GAGb9xJ,EAAI/lB,KAAK8jH,EACX,CACA,OAAO/9F,CACT,EAubEywJ,WAAYA,GACZsB,OAlbF,SAAgBzkK,EAAKi5H,GAGnB,GADAA,EAAQA,GAAS,IADjBj5H,EAAMupI,GAAUvpI,EAAK,KAEb5O,QAAU6nI,EAChB,OAAOj5H,EAET,MAAMq3H,EAAS4B,EAAQj5H,EAAI5O,OAG3B,OAAOopK,GAAax6J,EAFRkgC,EAAO,IAAKm3F,EAAS,EAAIA,EAAS,GAEfr3H,EADlBkgC,EAAO,IAAKm3F,EAAS,GAEpC,EAyaE,QAAW+rC,GACXsB,SAhaF,SAAkBznK,EAAK0nK,EAAeC,GACpC,IAAKr7I,EAAStsB,GACZ,MAAM,IAAIsrJ,EAAc,0CAE1B,IAMIsc,EANArpJ,EAAQ,GAEZ,IAAK,IAAI5b,KAAK3C,EAEZue,EAAM7uB,KAAK,CAACiT,EAAG3C,EAAI2C,KAGrB,QAAWnZ,IAAPm+K,GAA2B,QAAPA,EACtBC,EAAK,MACA,IAAW,UAAPD,EAGT,MAAM,IAAIrc,EAAc,6DAFxBsc,EAAK,CAGP,CAeA,OAdArpJ,EAAMwP,MAAK,CAAC85I,EAAIC,KACd,IAAIt6K,EAAIq6K,EAAGD,GACPn6K,EAAIq6K,EAAGF,GASX,OARKF,IACC3oJ,EAASvxB,KACXA,EAAIA,EAAEoV,eAEJmc,EAAStxB,KACXA,EAAIA,EAAEmV,gBAGHpV,EAAIC,EAAI,EAAID,IAAMC,EAAI,GAAK,CAAC,IAG9B8wB,CACT,EAgYE24G,KA/XF,SAAc10H,EAAK43H,GACjB,OAAOp7H,KAAK5L,UAAUoP,EAAK,KAAM43H,EACnC,EA8XEh7G,OAAQA,GACR2oJ,KAvXF,SAAchlK,GACZ,OAAIA,aAAeu6J,GACVv6J,EAGFy6J,IADPz6J,EAAMA,QAAoC,GAAKA,GAC3BjC,WACtB,EAkXEkiC,MAjXF,SAAernC,GACb,OAAOA,EAAI,EACb,EAgXEqsK,YA/WF,SAAqBjlK,GAEnB,OAAOy6J,GAAS1R,GADhB/oJ,EAAMA,QAAoC,GAAKA,GAClBjC,YAC/B,EA6WEmnK,QA5WF,SAAiBtsK,EAAKmjJ,GACpB,OAAOoN,EAAQvwJ,EAAKmjJ,EAAM/wJ,KAAKsP,IAAI7D,KAAK2yJ,iBAC1C,EA2WEnzB,OA1WF,SAAgBj2H,EAAKi5H,EAAOksC,GAE1B,GAAY,MADZnlK,EAAMupI,GAAUvpI,EAAK,KAEnB,MAAO,GAETi5H,EAAQA,GAAS,EAEjB,MAAM4P,EAAQ7oI,EAAIhZ,MAAM,MAClBo+K,EAAKllI,EAAO,IAAK+4F,GAIvB,OAAOuhC,GAAax6J,EAHR6oI,EAAM1/I,KAAI,CAACshJ,EAAGl0I,IACX,IAANA,GAAY4uK,EAAkB,GAAGC,IAAK36B,IAAZA,IAChCj7I,KAAK,MAEV,EA8VEA,KA7VF,SAAcoJ,EAAKysK,EAAKtpB,GAKtB,OAJAspB,EAAMA,GAAO,GACTtpB,IACFnjJ,EAAMzP,EAAIyP,GAAKoD,GAAKA,EAAE+/I,MAEjBnjJ,EAAIpJ,KAAK61K,EAClB,EAwVEl5C,KAvVF,SAAcvzH,GACZ,OAAOA,EAAIA,EAAIxH,OAAS,EAC1B,EAsVEA,OArVF,SAAsB6L,GACpB,IAAInX,EAAQyjJ,GAAUtsI,EAAK,IAC3B,YAAcxW,IAAVX,EACiB,mBAARm6B,KAAsBn6B,aAAiBm6B,KAAsB,mBAARtwB,KAAsB7J,aAAiB6J,IAE9F7J,EAAM0tB,MAEX+V,EAASzjC,IAAYA,aAAiBy0K,GAInCz0K,EAAMsL,OAFJs4J,EAAM5jK,GAAOsL,OAIjB,CACT,EAwUEyQ,KAAMA,GACNu6B,MA1TF,SAAiBp8B,GAEf,OADAA,EAAMupI,GAAUvpI,EAAK,KACVpF,aACb,EAwTE0qK,MAvTF,SAAetlK,GACb,OAAIA,QACK,GAEFw6J,GAAax6J,EAAKA,EAAIpG,QAAQ,WAAY,YACnD,EAmTEi+D,OAlTF,SAAgBj/D,GACd,OAAOA,EAAIhC,KAAKy3C,MAAMz3C,KAAKihE,SAAWj/D,EAAIxH,QAC5C,EAiTEgzB,OAAQA,GACRmhJ,WA/RF,SAAoB3sK,EAAKmjJ,GACvB,OAAOnjJ,EAAItJ,QAAOX,IAASA,EAAKotJ,IAClC,EA8RE6nB,OAAQA,GACR4B,WA7RF,SAAoB5sK,EAAKmjJ,GACvB,OAAOnjJ,EAAItJ,QAAOX,KAAUA,EAAKotJ,IACnC,EA4REniJ,QA3RF,SAAiBoG,EAAKwoJ,EAAKid,EAAMC,GAC/B,IAAIC,EAAc3lK,EAClB,GAAIwoJ,aAAentJ,OACjB,OAAO2E,EAAIpG,QAAQ4uJ,EAAKid,QAEF,IAAbC,IACTA,GAAY,GAEd,IAAIhzJ,EAAM,GAGV,GAAmB,iBAAR81I,EACTA,EAAM,GAAKA,OACN,GAAmB,iBAARA,EAGhB,OAAOxoJ,EAST,GALmB,iBAARA,IACTA,EAAM,GAAKA,GAIM,iBAARA,KAAsBA,aAAeu6J,IAC9C,OAAOv6J,EAIT,GAAY,KAARwoJ,EAIF,OADA91I,EAAM+yJ,EAAOzlK,EAAIhZ,MAAM,IAAIwI,KAAKi2K,GAAQA,EACjCjL,GAAax6J,EAAK0S,GAE3B,IAAIkzJ,EAAY5lK,EAAIjI,QAAQywJ,GAG5B,GAAiB,IAAbkd,IAAiC,IAAfE,EACpB,OAAO5lK,EAET,IAAI6lC,EAAM,EACN3G,EAAQ,EAEZ,KAAO0mI,GAAa,KAAoB,IAAdF,GAAmBxmI,EAAQwmI,IAGnDhzJ,GAAO1S,EAAIhC,UAAU6nC,EAAK+/H,GAAaH,EAEvC5/H,EAAM+/H,EAAYpd,EAAIp3J,OACtB8tC,IAEA0mI,EAAY5lK,EAAIjI,QAAQywJ,EAAK3iH,GAQ/B,OAHIA,EAAM7lC,EAAI5O,SACZshB,GAAO1S,EAAIhC,UAAU6nC,IAEhB20H,GAAamL,EAAajzJ,EACnC,EA8NEmzJ,QA7NF,SAAiB5oK,GACf,IAAIrE,EAQJ,OANEA,EADEojB,EAAS/e,GACL4E,GAAK5E,GAGL9T,EAAI8T,GAAKjB,GAAKA,KAElB6pK,UACA7pJ,EAAS/e,GACJu9J,GAAav9J,EAAKrE,EAAIpJ,KAAK,KAE7BoJ,CACT,EAiNE+9B,MAhNF,SAAe15B,EAAK6oK,EAAWlyJ,GAC7BkyJ,EAAYA,GAAa,EACzB,MAAM3nB,EAASvnJ,KAAKiW,IAAI,GAAIi5J,GAC5B,IAAIC,EAQJ,OANEA,EADa,SAAXnyJ,EACQhd,KAAKu0E,KACK,UAAXv3D,EACChd,KAAKy3C,MAELz3C,KAAK+/B,MAEVovI,EAAQ9oK,EAAMkhJ,GAAUA,CACjC,EAqMEzmJ,MApMF,SAAekB,EAAKi6B,EAAQ2xI,GAC1B,MAAMwB,EAAcpvK,KAAKy3C,MAAMz1C,EAAIxH,OAASyhC,GACtCozI,EAAQrtK,EAAIxH,OAASyhC,EACrBngB,EAAM,GACZ,IAAI3Z,EAAS,EACb,IAAK,IAAIxC,EAAI,EAAGA,EAAIs8B,EAAQt8B,IAAK,CAC/B,MAAM4P,EAAQpN,EAASxC,EAAIyvK,EACvBzvK,EAAI0vK,GACNltK,IAEF,MAAMqN,EAAMrN,GAAUxC,EAAI,GAAKyvK,EACzBE,EAAYttK,EAAIlB,MAAMyO,EAAOC,GAC/Bo+J,GAAYjuK,GAAK0vK,GACnBC,EAAUv5K,KAAK63K,GAEjB9xJ,EAAI/lB,KAAKu5K,EACX,CACA,OAAOxzJ,CACT,EAmLEsrG,IAlLF,SAAaplH,EAAKmjJ,EAAM51I,EAAQ,GAI9B,OAHI41I,IACFnjJ,EAAMzP,EAAIyP,GAAKoD,GAAKA,EAAE+/I,MAEjB51I,EAAQvN,EAAIvG,QAAO,CAAC5H,EAAGC,IAAMD,EAAIC,GAAG,EAC7C,EA8KEsgC,KAAMA,GACNjP,OAtJF,SAAkBtc,GAChB,OAAO+6J,GAAa/6J,EAAKA,EAC3B,EAqJE0mK,UApJF,SAAmBz1K,EAAO01K,GAExB,IACIC,EAAejuK,IAFnB1H,EAAQ64I,GAAU74I,EAAO,KAEKkJ,QADnB,iDACiC,KACxC8Y,EAAM,GASV,OAPEA,EADE0zJ,EACIC,EAAazsK,QAAQ,YAAa,IACvCA,QAAQ,MAAO,KACfA,QAAQ,UAAW,MACnBA,QAAQ,WAAY,QAEfysK,EAAazsK,QAAQ,QAAS,KAE/B4gK,GAAa9pK,EAAOgiB,EAC7B,EAuIE63C,MAtIF,SAAevqD,GAEb,IAAIsmK,GADJtmK,EAAMupI,GAAUvpI,EAAK,KACLhZ,MAAM,KAAKmC,KAAIszC,GAAQ0mI,GAAW1mI,KAClD,OAAO+9H,GAAax6J,EAAKsmK,EAAM92K,KAAK,KACtC,EAmIE4I,KAAMA,GACNmuK,SAhIF,SAAkB71K,EAAOU,EAAQo1K,EAAWpgK,GAC1C,IAAIg7G,EAAO1wH,EAGX,GADAU,EAASA,GAAU,KADnBV,EAAQ64I,GAAU74I,EAAO,KAEfU,QAAUA,EAClB,OAAOV,EAET,GAAI81K,EACF91K,EAAQA,EAAMsN,UAAU,EAAG5M,OACtB,CACL,IAAIgvC,EAAM1vC,EAAM2vC,YAAY,IAAKjvC,IACpB,IAATgvC,IACFA,EAAMhvC,GAERV,EAAQA,EAAMsN,UAAU,EAAGoiC,EAC7B,CAEA,OAAOo6H,GAAap5C,EADpB1wH,GAAS0V,QAAoCA,EAAM,MAErD,EA+GEo2B,MA9GF,SAAiBx8B,GAEf,OADAA,EAAMupI,GAAUvpI,EAAK,KACVH,aACb,EA4GE4mK,UA3GF,SAAmBhnK,GACjB,IAAIinK,EAAMrqH,mBACV,OAAIrgC,EAASvc,GACJinK,EAAIjnK,IAEGupJ,EAAUvpJ,GAAOA,EAAMmqJ,EAASnqJ,IAC/BtW,KAAI,EAAEyW,EAAG5D,KAAO,GAAG0qK,EAAI9mK,MAAM8mK,EAAI1qK,OAAMxM,KAAK,IAE/D,EAoGEm3K,OA1FF,SAAgB3mK,EAAK5O,EAAQw1K,GACvBrjG,GAAMnyE,KACRA,EAASqV,KAEX,MAAMogK,GAA4B,IAAbD,EAAoB,kBAAoB,GA+B7D,OA9Bc5mK,EAAIhZ,MAAM,SAASsI,QAAOmtC,GAG/BA,GAAQA,EAAKrrC,SACnBjI,KAAIszC,IACL,IAAIhO,EAAUgO,EAAK5iC,MAAMmqK,IACrB8C,EAAcr4I,EAAUA,EAAQ,GAAKgO,EACrCsqI,EAAWD,EAAY30I,OAAO,EAAG/gC,GAGrC,OAAI8yK,GAAY7lK,KAAKyoK,GACZ,YAAYA,KAAeD,KAAgBE,QAIhD5C,GAAM9lK,KAAKyoK,GACN,mBAAmBA,KAAeD,KAAgBE,QAIvD9C,GAAQ5lK,KAAKyoK,GACR,mBAAmBA,MAAgBA,QAIxC1C,GAAM/lK,KAAKyoK,GACN,mBAAmBA,KAAeD,KAAgBE,QAEpDtqI,CAAI,IAEAjtC,KAAK,GACpB,EAuDEw3K,UAtDF,SAAmBhnK,GAEjB,MAAMsmK,GADNtmK,EAAMupI,GAAUvpI,EAAK,KACDA,EAAInG,MAAM,QAAU,KACxC,OAAOysK,EAAQA,EAAMl1K,OAAS,IAChC,EAmDE61K,MAlDF,SAAehqK,EAAKomK,GAClB,IAAI3wJ,EAAMkkB,WAAW35B,GACrB,OAAOsmE,GAAM7wD,GAAO2wJ,EAAM3wJ,CAC5B,EAgDEgsG,IA/CgBq7C,GAAU,CAAC,QAAS,UAAW,QAAS,IAAI,SAAej0K,EAAO+/E,EAAcr3E,EAAO,IACvG,IAAIkkB,EAAMtrB,SAAStB,EAAO0I,GAC1B,OAAO+0E,GAAM7wD,GAAOmzD,EAAenzD,CACrC,IA6CE6jB,EAAG6sI,GACHjqK,EAAGkjB,IA6GL,SAAS6qJ,GAAQC,EAAKC,GACpB,OAAOD,IAAQC,CACjB,CAyCA,SAASC,GAAYF,EAAKC,GACxB,OAAOD,EAAMC,CACf,CAoBA,SAASE,GAASH,EAAKC,GACrB,OAAOD,EAAMC,CACf,CAwHA,IAAIG,GAAQ,CACVryE,UAAW,KACXsyE,SAnOF,SAAkB1hL,GAChB,MAAwB,mBAAVA,CAChB,EAkOE2hL,QA3NF,SAAiB3hL,GACf,YAAiBW,IAAVX,CACT,EA0NE4hL,YAjNF,SAAqBP,EAAKC,GACxB,OAAOD,EAAMC,GAAQ,CACvB,EAgNE3uK,QAzMF,SAAiB3S,GACf,OAAOA,aAAiBy0K,EAC1B,EAwME2M,QAASA,GACTS,GAAIT,GACJU,OAAQV,GACRW,KA3LF,SAAc/hL,GACZ,OAAOA,EAAQ,GAAM,CACvB,EA0LEgiL,MAhLF,SAAehiL,GACb,OAAQA,CACV,EA+KEo5H,GAtKF,SAAYioD,EAAKC,GACf,OAAOD,GAAOC,CAChB,EAqKEC,YAAaA,GACbl2D,GAAIk2D,GACJpoD,GAnJF,SAAYkoD,EAAKC,GACf,OAAOD,GAAOC,CAChB,EAkJEE,SAAUA,GACVS,GAAIT,GACJlrI,MAlIF,SAAet2C,GACb,OAAOA,EAAM8U,gBAAkB9U,CACjC,EAiIEi5H,GAxHF,SAAYooD,EAAKC,GACf,OAAOD,IAAQC,CACjB,EAuHEY,SAhHF,SAAkBliL,GAChB,OAAiB,OAAVA,CACT,EA+GEstI,OAxGF,SAAgBttI,GACd,MAAwB,iBAAVA,CAChB,EAuGEmiL,IAhGF,SAAaniL,GACX,OAAOA,EAAQ,GAAM,CACvB,EA+FEi2B,OAxFF,SAAgBj2B,GACd,MAAwB,iBAAVA,CAChB,EAuFEoiL,OA/EF,SAAgBpiL,GACd,QAASA,CACX,EA8EEqiL,cAvEF,SAAuBriL,GACrB,YAAiBW,IAAVX,CACT,EAsEE02C,MA/DF,SAAe12C,GACb,OAAOA,EAAM+Z,gBAAkB/Z,CACjC,EA8DEsiL,SAlDF,SAAkBtiL,GAChB,MAAsB,oBAAXod,SACApd,EAAMod,OAAOwjE,UAEf71E,MAAMC,QAAQhL,IAA2B,iBAAVA,CAE1C,EA6CEm+I,QArCF,SAAiBn+I,GAEf,IAAIw9K,EAAOx9K,SAA0D,iBAAVA,IAAuB+K,MAAMC,QAAQhL,GAChG,OAAI6J,IACK2zK,KAAUx9K,aAAiB6J,KAE3B2zK,CAEX,GAgCA,MAAM,YACJj3E,GAAW,MACXuuE,IACED,GAKE0N,GAAc,CAClBr2K,KAAM,OACNyN,IAAK,CACH8e,KAAKjkB,EAAKqtB,EAASjZ,EAAOopB,EAAS/rB,GACjC,IACEA,EAAG,KAAM,GACX,CAAE,MAAO5S,GACP4S,EAAGsgF,GAAYlzF,EAAG,KAAM,MAC1B,CACF,IAGJ,MAAMmvK,WAAoB1Z,GACxBlxJ,KAAK6qK,EAAS9xK,GAOZA,EAAOzL,KAAKyL,KAAOA,GAAQ,CAAC,EAC5BzL,KAAKyL,KAAK+xK,MAAQ/xK,EAAK+xK,IAMvBx9K,KAAKyL,KAAKi8J,WAAgC,MAAnBj8J,EAAKi8J,YAAqBj8J,EAAKi8J,WAItD1nK,KAAKyL,KAAK2yJ,mBAAqB3yJ,EAAK2yJ,iBACpCp+J,KAAKyL,KAAKi2J,aAAej2J,EAAKi2J,WAC9B1hK,KAAKyL,KAAKk2J,eAAiBl2J,EAAKk2J,aAChC3hK,KAAKu9K,QAAU,GACXA,IACFv9K,KAAKu9K,QAAUvf,EAAUuf,GAAWA,EAAU,CAACA,IAEjDv9K,KAAKy9K,eACLz9K,KAAKmsE,QAlVA,CACL7kE,MAAM6T,EAAOigC,EAAMjwC,QACG,IAATiwC,GACTA,EAAOjgC,EACPA,EAAQ,EACRhQ,EAAO,GACGA,IACVA,EAAO,GAET,MAAMyC,EAAM,GACZ,GAAIzC,EAAO,EACT,IAAK,IAAII,EAAI4P,EAAO5P,EAAI6vC,EAAM7vC,GAAKJ,EACjCyC,EAAIjM,KAAK4J,QAGX,IAAK,IAAIA,EAAI4P,EAAO5P,EAAI6vC,EAAM7vC,GAAKJ,EAEjCyC,EAAIjM,KAAK4J,GAGb,OAAOqC,CACT,EACA8vK,SACE,OAvDU/iJ,EAuDI90B,MAAMmT,UAAUtM,MAAMwF,KAAKxN,WAtDzCuH,GAAS,EACN,CACLkxB,QAAS,KACT3gB,QACEvQ,GAAS,EACTjM,KAAKm9B,QAAU,IACjB,EACAxwB,OAME,QALAV,GACa0uB,EAAMv0B,SACjB6F,EAAQ,GAEVjM,KAAKm9B,QAAUxC,EAAM1uB,GACdjM,KAAKm9B,OACd,GAfJ,IAAgBxC,EACV1uB,CAuDF,EACA0xK,OAAOz9K,GAvCX,SAAgBA,GACdA,EAAMA,GAAO,IACb,IAAI+0C,GAAQ,EACZ,MAAO,KACL,MAAMhjC,EAAMgjC,EAAQ,GAAK/0C,EAEzB,OADA+0C,GAAQ,EACDhjC,CAAG,CAEd,CAgCa0rK,CAAOz9K,IAyThBF,KAAKq5K,QAAU,CAAC,EAChBr5K,KAAKu8K,MAAQ,CAAC,EACdv8K,KAAKouK,aAAe,GACpBpuK,KAAKoV,WAAa,CAAC,EACnBpV,KAAK49K,eAAiB,GACtBhf,EAASya,IAASvsK,SAAQ,EAAEzO,EAAMiG,KAAYtE,KAAK69K,UAAUx/K,EAAMiG,KACnEs6J,EAAS2d,IAAOzvK,SAAQ,EAAEzO,EAAMgV,KAAUrT,KAAK89K,QAAQz/K,EAAMgV,IAC/D,CACAoqK,eACEz9K,KAAKu9K,QAAQzwK,SAAQy7H,IAEnBA,EAAO1rG,MAAQ,CAAC,EACS,mBAAd0rG,EAAOjlI,KAChBilI,EAAOjlI,GAAG,UAAU,CAACjF,EAAM0/K,KACzBx1C,EAAO1rG,MAAMx+B,GAAQ,KACrB2B,KAAKkC,KAAK,SAAU7D,EAAM0/K,EAAUx1C,EAAO,IAE7CA,EAAOjlI,GAAG,QAAQ,CAACjF,EAAMyP,KACvB9N,KAAKkC,KAAK,OAAQ7D,EAAMyP,EAAQy6H,EAAO,IAE3C,GAEJ,CACAy1C,kBACEh+K,KAAKu9K,QAAQzwK,SAAQy7H,IACnBA,EAAO1rG,MAAQ,CAAC,CAAC,GAErB,CACAohJ,aAAa5/K,EAAMoc,GAIjB,OAHAA,EAAUgtJ,OAASppK,EACnB2B,KAAKoV,WAAW/W,GAAQoc,EACxBza,KAAK49K,eAAej8K,KAAK8Y,GAClBza,IACT,CACAk+K,gBAAgB7/K,GACd,IAAIoc,EAAYza,KAAK03D,aAAar5D,GAC7Boc,IAGLza,KAAK49K,eAAiBvf,EAAQr+J,KAAK49K,eAAgBnjK,UAC5Cza,KAAKoV,WAAW/W,GACzB,CACAq5D,aAAar5D,GACX,OAAO2B,KAAKoV,WAAW/W,EACzB,CACA8/K,aAAa9/K,GACX,QAAS2B,KAAKoV,WAAW/W,EAC3B,CACA+/K,UAAU//K,EAAMvD,GAEd,OADAkF,KAAKmsE,QAAQ9tE,GAAQvD,EACdkF,IACT,CACAq+K,UAAUhgL,GACR,QAAkC,IAAvB2B,KAAKmsE,QAAQ9tE,GACtB,MAAM,IAAIpC,MAAM,qBAAuBoC,GAEzC,OAAO2B,KAAKmsE,QAAQ9tE,EACtB,CACAw/K,UAAUx/K,EAAMsmF,EAAMhoF,GACpB,IAAI2hL,EAAU35F,EAKd,OAJIhoF,GACFqD,KAAKouK,aAAazsK,KAAKtD,GAEzB2B,KAAKq5K,QAAQh7K,GAAQigL,EACdt+K,IACT,CACA6zB,UAAUx1B,GACR,IAAK2B,KAAKq5K,QAAQh7K,GAChB,MAAM,IAAIpC,MAAM,qBAAuBoC,GAEzC,OAAO2B,KAAKq5K,QAAQh7K,EACtB,CACAy/K,QAAQz/K,EAAMsmF,GAEZ,OADA3kF,KAAKu8K,MAAMl+K,GAAQsmF,EACZ3kF,IACT,CACA24K,QAAQt6K,GACN,IAAK2B,KAAKu8K,MAAMl+K,GACd,MAAM,IAAIpC,MAAM,mBAAqBoC,GAEvC,OAAO2B,KAAKu8K,MAAMl+K,EACpB,CACAkgL,gBAAgBh2C,EAAQ+tC,EAAYl5H,GAElC,OADiBmrF,EAAOi2C,YAAclI,GAAa/tC,EAAOi2C,WAAWphI,IAChDmrF,EAAO3wG,QAAU2wG,EAAO3wG,QAAQ0+I,EAAYl5H,GAAYA,CAC/E,CACAqhI,YAAYpgL,EAAMg4K,EAAcC,EAAYlM,EAAerpJ,GACzD,IAAI2tC,EAAO1uD,KACP0+K,EAAO,KAcX,GAbIrgL,GAAQA,EAAKswG,MAEftwG,EAAOA,EAAKswG,KAEVmwB,EAAWw3C,KACbv1J,EAAKu1J,EACLA,EAAa,KACbD,EAAeA,IAAgB,GAE7Bv3C,EAAWu3C,KACbt1J,EAAKs1J,EACLA,GAAe,GAEbh4K,aAAgBsgL,GAClBD,EAAOrgL,MACF,IAAoB,iBAATA,EAChB,MAAM,IAAIpC,MAAM,oCAAsCoC,GAEtD,IAAK,IAAIkN,EAAI,EAAGA,EAAIvL,KAAKu9K,QAAQn3K,OAAQmF,IAAK,CAC5C,MAAMg9H,EAASvoI,KAAKu9K,QAAQhyK,GAE5B,GADAmzK,EAAOn2C,EAAO1rG,MAAM78B,KAAKu+K,gBAAgBh2C,EAAQ+tC,EAAYj4K,IAE3D,KAEJ,CACF,CACA,GAAIqgL,EAIF,OAHIrI,GACFqI,EAAKp5K,UAEHyb,OACFA,EAAG,KAAM29J,GAGFA,EAGX,IAAIE,EAgDJ,OApBArgB,EAAUv+J,KAAKu9K,SAAS,CAACh1C,EAAQh9H,EAAGoB,EAAM/N,KACxC,SAASmsI,EAAOruH,EAAKunE,GACfvnE,EACF9d,EAAK8d,GACIunE,GACTA,EAAIskD,OAASA,EACb3pI,EAAK,KAAMqlF,IAEXt3E,GAEJ,CAGAtO,EAAOqwD,EAAK6vH,gBAAgBh2C,EAAQ+tC,EAAYj4K,GAC5CkqI,EAAO5rI,MACT4rI,EAAOs2C,UAAUxgL,EAAM0sI,GAEvBA,EAAO,KAAMxC,EAAOs2C,UAAUxgL,GAChC,IA7CqB,CAACqe,EAAKqM,KAI3B,GAHKA,GAASrM,GAAQ0tJ,IACpB1tJ,EAAM,IAAIzgB,MAAM,uBAAyBoC,IAEvCqe,EAAK,CACP,GAAIqE,EAEF,YADAA,EAAGrE,GAGH,MAAMA,CAEV,CACA,IAAIoiK,EACC/1J,GAGH+1J,EAAU,IAAIH,GAAS51J,EAAKk7D,IAAKjkF,KAAM+oB,EAAK9rB,KAAMo5K,GAC7CttJ,EAAKg2J,UACRh2J,EAAKw/G,OAAO1rG,MAAMx+B,GAAQygL,IAJ5BA,EAAU,IAAIH,GAAStB,GAAar9K,KAAM,GAAIq2K,GAO5Ct1J,EACFA,EAAG,KAAM+9J,GAETF,EAAaE,CACf,IAsBKF,CACT,CACAjiL,aAAa0B,EAAM2qD,EAAKjoC,GAClB+9G,EAAW91E,KACbA,EAAM,MAER,IAAI01H,QAAa,IAAI1oK,SAAQ,CAAC4hB,EAASwB,KACrCp5B,KAAKy+K,YAAYpgL,GAAM,CAACqe,EAAKsiK,KACvBtiK,EACF0c,EAAO1c,GAGTkb,EAAQonJ,EAAM,GACd,IAEJ,OAAON,EAAKO,OAAOj2H,EACrB,CACAk2H,aAAaj7F,EAAKj7B,EAAKv9C,EAAMsV,GAM3B,OALI+9G,EAAWrzH,KACbA,EAAO,CAAC,GAGG,IAAIkzK,GAAS16F,EAAKjkF,MAD/ByL,EAAOA,GAAQ,CAAC,GAC0BxO,MAC9BgiL,OAAOj2H,EACrB,EAEF,MAAMm2H,WAAgBxb,GACpBjxJ,KAAKs2C,EAAKsuH,EAAQhoK,GAEhBtP,KAAKsP,IAAMA,GAAO,IAAIguK,GAGtBt9K,KAAKgpD,IAAM32C,EAAO,CAAC,EAAG22C,GACtBhpD,KAAKs3K,OAAS,CAAC,EACft3K,KAAKyyG,SAAW,GAChBisD,EAAM4Y,GAAQxqK,SAAQzO,IACpB2B,KAAKo/K,SAAS/gL,EAAMi5K,EAAOj5K,GAAM,GAErC,CACAy1J,OAAOz1J,GAGL,OAAIA,KAAQ2B,KAAKsP,IAAI68D,WAAa9tE,KAAQ2B,KAAKgpD,KACtChpD,KAAKsP,IAAI68D,QAAQ9tE,GAEjB2B,KAAKgpD,IAAI3qD,EAEpB,CACAghL,YAAYhhL,EAAM4T,GAChBjS,KAAKgpD,IAAI3qD,GAAQ4T,CACnB,CACAqtK,eACE,OAAOt/K,KAAKgpD,GACd,CACAo2H,SAAS/gL,EAAMiN,GAGb,OAFAtL,KAAKs3K,OAAOj5K,GAAQ2B,KAAKs3K,OAAOj5K,IAAS,GACzC2B,KAAKs3K,OAAOj5K,GAAMsD,KAAK2J,GAChBtL,IACT,CACAu/K,SAASlhL,GACP,IAAK2B,KAAKs3K,OAAOj5K,GACf,MAAM,IAAIpC,MAAM,kBAAoBoC,EAAO,KAE7C,OAAO2B,KAAKs3K,OAAOj5K,GAAM,EAC3B,CACAmhL,SAASlwK,EAAKjR,EAAMiN,EAAOoY,EAAOopB,EAAS/rB,GACzC,IAAIq0B,EAAMroC,EAAQ/M,KAAKs3K,OAAOj5K,IAAS,GAAIiN,GACvCm0K,EAAMz/K,KAAKs3K,OAAOj5K,GAAM+2C,EAAM,GAElC,IAAa,IAATA,IAAeqqI,EACjB,MAAM,IAAIxjL,MAAM,iCAAmCoC,EAAO,KAE5DohL,EAAInwK,EAJUtP,KAII0jB,EAAOopB,EAAS/rB,EACpC,CACA2+J,UAAUrhL,GACR2B,KAAKyyG,SAAS9wG,KAAKtD,EACrB,CACAshL,cACE,IAAIltE,EAAW,CAAC,EAIhB,OAHAzyG,KAAKyyG,SAAS3lG,SAAQzO,IACpBo0G,EAASp0G,GAAQ2B,KAAKgpD,IAAI3qD,EAAK,IAE1Bo0G,CACT,EAEF,MAAMksE,WAAiBhb,GACrBjxJ,KAAKuxE,EAAK30E,EAAKrS,EAAMo5K,GAEnB,GADAr2K,KAAKsP,IAAMA,GAAO,IAAIguK,GAClB/+I,EAAS0lD,GACX,OAAQA,EAAIj9E,MACV,IAAK,OACHhH,KAAK4/K,UAAY37F,EAAIxvE,IACrB,MACF,IAAK,SACHzU,KAAK6/K,QAAU57F,EAAIxvE,IACnB,MACF,QACE,MAAM,IAAIxY,MAAM,mCAAmCgoF,EAAIj9E,0CAEtD,KAAIgqB,EAASizD,GAGlB,MAAM,IAAIhoF,MAAM,2DAFhB+D,KAAK6/K,QAAU57F,CAGjB,CAEA,GADAjkF,KAAK/C,KAAOA,EACRo5K,EACF,IACEr2K,KAAKw3K,UACP,CAAE,MAAO96J,GACP,MAAM0gJ,EAAep9J,KAAK/C,KAAM+C,KAAKsP,IAAI7D,KAAK+xK,IAAK9gK,EACrD,MAEA1c,KAAK8/K,UAAW,CAEpB,CACAb,OAAOj2H,EAAK+2H,GACS,mBAAR/2H,EACTA,EAAM,CAAC,EACyB,mBAAhB+2H,IAChBA,EAAc,MAIhB,IACE//K,KAAKsF,SACP,CAAE,MAAO6I,GAEP,MADYivJ,EAAep9J,KAAK/C,KAAM+C,KAAKsP,IAAI7D,KAAK+xK,IAAKrvK,EAE3D,CACA,MAAMwuB,EAAU,IAAIwiJ,GAAQn2H,GAAO,CAAC,EAAGhpD,KAAKs3K,OAAQt3K,KAAKsP,KACnDoU,EAAQq8J,EAAcA,EAAYp+K,MAAK,GAAQ,IAAIiuK,GACzDlsJ,EAAMkrJ,UAAW,EACjB,IACE,OAAO5uK,KAAKggL,eAAehgL,KAAKsP,IAAKqtB,EAASjZ,EAAOisJ,GACvD,CAAE,MAAOjzJ,GACP,MAAM0gJ,EAAep9J,KAAK/C,KAAM+C,KAAKsP,IAAI7D,KAAK+xK,IAAK9gK,EACrD,CACF,CACA/f,kBAAkBqsD,EAAK+2H,EAAah/J,GAEf,mBAARioC,IACTjoC,EAAKioC,EACLA,EAAM,CAAC,GAEkB,mBAAhB+2H,IACTh/J,EAAKg/J,EACLA,EAAc,MAIhB,IACE//K,KAAKsF,SACP,CAAE,MAAO6I,GACP,GAAI4S,EACF,OAAOA,EAAG5S,GAEV,MAAMA,CAEV,CACA,MAAMuV,EAAQq8J,EAAcA,EAAYp+K,OAAS,IAAIiuK,GACrDlsJ,EAAMkrJ,UAAW,EAGjB,MAAMjyI,EAAU,IAAIwiJ,GAAQn2H,GAAO,CAAC,EAAGhpD,KAAKs3K,OAAQt3K,KAAKsP,KACzD,IACE,IAAI2wK,EAAMjgL,KAAKggL,eAAehgL,KAAKsP,IAAKqtB,EAASjZ,EAAOisJ,IACxD,UAAW,IAAIh7J,KAAKsrK,GACpBl/J,EAAG,KAAM4b,EAAQgjJ,cACnB,CAAE,MAAOjjK,GACPqE,EAAGrE,EACL,CACF,CACApX,UACOtF,KAAK8/K,UACR9/K,KAAKw3K,UAET,CACAA,WACE,IAAIhU,EACJ,GAAIxjK,KAAK4/K,UACPpc,EAAQxjK,KAAK4/K,cACR,CACL,MAAM9xK,EAASxI,GAAQtF,KAAK6/K,QAAS7/K,KAAKsP,IAAI8+J,aAAcpuK,KAAKsP,IAAIsuK,eAAgB59K,KAAK/C,KAAM+C,KAAKsP,IAAI7D,MACrGzL,KAAKsP,IAAI7D,KAAKy0K,gBAEhBjwK,QAAQW,IAAI9C,GAGd01J,EADa,IAAInmF,SAASvvE,EAClB62E,EACV,CACA3kF,KAAKs3K,OAASt3K,KAAKmgL,WAAW3c,GAC9BxjK,KAAKggL,eAAiBxc,EAAMjwI,KAC5BvzB,KAAK8/K,UAAW,CAClB,CACAK,WAAW3c,GACT,IAAI8T,EAAS,CAAC,EAMd,OALA5Y,EAAM8E,GAAO12J,SAAQ8H,IACG,OAAlBA,EAAElI,MAAM,EAAG,KACb4qK,EAAO1iK,EAAElI,MAAM,IAAM82J,EAAM5uJ,GAC7B,IAEK0iK,CACT,EAGF,SAAS8I,GAASrkL,GAChB,OAAOskL,GAAgB,CACrBr5K,KAAM,OACNjL,QAEJ,CACA,SAASukL,KACP,OAAOD,GAAgB,CACrBr5K,KAAM,OAEV,CACA,SAASq5K,GAAgB5gL,GAIvB,MAHiB,iBAANA,IACTA,EAAEsT,SAAW,IAAM,IAEdtT,CACT,CAOA,SAAS8gL,GAAmB9rK,GAC1B,MAAsB,iBAARA,GAAiC,SAAbA,EAAIzN,MAAgC,QAAbyN,EAAIzN,IAC/D,CAEA,MAAMw5K,GACJC,mBAAmBnxK,EAAKk9B,GACtBl9B,EAAI2uK,aAAa,mBAAoB,IAAI,MACvCn+K,cACEE,KAAKsuC,KAAO,CAAC,UACf,CACA9oC,MAAMw+F,EAAQ98F,EAAOk8J,GACnB,IAAIsd,EAAW18E,EAAO+H,YACtB/H,EAAOqlE,eAAe,MAAM,GAC5BrlE,EAAO0kE,qBAAqBgY,EAAS5lL,OAErC,IAAI6lL,EAAc38E,EAAOx+F,QACzB,OAAO,IAAI0B,EAAMogK,cAActnK,KAAM,MAAO,KAAM,CAAC2gL,GACrD,CACAhkL,UAAWggC,EAASgkJ,SACZP,GAAS,CACbp5K,KAAM,UACNqpG,SAAU,WAELswE,GAGT,IAGFrxK,EAAI2uK,aAAa,iBAAkB,IAAI,MACrCn+K,cACEE,KAAKsuC,KAAO,CAAC,QACf,CACA9oC,MAAMw+F,EAAQ98F,EAAOk8J,GACnB,IAAIsd,EAAW18E,EAAO+H,YACtB/H,EAAOqlE,eAAe,MAAM,GAC5BrlE,EAAO0kE,qBAAqBgY,EAAS5lL,OACrC,IAAI6sB,EAAOq8E,EAAOilE,iBAAiB,YAEnC,OADAjlE,EAAO0kE,uBACA,IAAIxhK,EAAMogK,cAActnK,KAAM,MAAO,KAAM,CAAC2nB,GACrD,CACAhrB,UAAWggC,EAASikJ,GAClB,IAAI3yK,EAAS,GACb,UAAW,IAAIoO,KAASukK,IACtB3yK,EAAOtM,KAAKo9B,OAAO1iB,IAOrB,aALM+jK,GAAS,CACbp5K,KAAM,QACN45K,UAAW3yK,EAAOzJ,KAAK,YAEnB87K,KACC,EACT,IAGFhxK,EAAI2uK,aAAa,gBAAiB,IAAI,MACpCn+K,cACEE,KAAKsuC,KAAO,CAAC,OACf,CACA9oC,MAAMw+F,EAAQ98F,EAAOk8J,GACnB,IAAIsd,EAAW18E,EAAO+H,YAClB3kG,EAAO48F,EAAOqlE,eAAe,MAAM,GAEvC,OADArlE,EAAO0kE,qBAAqBgY,EAAS5lL,OAC9B,IAAIoM,EAAMogK,cAActnK,KAAM,MAAOoH,EAC9C,CACAy5K,IAAIlkJ,EAASmkJ,GACX,MAAO,KAAKA,KACd,GAEJ,EAGF,MAAMC,GACJN,mBAAmBnxK,EAAKk9B,GACtBl9B,EAAIuuK,UAAU,iBAAkBmD,GAClC,EAEF,SAASA,GAAoBC,KAAiB75K,GAC5C,IAAI85K,EAAS,IAAIv8K,IAAIyC,EAAKjJ,KAAIktC,GAAKtM,OAAOsM,MACtCkf,EAAU02H,EAAuC,iBAAjBA,EAA4B,CAC9D12H,QAAS02H,GACPA,EAAe,CACjB12H,QAAS,IAEXA,EAAQ4oB,UAAY5oB,EAAQ4oB,WAAa,EACzC,IAAI0qE,GAAStzF,EAAQA,SAAW,IAAIvuD,MAAM,MACV,KAA5B6hJ,EAAMA,EAAMz3I,OAAS,IACvBy3I,EAAM5yI,MAER,IAAIk2K,EAAsBpiJ,OAAOwrB,EAAQ4oB,UAAY0qE,EAAMz3I,QAAQA,OACnE,MAAMytE,EAAaqtG,EAAOj7J,IAAI,gBAAkB,CAACub,EAAM4T,IAAQ,IAAImV,EAAQ4oB,WAAa,GAAK/9B,IAAM0+B,OAAOqtG,EAAqB,KAAO,IAAM3/I,EAAOA,GAAQA,EAC3J,IAAIqf,EAAOg9F,EAAM1/I,IAAI01E,GAAYrvE,KAAK,MAEtC,OADAq8C,EAAO,CAAC,SAAS0J,EAAQgsE,UAAY,KAAM11E,EAAKjyC,QAAQ,KAAM,OAAQ,OAAOtK,QAAO+mC,KAAOA,IAAG7mC,KAAK,MAC/F08K,EAAOj7J,IAAI,qBACW,IAAjB43H,EAAMz3I,OAAe,QAAQmkD,EAAQ4oB,WAAa,IAAM,SAAS5oB,EAAQ4oB,WAAa,SAAS5oB,EAAQ4oB,WAAa,GAAK0qE,EAAMz3I,OAAS,KAE7ImkD,EAAQ+oB,UAAY4tG,EAAOj7J,IAAI,gBACjC46B,EAAO0J,EAAQ+oB,QAAU,MAAQzyB,GAE5BA,EACT,CAEA,MAAMugI,GACJX,mBAAmBnxK,EAAKk9B,GACtBl9B,EAAIuuK,UAAU,WAAW,CAACjwK,EAAK8G,KAC7B,IAAK9G,EAAK,OAAOA,EACjB,IAAK/H,MAAMC,QAAQ8H,GACjB,MAAM,IAAI3R,MAAM,wCAElB,GAAoB,iBAATyY,GAAqC,iBAATA,EACrC,MAAM,IAAIzY,MAAM,8CAElB,OAAO2R,EAAIzP,KAAI2W,GAAKA,EAAEJ,IAAM,GAEhC,EAGF,MAAM2sK,GACJZ,mBAAmBnxK,EAAKk9B,GACtBl9B,EAAIuuK,UAAU,UAAUlhL,UACtB,GAAI2kL,GAA0E,mBAA7CA,EAAmBppK,OAAO4sE,eAA+B,CACxF,IAAI72E,EAAS,GACb,UAAW,IAAIoO,KAASilK,EACjBf,GAAmBlkK,IACtBpO,EAAOtM,KAAKo9B,OAAO1iB,IAGvB,OAAOpO,EAAOzJ,KAAK,GACrB,CACA,OAAO88K,CAAkB,GAE7B,EAeF,SAASrgL,GAAKsyB,EAAMmwE,GAClB,IAAI69E,EAAU79E,EAAMnwE,GACpB,SAAgB93B,IAAZ8lL,GAA0BA,IAC1B,aAAchuJ,EAChB,IAAK,IAAI9rB,KAAS8rB,EAAK88E,SACrBpvG,GAAKwG,EAAOi8F,EAGlB,CAUA,SAAS89E,GAAgBjuJ,EAAMvsB,GAC7B,IAAI4xC,EAAU,GAMd,OALA33C,GAAKsyB,GAAMx3B,IACLA,EAAKiL,OAASA,GAChB4xC,EAAQj3C,KAAK5F,EACf,IAEK68C,CACT,CAKAj8C,eAAgB8kL,GAAyBC,GACvC,IAAInuJ,EAAO,CACTvsB,KAAM,OACNqpG,SAAU,IAGRsxE,EAAY,CAACpuJ,GACjB,UAAW,IAAIlY,KAASqmK,EAAe,CACrC,IAAIE,EAAcD,EAAUA,EAAUv7K,OAAS,GAC/C,GAAmB,SAAfiV,EAAMrU,KAAiB,CACzB,KAAM,aAAc46K,GAClB,MAAM,IAAI3lL,MAAM,sCAElB,IAAIF,EAAOsf,EAAMtf,KACjB6lL,EAAYvxE,SAAS1uG,KAAK5F,GAC1B4lL,EAAUhgL,KAAK5F,EACjB,MAAO,GAAmB,QAAfsf,EAAMrU,KACf26K,EAAUv7K,QAAUu7K,EAAU12K,UACzB,IAAmB,SAAfoQ,EAAMrU,KAiBf,MAAM,IAAI/K,MAAM,kBAAkBgV,KAAK5L,UAAUgW,MAjBjB,CAChC,IAAIwmK,EACJ,KAAM,aAAcD,GAClB,MAAM,IAAI3lL,MAAM,sCAGlB,IAAI6lL,EAA8D,OAAjDD,EAAwBD,EAAYvxE,eAAoB,EAASwxE,EAAsBD,EAAYvxE,SAASjqG,OAAS,GAChF,UAApC,MAAb07K,OAAoB,EAASA,EAAU96K,MAE1C86K,EAAUjhI,MAAQxlC,EAAMwlC,KAExB+gI,EAAYvxE,SAAS1uG,KAAK,CACxBqF,KAAM,OACN65C,KAAMxlC,EAAMwlC,MAGlB,CAEA,OACMttB,CACR,CACF,CAIA52B,eAAgBolL,GAAaC,GAC3B,UAAW,IAAI3mK,KAAS2mK,EACH,SAAf3mK,EAAMrU,aACFqU,EAAMwlC,KAGlB,CAIA,MAAMohI,GACJC,cAAa,IACX5yK,EAAG,OACHk9B,EAAM,SACN6R,EAAQ,OACR6N,EAAM,cACNi2H,EAAa,oBACbC,IAEA9yK,EAAI8uK,UAAU,OAAOzhL,iBAAiB,KACpCy+C,EAAO,GAAE,UACTinI,EAAqB,YACrBp/H,KACGq/H,GACD,CAAC,GACH,IAAIC,EACJ,IAAKlkI,EAASmkI,KACZ,MAAM,IAAIvmL,MAAM,sDAElB,IAAKuwC,EAAOoT,IACV,MAAM,IAAI3jD,MAAM,uDAElB,IAAI4K,QAAe41J,EAAQ54B,QAAQk+C,GAAaI,IAAgBpoJ,MAAKt6B,GAAKA,EAAE+E,KAAK,MAE7EkB,EAAQ,IACP48K,EACHj6H,OAAQxhD,EACR47K,uBAJ2BlmB,EAAOp7B,KAAKsgD,GAAyBU,IAKhEv1H,cAAe/mD,MAAMC,QAAQs1C,GAAQA,EAAO,CAACA,GAC7CinI,YACAp/H,cACAm/H,uBAWF,SATMhC,GAAS,CACbp5K,KAAM,iBACNwnC,IAAK,MACLk0I,SAAU77K,EACV87K,OAAQ,CACN/iI,IAAKpT,EAAOoT,IAAI2f,OAElB8wC,SAAU,KAER7jE,EAAOoT,IAAIgjI,eAAgB,CAC7B,UAAW,IAAIvmK,KAASmwB,EAAOoT,IAAIgjI,eAAel9K,GACtC,MAAVwmD,GAAkBA,EAAOyrE,uBACnBt7G,EAGR,kBADMikK,KAER,CACA,IAAIpiK,QAAiBsuB,EAAOoT,IAAIlpB,SAAShxB,SACa,OAA/C68K,EAAuBrkK,EAASgjC,aAA2E,OAAnDqhI,EAAuBA,EAAqB,SAAc,EAASA,EAAqB1hI,WACjJy/H,IACR,GACF,EAGF,MAAMuC,GACJpC,mBAAmBnxK,EAAKk9B,GACtBl9B,EAAI2uK,aAAa,sBAAuB,IAAI,MAC1Cn+K,cACEE,KAAKsuC,KAAO,CAAC,aACf,CACA9oC,MAAMw+F,EAAQ98F,EAAOk8J,GACnB,IAAIsd,EAAW18E,EAAO+H,YAClB3kG,EAAO48F,EAAOqlE,eAAe,MAAM,GAEvC,OADArlE,EAAO0kE,qBAAqBgY,EAAS5lL,OAC9B,IAAIoM,EAAMogK,cAActnK,KAAM,MAAOoH,EAC9C,CACAzK,UAAWggC,EAASmmJ,SACZ1C,GAAS,CACbp5K,KAAM,aACN87K,uBAEIxC,IACR,GAEJ,EAGF,MAAMyC,GACJb,cAAa,IACX5yK,EAAG,OACHk9B,EAAM,gBACNw2I,IAOAA,EAAgBC,aAAe,EAC/BD,EAAgBE,aAAet3K,KAAKy3C,MAAM,OAASz3C,KAAKihE,UACxDv9D,EAAsB,iBAAIsC,IACpBtC,EAAsB,iBAAE6zK,cAAgBH,EAAgBE,eAC5DF,EAAgBC,aAAer3K,KAAKF,IAAIkG,EAAIoxK,EAAgBC,cAAa,EAE3E3zK,EAAsB,iBAAE6zK,YAAcH,EAAgBE,aAEtD5zK,EAAI8uK,UAAU,WAAYp+K,KAAKojL,qBAAqB9zK,EAAKk9B,GAC3D,CACA62I,eAAc,gBACZL,GACCM,GACDA,EAAeC,WAAaP,EAAgBC,oBACrCD,EAAgBC,oBAChBD,EAAgBE,YACzB,CACAzC,mBAAmBnxK,EAAKk9B,GAEtBl9B,EAAIuuK,UAAU,WAAY79K,KAAKojL,qBAAqB9zK,EAAKk9B,GAC3D,CACA42I,qBAAqB9zK,EAAKk9B,GACxB,OAAO7vC,eAAgBg0D,EAAO6yH,EAAanW,GACzC,IAAIoW,EACJ,IAAIC,EAAwD,OAA3CD,EAAqBj3I,EAAOk9B,iBAAsB,EAAS+5G,EAAmBD,GAC/F,IAAKE,EACH,MAAM,IAAIznL,MAAMunL,EAAc,wBAAwBA,IAAgB,0BAExE,IAAItlK,QAAiBwlK,EAAUp5H,SAAS,IACnC+iH,EACH18G,UAKF,OAHIzyC,EAASqlK,YACXj0K,EAAsB,iBAAE4O,EAASqlK,YAE5BrlK,EAAS06B,OAClB,CACF,EAGF,MAAM+qI,GACJlD,mBAAmBnxK,EAAKk9B,GACtBl9B,EAAI2uK,aAAa,iBAAkB,IAAI,MACrCn+K,cACEE,KAAKsuC,KAAO,CAAC,OACf,CACA9oC,MAAMw+F,EAAQ98F,EAAOk8J,GAEnB,IAAI/uH,EAAM2vD,EAAO+H,YAGb3kG,EAAO48F,EAAOqlE,eAAe,MAAM,GAIvC,GAHArlE,EAAO0kE,qBAAqBr0H,EAAIv5C,OAGH,IAAzBsM,EAAKipG,SAASjqG,QAA8C,WAA9BgB,EAAKipG,SAAS,GAAGqzD,SACjD,MAAM,IAAIznK,MAAM,sEAElB,IAAImoD,EAAOh9C,EAAKipG,SAAS,GAAGv1G,MAC5BsM,EAAO,IAAIF,EAAM88J,SAAS58J,EAAKipG,SAAS,GAAGotD,OAAQr2J,EAAKipG,SAAS,GAAGqtD,MAAO,CAAC,IAAIx2J,EAAMghG,QAAQ9gG,EAAKipG,SAAS,GAAGotD,OAAQr2J,EAAKipG,SAAS,GAAGqtD,MAAOt5G,KAE/I,IAAIz8B,EAAOq8E,EAAOilE,iBAAiB,WACnCjlE,EAAO0kE,uBAEP,IAAK7hK,EAAS,GAAI8vC,EAAS,KAA+B,MAAxBnK,EAAOi9B,mBAAwB,EAASj9B,EAAOi9B,cAAcrlB,KAAU,GAGzG,OAAO,IAAIl9C,EAAM88J,SAAS,EAAG,EAAG,CAAC,IAAI98J,EAAM8+J,OAAO,EAAG,EAAG,CAAC,IAAI9+J,EAAMghG,QAAQ,EAAG,EAAGrhG,KAAW,IAAIK,EAAMogK,cAActnK,KAAM,MAAOoH,EAAM,CAACugB,IAAQ,IAAIzgB,EAAM8+J,OAAO,EAAG,EAAG,CAAC,IAAI9+J,EAAMghG,QAAQ,EAAG,EAAGvxD,MAClM,CACAh6C,UAAWggC,EAASynB,EAAMw8H,SAClBR,GAAS,CACbp5K,KAAM,OACNo9C,KAAMA,EACNisD,SAAU,KAEZ,IAAIpiG,EAAS,GACb,UAAW,IAAIoO,KAASukK,UAChBvkK,EACNpO,EAAOtM,KAAK0a,GAGd,aADMikK,KACCryK,EAAO9P,KAAIktC,GAAKtM,OAAOsM,KAAI7mC,KAAK,GACzC,GAEJ,EAGF,MAAMo/K,GACJ1B,cAAa,IACX5yK,EAAG,gBACH0zK,IAEAA,EAAgBa,aAAe,CAC7B1mJ,QAAS,CAAC,GAEZ7tB,EAAI8uK,UAAU,SAASzhL,gBAAiBmnL,EAAShpL,GAC/C,IACIipL,QADsBjpL,EAE1B,GAA2C,mBAAhCA,EAAMod,OAAO4sE,eAA+B,CACrD,IAAI72E,EAAS,GACb,UAAW,IAAIoO,KAASvhB,QAChBuhB,EACDkkK,GAAmBlkK,IACtBpO,EAAOtM,KAAKo9B,OAAO1iB,IAGvB0nK,EAAiB91K,EAAOzJ,KAAK,GAC/B,YACQu/K,EAER/jL,KAAKgpD,IAAI86H,GAAWC,EACpBf,EAAgBa,aAAa1mJ,QAAQ2mJ,GAAWC,CAClD,GACF,CACAV,eAAc,gBACZL,GACCM,GACDA,EAAeU,WAAahB,EAAgBa,aAAa1mJ,eAClD6lJ,EAAgBa,YACzB,EAGF,MAAMI,GACJ/B,cAAa,IACX5yK,EAAG,OACHk9B,IAEAl9B,EAAI8uK,UAAU,QAASzjL,OAAOuD,QAAQsuC,EAAOqX,OAAO1lD,KAAI,EAAE44D,GACxDhF,mBACK,CACLgF,KACAhF,YAAaA,GAAe,QAE9BziD,EAAI8uK,UAAU,QAAQzhL,gBAAiBunL,EAAQx+K,GAC7C,IAAK8mC,EACH,MAAM,IAAIvwC,MAAM,uDAElB,IAAIkoL,EAAO33I,EAAOqX,MAAMqgI,EAAO92K,QAC/B,IAAK+2K,EACH,MAAM,IAAIloL,MAAM,gBAAgBioL,WAE5B9D,GAAS,CACbp5K,KAAM,iBACNwnC,IAAK,WACLm0I,OAAQ,CACNuB,UAEFxB,SAAUh9K,EACV2qG,SAAU,WAEN8zE,EAAKtD,IAAIn7K,GAAS,UAClB46K,IACR,GACF,EA2OFzlL,EAAQ2mL,gBAAkBA,GAC1B3mL,EAAQ0lL,mBAAqBA,GAC7B1lL,EAAQyuE,iBAxNR,SAA0B98B,EAAS,CAAC,GAClC,IAAIs2B,EAAW,CAAC,IAAIi+G,GAAuB,IAAIgC,GAAoB,IAAI3B,GAAsB,IAAIZ,GAAkB,IAAImD,GAAgB,IAAIC,GAAgB,IAAI3B,GAAc,IAAIgC,GAAkB,IAAIpB,GAAqB,IAAIxB,IAChO70I,EAAOk9B,WAAal9B,EAAOk9B,YAAc,CAAC,EAC1Cl9B,EAAOqX,MAAQrX,EAAOqX,OAAS,CAAC,EAChC,IAAIv0C,EAAM,IAAIguK,GAAY,GAAI,CAC5B5V,YAAY,IAGd,OADA5kG,EAASh2D,SAAQs3K,GAAyC,MAA9BA,EAAQ3D,wBAA6B,EAAS2D,EAAQ3D,mBAAmBnxK,EAAKk9B,KACnG,IAAI,MAKT7vC,cAAc0+D,EAAU1gD,GAAQ,OAC9BuxC,GACE,CAAC,GACH,IAAI,eACFm4H,EAAc,SACdhmI,GACEr+C,KAAKskL,OAAOjpH,GAKhB,OAJIhd,EAASmkI,MAEXvyK,QAAQS,KAAK,wFAEF1Q,KAAKukL,SAASF,EAAgBhmI,EAAU1jC,EAAQuxC,OAAQzwD,GAAWs+B,MAAK3qB,GAAKA,EAAE5P,QAC9F,CAKA7C,cAAc0+D,EAAU1gD,EAAQhV,EAAU,CAAC,GACzC,aAAa3F,KAAKwkL,cAAcnpH,EAAU1gD,EAAQhV,GAASo0B,MAAK3qB,GAAKA,EAAE5P,QACzE,CAMA7C,oBAAoB0+D,EAAU1gD,GAAQ,OACpCuxC,EAAM,oBACNk2H,GACE,CAAC,GACH,IAAI,eACFiC,EAAc,SACdhmI,GACEr+C,KAAKskL,OAAOjpH,IACZ,OACF92C,EAAM,OACN/kB,SACQQ,KAAKukL,SAASF,EAAgBhmI,EAAU1jC,EAAQuxC,EAAQk2H,GAClE,OAAI/jI,EAASmkI,KAEJ,CACLj+J,SACA/kB,OAAQA,EAAOu6B,MAAKupJ,IAAkB,CACpCA,eAAgBA,OAMf,CACL/+J,SACA/kB,OAAQA,EAAOu6B,MAAKp9B,UAElB,IAAK6vC,EAAOoT,IACV,MAAM,IAAI3jD,MAAM,qCAQlB,MAAO,CACLuiE,kBANsBhyB,EAAOoT,IAAIlpB,SAAS,CAC1C2xB,OAAQi7H,EAAej7H,OACvBuE,cAAe02H,EAAe12H,cAC9B61H,iBAAkBa,EAAeb,mBAIjCa,iBACD,IAGP,CAEA3mL,eAAe0nL,EAAgBhmI,EAAU1jC,EAAQuxC,EAAQk2H,GAEvD,IAAIY,EAAkB,IACjB3kI,KACA1jC,GAED0tC,EAAS,CACXA,OAAQ,GACRo6H,iBAAkB,CAChBz7K,KAAM,OACNqpG,SAAU,OAEThyD,GAGD2jI,EAAc1lB,EAAc5kJ,KAAKpI,EAAI4vK,aAAamF,EAAgBrB,IAAkBp/I,KAAK44H,EAAMr+J,KAAIke,GAAWA,EAAY,KAAIA,EAAQ,CACxIrV,KAAM,OACN65C,KAAM9hB,OAAO1iB,MACX28G,EAAQA,WAERyrD,EAAc,GACdC,EAAiB,CACnBp1K,MACAk9B,SACAw2I,kBACA3kI,WACA6N,SACAi2H,cAAesC,EACfrC,uBAEFt/G,EAASh2D,SAAQs3K,GAAmC,MAAxBA,EAAQlC,kBAAuB,EAASkC,EAAQlC,aAAawC,KACzF,IAAIC,EAAc,WAChB,UAAW,IAAItpK,KAAS2mK,EACZ,MAAV91H,GAAkBA,EAAOyrE,iBACzB8sD,EAAY9iL,KAAK0Z,EAEpB,EALiB,GAMlB,MAAO,CACLkJ,OAAQy9J,EACRxiL,OAAQmlL,EAAY5qJ,MAAKp9B,UACvB0rD,EAAOA,aAAeo0G,EAAQ54B,QAAQk+C,GAAa0C,IAAc1qJ,MAAKt6B,GAAKA,EAAE+E,KAAK,MAClF6jD,EAAOo6H,uBAAyBlmB,EAAOp7B,KAAKsgD,GAAyBgD,IAC3D,MAAVv4H,GAAkBA,EAAOyrE,iBACzB70D,EAASh2D,SAAQs3K,GAAoC,MAAzBA,EAAQf,mBAAwB,EAASe,EAAQf,cAAcqB,EAAgBr8H,KACpGA,KAGb,CAIAu8H,YAAYh/K,EAAQyiD,GAClB,MAAMw8H,EAAa,aACnB,IAAIC,EAAe,GACfC,EAAavD,GAAgBn5H,EAAOo6H,iBAAkB,SAC1D,IAAK,IAAI,UACP7B,KACGmE,GAAc,GAAI,CAErB,MAAMC,EAAc,GACpB,IAAInqI,EAAM,EACNoqI,EAAc,IAAIrE,EAAUsE,SAASL,IACzC,IAAK,MAAOt5K,EAAG45K,KAAcF,EAAY/mL,UAEvC8mL,EAAYrjL,KAAKm7J,EAA+B,QAAE8jB,EAAU5tK,UAAU6nC,EAAKsqI,EAAUl5K,SAErF+4K,EAAYrjL,KAAK4J,IAAM05K,EAAY7+K,OAAS,EAAI,MAAM++K,EAAU,SAAW,MAAMA,EAAU,WAC3FtqI,EAAMsqI,EAAUl5K,MAAQk5K,EAAU,GAAG/+K,OAEvC4+K,EAAYrjL,KAAKm7J,EAA+B,QAAE8jB,EAAU5tK,UAAU6nC,KACtEiqI,EAAanjL,KAAK,IAAI0O,OAAO20K,EAAYxgL,KAAK,IAAK,MACrD,CACA,IAAK,IAAIsO,KAAUgyK,EAAc,CAC/B,IAAIx5I,EAAI1lC,EAAOiJ,MAAMiE,GACrB,GAAKw4B,EACL,OAAOA,EAAE85I,MACX,CACA,OAAO,IACT,CAIAzoL,YAAY0+D,GACV,OAAOr7D,KAAKskL,OAAOjpH,GAAUhd,QAC/B,CAIA1hD,mCAAmC0+D,GACjC,IAII97D,GAJA,SACF8+C,EAAQ,eACRgmI,GACErkL,KAAKskL,OAAOjpH,GAEhB,IACE,IAAIsjH,GAAS0F,EAAgB/0K,EAAK,IAAI,EACxC,CAAE,MAAOnB,GACP5O,EAAQ4O,CACV,CACA,MAAO,CACLkwC,WACA9+C,QAEJ,CAKA+kL,OAAOjpH,GACL,IAAIhd,EAAW,CACbozB,kBAAmB,IAGnBpwC,QAASgjJ,EAAc,KACvB/sK,GACEulJ,EAAyB,QAAExhG,GAS/B,OARAhd,EAAS+yB,YAAc95D,EACvB+mC,EAASozB,kBAAoBpW,EAASj1D,OAASi+K,EAAej+K,OAC1DP,MAAMC,QAAgB,MAARwR,OAAe,EAASA,EAAK+tK,kBAC7ChnI,EAASuO,cAAgBt1C,EAAK+tK,eAAelnL,KAAI6S,GAAK+tB,OAAO/tB,MAEhD,MAARsG,GAAgBA,EAAKkrK,OAC1BnkI,EAASmkI,MAAO,GAEX,CACL6B,iBACAhmI,WAEJ,EAEJ,EAKAxjD,EAAQyqL,gBAlkBR,SAASA,EAAgBvpL,GACvB,IAAKA,EACH,MAAO,GAET,IAAIsvC,EAAI,GAMR,MALkB,SAAdtvC,EAAKiL,KACPqkC,GAAKtvC,EAAK8kD,KACD,aAAc9kD,IACvBsvC,GAAKtvC,EAAKs0G,SAASlyG,KAAIsQ,GAAK62K,EAAgB72K,KAAIjK,KAAK,KAEhD6mC,CACT,EAwjBAxwC,EAAQylL,QAAUA,GAClBzlL,EAAQulL,SAAWA,GACnBvlL,EAAQugD,KA3OR,SAAcyF,EAAM+L,GAClB/L,EAAOA,GAAQ,GACf+L,EAAgBA,GAAiB,GACjC,IAAI24H,EAAY9pK,IAChB,IAAK,IAAI+pK,KAAO54H,EAAe,CAC7B,IAAI0/E,EAAMzrF,EAAK9zC,QAAQy4K,GACnBl5C,EAAM,IACVi5C,EAAY35K,KAAKC,IAAI05K,EAAWj5C,GAClC,CACA,OAAOi5C,IAAc9pK,IAAWolC,EAAOA,EAAK7tC,UAAU,EAAGuyK,EAC3D,EAkOA1qL,EAAQ4mL,yBAA2BA,GACnC5mL,EAAQgmD,KAntBR,SAAcA,GACZ,MAAO,CACL75C,KAAM,OACN65C,OAEJ,EA+sBAhmD,EAAQknL,aAAeA,GACvBlnL,EAAQoG,KAAOA,GACfpG,EAAQ4qL,UArjBR9oL,eAAe8oL,EAAUlyJ,EAAMmwE,GAC7B,IAAI69E,QAAgB79E,EAAMnwE,GAC1B,SAAgB93B,IAAZ8lL,GAA0BA,IAC1B,aAAchuJ,EAChB,IAAK,IAAI9rB,KAAS8rB,EAAK88E,eACfo1E,EAAUh+K,EAAOi8F,EAG7B,iBCrgKA,SAASk5D,EAAuBzuJ,GAAK,OAAOA,GAAkB,iBAANA,GAAkB,YAAaA,EAAIA,EAAI,CAAE,QAAWA,EAAK,CAEjH,IAAIu3K,EAA8B9oB,EAJtB,EAAQ,OASpB,MAAM+oB,EACJ7lL,YAAY0oB,GACVxoB,KAAK68B,MAAQ,IAAI5H,IACjBj1B,KAAK4lL,QAAU,GACf5lL,KAAKwoB,KAAO,GACZxoB,KAAKwoB,KAAOA,CACd,CACAvC,IAAI1S,GACF,OAAOvT,KAAK68B,MAAM5W,IAAI1S,EACxB,CACAf,IAAIe,GACF,OAAOvT,KAAK68B,MAAMrqB,IAAIe,EACxB,CACAd,IAAIc,EAAKzY,GAGP,GAFAkF,KAAK68B,MAAMpqB,IAAIc,EAAKzY,GACpBkF,KAAK4lL,QAAU,IAAI5lL,KAAK4lL,QAAQthL,QAAOsQ,GAAKA,IAAMrB,IAAMA,GACpDvT,KAAK4lL,QAAQx/K,OAASpG,KAAKwoB,KAAM,CACnC,IAAIjV,EAAMvT,KAAK4lL,QAAQv5K,QACvBrM,KAAK68B,MAAMjT,OAAOrW,EACpB,CACF,EAGF,MAEMsyK,EAAiB,CACrBjtI,QAAS,IAqEX1zC,EAAOrK,QA/DP,UAA6B,OAC3BoxD,EAAM,SACNyE,IAEA,MAAMo1H,EAAgB,IAAIH,EAAe,GACzC,MAAO,CACLhpL,gBAAe,MACbg0D,EAAK,QACLC,EAAU,IAEV,IACE,IAAItW,EAAWrpC,KAAK5L,UAAU,CAC5BsrD,QACAC,YAEF,GAAIk1H,EAAc7/J,IAAIq0B,GACpB,MAAO,IACFwrI,EAActzK,IAAI8nC,GACrBipI,WAAY,GAGhB,IAAI,eACF1yH,EAAc,MACdtxD,SACQmmL,EAAwB,QAAE,4DAA4Dh1H,UAAkB,CAChH9nC,OAAQ,OACRjC,QAAS,CACP,eAAgB,mBAChB,iBAA4B,MAAVslC,EAAiBA,EAAS,IAE9CtkC,KAAM1W,KAAK5L,UAAU,CACnBsrD,QACAG,aAAcF,EACdG,gBAAiB,KAEnB7E,OAAQ8E,YAAY/jC,QA5CX,OA6CR8M,MAAKoc,GAAKA,EAAEgW,SACf,GAAI5sD,EACF,OAAOsmL,EAET,IAAI3nK,EAAW,CACb06B,QAASiY,EAAe1yD,KAAI,EAC1BgzD,sBACA90C,YAEA,IAAI0pK,EACJ,MAAO,CACLx7H,QAAkB,MAATluC,GAA+C,OAA7B0pK,EAAc1pK,EAAM/E,WAAgB,EAASyuK,EAAY90H,YACpFmiB,WAAY,oBACZliB,MAAOC,EACR,IACAzkD,MAAM,EAAGkkD,GACZ2yH,WA5DU,KA+DZ,OADAuC,EAAcrzK,IAAI6nC,EAAUp8B,GACrBA,CACT,CAAE,MAAO/P,GACP,OAAO03K,CACT,CACF,EAEJ,yRCtGA,MAAM,EAA+B9+B,QAAQ,aCAvC,EAA+BA,QAAQ,cCAvC,EAA+BA,QAAQ,aCAvC,EAA+BA,QAAQ,eCAvC,EAA+BA,QAAQ,eCmD7C,EA5CO,SAAyBhzF,GAC5B,IAAK,UAAU1gD,KAAK0gD,GAChB,MAAM,IAAIvoD,UAAU,oEAKxB,MAAMw6K,GAFNjyH,EAAMA,EAAInlD,QAAQ,SAAU,KAEL7B,QAAQ,KAC/B,IAAoB,IAAhBi5K,GAAqBA,GAAc,EACnC,MAAM,IAAIx6K,UAAU,uBAGxB,MAAM2lE,EAAOpd,EAAI/gD,UAAU,EAAGgzK,GAAYhqL,MAAM,KAChD,IAAIiqL,EAAU,GACVrqB,GAAS,EACb,MAAM50J,EAAOmqE,EAAK,IAAM,aACxB,IAAI+0G,EAAWl/K,EACf,IAAK,IAAIuE,EAAI,EAAGA,EAAI4lE,EAAK/qE,OAAQmF,IACb,WAAZ4lE,EAAK5lE,GACLqwJ,GAAS,EAEJzqF,EAAK5lE,KACV26K,GAAY,IAAI/0G,EAAK5lE,KACe,IAAhC4lE,EAAK5lE,GAAGwB,QAAQ,cAChBk5K,EAAU90G,EAAK5lE,GAAGyH,UAAU,KAKnCm+D,EAAK,IAAO80G,EAAQ7/K,SACrB8/K,GAAY,oBACZD,EAAU,YAGd,MAAMnlK,EAAW86I,EAAS,SAAW,QAC/BtkJ,EAAOuzB,SAASkpB,EAAI/gD,UAAUgzK,EAAa,IAC3C/3K,EAAS+I,OAAOU,KAAKJ,EAAMwJ,GAMjC,OAJA7S,EAAOjH,KAAOA,EACdiH,EAAOi4K,SAAWA,EAElBj4K,EAAOg4K,QAAUA,EACVh4K,CACX,EClDM,EAA+B84I,QAAQ,qCCAtC,MAAMo/B,UAAuBlqL,MACnC6D,YAAYoR,EAASlK,GACpBxE,MAAM0O,GAENjV,MAAMyjB,kBAAkB1f,KAAMA,KAAKF,aAEnCE,KAAKgH,KAAOA,CACb,CAEI3I,WACH,OAAO2B,KAAKF,YAAYzB,IACzB,CAEYskF,IAAPzqE,OAAOyqE,eACX,OAAO3iF,KAAKF,YAAYzB,IACzB,ECLM,MAAM+nL,UAAmBD,EAM/BrmL,YAAYoR,EAASlK,EAAMq/K,GAC1B7jL,MAAM0O,EAASlK,GAEXq/K,IAEHrmL,KAAKkZ,KAAOlZ,KAAKg2B,MAAQqwJ,EAAYntK,KACrClZ,KAAKsmL,eAAiBD,EAAYE,QAEpC,EClBD,MAAMC,EAAOtuK,OAAOyqE,YAQP8jG,EAAwBt7E,GAEjB,iBAAXA,GACkB,mBAAlBA,EAAO5gG,QACW,mBAAlB4gG,EAAOvhF,QACQ,mBAAfuhF,EAAO34F,KACW,mBAAlB24F,EAAOu7E,QACQ,mBAAfv7E,EAAOllF,KACQ,mBAAfklF,EAAO14F,KACS,mBAAhB04F,EAAOnrE,MACG,oBAAjBmrE,EAAOq7E,GASIG,EAASx7E,GAEpBA,GACkB,iBAAXA,GACuB,mBAAvBA,EAAO8nD,aACS,iBAAhB9nD,EAAOnkG,MACW,mBAAlBmkG,EAAO5mF,QACgB,mBAAvB4mF,EAAOrrG,aACd,gBAAgBuT,KAAK83F,EAAOq7E,IA0BjBI,EAAsB,CAACjuJ,EAAas0D,KAChD,MAAMmpC,EAAO,IAAInsG,IAAIgjE,GAAUjgE,SACzBzS,EAAO,IAAI0P,IAAI0O,GAAa3L,SAElC,OAAOopG,IAAS77G,GAAQ67G,EAAKx2H,SAAS,IAAI2a,IAAO,EAUrCssK,EAAiB,CAACluJ,EAAas0D,IAC9B,IAAIhjE,IAAIgjE,GAAUjnE,WAClB,IAAIiE,IAAI0O,GAAa3S,SCjE7B8gK,GAAW,IAAAjmJ,WAAU,YACrBkmJ,EAAY7uK,OAAO,kBAWV,MAAM8uK,EACpBlnL,YAAY6nB,GAAM,KACjBa,EAAO,GACJ,CAAC,GACJ,IAAIy+J,EAAW,KAEF,OAATt/J,EAEHA,EAAO,KACG8+J,EAAsB9+J,GAEhCA,EAAO,EAAA3Q,OAAOU,KAAKiQ,EAAK5U,YACd4zK,EAAOh/J,IAEP,EAAA3Q,OAAOQ,SAASmQ,KAEhB,EAAA4xH,MAAM2tC,iBAAiBv/J,GAEjCA,EAAO,EAAA3Q,OAAOU,KAAKiQ,GACTlQ,YAAYE,OAAOgQ,GAE7BA,EAAO,EAAA3Q,OAAOU,KAAKiQ,EAAK1Z,OAAQ0Z,EAAKvQ,WAAYuQ,EAAKxQ,YAC5CwQ,aAAgB,IAEhBA,aAAgB,KAG1Bs/J,GADAt/J,GAAO,QAAeA,IACN3gB,KAAKhL,MAAM,KAAK,GAIhC2rB,EAAO,EAAA3Q,OAAOU,KAAKqnB,OAAOpX,MAG3B,IAAIpD,EAASoD,EAET,EAAA3Q,OAAOQ,SAASmQ,GACnBpD,EAAS,WAAgB7M,KAAKiQ,GACpBg/J,EAAOh/J,KACjBpD,EAAS,WAAgB7M,KAAKiQ,EAAKpD,WAGpCvkB,KAAK+mL,GAAa,CACjBp/J,OACApD,SACA0iK,WACAE,WAAW,EACX5nL,MAAO,MAERS,KAAKwoB,KAAOA,EAERb,aAAgB,GACnBA,EAAKrkB,GAAG,SAAS8jL,IAChB,MAAM7nL,EAAQ6nL,aAAkBjB,EAC/BiB,EACA,IAAIhB,EAAW,+CAA+CpmL,KAAK0oB,QAAQ0+J,EAAOl2K,UAAW,SAAUk2K,GACxGpnL,KAAK+mL,GAAWxnL,MAAQA,CAAK,GAGhC,CAEIooB,WACH,OAAO3nB,KAAK+mL,GAAWxiK,MACxB,CAEI8iK,eACH,OAAOrnL,KAAK+mL,GAAWI,SACxB,CAOAxqL,oBACC,MAAM,OAACsR,EAAM,WAAEmJ,EAAU,WAAED,SAAoBmwK,EAAYtnL,MAC3D,OAAOiO,EAAOvB,MAAM0K,EAAYA,EAAaD,EAC9C,CAEAxa,iBACC,MAAM4qL,EAAKvnL,KAAK2mB,QAAQnU,IAAI,gBAE5B,GAAI+0K,EAAGz5J,WAAW,qCAAsC,CACvD,MAAM05J,EAAW,IAAI,KACfx1H,EAAa,IAAIy1H,sBAAsBznL,KAAK6gD,QAElD,IAAK,MAAOxiD,EAAMvD,KAAUk3D,EAC3Bw1H,EAASj9K,OAAOlM,EAAMvD,GAGvB,OAAO0sL,CACR,CAEA,MAAM,WAACE,SAAoB,8BAC3B,OAAOA,EAAW1nL,KAAK2nB,KAAM4/J,EAC9B,CAOA5qL,aACC,MAAM4qL,EAAMvnL,KAAK2mB,SAAW3mB,KAAK2mB,QAAQnU,IAAI,iBAAqBxS,KAAK+mL,GAAWp/J,MAAQ3nB,KAAK+mL,GAAWp/J,KAAK3gB,MAAS,GAClHmP,QAAYnW,KAAKizJ,cAEvB,OAAO,IAAI,IAAK,CAAC98I,GAAM,CACtBnP,KAAMugL,GAER,CAOA5qL,aACC,MAAMkkD,QAAa7gD,KAAK6gD,OACxB,OAAO5vC,KAAKzL,MAAMq7C,EACnB,CAOAlkD,aACC,MAAMsR,QAAeq5K,EAAYtnL,MACjC,OAAO,IAAI+rE,aAAcC,OAAO/9D,EACjC,CAOAA,SACC,OAAOq5K,EAAYtnL,KACpB,EAyBDrD,eAAe2qL,EAAYhwK,GAC1B,GAAIA,EAAKyvK,GAAWI,UACnB,MAAM,IAAI37K,UAAU,0BAA0B8L,EAAKoR,OAKpD,GAFApR,EAAKyvK,GAAWI,WAAY,EAExB7vK,EAAKyvK,GAAWxnL,MACnB,MAAM+X,EAAKyvK,GAAWxnL,MAGvB,MAAM,KAACooB,GAAQrQ,EAGf,GAAa,OAATqQ,EACH,OAAO,EAAA3Q,OAAOe,MAAM,GAIrB,KAAM4P,aAAgB,GACrB,OAAO,EAAA3Q,OAAOe,MAAM,GAKrB,MAAM4vK,EAAQ,GACd,IAAIC,EAAa,EAEjB,IACC,UAAW,MAAMvrK,KAASsL,EAAM,CAC/B,GAAIrQ,EAAKkR,KAAO,GAAKo/J,EAAavrK,EAAMjW,OAASkR,EAAKkR,KAAM,CAC3D,MAAMjpB,EAAQ,IAAI6mL,EAAW,mBAAmB9uK,EAAKoR,mBAAmBpR,EAAKkR,OAAQ,YAErF,MADAb,EAAK3lB,QAAQzC,GACPA,CACP,CAEAqoL,GAAcvrK,EAAMjW,OACpBuhL,EAAMhmL,KAAK0a,EACZ,CACD,CAAE,MAAO9c,GAER,MADeA,aAAiB4mL,EAAiB5mL,EAAQ,IAAI6mL,EAAW,+CAA+C9uK,EAAKoR,QAAQnpB,EAAM2R,UAAW,SAAU3R,EAEhK,CAEA,IAA2B,IAAvBooB,EAAKkgK,gBAAwD,IAA9BlgK,EAAK7I,eAAegpK,MAWtD,MAAM,IAAI1B,EAAW,4DAA4D9uK,EAAKoR,OAVtF,IACC,OAAIi/J,EAAM72J,OAAMriB,GAAkB,iBAANA,IACpB,EAAAuI,OAAOU,KAAKiwK,EAAMnjL,KAAK,KAGxB,EAAAwS,OAAO5R,OAAOuiL,EAAOC,EAC7B,CAAE,MAAOroL,GACR,MAAM,IAAI6mL,EAAW,kDAAkD9uK,EAAKoR,QAAQnpB,EAAM2R,UAAW,SAAU3R,EAChH,CAIF,CA/EAynL,EAAKhuK,UAAU/K,QAAS,IAAAqG,WAAU0yK,EAAKhuK,UAAU/K,OAAQ,qEAA0E,qBAGnItT,OAAO+nF,iBAAiBskG,EAAKhuK,UAAW,CACvC2O,KAAM,CAACrV,YAAY,GACnB+0K,SAAU,CAAC/0K,YAAY,GACvB2gJ,YAAa,CAAC3gJ,YAAY,GAC1BygJ,KAAM,CAACzgJ,YAAY,GACnB65C,KAAM,CAAC75C,YAAY,GACnBuuC,KAAM,CAACvuC,YAAY,GACnBgF,KAAM,CAAC9E,KAAK,IAAA8B,YAAU,QACrB,yEACA,sEA4EK,MAAMyzK,EAAQ,CAACC,EAAUv+I,KAC/B,IAAItE,EACAC,GACA,KAACzd,GAAQqgK,EAASjB,GAGtB,GAAIiB,EAASX,SACZ,MAAM,IAAIprL,MAAM,sCAgBjB,OAXK0rB,aAAgB,GAAwC,mBAArBA,EAAKsgK,cAE5C9iJ,EAAK,IAAI,EAAAvL,YAAY,CAAC6P,kBACtBrE,EAAK,IAAI,EAAAxL,YAAY,CAAC6P,kBACtB9hB,EAAKic,KAAKuB,GACVxd,EAAKic,KAAKwB,GAEV4iJ,EAASjB,GAAWxiK,OAAS4gB,EAC7Bxd,EAAOyd,GAGDzd,CAAI,EAGNugK,GAA6B,IAAA5zK,YAClCqT,GAAQA,EAAKsgK,eACb,4FACA,wDAaYE,EAAqB,CAACxgK,EAAM+F,IAE3B,OAAT/F,EACI,KAIY,iBAATA,EACH,2BAIJ8+J,EAAsB9+J,GAClB,kDAIJg/J,EAAOh/J,GACHA,EAAK3gB,MAAQ,KAIjB,EAAAgQ,OAAOQ,SAASmQ,IAAS,EAAA4xH,MAAM2tC,iBAAiBv/J,IAASlQ,YAAYE,OAAOgQ,GACxE,KAGJA,aAAgB,KACZ,iCAAiC+F,EAAQq5J,GAAWE,WAIxDt/J,GAAoC,mBAArBA,EAAKsgK,YAChB,gCAAgCC,EAA2BvgK,KAI/DA,aAAgB,EACZ,KAID,2BA8CKygK,EAAgBzrL,MAAO4d,GAAOoN,WAC7B,OAATA,EAEHpN,EAAKa,YAGC0rK,EAASn/J,EAAMpN,EACtB,ECjYK8tK,EAAwD,mBAA5B,qBACjC,qBACAhqL,IACC,IAAK,0BAA0BgV,KAAKhV,GAAO,CAC1C,MAAMkB,EAAQ,IAAIiM,UAAU,2CAA2CnN,MAEvE,MADA1D,OAAOC,eAAe2E,EAAO,OAAQ,CAACzE,MAAO,2BACvCyE,CACP,GAII+oL,EAA0D,mBAA7B,sBAClC,sBACA,CAACjqL,EAAMvD,KACN,GAAI,kCAAkCuY,KAAKvY,GAAQ,CAClD,MAAMyE,EAAQ,IAAIiM,UAAU,yCAAyCnN,OAErE,MADA1D,OAAOC,eAAe2E,EAAO,OAAQ,CAACzE,MAAO,qBACvCyE,CACP,GAea,MAAMgpL,UAAgBd,gBAOpC3nL,YAAY4S,GAGX,IAAIlT,EAAS,GACb,GAAIkT,aAAgB61K,EAAS,CAC5B,MAAM55E,EAAMj8F,EAAKi8F,MACjB,IAAK,MAAOtwG,EAAMyG,KAAWnK,OAAOuD,QAAQywG,GAC3CnvG,EAAOmC,QAAQmD,EAAO3G,KAAIrD,GAAS,CAACuD,EAAMvD,KAE5C,MAAO,GAAY,MAAR4X,OAEJ,IAAoB,iBAATA,GAAsB,EAAA6mI,MAAMivC,iBAAiB91K,GA+B9D,MAAM,IAAIlH,UAAU,wIA/BiD,CACrE,MAAMod,EAASlW,EAAKwF,OAAOwjE,UAE3B,GAAc,MAAV9yD,EAEHppB,EAAOmC,QAAQhH,OAAOuD,QAAQwU,QACxB,CACN,GAAsB,mBAAXkW,EACV,MAAM,IAAIpd,UAAU,iCAKrBhM,EAAS,IAAIkT,GACXvU,KAAImnF,IACJ,GACiB,iBAATA,GAAqB,EAAAi0D,MAAMivC,iBAAiBljG,GAEnD,MAAM,IAAI95E,UAAU,+CAGrB,MAAO,IAAI85E,EAAK,IACdnnF,KAAImnF,IACN,GAAoB,IAAhBA,EAAKl/E,OACR,MAAM,IAAIoF,UAAU,+CAGrB,MAAO,IAAI85E,EAAK,GAEnB,CACD,CAEA,CAgBA,OAbA9lF,EACCA,EAAO4G,OAAS,EACf5G,EAAOrB,KAAI,EAAEE,EAAMvD,MAClButL,EAAmBhqL,GACnBiqL,EAAoBjqL,EAAM0gC,OAAOjkC,IAC1B,CAACikC,OAAO1gC,GAAMuR,cAAemvB,OAAOjkC,YAE5CW,EAEF+G,MAAMhD,GAIC,IAAIipL,MAAMzoL,KAAM,CACtBwS,IAAIuE,EAAQjM,EAAGygB,GACd,OAAQzgB,GACP,IAAK,SACL,IAAK,MACJ,MAAO,CAACzM,EAAMvD,KACbutL,EAAmBhqL,GACnBiqL,EAAoBjqL,EAAM0gC,OAAOjkC,IAC1B2sL,gBAAgBzuK,UAAUlO,GAAGoH,KACnC6E,EACAgoB,OAAO1gC,GAAMuR,cACbmvB,OAAOjkC,KAIV,IAAK,SACL,IAAK,MACL,IAAK,SACJ,OAAOuD,IACNgqL,EAAmBhqL,GACZopL,gBAAgBzuK,UAAUlO,GAAGoH,KACnC6E,EACAgoB,OAAO1gC,GAAMuR,gBAIhB,IAAK,OACJ,MAAO,KACNmH,EAAOipB,OACA,IAAIr7B,IAAI8iL,gBAAgBzuK,UAAU1F,KAAKpB,KAAK6E,IAASzD,QAG9D,QACC,OAAO4Q,QAAQ1R,IAAIuE,EAAQjM,EAAGygB,GAEjC,GAGF,CAEYo3D,IAAPzqE,OAAOyqE,eACX,OAAO3iF,KAAKF,YAAYzB,IACzB,CAEA0U,WACC,OAAOpY,OAAOqe,UAAUjG,SAASb,KAAKlS,KACvC,CAEAwS,IAAInU,GACH,MAAMyG,EAAS9E,KAAK0mL,OAAOroL,GAC3B,GAAsB,IAAlByG,EAAOsB,OACV,OAAO,KAGR,IAAItL,EAAQgK,EAAON,KAAK,MAKxB,MAJI,sBAAsB6O,KAAKhV,KAC9BvD,EAAQA,EAAM8U,eAGR9U,CACR,CAEAgS,QAAQ3P,EAAUid,EAAU3e,WAC3B,IAAK,MAAM4C,KAAQ2B,KAAKsT,OACvB4Q,QAAQ/R,MAAMhV,EAAUid,EAAS,CAACpa,KAAKwS,IAAInU,GAAOA,EAAM2B,MAE1D,CAEA,UACC,IAAK,MAAM3B,KAAQ2B,KAAKsT,aACjBtT,KAAKwS,IAAInU,EAEjB,CAKA,WACC,IAAK,MAAMA,KAAQ2B,KAAKsT,YACjB,CAACjV,EAAM2B,KAAKwS,IAAInU,GAExB,CAEA,CAAC6Z,OAAOwjE,YACP,OAAO17E,KAAK9B,SACb,CAOAywG,MACC,MAAO,IAAI3uG,KAAKsT,QAAQjM,QAAO,CAAC7H,EAAQ+T,KACvC/T,EAAO+T,GAAOvT,KAAK0mL,OAAOnzK,GACnB/T,IACL,CAAC,EACL,CAKA,CAAC0Y,OAAO4sB,IAAI,iCACX,MAAO,IAAI9kC,KAAKsT,QAAQjM,QAAO,CAAC7H,EAAQ+T,KACvC,MAAMzO,EAAS9E,KAAK0mL,OAAOnzK,GAS3B,OALC/T,EAAO+T,GADI,SAARA,EACWzO,EAAO,GAEPA,EAAOsB,OAAS,EAAItB,EAASA,EAAO,GAG5CtF,CAAM,GACX,CAAC,EACL,EAOD7E,OAAO+nF,iBACN6lG,EAAQvvK,UACR,CAAC,MAAO,UAAW,UAAW,UAAU3R,QAAO,CAAC7H,EAAQiwB,KACvDjwB,EAAOiwB,GAAY,CAACnd,YAAY,GACzB9S,IACL,CAAC,IC5OL,MAAMkpL,EAAiB,IAAI/jL,IAAI,CAAC,IAAK,IAAK,IAAK,IAAK,MAQvCgkL,EAAazvK,GAClBwvK,EAAeziK,IAAI/M,GCCrB,EAAYhB,OAAO,sBAWV,MAAM0wK,UAAiB5B,EACrClnL,YAAY6nB,EAAO,KAAMhiB,EAAU,CAAC,GACnCnD,MAAMmlB,EAAMhiB,GAGZ,MAAM44C,EAA2B,MAAlB54C,EAAQ44C,OAAiB54C,EAAQ44C,OAAS,IAEnD53B,EAAU,IAAI4hK,EAAQ5iL,EAAQghB,SAEpC,GAAa,OAATgB,IAAkBhB,EAAQV,IAAI,gBAAiB,CAClD,MAAM4iK,EAAcV,EAAmBxgK,EAAM3nB,MACzC6oL,GACHliK,EAAQpc,OAAO,eAAgBs+K,EAEjC,CAEA7oL,KAAK,GAAa,CACjBgH,KAAM,UACN0hB,IAAK/iB,EAAQ+iB,IACb61B,SACAmiD,WAAY/6F,EAAQ+6F,YAAc,GAClC/5E,UACAgX,QAASh4B,EAAQg4B,QACjB8L,cAAe9jC,EAAQ8jC,cAEzB,CAEIziC,WACH,OAAOhH,KAAK,GAAWgH,IACxB,CAEI0hB,UACH,OAAO1oB,KAAK,GAAW0oB,KAAO,EAC/B,CAEI61B,aACH,OAAOv+C,KAAK,GAAWu+C,MACxB,CAKIuqI,SACH,OAAO9oL,KAAK,GAAWu+C,QAAU,KAAOv+C,KAAK,GAAWu+C,OAAS,GAClE,CAEIwqI,iBACH,OAAO/oL,KAAK,GAAW29B,QAAU,CAClC,CAEI+iE,iBACH,OAAO1gG,KAAK,GAAW0gG,UACxB,CAEI/5E,cACH,OAAO3mB,KAAK,GAAW2mB,OACxB,CAEI8iB,oBACH,OAAOzpC,KAAK,GAAWypC,aACxB,CAOAs+I,QACC,OAAO,IAAIa,EAASb,EAAM/nL,KAAMA,KAAKypC,eAAgB,CACpDziC,KAAMhH,KAAKgH,KACX0hB,IAAK1oB,KAAK0oB,IACV61B,OAAQv+C,KAAKu+C,OACbmiD,WAAY1gG,KAAK0gG,WACjB/5E,QAAS3mB,KAAK2mB,QACdmiK,GAAI9oL,KAAK8oL,GACTC,WAAY/oL,KAAK+oL,WACjBvgK,KAAMxoB,KAAKwoB,KACXihB,cAAezpC,KAAKypC,eAEtB,CAOA3mB,gBAAgB4F,EAAK61B,EAAS,KAC7B,IAAKoqI,EAAWpqI,GACf,MAAM,IAAInzC,WAAW,mEAGtB,OAAO,IAAIw9K,EAAS,KAAM,CACzBjiK,QAAS,CACRkI,SAAU,IAAI5E,IAAIvB,GAAK3V,YAExBwrC,UAEF,CAEAz7B,eACC,MAAM5E,EAAW,IAAI0qK,EAAS,KAAM,CAACrqI,OAAQ,EAAGmiD,WAAY,KAE5D,OADAxiF,EAAS,GAAWlX,KAAO,QACpBkX,CACR,CAEA4E,YAAYxL,EAAO7b,UAAWiX,EAAO,CAAC,GACrC,MAAMiV,EAAO1W,KAAK5L,UAAUiS,GAE5B,QAAa7b,IAATksB,EACH,MAAM,IAAInc,UAAU,iCAGrB,MAAMmb,EAAU,IAAI4hK,EAAQ71K,GAAQA,EAAKiU,SAMzC,OAJKA,EAAQV,IAAI,iBAChBU,EAAQlU,IAAI,eAAgB,oBAGtB,IAAIm2K,EAASjhK,EAAM,IACtBjV,EACHiU,WAEF,CAEYg8D,IAAPzqE,OAAOyqE,eACX,MAAO,UACR,EAGDhoF,OAAO+nF,iBAAiBkmG,EAAS5vK,UAAW,CAC3ChS,KAAM,CAACsL,YAAY,GACnBoW,IAAK,CAACpW,YAAY,GAClBisC,OAAQ,CAACjsC,YAAY,GACrBw2K,GAAI,CAACx2K,YAAY,GACjBy2K,WAAY,CAACz2K,YAAY,GACzBouF,WAAY,CAACpuF,YAAY,GACzBqU,QAAS,CAACrU,YAAY,GACtBy1K,MAAO,CAACz1K,YAAY,KC9JrB,MAAM,EAA+By0I,QAAQ,YCAvC,EAA+BA,QAAQ,YCiBtC,SAASiiC,EAA0BtgK,EAAKugK,GAAa,GAE3D,OAAW,MAAPvgK,EACI,eAGRA,EAAM,IAAIuB,IAAIvB,GAGV,uBAAuBrV,KAAKqV,EAAI1C,UAC5B,eAIR0C,EAAIyF,SAAW,GAIfzF,EAAI0F,SAAW,GAIf1F,EAAIlV,KAAO,GAGPy1K,IAGHvgK,EAAI6E,SAAW,GAIf7E,EAAIsF,OAAS,IAIPtF,GACR,CAKO,MAAMwgK,EAAiB,IAAIvkL,IAAI,CACrC,GACA,cACA,6BACA,cACA,SACA,gBACA,2BACA,kCACA,eA6EM,SAASwkL,EAA4BzgK,GAE3C,QAAI,yBAAyBrV,KAAKqV,IAKb,UAAjBA,EAAI1C,YAOJ,uBAAuB3S,KAAKqV,EAAI1C,WAjE9B,SAAwC0C,GAQ9C,GAAI,gBAAgBrV,KAAKqV,EAAI1C,UAC5B,OAAO,EAIR,MAAMojK,EAAS1gK,EAAIpB,KAAK1Y,QAAQ,cAAe,IACzCy6K,GAAgB,IAAAh6J,MAAK+5J,GAE3B,QAAsB,IAAlBC,IAAuB,SAASh2K,KAAK+1K,OAInB,IAAlBC,IAAuB,mCAAmCh2K,KAAK+1K,KAOlD,cAAb1gK,EAAIpB,OAAwBoB,EAAIpB,KAAK1nB,SAAS,eAK7B,UAAjB8oB,EAAI1C,QAYT,CA0BQsjK,CAA+B5gK,EACvC,CCnJA,MAAM,EAAYxQ,OAAO,qBAQnBqxK,EAAYp+E,GAEE,iBAAXA,GACsB,iBAAtBA,EAAO,GAIVq+E,GAAgB,IAAAl1K,YAAU,QAC/B,+DACA,kEAWc,MAAMy4I,UAAgBi6B,EACpClnL,YAAY4F,EAAOgN,EAAO,CAAC,GAC1B,IAAIsuI,EAUJ,GAPIuoC,EAAU7jL,GACbs7I,EAAY,IAAI/2H,IAAIvkB,EAAMgjB,MAE1Bs4H,EAAY,IAAI/2H,IAAIvkB,GACpBA,EAAQ,CAAC,GAGiB,KAAvBs7I,EAAU7yH,UAA0C,KAAvB6yH,EAAU5yH,SAC1C,MAAM,IAAI5iB,UAAU,GAAGw1I,0CAGxB,IAAIp4H,EAASlW,EAAKkW,QAAUljB,EAAMkjB,QAAU,MAU5C,GATI,wCAAwCvV,KAAKuV,KAChDA,EAASA,EAAO/T,gBAGZ00K,EAAU72K,IAAS,SAAUA,GACjC82K,KAIiB,MAAb92K,EAAKiV,MAAiB4hK,EAAU7jL,IAAyB,OAAfA,EAAMiiB,QACxC,QAAXiB,GAA+B,SAAXA,GACrB,MAAM,IAAIpd,UAAU,iDAGrB,MAAMi+K,EAAY/2K,EAAKiV,KACtBjV,EAAKiV,KACJ4hK,EAAU7jL,IAAyB,OAAfA,EAAMiiB,KAC1BogK,EAAMriL,GACN,KAEFlD,MAAMinL,EAAW,CAChBjhK,KAAM9V,EAAK8V,MAAQ9iB,EAAM8iB,MAAQ,IAGlC,MAAM7B,EAAU,IAAI4hK,EAAQ71K,EAAKiU,SAAWjhB,EAAMihB,SAAW,CAAC,GAE9D,GAAkB,OAAd8iK,IAAuB9iK,EAAQV,IAAI,gBAAiB,CACvD,MAAM4iK,EAAcV,EAAmBsB,EAAWzpL,MAC9C6oL,GACHliK,EAAQlU,IAAI,eAAgBo2K,EAE9B,CAEA,IAAI38H,EAASq9H,EAAU7jL,GACtBA,EAAMwmD,OACN,KAMD,GALI,WAAYx5C,IACfw5C,EAASx5C,EAAKw5C,QAID,MAAVA,IRpDc,iBAFSi/C,EQsDUj/C,IRnDnB,gBAAjBi/C,EAAOq7E,IACU,gBAAjBr7E,EAAOq7E,IQmDP,MAAM,IAAIh7K,UAAU,kERvDM2/F,MQ4D3B,IAAIu+E,EAA4B,MAAjBh3K,EAAKg3K,SAAmBhkL,EAAMgkL,SAAWh3K,EAAKg3K,SAC7D,GAAiB,KAAbA,EAEHA,EAAW,mBACL,GAAIA,EAAU,CAEpB,MAAMC,EAAiB,IAAI1/J,IAAIy/J,GAE/BA,EAAW,wBAAwBr2K,KAAKs2K,GAAkB,SAAWA,CACtE,MACCD,OAAWjuL,EAGZuE,KAAK,GAAa,CACjB4oB,SACAghK,SAAUl3K,EAAKk3K,UAAYlkL,EAAMkkL,UAAY,SAC7CjjK,UACAq6H,YACA90F,SACAw9H,YAID1pL,KAAK6pL,YAAyBpuL,IAAhBiX,EAAKm3K,YAAyCpuL,IAAjBiK,EAAMmkL,OAAuB,GAAKnkL,EAAMmkL,OAAUn3K,EAAKm3K,OAClG7pL,KAAKse,cAA6B7iB,IAAlBiX,EAAK4L,cAA6C7iB,IAAnBiK,EAAM4Y,UAAgC5Y,EAAM4Y,SAAY5L,EAAK4L,SAC5Gte,KAAK29B,QAAUjrB,EAAKirB,SAAWj4B,EAAMi4B,SAAW,EAChD39B,KAAKuhG,MAAQ7uF,EAAK6uF,OAAS77F,EAAM67F,MACjCvhG,KAAKypC,cAAgB/2B,EAAK+2B,eAAiB/jC,EAAM+jC,eAAiB,MAClEzpC,KAAK8pL,mBAAqBp3K,EAAKo3K,oBAAsBpkL,EAAMokL,qBAAsB,EAIjF9pL,KAAK+pL,eAAiBr3K,EAAKq3K,gBAAkBrkL,EAAMqkL,gBAAkB,EACtE,CAGInhK,aACH,OAAO5oB,KAAK,GAAW4oB,MACxB,CAGIF,UACH,OAAO,IAAA3W,QAAU/R,KAAK,GAAWghJ,UAClC,CAGIr6H,cACH,OAAO3mB,KAAK,GAAW2mB,OACxB,CAEIijK,eACH,OAAO5pL,KAAK,GAAW4pL,QACxB,CAGI19H,aACH,OAAOlsD,KAAK,GAAWksD,MACxB,CAGIw9H,eACH,MAAiC,gBAA7B1pL,KAAK,GAAW0pL,SACZ,GAGyB,WAA7B1pL,KAAK,GAAW0pL,SACZ,eAGJ1pL,KAAK,GAAW0pL,SACZ1pL,KAAK,GAAW0pL,SAAS32K,gBADjC,CAKD,CAEIg3K,qBACH,OAAO/pL,KAAK,GAAW+pL,cACxB,CAEIA,mBAAeA,GAClB/pL,KAAK,GAAW+pL,eD9GX,SAAgCA,GACtC,IAAKb,EAAejjK,IAAI8jK,GACvB,MAAM,IAAIv+K,UAAU,2BAA2Bu+K,KAGhD,OAAOA,CACR,CCwGmCC,CAAuBD,EACzD,CAOAhC,QACC,OAAO,IAAIh7B,EAAQ/sJ,KACpB,CAEY2iF,IAAPzqE,OAAOyqE,eACX,MAAO,SACR,EAGDhoF,OAAO+nF,iBAAiBqqE,EAAQ/zI,UAAW,CAC1C4P,OAAQ,CAACtW,YAAY,GACrBoW,IAAK,CAACpW,YAAY,GAClBqU,QAAS,CAACrU,YAAY,GACtBs3K,SAAU,CAACt3K,YAAY,GACvBy1K,MAAO,CAACz1K,YAAY,GACpB45C,OAAQ,CAAC55C,YAAY,GACrBo3K,SAAU,CAACp3K,YAAY,GACvBy3K,eAAgB,CAACz3K,YAAY,KASvB,MAAM23K,EAAwBv8J,IACpC,MAAM,UAACszH,GAAatzH,EAAQ,GACtB/G,EAAU,IAAI4hK,EAAQ76J,EAAQ,GAAW/G,SAG1CA,EAAQV,IAAI,WAChBU,EAAQlU,IAAI,SAAU,OAIvB,IAAIy3K,EAAqB,KAKzB,GAJqB,OAAjBx8J,EAAQ/F,MAAiB,gBAAgBtU,KAAKqa,EAAQ9E,UACzDshK,EAAqB,KAGD,OAAjBx8J,EAAQ/F,KAAe,CAC1B,MAAMwiK,EPiHqBz8J,KAC5B,MAAM,KAAC/F,GAAQ+F,EAAQq5J,GAGvB,OAAa,OAATp/J,EACI,EAIJg/J,EAAOh/J,GACHA,EAAKa,KAIT,EAAAxR,OAAOQ,SAASmQ,GACZA,EAAKvhB,OAITuhB,GAAsC,mBAAvBA,EAAKyiK,eAChBziK,EAAK0iK,gBAAkB1iK,EAAK0iK,iBAAmB1iK,EAAKyiK,gBAIrD,IAAI,EOzISE,CAAc58J,GAEP,iBAAfy8J,GAA4BhuL,OAAOo8E,MAAM4xG,KACnDD,EAAqBnrJ,OAAOorJ,GAE9B,CAEID,GACHvjK,EAAQlU,IAAI,iBAAkBy3K,GAMA,KAA3Bx8J,EAAQq8J,iBACXr8J,EAAQq8J,eDtL6B,mCC4LlCr8J,EAAQg8J,UAAiC,gBAArBh8J,EAAQg8J,SAC/Bh8J,EAAQ,GAAWg8J,SDxEd,SAAmCh8J,GAAS,oBAAC68J,EAAmB,uBAAEC,GAA0B,CAAC,GAMnG,GAAyB,gBAArB98J,EAAQg8J,UAAyD,KAA3Bh8J,EAAQq8J,eACjD,OAAO,KAIR,MAAMU,EAAS/8J,EAAQq8J,eAMvB,GAAyB,iBAArBr8J,EAAQg8J,SACX,MAAO,cAIR,MAAMgB,EAAiBh9J,EAAQg8J,SAG/B,IAAIiB,EAAc3B,EAA0B0B,GAIxCE,EAAiB5B,EAA0B0B,GAAgB,GAI3DC,EAAY53K,WAAW3M,OAAS,OACnCukL,EAAcC,GAOXL,IACHI,EAAcJ,EAAoBI,IAG/BH,IACHI,EAAiBJ,EAAuBI,IAIzC,MAAMC,EAAa,IAAI5gK,IAAIyD,EAAQhF,KAEnC,OAAQ+hK,GACP,IAAK,cACJ,MAAO,cAER,IAAK,SACJ,OAAOG,EAER,IAAK,aACJ,OAAOD,EAER,IAAK,gBAGJ,OAAIxB,EAA4BwB,KAAiBxB,EAA4B0B,GACrE,cAIDD,EAAe73K,WAEvB,IAAK,kCAGJ,OAAI43K,EAAY3hK,SAAW6hK,EAAW7hK,OAC9B2hK,EAKJxB,EAA4BwB,KAAiBxB,EAA4B0B,GACrE,cAIDD,EAER,IAAK,cAGJ,OAAID,EAAY3hK,SAAW6hK,EAAW7hK,OAC9B2hK,EAID,cAER,IAAK,2BAGJ,OAAIA,EAAY3hK,SAAW6hK,EAAW7hK,OAC9B2hK,EAIDC,EAER,IAAK,6BAGJ,OAAIzB,EAA4BwB,KAAiBxB,EAA4B0B,GACrE,cAIDF,EAER,QACC,MAAM,IAAIn/K,UAAU,2BAA2Bi/K,KAElD,CCjDgCK,CAA0Bp9J,GAExDA,EAAQ,GAAWg8J,SAAW,cAM3Bh8J,EAAQ,GAAWg8J,oBAAoBz/J,KAC1CtD,EAAQlU,IAAI,UAAWib,EAAQg8J,UAI3B/iK,EAAQV,IAAI,eAChBU,EAAQlU,IAAI,aAAc,cAIvBib,EAAQpP,WAAaqI,EAAQV,IAAI,oBACpCU,EAAQlU,IAAI,kBAAmB,qBAGhC,IAAI,MAAC8uF,GAAS7zE,EACO,mBAAV6zE,IACVA,EAAQA,EAAMy/C,IAMf,MAAMhzH,ECrSkBgzH,KACxB,GAAIA,EAAUhzH,OACb,OAAOgzH,EAAUhzH,OAGlB,MAAM+8J,EAAa/pC,EAAU7zH,KAAK/mB,OAAS,EACrCoN,EAAOwtI,EAAUxtI,OAAwC,MAA/BwtI,EAAU7zH,KAAK49J,GAAsB,IAAM,IAC3E,MAAoD,MAA7C/pC,EAAU7zH,KAAK49J,EAAav3K,EAAKpN,QAAkB,IAAM,EAAE,ED8RnD4kL,CAAUhqC,GAczB,MAAO,CAENA,YACAr7I,QAbe,CAEf1I,KAAM+jJ,EAAUzzH,SAAWS,EAE3BpF,OAAQ8E,EAAQ9E,OAChBjC,QAASA,EAAQzO,OAAO4sB,IAAI,iCAC5BglJ,mBAAoBp8J,EAAQo8J,mBAC5BvoF,SAOA,EElTK,MAAMq2B,UAAmBuuD,EAC/BrmL,YAAYoR,EAASlK,EAAO,WAC3BxE,MAAM0O,EAASlK,EAChB,gBC8BD,MAAMikL,EAAmB,IAAItmL,IAAI,CAAC,QAAS,QAAS,WASrChI,eAAeovD,EAAMrjC,EAAKwiK,GACxC,OAAO,IAAIl1K,SAAQ,CAAC4hB,EAASwB,KAE5B,MAAM1L,EAAU,IAAIq/H,EAAQrkI,EAAKwiK,IAC3B,UAAClqC,EAAS,QAAEr7I,GAAWskL,EAAsBv8J,GACnD,IAAKu9J,EAAiBhlK,IAAI+6H,EAAUh7H,UACnC,MAAM,IAAIxa,UAAU,0BAA0Bkd,kBAAoBs4H,EAAUh7H,SAASpX,QAAQ,KAAM,0BAGpG,GAA2B,UAAvBoyI,EAAUh7H,SAAsB,CACnC,MAAM1O,EAAO,EAAgBoW,EAAQhF,KAC/BxK,EAAW,IAAI0qK,EAAStxK,EAAM,CAACqP,QAAS,CAAC,eAAgBrP,EAAK4uK,YAEpE,YADAtuJ,EAAQ1Z,EAET,CAGA,MAAM2F,GAA+B,WAAvBm9H,EAAUh7H,SAAwB,EAAQ,GAAM0H,SACxD,OAACw+B,GAAUx+B,EACjB,IAAIxP,EAAW,KAEf,MAAM6Q,EAAQ,KACb,MAAMxvB,EAAQ,IAAIq4H,EAAW,8BAC7Bx+F,EAAO75B,GACHmuB,EAAQ/F,MAAQ+F,EAAQ/F,gBAAgB,YAC3C+F,EAAQ/F,KAAK3lB,QAAQzC,GAGjB2e,GAAaA,EAASyJ,MAI3BzJ,EAASyJ,KAAKzlB,KAAK,QAAS3C,EAAM,EAGnC,GAAI2sD,GAAUA,EAAOlH,QAEpB,YADAj2B,IAID,MAAMo8J,EAAmB,KACxBp8J,IACAymE,GAAU,EAIL41F,EAAWvnK,EAAKm9H,EAAUjuI,WAAYpN,GAExCumD,GACHA,EAAO1yC,iBAAiB,QAAS2xK,GAGlC,MAAM31F,EAAW,KAChB41F,EAASr8J,QACLm9B,GACHA,EAAOhyC,oBAAoB,QAASixK,EACrC,EAGDC,EAAS9nL,GAAG,SAAS/D,IACpB65B,EAAO,IAAIgtJ,EAAW,cAAc14J,EAAQhF,uBAAuBnpB,EAAM2R,UAAW,SAAU3R,IAC9Fi2F,GAAU,IAyQb,SAA6C9nE,EAAS29J,GACrD,MAAMC,EAAa,EAAAt0K,OAAOU,KAAK,aAE/B,IAEI6zK,EAFAC,GAAoB,EACpBC,GAA0B,EAG9B/9J,EAAQpqB,GAAG,YAAY4a,IACtB,MAAM,QAACyI,GAAWzI,EAClBstK,EAAqD,YAAjC7kK,EAAQ,uBAAuCA,EAAQ,iBAAiB,IAG7F+G,EAAQpqB,GAAG,UAAUif,IACpB,MAAMmpK,EAAgB,KACrB,GAAIF,IAAsBC,EAAyB,CAClD,MAAMlsL,EAAQ,IAAItD,MAAM,mBACxBsD,EAAM2Z,KAAO,6BAtR+B3Z,KACzC2e,GAAYA,EAASyJ,MACxBzJ,EAASyJ,KAAK3lB,QAAQzC,EACvB,EAoRC8rL,CAAc9rL,EACf,GAGKysJ,EAAS71I,IACds1K,EAAwE,IAA9C,EAAAz0K,OAAO8kC,QAAQ3lC,EAAIzJ,OAAO,GAAI4+K,IAGnDG,GAA2BF,IAC/BE,EACqE,IAApE,EAAAz0K,OAAO8kC,QAAQyvI,EAAc7+K,OAAO,GAAI4+K,EAAW5+K,MAAM,EAAG,KACL,IAAvD,EAAAsK,OAAO8kC,QAAQ3lC,EAAIzJ,OAAO,GAAI4+K,EAAW5+K,MAAM,KAIjD6+K,EAAgBp1K,CAAG,EAGpBoM,EAAOopK,gBAAgB,QAASD,GAChCnpK,EAAOjf,GAAG,OAAQ0oJ,GAElBt+H,EAAQpqB,GAAG,SAAS,KACnBif,EAAOpI,eAAe,QAASuxK,GAC/BnpK,EAAOpI,eAAe,OAAQ6xI,EAAO,GACpC,GAEJ,CAjTE4/B,CAAoCR,GAOhCvvL,QAAQ8sB,QAAU,OAGrByiK,EAAS9nL,GAAG,UAAU+nC,IACrB,IAAIwgJ,EACJxgJ,EAAEsgJ,gBAAgB,OAAO,KACxBE,EAAuBxgJ,EAAEygJ,YAAY,IAEtCzgJ,EAAEsgJ,gBAAgB,SAASI,IAE1B,GAAI7tK,GAAY2tK,EAAuBxgJ,EAAEygJ,eAAiBC,EAAU,CACnE,MAAMxsL,EAAQ,IAAItD,MAAM,mBACxBsD,EAAM2Z,KAAO,6BACbgF,EAASyJ,KAAKzlB,KAAK,QAAS3C,EAC7B,IACC,IAIJ6rL,EAAS9nL,GAAG,YAAY0oL,IACvBZ,EAASt/J,WAAW,GACpB,MAAMnF,ETyGF,SAAwBA,EAAU,IACxC,OAAO,IAAI4hK,EACV5hK,EAEEtf,QAAO,CAAC7H,EAAQ1E,EAAOmR,EAAOukB,KAC1BvkB,EAAQ,GAAM,GACjBzM,EAAOmC,KAAK6uB,EAAM9jB,MAAMT,EAAOA,EAAQ,IAGjCzM,IACL,IACF8E,QAAO,EAAEjG,EAAMvD,MACf,IAGC,OAFAutL,EAAmBhqL,GACnBiqL,EAAoBjqL,EAAM0gC,OAAOjkC,KAC1B,CACR,CAAE,MACD,OAAO,CACR,KAIJ,CS/HmBmxL,CAAeD,EAAUE,YAGzC,GAAIvD,EAAWqD,EAAUxsK,YAAa,CAErC,MAAMqP,EAAWlI,EAAQnU,IAAI,YAG7B,IAAI25K,EAAc,KAClB,IACCA,EAA2B,OAAbt9J,EAAoB,KAAO,IAAI5E,IAAI4E,EAAUnB,EAAQhF,IACpE,CAAE,MAID,GAAyB,WAArBgF,EAAQk8J,SAGX,OAFAxwJ,EAAO,IAAIgtJ,EAAW,wDAAwDv3J,IAAY,0BAC1F2mE,GAGF,CAGA,OAAQ9nE,EAAQk8J,UACf,IAAK,QAGJ,OAFAxwJ,EAAO,IAAIgtJ,EAAW,0EAA0E14J,EAAQhF,MAAO,qBAC/G8sE,IAED,IAAK,SAEJ,MACD,IAAK,SAAU,CAEd,GAAoB,OAAhB22F,EACH,MAID,GAAIz+J,EAAQiQ,SAAWjQ,EAAQm8J,OAG9B,OAFAzwJ,EAAO,IAAIgtJ,EAAW,gCAAgC14J,EAAQhF,MAAO,sBACrE8sE,IAMD,MAAM42F,EAAiB,CACtBzlK,QAAS,IAAI4hK,EAAQ76J,EAAQ/G,SAC7BkjK,OAAQn8J,EAAQm8J,OAChBlsJ,QAASjQ,EAAQiQ,QAAU,EAC3B4jE,MAAO7zE,EAAQ6zE,MACfjjF,SAAUoP,EAAQpP,SAClBsK,OAAQ8E,EAAQ9E,OAChBjB,KAAMogK,EAAMr6J,GACZw+B,OAAQx+B,EAAQw+B,OAChB1jC,KAAMkF,EAAQlF,KACdkhK,SAAUh8J,EAAQg8J,SAClBK,eAAgBr8J,EAAQq8J,gBAYzB,IAAKnD,EAAoBl5J,EAAQhF,IAAKyjK,KAAiBtF,EAAen5J,EAAQhF,IAAKyjK,GAClF,IAAK,MAAM9tL,IAAQ,CAAC,gBAAiB,mBAAoB,SAAU,WAClE+tL,EAAezlK,QAAQiD,OAAOvrB,GAKhC,GAA6B,MAAzB2tL,EAAUxsK,YAAsBkO,EAAQ/F,MAAQujK,EAASvjK,gBAAgB,WAG5E,OAFAyR,EAAO,IAAIgtJ,EAAW,2DAA4D,8BAClF5wF,IAK4B,MAAzBw2F,EAAUxsK,aAAiD,MAAzBwsK,EAAUxsK,YAA+C,MAAzBwsK,EAAUxsK,YAA0C,SAAnBkO,EAAQ9E,UAC9GwjK,EAAexjK,OAAS,MACxBwjK,EAAezkK,UAAOlsB,EACtB2wL,EAAezlK,QAAQiD,OAAO,mBAI/B,MAAMyiK,EJ0FL,SAAuC1lK,GAG7C,MAAM2lK,GAAgB3lK,EAAQnU,IAAI,oBAAsB,IAAIxW,MAAM,UAGlE,IAAIyuL,EAAS,GAMb,IAAK,MAAMpvK,KAASixK,EACfjxK,GAAS6tK,EAAejjK,IAAI5K,KAC/BovK,EAASpvK,GAKX,OAAOovK,CACR,CI9GqC8B,CAA8B5lK,GAQ7D,OAPI0lK,IACHD,EAAerC,eAAiBsC,GAIjCz0J,EAAQm0B,EAAM,IAAIghG,EAAQo/B,EAAaC,UACvC52F,GAED,CAEA,QACC,OAAOp8D,EAAO,IAAI5tB,UAAU,oBAAoBkiB,EAAQk8J,sDAE3D,CAGI19H,GACH8/H,EAAUzoL,KAAK,OAAO,KACrB2oD,EAAOhyC,oBAAoB,QAASixK,EAAiB,IAIvD,IAAIxjK,GAAO,cAAKqkK,EAAW,IAAI,EAAApyJ,aAAer6B,IACzCA,GACH65B,EAAO75B,EACR,IAIG1D,QAAQ8sB,QAAU,UACrBqjK,EAAU1oL,GAAG,UAAW6nL,GAGzB,MAAMqB,EAAkB,CACvB9jK,IAAKgF,EAAQhF,IACb61B,OAAQytI,EAAUxsK,WAClBkhF,WAAYsrF,EAAUS,cACtB9lK,UACA6B,KAAMkF,EAAQlF,KACdmV,QAASjQ,EAAQiQ,QACjB8L,cAAe/b,EAAQ+b,eAIlBijJ,EAAU/lK,EAAQnU,IAAI,oBAU5B,IAAKkb,EAAQpP,UAA+B,SAAnBoP,EAAQ9E,QAAiC,OAAZ8jK,GAA6C,MAAzBV,EAAUxsK,YAA+C,MAAzBwsK,EAAUxsK,WAGnH,OAFAtB,EAAW,IAAI0qK,EAASjhK,EAAM6kK,QAC9B50J,EAAQ1Z,GAST,MAAMyuK,EAAc,CACnB9tK,MAAO,eACP+tK,YAAa,gBAId,GAAgB,SAAZF,GAAkC,WAAZA,EAQzB,OAPA/kK,GAAO,cAAKA,EAAM,eAAkBglK,IAAcptL,IAC7CA,GACH65B,EAAO75B,EACR,IAED2e,EAAW,IAAI0qK,EAASjhK,EAAM6kK,QAC9B50J,EAAQ1Z,GAKT,GAAgB,YAAZwuK,GAAqC,cAAZA,EAAyB,CAGrD,MAAM/9E,GAAM,cAAKq9E,EAAW,IAAI,EAAApyJ,aAAer6B,IAC1CA,GACH65B,EAAO75B,EACR,IA6BD,OA3BAovG,EAAIprG,KAAK,QAAQ8Y,IAGfsL,EADyB,IAAV,GAAXtL,EAAM,KACH,cAAKsL,EAAM,mBAAsBpoB,IACnCA,GACH65B,EAAO75B,EACR,KAGM,cAAKooB,EAAM,sBAAyBpoB,IACtCA,GACH65B,EAAO75B,EACR,IAIF2e,EAAW,IAAI0qK,EAASjhK,EAAM6kK,GAC9B50J,EAAQ1Z,EAAS,SAElBywF,EAAIprG,KAAK,OAAO,KAGV2a,IACJA,EAAW,IAAI0qK,EAASjhK,EAAM6kK,GAC9B50J,EAAQ1Z,GACT,GAGF,CAGA,GAAgB,OAAZwuK,EAQH,OAPA/kK,GAAO,cAAKA,EAAM,4BAA+BpoB,IAC5CA,GACH65B,EAAO75B,EACR,IAED2e,EAAW,IAAI0qK,EAASjhK,EAAM6kK,QAC9B50J,EAAQ1Z,GAKTA,EAAW,IAAI0qK,EAASjhK,EAAM6kK,GAC9B50J,EAAQ1Z,EAAS,IAIlBkqK,EAAcgD,EAAU19J,GAASsM,MAAMZ,EAAO,GAEhD,+BC7WO,SAAS2vH,EAAQt0I,GACtB,GAAIA,EAAK,OAWX,SAAeA,GACb,IAAK,IAAIlB,KAAOw1I,EAAQ/vI,UACtBvE,EAAIlB,GAAOw1I,EAAQ/vI,UAAUzF,GAE/B,OAAOkB,CACT,CAhBkBkyI,CAAMlyI,EACxB,+BA0BAs0I,EAAQ/vI,UAAU1V,GAClBylJ,EAAQ/vI,UAAUQ,iBAAmB,SAASM,EAAOmpB,GAInD,OAHAjjC,KAAK6sL,WAAa7sL,KAAK6sL,YAAc,CAAC,GACrC7sL,KAAK6sL,WAAW,IAAM/yK,GAAS9Z,KAAK6sL,WAAW,IAAM/yK,IAAU,IAC7DnY,KAAKshC,GACDjjC,IACT,EAYA+oJ,EAAQ/vI,UAAUzV,KAAO,SAASuW,EAAOmpB,GACvC,SAAS3/B,IACPtD,KAAKi/H,IAAInlH,EAAOxW,GAChB2/B,EAAG9wB,MAAMnS,KAAM0E,UACjB,CAIA,OAFApB,EAAG2/B,GAAKA,EACRjjC,KAAKsD,GAAGwW,EAAOxW,GACRtD,IACT,EAYA+oJ,EAAQ/vI,UAAUimH,IAClB8pB,EAAQ/vI,UAAUmB,eAClB4uI,EAAQ/vI,UAAUoT,mBAClB28H,EAAQ/vI,UAAUkB,oBAAsB,SAASJ,EAAOmpB,GAItD,GAHAjjC,KAAK6sL,WAAa7sL,KAAK6sL,YAAc,CAAC,EAGlC,GAAKnoL,UAAU0B,OAEjB,OADApG,KAAK6sL,WAAa,CAAC,EACZ7sL,KAIT,IAUI+gB,EAVA+rK,EAAY9sL,KAAK6sL,WAAW,IAAM/yK,GACtC,IAAKgzK,EAAW,OAAO9sL,KAGvB,GAAI,GAAK0E,UAAU0B,OAEjB,cADOpG,KAAK6sL,WAAW,IAAM/yK,GACtB9Z,KAKT,IAAK,IAAIuL,EAAI,EAAGA,EAAIuhL,EAAU1mL,OAAQmF,IAEpC,IADAwV,EAAK+rK,EAAUvhL,MACJ03B,GAAMliB,EAAGkiB,KAAOA,EAAI,CAC7B6pJ,EAAU9/K,OAAOzB,EAAG,GACpB,KACF,CASF,OAJyB,IAArBuhL,EAAU1mL,eACLpG,KAAK6sL,WAAW,IAAM/yK,GAGxB9Z,IACT,EAUA+oJ,EAAQ/vI,UAAU9W,KAAO,SAAS4X,GAChC9Z,KAAK6sL,WAAa7sL,KAAK6sL,YAAc,CAAC,EAKtC,IAHA,IAAIzlL,EAAO,IAAIvB,MAAMnB,UAAU0B,OAAS,GACpC0mL,EAAY9sL,KAAK6sL,WAAW,IAAM/yK,GAE7BvO,EAAI,EAAGA,EAAI7G,UAAU0B,OAAQmF,IACpCnE,EAAKmE,EAAI,GAAK7G,UAAU6G,GAG1B,GAAIuhL,EAEG,CAAIvhL,EAAI,EAAb,IAAK,IAAW6H,GADhB05K,EAAYA,EAAUpgL,MAAM,IACItG,OAAQmF,EAAI6H,IAAO7H,EACjDuhL,EAAUvhL,GAAG4G,MAAMnS,KAAMoH,EADKhB,CAKlC,OAAOpG,IACT,EAGA+oJ,EAAQ/vI,UAAUsxI,aAAevB,EAAQ/vI,UAAU9W,KAUnD6mJ,EAAQ/vI,UAAUW,UAAY,SAASG,GAErC,OADA9Z,KAAK6sL,WAAa7sL,KAAK6sL,YAAc,CAAC,EAC/B7sL,KAAK6sL,WAAW,IAAM/yK,IAAU,EACzC,EAUAivI,EAAQ/vI,UAAU+zK,aAAe,SAASjzK,GACxC,QAAU9Z,KAAK2Z,UAAUG,GAAO1T,MAClC,8DCtKA,MA8CA,EA9Cc,cAAmB,IAC/B,GAAgB,EAChB,GAAQ,GAORtG,YAAaktL,EAAUzrJ,EAAU57B,EAAU,CAAC,GAC1C,GAAIjB,UAAU0B,OAAS,EACrB,MAAM,IAAIoF,UAAU,8DAA8D9G,UAAU0B,mBAE9F5D,MAAMwqL,EAAUrnL,GAEA,OAAZA,IAAkBA,EAAU,CAAC,GAGjC,MAAMsnL,OAAwCxxL,IAAzBkK,EAAQsnL,aAA6Bt7K,KAAK2iD,MAAQn4D,OAAOwJ,EAAQsnL,cACjF9wL,OAAOo8E,MAAM00G,KAChBjtL,MAAK,EAAgBitL,GAGvBjtL,MAAK,EAAQ++B,OAAOwC,EACtB,CAEIljC,WACF,OAAO2B,MAAK,CACd,CAEIitL,mBACF,OAAOjtL,MAAK,CACd,CAEY2iF,IAAPzqE,OAAOyqE,eACV,MAAO,MACT,CAEA7/D,OAAQ5K,OAAO4/G,aAAc3sB,GAC3B,QAASA,GAAUA,aAAkB,KACnC,WAAW93F,KAAK83F,EAAOjzF,OAAOyqE,aAClC,mGC3CF,MAAM,EAA+BokE,QAAQ,WCAvC,EAA+BA,QAAQ,+CCO7C,MAAM,KAAE5rJ,GAAS,WAMX+xL,EAAe,CAACjwL,EAAM+J,IAASmmL,GAAS,IAAA9xL,UAAS4B,GAAOA,EAAM+J,GAO9DomL,EAAW,CAACnwL,EAAM+J,IAAS7L,EAAK8B,GAAM88B,MAAK5+B,GAAQgyL,EAAShyL,EAAM8B,EAAM+J,KAOxEqmL,EAAW,CAACpwL,EAAM+J,IAAS7L,EAAK8B,GAAM88B,MAAK5+B,GAAQmyL,EAASnyL,EAAM8B,EAAM+J,KAMxEumL,EAAe,CAACtwL,EAAM+J,IAASsmL,GAAS,IAAAjyL,UAAS4B,GAAOA,EAAM+J,GAG9DmmL,EAAW,CAAChyL,EAAM8B,EAAM+J,EAAO,KAAO,IAAI,IAAK,CAAC,IAAIwmL,EAAa,CACrEvwL,OACAurB,KAAMrtB,EAAKqtB,KACXykK,aAAc9xL,EAAKsyL,QACnBtyK,MAAO,KACJ,CAAEnU,SAGDsmL,EAAW,CAACnyL,EAAM8B,EAAM+J,EAAO,KAAO,IAAI,IAAK,CAAC,IAAIwmL,EAAa,CACrEvwL,OACAurB,KAAMrtB,EAAKqtB,KACXykK,aAAc9xL,EAAKsyL,QACnBtyK,MAAO,MACJ,IAAA+gB,UAASj/B,GAAO,CAAE+J,OAAMimL,aAAc9xL,EAAKsyL,UAShD,MAAMD,EACJ,GACA,GAEA1tL,YAAa6F,GACX3F,MAAK,EAAQ2F,EAAQ1I,KACrB+C,MAAK,EAAS2F,EAAQwV,MACtBnb,KAAKwoB,KAAO7iB,EAAQ6iB,KACpBxoB,KAAKitL,aAAetnL,EAAQsnL,YAC9B,CAMAvgL,MAAOyO,EAAOC,GACZ,OAAO,IAAIoyK,EAAa,CACtBvwL,KAAM+C,MAAK,EACXitL,aAAcjtL,KAAKitL,aACnBzkK,KAAMpN,EAAMD,EACZA,MAAOnb,MAAK,EAASmb,GAEzB,CAEAxe,eACE,MAAM,QAAE8wL,SAAkBtyL,EAAK6E,MAAK,GACpC,GAAIytL,EAAUztL,KAAKitL,aACjB,MAAM,IAAI,EAAa,0IAA2I,2BAE5J,IAAAS,kBAAiB1tL,MAAK,EAAO,CACnCmb,MAAOnb,MAAK,EACZob,IAAKpb,MAAK,EAASA,KAAKwoB,KAAO,GAEnC,CAEYm6D,IAAPzqE,OAAOyqE,eACV,MAAO,MACT,gCCpFFhmF,eAAiBgxL,EAAYr/J,EAAOy5J,GAAQ,GAC1C,IAAK,MAAMnxJ,KAAQtI,EACjB,GAAI,WAAYsI,QAC6CA,EAAKrS,cAC3D,GAAI9M,YAAYE,OAAOif,GAC5B,GAAImxJ,EAAO,CACT,IAAI5jJ,EAAWvN,EAAKxf,WACpB,MAAMgE,EAAMwb,EAAKxf,WAAawf,EAAKzf,WACnC,KAAOgtB,IAAa/oB,GAAK,CACvB,MAAMoN,EAAO5c,KAAKC,IAAIuP,EAAM+oB,EAZpB,OAaF9nB,EAAQua,EAAK3oB,OAAOvB,MAAMy3B,EAAUA,EAAW3b,GACrD2b,GAAY9nB,EAAMlF,iBACZ,IAAIgK,WAAW9E,EACvB,CACF,YACQua,MAGH,CAEL,IAAIuN,EAAW,EAAGzkC,EAAI,EACtB,KAAOykC,IAAazkC,EAAE8oB,MAAM,CAC1B,MAAMnM,EAAQ3c,EAAEgN,MAAMy3B,EAAUv4B,KAAKC,IAAInM,EAAE8oB,KAAM2b,EAzBvC,QA0BJl2B,QAAeoO,EAAM42I,cAC3B9uH,GAAYl2B,EAAOkJ,iBACb,IAAIgK,WAAWlT,EACvB,CACF,CAEJ,0BAEA,MAAM2/K,EAAQ,MAAM96B,EAElB,GAAS,GACT,GAAQ,GACR,GAAQ,EACR,GAAW,cAUXhzJ,YAAa+tL,EAAY,GAAIloL,EAAU,CAAC,GACtC,GAAyB,iBAAdkoL,GAAwC,OAAdA,EACnC,MAAM,IAAIriL,UAAU,qFAGtB,GAA0C,mBAA/BqiL,EAAU31K,OAAOwjE,UAC1B,MAAM,IAAIlwE,UAAU,oFAGtB,GAAuB,iBAAZ7F,GAA2C,mBAAZA,EACxC,MAAM,IAAI6F,UAAU,yEAGN,OAAZ7F,IAAkBA,EAAU,CAAC,GAEjC,MAAMsmE,EAAU,IAAIzX,YACpB,IAAK,MAAMspB,KAAW+vG,EAAW,CAC/B,IAAIj3J,EAEFA,EADEnf,YAAYE,OAAOmmE,GACd,IAAI38D,WAAW28D,EAAQ7vE,OAAOvB,MAAMoxE,EAAQ1mE,WAAY0mE,EAAQ1mE,WAAa0mE,EAAQ3mE,aACnF2mE,aAAmBrmE,YACrB,IAAI0J,WAAW28D,EAAQpxE,MAAM,IAC3BoxE,aAAmBg1E,EACrBh1E,EAEA7R,EAAQxX,OAAO,GAAGqpB,KAG3B99E,MAAK,GAASyX,YAAYE,OAAOif,GAAQA,EAAKzf,WAAayf,EAAKpO,KAChExoB,MAAK,EAAO2B,KAAKi1B,EACnB,CAEA52B,MAAK,EAAW,QAAuBvE,IAApBkK,EAAQmoL,QAAwB,cAAgBnoL,EAAQmoL,UAC3E,MAAM9mL,OAAwBvL,IAAjBkK,EAAQqB,KAAqB,GAAK+3B,OAAOp5B,EAAQqB,MAC9DhH,MAAK,EAAQ,iBAAiBqT,KAAKrM,GAAQA,EAAO,EACpD,CAMIwhB,WACF,OAAOxoB,MAAK,CACd,CAKIgH,WACF,OAAOhH,MAAK,CACd,CASArD,aAGE,MAAMmvE,EAAU,IAAIC,YACpB,IAAI/2D,EAAM,GACV,UAAW,MAAM4hB,KAAQ+2J,EAAW3tL,MAAK,GAAQ,GAC/CgV,GAAO82D,EAAQE,OAAOp1C,EAAM,CAAErS,QAAQ,IAIxC,OADAvP,GAAO82D,EAAQE,SACRh3D,CACT,CASArY,oBAME,MAAM2a,EAAO,IAAI6J,WAAWnhB,KAAKwoB,MACjC,IAAIza,EAAS,EACb,UAAW,MAAMsO,KAASsxK,EAAW3tL,MAAK,GAAQ,GAChDsX,EAAK7E,IAAI4J,EAAOtO,GAChBA,GAAUsO,EAAMjW,OAGlB,OAAOkR,EAAKrJ,MACd,CAEAsW,SACE,MAAM6zG,EAAKu1D,EAAW3tL,MAAK,GAAQ,GAEnC,OAAO,IAAI+rC,WAAWwgB,eAAe,CAEnCvlD,KAAM,QACNrK,WAAYq2J,GACV,MAAM32I,QAAc+7G,EAAGzrH,OACvB0P,EAAMzd,KAAOo0J,EAAKvmJ,QAAUumJ,EAAKzvI,QAAQlH,EAAMvhB,MACjD,EAEA6B,qBACQy7H,EAAG/0C,QACX,GAEJ,CAWA32E,MAAOyO,EAAQ,EAAGC,EAAMpb,KAAKwoB,KAAMxhB,EAAO,IACxC,MAAM,KAAEwhB,GAASxoB,KAEjB,IAAI+tL,EAAgB5yK,EAAQ,EAAIvP,KAAKF,IAAI8c,EAAOrN,EAAO,GAAKvP,KAAKC,IAAIsP,EAAOqN,GACxEwlK,EAAc5yK,EAAM,EAAIxP,KAAKF,IAAI8c,EAAOpN,EAAK,GAAKxP,KAAKC,IAAIuP,EAAKoN,GAEpE,MAAMylK,EAAOriL,KAAKF,IAAIsiL,EAAcD,EAAe,GAC7Cz/J,EAAQtuB,MAAK,EACb6tL,EAAY,GAClB,IAAIK,EAAQ,EAEZ,IAAK,MAAMt3J,KAAQtI,EAAO,CAExB,GAAI4/J,GAASD,EACX,MAGF,MAAMzlK,EAAO/Q,YAAYE,OAAOif,GAAQA,EAAKzf,WAAayf,EAAKpO,KAC/D,GAAIulK,GAAiBvlK,GAAQulK,EAG3BA,GAAiBvlK,EACjBwlK,GAAexlK,MACV,CACL,IAAInM,EACA5E,YAAYE,OAAOif,IACrBva,EAAQua,EAAKu3J,SAASJ,EAAeniL,KAAKC,IAAI2c,EAAMwlK,IACpDE,GAAS7xK,EAAMlF,aAEfkF,EAAQua,EAAKlqB,MAAMqhL,EAAeniL,KAAKC,IAAI2c,EAAMwlK,IACjDE,GAAS7xK,EAAMmM,MAEjBwlK,GAAexlK,EACfqlK,EAAUlsL,KAAK0a,GACf0xK,EAAgB,CAClB,CACF,CAEA,MAAMh7B,EAAO,IAAID,EAAK,GAAI,CAAE9rJ,KAAM+3B,OAAO/3B,GAAM4I,gBAI/C,OAHAmjJ,GAAK,EAAQk7B,EACbl7B,GAAK,EAAS86B,EAEP96B,CACT,CAEYpwE,IAAPzqE,OAAOyqE,eACV,MAAO,MACT,CAEA7/D,OAAQ5K,OAAO4/G,aAAc3sB,GAC3B,OACEA,GACkB,iBAAXA,GACuB,mBAAvBA,EAAOrrG,cAEa,mBAAlBqrG,EAAO5mF,QACgB,mBAAvB4mF,EAAO8nD,cAEhB,gBAAgB5/I,KAAK83F,EAAOjzF,OAAOyqE,aAEvC,GAGFhoF,OAAO+nF,iBAAiBkrG,EAAM50K,UAAW,CACvCwP,KAAM,CAAElW,YAAY,GACpBtL,KAAM,CAAEsL,YAAY,GACpB5F,MAAO,CAAE4F,YAAY,KAIhB,MACP,EADoBs7K,mFCnPfjrG,YAAYxsC,EAAEulC,SAASnwE,EAAEusH,YAAYhxG,GAAG5O,OAC7C9I,EAAExD,KAAKihE,OACPvhC,EAAE,uEAAuEtvC,MAAM,KAC/E81D,EAAE,CAACryD,EAAEC,EAAE+O,KAAKhP,GAAG,GAAG,gBAAgB4T,KAAK3T,GAAKA,EAAEy2C,IAAI,EAAE1nC,OAAM,IAAJA,EAAWA,EAAE,GAAS,QAAN/O,EAAEy2C,GAAWz2C,EAAErB,KAAK,OAAOoB,GAAGC,EAAErB,OAAOoQ,GAAS,QAAN/O,EAAEy2C,GAAW,IAAI,IAAE,CAACz2C,GAAG+O,EAAE/O,GAAGA,GAAG,CAACD,EAAEC,EAAE,KACpJyO,EAAE,CAACM,EAAEqjD,KAAKA,EAAErjD,EAAEA,EAAEG,QAAQ,YAAY,SAASA,QAAQ,MAAM,OAAOA,QAAQ,MAAM,OAAOA,QAAQ,KAAK,OACpG+G,EAAE,CAACnI,EAAG/N,EAAG0O,KAAK,GAAG1O,EAAE2G,OAAO+H,EAAG,MAAM,IAAI3C,UAAU,sBAAsBgC,qBAAqBW,kCAAkC1O,EAAE2G,kBAAkB,EAE3I,MAGMgoL,EAAW,MACxB,GAAG,GACHtuL,eAAeL,GAAG,GAAGA,EAAE2G,OAAO,MAAM,IAAIoF,UAAU,gFAAgF,CAC7H2qC,SAAM,MAAO,UAAU,CAC5B,CAAC5qC,KAAK,OAAOvL,KAAK9B,SAAS,CAC3B4kB,OAAQgE,GAAGhS,GAAI,OAAOA,GAAc,iBAAJA,GAAqB,aAAPA,EAAEqhC,KAAkB7K,EAAElP,MAAKkP,GAAgB,mBAANx2B,EAAEw2B,IAAe,CACpG/gC,UAAU9K,GAAGkW,EAAE,SAASjR,UAAU,GAAG1E,MAAK,EAAG2B,KAAKmwD,KAAKryD,GAAG,CAC1DmqB,OAAOnqB,GAAGkW,EAAE,SAASjR,UAAU,GAAGjF,GAAG,GAAGO,MAAK,EAAGA,MAAK,EAAGsE,QAAO,EAAE5E,KAAKA,IAAID,GAAE,CAC5E+S,IAAI/S,GAAGkW,EAAE,MAAMjR,UAAU,GAAGjF,GAAG,GAAG,IAAI,IAAIC,EAAEM,MAAK,EAAGy/I,EAAE//I,EAAE0G,OAAOqI,EAAE,EAAEA,EAAEgxI,EAAEhxI,IAAI,GAAG/O,EAAE+O,GAAG,KAAKhP,EAAE,OAAOC,EAAE+O,GAAG,GAAG,OAAO,IAAI,CACpHi4K,OAAOjnL,EAAEC,GAAiF,OAA9EiW,EAAE,SAASjR,UAAU,GAAGhF,EAAE,GAAGD,GAAG,GAAGO,MAAK,EAAG8M,SAAQ2B,GAAGA,EAAE,KAAKhP,GAAGC,EAAEiC,KAAK8M,EAAE,MAAY/O,CAAC,CAClGumB,IAAIxmB,GAA8B,OAA3BkW,EAAE,MAAMjR,UAAU,GAAGjF,GAAG,GAAUO,MAAK,EAAGo8B,MAAK18B,GAAGA,EAAE,KAAKD,GAAE,CAClEqN,QAAQrN,EAAEC,GAA4B,IAAI,IAAK+O,EAAE88B,KAApC51B,EAAE,UAAUjR,UAAU,GAAmB1E,MAAKP,EAAEyS,KAAKxS,EAAE6rC,EAAE98B,EAAEzO,KAAK,CAC7EyS,OAAOhT,GAAGkW,EAAE,MAAMjR,UAAU,GAAG,IAAIhF,EAAE,GAAG+O,GAAE,EAAGhP,EAAEqyD,KAAKryD,GAAGO,MAAK,EAAG8M,SAAQy+B,IAAIA,EAAE,KAAK9rC,EAAE,GAAGgP,IAAIA,GAAG/O,EAAEiC,KAAKlC,IAAIC,EAAEiC,KAAK4pC,EAAC,IAAI98B,GAAG/O,EAAEiC,KAAKlC,GAAGO,MAAK,EAAGN,CAAC,CAC3I,iBAAiBM,MAAK,CAAE,CACxB,QAAQ,IAAI,IAAIP,KAAKO,WAAWP,CAAC,CACjC,UAAU,IAAI,IAAI,CAACA,KAAKO,WAAWP,CAAC,GAG7B,SAAS4uL,EAAgBlxG,EAAEmxG,EAAE,KACpC,IAAI5uL,EAAE,GAAG0P,MAAMA,MAAMR,QAAQ,MAAO,IAAIlC,OAAO,IAAIoyB,SAAS,GAAI,KAAKrwB,EAAE,GAAG3D,EAAE,KAAKpL,8CAKjF,OAJAy9E,EAAErwE,SAAQ,CAACkE,EAAExD,IAAc,iBAAHwD,EACvBvC,EAAE9M,KAAKmJ,EAAEqD,EAAEX,GAAG,YAAYwD,EAAEpC,QAAQ,sBAAuB,eAC3DH,EAAE9M,KAAKmJ,EAAEqD,EAAEX,GAAG,gBAAgBW,EAAE6C,EAAE3S,KAAM,wBAAwB2S,EAAEhK,MAAM,qCAAsCgK,EAAG,UAClHvC,EAAE9M,KAAK,KAAKjC,OACL,IAAI4uL,EAAE7/K,EAAE,CAACzH,KAAK,iCAAiCtH,GAAG,yLC7BzD,MAAMoC,EAAW,WAEXysL,EAASr2K,OAAO,UAChBs2K,EAAOt2K,OAAO,QAEpB,MAAM46I,EACLhzJ,cACCE,KAAKwuL,GAAQ,GAEb,MAAMX,EAAYnpL,UAAU,GACtBiB,EAAUjB,UAAU,GAEpBi2J,EAAU,GAChB,IAAInyI,EAAO,EAEX,GAAIqlK,EAAW,CACd,MAAMpuL,EAAIouL,EACJznL,EAASjK,OAAOsD,EAAE2G,QACxB,IAAK,IAAImF,EAAI,EAAGA,EAAInF,EAAQmF,IAAK,CAChC,MAAMuyE,EAAUr+E,EAAE8L,GAClB,IAAI0C,EAEHA,EADG6vE,aAAmB9mE,OACb8mE,EACCrmE,YAAYE,OAAOmmE,GACpB9mE,OAAOU,KAAKomE,EAAQ7vE,OAAQ6vE,EAAQ1mE,WAAY0mE,EAAQ3mE,YACvD2mE,aAAmBrmE,YACpBT,OAAOU,KAAKomE,GACXA,aAAmBg1E,EACpBh1E,EAAQywG,GAERv3K,OAAOU,KAAwB,iBAAZomE,EAAuBA,EAAU/+C,OAAO++C,IAErEt1D,GAAQva,EAAO7H,OACfu0J,EAAQh5J,KAAKsM,EACd,CACD,CAEAjO,KAAKuuL,GAAUv3K,OAAO5R,OAAOu1J,GAE7B,IAAI3zJ,EAAOrB,QAA4BlK,IAAjBkK,EAAQqB,MAAsB+3B,OAAOp5B,EAAQqB,MAAM4I,cACrE5I,IAAS,mBAAmBqM,KAAKrM,KACpChH,KAAKwuL,GAAQxnL,EAEf,CACIwhB,WACH,OAAOxoB,KAAKuuL,GAAQnoL,MACrB,CACIY,WACH,OAAOhH,KAAKwuL,EACb,CACA3tI,OACC,OAAO7qC,QAAQ4hB,QAAQ53B,KAAKuuL,GAAQx7K,WACrC,CACAkgJ,cACC,MAAM98I,EAAMnW,KAAKuuL,GACXpiJ,EAAKh2B,EAAIlI,OAAOvB,MAAMyJ,EAAIiB,WAAYjB,EAAIiB,WAAajB,EAAIgB,YACjE,OAAOnB,QAAQ4hB,QAAQuU,EACxB,CACA5nB,SACC,MAAM+E,EAAW,IAAIxnB,EAIrB,OAHAwnB,EAAS1D,MAAQ,WAAa,EAC9B0D,EAAS3nB,KAAK3B,KAAKuuL,IACnBjlK,EAAS3nB,KAAK,MACP2nB,CACR,CACAvW,WACC,MAAO,eACR,CACArG,QACC,MAAM8b,EAAOxoB,KAAKwoB,KAEZrN,EAAQzW,UAAU,GAClB0W,EAAM1W,UAAU,GACtB,IAAIqpL,EAAeC,EAElBD,OADatyL,IAAV0f,EACa,EACNA,EAAQ,EACFvP,KAAKF,IAAI8c,EAAOrN,EAAO,GAEvBvP,KAAKC,IAAIsP,EAAOqN,GAGhCwlK,OADWvyL,IAAR2f,EACWoN,EACJpN,EAAM,EACFxP,KAAKF,IAAI8c,EAAOpN,EAAK,GAErBxP,KAAKC,IAAIuP,EAAKoN,GAE7B,MAAMylK,EAAOriL,KAAKF,IAAIsiL,EAAcD,EAAe,GAG7CU,EADSzuL,KAAKuuL,GACQ7hL,MAAMqhL,EAAeA,EAAgBE,GAC3Dl7B,EAAO,IAAID,EAAK,GAAI,CAAE9rJ,KAAMtC,UAAU,KAE5C,OADAquJ,EAAKw7B,GAAUE,EACR17B,CACR,EA8BD,SAASqzB,EAAWl1K,EAASlK,EAAMq/K,GACjCpqL,MAAMiW,KAAKlS,KAAMkR,GAEjBlR,KAAKkR,QAAUA,EACflR,KAAKgH,KAAOA,EAGRq/K,IACFrmL,KAAKkZ,KAAOlZ,KAAKg2B,MAAQqwJ,EAAYntK,MAIvCjd,MAAMyjB,kBAAkB1f,KAAMA,KAAKF,YACrC,CAMA,IAAIsmC,EA9CJzrC,OAAO+nF,iBAAiBowE,EAAK95I,UAAW,CACvCwP,KAAM,CAAElW,YAAY,GACpBtL,KAAM,CAAEsL,YAAY,GACpB5F,MAAO,CAAE4F,YAAY,KAGtB3X,OAAOC,eAAek4J,EAAK95I,UAAWd,OAAOyqE,YAAa,CACzD7nF,MAAO,OACPyuB,UAAU,EACVjX,YAAY,EACZC,cAAc,IAgCf6zK,EAAWptK,UAAYre,OAAOqL,OAAO/J,MAAM+c,WAC3CotK,EAAWptK,UAAUlZ,YAAcsmL,EACnCA,EAAWptK,UAAU3a,KAAO,aAG5B,IACC+nC,EAAU2gH,QAAQ,YAAY3gH,OAC/B,CAAE,MAAOj4B,GAAI,CAEb,MAAM44K,EAAY7uK,OAAO,kBAGnB0hB,EAAc,cAWpB,SAASotJ,EAAKr/J,GACb,IAAI+mK,EAAQ1uL,KAER2uL,EAAOjqL,UAAU0B,OAAS,QAAsB3K,IAAjBiJ,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAC5EkqL,EAAYD,EAAKnmK,KAErB,IAAIA,OAAqB/sB,IAAdmzL,EAA0B,EAAIA,EACzC,IAAIC,EAAeF,EAAK1hK,QACxB,IAAIA,OAA2BxxB,IAAjBozL,EAA6B,EAAIA,EAEnC,MAARlnK,EAEHA,EAAO,KACGmnK,EAAkBnnK,GAE5BA,EAAO3Q,OAAOU,KAAKiQ,EAAK5U,YACd4zK,EAAOh/J,IAAkB3Q,OAAOQ,SAASmQ,KAA2D,yBAAzChtB,OAAOqe,UAAUjG,SAASb,KAAKyV,GAEpGA,EAAO3Q,OAAOU,KAAKiQ,GACTlQ,YAAYE,OAAOgQ,GAE7BA,EAAO3Q,OAAOU,KAAKiQ,EAAK1Z,OAAQ0Z,EAAKvQ,WAAYuQ,EAAKxQ,YAC5CwQ,aAAgB,IAG1BA,EAAO3Q,OAAOU,KAAKqnB,OAAOpX,MAE3B3nB,KAAK+mL,GAAa,CACjBp/J,OACAw/J,WAAW,EACX5nL,MAAO,MAERS,KAAKwoB,KAAOA,EACZxoB,KAAKitB,QAAUA,EAEXtF,aAAgB,GACnBA,EAAKrkB,GAAG,SAAS,SAAUoZ,GAC1B,MAAMnd,EAAqB,eAAbmd,EAAIre,KAAwBqe,EAAM,IAAI0pK,EAAW,+CAA+CsI,EAAMhmK,QAAQhM,EAAIxL,UAAW,SAAUwL,GACrJgyK,EAAM3H,GAAWxnL,MAAQA,CAC1B,GAEF,CAuHA,SAAS+nL,IACR,IAAIyH,EAAS/uL,KAEb,GAAIA,KAAK+mL,GAAWI,UACnB,OAAOH,EAAKhxK,QAAQojB,OAAO,IAAI5tB,UAAU,0BAA0BxL,KAAK0oB,QAKzE,GAFA1oB,KAAK+mL,GAAWI,WAAY,EAExBnnL,KAAK+mL,GAAWxnL,MACnB,OAAOynL,EAAKhxK,QAAQojB,OAAOp5B,KAAK+mL,GAAWxnL,OAG5C,IAAIooB,EAAO3nB,KAAK2nB,KAGhB,GAAa,OAATA,EACH,OAAOq/J,EAAKhxK,QAAQ4hB,QAAQ5gB,OAAOe,MAAM,IAS1C,GALI4uK,EAAOh/J,KACVA,EAAOA,EAAKpD,UAITvN,OAAOQ,SAASmQ,GACnB,OAAOq/J,EAAKhxK,QAAQ4hB,QAAQjQ,GAI7B,KAAMA,aAAgB,GACrB,OAAOq/J,EAAKhxK,QAAQ4hB,QAAQ5gB,OAAOe,MAAM,IAK1C,IAAI4vK,EAAQ,GACRC,EAAa,EACb74J,GAAQ,EAEZ,OAAO,IAAIi4J,EAAKhxK,SAAQ,SAAU4hB,EAASwB,GAC1C,IAAI41J,EAGAD,EAAO9hK,UACV+hK,EAAaljK,YAAW,WACvBiD,GAAQ,EACRqK,EAAO,IAAIgtJ,EAAW,0CAA0C2I,EAAOrmK,aAAaqmK,EAAO9hK,aAAc,gBAC1G,GAAG8hK,EAAO9hK,UAIXtF,EAAKrkB,GAAG,SAAS,SAAUoZ,GACT,eAAbA,EAAIre,MAEP0wB,GAAQ,EACRqK,EAAO1c,IAGP0c,EAAO,IAAIgtJ,EAAW,+CAA+C2I,EAAOrmK,QAAQhM,EAAIxL,UAAW,SAAUwL,GAE/G,IAEAiL,EAAKrkB,GAAG,QAAQ,SAAU+Y,GACzB,IAAI0S,GAAmB,OAAV1S,EAAb,CAIA,GAAI0yK,EAAOvmK,MAAQo/J,EAAavrK,EAAMjW,OAAS2oL,EAAOvmK,KAGrD,OAFAuG,GAAQ,OACRqK,EAAO,IAAIgtJ,EAAW,mBAAmB2I,EAAOrmK,mBAAmBqmK,EAAOvmK,OAAQ,aAInFo/J,GAAcvrK,EAAMjW,OACpBuhL,EAAMhmL,KAAK0a,EATX,CAUD,IAEAsL,EAAKrkB,GAAG,OAAO,WACd,IAAIyrB,EAAJ,CAIAS,aAAaw/J,GAEb,IACCp3J,EAAQ5gB,OAAO5R,OAAOuiL,EAAOC,GAC9B,CAAE,MAAOlrK,GAER0c,EAAO,IAAIgtJ,EAAW,kDAAkD2I,EAAOrmK,QAAQhM,EAAIxL,UAAW,SAAUwL,GACjH,CATA,CAUD,GACD,GACD,CA0EA,SAASoyK,EAAkBr6K,GAE1B,MAAmB,iBAARA,GAA0C,mBAAfA,EAAIlK,QAA+C,mBAAfkK,EAAImV,QAA4C,mBAAZnV,EAAIjC,KAA4C,mBAAfiC,EAAIiyK,QAA4C,mBAAZjyK,EAAIwR,KAAyC,mBAAZxR,EAAIhC,MAKxL,oBAAzBgC,EAAI3U,YAAYzB,MAAsE,6BAAxC1D,OAAOqe,UAAUjG,SAASb,KAAKuC,IAA2D,mBAAbA,EAAIurB,KACvI,CAOA,SAAS2mJ,EAAOlyK,GACf,MAAsB,iBAARA,GAA+C,mBAApBA,EAAIw+I,aAAkD,iBAAbx+I,EAAIzN,MAA2C,mBAAfyN,EAAI8P,QAAoD,mBAApB9P,EAAI3U,aAA8D,iBAAzB2U,EAAI3U,YAAYzB,MAAqB,gBAAgBgV,KAAKoB,EAAI3U,YAAYzB,OAAS,gBAAgBgV,KAAKoB,EAAIyD,OAAOyqE,aACnT,CAQA,SAASolG,EAAMC,GACd,IAAI7iJ,EAAIC,EACJzd,EAAOqgK,EAASrgK,KAGpB,GAAIqgK,EAASX,SACZ,MAAM,IAAIprL,MAAM,sCAgBjB,OAXI0rB,aAAgB,GAAsC,mBAArBA,EAAKsgK,cAEzC9iJ,EAAK,IAAIvL,EACTwL,EAAK,IAAIxL,EACTjS,EAAKic,KAAKuB,GACVxd,EAAKic,KAAKwB,GAEV4iJ,EAASjB,GAAWp/J,KAAOwd,EAC3Bxd,EAAOyd,GAGDzd,CACR,CAWA,SAASwgK,EAAmBxgK,GAC3B,OAAa,OAATA,EAEI,KACmB,iBAATA,EAEV,2BACGmnK,EAAkBnnK,GAErB,kDACGg/J,EAAOh/J,GAEVA,EAAK3gB,MAAQ,KACVgQ,OAAOQ,SAASmQ,IAGyB,yBAAzChtB,OAAOqe,UAAUjG,SAASb,KAAKyV,IAG/BlQ,YAAYE,OAAOgQ,GAJtB,KAO+B,mBAArBA,EAAKsgK,YAEf,gCAAgCtgK,EAAKsgK,gBAClCtgK,aAAgB,EAGnB,KAGA,0BAET,CAWA,SAAS2iK,EAActC,GACtB,MAAMrgK,EAAOqgK,EAASrgK,KAGtB,OAAa,OAATA,EAEI,EACGg/J,EAAOh/J,GACVA,EAAKa,KACFxR,OAAOQ,SAASmQ,GAEnBA,EAAKvhB,OACFuhB,GAAsC,mBAAvBA,EAAKyiK,gBAE1BziK,EAAKsnK,mBAAsD,GAAjCtnK,EAAKsnK,kBAAkB7oL,QACrDuhB,EAAK0iK,gBAAkB1iK,EAAK0iK,kBAEpB1iK,EAAKyiK,gBAKN,IAET,CA5ZApD,EAAKhuK,UAAY,CACZ2O,WACH,OAAO3nB,KAAK+mL,GAAWp/J,IACxB,EAEI0/J,eACH,OAAOrnL,KAAK+mL,GAAWI,SACxB,EAOAl0B,cACC,OAAOq0B,EAAYp1K,KAAKlS,MAAM+5B,MAAK,SAAU5jB,GAC5C,OAAOA,EAAIlI,OAAOvB,MAAMyJ,EAAIiB,WAAYjB,EAAIiB,WAAajB,EAAIgB,WAC9D,GACD,EAOA47I,OACC,IAAIw0B,EAAKvnL,KAAK2mB,SAAW3mB,KAAK2mB,QAAQnU,IAAI,iBAAmB,GAC7D,OAAO80K,EAAYp1K,KAAKlS,MAAM+5B,MAAK,SAAU5jB,GAC5C,OAAOxb,OAAOe,OAEd,IAAIo3J,EAAK,GAAI,CACZ9rJ,KAAMugL,EAAG33K,gBACN,CACH,CAAC2+K,GAASp4K,GAEZ,GACD,EAOAg2C,OACC,IAAI+iI,EAASlvL,KAEb,OAAOsnL,EAAYp1K,KAAKlS,MAAM+5B,MAAK,SAAU9rB,GAC5C,IACC,OAAOgD,KAAKzL,MAAMyI,EAAO8E,WAC1B,CAAE,MAAO2J,GACR,OAAOsqK,EAAKhxK,QAAQojB,OAAO,IAAIgtJ,EAAW,iCAAiC8I,EAAOxmK,eAAehM,EAAIxL,UAAW,gBACjH,CACD,GACD,EAOA2vC,OACC,OAAOymI,EAAYp1K,KAAKlS,MAAM+5B,MAAK,SAAU9rB,GAC5C,OAAOA,EAAO8E,UACf,GACD,EAOA9E,SACC,OAAOq5K,EAAYp1K,KAAKlS,KACzB,EAQAmvL,gBACC,IAAIC,EAASpvL,KAEb,OAAOsnL,EAAYp1K,KAAKlS,MAAM+5B,MAAK,SAAU9rB,GAC5C,OAwIH,SAAqBA,EAAQ0Y,GAC5B,GAAuB,mBAAZyf,EACV,MAAM,IAAInqC,MAAM,gFAGjB,MAAMsrL,EAAK5gK,EAAQnU,IAAI,gBACvB,IACIkV,EAAK1S,EADLixK,EAAU,QAgDd,OA5CIsB,IACH7/J,EAAM,mBAAmB4gB,KAAKi/I,IAI/BvyK,EAAM/G,EAAOvB,MAAM,EAAG,MAAMqG,YAGvB2U,GAAO1S,IACX0S,EAAM,iCAAiC4gB,KAAKtzB,KAIxC0S,GAAO1S,IACX0S,EAAM,yEAAyE4gB,KAAKtzB,GAC/E0S,IACJA,EAAM,yEAAyE4gB,KAAKtzB,GAChF0S,GACHA,EAAIzc,OAIFyc,IACHA,EAAM,gBAAgB4gB,KAAK5gB,EAAIzc,UAK5Byc,GAAO1S,IACX0S,EAAM,mCAAmC4gB,KAAKtzB,IAI3C0S,IACHu+J,EAAUv+J,EAAIzc,MAIE,WAAZg7K,GAAoC,QAAZA,IAC3BA,EAAU,YAKL7/I,EAAQn4B,EAAQ,QAASg4K,GAASlzK,UAC1C,CA/LUs8K,CAAYphL,EAAQmhL,EAAOzoK,QACnC,GACD,GAIDhsB,OAAO+nF,iBAAiBskG,EAAKhuK,UAAW,CACvC2O,KAAM,CAAErV,YAAY,GACpB+0K,SAAU,CAAE/0K,YAAY,GACxB2gJ,YAAa,CAAE3gJ,YAAY,GAC3BygJ,KAAM,CAAEzgJ,YAAY,GACpB65C,KAAM,CAAE75C,YAAY,GACpBuuC,KAAM,CAAEvuC,YAAY,KAGrB00K,EAAKsI,MAAQ,SAAUC,GACtB,IAAK,MAAMlxL,KAAQ1D,OAAOkzD,oBAAoBm5H,EAAKhuK,WAElD,KAAM3a,KAAQkxL,GAAQ,CACrB,MAAMp/B,EAAOx1J,OAAOisJ,yBAAyBogC,EAAKhuK,UAAW3a,GAC7D1D,OAAOC,eAAe20L,EAAOlxL,EAAM8xJ,EACpC,CAEF,EA4UA62B,EAAKhxK,QAAUyiC,OAAOziC,QAQtB,MAAMw5K,EAAoB,gCACpBC,EAAyB,0BAE/B,SAASC,EAAarxL,GAErB,GADAA,EAAO,GAAGA,IACNmxL,EAAkBn8K,KAAKhV,IAAkB,KAATA,EACnC,MAAM,IAAImN,UAAU,GAAGnN,oCAEzB,CAEA,SAASsxL,EAAc70L,GAEtB,GADAA,EAAQ,GAAGA,IACP20L,EAAuBp8K,KAAKvY,GAC/B,MAAM,IAAI0Q,UAAU,GAAG1Q,qCAEzB,CAUA,SAASuS,EAAKlP,EAAKE,GAClBA,EAAOA,EAAKuR,cACZ,IAAK,MAAM2D,KAAOpV,EACjB,GAAIoV,EAAI3D,gBAAkBvR,EACzB,OAAOkV,CAIV,CAEA,MAAMq8K,EAAM13K,OAAO,OACnB,MAAMqwK,EAOLzoL,cACC,IAAI4S,EAAOhO,UAAU0B,OAAS,QAAsB3K,IAAjBiJ,UAAU,GAAmBA,UAAU,QAAKjJ,EAI/E,GAFAuE,KAAK4vL,GAAOj1L,OAAOqL,OAAO,MAEtB0M,aAAgB61K,EAApB,CACC,MAAM2D,EAAax5K,EAAKi8F,MAClBkhF,EAAcl1L,OAAO2Y,KAAK44K,GAEhC,IAAK,MAAM4D,KAAcD,EACxB,IAAK,MAAM/0L,KAASoxL,EAAW4D,GAC9B9vL,KAAKuK,OAAOulL,EAAYh1L,EAK3B,MAIA,GAAY,MAAR4X,OAAqB,IAAoB,iBAATA,EA+BnC,MAAM,IAAIlH,UAAU,0CA/BkC,CACtD,MAAMod,EAASlW,EAAKwF,OAAOwjE,UAC3B,GAAc,MAAV9yD,EAAgB,CACnB,GAAsB,mBAAXA,EACV,MAAM,IAAIpd,UAAU,iCAKrB,MAAM07I,EAAQ,GACd,IAAK,MAAM5hE,KAAQ5yE,EAAM,CACxB,GAAoB,iBAAT4yE,GAAsD,mBAA1BA,EAAKptE,OAAOwjE,UAClD,MAAM,IAAIlwE,UAAU,qCAErB07I,EAAMvlJ,KAAKkE,MAAM6R,KAAK4tE,GACvB,CAEA,IAAK,MAAMA,KAAQ4hE,EAAO,CACzB,GAAoB,IAAhB5hE,EAAKl/E,OACR,MAAM,IAAIoF,UAAU,+CAErBxL,KAAKuK,OAAO+6E,EAAK,GAAIA,EAAK,GAC3B,CACD,MAEC,IAAK,MAAM/xE,KAAO5Y,OAAO2Y,KAAKZ,GAAO,CACpC,MAAM5X,EAAQ4X,EAAKa,GACnBvT,KAAKuK,OAAOgJ,EAAKzY,EAClB,CAEF,CAEA,CACD,CAQA0X,IAAInU,GAEHqxL,EADArxL,EAAO,GAAGA,KAEV,MAAMkV,EAAMlG,EAAKrN,KAAK4vL,GAAMvxL,GAC5B,YAAY5C,IAAR8X,EACI,KAGDvT,KAAK4vL,GAAKr8K,GAAK/O,KAAK,KAC5B,CASAsI,QAAQ3P,GACP,IAAIid,EAAU1V,UAAU0B,OAAS,QAAsB3K,IAAjBiJ,UAAU,GAAmBA,UAAU,QAAKjJ,EAE9EyrJ,EAAQ6oC,EAAW/vL,MACnBuL,EAAI,EACR,KAAOA,EAAI27I,EAAM9gJ,QAAQ,CACxB,IAAI4pL,EAAW9oC,EAAM37I,GACrB,MAAMlN,EAAO2xL,EAAS,GAChBl1L,EAAQk1L,EAAS,GAEvB7yL,EAAS+U,KAAKkI,EAAStf,EAAOuD,EAAM2B,MACpCknJ,EAAQ6oC,EAAW/vL,MACnBuL,GACD,CACD,CASAkH,IAAIpU,EAAMvD,GAETA,EAAQ,GAAGA,IACX40L,EAFArxL,EAAO,GAAGA,KAGVsxL,EAAc70L,GACd,MAAMyY,EAAMlG,EAAKrN,KAAK4vL,GAAMvxL,GAC5B2B,KAAK4vL,QAAan0L,IAAR8X,EAAoBA,EAAMlV,GAAQ,CAACvD,EAC9C,CASAyP,OAAOlM,EAAMvD,GAEZA,EAAQ,GAAGA,IACX40L,EAFArxL,EAAO,GAAGA,KAGVsxL,EAAc70L,GACd,MAAMyY,EAAMlG,EAAKrN,KAAK4vL,GAAMvxL,QAChB5C,IAAR8X,EACHvT,KAAK4vL,GAAKr8K,GAAK5R,KAAK7G,GAEpBkF,KAAK4vL,GAAKvxL,GAAQ,CAACvD,EAErB,CAQAmrB,IAAI5nB,GAGH,OADAqxL,EADArxL,EAAO,GAAGA,UAEuB5C,IAA1B4R,EAAKrN,KAAK4vL,GAAMvxL,EACxB,CAQAurB,OAAOvrB,GAENqxL,EADArxL,EAAO,GAAGA,KAEV,MAAMkV,EAAMlG,EAAKrN,KAAK4vL,GAAMvxL,QAChB5C,IAAR8X,UACIvT,KAAK4vL,GAAKr8K,EAEnB,CAOAo7F,MACC,OAAO3uG,KAAK4vL,EACb,CAOAt8K,OACC,OAAO28K,EAAsBjwL,KAAM,MACpC,CAOA8E,SACC,OAAOmrL,EAAsBjwL,KAAM,QACpC,CASA,CAACkY,OAAOwjE,YACP,OAAOu0G,EAAsBjwL,KAAM,YACpC,EAuBD,SAAS+vL,EAAWppK,GACnB,IAAIu5C,EAAOx7D,UAAU0B,OAAS,QAAsB3K,IAAjBiJ,UAAU,GAAmBA,UAAU,GAAK,YAG/E,OADa/J,OAAO2Y,KAAKqT,EAAQipK,IAAM5vJ,OAC3B7hC,IAAa,QAAT+hE,EAAiB,SAAUtrD,GAC1C,OAAOA,EAAEhF,aACV,EAAa,UAATswD,EAAmB,SAAUtrD,GAChC,OAAO+R,EAAQipK,GAAKh7K,GAAGpQ,KAAK,KAC7B,EAAI,SAAUoQ,GACb,MAAO,CAACA,EAAEhF,cAAe+W,EAAQipK,GAAKh7K,GAAGpQ,KAAK,MAC/C,EACD,CAhCA+jL,EAAQvvK,UAAU9a,QAAUqqL,EAAQvvK,UAAUd,OAAOwjE,UAErD/gF,OAAOC,eAAe2tL,EAAQvvK,UAAWd,OAAOyqE,YAAa,CAC5D7nF,MAAO,UACPyuB,UAAU,EACVjX,YAAY,EACZC,cAAc,IAGf5X,OAAO+nF,iBAAiB6lG,EAAQvvK,UAAW,CAC1CxG,IAAK,CAAEF,YAAY,GACnBxF,QAAS,CAAEwF,YAAY,GACvBG,IAAK,CAAEH,YAAY,GACnB/H,OAAQ,CAAE+H,YAAY,GACtB2T,IAAK,CAAE3T,YAAY,GACnBsX,OAAQ,CAAEtX,YAAY,GACtBgB,KAAM,CAAEhB,YAAY,GACpBxN,OAAQ,CAAEwN,YAAY,GACtBpU,QAAS,CAAEoU,YAAY,KAgBxB,MAAM49K,EAAWh4K,OAAO,YAExB,SAAS+3K,EAAsBl5K,EAAQmpD,GACtC,MAAMwb,EAAW/gF,OAAOqL,OAAOmqL,GAM/B,OALAz0G,EAASw0G,GAAY,CACpBn5K,SACAmpD,OACAj0D,MAAO,GAEDyvE,CACR,CAEA,MAAMy0G,EAA2Bx1L,OAAOipF,eAAe,CACtDj3E,OAEC,IAAK3M,MAAQrF,OAAOkoF,eAAe7iF,QAAUmwL,EAC5C,MAAM,IAAI3kL,UAAU,4CAGrB,IAAI4kL,EAAYpwL,KAAKkwL,GACrB,MAAMn5K,EAASq5K,EAAUr5K,OACnBmpD,EAAOkwH,EAAUlwH,KACjBj0D,EAAQmkL,EAAUnkL,MAElBnH,EAASirL,EAAWh5K,EAAQmpD,GAElC,OAAIj0D,GADQnH,EAAOsB,OAEX,CACNtL,WAAOW,EACPmD,MAAM,IAIRoB,KAAKkwL,GAAUjkL,MAAQA,EAAQ,EAExB,CACNnR,MAAOgK,EAAOmH,GACdrN,MAAM,GAER,GACEjE,OAAOkoF,eAAeloF,OAAOkoF,eAAe,GAAG3qE,OAAOwjE,eAezD,SAAS20G,EAA4B1pK,GACpC,MAAMlS,EAAM9Z,OAAOe,OAAO,CAAEwuG,UAAW,MAAQvjF,EAAQipK,IAIjDU,EAAgBjjL,EAAKsZ,EAAQipK,GAAM,QAKzC,YAJsBn0L,IAAlB60L,IACH77K,EAAI67K,GAAiB77K,EAAI67K,GAAe,IAGlC77K,CACR,CAxBA9Z,OAAOC,eAAeu1L,EAA0Bj4K,OAAOyqE,YAAa,CACnE7nF,MAAO,kBACPyuB,UAAU,EACVjX,YAAY,EACZC,cAAc,IAqDf,MAAMg+K,EAAcr4K,OAAO,sBAGrB0O,EAAe,eASrB,MAAMgiK,EACL9oL,cACC,IAAI6nB,EAAOjjB,UAAU0B,OAAS,QAAsB3K,IAAjBiJ,UAAU,GAAmBA,UAAU,GAAK,KAC3E+G,EAAO/G,UAAU0B,OAAS,QAAsB3K,IAAjBiJ,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAEhFsiL,EAAK90K,KAAKlS,KAAM2nB,EAAMlc,GAEtB,MAAM8yC,EAAS9yC,EAAK8yC,QAAU,IACxB53B,EAAU,IAAI4hK,EAAQ98K,EAAKkb,SAEjC,GAAY,MAARgB,IAAiBhB,EAAQV,IAAI,gBAAiB,CACjD,MAAM4iK,EAAcV,EAAmBxgK,GACnCkhK,GACHliK,EAAQpc,OAAO,eAAgBs+K,EAEjC,CAEA7oL,KAAKuwL,GAAe,CACnB7nK,IAAKjd,EAAKid,IACV61B,SACAmiD,WAAYj1F,EAAKi1F,YAAc95E,EAAa23B,GAC5C53B,UACAgX,QAASlyB,EAAKkyB,QAEhB,CAEIjV,UACH,OAAO1oB,KAAKuwL,GAAa7nK,KAAO,EACjC,CAEI61B,aACH,OAAOv+C,KAAKuwL,GAAahyI,MAC1B,CAKIuqI,SACH,OAAO9oL,KAAKuwL,GAAahyI,QAAU,KAAOv+C,KAAKuwL,GAAahyI,OAAS,GACtE,CAEIwqI,iBACH,OAAO/oL,KAAKuwL,GAAa5yJ,QAAU,CACpC,CAEI+iE,iBACH,OAAO1gG,KAAKuwL,GAAa7vF,UAC1B,CAEI/5E,cACH,OAAO3mB,KAAKuwL,GAAa5pK,OAC1B,CAOAohK,QACC,OAAO,IAAIa,EAASb,EAAM/nL,MAAO,CAChC0oB,IAAK1oB,KAAK0oB,IACV61B,OAAQv+C,KAAKu+C,OACbmiD,WAAY1gG,KAAK0gG,WACjB/5E,QAAS3mB,KAAK2mB,QACdmiK,GAAI9oL,KAAK8oL,GACTC,WAAY/oL,KAAK+oL,YAEnB,EAGD/B,EAAKsI,MAAM1G,EAAS5vK,WAEpBre,OAAO+nF,iBAAiBkmG,EAAS5vK,UAAW,CAC3C0P,IAAK,CAAEpW,YAAY,GACnBisC,OAAQ,CAAEjsC,YAAY,GACtBw2K,GAAI,CAAEx2K,YAAY,GAClBy2K,WAAY,CAAEz2K,YAAY,GAC1BouF,WAAY,CAAEpuF,YAAY,GAC1BqU,QAAS,CAAErU,YAAY,GACvBy1K,MAAO,CAAEz1K,YAAY,KAGtB3X,OAAOC,eAAeguL,EAAS5vK,UAAWd,OAAOyqE,YAAa,CAC7D7nF,MAAO,WACPyuB,UAAU,EACVjX,YAAY,EACZC,cAAc,IAGf,MAAMi+K,EAAct4K,OAAO,qBACrB+R,EAAM,OAAW,MAGjBwmK,EAAY,QACZC,EAAa,SAQnB,SAASjqC,EAASkqC,GAWjB,MALI,4BAA4BroJ,KAAKqoJ,KACpCA,EAAS,IAAI1mK,EAAI0mK,GAAQ59K,YAInB09K,EAAUE,EAClB,CAEA,MAAMC,EAA6B,iCAQnC,SAASrH,EAAU7jL,GAClB,MAAwB,iBAAVA,GAAoD,iBAAvBA,EAAM8qL,EAClD,CAcA,MAAMzjC,EACLjtJ,YAAY4F,GACX,IAEIs7I,EAFAtuI,EAAOhO,UAAU0B,OAAS,QAAsB3K,IAAjBiJ,UAAU,GAAmBA,UAAU,GAAK,CAAC,EAK3E6kL,EAAU7jL,GAYds7I,EAAYyF,EAAS/gJ,EAAMgjB,MAP1Bs4H,EAJGt7I,GAASA,EAAMynB,KAINs5H,EAAS/gJ,EAAMynB,MAGfs5H,EAAS,GAAG/gJ,KAEzBA,EAAQ,CAAC,GAKV,IAAIkjB,EAASlW,EAAKkW,QAAUljB,EAAMkjB,QAAU,MAG5C,GAFAA,EAASA,EAAO/T,eAEE,MAAbnC,EAAKiV,MAAgB4hK,EAAU7jL,IAAyB,OAAfA,EAAMiiB,QAA8B,QAAXiB,GAA+B,SAAXA,GAC1F,MAAM,IAAIpd,UAAU,iDAGrB,IAAIi+K,EAAyB,MAAb/2K,EAAKiV,KAAejV,EAAKiV,KAAO4hK,EAAU7jL,IAAyB,OAAfA,EAAMiiB,KAAgBogK,EAAMriL,GAAS,KAEzGshL,EAAK90K,KAAKlS,KAAMypL,EAAW,CAC1Bx8J,QAASva,EAAKua,SAAWvnB,EAAMunB,SAAW,EAC1CzE,KAAM9V,EAAK8V,MAAQ9iB,EAAM8iB,MAAQ,IAGlC,MAAM7B,EAAU,IAAI4hK,EAAQ71K,EAAKiU,SAAWjhB,EAAMihB,SAAW,CAAC,GAE9D,GAAiB,MAAb8iK,IAAsB9iK,EAAQV,IAAI,gBAAiB,CACtD,MAAM4iK,EAAcV,EAAmBsB,GACnCZ,GACHliK,EAAQpc,OAAO,eAAgBs+K,EAEjC,CAEA,IAAI38H,EAASq9H,EAAU7jL,GAASA,EAAMwmD,OAAS,KAG/C,GAFI,WAAYx5C,IAAMw5C,EAASx5C,EAAKw5C,QAEtB,MAAVA,IA5DN,SAAuBA,GACtB,MAAMqjI,EAAQrjI,GAA4B,iBAAXA,GAAuBvxD,OAAOkoF,eAAe32B,GAC5E,SAAUqjI,GAAoC,gBAA3BA,EAAMzvL,YAAYzB,KACtC,CAyDyB25F,CAAc9rC,GACpC,MAAM,IAAI1gD,UAAU,mDAGrBxL,KAAKwwL,GAAe,CACnB5nK,SACAghK,SAAUl3K,EAAKk3K,UAAYlkL,EAAMkkL,UAAY,SAC7CjjK,UACAq6H,YACA90F,UAIDlsD,KAAK6pL,YAAyBpuL,IAAhBiX,EAAKm3K,OAAuBn3K,EAAKm3K,YAA0BpuL,IAAjBiK,EAAMmkL,OAAuBnkL,EAAMmkL,OAAS,GACpG7pL,KAAKse,cAA6B7iB,IAAlBiX,EAAK4L,SAAyB5L,EAAK4L,cAA8B7iB,IAAnBiK,EAAM4Y,UAAyB5Y,EAAM4Y,SACnGte,KAAK29B,QAAUjrB,EAAKirB,SAAWj4B,EAAMi4B,SAAW,EAChD39B,KAAKuhG,MAAQ7uF,EAAK6uF,OAAS77F,EAAM67F,KAClC,CAEI34E,aACH,OAAO5oB,KAAKwwL,GAAa5nK,MAC1B,CAEIF,UACH,OAAOgoK,EAAW1wL,KAAKwwL,GAAaxvC,UACrC,CAEIr6H,cACH,OAAO3mB,KAAKwwL,GAAa7pK,OAC1B,CAEIijK,eACH,OAAO5pL,KAAKwwL,GAAa5G,QAC1B,CAEI19H,aACH,OAAOlsD,KAAKwwL,GAAatkI,MAC1B,CAOA67H,QACC,OAAO,IAAIh7B,EAAQ/sJ,KACpB,EAyGD,SAAS43H,EAAW1mH,GAClBjV,MAAMiW,KAAKlS,KAAMkR,GAEjBlR,KAAKgH,KAAO,UACZhH,KAAKkR,QAAUA,EAGfjV,MAAMyjB,kBAAkB1f,KAAMA,KAAKF,YACrC,CA9GAknL,EAAKsI,MAAMviC,EAAQ/zI,WAEnBre,OAAOC,eAAemyJ,EAAQ/zI,UAAWd,OAAOyqE,YAAa,CAC5D7nF,MAAO,UACPyuB,UAAU,EACVjX,YAAY,EACZC,cAAc,IAGf5X,OAAO+nF,iBAAiBqqE,EAAQ/zI,UAAW,CAC1C4P,OAAQ,CAAEtW,YAAY,GACtBoW,IAAK,CAAEpW,YAAY,GACnBqU,QAAS,CAAErU,YAAY,GACvBs3K,SAAU,CAAEt3K,YAAY,GACxBy1K,MAAO,CAAEz1K,YAAY,GACrB45C,OAAQ,CAAE55C,YAAY,KAiGvBslH,EAAW5+G,UAAYre,OAAOqL,OAAO/J,MAAM+c,WAC3C4+G,EAAW5+G,UAAUlZ,YAAc83H,EACnCA,EAAW5+G,UAAU3a,KAAO,aAE5B,MAAMwyL,EAAQ,OAAW,MAGnBC,EAAgB,cAgBtB,SAAS/kI,EAAMrjC,EAAKjd,GAGnB,IAAKsgD,EAAM/1C,QACV,MAAM,IAAI/Z,MAAM,0EAMjB,OAHA+qL,EAAKhxK,QAAU+1C,EAAM/1C,QAGd,IAAI+1C,EAAM/1C,SAAQ,SAAU4hB,EAASwB,GAE3C,MAAM1L,EAAU,IAAIq/H,EAAQrkI,EAAKjd,GAC3B9F,EA5HR,SAA+B+nB,GAC9B,MAAMszH,EAAYtzH,EAAQ8iK,GAAaxvC,UACjCr6H,EAAU,IAAI4hK,EAAQ76J,EAAQ8iK,GAAa7pK,SAQjD,GALKA,EAAQV,IAAI,WAChBU,EAAQlU,IAAI,SAAU,QAIlBuuI,EAAUh7H,WAAag7H,EAAUh0H,SACrC,MAAM,IAAIxhB,UAAU,oCAGrB,IAAK,YAAY6H,KAAK2tI,EAAUh7H,UAC/B,MAAM,IAAIxa,UAAU,wCAGrB,GAAIkiB,EAAQw+B,QAAUx+B,EAAQ/F,gBAAgB,aAAoBipK,EACjE,MAAM,IAAI30L,MAAM,mFAIjB,IAAIiuL,EAAqB,KAIzB,GAHoB,MAAhBx8J,EAAQ/F,MAAgB,gBAAgBtU,KAAKqa,EAAQ9E,UACxDshK,EAAqB,KAEF,MAAhBx8J,EAAQ/F,KAAc,CACzB,MAAMwiK,EAAaG,EAAc58J,GACP,iBAAfy8J,IACVD,EAAqBnrJ,OAAOorJ,GAE9B,CACID,GACHvjK,EAAQlU,IAAI,iBAAkBy3K,GAI1BvjK,EAAQV,IAAI,eAChBU,EAAQlU,IAAI,aAAc,0DAIvBib,EAAQpP,WAAaqI,EAAQV,IAAI,oBACpCU,EAAQlU,IAAI,kBAAmB,gBAGhC,IAAI8uF,EAAQ7zE,EAAQ6zE,MAYpB,MAXqB,mBAAVA,IACVA,EAAQA,EAAMy/C,IAGVr6H,EAAQV,IAAI,eAAkBs7E,GAClC56E,EAAQlU,IAAI,aAAc,SAMpB9X,OAAOe,OAAO,CAAC,EAAGslJ,EAAW,CACnCp4H,OAAQ8E,EAAQ9E,OAChBjC,QAAS0pK,EAA4B1pK,GACrC46E,SAEF,CA4DkB0oF,CAAsBv8J,GAEhC7J,GAA6B,WAArBle,EAAQqgB,SAAwB,EAAQ,GAAM0H,QACtDw+B,EAASx+B,EAAQw+B,OAEvB,IAAIhuC,EAAW,KAEf,MAAM6Q,EAAQ,WACb,IAAIxvB,EAAQ,IAAIq4H,EAAW,+BAC3Bx+F,EAAO75B,GACHmuB,EAAQ/F,MAAQ+F,EAAQ/F,gBAAgB,YAC3C+F,EAAQ/F,KAAK3lB,QAAQzC,GAEjB2e,GAAaA,EAASyJ,MAC3BzJ,EAASyJ,KAAKzlB,KAAK,QAAS3C,EAC7B,EAEA,GAAI2sD,GAAUA,EAAOlH,QAEpB,YADAj2B,IAID,MAAMo8J,EAAmB,WACxBp8J,IACAymE,GACD,EAGMxuE,EAAMnD,EAAKle,GACjB,IAAIorL,EAMJ,SAASv7F,IACRxuE,EAAI+H,QACAm9B,GAAQA,EAAOhyC,oBAAoB,QAASixK,GAChD37J,aAAauhK,EACd,CARI7kI,GACHA,EAAO1yC,iBAAiB,QAAS2xK,GAS9Bz9J,EAAQT,SACXjG,EAAIzjB,KAAK,UAAU,SAAUgf,GAC5BwuK,EAAajlK,YAAW,WACvBsN,EAAO,IAAIgtJ,EAAW,uBAAuB14J,EAAQhF,MAAO,oBAC5D8sE,GACD,GAAG9nE,EAAQT,QACZ,IAGDjG,EAAI1jB,GAAG,SAAS,SAAUoZ,GACzB0c,EAAO,IAAIgtJ,EAAW,cAAc14J,EAAQhF,uBAAuBhM,EAAIxL,UAAW,SAAUwL,IAC5F84E,GACD,IAEAxuE,EAAI1jB,GAAG,YAAY,SAAUokB,GAC5B8H,aAAauhK,GAEb,MAAMpqK,EA/dT,SAA8BlS,GAC7B,MAAMkS,EAAU,IAAI4hK,EACpB,IAAK,MAAMlqL,KAAQ1D,OAAO2Y,KAAKmB,GAC9B,IAAI+6K,EAAkBn8K,KAAKhV,GAG3B,GAAIwH,MAAMC,QAAQ2O,EAAIpW,IACrB,IAAK,MAAM4T,KAAOwC,EAAIpW,GACjBoxL,EAAuBp8K,KAAKpB,UAGLxW,IAAvBkrB,EAAQipK,GAAKvxL,GAChBsoB,EAAQipK,GAAKvxL,GAAQ,CAAC4T,GAEtB0U,EAAQipK,GAAKvxL,GAAMsD,KAAKsQ,SAGfw9K,EAAuBp8K,KAAKoB,EAAIpW,MAC3CsoB,EAAQipK,GAAKvxL,GAAQ,CAACoW,EAAIpW,KAG5B,OAAOsoB,CACR,CAycmBqqK,CAAqBtpK,EAAIf,SAGzC,GAAIolC,EAAM48H,WAAWjhK,EAAIlI,YAAa,CAErC,MAAMqP,EAAWlI,EAAQnU,IAAI,YAG7B,IAAI25K,EAAc,KAClB,IACCA,EAA2B,OAAbt9J,EAAoB,KAAO,IAAIgiK,EAAMhiK,EAAUnB,EAAQhF,KAAK3V,UAC3E,CAAE,MAAO2J,GAIR,GAAyB,WAArBgR,EAAQk8J,SAGX,OAFAxwJ,EAAO,IAAIgtJ,EAAW,wDAAwDv3J,IAAY,0BAC1F2mE,GAGF,CAGA,OAAQ9nE,EAAQk8J,UACf,IAAK,QAGJ,OAFAxwJ,EAAO,IAAIgtJ,EAAW,0EAA0E14J,EAAQhF,MAAO,qBAC/G8sE,IAED,IAAK,SAEJ,GAAoB,OAAhB22F,EAEH,IACCxlK,EAAQlU,IAAI,WAAY05K,EACzB,CAAE,MAAOzvK,GAER0c,EAAO1c,EACR,CAED,MACD,IAAK,SAEJ,GAAoB,OAAhByvK,EACH,MAID,GAAIz+J,EAAQiQ,SAAWjQ,EAAQm8J,OAG9B,OAFAzwJ,EAAO,IAAIgtJ,EAAW,gCAAgC14J,EAAQhF,MAAO,sBACrE8sE,IAMD,MAAMy7F,EAAc,CACnBtqK,QAAS,IAAI4hK,EAAQ76J,EAAQ/G,SAC7BkjK,OAAQn8J,EAAQm8J,OAChBlsJ,QAASjQ,EAAQiQ,QAAU,EAC3B4jE,MAAO7zE,EAAQ6zE,MACfjjF,SAAUoP,EAAQpP,SAClBsK,OAAQ8E,EAAQ9E,OAChBjB,KAAM+F,EAAQ/F,KACdukC,OAAQx+B,EAAQw+B,OAChBj/B,QAASS,EAAQT,QACjBzE,KAAMkF,EAAQlF,MAGf,IAzJsB,SAA6BmQ,EAAas0D,GACrE,MAAMmpC,EAAO,IAAIy6D,EAAM5jG,GAAUjgE,SAC3BzS,EAAO,IAAIs2K,EAAMl4J,GAAa3L,SAEpC,OAAOopG,IAAS77G,GAAgD,MAAxC67G,EAAKA,EAAKhwH,OAASmU,EAAKnU,OAAS,IAAcgwH,EAAKx2H,SAAS2a,EACtF,CAoJWqsK,CAAoBl5J,EAAQhF,IAAKyjK,GACrC,IAAK,MAAM9tL,IAAQ,CAAC,gBAAiB,mBAAoB,SAAU,WAClE4yL,EAAYtqK,QAAQiD,OAAOvrB,GAK7B,OAAuB,MAAnBqpB,EAAIlI,YAAsBkO,EAAQ/F,MAAmC,OAA3B2iK,EAAc58J,IAC3D0L,EAAO,IAAIgtJ,EAAW,2DAA4D,8BAClF5wF,MAKsB,MAAnB9tE,EAAIlI,aAA0C,MAAnBkI,EAAIlI,YAAyC,MAAnBkI,EAAIlI,YAA0C,SAAnBkO,EAAQ9E,UAC3FqoK,EAAYroK,OAAS,MACrBqoK,EAAYtpK,UAAOlsB,EACnBw1L,EAAYtqK,QAAQiD,OAAO,mBAI5BgO,EAAQm0B,EAAM,IAAIghG,EAAQo/B,EAAa8E,UACvCz7F,KAGH,CAGA9tE,EAAInkB,KAAK,OAAO,WACX2oD,GAAQA,EAAOhyC,oBAAoB,QAASixK,EACjD,IACA,IAAIxjK,EAAOD,EAAIkc,KAAK,IAAIktJ,GAExB,MAAMI,EAAmB,CACxBxoK,IAAKgF,EAAQhF,IACb61B,OAAQ72B,EAAIlI,WACZkhF,WAAYh5E,EAAI+kK,cAChB9lK,QAASA,EACT6B,KAAMkF,EAAQlF,KACdyE,QAASS,EAAQT,QACjB0Q,QAASjQ,EAAQiQ,SAIZ+uJ,EAAU/lK,EAAQnU,IAAI,oBAU5B,IAAKkb,EAAQpP,UAA+B,SAAnBoP,EAAQ9E,QAAiC,OAAZ8jK,GAAuC,MAAnBhlK,EAAIlI,YAAyC,MAAnBkI,EAAIlI,WAGvG,OAFAtB,EAAW,IAAI0qK,EAASjhK,EAAMupK,QAC9Bt5J,EAAQ1Z,GAST,MAAMyuK,EAAc,CACnB9tK,MAAO,eACP+tK,YAAa,gBAId,GAAe,QAAXF,GAAgC,UAAXA,EAIxB,OAHA/kK,EAAOA,EAAKic,KAAK,eAAkB+oJ,IACnCzuK,EAAW,IAAI0qK,EAASjhK,EAAMupK,QAC9Bt5J,EAAQ1Z,GAKT,GAAe,WAAXwuK,GAAmC,aAAXA,EAA5B,CAkBA,GAAe,MAAXA,GAA0D,mBAAhC,yBAI7B,OAHA/kK,EAAOA,EAAKic,KAAK,4BACjB1lB,EAAW,IAAI0qK,EAASjhK,EAAMupK,QAC9Bt5J,EAAQ1Z,GAKTA,EAAW,IAAI0qK,EAASjhK,EAAMupK,GAC9Bt5J,EAAQ1Z,EAZR,MAZawJ,EAAIkc,KAAK,IAAIktJ,GACrBvtL,KAAK,QAAQ,SAAU8Y,GAGzBsL,EADyB,IAAV,GAAXtL,EAAM,IACHsL,EAAKic,KAAK,mBAEVjc,EAAKic,KAAK,sBAElB1lB,EAAW,IAAI0qK,EAASjhK,EAAMupK,GAC9Bt5J,EAAQ1Z,EACT,GAeF,IAtgCF,SAAuB3D,EAAMytK,GAC5B,MAAMrgK,EAAOqgK,EAASrgK,KAGT,OAATA,EAEHpN,EAAKa,MACKurK,EAAOh/J,GACjBA,EAAKpD,SAASqf,KAAKrpB,GACTvD,OAAOQ,SAASmQ,IAE1BpN,EAAKvG,MAAM2T,GACXpN,EAAKa,OAGLuM,EAAKic,KAAKrpB,EAEZ,CAu/BE6tK,CAAcphK,EAAK0G,EACpB,GACD,CAOAq+B,EAAM48H,WAAa,SAAUzvK,GAC5B,OAAgB,MAATA,GAAyB,MAATA,GAAyB,MAATA,GAAyB,MAATA,GAAyB,MAATA,CACxE,EAGA6yC,EAAM/1C,QAAUyiC,OAAOziC,QAEvB,orBCpoDA,IAAIg0F,EAAgB,SAASz+D,EAAG7rC,GAI9B,OAHAsqG,EAAgBrvG,OAAOipF,gBAClB,CAAEsmB,UAAW,cAAgBrkG,OAAS,SAAU0lC,EAAG7rC,GAAK6rC,EAAE2+D,UAAYxqG,CAAG,GAC1E,SAAU6rC,EAAG7rC,GAAK,IAAK,IAAIoL,KAAKpL,EAAO/E,OAAOqe,UAAUwhC,eAAetoC,KAAKxS,EAAGoL,KAAIygC,EAAEzgC,GAAKpL,EAAEoL,GAAI,EAC7Fk/F,EAAcz+D,EAAG7rC,EAC1B,EAEO,SAASuqG,EAAU1+D,EAAG7rC,GAC3B,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAI8L,UAAU,uBAAyBuzB,OAAOr/B,GAAK,iCAE7D,SAASyqG,IAAOnqG,KAAKF,YAAcyrC,CAAG,CADtCy+D,EAAcz+D,EAAG7rC,GAEjB6rC,EAAEvyB,UAAkB,OAANtZ,EAAa/E,OAAOqL,OAAOtG,IAAMyqG,EAAGnxF,UAAYtZ,EAAEsZ,UAAW,IAAImxF,EACjF,CAEO,IAAIgnF,EAAW,WAQpB,OAPAA,EAAWx2L,OAAOe,QAAU,SAAkBy6C,GAC1C,IAAK,IAAI9K,EAAG9/B,EAAI,EAAGiC,EAAI9I,UAAU0B,OAAQmF,EAAIiC,EAAGjC,IAE5C,IAAK,IAAIT,KADTugC,EAAI3mC,UAAU6G,GACO5Q,OAAOqe,UAAUwhC,eAAetoC,KAAKm5B,EAAGvgC,KAAIqrC,EAAErrC,GAAKugC,EAAEvgC,IAE9E,OAAOqrC,CACX,EACOg7I,EAASh/K,MAAMnS,KAAM0E,UAC9B,EAEO,SAAS0sL,EAAO/lJ,EAAGl9B,GACxB,IAAIgoC,EAAI,CAAC,EACT,IAAK,IAAIrrC,KAAKugC,EAAO1wC,OAAOqe,UAAUwhC,eAAetoC,KAAKm5B,EAAGvgC,IAAMqD,EAAEpB,QAAQjC,GAAK,IAC9EqrC,EAAErrC,GAAKugC,EAAEvgC,IACb,GAAS,MAALugC,GAAqD,mBAAjC1wC,OAAO02L,sBACtB,KAAI9lL,EAAI,EAAb,IAAgBT,EAAInQ,OAAO02L,sBAAsBhmJ,GAAI9/B,EAAIT,EAAE1E,OAAQmF,IAC3D4C,EAAEpB,QAAQjC,EAAES,IAAM,GAAK5Q,OAAOqe,UAAUs4K,qBAAqBp/K,KAAKm5B,EAAGvgC,EAAES,MACvE4qC,EAAErrC,EAAES,IAAM8/B,EAAEvgC,EAAES,IAF4B,CAItD,OAAO4qC,CACT,CAEO,SAASo7I,EAAWC,EAAYz6K,EAAQxD,EAAK48I,GAClD,IAA2H5kH,EAAvH98B,EAAI/J,UAAU0B,OAAQgJ,EAAIX,EAAI,EAAIsI,EAAkB,OAATo5I,EAAgBA,EAAOx1J,OAAOisJ,yBAAyB7vI,EAAQxD,GAAO48I,EACrH,GAAuB,iBAAZjsI,SAAoD,mBAArBA,QAAQutK,SAAyBriL,EAAI8U,QAAQutK,SAASD,EAAYz6K,EAAQxD,EAAK48I,QACpH,IAAK,IAAI5kJ,EAAIimL,EAAWprL,OAAS,EAAGmF,GAAK,EAAGA,KAASggC,EAAIimJ,EAAWjmL,MAAI6D,GAAKX,EAAI,EAAI88B,EAAEn8B,GAAKX,EAAI,EAAI88B,EAAEx0B,EAAQxD,EAAKnE,GAAKm8B,EAAEx0B,EAAQxD,KAASnE,GAChJ,OAAOX,EAAI,GAAKW,GAAKzU,OAAOC,eAAemc,EAAQxD,EAAKnE,GAAIA,CAC9D,CAEO,SAASsiL,EAAQC,EAAYC,GAClC,OAAO,SAAU76K,EAAQxD,GAAOq+K,EAAU76K,EAAQxD,EAAKo+K,EAAa,CACtE,CAEO,SAASE,EAAalsG,EAAMmsG,EAAcN,EAAYO,EAAWC,EAAcC,GACpF,SAASr0K,EAAOk0C,GAAK,QAAU,IAANA,GAA6B,mBAANA,EAAkB,MAAM,IAAItmD,UAAU,qBAAsB,OAAOsmD,CAAG,CAKtH,IAJA,IAGIn9C,EAHAurD,EAAO6xH,EAAU7xH,KAAM3sD,EAAe,WAAT2sD,EAAoB,MAAiB,WAATA,EAAoB,MAAQ,QACrFnpD,GAAU+6K,GAAgBnsG,EAAOosG,EAAkB,OAAIpsG,EAAOA,EAAK3sE,UAAY,KAC/Ek5K,EAAaJ,IAAiB/6K,EAASpc,OAAOisJ,yBAAyB7vI,EAAQg7K,EAAU1zL,MAAQ,CAAC,GAC/FO,GAAO,EACL2M,EAAIimL,EAAWprL,OAAS,EAAGmF,GAAK,EAAGA,IAAK,CAC7C,IAAIoxB,EAAU,CAAC,EACf,IAAK,IAAI7xB,KAAKinL,EAAWp1J,EAAQ7xB,GAAW,WAANA,EAAiB,CAAC,EAAIinL,EAAUjnL,GACtE,IAAK,IAAIA,KAAKinL,EAAUI,OAAQx1J,EAAQw1J,OAAOrnL,GAAKinL,EAAUI,OAAOrnL,GACrE6xB,EAAQy1J,eAAiB,SAAUtgI,GAAK,GAAIlzD,EAAM,MAAM,IAAI4M,UAAU,0DAA2DymL,EAAkBtwL,KAAKic,EAAOk0C,GAAK,MAAQ,EAC5K,IAAItyD,GAAS,EAAIgyL,EAAWjmL,IAAa,aAAT20D,EAAsB,CAAE1tD,IAAK0/K,EAAW1/K,IAAKC,IAAKy/K,EAAWz/K,KAAQy/K,EAAW3+K,GAAMopB,GACtH,GAAa,aAATujC,EAAqB,CACrB,QAAe,IAAX1gE,EAAmB,SACvB,GAAe,OAAXA,GAAqC,iBAAXA,EAAqB,MAAM,IAAIgM,UAAU,oBACnEmJ,EAAIiJ,EAAOpe,EAAOgT,QAAM0/K,EAAW1/K,IAAMmC,IACzCA,EAAIiJ,EAAOpe,EAAOiT,QAAMy/K,EAAWz/K,IAAMkC,IACzCA,EAAIiJ,EAAOpe,EAAOkT,QAAOs/K,EAAalgL,QAAQ6C,EACtD,MACSA,EAAIiJ,EAAOpe,MACH,UAAT0gE,EAAkB8xH,EAAalgL,QAAQ6C,GACtCu9K,EAAW3+K,GAAOoB,EAE/B,CACIoC,GAAQpc,OAAOC,eAAemc,EAAQg7K,EAAU1zL,KAAM6zL,GAC1DtzL,GAAO,CACT,CAEO,SAASyzL,EAAkBj4K,EAAS43K,EAAcl3L,GAEvD,IADA,IAAIw3L,EAAW5tL,UAAU0B,OAAS,EACzBmF,EAAI,EAAGA,EAAIymL,EAAa5rL,OAAQmF,IACrCzQ,EAAQw3L,EAAWN,EAAazmL,GAAG2G,KAAKkI,EAAStf,GAASk3L,EAAazmL,GAAG2G,KAAKkI,GAEnF,OAAOk4K,EAAWx3L,OAAQ,CAC5B,CAEO,SAASy3L,EAAU58K,GACxB,MAAoB,iBAANA,EAAiBA,EAAI,GAAGvQ,OAAOuQ,EAC/C,CAEO,SAAS68K,EAAkB1gI,EAAGzzD,EAAMwI,GAEzC,MADoB,iBAATxI,IAAmBA,EAAOA,EAAK0zD,YAAc,IAAI3sD,OAAO/G,EAAK0zD,YAAa,KAAO,IACrFp3D,OAAOC,eAAek3D,EAAG,OAAQ,CAAEv/C,cAAc,EAAMzX,MAAO+L,EAAS,GAAGzB,OAAOyB,EAAQ,IAAKxI,GAAQA,GAC/G,CAEO,SAASo0L,EAAWC,EAAaC,GACtC,GAAuB,iBAAZzuK,SAAoD,mBAArBA,QAAQm6B,SAAyB,OAAOn6B,QAAQm6B,SAASq0I,EAAaC,EAClH,CAEO,SAASC,EAAUx4K,EAASy4K,EAAYC,EAAGxhF,GAEhD,OAAO,IAAKwhF,IAAMA,EAAI98K,WAAU,SAAU4hB,EAASwB,GAC/C,SAAS25J,EAAUj4L,GAAS,IAAMqQ,EAAKmmG,EAAU3kG,KAAK7R,GAAS,CAAE,MAAOqT,GAAKirB,EAAOjrB,EAAI,CAAE,CAC1F,SAAS6kL,EAASl4L,GAAS,IAAMqQ,EAAKmmG,EAAiB,MAAEx2G,GAAS,CAAE,MAAOqT,GAAKirB,EAAOjrB,EAAI,CAAE,CAC7F,SAAShD,EAAK3L,GAJlB,IAAe1E,EAIa0E,EAAOZ,KAAOg5B,EAAQp4B,EAAO1E,QAJ1CA,EAIyD0E,EAAO1E,MAJhDA,aAAiBg4L,EAAIh4L,EAAQ,IAAIg4L,GAAE,SAAUl7J,GAAWA,EAAQ98B,EAAQ,KAIjBi/B,KAAKg5J,EAAWC,EAAW,CAC7G7nL,GAAMmmG,EAAYA,EAAUn/F,MAAMiI,EAASy4K,GAAc,KAAKlmL,OAClE,GACF,CAEO,SAASsmL,EAAY74K,EAASuN,GACnC,IAAsGmqC,EAAGq1E,EAAGhxF,EAAG+8I,EAA3Gv+K,EAAI,CAAEsrD,MAAO,EAAG25F,KAAM,WAAa,GAAW,EAAPzjH,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAI,EAAGg9I,KAAM,GAAI9mB,IAAK,IAChG,OAAO6mB,EAAI,CAAEvmL,KAAMymL,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAXl7K,SAA0Bg7K,EAAEh7K,OAAOwjE,UAAY,WAAa,OAAO17E,IAAM,GAAIkzL,EACvJ,SAASE,EAAK5lL,GAAK,OAAO,SAAUwD,GAAK,OACzC,SAAc8lG,GACV,GAAIhlD,EAAG,MAAM,IAAItmD,UAAU,mCAC3B,KAAO0nL,IAAMA,EAAI,EAAGp8E,EAAG,KAAOniG,EAAI,IAAKA,OACnC,GAAIm9C,EAAI,EAAGq1E,IAAMhxF,EAAY,EAAR2gE,EAAG,GAASqwB,EAAU,OAAIrwB,EAAG,GAAKqwB,EAAS,SAAOhxF,EAAIgxF,EAAU,SAAMhxF,EAAEjkC,KAAKi1H,GAAI,GAAKA,EAAEx6H,SAAWwpC,EAAIA,EAAEjkC,KAAKi1H,EAAGrwB,EAAG,KAAKl4G,KAAM,OAAOu3C,EAE3J,OADIgxF,EAAI,EAAGhxF,IAAG2gE,EAAK,CAAS,EAARA,EAAG,GAAQ3gE,EAAEr7C,QACzBg8G,EAAG,IACP,KAAK,EAAG,KAAK,EAAG3gE,EAAI2gE,EAAI,MACxB,KAAK,EAAc,OAAXniG,EAAEsrD,QAAgB,CAAEnlE,MAAOg8G,EAAG,GAAIl4G,MAAM,GAChD,KAAK,EAAG+V,EAAEsrD,QAASknE,EAAIrwB,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKniG,EAAE03J,IAAIphK,MAAO0J,EAAEw+K,KAAKloL,MAAO,SACxC,QACI,MAAkBkrC,GAAZA,EAAIxhC,EAAEw+K,MAAY/sL,OAAS,GAAK+vC,EAAEA,EAAE/vC,OAAS,KAAkB,IAAV0wG,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEniG,EAAI,EAAG,QAAU,CAC3G,GAAc,IAAVmiG,EAAG,MAAc3gE,GAAM2gE,EAAG,GAAK3gE,EAAE,IAAM2gE,EAAG,GAAK3gE,EAAE,IAAM,CAAExhC,EAAEsrD,MAAQ62C,EAAG,GAAI,KAAO,CACrF,GAAc,IAAVA,EAAG,IAAYniG,EAAEsrD,MAAQ9pB,EAAE,GAAI,CAAExhC,EAAEsrD,MAAQ9pB,EAAE,GAAIA,EAAI2gE,EAAI,KAAO,CACpE,GAAI3gE,GAAKxhC,EAAEsrD,MAAQ9pB,EAAE,GAAI,CAAExhC,EAAEsrD,MAAQ9pB,EAAE,GAAIxhC,EAAE03J,IAAI1qK,KAAKm1G,GAAK,KAAO,CAC9D3gE,EAAE,IAAIxhC,EAAE03J,IAAIphK,MAChB0J,EAAEw+K,KAAKloL,MAAO,SAEtB6rG,EAAKnvF,EAAKzV,KAAKkI,EAASzF,EAC5B,CAAE,MAAOxG,GAAK2oG,EAAK,CAAC,EAAG3oG,GAAIg5H,EAAI,CAAG,CAAE,QAAUr1E,EAAI3b,EAAI,CAAG,CACzD,GAAY,EAAR2gE,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEh8G,MAAOg8G,EAAG,GAAKA,EAAG,QAAK,EAAQl4G,MAAM,EAC9E,CAtBgDuM,CAAK,CAACqC,EAAGwD,GAAK,CAAG,CAuBnE,CAEO,IAAIi/I,EAAkBt1J,OAAOqL,OAAS,SAAU8O,EAAGw2B,EAAG12B,EAAGs7I,QACnDz0J,IAAPy0J,IAAkBA,EAAKt7I,GAC3B,IAAIu7I,EAAOx1J,OAAOisJ,yBAAyBt7G,EAAG12B,GACzCu7I,KAAS,QAASA,GAAQ7kH,EAAEo9G,WAAayH,EAAK5mI,UAAY4mI,EAAK59I,gBAChE49I,EAAO,CAAE79I,YAAY,EAAME,IAAK,WAAa,OAAO84B,EAAE12B,EAAI,IAE9Dja,OAAOC,eAAeka,EAAGo7I,EAAIC,EAC9B,EAAI,SAAUr7I,EAAGw2B,EAAG12B,EAAGs7I,QACXz0J,IAAPy0J,IAAkBA,EAAKt7I,GAC3BE,EAAEo7I,GAAM5kH,EAAE12B,EACX,EAEM,SAASmsH,EAAaz1F,EAAGx2B,GAC9B,IAAK,IAAIhK,KAAKwgC,EAAa,YAANxgC,GAAoBnQ,OAAOqe,UAAUwhC,eAAetoC,KAAK4C,EAAGhK,IAAImlJ,EAAgBn7I,EAAGw2B,EAAGxgC,EAC7G,CAEO,SAASuoL,EAASv+K,GACvB,IAAIu2B,EAAsB,mBAAXnzB,QAAyBA,OAAOwjE,SAAUpwC,EAAID,GAAKv2B,EAAEu2B,GAAI9/B,EAAI,EAC5E,GAAI+/B,EAAG,OAAOA,EAAEp5B,KAAK4C,GACrB,GAAIA,GAAyB,iBAAbA,EAAE1O,OAAqB,MAAO,CAC1CuG,KAAM,WAEF,OADImI,GAAKvJ,GAAKuJ,EAAE1O,SAAQ0O,OAAI,GACrB,CAAEha,MAAOga,GAAKA,EAAEvJ,KAAM3M,MAAOkW,EACxC,GAEJ,MAAM,IAAItJ,UAAU6/B,EAAI,0BAA4B,kCACtD,CAEO,SAASioJ,EAAOx+K,EAAGtH,GACxB,IAAI89B,EAAsB,mBAAXpzB,QAAyBpD,EAAEoD,OAAOwjE,UACjD,IAAKpwC,EAAG,OAAOx2B,EACf,IAAmB1F,EAAYjB,EAA3B5C,EAAI+/B,EAAEp5B,KAAK4C,GAAOy+K,EAAK,GAC3B,IACI,WAAc,IAAN/lL,GAAgBA,KAAM,MAAQ4B,EAAI7D,EAAEoB,QAAQ/N,MAAM20L,EAAG5xL,KAAKyN,EAAEtU,MACxE,CACA,MAAOyE,GAAS4O,EAAI,CAAE5O,MAAOA,EAAS,CACtC,QACI,IACQ6P,IAAMA,EAAExQ,OAAS0sC,EAAI//B,EAAU,SAAI+/B,EAAEp5B,KAAK3G,EAClD,CACA,QAAU,GAAI4C,EAAG,MAAMA,EAAE5O,KAAO,CACpC,CACA,OAAOg0L,CACT,CAGO,SAASC,IACd,IAAK,IAAID,EAAK,GAAIhoL,EAAI,EAAGA,EAAI7G,UAAU0B,OAAQmF,IAC3CgoL,EAAKA,EAAGnuL,OAAOkuL,EAAO5uL,UAAU6G,KACpC,OAAOgoL,CACT,CAGO,SAASE,IACd,IAAK,IAAIpoJ,EAAI,EAAG9/B,EAAI,EAAGmoL,EAAKhvL,UAAU0B,OAAQmF,EAAImoL,EAAInoL,IAAK8/B,GAAK3mC,UAAU6G,GAAGnF,OACxE,IAAIgJ,EAAIvJ,MAAMwlC,GAAIz2B,EAAI,EAA3B,IAA8BrJ,EAAI,EAAGA,EAAImoL,EAAInoL,IACzC,IAAK,IAAI9L,EAAIiF,UAAU6G,GAAIwF,EAAI,EAAG4iL,EAAKl0L,EAAE2G,OAAQ2K,EAAI4iL,EAAI5iL,IAAK6D,IAC1DxF,EAAEwF,GAAKnV,EAAEsR,GACjB,OAAO3B,CACT,CAEO,SAASwkL,EAAcnuJ,EAAI/tB,EAAMsjJ,GACtC,GAAIA,GAA6B,IAArBt2J,UAAU0B,OAAc,IAAK,IAA4BmtL,EAAxBhoL,EAAI,EAAGk0I,EAAI/nI,EAAKtR,OAAYmF,EAAIk0I,EAAGl0I,KACxEgoL,GAAQhoL,KAAKmM,IACR67K,IAAIA,EAAK1tL,MAAMmT,UAAUtM,MAAMwF,KAAKwF,EAAM,EAAGnM,IAClDgoL,EAAGhoL,GAAKmM,EAAKnM,IAGrB,OAAOk6B,EAAGrgC,OAAOmuL,GAAM1tL,MAAMmT,UAAUtM,MAAMwF,KAAKwF,GACpD,CAEO,SAASm8K,EAAQ7iL,GACtB,OAAOhR,gBAAgB6zL,GAAW7zL,KAAKgR,EAAIA,EAAGhR,MAAQ,IAAI6zL,EAAQ7iL,EACpE,CAEO,SAAS8iL,EAAiB15K,EAASy4K,EAAYvhF,GACpD,IAAKp5F,OAAO4sE,cAAe,MAAM,IAAIt5E,UAAU,wCAC/C,IAAoDD,EAAhD2nL,EAAI5hF,EAAUn/F,MAAMiI,EAASy4K,GAAc,IAAQ9nL,EAAI,GAC3D,OAAOQ,EAAI,CAAC,EAAG6nL,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAW7nL,EAAE2M,OAAO4sE,eAAiB,WAAc,OAAO9kF,IAAM,EAAGuL,EACpH,SAAS6nL,EAAK5lL,GAAS0lL,EAAE1lL,KAAIjC,EAAEiC,GAAK,SAAUwD,GAAK,OAAO,IAAIgF,SAAQ,SAAUvW,EAAGC,GAAKqL,EAAEpJ,KAAK,CAAC6L,EAAGwD,EAAGvR,EAAGC,IAAM,GAAKomB,EAAOtY,EAAGwD,EAAI,GAAI,EAAG,CACzI,SAAS8U,EAAOtY,EAAGwD,GAAK,KACV5B,EADqB8jL,EAAE1lL,GAAGwD,IACnBlW,iBAAiB+4L,EAAU79K,QAAQ4hB,QAAQxoB,EAAEtU,MAAMkW,GAAG+oB,KAAKg6J,EAAS36J,GAAU46J,EAAOjpL,EAAE,GAAG,GAAIqE,EADtE,CAAE,MAAOjB,GAAK6lL,EAAOjpL,EAAE,GAAG,GAAIoD,EAAI,CAC/E,IAAciB,CADmE,CAEjF,SAAS2kL,EAAQj5L,GAASgrB,EAAO,OAAQhrB,EAAQ,CACjD,SAASs+B,EAAOt+B,GAASgrB,EAAO,QAAShrB,EAAQ,CACjD,SAASk5L,EAAOliI,EAAG9gD,GAAS8gD,EAAE9gD,GAAIjG,EAAEsB,QAAStB,EAAE3E,QAAQ0f,EAAO/a,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAK,CACnF,CAEO,SAASkpL,EAAiBn/K,GAC/B,IAAIvJ,EAAGT,EACP,OAAOS,EAAI,CAAC,EAAG6nL,EAAK,QAASA,EAAK,SAAS,SAAUjlL,GAAK,MAAMA,CAAG,IAAIilL,EAAK,UAAW7nL,EAAE2M,OAAOwjE,UAAY,WAAc,OAAO17E,IAAM,EAAGuL,EAC1I,SAAS6nL,EAAK5lL,EAAGskD,GAAKvmD,EAAEiC,GAAKsH,EAAEtH,GAAK,SAAUwD,GAAK,OAAQlG,GAAKA,GAAK,CAAEhQ,MAAO+4L,EAAQ/+K,EAAEtH,GAAGwD,IAAKpS,MAAM,GAAUkzD,EAAIA,EAAE9gD,GAAKA,CAAG,EAAI8gD,CAAG,CACvI,CAEO,SAASoiI,EAAcp/K,GAC5B,IAAKoD,OAAO4sE,cAAe,MAAM,IAAIt5E,UAAU,wCAC/C,IAAiCD,EAA7B+/B,EAAIx2B,EAAEoD,OAAO4sE,eACjB,OAAOx5C,EAAIA,EAAEp5B,KAAK4C,IAAMA,EAAqCu+K,EAASv+K,GAA2BvJ,EAAI,CAAC,EAAG6nL,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAW7nL,EAAE2M,OAAO4sE,eAAiB,WAAc,OAAO9kF,IAAM,EAAGuL,GAC9M,SAAS6nL,EAAK5lL,GAAKjC,EAAEiC,GAAKsH,EAAEtH,IAAM,SAAUwD,GAAK,OAAO,IAAIgF,SAAQ,SAAU4hB,EAASwB,IACvF,SAAgBxB,EAASwB,EAAQmS,EAAGv6B,GAAKgF,QAAQ4hB,QAAQ5mB,GAAG+oB,MAAK,SAAS/oB,GAAK4mB,EAAQ,CAAE98B,MAAOkW,EAAGpS,KAAM2sC,GAAM,GAAGnS,EAAS,CADb46J,CAAOp8J,EAASwB,GAA7BpoB,EAAI8D,EAAEtH,GAAGwD,IAA8BpS,KAAMoS,EAAElW,MAAQ,GAAI,CAAG,CAEjK,CAEO,SAASq5L,EAAqB16E,EAAQ9K,GAE3C,OADIh0G,OAAOC,eAAkBD,OAAOC,eAAe6+G,EAAQ,MAAO,CAAE3+G,MAAO6zG,IAAiB8K,EAAO9K,IAAMA,EAClG8K,CACT,CAEA,IAAI22C,EAAqBz1J,OAAOqL,OAAS,SAAU8O,EAAG9D,GACpDrW,OAAOC,eAAeka,EAAG,UAAW,CAAExC,YAAY,EAAMxX,MAAOkW,GAChE,EAAI,SAAS8D,EAAG9D,GACf8D,EAAW,QAAI9D,CACjB,EAEO,SAASq/I,EAAa5H,GAC3B,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIjpJ,EAAS,CAAC,EACd,GAAW,MAAPipJ,EAAa,IAAK,IAAI7zI,KAAK6zI,EAAe,YAAN7zI,GAAmBja,OAAOqe,UAAUwhC,eAAetoC,KAAKu2I,EAAK7zI,IAAIq7I,EAAgBzwJ,EAAQipJ,EAAK7zI,GAEtI,OADAw7I,EAAmB5wJ,EAAQipJ,GACpBjpJ,CACT,CAEO,SAASgpJ,EAAgBC,GAC9B,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEzrJ,QAASyrJ,EACpD,CAEO,SAAS2rC,EAAuB7oK,EAAU8e,EAAO61B,EAAMpO,GAC5D,GAAa,MAAToO,IAAiBpO,EAAG,MAAM,IAAItmD,UAAU,iDAC5C,GAAqB,mBAAV6+B,EAAuB9e,IAAa8e,IAAUynB,GAAKznB,EAAMpkB,IAAIsF,GAAW,MAAM,IAAI/f,UAAU,4EACvG,MAAgB,MAAT00D,EAAepO,EAAa,MAAToO,EAAepO,EAAE5/C,KAAKqZ,GAAYumC,EAAIA,EAAEh3D,MAAQuvC,EAAM73B,IAAI+Y,EACtF,CAEO,SAAS8oK,EAAuB9oK,EAAU8e,EAAOvvC,EAAOolE,EAAMpO,GACnE,GAAa,MAAToO,EAAc,MAAM,IAAI10D,UAAU,kCACtC,GAAa,MAAT00D,IAAiBpO,EAAG,MAAM,IAAItmD,UAAU,iDAC5C,GAAqB,mBAAV6+B,EAAuB9e,IAAa8e,IAAUynB,GAAKznB,EAAMpkB,IAAIsF,GAAW,MAAM,IAAI/f,UAAU,2EACvG,MAAiB,MAAT00D,EAAepO,EAAE5/C,KAAKqZ,EAAUzwB,GAASg3D,EAAIA,EAAEh3D,MAAQA,EAAQuvC,EAAM53B,IAAI8Y,EAAUzwB,GAASA,CACtG,CAEO,SAASw5L,EAAsBjqJ,EAAO9e,GAC3C,GAAiB,OAAbA,GAA0C,iBAAbA,GAA6C,mBAAbA,EAA0B,MAAM,IAAI/f,UAAU,0CAC/G,MAAwB,mBAAV6+B,EAAuB9e,IAAa8e,EAAQA,EAAMpkB,IAAIsF,EACtE,CAEO,SAASgpK,EAAwBjlL,EAAKxU,EAAO6B,GAClD,GAAI7B,QAAoC,CACtC,GAAqB,iBAAVA,GAAuC,mBAAVA,EAAsB,MAAM,IAAI0Q,UAAU,oBAClF,IAAI+1D,EACJ,GAAI5kE,EAAO,CACP,IAAKub,OAAOs8K,aAAc,MAAM,IAAIhpL,UAAU,uCAC9C+1D,EAAUzmE,EAAMod,OAAOs8K,aAC3B,CACA,QAAgB,IAAZjzH,EAAoB,CACpB,IAAKrpD,OAAOqpD,QAAS,MAAM,IAAI/1D,UAAU,kCACzC+1D,EAAUzmE,EAAMod,OAAOqpD,QAC3B,CACA,GAAuB,mBAAZA,EAAwB,MAAM,IAAI/1D,UAAU,0BACvD8D,EAAIvD,MAAMpK,KAAK,CAAE7G,MAAOA,EAAOymE,QAASA,EAAS5kE,MAAOA,GAC1D,MACSA,GACP2S,EAAIvD,MAAMpK,KAAK,CAAEhF,OAAO,IAE1B,OAAO7B,CACT,CAEA,IAAI25L,EAA8C,mBAApBC,gBAAiCA,gBAAkB,SAAUn1L,EAAOo1L,EAAYzjL,GAC5G,IAAI/C,EAAI,IAAIlS,MAAMiV,GAClB,OAAO/C,EAAE9P,KAAO,kBAAmB8P,EAAE5O,MAAQA,EAAO4O,EAAEwmL,WAAaA,EAAYxmL,CACjF,EAEO,SAASymL,EAAmBtlL,GACjC,SAASg5J,EAAKn6J,GACZmB,EAAI/P,MAAQ+P,EAAI0sH,SAAW,IAAIy4D,EAAiBtmL,EAAGmB,EAAI/P,MAAO,4CAA8C4O,EAC5GmB,EAAI0sH,UAAW,CACjB,CAcA,OAbA,SAASrvH,IACP,KAAO2C,EAAIvD,MAAM3F,QAAQ,CACvB,IAAIyuL,EAAMvlL,EAAIvD,MAAMd,MACpB,IACE,IAAIzL,EAASq1L,EAAItzH,SAAWszH,EAAItzH,QAAQrvD,KAAK2iL,EAAI/5L,OACjD,GAAI+5L,EAAIl4L,MAAO,OAAOqZ,QAAQ4hB,QAAQp4B,GAAQu6B,KAAKptB,GAAM,SAASwB,GAAc,OAATm6J,EAAKn6J,GAAWxB,GAAQ,GACjG,CACA,MAAOwB,GACHm6J,EAAKn6J,EACT,CACF,CACA,GAAImB,EAAI0sH,SAAU,MAAM1sH,EAAI/P,KAC9B,CACOoN,EACT,CAEA,SACEs9F,YACAknF,WACAC,SACAG,aACAG,UACAe,aACAG,YACAK,cACAhjC,kBACAlvB,eACAsyD,WACAC,SACAE,WACAC,iBACAG,gBACAC,UACAC,mBACAG,mBACAC,gBACAC,uBACA9jC,eACA7H,kBACA4rC,yBACAC,yBACAC,wBACAC,0BACAK,yh8PC/WEE,yBAA2B,CAAC,ECG5BC,gBDAJ,SAASC,oBAAoB/xF,GAE5B,IAAIgyF,EAAeH,yBAAyB7xF,GAC5C,QAAqBxnG,IAAjBw5L,EACH,OAAOA,EAAap6L,QAGrB,IAAIqK,EAAS4vL,yBAAyB7xF,GAAY,CAGjDpoG,QAAS,CAAC,GAOX,OAHAq6L,oBAAoBjyF,GAAU/wF,KAAKhN,EAAOrK,QAASqK,EAAQA,EAAOrK,QAASm6L,qBAGpE9vL,EAAOrK,OACf,CAGAm6L,oBAAoB1pJ,EAAI4pJ,oBExBxBF,oBAAoBzpJ,EAAI,CAAC1wC,EAASw8D,KACjC,IAAI,IAAI9jD,KAAO8jD,EACX29H,oBAAoBlgL,EAAEuiD,EAAY9jD,KAASyhL,oBAAoBlgL,EAAEja,EAAS0Y,IAC5E5Y,OAAOC,eAAeC,EAAS0Y,EAAK,CAAEjB,YAAY,EAAME,IAAK6kD,EAAW9jD,IAE1E,ECNDyhL,oBAAoBljI,EAAI,CAAC,EAGzBkjI,oBAAoB7mL,EAAKgnL,GACjBn/K,QAAQC,IAAItb,OAAO2Y,KAAK0hL,oBAAoBljI,GAAGzqD,QAAO,CAAC+tL,EAAU7hL,KACvEyhL,oBAAoBljI,EAAEv+C,GAAK4hL,EAASC,GAC7BA,IACL,KCNJJ,oBAAoB1f,EAAK6f,GAEZA,EAAU,gBCHvBH,oBAAoBlgL,EAAI,CAACL,EAAKC,IAAU/Z,OAAOqe,UAAUwhC,eAAetoC,KAAKuC,EAAKC,GCClFsgL,oBAAoB5lL,EAAKvU,IACH,oBAAXqd,QAA0BA,OAAOyqE,aAC1ChoF,OAAOC,eAAeC,EAASqd,OAAOyqE,YAAa,CAAE7nF,MAAO,WAE7DH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,GAAO,ELD1Di6L,gBAAkB,CACrB,IAAK,GAmBNC,oBAAoBljI,EAAEi1F,QAAU,CAACouC,EAASC,KAErCL,gBAAgBI,IAhBF,CAAC94K,IACnB,IAAIg5K,EAAch5K,EAAMwwB,QAASyoJ,EAAWj5K,EAAMg7I,IAAKvqH,EAAUzwB,EAAMywB,QACvE,IAAI,IAAIm2D,KAAYoyF,EAChBL,oBAAoBlgL,EAAEugL,EAAapyF,KACrC+xF,oBAAoB1pJ,EAAE23D,GAAYoyF,EAAYpyF,IAG7Cn2D,GAASA,EAAQkoJ,qBACpB,IAAI,IAAIzpL,EAAI,EAAGA,EAAI+pL,EAASlvL,OAAQmF,IACnCwpL,gBAAgBO,EAAS/pL,IAAM,CAAC,EAS/BgqL,CAAaxuC,QAAQ,KAAOiuC,oBAAoB1f,EAAE6f,IAEpD,EM3BD,IAAIK,oBAAsBR,oBAAoB","sources":["webpack://monospace-aida/../node_modules/@nodelib/fs.scandir/out/adapters/fs.js","webpack://monospace-aida/../node_modules/@nodelib/fs.scandir/out/constants.js","webpack://monospace-aida/../node_modules/@nodelib/fs.scandir/out/index.js","webpack://monospace-aida/../node_modules/@nodelib/fs.scandir/out/providers/async.js","webpack://monospace-aida/../node_modules/@nodelib/fs.scandir/out/providers/common.js","webpack://monospace-aida/../node_modules/@nodelib/fs.scandir/out/providers/sync.js","webpack://monospace-aida/../node_modules/@nodelib/fs.scandir/out/settings.js","webpack://monospace-aida/../node_modules/@nodelib/fs.scandir/out/utils/fs.js","webpack://monospace-aida/../node_modules/@nodelib/fs.scandir/out/utils/index.js","webpack://monospace-aida/../node_modules/@nodelib/fs.stat/out/adapters/fs.js","webpack://monospace-aida/../node_modules/@nodelib/fs.stat/out/index.js","webpack://monospace-aida/../node_modules/@nodelib/fs.stat/out/providers/async.js","webpack://monospace-aida/../node_modules/@nodelib/fs.stat/out/providers/sync.js","webpack://monospace-aida/../node_modules/@nodelib/fs.stat/out/settings.js","webpack://monospace-aida/../node_modules/@nodelib/fs.walk/out/index.js","webpack://monospace-aida/../node_modules/@nodelib/fs.walk/out/providers/async.js","webpack://monospace-aida/../node_modules/@nodelib/fs.walk/out/providers/stream.js","webpack://monospace-aida/../node_modules/@nodelib/fs.walk/out/providers/sync.js","webpack://monospace-aida/../node_modules/@nodelib/fs.walk/out/readers/async.js","webpack://monospace-aida/../node_modules/@nodelib/fs.walk/out/readers/common.js","webpack://monospace-aida/../node_modules/@nodelib/fs.walk/out/readers/reader.js","webpack://monospace-aida/../node_modules/@nodelib/fs.walk/out/readers/sync.js","webpack://monospace-aida/../node_modules/@nodelib/fs.walk/out/settings.js","webpack://monospace-aida/../node_modules/array-union/index.js","webpack://monospace-aida/../node_modules/braces/index.js","webpack://monospace-aida/../node_modules/braces/lib/compile.js","webpack://monospace-aida/../node_modules/braces/lib/constants.js","webpack://monospace-aida/../node_modules/braces/lib/expand.js","webpack://monospace-aida/../node_modules/braces/lib/parse.js","webpack://monospace-aida/../node_modules/braces/lib/stringify.js","webpack://monospace-aida/../node_modules/braces/lib/utils.js","webpack://monospace-aida/../node_modules/bufferutil/fallback.js","webpack://monospace-aida/../node_modules/bufferutil/index.js","webpack://monospace-aida/../node_modules/debug/src/browser.js","webpack://monospace-aida/../node_modules/debug/src/common.js","webpack://monospace-aida/../node_modules/debug/src/index.js","webpack://monospace-aida/../node_modules/debug/src/node.js","webpack://monospace-aida/../node_modules/dir-glob/index.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/utf-8-validate/fallback.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/utf-8-validate/index.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/index.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/buffer-util.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/constants.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/event-target.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/extension.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/limiter.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/permessage-deflate.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/receiver.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/sender.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/stream.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/subprotocol.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/validation.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/websocket-server.js","webpack://monospace-aida/../node_modules/engine.io-client/node_modules/ws/lib/websocket.js","webpack://monospace-aida/../node_modules/fast-glob/node_modules/glob-parent/index.js","webpack://monospace-aida/../node_modules/fast-glob/out/index.js","webpack://monospace-aida/../node_modules/fast-glob/out/managers/patterns.js","webpack://monospace-aida/../node_modules/fast-glob/out/managers/tasks.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/async.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/filters/deep.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/filters/entry.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/filters/error.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/matchers/matcher.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/matchers/partial.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/provider.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/stream.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/sync.js","webpack://monospace-aida/../node_modules/fast-glob/out/providers/transformers/entry.js","webpack://monospace-aida/../node_modules/fast-glob/out/readers/async.js","webpack://monospace-aida/../node_modules/fast-glob/out/readers/reader.js","webpack://monospace-aida/../node_modules/fast-glob/out/readers/stream.js","webpack://monospace-aida/../node_modules/fast-glob/out/readers/sync.js","webpack://monospace-aida/../node_modules/fast-glob/out/settings.js","webpack://monospace-aida/../node_modules/fast-glob/out/utils/array.js","webpack://monospace-aida/../node_modules/fast-glob/out/utils/errno.js","webpack://monospace-aida/../node_modules/fast-glob/out/utils/fs.js","webpack://monospace-aida/../node_modules/fast-glob/out/utils/index.js","webpack://monospace-aida/../node_modules/fast-glob/out/utils/path.js","webpack://monospace-aida/../node_modules/fast-glob/out/utils/pattern.js","webpack://monospace-aida/../node_modules/fast-glob/out/utils/stream.js","webpack://monospace-aida/../node_modules/fast-glob/out/utils/string.js","webpack://monospace-aida/../node_modules/fastq/queue.js","webpack://monospace-aida/../node_modules/fill-range/index.js","webpack://monospace-aida/../node_modules/glob-to-regexp/index.js","webpack://monospace-aida/../node_modules/globby/gitignore.js","webpack://monospace-aida/../node_modules/globby/index.js","webpack://monospace-aida/../node_modules/globby/stream-utils.js","webpack://monospace-aida/../node_modules/has-flag/index.js","webpack://monospace-aida/../node_modules/ignore/index.js","webpack://monospace-aida/../node_modules/is-extglob/index.js","webpack://monospace-aida/../node_modules/is-glob/index.js","webpack://monospace-aida/../node_modules/is-number/index.js","webpack://monospace-aida/../node_modules/merge2/index.js","webpack://monospace-aida/../node_modules/micromatch/index.js","webpack://monospace-aida/../node_modules/ms/index.js","webpack://monospace-aida/../node_modules/node-domexception/index.js","webpack://monospace-aida/../node_modules/node-gyp-build/index.js","webpack://monospace-aida/../node_modules/node-gyp-build/node-gyp-build.js","webpack://monospace-aida/../node_modules/path-type/index.js","webpack://monospace-aida/../node_modules/picomatch/index.js","webpack://monospace-aida/../node_modules/picomatch/lib/constants.js","webpack://monospace-aida/../node_modules/picomatch/lib/parse.js","webpack://monospace-aida/../node_modules/picomatch/lib/picomatch.js","webpack://monospace-aida/../node_modules/picomatch/lib/scan.js","webpack://monospace-aida/../node_modules/picomatch/lib/utils.js","webpack://monospace-aida/../node_modules/queue-microtask/index.js","webpack://monospace-aida/../node_modules/reusify/reusify.js","webpack://monospace-aida/../node_modules/run-parallel/index.js","webpack://monospace-aida/../node_modules/slash/index.js","webpack://monospace-aida/../node_modules/supports-color/index.js","webpack://monospace-aida/../node_modules/to-regex-range/index.js","webpack://monospace-aida/../ai-exclude/index.ts","webpack://monospace-aida/./common/messaging/broker.ts","webpack://monospace-aida/./common/messaging/modules/aichat/aichat-common.ts","webpack://monospace-aida/./common/messaging/modules/aichat/aichat-protocol.ts","webpack://monospace-aida/./src/agentive/api-call-helper.ts","webpack://monospace-aida/./src/agentive/api.ts","webpack://monospace-aida/./src/agentive/conversation-utils.ts","webpack://monospace-aida/./src/agentive/conversational-agent.ts","webpack://monospace-aida/./src/agentive/engines/llm.ts","webpack://monospace-aida/./src/agentive/engines/playback-llm.ts","webpack://monospace-aida/./src/agentive/engines/playback-scripts/error-cases.ts","webpack://monospace-aida/./src/agentive/engines/playback-scripts/explicit-cases.ts","webpack://monospace-aida/./src/agentive/engines/playback-scripts/hello-world.ts","webpack://monospace-aida/./src/agentive/engines/playback-scripts/implicit-cases.ts","webpack://monospace-aida/./src/agentive/engines/playback-scripts/reply-to-user.ts","webpack://monospace-aida/./src/agentive/engines/playback-scripts/scripts.ts","webpack://monospace-aida/./src/agentive/engines/playback-scripts/streaming-cases.ts","webpack://monospace-aida/./src/agentive/engines/playback-scripts/utils.ts","webpack://monospace-aida/./src/agentive/engines/retrieval.ts","webpack://monospace-aida/./src/agentive/engines/web-search.ts","webpack://monospace-aida/./src/agentive/function-manager.ts","webpack://monospace-aida/./src/agentive/functions/delete-file.ts","webpack://monospace-aida/./src/agentive/functions/external-function.ts","webpack://monospace-aida/./src/agentive/functions/list-project-files.ts","webpack://monospace-aida/./src/agentive/functions/read-file.ts","webpack://monospace-aida/./src/agentive/functions/run-terminal-command.ts","webpack://monospace-aida/./src/agentive/functions/utils.ts","webpack://monospace-aida/./src/agentive/functions/web-search.ts","webpack://monospace-aida/./src/agentive/functions/write-file.ts","webpack://monospace-aida/./src/agentive/scripts.ts","webpack://monospace-aida/./src/agentive/task-manager.ts","webpack://monospace-aida/./src/aichat.ts","webpack://monospace-aida/./src/aida.ts","webpack://monospace-aida/./src/aiexclude.ts","webpack://monospace-aida/./src/airecitation.ts","webpack://monospace-aida/./src/chat-history.ts","webpack://monospace-aida/./src/error-helper.ts","webpack://monospace-aida/./src/extension.ts","webpack://monospace-aida/./src/features.ts","webpack://monospace-aida/./src/file-utils.ts","webpack://monospace-aida/./src/html-scaffold.ts","webpack://monospace-aida/./src/initialize-idx-agent.ts","webpack://monospace-aida/./src/logger.ts","webpack://monospace-aida/./src/messaging/extension-broker.ts","webpack://monospace-aida/./src/prompt-manager.ts","webpack://monospace-aida/./src/prompt.ts","webpack://monospace-aida/./src/retrieval.ts","webpack://monospace-aida/./src/sidekick.ts","webpack://monospace-aida/./src/telemetry.ts","webpack://monospace-aida/./src/theming-sync.ts","webpack://monospace-aida/./src/thread-manager.ts","webpack://monospace-aida/./src/user-info.ts","webpack://monospace-aida/./src/util.ts","webpack://monospace-aida/./src/vscode-utils.ts","webpack://monospace-aida/../vscode-shared/ai-recitation.ts","webpack://monospace-aida/../vscode-shared/config.ts","webpack://monospace-aida/../node_modules/web-streams-polyfill/dist/ponyfill.es2018.js","webpack://monospace-aida/../node_modules/xmlhttprequest-ssl/lib/XMLHttpRequest.js","webpack://monospace-aida/../prompt-engine/node_modules/esprima/dist/esprima.js","webpack://monospace-aida/../prompt-engine/node_modules/extend-shallow/index.js","webpack://monospace-aida/../prompt-engine/node_modules/gray-matter/index.js","webpack://monospace-aida/../prompt-engine/node_modules/gray-matter/lib/defaults.js","webpack://monospace-aida/../prompt-engine/node_modules/gray-matter/lib/engine.js","webpack://monospace-aida/../prompt-engine/node_modules/gray-matter/lib/engines.js","webpack://monospace-aida/../prompt-engine/node_modules/gray-matter/lib/excerpt.js","webpack://monospace-aida/../prompt-engine/node_modules/gray-matter/lib/parse.js","webpack://monospace-aida/../prompt-engine/node_modules/gray-matter/lib/stringify.js","webpack://monospace-aida/../prompt-engine/node_modules/gray-matter/lib/to-file.js","webpack://monospace-aida/../prompt-engine/node_modules/gray-matter/lib/utils.js","webpack://monospace-aida/../prompt-engine/node_modules/is-extendable/index.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/aborterror.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/_extremaby.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/_sleep.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/asyncify.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/asyncifyerrback.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/asynciterablex.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/asyncsink.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/average.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/catcherror.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/combinelatest.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/concat.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/count.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/create.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/defer.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/elementat.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/empty.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/every.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/find.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/findindex.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/first.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/forkjoin.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/fromdomstream.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/fromevent.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/fromeventpattern.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/generate.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/generatetime.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/iif.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/includes.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/index.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/interval.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/isempty.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/last.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/max.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/maxby.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/merge.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/min.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/minby.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/never.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/of.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/onerrorresumenext.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/operators/map.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/operators/memoize.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/operators/publish.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/operators/withabort.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/race.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/range.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/reduce.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/reduceright.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/repeatvalue.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/sequenceequal.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/single.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/some.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/sum.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/throwerrror.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/toarray.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/todomstream.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/tomap.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/toobservable.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/toset.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/whiledo.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/asynciterable/zip.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/iterable/operators/_refcountlist.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/observer.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/util/bindcallback.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/util/comparer.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/util/identity.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/util/isiterable.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/util/returniterator.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/util/safeRace.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/util/tointeger.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/util/tolength.js","webpack://monospace-aida/../prompt-engine/node_modules/ix/util/toobserver.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/index.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/common.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/dumper.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/exception.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/loader.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/mark.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/schema.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/schema/core.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/schema/default_full.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/schema/default_safe.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/schema/failsafe.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/schema/json.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/binary.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/bool.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/float.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/int.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/js/function.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/js/regexp.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/js/undefined.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/map.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/merge.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/null.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/omap.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/pairs.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/seq.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/set.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/str.js","webpack://monospace-aida/../prompt-engine/node_modules/js-yaml/lib/js-yaml/type/timestamp.js","webpack://monospace-aida/../prompt-engine/node_modules/kind-of/index.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/_Symbol.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/_arrayMap.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/_baseGetTag.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/_baseToString.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/_freeGlobal.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/_getRawTag.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/_objectToString.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/_root.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/escapeRegExp.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/isArray.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/isObjectLike.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/isSymbol.js","webpack://monospace-aida/../prompt-engine/node_modules/lodash/toString.js","webpack://monospace-aida/../prompt-engine/node_modules/section-matter/index.js","webpack://monospace-aida/../prompt-engine/node_modules/strip-bom-string/index.js","webpack://monospace-aida/../prompt-engine/node_modules/tr46/index.js","webpack://monospace-aida/../prompt-engine/node_modules/webidl-conversions/lib/index.js","webpack://monospace-aida/../prompt-engine/node_modules/whatwg-url/lib/URL-impl.js","webpack://monospace-aida/../prompt-engine/node_modules/whatwg-url/lib/URL.js","webpack://monospace-aida/../prompt-engine/node_modules/whatwg-url/lib/public-api.js","webpack://monospace-aida/../prompt-engine/node_modules/whatwg-url/lib/url-state-machine.js","webpack://monospace-aida/../prompt-engine/node_modules/whatwg-url/lib/utils.js","webpack://monospace-aida/external commonjs \"vscode\"","webpack://monospace-aida/external node-commonjs \"buffer\"","webpack://monospace-aida/external node-commonjs \"child_process\"","webpack://monospace-aida/external node-commonjs \"crypto\"","webpack://monospace-aida/external node-commonjs \"events\"","webpack://monospace-aida/external node-commonjs \"fs\"","webpack://monospace-aida/external node-commonjs \"fs/promises\"","webpack://monospace-aida/external node-commonjs \"http\"","webpack://monospace-aida/external node-commonjs \"https\"","webpack://monospace-aida/external node-commonjs \"net\"","webpack://monospace-aida/external node-commonjs \"node:process\"","webpack://monospace-aida/external node-commonjs \"node:stream/web\"","webpack://monospace-aida/external node-commonjs \"os\"","webpack://monospace-aida/external node-commonjs \"path\"","webpack://monospace-aida/external node-commonjs \"punycode\"","webpack://monospace-aida/external node-commonjs \"stream\"","webpack://monospace-aida/external node-commonjs \"tls\"","webpack://monospace-aida/external node-commonjs \"tty\"","webpack://monospace-aida/external node-commonjs \"url\"","webpack://monospace-aida/external node-commonjs \"util\"","webpack://monospace-aida/external node-commonjs \"worker_threads\"","webpack://monospace-aida/external node-commonjs \"zlib\"","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/contrib/parseqs.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/contrib/parseuri.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/contrib/yeast.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/globalThis.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/index.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/socket.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/transport.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/transports/index.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/transports/polling.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/transports/websocket-constructor.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/transports/websocket.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/transports/webtransport.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/transports/xmlhttprequest.js","webpack://monospace-aida/../node_modules/engine.io-client/build/cjs/util.js","webpack://monospace-aida/../node_modules/engine.io-parser/build/cjs/commons.js","webpack://monospace-aida/../node_modules/engine.io-parser/build/cjs/decodePacket.js","webpack://monospace-aida/../node_modules/engine.io-parser/build/cjs/encodePacket.js","webpack://monospace-aida/../node_modules/engine.io-parser/build/cjs/index.js","webpack://monospace-aida/../node_modules/fetch-blob/streams.cjs","webpack://monospace-aida/../node_modules/socket.io-client/build/cjs/contrib/backo2.js","webpack://monospace-aida/../node_modules/socket.io-client/build/cjs/index.js","webpack://monospace-aida/../node_modules/socket.io-client/build/cjs/manager.js","webpack://monospace-aida/../node_modules/socket.io-client/build/cjs/on.js","webpack://monospace-aida/../node_modules/socket.io-client/build/cjs/socket.js","webpack://monospace-aida/../node_modules/socket.io-client/build/cjs/url.js","webpack://monospace-aida/../node_modules/socket.io-parser/build/cjs/binary.js","webpack://monospace-aida/../node_modules/socket.io-parser/build/cjs/index.js","webpack://monospace-aida/../node_modules/socket.io-parser/build/cjs/is-binary.js","webpack://monospace-aida/../prompt-engine/dist/prompt-engine.cjs","webpack://monospace-aida/../prompt-engine/dist/retriever-idx-ra-docs.cjs","webpack://monospace-aida/external node-commonjs \"node:http\"","webpack://monospace-aida/external node-commonjs \"node:https\"","webpack://monospace-aida/external node-commonjs \"node:zlib\"","webpack://monospace-aida/external node-commonjs \"node:stream\"","webpack://monospace-aida/external node-commonjs \"node:buffer\"","webpack://monospace-aida/../node_modules/data-uri-to-buffer/dist/index.js","webpack://monospace-aida/external node-commonjs \"node:util\"","webpack://monospace-aida/./node_modules/node-fetch/src/errors/base.js","webpack://monospace-aida/./node_modules/node-fetch/src/errors/fetch-error.js","webpack://monospace-aida/./node_modules/node-fetch/src/utils/is.js","webpack://monospace-aida/./node_modules/node-fetch/src/body.js","webpack://monospace-aida/./node_modules/node-fetch/src/headers.js","webpack://monospace-aida/./node_modules/node-fetch/src/utils/is-redirect.js","webpack://monospace-aida/./node_modules/node-fetch/src/response.js","webpack://monospace-aida/external node-commonjs \"node:url\"","webpack://monospace-aida/external node-commonjs \"node:net\"","webpack://monospace-aida/./node_modules/node-fetch/src/utils/referrer.js","webpack://monospace-aida/./node_modules/node-fetch/src/request.js","webpack://monospace-aida/./node_modules/node-fetch/src/utils/get-search.js","webpack://monospace-aida/./node_modules/node-fetch/src/errors/abort-error.js","webpack://monospace-aida/./node_modules/node-fetch/src/index.js","webpack://monospace-aida/../node_modules/@socket.io/component-emitter/index.mjs","webpack://monospace-aida/../node_modules/fetch-blob/file.js","webpack://monospace-aida/external node-commonjs \"node:fs\"","webpack://monospace-aida/external node-commonjs \"node:path\"","webpack://monospace-aida/../node_modules/fetch-blob/from.js","webpack://monospace-aida/../node_modules/fetch-blob/index.js","webpack://monospace-aida/../node_modules/formdata-polyfill/esm.min.js","webpack://monospace-aida/../prompt-engine/node_modules/node-fetch/lib/index.mjs","webpack://monospace-aida/../prompt-engine/node_modules/tslib/tslib.es6.mjs","webpack://monospace-aida/webpack/bootstrap","webpack://monospace-aida/webpack/runtime/require chunk loading","webpack://monospace-aida/webpack/runtime/define property getters","webpack://monospace-aida/webpack/runtime/ensure chunk","webpack://monospace-aida/webpack/runtime/get javascript chunk filename","webpack://monospace-aida/webpack/runtime/hasOwnProperty shorthand","webpack://monospace-aida/webpack/runtime/make namespace object","webpack://monospace-aida/webpack/startup"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\nconst fs = require(\"fs\");\nexports.FILE_SYSTEM_ADAPTER = {\n    lstat: fs.lstat,\n    stat: fs.stat,\n    lstatSync: fs.lstatSync,\n    statSync: fs.statSync,\n    readdir: fs.readdir,\n    readdirSync: fs.readdirSync\n};\nfunction createFileSystemAdapter(fsMethods) {\n    if (fsMethods === undefined) {\n        return exports.FILE_SYSTEM_ADAPTER;\n    }\n    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\n}\nexports.createFileSystemAdapter = createFileSystemAdapter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IS_SUPPORT_READDIR_WITH_FILE_TYPES = void 0;\nconst NODE_PROCESS_VERSION_PARTS = process.versions.node.split('.');\nif (NODE_PROCESS_VERSION_PARTS[0] === undefined || NODE_PROCESS_VERSION_PARTS[1] === undefined) {\n    throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);\n}\nconst MAJOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[0], 10);\nconst MINOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[1], 10);\nconst SUPPORTED_MAJOR_VERSION = 10;\nconst SUPPORTED_MINOR_VERSION = 10;\nconst IS_MATCHED_BY_MAJOR = MAJOR_VERSION > SUPPORTED_MAJOR_VERSION;\nconst IS_MATCHED_BY_MAJOR_AND_MINOR = MAJOR_VERSION === SUPPORTED_MAJOR_VERSION && MINOR_VERSION >= SUPPORTED_MINOR_VERSION;\n/**\n * IS `true` for Node.js 10.10 and greater.\n */\nexports.IS_SUPPORT_READDIR_WITH_FILE_TYPES = IS_MATCHED_BY_MAJOR || IS_MATCHED_BY_MAJOR_AND_MINOR;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Settings = exports.scandirSync = exports.scandir = void 0;\nconst async = require(\"./providers/async\");\nconst sync = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nexports.Settings = settings_1.default;\nfunction scandir(path, optionsOrSettingsOrCallback, callback) {\n    if (typeof optionsOrSettingsOrCallback === 'function') {\n        async.read(path, getSettings(), optionsOrSettingsOrCallback);\n        return;\n    }\n    async.read(path, getSettings(optionsOrSettingsOrCallback), callback);\n}\nexports.scandir = scandir;\nfunction scandirSync(path, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    return sync.read(path, settings);\n}\nexports.scandirSync = scandirSync;\nfunction getSettings(settingsOrOptions = {}) {\n    if (settingsOrOptions instanceof settings_1.default) {\n        return settingsOrOptions;\n    }\n    return new settings_1.default(settingsOrOptions);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst rpl = require(\"run-parallel\");\nconst constants_1 = require(\"../constants\");\nconst utils = require(\"../utils\");\nconst common = require(\"./common\");\nfunction read(directory, settings, callback) {\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\n        readdirWithFileTypes(directory, settings, callback);\n        return;\n    }\n    readdir(directory, settings, callback);\n}\nexports.read = read;\nfunction readdirWithFileTypes(directory, settings, callback) {\n    settings.fs.readdir(directory, { withFileTypes: true }, (readdirError, dirents) => {\n        if (readdirError !== null) {\n            callFailureCallback(callback, readdirError);\n            return;\n        }\n        const entries = dirents.map((dirent) => ({\n            dirent,\n            name: dirent.name,\n            path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\n        }));\n        if (!settings.followSymbolicLinks) {\n            callSuccessCallback(callback, entries);\n            return;\n        }\n        const tasks = entries.map((entry) => makeRplTaskEntry(entry, settings));\n        rpl(tasks, (rplError, rplEntries) => {\n            if (rplError !== null) {\n                callFailureCallback(callback, rplError);\n                return;\n            }\n            callSuccessCallback(callback, rplEntries);\n        });\n    });\n}\nexports.readdirWithFileTypes = readdirWithFileTypes;\nfunction makeRplTaskEntry(entry, settings) {\n    return (done) => {\n        if (!entry.dirent.isSymbolicLink()) {\n            done(null, entry);\n            return;\n        }\n        settings.fs.stat(entry.path, (statError, stats) => {\n            if (statError !== null) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    done(statError);\n                    return;\n                }\n                done(null, entry);\n                return;\n            }\n            entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\n            done(null, entry);\n        });\n    };\n}\nfunction readdir(directory, settings, callback) {\n    settings.fs.readdir(directory, (readdirError, names) => {\n        if (readdirError !== null) {\n            callFailureCallback(callback, readdirError);\n            return;\n        }\n        const tasks = names.map((name) => {\n            const path = common.joinPathSegments(directory, name, settings.pathSegmentSeparator);\n            return (done) => {\n                fsStat.stat(path, settings.fsStatSettings, (error, stats) => {\n                    if (error !== null) {\n                        done(error);\n                        return;\n                    }\n                    const entry = {\n                        name,\n                        path,\n                        dirent: utils.fs.createDirentFromStats(name, stats)\n                    };\n                    if (settings.stats) {\n                        entry.stats = stats;\n                    }\n                    done(null, entry);\n                });\n            };\n        });\n        rpl(tasks, (rplError, entries) => {\n            if (rplError !== null) {\n                callFailureCallback(callback, rplError);\n                return;\n            }\n            callSuccessCallback(callback, entries);\n        });\n    });\n}\nexports.readdir = readdir;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, result) {\n    callback(null, result);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.joinPathSegments = void 0;\nfunction joinPathSegments(a, b, separator) {\n    /**\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\n     */\n    if (a.endsWith(separator)) {\n        return a + b;\n    }\n    return a + separator + b;\n}\nexports.joinPathSegments = joinPathSegments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst constants_1 = require(\"../constants\");\nconst utils = require(\"../utils\");\nconst common = require(\"./common\");\nfunction read(directory, settings) {\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\n        return readdirWithFileTypes(directory, settings);\n    }\n    return readdir(directory, settings);\n}\nexports.read = read;\nfunction readdirWithFileTypes(directory, settings) {\n    const dirents = settings.fs.readdirSync(directory, { withFileTypes: true });\n    return dirents.map((dirent) => {\n        const entry = {\n            dirent,\n            name: dirent.name,\n            path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\n        };\n        if (entry.dirent.isSymbolicLink() && settings.followSymbolicLinks) {\n            try {\n                const stats = settings.fs.statSync(entry.path);\n                entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\n            }\n            catch (error) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    throw error;\n                }\n            }\n        }\n        return entry;\n    });\n}\nexports.readdirWithFileTypes = readdirWithFileTypes;\nfunction readdir(directory, settings) {\n    const names = settings.fs.readdirSync(directory);\n    return names.map((name) => {\n        const entryPath = common.joinPathSegments(directory, name, settings.pathSegmentSeparator);\n        const stats = fsStat.statSync(entryPath, settings.fsStatSettings);\n        const entry = {\n            name,\n            path: entryPath,\n            dirent: utils.fs.createDirentFromStats(name, stats)\n        };\n        if (settings.stats) {\n            entry.stats = stats;\n        }\n        return entry;\n    });\n}\nexports.readdir = readdir;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst fs = require(\"./adapters/fs\");\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, false);\n        this.fs = fs.createFileSystemAdapter(this._options.fs);\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path.sep);\n        this.stats = this._getValue(this._options.stats, false);\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\n        this.fsStatSettings = new fsStat.Settings({\n            followSymbolicLink: this.followSymbolicLinks,\n            fs: this.fs,\n            throwErrorOnBrokenSymbolicLink: this.throwErrorOnBrokenSymbolicLink\n        });\n    }\n    _getValue(option, value) {\n        return option !== null && option !== void 0 ? option : value;\n    }\n}\nexports.default = Settings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDirentFromStats = void 0;\nclass DirentFromStats {\n    constructor(name, stats) {\n        this.name = name;\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\n        this.isDirectory = stats.isDirectory.bind(stats);\n        this.isFIFO = stats.isFIFO.bind(stats);\n        this.isFile = stats.isFile.bind(stats);\n        this.isSocket = stats.isSocket.bind(stats);\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\n    }\n}\nfunction createDirentFromStats(name, stats) {\n    return new DirentFromStats(name, stats);\n}\nexports.createDirentFromStats = createDirentFromStats;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fs = void 0;\nconst fs = require(\"./fs\");\nexports.fs = fs;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\nconst fs = require(\"fs\");\nexports.FILE_SYSTEM_ADAPTER = {\n    lstat: fs.lstat,\n    stat: fs.stat,\n    lstatSync: fs.lstatSync,\n    statSync: fs.statSync\n};\nfunction createFileSystemAdapter(fsMethods) {\n    if (fsMethods === undefined) {\n        return exports.FILE_SYSTEM_ADAPTER;\n    }\n    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\n}\nexports.createFileSystemAdapter = createFileSystemAdapter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.statSync = exports.stat = exports.Settings = void 0;\nconst async = require(\"./providers/async\");\nconst sync = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nexports.Settings = settings_1.default;\nfunction stat(path, optionsOrSettingsOrCallback, callback) {\n    if (typeof optionsOrSettingsOrCallback === 'function') {\n        async.read(path, getSettings(), optionsOrSettingsOrCallback);\n        return;\n    }\n    async.read(path, getSettings(optionsOrSettingsOrCallback), callback);\n}\nexports.stat = stat;\nfunction statSync(path, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    return sync.read(path, settings);\n}\nexports.statSync = statSync;\nfunction getSettings(settingsOrOptions = {}) {\n    if (settingsOrOptions instanceof settings_1.default) {\n        return settingsOrOptions;\n    }\n    return new settings_1.default(settingsOrOptions);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.read = void 0;\nfunction read(path, settings, callback) {\n    settings.fs.lstat(path, (lstatError, lstat) => {\n        if (lstatError !== null) {\n            callFailureCallback(callback, lstatError);\n            return;\n        }\n        if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\n            callSuccessCallback(callback, lstat);\n            return;\n        }\n        settings.fs.stat(path, (statError, stat) => {\n            if (statError !== null) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    callFailureCallback(callback, statError);\n                    return;\n                }\n                callSuccessCallback(callback, lstat);\n                return;\n            }\n            if (settings.markSymbolicLink) {\n                stat.isSymbolicLink = () => true;\n            }\n            callSuccessCallback(callback, stat);\n        });\n    });\n}\nexports.read = read;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, result) {\n    callback(null, result);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.read = void 0;\nfunction read(path, settings) {\n    const lstat = settings.fs.lstatSync(path);\n    if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\n        return lstat;\n    }\n    try {\n        const stat = settings.fs.statSync(path);\n        if (settings.markSymbolicLink) {\n            stat.isSymbolicLink = () => true;\n        }\n        return stat;\n    }\n    catch (error) {\n        if (!settings.throwErrorOnBrokenSymbolicLink) {\n            return lstat;\n        }\n        throw error;\n    }\n}\nexports.read = read;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"./adapters/fs\");\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.followSymbolicLink = this._getValue(this._options.followSymbolicLink, true);\n        this.fs = fs.createFileSystemAdapter(this._options.fs);\n        this.markSymbolicLink = this._getValue(this._options.markSymbolicLink, false);\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\n    }\n    _getValue(option, value) {\n        return option !== null && option !== void 0 ? option : value;\n    }\n}\nexports.default = Settings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Settings = exports.walkStream = exports.walkSync = exports.walk = void 0;\nconst async_1 = require(\"./providers/async\");\nconst stream_1 = require(\"./providers/stream\");\nconst sync_1 = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nexports.Settings = settings_1.default;\nfunction walk(directory, optionsOrSettingsOrCallback, callback) {\n    if (typeof optionsOrSettingsOrCallback === 'function') {\n        new async_1.default(directory, getSettings()).read(optionsOrSettingsOrCallback);\n        return;\n    }\n    new async_1.default(directory, getSettings(optionsOrSettingsOrCallback)).read(callback);\n}\nexports.walk = walk;\nfunction walkSync(directory, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    const provider = new sync_1.default(directory, settings);\n    return provider.read();\n}\nexports.walkSync = walkSync;\nfunction walkStream(directory, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    const provider = new stream_1.default(directory, settings);\n    return provider.read();\n}\nexports.walkStream = walkStream;\nfunction getSettings(settingsOrOptions = {}) {\n    if (settingsOrOptions instanceof settings_1.default) {\n        return settingsOrOptions;\n    }\n    return new settings_1.default(settingsOrOptions);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst async_1 = require(\"../readers/async\");\nclass AsyncProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new async_1.default(this._root, this._settings);\n        this._storage = [];\n    }\n    read(callback) {\n        this._reader.onError((error) => {\n            callFailureCallback(callback, error);\n        });\n        this._reader.onEntry((entry) => {\n            this._storage.push(entry);\n        });\n        this._reader.onEnd(() => {\n            callSuccessCallback(callback, this._storage);\n        });\n        this._reader.read();\n    }\n}\nexports.default = AsyncProvider;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, entries) {\n    callback(null, entries);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst async_1 = require(\"../readers/async\");\nclass StreamProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new async_1.default(this._root, this._settings);\n        this._stream = new stream_1.Readable({\n            objectMode: true,\n            read: () => { },\n            destroy: () => {\n                if (!this._reader.isDestroyed) {\n                    this._reader.destroy();\n                }\n            }\n        });\n    }\n    read() {\n        this._reader.onError((error) => {\n            this._stream.emit('error', error);\n        });\n        this._reader.onEntry((entry) => {\n            this._stream.push(entry);\n        });\n        this._reader.onEnd(() => {\n            this._stream.push(null);\n        });\n        this._reader.read();\n        return this._stream;\n    }\n}\nexports.default = StreamProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst sync_1 = require(\"../readers/sync\");\nclass SyncProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new sync_1.default(this._root, this._settings);\n    }\n    read() {\n        return this._reader.read();\n    }\n}\nexports.default = SyncProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nconst fastq = require(\"fastq\");\nconst common = require(\"./common\");\nconst reader_1 = require(\"./reader\");\nclass AsyncReader extends reader_1.default {\n    constructor(_root, _settings) {\n        super(_root, _settings);\n        this._settings = _settings;\n        this._scandir = fsScandir.scandir;\n        this._emitter = new events_1.EventEmitter();\n        this._queue = fastq(this._worker.bind(this), this._settings.concurrency);\n        this._isFatalError = false;\n        this._isDestroyed = false;\n        this._queue.drain = () => {\n            if (!this._isFatalError) {\n                this._emitter.emit('end');\n            }\n        };\n    }\n    read() {\n        this._isFatalError = false;\n        this._isDestroyed = false;\n        setImmediate(() => {\n            this._pushToQueue(this._root, this._settings.basePath);\n        });\n        return this._emitter;\n    }\n    get isDestroyed() {\n        return this._isDestroyed;\n    }\n    destroy() {\n        if (this._isDestroyed) {\n            throw new Error('The reader is already destroyed');\n        }\n        this._isDestroyed = true;\n        this._queue.killAndDrain();\n    }\n    onEntry(callback) {\n        this._emitter.on('entry', callback);\n    }\n    onError(callback) {\n        this._emitter.once('error', callback);\n    }\n    onEnd(callback) {\n        this._emitter.once('end', callback);\n    }\n    _pushToQueue(directory, base) {\n        const queueItem = { directory, base };\n        this._queue.push(queueItem, (error) => {\n            if (error !== null) {\n                this._handleError(error);\n            }\n        });\n    }\n    _worker(item, done) {\n        this._scandir(item.directory, this._settings.fsScandirSettings, (error, entries) => {\n            if (error !== null) {\n                done(error, undefined);\n                return;\n            }\n            for (const entry of entries) {\n                this._handleEntry(entry, item.base);\n            }\n            done(null, undefined);\n        });\n    }\n    _handleError(error) {\n        if (this._isDestroyed || !common.isFatalError(this._settings, error)) {\n            return;\n        }\n        this._isFatalError = true;\n        this._isDestroyed = true;\n        this._emitter.emit('error', error);\n    }\n    _handleEntry(entry, base) {\n        if (this._isDestroyed || this._isFatalError) {\n            return;\n        }\n        const fullpath = entry.path;\n        if (base !== undefined) {\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\n        }\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\n            this._emitEntry(entry);\n        }\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\n        }\n    }\n    _emitEntry(entry) {\n        this._emitter.emit('entry', entry);\n    }\n}\nexports.default = AsyncReader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.joinPathSegments = exports.replacePathSegmentSeparator = exports.isAppliedFilter = exports.isFatalError = void 0;\nfunction isFatalError(settings, error) {\n    if (settings.errorFilter === null) {\n        return true;\n    }\n    return !settings.errorFilter(error);\n}\nexports.isFatalError = isFatalError;\nfunction isAppliedFilter(filter, value) {\n    return filter === null || filter(value);\n}\nexports.isAppliedFilter = isAppliedFilter;\nfunction replacePathSegmentSeparator(filepath, separator) {\n    return filepath.split(/[/\\\\]/).join(separator);\n}\nexports.replacePathSegmentSeparator = replacePathSegmentSeparator;\nfunction joinPathSegments(a, b, separator) {\n    if (a === '') {\n        return b;\n    }\n    /**\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\n     */\n    if (a.endsWith(separator)) {\n        return a + b;\n    }\n    return a + separator + b;\n}\nexports.joinPathSegments = joinPathSegments;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common = require(\"./common\");\nclass Reader {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._root = common.replacePathSegmentSeparator(_root, _settings.pathSegmentSeparator);\n    }\n}\nexports.default = Reader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nconst common = require(\"./common\");\nconst reader_1 = require(\"./reader\");\nclass SyncReader extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._scandir = fsScandir.scandirSync;\n        this._storage = [];\n        this._queue = new Set();\n    }\n    read() {\n        this._pushToQueue(this._root, this._settings.basePath);\n        this._handleQueue();\n        return this._storage;\n    }\n    _pushToQueue(directory, base) {\n        this._queue.add({ directory, base });\n    }\n    _handleQueue() {\n        for (const item of this._queue.values()) {\n            this._handleDirectory(item.directory, item.base);\n        }\n    }\n    _handleDirectory(directory, base) {\n        try {\n            const entries = this._scandir(directory, this._settings.fsScandirSettings);\n            for (const entry of entries) {\n                this._handleEntry(entry, base);\n            }\n        }\n        catch (error) {\n            this._handleError(error);\n        }\n    }\n    _handleError(error) {\n        if (!common.isFatalError(this._settings, error)) {\n            return;\n        }\n        throw error;\n    }\n    _handleEntry(entry, base) {\n        const fullpath = entry.path;\n        if (base !== undefined) {\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\n        }\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\n            this._pushToStorage(entry);\n        }\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\n        }\n    }\n    _pushToStorage(entry) {\n        this._storage.push(entry);\n    }\n}\nexports.default = SyncReader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.basePath = this._getValue(this._options.basePath, undefined);\n        this.concurrency = this._getValue(this._options.concurrency, Number.POSITIVE_INFINITY);\n        this.deepFilter = this._getValue(this._options.deepFilter, null);\n        this.entryFilter = this._getValue(this._options.entryFilter, null);\n        this.errorFilter = this._getValue(this._options.errorFilter, null);\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path.sep);\n        this.fsScandirSettings = new fsScandir.Settings({\n            followSymbolicLinks: this._options.followSymbolicLinks,\n            fs: this._options.fs,\n            pathSegmentSeparator: this._options.pathSegmentSeparator,\n            stats: this._options.stats,\n            throwErrorOnBrokenSymbolicLink: this._options.throwErrorOnBrokenSymbolicLink\n        });\n    }\n    _getValue(option, value) {\n        return option !== null && option !== void 0 ? option : value;\n    }\n}\nexports.default = Settings;\n","'use strict';\n\nmodule.exports = (...arguments_) => {\n\treturn [...new Set([].concat(...arguments_))];\n};\n","'use strict';\n\nconst stringify = require('./lib/stringify');\nconst compile = require('./lib/compile');\nconst expand = require('./lib/expand');\nconst parse = require('./lib/parse');\n\n/**\n * Expand the given pattern or create a regex-compatible string.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']\n * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {String}\n * @api public\n */\n\nconst braces = (input, options = {}) => {\n  let output = [];\n\n  if (Array.isArray(input)) {\n    for (let pattern of input) {\n      let result = braces.create(pattern, options);\n      if (Array.isArray(result)) {\n        output.push(...result);\n      } else {\n        output.push(result);\n      }\n    }\n  } else {\n    output = [].concat(braces.create(input, options));\n  }\n\n  if (options && options.expand === true && options.nodupes === true) {\n    output = [...new Set(output)];\n  }\n  return output;\n};\n\n/**\n * Parse the given `str` with the given `options`.\n *\n * ```js\n * // braces.parse(pattern, [, options]);\n * const ast = braces.parse('a/{b,c}/d');\n * console.log(ast);\n * ```\n * @param {String} pattern Brace pattern to parse\n * @param {Object} options\n * @return {Object} Returns an AST\n * @api public\n */\n\nbraces.parse = (input, options = {}) => parse(input, options);\n\n/**\n * Creates a braces string from an AST, or an AST node.\n *\n * ```js\n * const braces = require('braces');\n * let ast = braces.parse('foo/{a,b}/bar');\n * console.log(stringify(ast.nodes[2])); //=> '{a,b}'\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.stringify = (input, options = {}) => {\n  if (typeof input === 'string') {\n    return stringify(braces.parse(input, options), options);\n  }\n  return stringify(input, options);\n};\n\n/**\n * Compiles a brace pattern into a regex-compatible, optimized string.\n * This method is called by the main [braces](#braces) function by default.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.compile('a/{b,c}/d'));\n * //=> ['a/(b|c)/d']\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.compile = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n  return compile(input, options);\n};\n\n/**\n * Expands a brace pattern into an array. This method is called by the\n * main [braces](#braces) function when `options.expand` is true. Before\n * using this method it's recommended that you read the [performance notes](#performance))\n * and advantages of using [.compile](#compile) instead.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.expand('a/{b,c}/d'));\n * //=> ['a/b/d', 'a/c/d'];\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.expand = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n\n  let result = expand(input, options);\n\n  // filter out empty strings if specified\n  if (options.noempty === true) {\n    result = result.filter(Boolean);\n  }\n\n  // filter out duplicates if specified\n  if (options.nodupes === true) {\n    result = [...new Set(result)];\n  }\n\n  return result;\n};\n\n/**\n * Processes a brace pattern and returns either an expanded array\n * (if `options.expand` is true), a highly optimized regex-compatible string.\n * This method is called by the main [braces](#braces) function.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))\n * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.create = (input, options = {}) => {\n  if (input === '' || input.length < 3) {\n    return [input];\n  }\n\n return options.expand !== true\n    ? braces.compile(input, options)\n    : braces.expand(input, options);\n};\n\n/**\n * Expose \"braces\"\n */\n\nmodule.exports = braces;\n","'use strict';\n\nconst fill = require('fill-range');\nconst utils = require('./utils');\n\nconst compile = (ast, options = {}) => {\n  let walk = (node, parent = {}) => {\n    let invalidBlock = utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let invalid = invalidBlock === true || invalidNode === true;\n    let prefix = options.escapeInvalid === true ? '\\\\' : '';\n    let output = '';\n\n    if (node.isOpen === true) {\n      return prefix + node.value;\n    }\n    if (node.isClose === true) {\n      return prefix + node.value;\n    }\n\n    if (node.type === 'open') {\n      return invalid ? (prefix + node.value) : '(';\n    }\n\n    if (node.type === 'close') {\n      return invalid ? (prefix + node.value) : ')';\n    }\n\n    if (node.type === 'comma') {\n      return node.prev.type === 'comma' ? '' : (invalid ? node.value : '|');\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n      let range = fill(...args, { ...options, wrap: false, toRegex: true });\n\n      if (range.length !== 0) {\n        return args.length > 1 && range.length > 1 ? `(${range})` : range;\n      }\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += walk(child, node);\n      }\n    }\n    return output;\n  };\n\n  return walk(ast);\n};\n\nmodule.exports = compile;\n","'use strict';\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n\n  // Digits\n  CHAR_0: '0', /* 0 */\n  CHAR_9: '9', /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 'A', /* A */\n  CHAR_LOWERCASE_A: 'a', /* a */\n  CHAR_UPPERCASE_Z: 'Z', /* Z */\n  CHAR_LOWERCASE_Z: 'z', /* z */\n\n  CHAR_LEFT_PARENTHESES: '(', /* ( */\n  CHAR_RIGHT_PARENTHESES: ')', /* ) */\n\n  CHAR_ASTERISK: '*', /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: '&', /* & */\n  CHAR_AT: '@', /* @ */\n  CHAR_BACKSLASH: '\\\\', /* \\ */\n  CHAR_BACKTICK: '`', /* ` */\n  CHAR_CARRIAGE_RETURN: '\\r', /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: '^', /* ^ */\n  CHAR_COLON: ':', /* : */\n  CHAR_COMMA: ',', /* , */\n  CHAR_DOLLAR: '$', /* . */\n  CHAR_DOT: '.', /* . */\n  CHAR_DOUBLE_QUOTE: '\"', /* \" */\n  CHAR_EQUAL: '=', /* = */\n  CHAR_EXCLAMATION_MARK: '!', /* ! */\n  CHAR_FORM_FEED: '\\f', /* \\f */\n  CHAR_FORWARD_SLASH: '/', /* / */\n  CHAR_HASH: '#', /* # */\n  CHAR_HYPHEN_MINUS: '-', /* - */\n  CHAR_LEFT_ANGLE_BRACKET: '<', /* < */\n  CHAR_LEFT_CURLY_BRACE: '{', /* { */\n  CHAR_LEFT_SQUARE_BRACKET: '[', /* [ */\n  CHAR_LINE_FEED: '\\n', /* \\n */\n  CHAR_NO_BREAK_SPACE: '\\u00A0', /* \\u00A0 */\n  CHAR_PERCENT: '%', /* % */\n  CHAR_PLUS: '+', /* + */\n  CHAR_QUESTION_MARK: '?', /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: '>', /* > */\n  CHAR_RIGHT_CURLY_BRACE: '}', /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: ']', /* ] */\n  CHAR_SEMICOLON: ';', /* ; */\n  CHAR_SINGLE_QUOTE: '\\'', /* ' */\n  CHAR_SPACE: ' ', /*   */\n  CHAR_TAB: '\\t', /* \\t */\n  CHAR_UNDERSCORE: '_', /* _ */\n  CHAR_VERTICAL_LINE: '|', /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: '\\uFEFF' /* \\uFEFF */\n};\n","'use strict';\n\nconst fill = require('fill-range');\nconst stringify = require('./stringify');\nconst utils = require('./utils');\n\nconst append = (queue = '', stash = '', enclose = false) => {\n  let result = [];\n\n  queue = [].concat(queue);\n  stash = [].concat(stash);\n\n  if (!stash.length) return queue;\n  if (!queue.length) {\n    return enclose ? utils.flatten(stash).map(ele => `{${ele}}`) : stash;\n  }\n\n  for (let item of queue) {\n    if (Array.isArray(item)) {\n      for (let value of item) {\n        result.push(append(value, stash, enclose));\n      }\n    } else {\n      for (let ele of stash) {\n        if (enclose === true && typeof ele === 'string') ele = `{${ele}}`;\n        result.push(Array.isArray(ele) ? append(item, ele, enclose) : (item + ele));\n      }\n    }\n  }\n  return utils.flatten(result);\n};\n\nconst expand = (ast, options = {}) => {\n  let rangeLimit = options.rangeLimit === void 0 ? 1000 : options.rangeLimit;\n\n  let walk = (node, parent = {}) => {\n    node.queue = [];\n\n    let p = parent;\n    let q = parent.queue;\n\n    while (p.type !== 'brace' && p.type !== 'root' && p.parent) {\n      p = p.parent;\n      q = p.queue;\n    }\n\n    if (node.invalid || node.dollar) {\n      q.push(append(q.pop(), stringify(node, options)));\n      return;\n    }\n\n    if (node.type === 'brace' && node.invalid !== true && node.nodes.length === 2) {\n      q.push(append(q.pop(), ['{}']));\n      return;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n\n      if (utils.exceedsLimit(...args, options.step, rangeLimit)) {\n        throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');\n      }\n\n      let range = fill(...args, options);\n      if (range.length === 0) {\n        range = stringify(node, options);\n      }\n\n      q.push(append(q.pop(), range));\n      node.nodes = [];\n      return;\n    }\n\n    let enclose = utils.encloseBrace(node);\n    let queue = node.queue;\n    let block = node;\n\n    while (block.type !== 'brace' && block.type !== 'root' && block.parent) {\n      block = block.parent;\n      queue = block.queue;\n    }\n\n    for (let i = 0; i < node.nodes.length; i++) {\n      let child = node.nodes[i];\n\n      if (child.type === 'comma' && node.type === 'brace') {\n        if (i === 1) queue.push('');\n        queue.push('');\n        continue;\n      }\n\n      if (child.type === 'close') {\n        q.push(append(q.pop(), queue, enclose));\n        continue;\n      }\n\n      if (child.value && child.type !== 'open') {\n        queue.push(append(queue.pop(), child.value));\n        continue;\n      }\n\n      if (child.nodes) {\n        walk(child, node);\n      }\n    }\n\n    return queue;\n  };\n\n  return utils.flatten(walk(ast));\n};\n\nmodule.exports = expand;\n","'use strict';\n\nconst stringify = require('./stringify');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  CHAR_BACKSLASH, /* \\ */\n  CHAR_BACKTICK, /* ` */\n  CHAR_COMMA, /* , */\n  CHAR_DOT, /* . */\n  CHAR_LEFT_PARENTHESES, /* ( */\n  CHAR_RIGHT_PARENTHESES, /* ) */\n  CHAR_LEFT_CURLY_BRACE, /* { */\n  CHAR_RIGHT_CURLY_BRACE, /* } */\n  CHAR_LEFT_SQUARE_BRACKET, /* [ */\n  CHAR_RIGHT_SQUARE_BRACKET, /* ] */\n  CHAR_DOUBLE_QUOTE, /* \" */\n  CHAR_SINGLE_QUOTE, /* ' */\n  CHAR_NO_BREAK_SPACE,\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE\n} = require('./constants');\n\n/**\n * parse\n */\n\nconst parse = (input, options = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  let opts = options || {};\n  let max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  if (input.length > max) {\n    throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`);\n  }\n\n  let ast = { type: 'root', input, nodes: [] };\n  let stack = [ast];\n  let block = ast;\n  let prev = ast;\n  let brackets = 0;\n  let length = input.length;\n  let index = 0;\n  let depth = 0;\n  let value;\n  let memo = {};\n\n  /**\n   * Helpers\n   */\n\n  const advance = () => input[index++];\n  const push = node => {\n    if (node.type === 'text' && prev.type === 'dot') {\n      prev.type = 'text';\n    }\n\n    if (prev && prev.type === 'text' && node.type === 'text') {\n      prev.value += node.value;\n      return;\n    }\n\n    block.nodes.push(node);\n    node.parent = block;\n    node.prev = prev;\n    prev = node;\n    return node;\n  };\n\n  push({ type: 'bos' });\n\n  while (index < length) {\n    block = stack[stack.length - 1];\n    value = advance();\n\n    /**\n     * Invalid chars\n     */\n\n    if (value === CHAR_ZERO_WIDTH_NOBREAK_SPACE || value === CHAR_NO_BREAK_SPACE) {\n      continue;\n    }\n\n    /**\n     * Escaped chars\n     */\n\n    if (value === CHAR_BACKSLASH) {\n      push({ type: 'text', value: (options.keepEscaping ? value : '') + advance() });\n      continue;\n    }\n\n    /**\n     * Right square bracket (literal): ']'\n     */\n\n    if (value === CHAR_RIGHT_SQUARE_BRACKET) {\n      push({ type: 'text', value: '\\\\' + value });\n      continue;\n    }\n\n    /**\n     * Left square bracket: '['\n     */\n\n    if (value === CHAR_LEFT_SQUARE_BRACKET) {\n      brackets++;\n\n      let closed = true;\n      let next;\n\n      while (index < length && (next = advance())) {\n        value += next;\n\n        if (next === CHAR_LEFT_SQUARE_BRACKET) {\n          brackets++;\n          continue;\n        }\n\n        if (next === CHAR_BACKSLASH) {\n          value += advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          brackets--;\n\n          if (brackets === 0) {\n            break;\n          }\n        }\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === CHAR_LEFT_PARENTHESES) {\n      block = push({ type: 'paren', nodes: [] });\n      stack.push(block);\n      push({ type: 'text', value });\n      continue;\n    }\n\n    if (value === CHAR_RIGHT_PARENTHESES) {\n      if (block.type !== 'paren') {\n        push({ type: 'text', value });\n        continue;\n      }\n      block = stack.pop();\n      push({ type: 'text', value });\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Quotes: '|\"|`\n     */\n\n    if (value === CHAR_DOUBLE_QUOTE || value === CHAR_SINGLE_QUOTE || value === CHAR_BACKTICK) {\n      let open = value;\n      let next;\n\n      if (options.keepQuotes !== true) {\n        value = '';\n      }\n\n      while (index < length && (next = advance())) {\n        if (next === CHAR_BACKSLASH) {\n          value += next + advance();\n          continue;\n        }\n\n        if (next === open) {\n          if (options.keepQuotes === true) value += next;\n          break;\n        }\n\n        value += next;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Left curly brace: '{'\n     */\n\n    if (value === CHAR_LEFT_CURLY_BRACE) {\n      depth++;\n\n      let dollar = prev.value && prev.value.slice(-1) === '$' || block.dollar === true;\n      let brace = {\n        type: 'brace',\n        open: true,\n        close: false,\n        dollar,\n        depth,\n        commas: 0,\n        ranges: 0,\n        nodes: []\n      };\n\n      block = push(brace);\n      stack.push(block);\n      push({ type: 'open', value });\n      continue;\n    }\n\n    /**\n     * Right curly brace: '}'\n     */\n\n    if (value === CHAR_RIGHT_CURLY_BRACE) {\n      if (block.type !== 'brace') {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      let type = 'close';\n      block = stack.pop();\n      block.close = true;\n\n      push({ type, value });\n      depth--;\n\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Comma: ','\n     */\n\n    if (value === CHAR_COMMA && depth > 0) {\n      if (block.ranges > 0) {\n        block.ranges = 0;\n        let open = block.nodes.shift();\n        block.nodes = [open, { type: 'text', value: stringify(block) }];\n      }\n\n      push({ type: 'comma', value });\n      block.commas++;\n      continue;\n    }\n\n    /**\n     * Dot: '.'\n     */\n\n    if (value === CHAR_DOT && depth > 0 && block.commas === 0) {\n      let siblings = block.nodes;\n\n      if (depth === 0 || siblings.length === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      if (prev.type === 'dot') {\n        block.range = [];\n        prev.value += value;\n        prev.type = 'range';\n\n        if (block.nodes.length !== 3 && block.nodes.length !== 5) {\n          block.invalid = true;\n          block.ranges = 0;\n          prev.type = 'text';\n          continue;\n        }\n\n        block.ranges++;\n        block.args = [];\n        continue;\n      }\n\n      if (prev.type === 'range') {\n        siblings.pop();\n\n        let before = siblings[siblings.length - 1];\n        before.value += prev.value + value;\n        prev = before;\n        block.ranges--;\n        continue;\n      }\n\n      push({ type: 'dot', value });\n      continue;\n    }\n\n    /**\n     * Text\n     */\n\n    push({ type: 'text', value });\n  }\n\n  // Mark imbalanced braces and brackets as invalid\n  do {\n    block = stack.pop();\n\n    if (block.type !== 'root') {\n      block.nodes.forEach(node => {\n        if (!node.nodes) {\n          if (node.type === 'open') node.isOpen = true;\n          if (node.type === 'close') node.isClose = true;\n          if (!node.nodes) node.type = 'text';\n          node.invalid = true;\n        }\n      });\n\n      // get the location of the block on parent.nodes (block's siblings)\n      let parent = stack[stack.length - 1];\n      let index = parent.nodes.indexOf(block);\n      // replace the (invalid) block with it's nodes\n      parent.nodes.splice(index, 1, ...block.nodes);\n    }\n  } while (stack.length > 0);\n\n  push({ type: 'eos' });\n  return ast;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst utils = require('./utils');\n\nmodule.exports = (ast, options = {}) => {\n  let stringify = (node, parent = {}) => {\n    let invalidBlock = options.escapeInvalid && utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let output = '';\n\n    if (node.value) {\n      if ((invalidBlock || invalidNode) && utils.isOpenOrClose(node)) {\n        return '\\\\' + node.value;\n      }\n      return node.value;\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += stringify(child);\n      }\n    }\n    return output;\n  };\n\n  return stringify(ast);\n};\n\n","'use strict';\n\nexports.isInteger = num => {\n  if (typeof num === 'number') {\n    return Number.isInteger(num);\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isInteger(Number(num));\n  }\n  return false;\n};\n\n/**\n * Find a node of the given type\n */\n\nexports.find = (node, type) => node.nodes.find(node => node.type === type);\n\n/**\n * Find a node of the given type\n */\n\nexports.exceedsLimit = (min, max, step = 1, limit) => {\n  if (limit === false) return false;\n  if (!exports.isInteger(min) || !exports.isInteger(max)) return false;\n  return ((Number(max) - Number(min)) / Number(step)) >= limit;\n};\n\n/**\n * Escape the given node with '\\\\' before node.value\n */\n\nexports.escapeNode = (block, n = 0, type) => {\n  let node = block.nodes[n];\n  if (!node) return;\n\n  if ((type && node.type === type) || node.type === 'open' || node.type === 'close') {\n    if (node.escaped !== true) {\n      node.value = '\\\\' + node.value;\n      node.escaped = true;\n    }\n  }\n};\n\n/**\n * Returns true if the given brace node should be enclosed in literal braces\n */\n\nexports.encloseBrace = node => {\n  if (node.type !== 'brace') return false;\n  if ((node.commas >> 0 + node.ranges >> 0) === 0) {\n    node.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a brace node is invalid.\n */\n\nexports.isInvalidBrace = block => {\n  if (block.type !== 'brace') return false;\n  if (block.invalid === true || block.dollar) return true;\n  if ((block.commas >> 0 + block.ranges >> 0) === 0) {\n    block.invalid = true;\n    return true;\n  }\n  if (block.open !== true || block.close !== true) {\n    block.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a node is an open or close node\n */\n\nexports.isOpenOrClose = node => {\n  if (node.type === 'open' || node.type === 'close') {\n    return true;\n  }\n  return node.open === true || node.close === true;\n};\n\n/**\n * Reduce an array of text nodes.\n */\n\nexports.reduce = nodes => nodes.reduce((acc, node) => {\n  if (node.type === 'text') acc.push(node.value);\n  if (node.type === 'range') node.type = 'text';\n  return acc;\n}, []);\n\n/**\n * Flatten an array\n */\n\nexports.flatten = (...args) => {\n  const result = [];\n  const flat = arr => {\n    for (let i = 0; i < arr.length; i++) {\n      let ele = arr[i];\n      Array.isArray(ele) ? flat(ele, result) : ele !== void 0 && result.push(ele);\n    }\n    return result;\n  };\n  flat(args);\n  return result;\n};\n","'use strict';\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nconst mask = (source, mask, output, offset, length) => {\n  for (var i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n};\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nconst unmask = (buffer, mask) => {\n  // Required until https://github.com/nodejs/node/issues/9006 is resolved.\n  const length = buffer.length;\n  for (var i = 0; i < length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n};\n\nmodule.exports = { mask, unmask };\n","'use strict';\n\ntry {\n  module.exports = require('node-gyp-build')(__dirname);\n} catch (e) {\n  module.exports = require('./fallback');\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","'use strict';\nconst path = require('path');\nconst pathType = require('path-type');\n\nconst getExtensions = extensions => extensions.length > 1 ? `{${extensions.join(',')}}` : extensions[0];\n\nconst getPath = (filepath, cwd) => {\n\tconst pth = filepath[0] === '!' ? filepath.slice(1) : filepath;\n\treturn path.isAbsolute(pth) ? pth : path.join(cwd, pth);\n};\n\nconst addExtensions = (file, extensions) => {\n\tif (path.extname(file)) {\n\t\treturn `**/${file}`;\n\t}\n\n\treturn `**/${file}.${getExtensions(extensions)}`;\n};\n\nconst getGlob = (directory, options) => {\n\tif (options.files && !Array.isArray(options.files)) {\n\t\tthrow new TypeError(`Expected \\`files\\` to be of type \\`Array\\` but received type \\`${typeof options.files}\\``);\n\t}\n\n\tif (options.extensions && !Array.isArray(options.extensions)) {\n\t\tthrow new TypeError(`Expected \\`extensions\\` to be of type \\`Array\\` but received type \\`${typeof options.extensions}\\``);\n\t}\n\n\tif (options.files && options.extensions) {\n\t\treturn options.files.map(x => path.posix.join(directory, addExtensions(x, options.extensions)));\n\t}\n\n\tif (options.files) {\n\t\treturn options.files.map(x => path.posix.join(directory, `**/${x}`));\n\t}\n\n\tif (options.extensions) {\n\t\treturn [path.posix.join(directory, `**/*.${getExtensions(options.extensions)}`)];\n\t}\n\n\treturn [path.posix.join(directory, '**')];\n};\n\nmodule.exports = async (input, options) => {\n\toptions = {\n\t\tcwd: process.cwd(),\n\t\t...options\n\t};\n\n\tif (typeof options.cwd !== 'string') {\n\t\tthrow new TypeError(`Expected \\`cwd\\` to be of type \\`string\\` but received type \\`${typeof options.cwd}\\``);\n\t}\n\n\tconst globs = await Promise.all([].concat(input).map(async x => {\n\t\tconst isDirectory = await pathType.isDirectory(getPath(x, options.cwd));\n\t\treturn isDirectory ? getGlob(x, options) : x;\n\t}));\n\n\treturn [].concat.apply([], globs); // eslint-disable-line prefer-spread\n};\n\nmodule.exports.sync = (input, options) => {\n\toptions = {\n\t\tcwd: process.cwd(),\n\t\t...options\n\t};\n\n\tif (typeof options.cwd !== 'string') {\n\t\tthrow new TypeError(`Expected \\`cwd\\` to be of type \\`string\\` but received type \\`${typeof options.cwd}\\``);\n\t}\n\n\tconst globs = [].concat(input).map(x => pathType.isDirectorySync(getPath(x, options.cwd)) ? getGlob(x, options) : x);\n\n\treturn [].concat.apply([], globs); // eslint-disable-line prefer-spread\n};\n","'use strict';\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0x00) {  // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {  // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0  // overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {  // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80 ||  // overlong\n        buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0  // surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {  // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80 ||  // overlong\n        buf[i] === 0xf4 && buf[i + 1] > 0x8f || buf[i] > 0xf4  // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = isValidUTF8;\n","'use strict';\n\ntry {\n  module.exports = require('node-gyp-build')(__dirname);\n} catch (e) {\n  module.exports = require('./fallback');\n}\n","'use strict';\n\nconst WebSocket = require('./lib/websocket');\n\nWebSocket.createWebSocketStream = require('./lib/stream');\nWebSocket.Server = require('./lib/websocket-server');\nWebSocket.Receiver = require('./lib/receiver');\nWebSocket.Sender = require('./lib/sender');\n\nWebSocket.WebSocket = WebSocket;\nWebSocket.WebSocketServer = WebSocket.Server;\n\nmodule.exports = WebSocket;\n","'use strict';\n\nconst { EMPTY_BUFFER } = require('./constants');\n\n/**\n * Merges an array of buffers into a new buffer.\n *\n * @param {Buffer[]} list The array of buffers to concat\n * @param {Number} totalLength The total length of buffers in the list\n * @return {Buffer} The resulting buffer\n * @public\n */\nfunction concat(list, totalLength) {\n  if (list.length === 0) return EMPTY_BUFFER;\n  if (list.length === 1) return list[0];\n\n  const target = Buffer.allocUnsafe(totalLength);\n  let offset = 0;\n\n  for (let i = 0; i < list.length; i++) {\n    const buf = list[i];\n    target.set(buf, offset);\n    offset += buf.length;\n  }\n\n  if (offset < totalLength) return target.slice(0, offset);\n\n  return target;\n}\n\n/**\n * Masks a buffer using the given mask.\n *\n * @param {Buffer} source The buffer to mask\n * @param {Buffer} mask The mask to use\n * @param {Buffer} output The buffer where to store the result\n * @param {Number} offset The offset at which to start writing\n * @param {Number} length The number of bytes to mask.\n * @public\n */\nfunction _mask(source, mask, output, offset, length) {\n  for (let i = 0; i < length; i++) {\n    output[offset + i] = source[i] ^ mask[i & 3];\n  }\n}\n\n/**\n * Unmasks a buffer using the given mask.\n *\n * @param {Buffer} buffer The buffer to unmask\n * @param {Buffer} mask The mask to use\n * @public\n */\nfunction _unmask(buffer, mask) {\n  for (let i = 0; i < buffer.length; i++) {\n    buffer[i] ^= mask[i & 3];\n  }\n}\n\n/**\n * Converts a buffer to an `ArrayBuffer`.\n *\n * @param {Buffer} buf The buffer to convert\n * @return {ArrayBuffer} Converted buffer\n * @public\n */\nfunction toArrayBuffer(buf) {\n  if (buf.byteLength === buf.buffer.byteLength) {\n    return buf.buffer;\n  }\n\n  return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n}\n\n/**\n * Converts `data` to a `Buffer`.\n *\n * @param {*} data The data to convert\n * @return {Buffer} The buffer\n * @throws {TypeError}\n * @public\n */\nfunction toBuffer(data) {\n  toBuffer.readOnly = true;\n\n  if (Buffer.isBuffer(data)) return data;\n\n  let buf;\n\n  if (data instanceof ArrayBuffer) {\n    buf = Buffer.from(data);\n  } else if (ArrayBuffer.isView(data)) {\n    buf = Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n  } else {\n    buf = Buffer.from(data);\n    toBuffer.readOnly = false;\n  }\n\n  return buf;\n}\n\nmodule.exports = {\n  concat,\n  mask: _mask,\n  toArrayBuffer,\n  toBuffer,\n  unmask: _unmask\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_BUFFER_UTIL) {\n  try {\n    const bufferUtil = require('bufferutil');\n\n    module.exports.mask = function (source, mask, output, offset, length) {\n      if (length < 48) _mask(source, mask, output, offset, length);\n      else bufferUtil.mask(source, mask, output, offset, length);\n    };\n\n    module.exports.unmask = function (buffer, mask) {\n      if (buffer.length < 32) _unmask(buffer, mask);\n      else bufferUtil.unmask(buffer, mask);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","'use strict';\n\nmodule.exports = {\n  BINARY_TYPES: ['nodebuffer', 'arraybuffer', 'fragments'],\n  EMPTY_BUFFER: Buffer.alloc(0),\n  GUID: '258EAFA5-E914-47DA-95CA-C5AB0DC85B11',\n  kForOnEventAttribute: Symbol('kIsForOnEventAttribute'),\n  kListener: Symbol('kListener'),\n  kStatusCode: Symbol('status-code'),\n  kWebSocket: Symbol('websocket'),\n  NOOP: () => {}\n};\n","'use strict';\n\nconst { kForOnEventAttribute, kListener } = require('./constants');\n\nconst kCode = Symbol('kCode');\nconst kData = Symbol('kData');\nconst kError = Symbol('kError');\nconst kMessage = Symbol('kMessage');\nconst kReason = Symbol('kReason');\nconst kTarget = Symbol('kTarget');\nconst kType = Symbol('kType');\nconst kWasClean = Symbol('kWasClean');\n\n/**\n * Class representing an event.\n */\nclass Event {\n  /**\n   * Create a new `Event`.\n   *\n   * @param {String} type The name of the event\n   * @throws {TypeError} If the `type` argument is not specified\n   */\n  constructor(type) {\n    this[kTarget] = null;\n    this[kType] = type;\n  }\n\n  /**\n   * @type {*}\n   */\n  get target() {\n    return this[kTarget];\n  }\n\n  /**\n   * @type {String}\n   */\n  get type() {\n    return this[kType];\n  }\n}\n\nObject.defineProperty(Event.prototype, 'target', { enumerable: true });\nObject.defineProperty(Event.prototype, 'type', { enumerable: true });\n\n/**\n * Class representing a close event.\n *\n * @extends Event\n */\nclass CloseEvent extends Event {\n  /**\n   * Create a new `CloseEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {Number} [options.code=0] The status code explaining why the\n   *     connection was closed\n   * @param {String} [options.reason=''] A human-readable string explaining why\n   *     the connection was closed\n   * @param {Boolean} [options.wasClean=false] Indicates whether or not the\n   *     connection was cleanly closed\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kCode] = options.code === undefined ? 0 : options.code;\n    this[kReason] = options.reason === undefined ? '' : options.reason;\n    this[kWasClean] = options.wasClean === undefined ? false : options.wasClean;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get code() {\n    return this[kCode];\n  }\n\n  /**\n   * @type {String}\n   */\n  get reason() {\n    return this[kReason];\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get wasClean() {\n    return this[kWasClean];\n  }\n}\n\nObject.defineProperty(CloseEvent.prototype, 'code', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'reason', { enumerable: true });\nObject.defineProperty(CloseEvent.prototype, 'wasClean', { enumerable: true });\n\n/**\n * Class representing an error event.\n *\n * @extends Event\n */\nclass ErrorEvent extends Event {\n  /**\n   * Create a new `ErrorEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.error=null] The error that generated this event\n   * @param {String} [options.message=''] The error message\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kError] = options.error === undefined ? null : options.error;\n    this[kMessage] = options.message === undefined ? '' : options.message;\n  }\n\n  /**\n   * @type {*}\n   */\n  get error() {\n    return this[kError];\n  }\n\n  /**\n   * @type {String}\n   */\n  get message() {\n    return this[kMessage];\n  }\n}\n\nObject.defineProperty(ErrorEvent.prototype, 'error', { enumerable: true });\nObject.defineProperty(ErrorEvent.prototype, 'message', { enumerable: true });\n\n/**\n * Class representing a message event.\n *\n * @extends Event\n */\nclass MessageEvent extends Event {\n  /**\n   * Create a new `MessageEvent`.\n   *\n   * @param {String} type The name of the event\n   * @param {Object} [options] A dictionary object that allows for setting\n   *     attributes via object members of the same name\n   * @param {*} [options.data=null] The message content\n   */\n  constructor(type, options = {}) {\n    super(type);\n\n    this[kData] = options.data === undefined ? null : options.data;\n  }\n\n  /**\n   * @type {*}\n   */\n  get data() {\n    return this[kData];\n  }\n}\n\nObject.defineProperty(MessageEvent.prototype, 'data', { enumerable: true });\n\n/**\n * This provides methods for emulating the `EventTarget` interface. It's not\n * meant to be used directly.\n *\n * @mixin\n */\nconst EventTarget = {\n  /**\n   * Register an event listener.\n   *\n   * @param {String} type A string representing the event type to listen for\n   * @param {(Function|Object)} handler The listener to add\n   * @param {Object} [options] An options object specifies characteristics about\n   *     the event listener\n   * @param {Boolean} [options.once=false] A `Boolean` indicating that the\n   *     listener should be invoked at most once after being added. If `true`,\n   *     the listener would be automatically removed when invoked.\n   * @public\n   */\n  addEventListener(type, handler, options = {}) {\n    for (const listener of this.listeners(type)) {\n      if (\n        !options[kForOnEventAttribute] &&\n        listener[kListener] === handler &&\n        !listener[kForOnEventAttribute]\n      ) {\n        return;\n      }\n    }\n\n    let wrapper;\n\n    if (type === 'message') {\n      wrapper = function onMessage(data, isBinary) {\n        const event = new MessageEvent('message', {\n          data: isBinary ? data : data.toString()\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'close') {\n      wrapper = function onClose(code, message) {\n        const event = new CloseEvent('close', {\n          code,\n          reason: message.toString(),\n          wasClean: this._closeFrameReceived && this._closeFrameSent\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'error') {\n      wrapper = function onError(error) {\n        const event = new ErrorEvent('error', {\n          error,\n          message: error.message\n        });\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else if (type === 'open') {\n      wrapper = function onOpen() {\n        const event = new Event('open');\n\n        event[kTarget] = this;\n        callListener(handler, this, event);\n      };\n    } else {\n      return;\n    }\n\n    wrapper[kForOnEventAttribute] = !!options[kForOnEventAttribute];\n    wrapper[kListener] = handler;\n\n    if (options.once) {\n      this.once(type, wrapper);\n    } else {\n      this.on(type, wrapper);\n    }\n  },\n\n  /**\n   * Remove an event listener.\n   *\n   * @param {String} type A string representing the event type to remove\n   * @param {(Function|Object)} handler The listener to remove\n   * @public\n   */\n  removeEventListener(type, handler) {\n    for (const listener of this.listeners(type)) {\n      if (listener[kListener] === handler && !listener[kForOnEventAttribute]) {\n        this.removeListener(type, listener);\n        break;\n      }\n    }\n  }\n};\n\nmodule.exports = {\n  CloseEvent,\n  ErrorEvent,\n  Event,\n  EventTarget,\n  MessageEvent\n};\n\n/**\n * Call an event listener\n *\n * @param {(Function|Object)} listener The listener to call\n * @param {*} thisArg The value to use as `this`` when calling the listener\n * @param {Event} event The event to pass to the listener\n * @private\n */\nfunction callListener(listener, thisArg, event) {\n  if (typeof listener === 'object' && listener.handleEvent) {\n    listener.handleEvent.call(listener, event);\n  } else {\n    listener.call(thisArg, event);\n  }\n}\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Adds an offer to the map of extension offers or a parameter to the map of\n * parameters.\n *\n * @param {Object} dest The map of extension offers or parameters\n * @param {String} name The extension or parameter name\n * @param {(Object|Boolean|String)} elem The extension parameters or the\n *     parameter value\n * @private\n */\nfunction push(dest, name, elem) {\n  if (dest[name] === undefined) dest[name] = [elem];\n  else dest[name].push(elem);\n}\n\n/**\n * Parses the `Sec-WebSocket-Extensions` header into an object.\n *\n * @param {String} header The field value of the header\n * @return {Object} The parsed object\n * @public\n */\nfunction parse(header) {\n  const offers = Object.create(null);\n  let params = Object.create(null);\n  let mustUnescape = false;\n  let isEscaping = false;\n  let inQuotes = false;\n  let extensionName;\n  let paramName;\n  let start = -1;\n  let code = -1;\n  let end = -1;\n  let i = 0;\n\n  for (; i < header.length; i++) {\n    code = header.charCodeAt(i);\n\n    if (extensionName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (\n        i !== 0 &&\n        (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n      ) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b /* ';' */ || code === 0x2c /* ',' */) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        const name = header.slice(start, end);\n        if (code === 0x2c) {\n          push(offers, name, params);\n          params = Object.create(null);\n        } else {\n          extensionName = name;\n        }\n\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else if (paramName === undefined) {\n      if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (code === 0x20 || code === 0x09) {\n        if (end === -1 && start !== -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        push(params, header.slice(start, end), true);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        start = end = -1;\n      } else if (code === 0x3d /* '=' */ && start !== -1 && end === -1) {\n        paramName = header.slice(start, i);\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    } else {\n      //\n      // The value of a quoted-string after unescaping must conform to the\n      // token ABNF, so only token characters are valid.\n      // Ref: https://tools.ietf.org/html/rfc6455#section-9.1\n      //\n      if (isEscaping) {\n        if (tokenChars[code] !== 1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n        if (start === -1) start = i;\n        else if (!mustUnescape) mustUnescape = true;\n        isEscaping = false;\n      } else if (inQuotes) {\n        if (tokenChars[code] === 1) {\n          if (start === -1) start = i;\n        } else if (code === 0x22 /* '\"' */ && start !== -1) {\n          inQuotes = false;\n          end = i;\n        } else if (code === 0x5c /* '\\' */) {\n          isEscaping = true;\n        } else {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n      } else if (code === 0x22 && header.charCodeAt(i - 1) === 0x3d) {\n        inQuotes = true;\n      } else if (end === -1 && tokenChars[code] === 1) {\n        if (start === -1) start = i;\n      } else if (start !== -1 && (code === 0x20 || code === 0x09)) {\n        if (end === -1) end = i;\n      } else if (code === 0x3b || code === 0x2c) {\n        if (start === -1) {\n          throw new SyntaxError(`Unexpected character at index ${i}`);\n        }\n\n        if (end === -1) end = i;\n        let value = header.slice(start, end);\n        if (mustUnescape) {\n          value = value.replace(/\\\\/g, '');\n          mustUnescape = false;\n        }\n        push(params, paramName, value);\n        if (code === 0x2c) {\n          push(offers, extensionName, params);\n          params = Object.create(null);\n          extensionName = undefined;\n        }\n\n        paramName = undefined;\n        start = end = -1;\n      } else {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n    }\n  }\n\n  if (start === -1 || inQuotes || code === 0x20 || code === 0x09) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  if (end === -1) end = i;\n  const token = header.slice(start, end);\n  if (extensionName === undefined) {\n    push(offers, token, params);\n  } else {\n    if (paramName === undefined) {\n      push(params, token, true);\n    } else if (mustUnescape) {\n      push(params, paramName, token.replace(/\\\\/g, ''));\n    } else {\n      push(params, paramName, token);\n    }\n    push(offers, extensionName, params);\n  }\n\n  return offers;\n}\n\n/**\n * Builds the `Sec-WebSocket-Extensions` header field value.\n *\n * @param {Object} extensions The map of extensions and parameters to format\n * @return {String} A string representing the given object\n * @public\n */\nfunction format(extensions) {\n  return Object.keys(extensions)\n    .map((extension) => {\n      let configurations = extensions[extension];\n      if (!Array.isArray(configurations)) configurations = [configurations];\n      return configurations\n        .map((params) => {\n          return [extension]\n            .concat(\n              Object.keys(params).map((k) => {\n                let values = params[k];\n                if (!Array.isArray(values)) values = [values];\n                return values\n                  .map((v) => (v === true ? k : `${k}=${v}`))\n                  .join('; ');\n              })\n            )\n            .join('; ');\n        })\n        .join(', ');\n    })\n    .join(', ');\n}\n\nmodule.exports = { format, parse };\n","'use strict';\n\nconst kDone = Symbol('kDone');\nconst kRun = Symbol('kRun');\n\n/**\n * A very simple job queue with adjustable concurrency. Adapted from\n * https://github.com/STRML/async-limiter\n */\nclass Limiter {\n  /**\n   * Creates a new `Limiter`.\n   *\n   * @param {Number} [concurrency=Infinity] The maximum number of jobs allowed\n   *     to run concurrently\n   */\n  constructor(concurrency) {\n    this[kDone] = () => {\n      this.pending--;\n      this[kRun]();\n    };\n    this.concurrency = concurrency || Infinity;\n    this.jobs = [];\n    this.pending = 0;\n  }\n\n  /**\n   * Adds a job to the queue.\n   *\n   * @param {Function} job The job to run\n   * @public\n   */\n  add(job) {\n    this.jobs.push(job);\n    this[kRun]();\n  }\n\n  /**\n   * Removes a job from the queue and runs it if possible.\n   *\n   * @private\n   */\n  [kRun]() {\n    if (this.pending === this.concurrency) return;\n\n    if (this.jobs.length) {\n      const job = this.jobs.shift();\n\n      this.pending++;\n      job(this[kDone]);\n    }\n  }\n}\n\nmodule.exports = Limiter;\n","'use strict';\n\nconst zlib = require('zlib');\n\nconst bufferUtil = require('./buffer-util');\nconst Limiter = require('./limiter');\nconst { kStatusCode } = require('./constants');\n\nconst TRAILER = Buffer.from([0x00, 0x00, 0xff, 0xff]);\nconst kPerMessageDeflate = Symbol('permessage-deflate');\nconst kTotalLength = Symbol('total-length');\nconst kCallback = Symbol('callback');\nconst kBuffers = Symbol('buffers');\nconst kError = Symbol('error');\n\n//\n// We limit zlib concurrency, which prevents severe memory fragmentation\n// as documented in https://github.com/nodejs/node/issues/8871#issuecomment-250915913\n// and https://github.com/websockets/ws/issues/1202\n//\n// Intentionally global; it's the global thread pool that's an issue.\n//\nlet zlibLimiter;\n\n/**\n * permessage-deflate implementation.\n */\nclass PerMessageDeflate {\n  /**\n   * Creates a PerMessageDeflate instance.\n   *\n   * @param {Object} [options] Configuration options\n   * @param {(Boolean|Number)} [options.clientMaxWindowBits] Advertise support\n   *     for, or request, a custom client window size\n   * @param {Boolean} [options.clientNoContextTakeover=false] Advertise/\n   *     acknowledge disabling of client context takeover\n   * @param {Number} [options.concurrencyLimit=10] The number of concurrent\n   *     calls to zlib\n   * @param {(Boolean|Number)} [options.serverMaxWindowBits] Request/confirm the\n   *     use of a custom server window size\n   * @param {Boolean} [options.serverNoContextTakeover=false] Request/accept\n   *     disabling of server context takeover\n   * @param {Number} [options.threshold=1024] Size (in bytes) below which\n   *     messages should not be compressed if context takeover is disabled\n   * @param {Object} [options.zlibDeflateOptions] Options to pass to zlib on\n   *     deflate\n   * @param {Object} [options.zlibInflateOptions] Options to pass to zlib on\n   *     inflate\n   * @param {Boolean} [isServer=false] Create the instance in either server or\n   *     client mode\n   * @param {Number} [maxPayload=0] The maximum allowed message length\n   */\n  constructor(options, isServer, maxPayload) {\n    this._maxPayload = maxPayload | 0;\n    this._options = options || {};\n    this._threshold =\n      this._options.threshold !== undefined ? this._options.threshold : 1024;\n    this._isServer = !!isServer;\n    this._deflate = null;\n    this._inflate = null;\n\n    this.params = null;\n\n    if (!zlibLimiter) {\n      const concurrency =\n        this._options.concurrencyLimit !== undefined\n          ? this._options.concurrencyLimit\n          : 10;\n      zlibLimiter = new Limiter(concurrency);\n    }\n  }\n\n  /**\n   * @type {String}\n   */\n  static get extensionName() {\n    return 'permessage-deflate';\n  }\n\n  /**\n   * Create an extension negotiation offer.\n   *\n   * @return {Object} Extension parameters\n   * @public\n   */\n  offer() {\n    const params = {};\n\n    if (this._options.serverNoContextTakeover) {\n      params.server_no_context_takeover = true;\n    }\n    if (this._options.clientNoContextTakeover) {\n      params.client_no_context_takeover = true;\n    }\n    if (this._options.serverMaxWindowBits) {\n      params.server_max_window_bits = this._options.serverMaxWindowBits;\n    }\n    if (this._options.clientMaxWindowBits) {\n      params.client_max_window_bits = this._options.clientMaxWindowBits;\n    } else if (this._options.clientMaxWindowBits == null) {\n      params.client_max_window_bits = true;\n    }\n\n    return params;\n  }\n\n  /**\n   * Accept an extension negotiation offer/response.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Object} Accepted configuration\n   * @public\n   */\n  accept(configurations) {\n    configurations = this.normalizeParams(configurations);\n\n    this.params = this._isServer\n      ? this.acceptAsServer(configurations)\n      : this.acceptAsClient(configurations);\n\n    return this.params;\n  }\n\n  /**\n   * Releases all resources used by the extension.\n   *\n   * @public\n   */\n  cleanup() {\n    if (this._inflate) {\n      this._inflate.close();\n      this._inflate = null;\n    }\n\n    if (this._deflate) {\n      const callback = this._deflate[kCallback];\n\n      this._deflate.close();\n      this._deflate = null;\n\n      if (callback) {\n        callback(\n          new Error(\n            'The deflate stream was closed while data was being processed'\n          )\n        );\n      }\n    }\n  }\n\n  /**\n   *  Accept an extension negotiation offer.\n   *\n   * @param {Array} offers The extension negotiation offers\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsServer(offers) {\n    const opts = this._options;\n    const accepted = offers.find((params) => {\n      if (\n        (opts.serverNoContextTakeover === false &&\n          params.server_no_context_takeover) ||\n        (params.server_max_window_bits &&\n          (opts.serverMaxWindowBits === false ||\n            (typeof opts.serverMaxWindowBits === 'number' &&\n              opts.serverMaxWindowBits > params.server_max_window_bits))) ||\n        (typeof opts.clientMaxWindowBits === 'number' &&\n          !params.client_max_window_bits)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!accepted) {\n      throw new Error('None of the extension offers can be accepted');\n    }\n\n    if (opts.serverNoContextTakeover) {\n      accepted.server_no_context_takeover = true;\n    }\n    if (opts.clientNoContextTakeover) {\n      accepted.client_no_context_takeover = true;\n    }\n    if (typeof opts.serverMaxWindowBits === 'number') {\n      accepted.server_max_window_bits = opts.serverMaxWindowBits;\n    }\n    if (typeof opts.clientMaxWindowBits === 'number') {\n      accepted.client_max_window_bits = opts.clientMaxWindowBits;\n    } else if (\n      accepted.client_max_window_bits === true ||\n      opts.clientMaxWindowBits === false\n    ) {\n      delete accepted.client_max_window_bits;\n    }\n\n    return accepted;\n  }\n\n  /**\n   * Accept the extension negotiation response.\n   *\n   * @param {Array} response The extension negotiation response\n   * @return {Object} Accepted configuration\n   * @private\n   */\n  acceptAsClient(response) {\n    const params = response[0];\n\n    if (\n      this._options.clientNoContextTakeover === false &&\n      params.client_no_context_takeover\n    ) {\n      throw new Error('Unexpected parameter \"client_no_context_takeover\"');\n    }\n\n    if (!params.client_max_window_bits) {\n      if (typeof this._options.clientMaxWindowBits === 'number') {\n        params.client_max_window_bits = this._options.clientMaxWindowBits;\n      }\n    } else if (\n      this._options.clientMaxWindowBits === false ||\n      (typeof this._options.clientMaxWindowBits === 'number' &&\n        params.client_max_window_bits > this._options.clientMaxWindowBits)\n    ) {\n      throw new Error(\n        'Unexpected or invalid parameter \"client_max_window_bits\"'\n      );\n    }\n\n    return params;\n  }\n\n  /**\n   * Normalize parameters.\n   *\n   * @param {Array} configurations The extension negotiation offers/reponse\n   * @return {Array} The offers/response with normalized parameters\n   * @private\n   */\n  normalizeParams(configurations) {\n    configurations.forEach((params) => {\n      Object.keys(params).forEach((key) => {\n        let value = params[key];\n\n        if (value.length > 1) {\n          throw new Error(`Parameter \"${key}\" must have only a single value`);\n        }\n\n        value = value[0];\n\n        if (key === 'client_max_window_bits') {\n          if (value !== true) {\n            const num = +value;\n            if (!Number.isInteger(num) || num < 8 || num > 15) {\n              throw new TypeError(\n                `Invalid value for parameter \"${key}\": ${value}`\n              );\n            }\n            value = num;\n          } else if (!this._isServer) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else if (key === 'server_max_window_bits') {\n          const num = +value;\n          if (!Number.isInteger(num) || num < 8 || num > 15) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n          value = num;\n        } else if (\n          key === 'client_no_context_takeover' ||\n          key === 'server_no_context_takeover'\n        ) {\n          if (value !== true) {\n            throw new TypeError(\n              `Invalid value for parameter \"${key}\": ${value}`\n            );\n          }\n        } else {\n          throw new Error(`Unknown parameter \"${key}\"`);\n        }\n\n        params[key] = value;\n      });\n    });\n\n    return configurations;\n  }\n\n  /**\n   * Decompress data. Concurrency limited.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  decompress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._decompress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Compress data. Concurrency limited.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @public\n   */\n  compress(data, fin, callback) {\n    zlibLimiter.add((done) => {\n      this._compress(data, fin, (err, result) => {\n        done();\n        callback(err, result);\n      });\n    });\n  }\n\n  /**\n   * Decompress data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _decompress(data, fin, callback) {\n    const endpoint = this._isServer ? 'client' : 'server';\n\n    if (!this._inflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._inflate = zlib.createInflateRaw({\n        ...this._options.zlibInflateOptions,\n        windowBits\n      });\n      this._inflate[kPerMessageDeflate] = this;\n      this._inflate[kTotalLength] = 0;\n      this._inflate[kBuffers] = [];\n      this._inflate.on('error', inflateOnError);\n      this._inflate.on('data', inflateOnData);\n    }\n\n    this._inflate[kCallback] = callback;\n\n    this._inflate.write(data);\n    if (fin) this._inflate.write(TRAILER);\n\n    this._inflate.flush(() => {\n      const err = this._inflate[kError];\n\n      if (err) {\n        this._inflate.close();\n        this._inflate = null;\n        callback(err);\n        return;\n      }\n\n      const data = bufferUtil.concat(\n        this._inflate[kBuffers],\n        this._inflate[kTotalLength]\n      );\n\n      if (this._inflate._readableState.endEmitted) {\n        this._inflate.close();\n        this._inflate = null;\n      } else {\n        this._inflate[kTotalLength] = 0;\n        this._inflate[kBuffers] = [];\n\n        if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n          this._inflate.reset();\n        }\n      }\n\n      callback(null, data);\n    });\n  }\n\n  /**\n   * Compress data.\n   *\n   * @param {(Buffer|String)} data Data to compress\n   * @param {Boolean} fin Specifies whether or not this is the last fragment\n   * @param {Function} callback Callback\n   * @private\n   */\n  _compress(data, fin, callback) {\n    const endpoint = this._isServer ? 'server' : 'client';\n\n    if (!this._deflate) {\n      const key = `${endpoint}_max_window_bits`;\n      const windowBits =\n        typeof this.params[key] !== 'number'\n          ? zlib.Z_DEFAULT_WINDOWBITS\n          : this.params[key];\n\n      this._deflate = zlib.createDeflateRaw({\n        ...this._options.zlibDeflateOptions,\n        windowBits\n      });\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      this._deflate.on('data', deflateOnData);\n    }\n\n    this._deflate[kCallback] = callback;\n\n    this._deflate.write(data);\n    this._deflate.flush(zlib.Z_SYNC_FLUSH, () => {\n      if (!this._deflate) {\n        //\n        // The deflate stream was closed while data was being processed.\n        //\n        return;\n      }\n\n      let data = bufferUtil.concat(\n        this._deflate[kBuffers],\n        this._deflate[kTotalLength]\n      );\n\n      if (fin) data = data.slice(0, data.length - 4);\n\n      //\n      // Ensure that the callback will not be called again in\n      // `PerMessageDeflate#cleanup()`.\n      //\n      this._deflate[kCallback] = null;\n\n      this._deflate[kTotalLength] = 0;\n      this._deflate[kBuffers] = [];\n\n      if (fin && this.params[`${endpoint}_no_context_takeover`]) {\n        this._deflate.reset();\n      }\n\n      callback(null, data);\n    });\n  }\n}\n\nmodule.exports = PerMessageDeflate;\n\n/**\n * The listener of the `zlib.DeflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction deflateOnData(chunk) {\n  this[kBuffers].push(chunk);\n  this[kTotalLength] += chunk.length;\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction inflateOnData(chunk) {\n  this[kTotalLength] += chunk.length;\n\n  if (\n    this[kPerMessageDeflate]._maxPayload < 1 ||\n    this[kTotalLength] <= this[kPerMessageDeflate]._maxPayload\n  ) {\n    this[kBuffers].push(chunk);\n    return;\n  }\n\n  this[kError] = new RangeError('Max payload size exceeded');\n  this[kError].code = 'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH';\n  this[kError][kStatusCode] = 1009;\n  this.removeListener('data', inflateOnData);\n  this.reset();\n}\n\n/**\n * The listener of the `zlib.InflateRaw` stream `'error'` event.\n *\n * @param {Error} err The emitted error\n * @private\n */\nfunction inflateOnError(err) {\n  //\n  // There is no need to call `Zlib#close()` as the handle is automatically\n  // closed when an error is emitted.\n  //\n  this[kPerMessageDeflate]._inflate = null;\n  err[kStatusCode] = 1007;\n  this[kCallback](err);\n}\n","'use strict';\n\nconst { Writable } = require('stream');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  kStatusCode,\n  kWebSocket\n} = require('./constants');\nconst { concat, toArrayBuffer, unmask } = require('./buffer-util');\nconst { isValidStatusCode, isValidUTF8 } = require('./validation');\n\nconst GET_INFO = 0;\nconst GET_PAYLOAD_LENGTH_16 = 1;\nconst GET_PAYLOAD_LENGTH_64 = 2;\nconst GET_MASK = 3;\nconst GET_DATA = 4;\nconst INFLATING = 5;\n\n/**\n * HyBi Receiver implementation.\n *\n * @extends Writable\n */\nclass Receiver extends Writable {\n  /**\n   * Creates a Receiver instance.\n   *\n   * @param {Object} [options] Options object\n   * @param {String} [options.binaryType=nodebuffer] The type for binary data\n   * @param {Object} [options.extensions] An object containing the negotiated\n   *     extensions\n   * @param {Boolean} [options.isServer=false] Specifies whether to operate in\n   *     client or server mode\n   * @param {Number} [options.maxPayload=0] The maximum allowed message length\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   */\n  constructor(options = {}) {\n    super();\n\n    this._binaryType = options.binaryType || BINARY_TYPES[0];\n    this._extensions = options.extensions || {};\n    this._isServer = !!options.isServer;\n    this._maxPayload = options.maxPayload | 0;\n    this._skipUTF8Validation = !!options.skipUTF8Validation;\n    this[kWebSocket] = undefined;\n\n    this._bufferedBytes = 0;\n    this._buffers = [];\n\n    this._compressed = false;\n    this._payloadLength = 0;\n    this._mask = undefined;\n    this._fragmented = 0;\n    this._masked = false;\n    this._fin = false;\n    this._opcode = 0;\n\n    this._totalPayloadLength = 0;\n    this._messageLength = 0;\n    this._fragments = [];\n\n    this._state = GET_INFO;\n    this._loop = false;\n  }\n\n  /**\n   * Implements `Writable.prototype._write()`.\n   *\n   * @param {Buffer} chunk The chunk of data to write\n   * @param {String} encoding The character encoding of `chunk`\n   * @param {Function} cb Callback\n   * @private\n   */\n  _write(chunk, encoding, cb) {\n    if (this._opcode === 0x08 && this._state == GET_INFO) return cb();\n\n    this._bufferedBytes += chunk.length;\n    this._buffers.push(chunk);\n    this.startLoop(cb);\n  }\n\n  /**\n   * Consumes `n` bytes from the buffered data.\n   *\n   * @param {Number} n The number of bytes to consume\n   * @return {Buffer} The consumed bytes\n   * @private\n   */\n  consume(n) {\n    this._bufferedBytes -= n;\n\n    if (n === this._buffers[0].length) return this._buffers.shift();\n\n    if (n < this._buffers[0].length) {\n      const buf = this._buffers[0];\n      this._buffers[0] = buf.slice(n);\n      return buf.slice(0, n);\n    }\n\n    const dst = Buffer.allocUnsafe(n);\n\n    do {\n      const buf = this._buffers[0];\n      const offset = dst.length - n;\n\n      if (n >= buf.length) {\n        dst.set(this._buffers.shift(), offset);\n      } else {\n        dst.set(new Uint8Array(buf.buffer, buf.byteOffset, n), offset);\n        this._buffers[0] = buf.slice(n);\n      }\n\n      n -= buf.length;\n    } while (n > 0);\n\n    return dst;\n  }\n\n  /**\n   * Starts the parsing loop.\n   *\n   * @param {Function} cb Callback\n   * @private\n   */\n  startLoop(cb) {\n    let err;\n    this._loop = true;\n\n    do {\n      switch (this._state) {\n        case GET_INFO:\n          err = this.getInfo();\n          break;\n        case GET_PAYLOAD_LENGTH_16:\n          err = this.getPayloadLength16();\n          break;\n        case GET_PAYLOAD_LENGTH_64:\n          err = this.getPayloadLength64();\n          break;\n        case GET_MASK:\n          this.getMask();\n          break;\n        case GET_DATA:\n          err = this.getData(cb);\n          break;\n        default:\n          // `INFLATING`\n          this._loop = false;\n          return;\n      }\n    } while (this._loop);\n\n    cb(err);\n  }\n\n  /**\n   * Reads the first two bytes of a frame.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getInfo() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(2);\n\n    if ((buf[0] & 0x30) !== 0x00) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV2 and RSV3 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_2_3'\n      );\n    }\n\n    const compressed = (buf[0] & 0x40) === 0x40;\n\n    if (compressed && !this._extensions[PerMessageDeflate.extensionName]) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'RSV1 must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_RSV_1'\n      );\n    }\n\n    this._fin = (buf[0] & 0x80) === 0x80;\n    this._opcode = buf[0] & 0x0f;\n    this._payloadLength = buf[1] & 0x7f;\n\n    if (this._opcode === 0x00) {\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (!this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'invalid opcode 0',\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._opcode = this._fragmented;\n    } else if (this._opcode === 0x01 || this._opcode === 0x02) {\n      if (this._fragmented) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid opcode ${this._opcode}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_OPCODE'\n        );\n      }\n\n      this._compressed = compressed;\n    } else if (this._opcode > 0x07 && this._opcode < 0x0b) {\n      if (!this._fin) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'FIN must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_FIN'\n        );\n      }\n\n      if (compressed) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'RSV1 must be clear',\n          true,\n          1002,\n          'WS_ERR_UNEXPECTED_RSV_1'\n        );\n      }\n\n      if (this._payloadLength > 0x7d) {\n        this._loop = false;\n        return error(\n          RangeError,\n          `invalid payload length ${this._payloadLength}`,\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      }\n    } else {\n      this._loop = false;\n      return error(\n        RangeError,\n        `invalid opcode ${this._opcode}`,\n        true,\n        1002,\n        'WS_ERR_INVALID_OPCODE'\n      );\n    }\n\n    if (!this._fin && !this._fragmented) this._fragmented = this._opcode;\n    this._masked = (buf[1] & 0x80) === 0x80;\n\n    if (this._isServer) {\n      if (!this._masked) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'MASK must be set',\n          true,\n          1002,\n          'WS_ERR_EXPECTED_MASK'\n        );\n      }\n    } else if (this._masked) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'MASK must be clear',\n        true,\n        1002,\n        'WS_ERR_UNEXPECTED_MASK'\n      );\n    }\n\n    if (this._payloadLength === 126) this._state = GET_PAYLOAD_LENGTH_16;\n    else if (this._payloadLength === 127) this._state = GET_PAYLOAD_LENGTH_64;\n    else return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+16).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength16() {\n    if (this._bufferedBytes < 2) {\n      this._loop = false;\n      return;\n    }\n\n    this._payloadLength = this.consume(2).readUInt16BE(0);\n    return this.haveLength();\n  }\n\n  /**\n   * Gets extended payload length (7+64).\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  getPayloadLength64() {\n    if (this._bufferedBytes < 8) {\n      this._loop = false;\n      return;\n    }\n\n    const buf = this.consume(8);\n    const num = buf.readUInt32BE(0);\n\n    //\n    // The maximum safe integer in JavaScript is 2^53 - 1. An error is returned\n    // if payload length is greater than this number.\n    //\n    if (num > Math.pow(2, 53 - 32) - 1) {\n      this._loop = false;\n      return error(\n        RangeError,\n        'Unsupported WebSocket frame: payload length > 2^53 - 1',\n        false,\n        1009,\n        'WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH'\n      );\n    }\n\n    this._payloadLength = num * Math.pow(2, 32) + buf.readUInt32BE(4);\n    return this.haveLength();\n  }\n\n  /**\n   * Payload length has been read.\n   *\n   * @return {(RangeError|undefined)} A possible error\n   * @private\n   */\n  haveLength() {\n    if (this._payloadLength && this._opcode < 0x08) {\n      this._totalPayloadLength += this._payloadLength;\n      if (this._totalPayloadLength > this._maxPayload && this._maxPayload > 0) {\n        this._loop = false;\n        return error(\n          RangeError,\n          'Max payload size exceeded',\n          false,\n          1009,\n          'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n        );\n      }\n    }\n\n    if (this._masked) this._state = GET_MASK;\n    else this._state = GET_DATA;\n  }\n\n  /**\n   * Reads mask bytes.\n   *\n   * @private\n   */\n  getMask() {\n    if (this._bufferedBytes < 4) {\n      this._loop = false;\n      return;\n    }\n\n    this._mask = this.consume(4);\n    this._state = GET_DATA;\n  }\n\n  /**\n   * Reads data bytes.\n   *\n   * @param {Function} cb Callback\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  getData(cb) {\n    let data = EMPTY_BUFFER;\n\n    if (this._payloadLength) {\n      if (this._bufferedBytes < this._payloadLength) {\n        this._loop = false;\n        return;\n      }\n\n      data = this.consume(this._payloadLength);\n\n      if (\n        this._masked &&\n        (this._mask[0] | this._mask[1] | this._mask[2] | this._mask[3]) !== 0\n      ) {\n        unmask(data, this._mask);\n      }\n    }\n\n    if (this._opcode > 0x07) return this.controlMessage(data);\n\n    if (this._compressed) {\n      this._state = INFLATING;\n      this.decompress(data, cb);\n      return;\n    }\n\n    if (data.length) {\n      //\n      // This message is not compressed so its length is the sum of the payload\n      // length of all fragments.\n      //\n      this._messageLength = this._totalPayloadLength;\n      this._fragments.push(data);\n    }\n\n    return this.dataMessage();\n  }\n\n  /**\n   * Decompresses data.\n   *\n   * @param {Buffer} data Compressed data\n   * @param {Function} cb Callback\n   * @private\n   */\n  decompress(data, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    perMessageDeflate.decompress(data, this._fin, (err, buf) => {\n      if (err) return cb(err);\n\n      if (buf.length) {\n        this._messageLength += buf.length;\n        if (this._messageLength > this._maxPayload && this._maxPayload > 0) {\n          return cb(\n            error(\n              RangeError,\n              'Max payload size exceeded',\n              false,\n              1009,\n              'WS_ERR_UNSUPPORTED_MESSAGE_LENGTH'\n            )\n          );\n        }\n\n        this._fragments.push(buf);\n      }\n\n      const er = this.dataMessage();\n      if (er) return cb(er);\n\n      this.startLoop(cb);\n    });\n  }\n\n  /**\n   * Handles a data message.\n   *\n   * @return {(Error|undefined)} A possible error\n   * @private\n   */\n  dataMessage() {\n    if (this._fin) {\n      const messageLength = this._messageLength;\n      const fragments = this._fragments;\n\n      this._totalPayloadLength = 0;\n      this._messageLength = 0;\n      this._fragmented = 0;\n      this._fragments = [];\n\n      if (this._opcode === 2) {\n        let data;\n\n        if (this._binaryType === 'nodebuffer') {\n          data = concat(fragments, messageLength);\n        } else if (this._binaryType === 'arraybuffer') {\n          data = toArrayBuffer(concat(fragments, messageLength));\n        } else {\n          data = fragments;\n        }\n\n        this.emit('message', data, true);\n      } else {\n        const buf = concat(fragments, messageLength);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          this._loop = false;\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('message', buf, false);\n      }\n    }\n\n    this._state = GET_INFO;\n  }\n\n  /**\n   * Handles a control message.\n   *\n   * @param {Buffer} data Data to handle\n   * @return {(Error|RangeError|undefined)} A possible error\n   * @private\n   */\n  controlMessage(data) {\n    if (this._opcode === 0x08) {\n      this._loop = false;\n\n      if (data.length === 0) {\n        this.emit('conclude', 1005, EMPTY_BUFFER);\n        this.end();\n      } else if (data.length === 1) {\n        return error(\n          RangeError,\n          'invalid payload length 1',\n          true,\n          1002,\n          'WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH'\n        );\n      } else {\n        const code = data.readUInt16BE(0);\n\n        if (!isValidStatusCode(code)) {\n          return error(\n            RangeError,\n            `invalid status code ${code}`,\n            true,\n            1002,\n            'WS_ERR_INVALID_CLOSE_CODE'\n          );\n        }\n\n        const buf = data.slice(2);\n\n        if (!this._skipUTF8Validation && !isValidUTF8(buf)) {\n          return error(\n            Error,\n            'invalid UTF-8 sequence',\n            true,\n            1007,\n            'WS_ERR_INVALID_UTF8'\n          );\n        }\n\n        this.emit('conclude', code, buf);\n        this.end();\n      }\n    } else if (this._opcode === 0x09) {\n      this.emit('ping', data);\n    } else {\n      this.emit('pong', data);\n    }\n\n    this._state = GET_INFO;\n  }\n}\n\nmodule.exports = Receiver;\n\n/**\n * Builds an error object.\n *\n * @param {function(new:Error|RangeError)} ErrorCtor The error constructor\n * @param {String} message The error message\n * @param {Boolean} prefix Specifies whether or not to add a default prefix to\n *     `message`\n * @param {Number} statusCode The status code\n * @param {String} errorCode The exposed error code\n * @return {(Error|RangeError)} The error\n * @private\n */\nfunction error(ErrorCtor, message, prefix, statusCode, errorCode) {\n  const err = new ErrorCtor(\n    prefix ? `Invalid WebSocket frame: ${message}` : message\n  );\n\n  Error.captureStackTrace(err, error);\n  err.code = errorCode;\n  err[kStatusCode] = statusCode;\n  return err;\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls$\" }] */\n\n'use strict';\n\nconst net = require('net');\nconst tls = require('tls');\nconst { randomFillSync } = require('crypto');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst { EMPTY_BUFFER } = require('./constants');\nconst { isValidStatusCode } = require('./validation');\nconst { mask: applyMask, toBuffer } = require('./buffer-util');\n\nconst kByteLength = Symbol('kByteLength');\nconst maskBuffer = Buffer.alloc(4);\n\n/**\n * HyBi Sender implementation.\n */\nclass Sender {\n  /**\n   * Creates a Sender instance.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The connection socket\n   * @param {Object} [extensions] An object containing the negotiated extensions\n   * @param {Function} [generateMask] The function used to generate the masking\n   *     key\n   */\n  constructor(socket, extensions, generateMask) {\n    this._extensions = extensions || {};\n\n    if (generateMask) {\n      this._generateMask = generateMask;\n      this._maskBuffer = Buffer.alloc(4);\n    }\n\n    this._socket = socket;\n\n    this._firstFragment = true;\n    this._compress = false;\n\n    this._bufferedBytes = 0;\n    this._deflating = false;\n    this._queue = [];\n  }\n\n  /**\n   * Frames a piece of data according to the HyBi WebSocket protocol.\n   *\n   * @param {(Buffer|String)} data The data to frame\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @return {(Buffer|String)[]} The framed data\n   * @public\n   */\n  static frame(data, options) {\n    let mask;\n    let merge = false;\n    let offset = 2;\n    let skipMasking = false;\n\n    if (options.mask) {\n      mask = options.maskBuffer || maskBuffer;\n\n      if (options.generateMask) {\n        options.generateMask(mask);\n      } else {\n        randomFillSync(mask, 0, 4);\n      }\n\n      skipMasking = (mask[0] | mask[1] | mask[2] | mask[3]) === 0;\n      offset = 6;\n    }\n\n    let dataLength;\n\n    if (typeof data === 'string') {\n      if (\n        (!options.mask || skipMasking) &&\n        options[kByteLength] !== undefined\n      ) {\n        dataLength = options[kByteLength];\n      } else {\n        data = Buffer.from(data);\n        dataLength = data.length;\n      }\n    } else {\n      dataLength = data.length;\n      merge = options.mask && options.readOnly && !skipMasking;\n    }\n\n    let payloadLength = dataLength;\n\n    if (dataLength >= 65536) {\n      offset += 8;\n      payloadLength = 127;\n    } else if (dataLength > 125) {\n      offset += 2;\n      payloadLength = 126;\n    }\n\n    const target = Buffer.allocUnsafe(merge ? dataLength + offset : offset);\n\n    target[0] = options.fin ? options.opcode | 0x80 : options.opcode;\n    if (options.rsv1) target[0] |= 0x40;\n\n    target[1] = payloadLength;\n\n    if (payloadLength === 126) {\n      target.writeUInt16BE(dataLength, 2);\n    } else if (payloadLength === 127) {\n      target[2] = target[3] = 0;\n      target.writeUIntBE(dataLength, 4, 6);\n    }\n\n    if (!options.mask) return [target, data];\n\n    target[1] |= 0x80;\n    target[offset - 4] = mask[0];\n    target[offset - 3] = mask[1];\n    target[offset - 2] = mask[2];\n    target[offset - 1] = mask[3];\n\n    if (skipMasking) return [target, data];\n\n    if (merge) {\n      applyMask(data, mask, target, offset, dataLength);\n      return [target];\n    }\n\n    applyMask(data, mask, data, 0, dataLength);\n    return [target, data];\n  }\n\n  /**\n   * Sends a close message to the other peer.\n   *\n   * @param {Number} [code] The status code component of the body\n   * @param {(String|Buffer)} [data] The message component of the body\n   * @param {Boolean} [mask=false] Specifies whether or not to mask the message\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  close(code, data, mask, cb) {\n    let buf;\n\n    if (code === undefined) {\n      buf = EMPTY_BUFFER;\n    } else if (typeof code !== 'number' || !isValidStatusCode(code)) {\n      throw new TypeError('First argument must be a valid error code number');\n    } else if (data === undefined || !data.length) {\n      buf = Buffer.allocUnsafe(2);\n      buf.writeUInt16BE(code, 0);\n    } else {\n      const length = Buffer.byteLength(data);\n\n      if (length > 123) {\n        throw new RangeError('The message must not be greater than 123 bytes');\n      }\n\n      buf = Buffer.allocUnsafe(2 + length);\n      buf.writeUInt16BE(code, 0);\n\n      if (typeof data === 'string') {\n        buf.write(data, 2);\n      } else {\n        buf.set(data, 2);\n      }\n    }\n\n    const options = {\n      [kByteLength]: buf.length,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x08,\n      readOnly: false,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, buf, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(buf, options), cb);\n    }\n  }\n\n  /**\n   * Sends a ping message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  ping(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x09,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a pong message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Boolean} [mask=false] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  pong(data, mask, cb) {\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (byteLength > 125) {\n      throw new RangeError('The data size must not be greater than 125 bytes');\n    }\n\n    const options = {\n      [kByteLength]: byteLength,\n      fin: true,\n      generateMask: this._generateMask,\n      mask,\n      maskBuffer: this._maskBuffer,\n      opcode: 0x0a,\n      readOnly,\n      rsv1: false\n    };\n\n    if (this._deflating) {\n      this.enqueue([this.dispatch, data, false, options, cb]);\n    } else {\n      this.sendFrame(Sender.frame(data, options), cb);\n    }\n  }\n\n  /**\n   * Sends a data message to the other peer.\n   *\n   * @param {*} data The message to send\n   * @param {Object} options Options object\n   * @param {Boolean} [options.binary=false] Specifies whether `data` is binary\n   *     or text\n   * @param {Boolean} [options.compress=false] Specifies whether or not to\n   *     compress `data`\n   * @param {Boolean} [options.fin=false] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Function} [cb] Callback\n   * @public\n   */\n  send(data, options, cb) {\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n    let opcode = options.binary ? 2 : 1;\n    let rsv1 = options.compress;\n\n    let byteLength;\n    let readOnly;\n\n    if (typeof data === 'string') {\n      byteLength = Buffer.byteLength(data);\n      readOnly = false;\n    } else {\n      data = toBuffer(data);\n      byteLength = data.length;\n      readOnly = toBuffer.readOnly;\n    }\n\n    if (this._firstFragment) {\n      this._firstFragment = false;\n      if (\n        rsv1 &&\n        perMessageDeflate &&\n        perMessageDeflate.params[\n          perMessageDeflate._isServer\n            ? 'server_no_context_takeover'\n            : 'client_no_context_takeover'\n        ]\n      ) {\n        rsv1 = byteLength >= perMessageDeflate._threshold;\n      }\n      this._compress = rsv1;\n    } else {\n      rsv1 = false;\n      opcode = 0;\n    }\n\n    if (options.fin) this._firstFragment = true;\n\n    if (perMessageDeflate) {\n      const opts = {\n        [kByteLength]: byteLength,\n        fin: options.fin,\n        generateMask: this._generateMask,\n        mask: options.mask,\n        maskBuffer: this._maskBuffer,\n        opcode,\n        readOnly,\n        rsv1\n      };\n\n      if (this._deflating) {\n        this.enqueue([this.dispatch, data, this._compress, opts, cb]);\n      } else {\n        this.dispatch(data, this._compress, opts, cb);\n      }\n    } else {\n      this.sendFrame(\n        Sender.frame(data, {\n          [kByteLength]: byteLength,\n          fin: options.fin,\n          generateMask: this._generateMask,\n          mask: options.mask,\n          maskBuffer: this._maskBuffer,\n          opcode,\n          readOnly,\n          rsv1: false\n        }),\n        cb\n      );\n    }\n  }\n\n  /**\n   * Dispatches a message.\n   *\n   * @param {(Buffer|String)} data The message to send\n   * @param {Boolean} [compress=false] Specifies whether or not to compress\n   *     `data`\n   * @param {Object} options Options object\n   * @param {Boolean} [options.fin=false] Specifies whether or not to set the\n   *     FIN bit\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Boolean} [options.mask=false] Specifies whether or not to mask\n   *     `data`\n   * @param {Buffer} [options.maskBuffer] The buffer used to store the masking\n   *     key\n   * @param {Number} options.opcode The opcode\n   * @param {Boolean} [options.readOnly=false] Specifies whether `data` can be\n   *     modified\n   * @param {Boolean} [options.rsv1=false] Specifies whether or not to set the\n   *     RSV1 bit\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  dispatch(data, compress, options, cb) {\n    if (!compress) {\n      this.sendFrame(Sender.frame(data, options), cb);\n      return;\n    }\n\n    const perMessageDeflate = this._extensions[PerMessageDeflate.extensionName];\n\n    this._bufferedBytes += options[kByteLength];\n    this._deflating = true;\n    perMessageDeflate.compress(data, options.fin, (_, buf) => {\n      if (this._socket.destroyed) {\n        const err = new Error(\n          'The socket was closed while data was being compressed'\n        );\n\n        if (typeof cb === 'function') cb(err);\n\n        for (let i = 0; i < this._queue.length; i++) {\n          const params = this._queue[i];\n          const callback = params[params.length - 1];\n\n          if (typeof callback === 'function') callback(err);\n        }\n\n        return;\n      }\n\n      this._bufferedBytes -= options[kByteLength];\n      this._deflating = false;\n      options.readOnly = false;\n      this.sendFrame(Sender.frame(buf, options), cb);\n      this.dequeue();\n    });\n  }\n\n  /**\n   * Executes queued send operations.\n   *\n   * @private\n   */\n  dequeue() {\n    while (!this._deflating && this._queue.length) {\n      const params = this._queue.shift();\n\n      this._bufferedBytes -= params[3][kByteLength];\n      Reflect.apply(params[0], this, params.slice(1));\n    }\n  }\n\n  /**\n   * Enqueues a send operation.\n   *\n   * @param {Array} params Send operation parameters.\n   * @private\n   */\n  enqueue(params) {\n    this._bufferedBytes += params[3][kByteLength];\n    this._queue.push(params);\n  }\n\n  /**\n   * Sends a frame.\n   *\n   * @param {Buffer[]} list The frame to send\n   * @param {Function} [cb] Callback\n   * @private\n   */\n  sendFrame(list, cb) {\n    if (list.length === 2) {\n      this._socket.cork();\n      this._socket.write(list[0]);\n      this._socket.write(list[1], cb);\n      this._socket.uncork();\n    } else {\n      this._socket.write(list[0], cb);\n    }\n  }\n}\n\nmodule.exports = Sender;\n","'use strict';\n\nconst { Duplex } = require('stream');\n\n/**\n * Emits the `'close'` event on a stream.\n *\n * @param {Duplex} stream The stream.\n * @private\n */\nfunction emitClose(stream) {\n  stream.emit('close');\n}\n\n/**\n * The listener of the `'end'` event.\n *\n * @private\n */\nfunction duplexOnEnd() {\n  if (!this.destroyed && this._writableState.finished) {\n    this.destroy();\n  }\n}\n\n/**\n * The listener of the `'error'` event.\n *\n * @param {Error} err The error\n * @private\n */\nfunction duplexOnError(err) {\n  this.removeListener('error', duplexOnError);\n  this.destroy();\n  if (this.listenerCount('error') === 0) {\n    // Do not suppress the throwing behavior.\n    this.emit('error', err);\n  }\n}\n\n/**\n * Wraps a `WebSocket` in a duplex stream.\n *\n * @param {WebSocket} ws The `WebSocket` to wrap\n * @param {Object} [options] The options for the `Duplex` constructor\n * @return {Duplex} The duplex stream\n * @public\n */\nfunction createWebSocketStream(ws, options) {\n  let terminateOnDestroy = true;\n\n  const duplex = new Duplex({\n    ...options,\n    autoDestroy: false,\n    emitClose: false,\n    objectMode: false,\n    writableObjectMode: false\n  });\n\n  ws.on('message', function message(msg, isBinary) {\n    const data =\n      !isBinary && duplex._readableState.objectMode ? msg.toString() : msg;\n\n    if (!duplex.push(data)) ws.pause();\n  });\n\n  ws.once('error', function error(err) {\n    if (duplex.destroyed) return;\n\n    // Prevent `ws.terminate()` from being called by `duplex._destroy()`.\n    //\n    // - If the `'error'` event is emitted before the `'open'` event, then\n    //   `ws.terminate()` is a noop as no socket is assigned.\n    // - Otherwise, the error is re-emitted by the listener of the `'error'`\n    //   event of the `Receiver` object. The listener already closes the\n    //   connection by calling `ws.close()`. This allows a close frame to be\n    //   sent to the other peer. If `ws.terminate()` is called right after this,\n    //   then the close frame might not be sent.\n    terminateOnDestroy = false;\n    duplex.destroy(err);\n  });\n\n  ws.once('close', function close() {\n    if (duplex.destroyed) return;\n\n    duplex.push(null);\n  });\n\n  duplex._destroy = function (err, callback) {\n    if (ws.readyState === ws.CLOSED) {\n      callback(err);\n      process.nextTick(emitClose, duplex);\n      return;\n    }\n\n    let called = false;\n\n    ws.once('error', function error(err) {\n      called = true;\n      callback(err);\n    });\n\n    ws.once('close', function close() {\n      if (!called) callback(err);\n      process.nextTick(emitClose, duplex);\n    });\n\n    if (terminateOnDestroy) ws.terminate();\n  };\n\n  duplex._final = function (callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._final(callback);\n      });\n      return;\n    }\n\n    // If the value of the `_socket` property is `null` it means that `ws` is a\n    // client websocket and the handshake failed. In fact, when this happens, a\n    // socket is never assigned to the websocket. Wait for the `'error'` event\n    // that will be emitted by the websocket.\n    if (ws._socket === null) return;\n\n    if (ws._socket._writableState.finished) {\n      callback();\n      if (duplex._readableState.endEmitted) duplex.destroy();\n    } else {\n      ws._socket.once('finish', function finish() {\n        // `duplex` is not destroyed here because the `'end'` event will be\n        // emitted on `duplex` after this `'finish'` event. The EOF signaling\n        // `null` chunk is, in fact, pushed when the websocket emits `'close'`.\n        callback();\n      });\n      ws.close();\n    }\n  };\n\n  duplex._read = function () {\n    if (ws.isPaused) ws.resume();\n  };\n\n  duplex._write = function (chunk, encoding, callback) {\n    if (ws.readyState === ws.CONNECTING) {\n      ws.once('open', function open() {\n        duplex._write(chunk, encoding, callback);\n      });\n      return;\n    }\n\n    ws.send(chunk, callback);\n  };\n\n  duplex.on('end', duplexOnEnd);\n  duplex.on('error', duplexOnError);\n  return duplex;\n}\n\nmodule.exports = createWebSocketStream;\n","'use strict';\n\nconst { tokenChars } = require('./validation');\n\n/**\n * Parses the `Sec-WebSocket-Protocol` header into a set of subprotocol names.\n *\n * @param {String} header The field value of the header\n * @return {Set} The subprotocol names\n * @public\n */\nfunction parse(header) {\n  const protocols = new Set();\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (i; i < header.length; i++) {\n    const code = header.charCodeAt(i);\n\n    if (end === -1 && tokenChars[code] === 1) {\n      if (start === -1) start = i;\n    } else if (\n      i !== 0 &&\n      (code === 0x20 /* ' ' */ || code === 0x09) /* '\\t' */\n    ) {\n      if (end === -1 && start !== -1) end = i;\n    } else if (code === 0x2c /* ',' */) {\n      if (start === -1) {\n        throw new SyntaxError(`Unexpected character at index ${i}`);\n      }\n\n      if (end === -1) end = i;\n\n      const protocol = header.slice(start, end);\n\n      if (protocols.has(protocol)) {\n        throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n      }\n\n      protocols.add(protocol);\n      start = end = -1;\n    } else {\n      throw new SyntaxError(`Unexpected character at index ${i}`);\n    }\n  }\n\n  if (start === -1 || end !== -1) {\n    throw new SyntaxError('Unexpected end of input');\n  }\n\n  const protocol = header.slice(start, i);\n\n  if (protocols.has(protocol)) {\n    throw new SyntaxError(`The \"${protocol}\" subprotocol is duplicated`);\n  }\n\n  protocols.add(protocol);\n  return protocols;\n}\n\nmodule.exports = { parse };\n","'use strict';\n\n//\n// Allowed token characters:\n//\n// '!', '#', '$', '%', '&', ''', '*', '+', '-',\n// '.', 0-9, A-Z, '^', '_', '`', a-z, '|', '~'\n//\n// tokenChars[32] === 0 // ' '\n// tokenChars[33] === 1 // '!'\n// tokenChars[34] === 0 // '\"'\n// ...\n//\n// prettier-ignore\nconst tokenChars = [\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 0 - 15\n  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, // 16 - 31\n  0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 0, 1, 1, 0, // 32 - 47\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, // 48 - 63\n  0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 64 - 79\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, // 80 - 95\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, // 96 - 111\n  1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0 // 112 - 127\n];\n\n/**\n * Checks if a status code is allowed in a close frame.\n *\n * @param {Number} code The status code\n * @return {Boolean} `true` if the status code is valid, else `false`\n * @public\n */\nfunction isValidStatusCode(code) {\n  return (\n    (code >= 1000 &&\n      code <= 1014 &&\n      code !== 1004 &&\n      code !== 1005 &&\n      code !== 1006) ||\n    (code >= 3000 && code <= 4999)\n  );\n}\n\n/**\n * Checks if a given buffer contains only correct UTF-8.\n * Ported from https://www.cl.cam.ac.uk/%7Emgk25/ucs/utf8_check.c by\n * Markus Kuhn.\n *\n * @param {Buffer} buf The buffer to check\n * @return {Boolean} `true` if `buf` contains only correct UTF-8, else `false`\n * @public\n */\nfunction _isValidUTF8(buf) {\n  const len = buf.length;\n  let i = 0;\n\n  while (i < len) {\n    if ((buf[i] & 0x80) === 0) {\n      // 0xxxxxxx\n      i++;\n    } else if ((buf[i] & 0xe0) === 0xc0) {\n      // 110xxxxx 10xxxxxx\n      if (\n        i + 1 === len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i] & 0xfe) === 0xc0 // Overlong\n      ) {\n        return false;\n      }\n\n      i += 2;\n    } else if ((buf[i] & 0xf0) === 0xe0) {\n      // 1110xxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 2 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xe0 && (buf[i + 1] & 0xe0) === 0x80) || // Overlong\n        (buf[i] === 0xed && (buf[i + 1] & 0xe0) === 0xa0) // Surrogate (U+D800 - U+DFFF)\n      ) {\n        return false;\n      }\n\n      i += 3;\n    } else if ((buf[i] & 0xf8) === 0xf0) {\n      // 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx\n      if (\n        i + 3 >= len ||\n        (buf[i + 1] & 0xc0) !== 0x80 ||\n        (buf[i + 2] & 0xc0) !== 0x80 ||\n        (buf[i + 3] & 0xc0) !== 0x80 ||\n        (buf[i] === 0xf0 && (buf[i + 1] & 0xf0) === 0x80) || // Overlong\n        (buf[i] === 0xf4 && buf[i + 1] > 0x8f) ||\n        buf[i] > 0xf4 // > U+10FFFF\n      ) {\n        return false;\n      }\n\n      i += 4;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nmodule.exports = {\n  isValidStatusCode,\n  isValidUTF8: _isValidUTF8,\n  tokenChars\n};\n\n/* istanbul ignore else  */\nif (!process.env.WS_NO_UTF_8_VALIDATE) {\n  try {\n    const isValidUTF8 = require('utf-8-validate');\n\n    module.exports.isValidUTF8 = function (buf) {\n      return buf.length < 150 ? _isValidUTF8(buf) : isValidUTF8(buf);\n    };\n  } catch (e) {\n    // Continue regardless of the error.\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^net|tls|https$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst http = require('http');\nconst https = require('https');\nconst net = require('net');\nconst tls = require('tls');\nconst { createHash } = require('crypto');\n\nconst extension = require('./extension');\nconst PerMessageDeflate = require('./permessage-deflate');\nconst subprotocol = require('./subprotocol');\nconst WebSocket = require('./websocket');\nconst { GUID, kWebSocket } = require('./constants');\n\nconst keyRegex = /^[+/0-9A-Za-z]{22}==$/;\n\nconst RUNNING = 0;\nconst CLOSING = 1;\nconst CLOSED = 2;\n\n/**\n * Class representing a WebSocket server.\n *\n * @extends EventEmitter\n */\nclass WebSocketServer extends EventEmitter {\n  /**\n   * Create a `WebSocketServer` instance.\n   *\n   * @param {Object} options Configuration options\n   * @param {Number} [options.backlog=511] The maximum length of the queue of\n   *     pending connections\n   * @param {Boolean} [options.clientTracking=true] Specifies whether or not to\n   *     track clients\n   * @param {Function} [options.handleProtocols] A hook to handle protocols\n   * @param {String} [options.host] The hostname where to bind the server\n   * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n   *     size\n   * @param {Boolean} [options.noServer=false] Enable no server mode\n   * @param {String} [options.path] Accept only connections matching this path\n   * @param {(Boolean|Object)} [options.perMessageDeflate=false] Enable/disable\n   *     permessage-deflate\n   * @param {Number} [options.port] The port where to bind the server\n   * @param {(http.Server|https.Server)} [options.server] A pre-created HTTP/S\n   *     server to use\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @param {Function} [options.verifyClient] A hook to reject connections\n   * @param {Function} [options.WebSocket=WebSocket] Specifies the `WebSocket`\n   *     class to use. It must be the `WebSocket` class or class that extends it\n   * @param {Function} [callback] A listener for the `listening` event\n   */\n  constructor(options, callback) {\n    super();\n\n    options = {\n      maxPayload: 100 * 1024 * 1024,\n      skipUTF8Validation: false,\n      perMessageDeflate: false,\n      handleProtocols: null,\n      clientTracking: true,\n      verifyClient: null,\n      noServer: false,\n      backlog: null, // use default (511 as implemented in net.js)\n      server: null,\n      host: null,\n      path: null,\n      port: null,\n      WebSocket,\n      ...options\n    };\n\n    if (\n      (options.port == null && !options.server && !options.noServer) ||\n      (options.port != null && (options.server || options.noServer)) ||\n      (options.server && options.noServer)\n    ) {\n      throw new TypeError(\n        'One and only one of the \"port\", \"server\", or \"noServer\" options ' +\n          'must be specified'\n      );\n    }\n\n    if (options.port != null) {\n      this._server = http.createServer((req, res) => {\n        const body = http.STATUS_CODES[426];\n\n        res.writeHead(426, {\n          'Content-Length': body.length,\n          'Content-Type': 'text/plain'\n        });\n        res.end(body);\n      });\n      this._server.listen(\n        options.port,\n        options.host,\n        options.backlog,\n        callback\n      );\n    } else if (options.server) {\n      this._server = options.server;\n    }\n\n    if (this._server) {\n      const emitConnection = this.emit.bind(this, 'connection');\n\n      this._removeListeners = addListeners(this._server, {\n        listening: this.emit.bind(this, 'listening'),\n        error: this.emit.bind(this, 'error'),\n        upgrade: (req, socket, head) => {\n          this.handleUpgrade(req, socket, head, emitConnection);\n        }\n      });\n    }\n\n    if (options.perMessageDeflate === true) options.perMessageDeflate = {};\n    if (options.clientTracking) {\n      this.clients = new Set();\n      this._shouldEmitClose = false;\n    }\n\n    this.options = options;\n    this._state = RUNNING;\n  }\n\n  /**\n   * Returns the bound address, the address family name, and port of the server\n   * as reported by the operating system if listening on an IP socket.\n   * If the server is listening on a pipe or UNIX domain socket, the name is\n   * returned as a string.\n   *\n   * @return {(Object|String|null)} The address of the server\n   * @public\n   */\n  address() {\n    if (this.options.noServer) {\n      throw new Error('The server is operating in \"noServer\" mode');\n    }\n\n    if (!this._server) return null;\n    return this._server.address();\n  }\n\n  /**\n   * Stop the server from accepting new connections and emit the `'close'` event\n   * when all existing connections are closed.\n   *\n   * @param {Function} [cb] A one-time listener for the `'close'` event\n   * @public\n   */\n  close(cb) {\n    if (this._state === CLOSED) {\n      if (cb) {\n        this.once('close', () => {\n          cb(new Error('The server is not running'));\n        });\n      }\n\n      process.nextTick(emitClose, this);\n      return;\n    }\n\n    if (cb) this.once('close', cb);\n\n    if (this._state === CLOSING) return;\n    this._state = CLOSING;\n\n    if (this.options.noServer || this.options.server) {\n      if (this._server) {\n        this._removeListeners();\n        this._removeListeners = this._server = null;\n      }\n\n      if (this.clients) {\n        if (!this.clients.size) {\n          process.nextTick(emitClose, this);\n        } else {\n          this._shouldEmitClose = true;\n        }\n      } else {\n        process.nextTick(emitClose, this);\n      }\n    } else {\n      const server = this._server;\n\n      this._removeListeners();\n      this._removeListeners = this._server = null;\n\n      //\n      // The HTTP/S server was created internally. Close it, and rely on its\n      // `'close'` event.\n      //\n      server.close(() => {\n        emitClose(this);\n      });\n    }\n  }\n\n  /**\n   * See if a given request should be handled by this server instance.\n   *\n   * @param {http.IncomingMessage} req Request object to inspect\n   * @return {Boolean} `true` if the request is valid, else `false`\n   * @public\n   */\n  shouldHandle(req) {\n    if (this.options.path) {\n      const index = req.url.indexOf('?');\n      const pathname = index !== -1 ? req.url.slice(0, index) : req.url;\n\n      if (pathname !== this.options.path) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Handle a HTTP Upgrade request.\n   *\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @public\n   */\n  handleUpgrade(req, socket, head, cb) {\n    socket.on('error', socketOnError);\n\n    const key = req.headers['sec-websocket-key'];\n    const version = +req.headers['sec-websocket-version'];\n\n    if (req.method !== 'GET') {\n      const message = 'Invalid HTTP method';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 405, message);\n      return;\n    }\n\n    if (req.headers.upgrade.toLowerCase() !== 'websocket') {\n      const message = 'Invalid Upgrade header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!key || !keyRegex.test(key)) {\n      const message = 'Missing or invalid Sec-WebSocket-Key header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (version !== 8 && version !== 13) {\n      const message = 'Missing or invalid Sec-WebSocket-Version header';\n      abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n      return;\n    }\n\n    if (!this.shouldHandle(req)) {\n      abortHandshake(socket, 400);\n      return;\n    }\n\n    const secWebSocketProtocol = req.headers['sec-websocket-protocol'];\n    let protocols = new Set();\n\n    if (secWebSocketProtocol !== undefined) {\n      try {\n        protocols = subprotocol.parse(secWebSocketProtocol);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Protocol header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    const secWebSocketExtensions = req.headers['sec-websocket-extensions'];\n    const extensions = {};\n\n    if (\n      this.options.perMessageDeflate &&\n      secWebSocketExtensions !== undefined\n    ) {\n      const perMessageDeflate = new PerMessageDeflate(\n        this.options.perMessageDeflate,\n        true,\n        this.options.maxPayload\n      );\n\n      try {\n        const offers = extension.parse(secWebSocketExtensions);\n\n        if (offers[PerMessageDeflate.extensionName]) {\n          perMessageDeflate.accept(offers[PerMessageDeflate.extensionName]);\n          extensions[PerMessageDeflate.extensionName] = perMessageDeflate;\n        }\n      } catch (err) {\n        const message =\n          'Invalid or unacceptable Sec-WebSocket-Extensions header';\n        abortHandshakeOrEmitwsClientError(this, req, socket, 400, message);\n        return;\n      }\n    }\n\n    //\n    // Optionally call external client verification handler.\n    //\n    if (this.options.verifyClient) {\n      const info = {\n        origin:\n          req.headers[`${version === 8 ? 'sec-websocket-origin' : 'origin'}`],\n        secure: !!(req.socket.authorized || req.socket.encrypted),\n        req\n      };\n\n      if (this.options.verifyClient.length === 2) {\n        this.options.verifyClient(info, (verified, code, message, headers) => {\n          if (!verified) {\n            return abortHandshake(socket, code || 401, message, headers);\n          }\n\n          this.completeUpgrade(\n            extensions,\n            key,\n            protocols,\n            req,\n            socket,\n            head,\n            cb\n          );\n        });\n        return;\n      }\n\n      if (!this.options.verifyClient(info)) return abortHandshake(socket, 401);\n    }\n\n    this.completeUpgrade(extensions, key, protocols, req, socket, head, cb);\n  }\n\n  /**\n   * Upgrade the connection to WebSocket.\n   *\n   * @param {Object} extensions The accepted extensions\n   * @param {String} key The value of the `Sec-WebSocket-Key` header\n   * @param {Set} protocols The subprotocols\n   * @param {http.IncomingMessage} req The request object\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Function} cb Callback\n   * @throws {Error} If called more than once with the same socket\n   * @private\n   */\n  completeUpgrade(extensions, key, protocols, req, socket, head, cb) {\n    //\n    // Destroy the socket if the client has already sent a FIN packet.\n    //\n    if (!socket.readable || !socket.writable) return socket.destroy();\n\n    if (socket[kWebSocket]) {\n      throw new Error(\n        'server.handleUpgrade() was called more than once with the same ' +\n          'socket, possibly due to a misconfiguration'\n      );\n    }\n\n    if (this._state > RUNNING) return abortHandshake(socket, 503);\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    const headers = [\n      'HTTP/1.1 101 Switching Protocols',\n      'Upgrade: websocket',\n      'Connection: Upgrade',\n      `Sec-WebSocket-Accept: ${digest}`\n    ];\n\n    const ws = new this.options.WebSocket(null);\n\n    if (protocols.size) {\n      //\n      // Optionally call external protocol selection handler.\n      //\n      const protocol = this.options.handleProtocols\n        ? this.options.handleProtocols(protocols, req)\n        : protocols.values().next().value;\n\n      if (protocol) {\n        headers.push(`Sec-WebSocket-Protocol: ${protocol}`);\n        ws._protocol = protocol;\n      }\n    }\n\n    if (extensions[PerMessageDeflate.extensionName]) {\n      const params = extensions[PerMessageDeflate.extensionName].params;\n      const value = extension.format({\n        [PerMessageDeflate.extensionName]: [params]\n      });\n      headers.push(`Sec-WebSocket-Extensions: ${value}`);\n      ws._extensions = extensions;\n    }\n\n    //\n    // Allow external modification/inspection of handshake headers.\n    //\n    this.emit('headers', headers, req);\n\n    socket.write(headers.concat('\\r\\n').join('\\r\\n'));\n    socket.removeListener('error', socketOnError);\n\n    ws.setSocket(socket, head, {\n      maxPayload: this.options.maxPayload,\n      skipUTF8Validation: this.options.skipUTF8Validation\n    });\n\n    if (this.clients) {\n      this.clients.add(ws);\n      ws.on('close', () => {\n        this.clients.delete(ws);\n\n        if (this._shouldEmitClose && !this.clients.size) {\n          process.nextTick(emitClose, this);\n        }\n      });\n    }\n\n    cb(ws, req);\n  }\n}\n\nmodule.exports = WebSocketServer;\n\n/**\n * Add event listeners on an `EventEmitter` using a map of <event, listener>\n * pairs.\n *\n * @param {EventEmitter} server The event emitter\n * @param {Object.<String, Function>} map The listeners to add\n * @return {Function} A function that will remove the added listeners when\n *     called\n * @private\n */\nfunction addListeners(server, map) {\n  for (const event of Object.keys(map)) server.on(event, map[event]);\n\n  return function removeListeners() {\n    for (const event of Object.keys(map)) {\n      server.removeListener(event, map[event]);\n    }\n  };\n}\n\n/**\n * Emit a `'close'` event on an `EventEmitter`.\n *\n * @param {EventEmitter} server The event emitter\n * @private\n */\nfunction emitClose(server) {\n  server._state = CLOSED;\n  server.emit('close');\n}\n\n/**\n * Handle socket errors.\n *\n * @private\n */\nfunction socketOnError() {\n  this.destroy();\n}\n\n/**\n * Close the connection when preconditions are not fulfilled.\n *\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} [message] The HTTP response body\n * @param {Object} [headers] Additional HTTP response headers\n * @private\n */\nfunction abortHandshake(socket, code, message, headers) {\n  //\n  // The socket is writable unless the user destroyed or ended it before calling\n  // `server.handleUpgrade()` or in the `verifyClient` function, which is a user\n  // error. Handling this does not make much sense as the worst that can happen\n  // is that some of the data written by the user might be discarded due to the\n  // call to `socket.end()` below, which triggers an `'error'` event that in\n  // turn causes the socket to be destroyed.\n  //\n  message = message || http.STATUS_CODES[code];\n  headers = {\n    Connection: 'close',\n    'Content-Type': 'text/html',\n    'Content-Length': Buffer.byteLength(message),\n    ...headers\n  };\n\n  socket.once('finish', socket.destroy);\n\n  socket.end(\n    `HTTP/1.1 ${code} ${http.STATUS_CODES[code]}\\r\\n` +\n      Object.keys(headers)\n        .map((h) => `${h}: ${headers[h]}`)\n        .join('\\r\\n') +\n      '\\r\\n\\r\\n' +\n      message\n  );\n}\n\n/**\n * Emit a `'wsClientError'` event on a `WebSocketServer` if there is at least\n * one listener for it, otherwise call `abortHandshake()`.\n *\n * @param {WebSocketServer} server The WebSocket server\n * @param {http.IncomingMessage} req The request object\n * @param {(net.Socket|tls.Socket)} socket The socket of the upgrade request\n * @param {Number} code The HTTP response status code\n * @param {String} message The HTTP response body\n * @private\n */\nfunction abortHandshakeOrEmitwsClientError(server, req, socket, code, message) {\n  if (server.listenerCount('wsClientError')) {\n    const err = new Error(message);\n    Error.captureStackTrace(err, abortHandshakeOrEmitwsClientError);\n\n    server.emit('wsClientError', err, socket, req);\n  } else {\n    abortHandshake(socket, code, message);\n  }\n}\n","/* eslint no-unused-vars: [\"error\", { \"varsIgnorePattern\": \"^Readable$\" }] */\n\n'use strict';\n\nconst EventEmitter = require('events');\nconst https = require('https');\nconst http = require('http');\nconst net = require('net');\nconst tls = require('tls');\nconst { randomBytes, createHash } = require('crypto');\nconst { Readable } = require('stream');\nconst { URL } = require('url');\n\nconst PerMessageDeflate = require('./permessage-deflate');\nconst Receiver = require('./receiver');\nconst Sender = require('./sender');\nconst {\n  BINARY_TYPES,\n  EMPTY_BUFFER,\n  GUID,\n  kForOnEventAttribute,\n  kListener,\n  kStatusCode,\n  kWebSocket,\n  NOOP\n} = require('./constants');\nconst {\n  EventTarget: { addEventListener, removeEventListener }\n} = require('./event-target');\nconst { format, parse } = require('./extension');\nconst { toBuffer } = require('./buffer-util');\n\nconst closeTimeout = 30 * 1000;\nconst kAborted = Symbol('kAborted');\nconst protocolVersions = [8, 13];\nconst readyStates = ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'];\nconst subprotocolRegex = /^[!#$%&'*+\\-.0-9A-Z^_`|a-z~]+$/;\n\n/**\n * Class representing a WebSocket.\n *\n * @extends EventEmitter\n */\nclass WebSocket extends EventEmitter {\n  /**\n   * Create a new `WebSocket`.\n   *\n   * @param {(String|URL)} address The URL to which to connect\n   * @param {(String|String[])} [protocols] The subprotocols\n   * @param {Object} [options] Connection options\n   */\n  constructor(address, protocols, options) {\n    super();\n\n    this._binaryType = BINARY_TYPES[0];\n    this._closeCode = 1006;\n    this._closeFrameReceived = false;\n    this._closeFrameSent = false;\n    this._closeMessage = EMPTY_BUFFER;\n    this._closeTimer = null;\n    this._extensions = {};\n    this._paused = false;\n    this._protocol = '';\n    this._readyState = WebSocket.CONNECTING;\n    this._receiver = null;\n    this._sender = null;\n    this._socket = null;\n\n    if (address !== null) {\n      this._bufferedAmount = 0;\n      this._isServer = false;\n      this._redirects = 0;\n\n      if (protocols === undefined) {\n        protocols = [];\n      } else if (!Array.isArray(protocols)) {\n        if (typeof protocols === 'object' && protocols !== null) {\n          options = protocols;\n          protocols = [];\n        } else {\n          protocols = [protocols];\n        }\n      }\n\n      initAsClient(this, address, protocols, options);\n    } else {\n      this._isServer = true;\n    }\n  }\n\n  /**\n   * This deviates from the WHATWG interface since ws doesn't support the\n   * required default \"blob\" type (instead we define a custom \"nodebuffer\"\n   * type).\n   *\n   * @type {String}\n   */\n  get binaryType() {\n    return this._binaryType;\n  }\n\n  set binaryType(type) {\n    if (!BINARY_TYPES.includes(type)) return;\n\n    this._binaryType = type;\n\n    //\n    // Allow to change `binaryType` on the fly.\n    //\n    if (this._receiver) this._receiver._binaryType = type;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get bufferedAmount() {\n    if (!this._socket) return this._bufferedAmount;\n\n    return this._socket._writableState.length + this._sender._bufferedBytes;\n  }\n\n  /**\n   * @type {String}\n   */\n  get extensions() {\n    return Object.keys(this._extensions).join();\n  }\n\n  /**\n   * @type {Boolean}\n   */\n  get isPaused() {\n    return this._paused;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onclose() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onerror() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onopen() {\n    return null;\n  }\n\n  /**\n   * @type {Function}\n   */\n  /* istanbul ignore next */\n  get onmessage() {\n    return null;\n  }\n\n  /**\n   * @type {String}\n   */\n  get protocol() {\n    return this._protocol;\n  }\n\n  /**\n   * @type {Number}\n   */\n  get readyState() {\n    return this._readyState;\n  }\n\n  /**\n   * @type {String}\n   */\n  get url() {\n    return this._url;\n  }\n\n  /**\n   * Set up the socket and the internal resources.\n   *\n   * @param {(net.Socket|tls.Socket)} socket The network socket between the\n   *     server and client\n   * @param {Buffer} head The first packet of the upgraded stream\n   * @param {Object} options Options object\n   * @param {Function} [options.generateMask] The function used to generate the\n   *     masking key\n   * @param {Number} [options.maxPayload=0] The maximum allowed message size\n   * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n   *     not to skip UTF-8 validation for text and close messages\n   * @private\n   */\n  setSocket(socket, head, options) {\n    const receiver = new Receiver({\n      binaryType: this.binaryType,\n      extensions: this._extensions,\n      isServer: this._isServer,\n      maxPayload: options.maxPayload,\n      skipUTF8Validation: options.skipUTF8Validation\n    });\n\n    this._sender = new Sender(socket, this._extensions, options.generateMask);\n    this._receiver = receiver;\n    this._socket = socket;\n\n    receiver[kWebSocket] = this;\n    socket[kWebSocket] = this;\n\n    receiver.on('conclude', receiverOnConclude);\n    receiver.on('drain', receiverOnDrain);\n    receiver.on('error', receiverOnError);\n    receiver.on('message', receiverOnMessage);\n    receiver.on('ping', receiverOnPing);\n    receiver.on('pong', receiverOnPong);\n\n    socket.setTimeout(0);\n    socket.setNoDelay();\n\n    if (head.length > 0) socket.unshift(head);\n\n    socket.on('close', socketOnClose);\n    socket.on('data', socketOnData);\n    socket.on('end', socketOnEnd);\n    socket.on('error', socketOnError);\n\n    this._readyState = WebSocket.OPEN;\n    this.emit('open');\n  }\n\n  /**\n   * Emit the `'close'` event.\n   *\n   * @private\n   */\n  emitClose() {\n    if (!this._socket) {\n      this._readyState = WebSocket.CLOSED;\n      this.emit('close', this._closeCode, this._closeMessage);\n      return;\n    }\n\n    if (this._extensions[PerMessageDeflate.extensionName]) {\n      this._extensions[PerMessageDeflate.extensionName].cleanup();\n    }\n\n    this._receiver.removeAllListeners();\n    this._readyState = WebSocket.CLOSED;\n    this.emit('close', this._closeCode, this._closeMessage);\n  }\n\n  /**\n   * Start a closing handshake.\n   *\n   *          +----------+   +-----------+   +----------+\n   *     - - -|ws.close()|-->|close frame|-->|ws.close()|- - -\n   *    |     +----------+   +-----------+   +----------+     |\n   *          +----------+   +-----------+         |\n   * CLOSING  |ws.close()|<--|close frame|<--+-----+       CLOSING\n   *          +----------+   +-----------+   |\n   *    |           |                        |   +---+        |\n   *                +------------------------+-->|fin| - - - -\n   *    |         +---+                      |   +---+\n   *     - - - - -|fin|<---------------------+\n   *              +---+\n   *\n   * @param {Number} [code] Status code explaining why the connection is closing\n   * @param {(String|Buffer)} [data] The reason why the connection is\n   *     closing\n   * @public\n   */\n  close(code, data) {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this.readyState === WebSocket.CLOSING) {\n      if (\n        this._closeFrameSent &&\n        (this._closeFrameReceived || this._receiver._writableState.errorEmitted)\n      ) {\n        this._socket.end();\n      }\n\n      return;\n    }\n\n    this._readyState = WebSocket.CLOSING;\n    this._sender.close(code, data, !this._isServer, (err) => {\n      //\n      // This error is handled by the `'error'` listener on the socket. We only\n      // want to know if the close frame has been sent here.\n      //\n      if (err) return;\n\n      this._closeFrameSent = true;\n\n      if (\n        this._closeFrameReceived ||\n        this._receiver._writableState.errorEmitted\n      ) {\n        this._socket.end();\n      }\n    });\n\n    //\n    // Specify a timeout for the closing handshake to complete.\n    //\n    this._closeTimer = setTimeout(\n      this._socket.destroy.bind(this._socket),\n      closeTimeout\n    );\n  }\n\n  /**\n   * Pause the socket.\n   *\n   * @public\n   */\n  pause() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = true;\n    this._socket.pause();\n  }\n\n  /**\n   * Send a ping.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the ping is sent\n   * @public\n   */\n  ping(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.ping(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Send a pong.\n   *\n   * @param {*} [data] The data to send\n   * @param {Boolean} [mask] Indicates whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when the pong is sent\n   * @public\n   */\n  pong(data, mask, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof data === 'function') {\n      cb = data;\n      data = mask = undefined;\n    } else if (typeof mask === 'function') {\n      cb = mask;\n      mask = undefined;\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    if (mask === undefined) mask = !this._isServer;\n    this._sender.pong(data || EMPTY_BUFFER, mask, cb);\n  }\n\n  /**\n   * Resume the socket.\n   *\n   * @public\n   */\n  resume() {\n    if (\n      this.readyState === WebSocket.CONNECTING ||\n      this.readyState === WebSocket.CLOSED\n    ) {\n      return;\n    }\n\n    this._paused = false;\n    if (!this._receiver._writableState.needDrain) this._socket.resume();\n  }\n\n  /**\n   * Send a data message.\n   *\n   * @param {*} data The message to send\n   * @param {Object} [options] Options object\n   * @param {Boolean} [options.binary] Specifies whether `data` is binary or\n   *     text\n   * @param {Boolean} [options.compress] Specifies whether or not to compress\n   *     `data`\n   * @param {Boolean} [options.fin=true] Specifies whether the fragment is the\n   *     last one\n   * @param {Boolean} [options.mask] Specifies whether or not to mask `data`\n   * @param {Function} [cb] Callback which is executed when data is written out\n   * @public\n   */\n  send(data, options, cb) {\n    if (this.readyState === WebSocket.CONNECTING) {\n      throw new Error('WebSocket is not open: readyState 0 (CONNECTING)');\n    }\n\n    if (typeof options === 'function') {\n      cb = options;\n      options = {};\n    }\n\n    if (typeof data === 'number') data = data.toString();\n\n    if (this.readyState !== WebSocket.OPEN) {\n      sendAfterClose(this, data, cb);\n      return;\n    }\n\n    const opts = {\n      binary: typeof data !== 'string',\n      mask: !this._isServer,\n      compress: true,\n      fin: true,\n      ...options\n    };\n\n    if (!this._extensions[PerMessageDeflate.extensionName]) {\n      opts.compress = false;\n    }\n\n    this._sender.send(data || EMPTY_BUFFER, opts, cb);\n  }\n\n  /**\n   * Forcibly close the connection.\n   *\n   * @public\n   */\n  terminate() {\n    if (this.readyState === WebSocket.CLOSED) return;\n    if (this.readyState === WebSocket.CONNECTING) {\n      const msg = 'WebSocket was closed before the connection was established';\n      return abortHandshake(this, this._req, msg);\n    }\n\n    if (this._socket) {\n      this._readyState = WebSocket.CLOSING;\n      this._socket.destroy();\n    }\n  }\n}\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} CONNECTING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CONNECTING', {\n  enumerable: true,\n  value: readyStates.indexOf('CONNECTING')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} OPEN\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'OPEN', {\n  enumerable: true,\n  value: readyStates.indexOf('OPEN')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSING\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSING', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSING')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket\n */\nObject.defineProperty(WebSocket, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n/**\n * @constant {Number} CLOSED\n * @memberof WebSocket.prototype\n */\nObject.defineProperty(WebSocket.prototype, 'CLOSED', {\n  enumerable: true,\n  value: readyStates.indexOf('CLOSED')\n});\n\n[\n  'binaryType',\n  'bufferedAmount',\n  'extensions',\n  'isPaused',\n  'protocol',\n  'readyState',\n  'url'\n].forEach((property) => {\n  Object.defineProperty(WebSocket.prototype, property, { enumerable: true });\n});\n\n//\n// Add the `onopen`, `onerror`, `onclose`, and `onmessage` attributes.\n// See https://html.spec.whatwg.org/multipage/comms.html#the-websocket-interface\n//\n['open', 'error', 'close', 'message'].forEach((method) => {\n  Object.defineProperty(WebSocket.prototype, `on${method}`, {\n    enumerable: true,\n    get() {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) return listener[kListener];\n      }\n\n      return null;\n    },\n    set(handler) {\n      for (const listener of this.listeners(method)) {\n        if (listener[kForOnEventAttribute]) {\n          this.removeListener(method, listener);\n          break;\n        }\n      }\n\n      if (typeof handler !== 'function') return;\n\n      this.addEventListener(method, handler, {\n        [kForOnEventAttribute]: true\n      });\n    }\n  });\n});\n\nWebSocket.prototype.addEventListener = addEventListener;\nWebSocket.prototype.removeEventListener = removeEventListener;\n\nmodule.exports = WebSocket;\n\n/**\n * Initialize a WebSocket client.\n *\n * @param {WebSocket} websocket The client to initialize\n * @param {(String|URL)} address The URL to which to connect\n * @param {Array} protocols The subprotocols\n * @param {Object} [options] Connection options\n * @param {Boolean} [options.followRedirects=false] Whether or not to follow\n *     redirects\n * @param {Function} [options.generateMask] The function used to generate the\n *     masking key\n * @param {Number} [options.handshakeTimeout] Timeout in milliseconds for the\n *     handshake request\n * @param {Number} [options.maxPayload=104857600] The maximum allowed message\n *     size\n * @param {Number} [options.maxRedirects=10] The maximum number of redirects\n *     allowed\n * @param {String} [options.origin] Value of the `Origin` or\n *     `Sec-WebSocket-Origin` header\n * @param {(Boolean|Object)} [options.perMessageDeflate=true] Enable/disable\n *     permessage-deflate\n * @param {Number} [options.protocolVersion=13] Value of the\n *     `Sec-WebSocket-Version` header\n * @param {Boolean} [options.skipUTF8Validation=false] Specifies whether or\n *     not to skip UTF-8 validation for text and close messages\n * @private\n */\nfunction initAsClient(websocket, address, protocols, options) {\n  const opts = {\n    protocolVersion: protocolVersions[1],\n    maxPayload: 100 * 1024 * 1024,\n    skipUTF8Validation: false,\n    perMessageDeflate: true,\n    followRedirects: false,\n    maxRedirects: 10,\n    ...options,\n    createConnection: undefined,\n    socketPath: undefined,\n    hostname: undefined,\n    protocol: undefined,\n    timeout: undefined,\n    method: 'GET',\n    host: undefined,\n    path: undefined,\n    port: undefined\n  };\n\n  if (!protocolVersions.includes(opts.protocolVersion)) {\n    throw new RangeError(\n      `Unsupported protocol version: ${opts.protocolVersion} ` +\n        `(supported versions: ${protocolVersions.join(', ')})`\n    );\n  }\n\n  let parsedUrl;\n\n  if (address instanceof URL) {\n    parsedUrl = address;\n    websocket._url = address.href;\n  } else {\n    try {\n      parsedUrl = new URL(address);\n    } catch (e) {\n      throw new SyntaxError(`Invalid URL: ${address}`);\n    }\n\n    websocket._url = address;\n  }\n\n  const isSecure = parsedUrl.protocol === 'wss:';\n  const isIpcUrl = parsedUrl.protocol === 'ws+unix:';\n  let invalidUrlMessage;\n\n  if (parsedUrl.protocol !== 'ws:' && !isSecure && !isIpcUrl) {\n    invalidUrlMessage =\n      'The URL\\'s protocol must be one of \"ws:\", \"wss:\", or \"ws+unix:\"';\n  } else if (isIpcUrl && !parsedUrl.pathname) {\n    invalidUrlMessage = \"The URL's pathname is empty\";\n  } else if (parsedUrl.hash) {\n    invalidUrlMessage = 'The URL contains a fragment identifier';\n  }\n\n  if (invalidUrlMessage) {\n    const err = new SyntaxError(invalidUrlMessage);\n\n    if (websocket._redirects === 0) {\n      throw err;\n    } else {\n      emitErrorAndClose(websocket, err);\n      return;\n    }\n  }\n\n  const defaultPort = isSecure ? 443 : 80;\n  const key = randomBytes(16).toString('base64');\n  const request = isSecure ? https.request : http.request;\n  const protocolSet = new Set();\n  let perMessageDeflate;\n\n  opts.createConnection = isSecure ? tlsConnect : netConnect;\n  opts.defaultPort = opts.defaultPort || defaultPort;\n  opts.port = parsedUrl.port || defaultPort;\n  opts.host = parsedUrl.hostname.startsWith('[')\n    ? parsedUrl.hostname.slice(1, -1)\n    : parsedUrl.hostname;\n  opts.headers = {\n    ...opts.headers,\n    'Sec-WebSocket-Version': opts.protocolVersion,\n    'Sec-WebSocket-Key': key,\n    Connection: 'Upgrade',\n    Upgrade: 'websocket'\n  };\n  opts.path = parsedUrl.pathname + parsedUrl.search;\n  opts.timeout = opts.handshakeTimeout;\n\n  if (opts.perMessageDeflate) {\n    perMessageDeflate = new PerMessageDeflate(\n      opts.perMessageDeflate !== true ? opts.perMessageDeflate : {},\n      false,\n      opts.maxPayload\n    );\n    opts.headers['Sec-WebSocket-Extensions'] = format({\n      [PerMessageDeflate.extensionName]: perMessageDeflate.offer()\n    });\n  }\n  if (protocols.length) {\n    for (const protocol of protocols) {\n      if (\n        typeof protocol !== 'string' ||\n        !subprotocolRegex.test(protocol) ||\n        protocolSet.has(protocol)\n      ) {\n        throw new SyntaxError(\n          'An invalid or duplicated subprotocol was specified'\n        );\n      }\n\n      protocolSet.add(protocol);\n    }\n\n    opts.headers['Sec-WebSocket-Protocol'] = protocols.join(',');\n  }\n  if (opts.origin) {\n    if (opts.protocolVersion < 13) {\n      opts.headers['Sec-WebSocket-Origin'] = opts.origin;\n    } else {\n      opts.headers.Origin = opts.origin;\n    }\n  }\n  if (parsedUrl.username || parsedUrl.password) {\n    opts.auth = `${parsedUrl.username}:${parsedUrl.password}`;\n  }\n\n  if (isIpcUrl) {\n    const parts = opts.path.split(':');\n\n    opts.socketPath = parts[0];\n    opts.path = parts[1];\n  }\n\n  let req;\n\n  if (opts.followRedirects) {\n    if (websocket._redirects === 0) {\n      websocket._originalIpc = isIpcUrl;\n      websocket._originalSecure = isSecure;\n      websocket._originalHostOrSocketPath = isIpcUrl\n        ? opts.socketPath\n        : parsedUrl.host;\n\n      const headers = options && options.headers;\n\n      //\n      // Shallow copy the user provided options so that headers can be changed\n      // without mutating the original object.\n      //\n      options = { ...options, headers: {} };\n\n      if (headers) {\n        for (const [key, value] of Object.entries(headers)) {\n          options.headers[key.toLowerCase()] = value;\n        }\n      }\n    } else if (websocket.listenerCount('redirect') === 0) {\n      const isSameHost = isIpcUrl\n        ? websocket._originalIpc\n          ? opts.socketPath === websocket._originalHostOrSocketPath\n          : false\n        : websocket._originalIpc\n        ? false\n        : parsedUrl.host === websocket._originalHostOrSocketPath;\n\n      if (!isSameHost || (websocket._originalSecure && !isSecure)) {\n        //\n        // Match curl 7.77.0 behavior and drop the following headers. These\n        // headers are also dropped when following a redirect to a subdomain.\n        //\n        delete opts.headers.authorization;\n        delete opts.headers.cookie;\n\n        if (!isSameHost) delete opts.headers.host;\n\n        opts.auth = undefined;\n      }\n    }\n\n    //\n    // Match curl 7.77.0 behavior and make the first `Authorization` header win.\n    // If the `Authorization` header is set, then there is nothing to do as it\n    // will take precedence.\n    //\n    if (opts.auth && !options.headers.authorization) {\n      options.headers.authorization =\n        'Basic ' + Buffer.from(opts.auth).toString('base64');\n    }\n\n    req = websocket._req = request(opts);\n\n    if (websocket._redirects) {\n      //\n      // Unlike what is done for the `'upgrade'` event, no early exit is\n      // triggered here if the user calls `websocket.close()` or\n      // `websocket.terminate()` from a listener of the `'redirect'` event. This\n      // is because the user can also call `request.destroy()` with an error\n      // before calling `websocket.close()` or `websocket.terminate()` and this\n      // would result in an error being emitted on the `request` object with no\n      // `'error'` event listeners attached.\n      //\n      websocket.emit('redirect', websocket.url, req);\n    }\n  } else {\n    req = websocket._req = request(opts);\n  }\n\n  if (opts.timeout) {\n    req.on('timeout', () => {\n      abortHandshake(websocket, req, 'Opening handshake has timed out');\n    });\n  }\n\n  req.on('error', (err) => {\n    if (req === null || req[kAborted]) return;\n\n    req = websocket._req = null;\n    emitErrorAndClose(websocket, err);\n  });\n\n  req.on('response', (res) => {\n    const location = res.headers.location;\n    const statusCode = res.statusCode;\n\n    if (\n      location &&\n      opts.followRedirects &&\n      statusCode >= 300 &&\n      statusCode < 400\n    ) {\n      if (++websocket._redirects > opts.maxRedirects) {\n        abortHandshake(websocket, req, 'Maximum redirects exceeded');\n        return;\n      }\n\n      req.abort();\n\n      let addr;\n\n      try {\n        addr = new URL(location, address);\n      } catch (e) {\n        const err = new SyntaxError(`Invalid URL: ${location}`);\n        emitErrorAndClose(websocket, err);\n        return;\n      }\n\n      initAsClient(websocket, addr, protocols, options);\n    } else if (!websocket.emit('unexpected-response', req, res)) {\n      abortHandshake(\n        websocket,\n        req,\n        `Unexpected server response: ${res.statusCode}`\n      );\n    }\n  });\n\n  req.on('upgrade', (res, socket, head) => {\n    websocket.emit('upgrade', res);\n\n    //\n    // The user may have closed the connection from a listener of the\n    // `'upgrade'` event.\n    //\n    if (websocket.readyState !== WebSocket.CONNECTING) return;\n\n    req = websocket._req = null;\n\n    if (res.headers.upgrade.toLowerCase() !== 'websocket') {\n      abortHandshake(websocket, socket, 'Invalid Upgrade header');\n      return;\n    }\n\n    const digest = createHash('sha1')\n      .update(key + GUID)\n      .digest('base64');\n\n    if (res.headers['sec-websocket-accept'] !== digest) {\n      abortHandshake(websocket, socket, 'Invalid Sec-WebSocket-Accept header');\n      return;\n    }\n\n    const serverProt = res.headers['sec-websocket-protocol'];\n    let protError;\n\n    if (serverProt !== undefined) {\n      if (!protocolSet.size) {\n        protError = 'Server sent a subprotocol but none was requested';\n      } else if (!protocolSet.has(serverProt)) {\n        protError = 'Server sent an invalid subprotocol';\n      }\n    } else if (protocolSet.size) {\n      protError = 'Server sent no subprotocol';\n    }\n\n    if (protError) {\n      abortHandshake(websocket, socket, protError);\n      return;\n    }\n\n    if (serverProt) websocket._protocol = serverProt;\n\n    const secWebSocketExtensions = res.headers['sec-websocket-extensions'];\n\n    if (secWebSocketExtensions !== undefined) {\n      if (!perMessageDeflate) {\n        const message =\n          'Server sent a Sec-WebSocket-Extensions header but no extension ' +\n          'was requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      let extensions;\n\n      try {\n        extensions = parse(secWebSocketExtensions);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      const extensionNames = Object.keys(extensions);\n\n      if (\n        extensionNames.length !== 1 ||\n        extensionNames[0] !== PerMessageDeflate.extensionName\n      ) {\n        const message = 'Server indicated an extension that was not requested';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      try {\n        perMessageDeflate.accept(extensions[PerMessageDeflate.extensionName]);\n      } catch (err) {\n        const message = 'Invalid Sec-WebSocket-Extensions header';\n        abortHandshake(websocket, socket, message);\n        return;\n      }\n\n      websocket._extensions[PerMessageDeflate.extensionName] =\n        perMessageDeflate;\n    }\n\n    websocket.setSocket(socket, head, {\n      generateMask: opts.generateMask,\n      maxPayload: opts.maxPayload,\n      skipUTF8Validation: opts.skipUTF8Validation\n    });\n  });\n\n  req.end();\n}\n\n/**\n * Emit the `'error'` and `'close'` events.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {Error} The error to emit\n * @private\n */\nfunction emitErrorAndClose(websocket, err) {\n  websocket._readyState = WebSocket.CLOSING;\n  websocket.emit('error', err);\n  websocket.emitClose();\n}\n\n/**\n * Create a `net.Socket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {net.Socket} The newly created socket used to start the connection\n * @private\n */\nfunction netConnect(options) {\n  options.path = options.socketPath;\n  return net.connect(options);\n}\n\n/**\n * Create a `tls.TLSSocket` and initiate a connection.\n *\n * @param {Object} options Connection options\n * @return {tls.TLSSocket} The newly created socket used to start the connection\n * @private\n */\nfunction tlsConnect(options) {\n  options.path = undefined;\n\n  if (!options.servername && options.servername !== '') {\n    options.servername = net.isIP(options.host) ? '' : options.host;\n  }\n\n  return tls.connect(options);\n}\n\n/**\n * Abort the handshake and emit an error.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {(http.ClientRequest|net.Socket|tls.Socket)} stream The request to\n *     abort or the socket to destroy\n * @param {String} message The error message\n * @private\n */\nfunction abortHandshake(websocket, stream, message) {\n  websocket._readyState = WebSocket.CLOSING;\n\n  const err = new Error(message);\n  Error.captureStackTrace(err, abortHandshake);\n\n  if (stream.setHeader) {\n    stream[kAborted] = true;\n    stream.abort();\n\n    if (stream.socket && !stream.socket.destroyed) {\n      //\n      // On Node.js >= 14.3.0 `request.abort()` does not destroy the socket if\n      // called after the request completed. See\n      // https://github.com/websockets/ws/issues/1869.\n      //\n      stream.socket.destroy();\n    }\n\n    process.nextTick(emitErrorAndClose, websocket, err);\n  } else {\n    stream.destroy(err);\n    stream.once('error', websocket.emit.bind(websocket, 'error'));\n    stream.once('close', websocket.emitClose.bind(websocket));\n  }\n}\n\n/**\n * Handle cases where the `ping()`, `pong()`, or `send()` methods are called\n * when the `readyState` attribute is `CLOSING` or `CLOSED`.\n *\n * @param {WebSocket} websocket The WebSocket instance\n * @param {*} [data] The data to send\n * @param {Function} [cb] Callback\n * @private\n */\nfunction sendAfterClose(websocket, data, cb) {\n  if (data) {\n    const length = toBuffer(data).length;\n\n    //\n    // The `_bufferedAmount` property is used only when the peer is a client and\n    // the opening handshake fails. Under these circumstances, in fact, the\n    // `setSocket()` method is not called, so the `_socket` and `_sender`\n    // properties are set to `null`.\n    //\n    if (websocket._socket) websocket._sender._bufferedBytes += length;\n    else websocket._bufferedAmount += length;\n  }\n\n  if (cb) {\n    const err = new Error(\n      `WebSocket is not open: readyState ${websocket.readyState} ` +\n        `(${readyStates[websocket.readyState]})`\n    );\n    cb(err);\n  }\n}\n\n/**\n * The listener of the `Receiver` `'conclude'` event.\n *\n * @param {Number} code The status code\n * @param {Buffer} reason The reason for closing\n * @private\n */\nfunction receiverOnConclude(code, reason) {\n  const websocket = this[kWebSocket];\n\n  websocket._closeFrameReceived = true;\n  websocket._closeMessage = reason;\n  websocket._closeCode = code;\n\n  if (websocket._socket[kWebSocket] === undefined) return;\n\n  websocket._socket.removeListener('data', socketOnData);\n  process.nextTick(resume, websocket._socket);\n\n  if (code === 1005) websocket.close();\n  else websocket.close(code, reason);\n}\n\n/**\n * The listener of the `Receiver` `'drain'` event.\n *\n * @private\n */\nfunction receiverOnDrain() {\n  const websocket = this[kWebSocket];\n\n  if (!websocket.isPaused) websocket._socket.resume();\n}\n\n/**\n * The listener of the `Receiver` `'error'` event.\n *\n * @param {(RangeError|Error)} err The emitted error\n * @private\n */\nfunction receiverOnError(err) {\n  const websocket = this[kWebSocket];\n\n  if (websocket._socket[kWebSocket] !== undefined) {\n    websocket._socket.removeListener('data', socketOnData);\n\n    //\n    // On Node.js < 14.0.0 the `'error'` event is emitted synchronously. See\n    // https://github.com/websockets/ws/issues/1940.\n    //\n    process.nextTick(resume, websocket._socket);\n\n    websocket.close(err[kStatusCode]);\n  }\n\n  websocket.emit('error', err);\n}\n\n/**\n * The listener of the `Receiver` `'finish'` event.\n *\n * @private\n */\nfunction receiverOnFinish() {\n  this[kWebSocket].emitClose();\n}\n\n/**\n * The listener of the `Receiver` `'message'` event.\n *\n * @param {Buffer|ArrayBuffer|Buffer[])} data The message\n * @param {Boolean} isBinary Specifies whether the message is binary or not\n * @private\n */\nfunction receiverOnMessage(data, isBinary) {\n  this[kWebSocket].emit('message', data, isBinary);\n}\n\n/**\n * The listener of the `Receiver` `'ping'` event.\n *\n * @param {Buffer} data The data included in the ping frame\n * @private\n */\nfunction receiverOnPing(data) {\n  const websocket = this[kWebSocket];\n\n  websocket.pong(data, !websocket._isServer, NOOP);\n  websocket.emit('ping', data);\n}\n\n/**\n * The listener of the `Receiver` `'pong'` event.\n *\n * @param {Buffer} data The data included in the pong frame\n * @private\n */\nfunction receiverOnPong(data) {\n  this[kWebSocket].emit('pong', data);\n}\n\n/**\n * Resume a readable stream\n *\n * @param {Readable} stream The readable stream\n * @private\n */\nfunction resume(stream) {\n  stream.resume();\n}\n\n/**\n * The listener of the `net.Socket` `'close'` event.\n *\n * @private\n */\nfunction socketOnClose() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('close', socketOnClose);\n  this.removeListener('data', socketOnData);\n  this.removeListener('end', socketOnEnd);\n\n  websocket._readyState = WebSocket.CLOSING;\n\n  let chunk;\n\n  //\n  // The close frame might not have been received or the `'end'` event emitted,\n  // for example, if the socket was destroyed due to an error. Ensure that the\n  // `receiver` stream is closed after writing any remaining buffered data to\n  // it. If the readable side of the socket is in flowing mode then there is no\n  // buffered data as everything has been already written and `readable.read()`\n  // will return `null`. If instead, the socket is paused, any possible buffered\n  // data will be read as a single chunk.\n  //\n  if (\n    !this._readableState.endEmitted &&\n    !websocket._closeFrameReceived &&\n    !websocket._receiver._writableState.errorEmitted &&\n    (chunk = websocket._socket.read()) !== null\n  ) {\n    websocket._receiver.write(chunk);\n  }\n\n  websocket._receiver.end();\n\n  this[kWebSocket] = undefined;\n\n  clearTimeout(websocket._closeTimer);\n\n  if (\n    websocket._receiver._writableState.finished ||\n    websocket._receiver._writableState.errorEmitted\n  ) {\n    websocket.emitClose();\n  } else {\n    websocket._receiver.on('error', receiverOnFinish);\n    websocket._receiver.on('finish', receiverOnFinish);\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'data'` event.\n *\n * @param {Buffer} chunk A chunk of data\n * @private\n */\nfunction socketOnData(chunk) {\n  if (!this[kWebSocket]._receiver.write(chunk)) {\n    this.pause();\n  }\n}\n\n/**\n * The listener of the `net.Socket` `'end'` event.\n *\n * @private\n */\nfunction socketOnEnd() {\n  const websocket = this[kWebSocket];\n\n  websocket._readyState = WebSocket.CLOSING;\n  websocket._receiver.end();\n  this.end();\n}\n\n/**\n * The listener of the `net.Socket` `'error'` event.\n *\n * @private\n */\nfunction socketOnError() {\n  const websocket = this[kWebSocket];\n\n  this.removeListener('error', socketOnError);\n  this.on('error', NOOP);\n\n  if (websocket) {\n    websocket._readyState = WebSocket.CLOSING;\n    this.destroy();\n  }\n}\n","'use strict';\n\nvar isGlob = require('is-glob');\nvar pathPosixDirname = require('path').posix.dirname;\nvar isWin32 = require('os').platform() === 'win32';\n\nvar slash = '/';\nvar backslash = /\\\\/g;\nvar enclosure = /[\\{\\[].*[\\}\\]]$/;\nvar globby = /(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/;\nvar escaped = /\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g;\n\n/**\n * @param {string} str\n * @param {Object} opts\n * @param {boolean} [opts.flipBackslashes=true]\n * @returns {string}\n */\nmodule.exports = function globParent(str, opts) {\n  var options = Object.assign({ flipBackslashes: true }, opts);\n\n  // flip windows path separators\n  if (options.flipBackslashes && isWin32 && str.indexOf(slash) < 0) {\n    str = str.replace(backslash, slash);\n  }\n\n  // special case for strings ending in enclosure containing path separator\n  if (enclosure.test(str)) {\n    str += slash;\n  }\n\n  // preserves full path in case of trailing path separator\n  str += 'a';\n\n  // remove path parts that are globby\n  do {\n    str = pathPosixDirname(str);\n  } while (isGlob(str) || globby.test(str));\n\n  // remove escape chars and return result\n  return str.replace(escaped, '$1');\n};\n","\"use strict\";\r\nconst taskManager = require(\"./managers/tasks\");\r\nconst patternManager = require(\"./managers/patterns\");\r\nconst async_1 = require(\"./providers/async\");\r\nconst stream_1 = require(\"./providers/stream\");\r\nconst sync_1 = require(\"./providers/sync\");\r\nconst settings_1 = require(\"./settings\");\r\nconst utils = require(\"./utils\");\r\nasync function FastGlob(source, options) {\r\n    assertPatternsInput(source);\r\n    const works = getWorks(source, async_1.default, options);\r\n    const result = await Promise.all(works);\r\n    return utils.array.flatten(result);\r\n}\r\n// https://github.com/typescript-eslint/typescript-eslint/issues/60\r\n// eslint-disable-next-line no-redeclare\r\n(function (FastGlob) {\r\n    function sync(source, options) {\r\n        assertPatternsInput(source);\r\n        const works = getWorks(source, sync_1.default, options);\r\n        return utils.array.flatten(works);\r\n    }\r\n    FastGlob.sync = sync;\r\n    function stream(source, options) {\r\n        assertPatternsInput(source);\r\n        const works = getWorks(source, stream_1.default, options);\r\n        /**\r\n         * The stream returned by the provider cannot work with an asynchronous iterator.\r\n         * To support asynchronous iterators, regardless of the number of tasks, we always multiplex streams.\r\n         * This affects performance (+25%). I don't see best solution right now.\r\n         */\r\n        return utils.stream.merge(works);\r\n    }\r\n    FastGlob.stream = stream;\r\n    function generateTasks(source, options) {\r\n        assertPatternsInput(source);\r\n        const patterns = patternManager.transform([].concat(source));\r\n        const settings = new settings_1.default(options);\r\n        return taskManager.generate(patterns, settings);\r\n    }\r\n    FastGlob.generateTasks = generateTasks;\r\n    function isDynamicPattern(source, options) {\r\n        assertPatternsInput(source);\r\n        const settings = new settings_1.default(options);\r\n        return utils.pattern.isDynamicPattern(source, settings);\r\n    }\r\n    FastGlob.isDynamicPattern = isDynamicPattern;\r\n    function escapePath(source) {\r\n        assertPatternsInput(source);\r\n        return utils.path.escape(source);\r\n    }\r\n    FastGlob.escapePath = escapePath;\r\n})(FastGlob || (FastGlob = {}));\r\nfunction getWorks(source, _Provider, options) {\r\n    const patterns = patternManager.transform([].concat(source));\r\n    const settings = new settings_1.default(options);\r\n    const tasks = taskManager.generate(patterns, settings);\r\n    const provider = new _Provider(settings);\r\n    return tasks.map(provider.read, provider);\r\n}\r\nfunction assertPatternsInput(input) {\r\n    const source = [].concat(input);\r\n    const isValidSource = source.every((item) => utils.string.isString(item) && !utils.string.isEmpty(item));\r\n    if (!isValidSource) {\r\n        throw new TypeError('Patterns must be a string (non empty) or an array of strings');\r\n    }\r\n}\r\nmodule.exports = FastGlob;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.removeDuplicateSlashes = exports.transform = void 0;\r\n/**\r\n * Matches a sequence of two or more consecutive slashes, excluding the first two slashes at the beginning of the string.\r\n * The latter is due to the presence of the device path at the beginning of the UNC path.\r\n * @todo rewrite to negative lookbehind with the next major release.\r\n */\r\nconst DOUBLE_SLASH_RE = /(?!^)\\/{2,}/g;\r\nfunction transform(patterns) {\r\n    return patterns.map((pattern) => removeDuplicateSlashes(pattern));\r\n}\r\nexports.transform = transform;\r\n/**\r\n * This package only works with forward slashes as a path separator.\r\n * Because of this, we cannot use the standard `path.normalize` method, because on Windows platform it will use of backslashes.\r\n */\r\nfunction removeDuplicateSlashes(pattern) {\r\n    return pattern.replace(DOUBLE_SLASH_RE, '/');\r\n}\r\nexports.removeDuplicateSlashes = removeDuplicateSlashes;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.convertPatternGroupToTask = exports.convertPatternGroupsToTasks = exports.groupPatternsByBaseDirectory = exports.getNegativePatternsAsPositive = exports.getPositivePatterns = exports.convertPatternsToTasks = exports.generate = void 0;\r\nconst utils = require(\"../utils\");\r\nfunction generate(patterns, settings) {\r\n    const positivePatterns = getPositivePatterns(patterns);\r\n    const negativePatterns = getNegativePatternsAsPositive(patterns, settings.ignore);\r\n    const staticPatterns = positivePatterns.filter((pattern) => utils.pattern.isStaticPattern(pattern, settings));\r\n    const dynamicPatterns = positivePatterns.filter((pattern) => utils.pattern.isDynamicPattern(pattern, settings));\r\n    const staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns, /* dynamic */ false);\r\n    const dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns, /* dynamic */ true);\r\n    return staticTasks.concat(dynamicTasks);\r\n}\r\nexports.generate = generate;\r\n/**\r\n * Returns tasks grouped by basic pattern directories.\r\n *\r\n * Patterns that can be found inside (`./`) and outside (`../`) the current directory are handled separately.\r\n * This is necessary because directory traversal starts at the base directory and goes deeper.\r\n */\r\nfunction convertPatternsToTasks(positive, negative, dynamic) {\r\n    const tasks = [];\r\n    const patternsOutsideCurrentDirectory = utils.pattern.getPatternsOutsideCurrentDirectory(positive);\r\n    const patternsInsideCurrentDirectory = utils.pattern.getPatternsInsideCurrentDirectory(positive);\r\n    const outsideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsOutsideCurrentDirectory);\r\n    const insideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsInsideCurrentDirectory);\r\n    tasks.push(...convertPatternGroupsToTasks(outsideCurrentDirectoryGroup, negative, dynamic));\r\n    /*\r\n     * For the sake of reducing future accesses to the file system, we merge all tasks within the current directory\r\n     * into a global task, if at least one pattern refers to the root (`.`). In this case, the global task covers the rest.\r\n     */\r\n    if ('.' in insideCurrentDirectoryGroup) {\r\n        tasks.push(convertPatternGroupToTask('.', patternsInsideCurrentDirectory, negative, dynamic));\r\n    }\r\n    else {\r\n        tasks.push(...convertPatternGroupsToTasks(insideCurrentDirectoryGroup, negative, dynamic));\r\n    }\r\n    return tasks;\r\n}\r\nexports.convertPatternsToTasks = convertPatternsToTasks;\r\nfunction getPositivePatterns(patterns) {\r\n    return utils.pattern.getPositivePatterns(patterns);\r\n}\r\nexports.getPositivePatterns = getPositivePatterns;\r\nfunction getNegativePatternsAsPositive(patterns, ignore) {\r\n    const negative = utils.pattern.getNegativePatterns(patterns).concat(ignore);\r\n    const positive = negative.map(utils.pattern.convertToPositivePattern);\r\n    return positive;\r\n}\r\nexports.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\r\nfunction groupPatternsByBaseDirectory(patterns) {\r\n    const group = {};\r\n    return patterns.reduce((collection, pattern) => {\r\n        const base = utils.pattern.getBaseDirectory(pattern);\r\n        if (base in collection) {\r\n            collection[base].push(pattern);\r\n        }\r\n        else {\r\n            collection[base] = [pattern];\r\n        }\r\n        return collection;\r\n    }, group);\r\n}\r\nexports.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\r\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\r\n    return Object.keys(positive).map((base) => {\r\n        return convertPatternGroupToTask(base, positive[base], negative, dynamic);\r\n    });\r\n}\r\nexports.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\r\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\r\n    return {\r\n        dynamic,\r\n        positive,\r\n        negative,\r\n        base,\r\n        patterns: [].concat(positive, negative.map(utils.pattern.convertToNegativePattern))\r\n    };\r\n}\r\nexports.convertPatternGroupToTask = convertPatternGroupToTask;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst async_1 = require(\"../readers/async\");\r\nconst provider_1 = require(\"./provider\");\r\nclass ProviderAsync extends provider_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new async_1.default(this._settings);\r\n    }\r\n    async read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const entries = await this.api(root, task, options);\r\n        return entries.map((entry) => options.transform(entry));\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nexports.default = ProviderAsync;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nconst partial_1 = require(\"../matchers/partial\");\r\nclass DeepFilter {\r\n    constructor(_settings, _micromatchOptions) {\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n    }\r\n    getFilter(basePath, positive, negative) {\r\n        const matcher = this._getMatcher(positive);\r\n        const negativeRe = this._getNegativePatternsRe(negative);\r\n        return (entry) => this._filter(basePath, entry, matcher, negativeRe);\r\n    }\r\n    _getMatcher(patterns) {\r\n        return new partial_1.default(patterns, this._settings, this._micromatchOptions);\r\n    }\r\n    _getNegativePatternsRe(patterns) {\r\n        const affectDepthOfReadingPatterns = patterns.filter(utils.pattern.isAffectDepthOfReadingPattern);\r\n        return utils.pattern.convertPatternsToRe(affectDepthOfReadingPatterns, this._micromatchOptions);\r\n    }\r\n    _filter(basePath, entry, matcher, negativeRe) {\r\n        if (this._isSkippedByDeep(basePath, entry.path)) {\r\n            return false;\r\n        }\r\n        if (this._isSkippedSymbolicLink(entry)) {\r\n            return false;\r\n        }\r\n        const filepath = utils.path.removeLeadingDotSegment(entry.path);\r\n        if (this._isSkippedByPositivePatterns(filepath, matcher)) {\r\n            return false;\r\n        }\r\n        return this._isSkippedByNegativePatterns(filepath, negativeRe);\r\n    }\r\n    _isSkippedByDeep(basePath, entryPath) {\r\n        /**\r\n         * Avoid unnecessary depth calculations when it doesn't matter.\r\n         */\r\n        if (this._settings.deep === Infinity) {\r\n            return false;\r\n        }\r\n        return this._getEntryLevel(basePath, entryPath) >= this._settings.deep;\r\n    }\r\n    _getEntryLevel(basePath, entryPath) {\r\n        const entryPathDepth = entryPath.split('/').length;\r\n        if (basePath === '') {\r\n            return entryPathDepth;\r\n        }\r\n        const basePathDepth = basePath.split('/').length;\r\n        return entryPathDepth - basePathDepth;\r\n    }\r\n    _isSkippedSymbolicLink(entry) {\r\n        return !this._settings.followSymbolicLinks && entry.dirent.isSymbolicLink();\r\n    }\r\n    _isSkippedByPositivePatterns(entryPath, matcher) {\r\n        return !this._settings.baseNameMatch && !matcher.match(entryPath);\r\n    }\r\n    _isSkippedByNegativePatterns(entryPath, patternsRe) {\r\n        return !utils.pattern.matchAny(entryPath, patternsRe);\r\n    }\r\n}\r\nexports.default = DeepFilter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nclass EntryFilter {\r\n    constructor(_settings, _micromatchOptions) {\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n        this.index = new Map();\r\n    }\r\n    getFilter(positive, negative) {\r\n        const positiveRe = utils.pattern.convertPatternsToRe(positive, this._micromatchOptions);\r\n        const negativeRe = utils.pattern.convertPatternsToRe(negative, this._micromatchOptions);\r\n        return (entry) => this._filter(entry, positiveRe, negativeRe);\r\n    }\r\n    _filter(entry, positiveRe, negativeRe) {\r\n        if (this._settings.unique && this._isDuplicateEntry(entry)) {\r\n            return false;\r\n        }\r\n        if (this._onlyFileFilter(entry) || this._onlyDirectoryFilter(entry)) {\r\n            return false;\r\n        }\r\n        if (this._isSkippedByAbsoluteNegativePatterns(entry.path, negativeRe)) {\r\n            return false;\r\n        }\r\n        const filepath = this._settings.baseNameMatch ? entry.name : entry.path;\r\n        const isDirectory = entry.dirent.isDirectory();\r\n        const isMatched = this._isMatchToPatterns(filepath, positiveRe, isDirectory) && !this._isMatchToPatterns(entry.path, negativeRe, isDirectory);\r\n        if (this._settings.unique && isMatched) {\r\n            this._createIndexRecord(entry);\r\n        }\r\n        return isMatched;\r\n    }\r\n    _isDuplicateEntry(entry) {\r\n        return this.index.has(entry.path);\r\n    }\r\n    _createIndexRecord(entry) {\r\n        this.index.set(entry.path, undefined);\r\n    }\r\n    _onlyFileFilter(entry) {\r\n        return this._settings.onlyFiles && !entry.dirent.isFile();\r\n    }\r\n    _onlyDirectoryFilter(entry) {\r\n        return this._settings.onlyDirectories && !entry.dirent.isDirectory();\r\n    }\r\n    _isSkippedByAbsoluteNegativePatterns(entryPath, patternsRe) {\r\n        if (!this._settings.absolute) {\r\n            return false;\r\n        }\r\n        const fullpath = utils.path.makeAbsolute(this._settings.cwd, entryPath);\r\n        return utils.pattern.matchAny(fullpath, patternsRe);\r\n    }\r\n    _isMatchToPatterns(entryPath, patternsRe, isDirectory) {\r\n        const filepath = utils.path.removeLeadingDotSegment(entryPath);\r\n        // Trying to match files and directories by patterns.\r\n        const isMatched = utils.pattern.matchAny(filepath, patternsRe);\r\n        // A pattern with a trailling slash can be used for directory matching.\r\n        // To apply such pattern, we need to add a tralling slash to the path.\r\n        if (!isMatched && isDirectory) {\r\n            return utils.pattern.matchAny(filepath + '/', patternsRe);\r\n        }\r\n        return isMatched;\r\n    }\r\n}\r\nexports.default = EntryFilter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nclass ErrorFilter {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n    }\r\n    getFilter() {\r\n        return (error) => this._isNonFatalError(error);\r\n    }\r\n    _isNonFatalError(error) {\r\n        return utils.errno.isEnoentCodeError(error) || this._settings.suppressErrors;\r\n    }\r\n}\r\nexports.default = ErrorFilter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nclass Matcher {\r\n    constructor(_patterns, _settings, _micromatchOptions) {\r\n        this._patterns = _patterns;\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n        this._storage = [];\r\n        this._fillStorage();\r\n    }\r\n    _fillStorage() {\r\n        /**\r\n         * The original pattern may include `{,*,**,a/*}`, which will lead to problems with matching (unresolved level).\r\n         * So, before expand patterns with brace expansion into separated patterns.\r\n         */\r\n        const patterns = utils.pattern.expandPatternsWithBraceExpansion(this._patterns);\r\n        for (const pattern of patterns) {\r\n            const segments = this._getPatternSegments(pattern);\r\n            const sections = this._splitSegmentsIntoSections(segments);\r\n            this._storage.push({\r\n                complete: sections.length <= 1,\r\n                pattern,\r\n                segments,\r\n                sections\r\n            });\r\n        }\r\n    }\r\n    _getPatternSegments(pattern) {\r\n        const parts = utils.pattern.getPatternParts(pattern, this._micromatchOptions);\r\n        return parts.map((part) => {\r\n            const dynamic = utils.pattern.isDynamicPattern(part, this._settings);\r\n            if (!dynamic) {\r\n                return {\r\n                    dynamic: false,\r\n                    pattern: part\r\n                };\r\n            }\r\n            return {\r\n                dynamic: true,\r\n                pattern: part,\r\n                patternRe: utils.pattern.makeRe(part, this._micromatchOptions)\r\n            };\r\n        });\r\n    }\r\n    _splitSegmentsIntoSections(segments) {\r\n        return utils.array.splitWhen(segments, (segment) => segment.dynamic && utils.pattern.hasGlobStar(segment.pattern));\r\n    }\r\n}\r\nexports.default = Matcher;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst matcher_1 = require(\"./matcher\");\r\nclass PartialMatcher extends matcher_1.default {\r\n    match(filepath) {\r\n        const parts = filepath.split('/');\r\n        const levels = parts.length;\r\n        const patterns = this._storage.filter((info) => !info.complete || info.segments.length > levels);\r\n        for (const pattern of patterns) {\r\n            const section = pattern.sections[0];\r\n            /**\r\n             * In this case, the pattern has a globstar and we must read all directories unconditionally,\r\n             * but only if the level has reached the end of the first group.\r\n             *\r\n             * fixtures/{a,b}/**\r\n             *  ^ true/false  ^ always true\r\n            */\r\n            if (!pattern.complete && levels > section.length) {\r\n                return true;\r\n            }\r\n            const match = parts.every((part, index) => {\r\n                const segment = pattern.segments[index];\r\n                if (segment.dynamic && segment.patternRe.test(part)) {\r\n                    return true;\r\n                }\r\n                if (!segment.dynamic && segment.pattern === part) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (match) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexports.default = PartialMatcher;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path = require(\"path\");\r\nconst deep_1 = require(\"./filters/deep\");\r\nconst entry_1 = require(\"./filters/entry\");\r\nconst error_1 = require(\"./filters/error\");\r\nconst entry_2 = require(\"./transformers/entry\");\r\nclass Provider {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n        this.errorFilter = new error_1.default(this._settings);\r\n        this.entryFilter = new entry_1.default(this._settings, this._getMicromatchOptions());\r\n        this.deepFilter = new deep_1.default(this._settings, this._getMicromatchOptions());\r\n        this.entryTransformer = new entry_2.default(this._settings);\r\n    }\r\n    _getRootDirectory(task) {\r\n        return path.resolve(this._settings.cwd, task.base);\r\n    }\r\n    _getReaderOptions(task) {\r\n        const basePath = task.base === '.' ? '' : task.base;\r\n        return {\r\n            basePath,\r\n            pathSegmentSeparator: '/',\r\n            concurrency: this._settings.concurrency,\r\n            deepFilter: this.deepFilter.getFilter(basePath, task.positive, task.negative),\r\n            entryFilter: this.entryFilter.getFilter(task.positive, task.negative),\r\n            errorFilter: this.errorFilter.getFilter(),\r\n            followSymbolicLinks: this._settings.followSymbolicLinks,\r\n            fs: this._settings.fs,\r\n            stats: this._settings.stats,\r\n            throwErrorOnBrokenSymbolicLink: this._settings.throwErrorOnBrokenSymbolicLink,\r\n            transform: this.entryTransformer.getTransformer()\r\n        };\r\n    }\r\n    _getMicromatchOptions() {\r\n        return {\r\n            dot: this._settings.dot,\r\n            matchBase: this._settings.baseNameMatch,\r\n            nobrace: !this._settings.braceExpansion,\r\n            nocase: !this._settings.caseSensitiveMatch,\r\n            noext: !this._settings.extglob,\r\n            noglobstar: !this._settings.globstar,\r\n            posix: true,\r\n            strictSlashes: false\r\n        };\r\n    }\r\n}\r\nexports.default = Provider;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst stream_1 = require(\"stream\");\r\nconst stream_2 = require(\"../readers/stream\");\r\nconst provider_1 = require(\"./provider\");\r\nclass ProviderStream extends provider_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new stream_2.default(this._settings);\r\n    }\r\n    read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const source = this.api(root, task, options);\r\n        const destination = new stream_1.Readable({ objectMode: true, read: () => { } });\r\n        source\r\n            .once('error', (error) => destination.emit('error', error))\r\n            .on('data', (entry) => destination.emit('data', options.transform(entry)))\r\n            .once('end', () => destination.emit('end'));\r\n        destination\r\n            .once('close', () => source.destroy());\r\n        return destination;\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nexports.default = ProviderStream;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst sync_1 = require(\"../readers/sync\");\r\nconst provider_1 = require(\"./provider\");\r\nclass ProviderSync extends provider_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new sync_1.default(this._settings);\r\n    }\r\n    read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const entries = this.api(root, task, options);\r\n        return entries.map(options.transform);\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nexports.default = ProviderSync;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nclass EntryTransformer {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n    }\r\n    getTransformer() {\r\n        return (entry) => this._transform(entry);\r\n    }\r\n    _transform(entry) {\r\n        let filepath = entry.path;\r\n        if (this._settings.absolute) {\r\n            filepath = utils.path.makeAbsolute(this._settings.cwd, filepath);\r\n            filepath = utils.path.unixify(filepath);\r\n        }\r\n        if (this._settings.markDirectories && entry.dirent.isDirectory()) {\r\n            filepath += '/';\r\n        }\r\n        if (!this._settings.objectMode) {\r\n            return filepath;\r\n        }\r\n        return Object.assign(Object.assign({}, entry), { path: filepath });\r\n    }\r\n}\r\nexports.default = EntryTransformer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst fsWalk = require(\"@nodelib/fs.walk\");\r\nconst reader_1 = require(\"./reader\");\r\nconst stream_1 = require(\"./stream\");\r\nclass ReaderAsync extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkAsync = fsWalk.walk;\r\n        this._readerStream = new stream_1.default(this._settings);\r\n    }\r\n    dynamic(root, options) {\r\n        return new Promise((resolve, reject) => {\r\n            this._walkAsync(root, options, (error, entries) => {\r\n                if (error === null) {\r\n                    resolve(entries);\r\n                }\r\n                else {\r\n                    reject(error);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    async static(patterns, options) {\r\n        const entries = [];\r\n        const stream = this._readerStream.static(patterns, options);\r\n        // After #235, replace it with an asynchronous iterator.\r\n        return new Promise((resolve, reject) => {\r\n            stream.once('error', reject);\r\n            stream.on('data', (entry) => entries.push(entry));\r\n            stream.once('end', () => resolve(entries));\r\n        });\r\n    }\r\n}\r\nexports.default = ReaderAsync;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path = require(\"path\");\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst utils = require(\"../utils\");\r\nclass Reader {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n        this._fsStatSettings = new fsStat.Settings({\r\n            followSymbolicLink: this._settings.followSymbolicLinks,\r\n            fs: this._settings.fs,\r\n            throwErrorOnBrokenSymbolicLink: this._settings.followSymbolicLinks\r\n        });\r\n    }\r\n    _getFullEntryPath(filepath) {\r\n        return path.resolve(this._settings.cwd, filepath);\r\n    }\r\n    _makeEntry(stats, pattern) {\r\n        const entry = {\r\n            name: pattern,\r\n            path: pattern,\r\n            dirent: utils.fs.createDirentFromStats(pattern, stats)\r\n        };\r\n        if (this._settings.stats) {\r\n            entry.stats = stats;\r\n        }\r\n        return entry;\r\n    }\r\n    _isFatalError(error) {\r\n        return !utils.errno.isEnoentCodeError(error) && !this._settings.suppressErrors;\r\n    }\r\n}\r\nexports.default = Reader;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst stream_1 = require(\"stream\");\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst fsWalk = require(\"@nodelib/fs.walk\");\r\nconst reader_1 = require(\"./reader\");\r\nclass ReaderStream extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkStream = fsWalk.walkStream;\r\n        this._stat = fsStat.stat;\r\n    }\r\n    dynamic(root, options) {\r\n        return this._walkStream(root, options);\r\n    }\r\n    static(patterns, options) {\r\n        const filepaths = patterns.map(this._getFullEntryPath, this);\r\n        const stream = new stream_1.PassThrough({ objectMode: true });\r\n        stream._write = (index, _enc, done) => {\r\n            return this._getEntry(filepaths[index], patterns[index], options)\r\n                .then((entry) => {\r\n                if (entry !== null && options.entryFilter(entry)) {\r\n                    stream.push(entry);\r\n                }\r\n                if (index === filepaths.length - 1) {\r\n                    stream.end();\r\n                }\r\n                done();\r\n            })\r\n                .catch(done);\r\n        };\r\n        for (let i = 0; i < filepaths.length; i++) {\r\n            stream.write(i);\r\n        }\r\n        return stream;\r\n    }\r\n    _getEntry(filepath, pattern, options) {\r\n        return this._getStat(filepath)\r\n            .then((stats) => this._makeEntry(stats, pattern))\r\n            .catch((error) => {\r\n            if (options.errorFilter(error)) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        });\r\n    }\r\n    _getStat(filepath) {\r\n        return new Promise((resolve, reject) => {\r\n            this._stat(filepath, this._fsStatSettings, (error, stats) => {\r\n                return error === null ? resolve(stats) : reject(error);\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.default = ReaderStream;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst fsWalk = require(\"@nodelib/fs.walk\");\r\nconst reader_1 = require(\"./reader\");\r\nclass ReaderSync extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkSync = fsWalk.walkSync;\r\n        this._statSync = fsStat.statSync;\r\n    }\r\n    dynamic(root, options) {\r\n        return this._walkSync(root, options);\r\n    }\r\n    static(patterns, options) {\r\n        const entries = [];\r\n        for (const pattern of patterns) {\r\n            const filepath = this._getFullEntryPath(pattern);\r\n            const entry = this._getEntry(filepath, pattern, options);\r\n            if (entry === null || !options.entryFilter(entry)) {\r\n                continue;\r\n            }\r\n            entries.push(entry);\r\n        }\r\n        return entries;\r\n    }\r\n    _getEntry(filepath, pattern, options) {\r\n        try {\r\n            const stats = this._getStat(filepath);\r\n            return this._makeEntry(stats, pattern);\r\n        }\r\n        catch (error) {\r\n            if (options.errorFilter(error)) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n    _getStat(filepath) {\r\n        return this._statSync(filepath, this._fsStatSettings);\r\n    }\r\n}\r\nexports.default = ReaderSync;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DEFAULT_FILE_SYSTEM_ADAPTER = void 0;\r\nconst fs = require(\"fs\");\r\nconst os = require(\"os\");\r\n/**\r\n * The `os.cpus` method can return zero. We expect the number of cores to be greater than zero.\r\n * https://github.com/nodejs/node/blob/7faeddf23a98c53896f8b574a6e66589e8fb1eb8/lib/os.js#L106-L107\r\n */\r\nconst CPU_COUNT = Math.max(os.cpus().length, 1);\r\nexports.DEFAULT_FILE_SYSTEM_ADAPTER = {\r\n    lstat: fs.lstat,\r\n    lstatSync: fs.lstatSync,\r\n    stat: fs.stat,\r\n    statSync: fs.statSync,\r\n    readdir: fs.readdir,\r\n    readdirSync: fs.readdirSync\r\n};\r\nclass Settings {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.absolute = this._getValue(this._options.absolute, false);\r\n        this.baseNameMatch = this._getValue(this._options.baseNameMatch, false);\r\n        this.braceExpansion = this._getValue(this._options.braceExpansion, true);\r\n        this.caseSensitiveMatch = this._getValue(this._options.caseSensitiveMatch, true);\r\n        this.concurrency = this._getValue(this._options.concurrency, CPU_COUNT);\r\n        this.cwd = this._getValue(this._options.cwd, process.cwd());\r\n        this.deep = this._getValue(this._options.deep, Infinity);\r\n        this.dot = this._getValue(this._options.dot, false);\r\n        this.extglob = this._getValue(this._options.extglob, true);\r\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, true);\r\n        this.fs = this._getFileSystemMethods(this._options.fs);\r\n        this.globstar = this._getValue(this._options.globstar, true);\r\n        this.ignore = this._getValue(this._options.ignore, []);\r\n        this.markDirectories = this._getValue(this._options.markDirectories, false);\r\n        this.objectMode = this._getValue(this._options.objectMode, false);\r\n        this.onlyDirectories = this._getValue(this._options.onlyDirectories, false);\r\n        this.onlyFiles = this._getValue(this._options.onlyFiles, true);\r\n        this.stats = this._getValue(this._options.stats, false);\r\n        this.suppressErrors = this._getValue(this._options.suppressErrors, false);\r\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, false);\r\n        this.unique = this._getValue(this._options.unique, true);\r\n        if (this.onlyDirectories) {\r\n            this.onlyFiles = false;\r\n        }\r\n        if (this.stats) {\r\n            this.objectMode = true;\r\n        }\r\n    }\r\n    _getValue(option, value) {\r\n        return option === undefined ? value : option;\r\n    }\r\n    _getFileSystemMethods(methods = {}) {\r\n        return Object.assign(Object.assign({}, exports.DEFAULT_FILE_SYSTEM_ADAPTER), methods);\r\n    }\r\n}\r\nexports.default = Settings;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.splitWhen = exports.flatten = void 0;\r\nfunction flatten(items) {\r\n    return items.reduce((collection, item) => [].concat(collection, item), []);\r\n}\r\nexports.flatten = flatten;\r\nfunction splitWhen(items, predicate) {\r\n    const result = [[]];\r\n    let groupIndex = 0;\r\n    for (const item of items) {\r\n        if (predicate(item)) {\r\n            groupIndex++;\r\n            result[groupIndex] = [];\r\n        }\r\n        else {\r\n            result[groupIndex].push(item);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.splitWhen = splitWhen;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isEnoentCodeError = void 0;\r\nfunction isEnoentCodeError(error) {\r\n    return error.code === 'ENOENT';\r\n}\r\nexports.isEnoentCodeError = isEnoentCodeError;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createDirentFromStats = void 0;\r\nclass DirentFromStats {\r\n    constructor(name, stats) {\r\n        this.name = name;\r\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\r\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\r\n        this.isDirectory = stats.isDirectory.bind(stats);\r\n        this.isFIFO = stats.isFIFO.bind(stats);\r\n        this.isFile = stats.isFile.bind(stats);\r\n        this.isSocket = stats.isSocket.bind(stats);\r\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\r\n    }\r\n}\r\nfunction createDirentFromStats(name, stats) {\r\n    return new DirentFromStats(name, stats);\r\n}\r\nexports.createDirentFromStats = createDirentFromStats;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.string = exports.stream = exports.pattern = exports.path = exports.fs = exports.errno = exports.array = void 0;\r\nconst array = require(\"./array\");\r\nexports.array = array;\r\nconst errno = require(\"./errno\");\r\nexports.errno = errno;\r\nconst fs = require(\"./fs\");\r\nexports.fs = fs;\r\nconst path = require(\"./path\");\r\nexports.path = path;\r\nconst pattern = require(\"./pattern\");\r\nexports.pattern = pattern;\r\nconst stream = require(\"./stream\");\r\nexports.stream = stream;\r\nconst string = require(\"./string\");\r\nexports.string = string;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.removeLeadingDotSegment = exports.escape = exports.makeAbsolute = exports.unixify = void 0;\r\nconst path = require(\"path\");\r\nconst LEADING_DOT_SEGMENT_CHARACTERS_COUNT = 2; // ./ or .\\\\\r\nconst UNESCAPED_GLOB_SYMBOLS_RE = /(\\\\?)([()*?[\\]{|}]|^!|[!+@](?=\\())/g;\r\n/**\r\n * Designed to work only with simple paths: `dir\\\\file`.\r\n */\r\nfunction unixify(filepath) {\r\n    return filepath.replace(/\\\\/g, '/');\r\n}\r\nexports.unixify = unixify;\r\nfunction makeAbsolute(cwd, filepath) {\r\n    return path.resolve(cwd, filepath);\r\n}\r\nexports.makeAbsolute = makeAbsolute;\r\nfunction escape(pattern) {\r\n    return pattern.replace(UNESCAPED_GLOB_SYMBOLS_RE, '\\\\$2');\r\n}\r\nexports.escape = escape;\r\nfunction removeLeadingDotSegment(entry) {\r\n    // We do not use `startsWith` because this is 10x slower than current implementation for some cases.\r\n    // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\r\n    if (entry.charAt(0) === '.') {\r\n        const secondCharactery = entry.charAt(1);\r\n        if (secondCharactery === '/' || secondCharactery === '\\\\') {\r\n            return entry.slice(LEADING_DOT_SEGMENT_CHARACTERS_COUNT);\r\n        }\r\n    }\r\n    return entry;\r\n}\r\nexports.removeLeadingDotSegment = removeLeadingDotSegment;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.matchAny = exports.convertPatternsToRe = exports.makeRe = exports.getPatternParts = exports.expandBraceExpansion = exports.expandPatternsWithBraceExpansion = exports.isAffectDepthOfReadingPattern = exports.endsWithSlashGlobStar = exports.hasGlobStar = exports.getBaseDirectory = exports.isPatternRelatedToParentDirectory = exports.getPatternsOutsideCurrentDirectory = exports.getPatternsInsideCurrentDirectory = exports.getPositivePatterns = exports.getNegativePatterns = exports.isPositivePattern = exports.isNegativePattern = exports.convertToNegativePattern = exports.convertToPositivePattern = exports.isDynamicPattern = exports.isStaticPattern = void 0;\r\nconst path = require(\"path\");\r\nconst globParent = require(\"glob-parent\");\r\nconst micromatch = require(\"micromatch\");\r\nconst GLOBSTAR = '**';\r\nconst ESCAPE_SYMBOL = '\\\\';\r\nconst COMMON_GLOB_SYMBOLS_RE = /[*?]|^!/;\r\nconst REGEX_CHARACTER_CLASS_SYMBOLS_RE = /\\[[^[]*]/;\r\nconst REGEX_GROUP_SYMBOLS_RE = /(?:^|[^!*+?@])\\([^(]*\\|[^|]*\\)/;\r\nconst GLOB_EXTENSION_SYMBOLS_RE = /[!*+?@]\\([^(]*\\)/;\r\nconst BRACE_EXPANSION_SEPARATORS_RE = /,|\\.\\./;\r\nfunction isStaticPattern(pattern, options = {}) {\r\n    return !isDynamicPattern(pattern, options);\r\n}\r\nexports.isStaticPattern = isStaticPattern;\r\nfunction isDynamicPattern(pattern, options = {}) {\r\n    /**\r\n     * A special case with an empty string is necessary for matching patterns that start with a forward slash.\r\n     * An empty string cannot be a dynamic pattern.\r\n     * For example, the pattern `/lib/*` will be spread into parts: '', 'lib', '*'.\r\n     */\r\n    if (pattern === '') {\r\n        return false;\r\n    }\r\n    /**\r\n     * When the `caseSensitiveMatch` option is disabled, all patterns must be marked as dynamic, because we cannot check\r\n     * filepath directly (without read directory).\r\n     */\r\n    if (options.caseSensitiveMatch === false || pattern.includes(ESCAPE_SYMBOL)) {\r\n        return true;\r\n    }\r\n    if (COMMON_GLOB_SYMBOLS_RE.test(pattern) || REGEX_CHARACTER_CLASS_SYMBOLS_RE.test(pattern) || REGEX_GROUP_SYMBOLS_RE.test(pattern)) {\r\n        return true;\r\n    }\r\n    if (options.extglob !== false && GLOB_EXTENSION_SYMBOLS_RE.test(pattern)) {\r\n        return true;\r\n    }\r\n    if (options.braceExpansion !== false && hasBraceExpansion(pattern)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isDynamicPattern = isDynamicPattern;\r\nfunction hasBraceExpansion(pattern) {\r\n    const openingBraceIndex = pattern.indexOf('{');\r\n    if (openingBraceIndex === -1) {\r\n        return false;\r\n    }\r\n    const closingBraceIndex = pattern.indexOf('}', openingBraceIndex + 1);\r\n    if (closingBraceIndex === -1) {\r\n        return false;\r\n    }\r\n    const braceContent = pattern.slice(openingBraceIndex, closingBraceIndex);\r\n    return BRACE_EXPANSION_SEPARATORS_RE.test(braceContent);\r\n}\r\nfunction convertToPositivePattern(pattern) {\r\n    return isNegativePattern(pattern) ? pattern.slice(1) : pattern;\r\n}\r\nexports.convertToPositivePattern = convertToPositivePattern;\r\nfunction convertToNegativePattern(pattern) {\r\n    return '!' + pattern;\r\n}\r\nexports.convertToNegativePattern = convertToNegativePattern;\r\nfunction isNegativePattern(pattern) {\r\n    return pattern.startsWith('!') && pattern[1] !== '(';\r\n}\r\nexports.isNegativePattern = isNegativePattern;\r\nfunction isPositivePattern(pattern) {\r\n    return !isNegativePattern(pattern);\r\n}\r\nexports.isPositivePattern = isPositivePattern;\r\nfunction getNegativePatterns(patterns) {\r\n    return patterns.filter(isNegativePattern);\r\n}\r\nexports.getNegativePatterns = getNegativePatterns;\r\nfunction getPositivePatterns(patterns) {\r\n    return patterns.filter(isPositivePattern);\r\n}\r\nexports.getPositivePatterns = getPositivePatterns;\r\n/**\r\n * Returns patterns that can be applied inside the current directory.\r\n *\r\n * @example\r\n * // ['./*', '*', 'a/*']\r\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\r\n */\r\nfunction getPatternsInsideCurrentDirectory(patterns) {\r\n    return patterns.filter((pattern) => !isPatternRelatedToParentDirectory(pattern));\r\n}\r\nexports.getPatternsInsideCurrentDirectory = getPatternsInsideCurrentDirectory;\r\n/**\r\n * Returns patterns to be expanded relative to (outside) the current directory.\r\n *\r\n * @example\r\n * // ['../*', './../*']\r\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\r\n */\r\nfunction getPatternsOutsideCurrentDirectory(patterns) {\r\n    return patterns.filter(isPatternRelatedToParentDirectory);\r\n}\r\nexports.getPatternsOutsideCurrentDirectory = getPatternsOutsideCurrentDirectory;\r\nfunction isPatternRelatedToParentDirectory(pattern) {\r\n    return pattern.startsWith('..') || pattern.startsWith('./..');\r\n}\r\nexports.isPatternRelatedToParentDirectory = isPatternRelatedToParentDirectory;\r\nfunction getBaseDirectory(pattern) {\r\n    return globParent(pattern, { flipBackslashes: false });\r\n}\r\nexports.getBaseDirectory = getBaseDirectory;\r\nfunction hasGlobStar(pattern) {\r\n    return pattern.includes(GLOBSTAR);\r\n}\r\nexports.hasGlobStar = hasGlobStar;\r\nfunction endsWithSlashGlobStar(pattern) {\r\n    return pattern.endsWith('/' + GLOBSTAR);\r\n}\r\nexports.endsWithSlashGlobStar = endsWithSlashGlobStar;\r\nfunction isAffectDepthOfReadingPattern(pattern) {\r\n    const basename = path.basename(pattern);\r\n    return endsWithSlashGlobStar(pattern) || isStaticPattern(basename);\r\n}\r\nexports.isAffectDepthOfReadingPattern = isAffectDepthOfReadingPattern;\r\nfunction expandPatternsWithBraceExpansion(patterns) {\r\n    return patterns.reduce((collection, pattern) => {\r\n        return collection.concat(expandBraceExpansion(pattern));\r\n    }, []);\r\n}\r\nexports.expandPatternsWithBraceExpansion = expandPatternsWithBraceExpansion;\r\nfunction expandBraceExpansion(pattern) {\r\n    return micromatch.braces(pattern, {\r\n        expand: true,\r\n        nodupes: true\r\n    });\r\n}\r\nexports.expandBraceExpansion = expandBraceExpansion;\r\nfunction getPatternParts(pattern, options) {\r\n    let { parts } = micromatch.scan(pattern, Object.assign(Object.assign({}, options), { parts: true }));\r\n    /**\r\n     * The scan method returns an empty array in some cases.\r\n     * See micromatch/picomatch#58 for more details.\r\n     */\r\n    if (parts.length === 0) {\r\n        parts = [pattern];\r\n    }\r\n    /**\r\n     * The scan method does not return an empty part for the pattern with a forward slash.\r\n     * This is another part of micromatch/picomatch#58.\r\n     */\r\n    if (parts[0].startsWith('/')) {\r\n        parts[0] = parts[0].slice(1);\r\n        parts.unshift('');\r\n    }\r\n    return parts;\r\n}\r\nexports.getPatternParts = getPatternParts;\r\nfunction makeRe(pattern, options) {\r\n    return micromatch.makeRe(pattern, options);\r\n}\r\nexports.makeRe = makeRe;\r\nfunction convertPatternsToRe(patterns, options) {\r\n    return patterns.map((pattern) => makeRe(pattern, options));\r\n}\r\nexports.convertPatternsToRe = convertPatternsToRe;\r\nfunction matchAny(entry, patternsRe) {\r\n    return patternsRe.some((patternRe) => patternRe.test(entry));\r\n}\r\nexports.matchAny = matchAny;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.merge = void 0;\r\nconst merge2 = require(\"merge2\");\r\nfunction merge(streams) {\r\n    const mergedStream = merge2(streams);\r\n    streams.forEach((stream) => {\r\n        stream.once('error', (error) => mergedStream.emit('error', error));\r\n    });\r\n    mergedStream.once('close', () => propagateCloseEventToSources(streams));\r\n    mergedStream.once('end', () => propagateCloseEventToSources(streams));\r\n    return mergedStream;\r\n}\r\nexports.merge = merge;\r\nfunction propagateCloseEventToSources(streams) {\r\n    streams.forEach((stream) => stream.emit('close'));\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isEmpty = exports.isString = void 0;\r\nfunction isString(input) {\r\n    return typeof input === 'string';\r\n}\r\nexports.isString = isString;\r\nfunction isEmpty(input) {\r\n    return input === '';\r\n}\r\nexports.isEmpty = isEmpty;\r\n","'use strict'\n\n/* eslint-disable no-var */\n\nvar reusify = require('reusify')\n\nfunction fastqueue (context, worker, concurrency) {\n  if (typeof context === 'function') {\n    concurrency = worker\n    worker = context\n    context = null\n  }\n\n  if (concurrency < 1) {\n    throw new Error('fastqueue concurrency must be greater than 1')\n  }\n\n  var cache = reusify(Task)\n  var queueHead = null\n  var queueTail = null\n  var _running = 0\n  var errorHandler = null\n\n  var self = {\n    push: push,\n    drain: noop,\n    saturated: noop,\n    pause: pause,\n    paused: false,\n    concurrency: concurrency,\n    running: running,\n    resume: resume,\n    idle: idle,\n    length: length,\n    getQueue: getQueue,\n    unshift: unshift,\n    empty: noop,\n    kill: kill,\n    killAndDrain: killAndDrain,\n    error: error\n  }\n\n  return self\n\n  function running () {\n    return _running\n  }\n\n  function pause () {\n    self.paused = true\n  }\n\n  function length () {\n    var current = queueHead\n    var counter = 0\n\n    while (current) {\n      current = current.next\n      counter++\n    }\n\n    return counter\n  }\n\n  function getQueue () {\n    var current = queueHead\n    var tasks = []\n\n    while (current) {\n      tasks.push(current.value)\n      current = current.next\n    }\n\n    return tasks\n  }\n\n  function resume () {\n    if (!self.paused) return\n    self.paused = false\n    for (var i = 0; i < self.concurrency; i++) {\n      _running++\n      release()\n    }\n  }\n\n  function idle () {\n    return _running === 0 && self.length() === 0\n  }\n\n  function push (value, done) {\n    var current = cache.get()\n\n    current.context = context\n    current.release = release\n    current.value = value\n    current.callback = done || noop\n    current.errorHandler = errorHandler\n\n    if (_running === self.concurrency || self.paused) {\n      if (queueTail) {\n        queueTail.next = current\n        queueTail = current\n      } else {\n        queueHead = current\n        queueTail = current\n        self.saturated()\n      }\n    } else {\n      _running++\n      worker.call(context, current.value, current.worked)\n    }\n  }\n\n  function unshift (value, done) {\n    var current = cache.get()\n\n    current.context = context\n    current.release = release\n    current.value = value\n    current.callback = done || noop\n\n    if (_running === self.concurrency || self.paused) {\n      if (queueHead) {\n        current.next = queueHead\n        queueHead = current\n      } else {\n        queueHead = current\n        queueTail = current\n        self.saturated()\n      }\n    } else {\n      _running++\n      worker.call(context, current.value, current.worked)\n    }\n  }\n\n  function release (holder) {\n    if (holder) {\n      cache.release(holder)\n    }\n    var next = queueHead\n    if (next) {\n      if (!self.paused) {\n        if (queueTail === queueHead) {\n          queueTail = null\n        }\n        queueHead = next.next\n        next.next = null\n        worker.call(context, next.value, next.worked)\n        if (queueTail === null) {\n          self.empty()\n        }\n      } else {\n        _running--\n      }\n    } else if (--_running === 0) {\n      self.drain()\n    }\n  }\n\n  function kill () {\n    queueHead = null\n    queueTail = null\n    self.drain = noop\n  }\n\n  function killAndDrain () {\n    queueHead = null\n    queueTail = null\n    self.drain()\n    self.drain = noop\n  }\n\n  function error (handler) {\n    errorHandler = handler\n  }\n}\n\nfunction noop () {}\n\nfunction Task () {\n  this.value = null\n  this.callback = noop\n  this.next = null\n  this.release = noop\n  this.context = null\n  this.errorHandler = null\n\n  var self = this\n\n  this.worked = function worked (err, result) {\n    var callback = self.callback\n    var errorHandler = self.errorHandler\n    var val = self.value\n    self.value = null\n    self.callback = noop\n    if (self.errorHandler) {\n      errorHandler(err, val)\n    }\n    callback.call(self.context, err, result)\n    self.release(self)\n  }\n}\n\nfunction queueAsPromised (context, worker, concurrency) {\n  if (typeof context === 'function') {\n    concurrency = worker\n    worker = context\n    context = null\n  }\n\n  function asyncWrapper (arg, cb) {\n    worker.call(this, arg)\n      .then(function (res) {\n        cb(null, res)\n      }, cb)\n  }\n\n  var queue = fastqueue(context, asyncWrapper, concurrency)\n\n  var pushCb = queue.push\n  var unshiftCb = queue.unshift\n\n  queue.push = push\n  queue.unshift = unshift\n  queue.drained = drained\n\n  return queue\n\n  function push (value) {\n    var p = new Promise(function (resolve, reject) {\n      pushCb(value, function (err, result) {\n        if (err) {\n          reject(err)\n          return\n        }\n        resolve(result)\n      })\n    })\n\n    // Let's fork the promise chain to\n    // make the error bubble up to the user but\n    // not lead to a unhandledRejection\n    p.catch(noop)\n\n    return p\n  }\n\n  function unshift (value) {\n    var p = new Promise(function (resolve, reject) {\n      unshiftCb(value, function (err, result) {\n        if (err) {\n          reject(err)\n          return\n        }\n        resolve(result)\n      })\n    })\n\n    // Let's fork the promise chain to\n    // make the error bubble up to the user but\n    // not lead to a unhandledRejection\n    p.catch(noop)\n\n    return p\n  }\n\n  function drained () {\n    if (queue.idle()) {\n      return new Promise(function (resolve) {\n        resolve()\n      })\n    }\n\n    var previousDrain = queue.drain\n\n    var p = new Promise(function (resolve) {\n      queue.drain = function () {\n        previousDrain()\n        resolve()\n      }\n    })\n\n    return p\n  }\n}\n\nmodule.exports = fastqueue\nmodule.exports.promise = queueAsPromised\n","/*!\n * fill-range <https://github.com/jonschlinkert/fill-range>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nconst util = require('util');\nconst toRegexRange = require('to-regex-range');\n\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\n\nconst transform = toNumber => {\n  return value => toNumber === true ? Number(value) : String(value);\n};\n\nconst isValidValue = value => {\n  return typeof value === 'number' || (typeof value === 'string' && value !== '');\n};\n\nconst isNumber = num => Number.isInteger(+num);\n\nconst zeros = input => {\n  let value = `${input}`;\n  let index = -1;\n  if (value[0] === '-') value = value.slice(1);\n  if (value === '0') return false;\n  while (value[++index] === '0');\n  return index > 0;\n};\n\nconst stringify = (start, end, options) => {\n  if (typeof start === 'string' || typeof end === 'string') {\n    return true;\n  }\n  return options.stringify === true;\n};\n\nconst pad = (input, maxLength, toNumber) => {\n  if (maxLength > 0) {\n    let dash = input[0] === '-' ? '-' : '';\n    if (dash) input = input.slice(1);\n    input = (dash + input.padStart(dash ? maxLength - 1 : maxLength, '0'));\n  }\n  if (toNumber === false) {\n    return String(input);\n  }\n  return input;\n};\n\nconst toMaxLen = (input, maxLength) => {\n  let negative = input[0] === '-' ? '-' : '';\n  if (negative) {\n    input = input.slice(1);\n    maxLength--;\n  }\n  while (input.length < maxLength) input = '0' + input;\n  return negative ? ('-' + input) : input;\n};\n\nconst toSequence = (parts, options) => {\n  parts.negatives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n  parts.positives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n\n  let prefix = options.capture ? '' : '?:';\n  let positives = '';\n  let negatives = '';\n  let result;\n\n  if (parts.positives.length) {\n    positives = parts.positives.join('|');\n  }\n\n  if (parts.negatives.length) {\n    negatives = `-(${prefix}${parts.negatives.join('|')})`;\n  }\n\n  if (positives && negatives) {\n    result = `${positives}|${negatives}`;\n  } else {\n    result = positives || negatives;\n  }\n\n  if (options.wrap) {\n    return `(${prefix}${result})`;\n  }\n\n  return result;\n};\n\nconst toRange = (a, b, isNumbers, options) => {\n  if (isNumbers) {\n    return toRegexRange(a, b, { wrap: false, ...options });\n  }\n\n  let start = String.fromCharCode(a);\n  if (a === b) return start;\n\n  let stop = String.fromCharCode(b);\n  return `[${start}-${stop}]`;\n};\n\nconst toRegex = (start, end, options) => {\n  if (Array.isArray(start)) {\n    let wrap = options.wrap === true;\n    let prefix = options.capture ? '' : '?:';\n    return wrap ? `(${prefix}${start.join('|')})` : start.join('|');\n  }\n  return toRegexRange(start, end, options);\n};\n\nconst rangeError = (...args) => {\n  return new RangeError('Invalid range arguments: ' + util.inspect(...args));\n};\n\nconst invalidRange = (start, end, options) => {\n  if (options.strictRanges === true) throw rangeError([start, end]);\n  return [];\n};\n\nconst invalidStep = (step, options) => {\n  if (options.strictRanges === true) {\n    throw new TypeError(`Expected step \"${step}\" to be a number`);\n  }\n  return [];\n};\n\nconst fillNumbers = (start, end, step = 1, options = {}) => {\n  let a = Number(start);\n  let b = Number(end);\n\n  if (!Number.isInteger(a) || !Number.isInteger(b)) {\n    if (options.strictRanges === true) throw rangeError([start, end]);\n    return [];\n  }\n\n  // fix negative zero\n  if (a === 0) a = 0;\n  if (b === 0) b = 0;\n\n  let descending = a > b;\n  let startString = String(start);\n  let endString = String(end);\n  let stepString = String(step);\n  step = Math.max(Math.abs(step), 1);\n\n  let padded = zeros(startString) || zeros(endString) || zeros(stepString);\n  let maxLen = padded ? Math.max(startString.length, endString.length, stepString.length) : 0;\n  let toNumber = padded === false && stringify(start, end, options) === false;\n  let format = options.transform || transform(toNumber);\n\n  if (options.toRegex && step === 1) {\n    return toRange(toMaxLen(start, maxLen), toMaxLen(end, maxLen), true, options);\n  }\n\n  let parts = { negatives: [], positives: [] };\n  let push = num => parts[num < 0 ? 'negatives' : 'positives'].push(Math.abs(num));\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    if (options.toRegex === true && step > 1) {\n      push(a);\n    } else {\n      range.push(pad(format(a, index), maxLen, toNumber));\n    }\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return step > 1\n      ? toSequence(parts, options)\n      : toRegex(range, null, { wrap: false, ...options });\n  }\n\n  return range;\n};\n\nconst fillLetters = (start, end, step = 1, options = {}) => {\n  if ((!isNumber(start) && start.length > 1) || (!isNumber(end) && end.length > 1)) {\n    return invalidRange(start, end, options);\n  }\n\n\n  let format = options.transform || (val => String.fromCharCode(val));\n  let a = `${start}`.charCodeAt(0);\n  let b = `${end}`.charCodeAt(0);\n\n  let descending = a > b;\n  let min = Math.min(a, b);\n  let max = Math.max(a, b);\n\n  if (options.toRegex && step === 1) {\n    return toRange(min, max, false, options);\n  }\n\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    range.push(format(a, index));\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return toRegex(range, null, { wrap: false, options });\n  }\n\n  return range;\n};\n\nconst fill = (start, end, step, options = {}) => {\n  if (end == null && isValidValue(start)) {\n    return [start];\n  }\n\n  if (!isValidValue(start) || !isValidValue(end)) {\n    return invalidRange(start, end, options);\n  }\n\n  if (typeof step === 'function') {\n    return fill(start, end, 1, { transform: step });\n  }\n\n  if (isObject(step)) {\n    return fill(start, end, 0, step);\n  }\n\n  let opts = { ...options };\n  if (opts.capture === true) opts.wrap = true;\n  step = step || opts.step || 1;\n\n  if (!isNumber(step)) {\n    if (step != null && !isObject(step)) return invalidStep(step, opts);\n    return fill(start, end, 1, step);\n  }\n\n  if (isNumber(start) && isNumber(end)) {\n    return fillNumbers(start, end, step, opts);\n  }\n\n  return fillLetters(start, end, Math.max(Math.abs(step), 1), opts);\n};\n\nmodule.exports = fill;\n","module.exports = function (glob, opts) {\n  if (typeof glob !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  var str = String(glob);\n\n  // The regexp we are building, as a string.\n  var reStr = \"\";\n\n  // Whether we are matching so called \"extended\" globs (like bash) and should\n  // support single character matching, matching ranges of characters, group\n  // matching, etc.\n  var extended = opts ? !!opts.extended : false;\n\n  // When globstar is _false_ (default), '/foo/*' is translated a regexp like\n  // '^\\/foo\\/.*$' which will match any string beginning with '/foo/'\n  // When globstar is _true_, '/foo/*' is translated to regexp like\n  // '^\\/foo\\/[^/]*$' which will match any string beginning with '/foo/' BUT\n  // which does not have a '/' to the right of it.\n  // E.g. with '/foo/*' these will match: '/foo/bar', '/foo/bar.txt' but\n  // these will not '/foo/bar/baz', '/foo/bar/baz.txt'\n  // Lastely, when globstar is _true_, '/foo/**' is equivelant to '/foo/*' when\n  // globstar is _false_\n  var globstar = opts ? !!opts.globstar : false;\n\n  // If we are doing extended matching, this boolean is true when we are inside\n  // a group (eg {*.html,*.js}), and false otherwise.\n  var inGroup = false;\n\n  // RegExp flags (eg \"i\" ) to pass in to RegExp constructor.\n  var flags = opts && typeof( opts.flags ) === \"string\" ? opts.flags : \"\";\n\n  var c;\n  for (var i = 0, len = str.length; i < len; i++) {\n    c = str[i];\n\n    switch (c) {\n    case \"/\":\n    case \"$\":\n    case \"^\":\n    case \"+\":\n    case \".\":\n    case \"(\":\n    case \")\":\n    case \"=\":\n    case \"!\":\n    case \"|\":\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"?\":\n      if (extended) {\n        reStr += \".\";\n\t    break;\n      }\n\n    case \"[\":\n    case \"]\":\n      if (extended) {\n        reStr += c;\n\t    break;\n      }\n\n    case \"{\":\n      if (extended) {\n        inGroup = true;\n\t    reStr += \"(\";\n\t    break;\n      }\n\n    case \"}\":\n      if (extended) {\n        inGroup = false;\n\t    reStr += \")\";\n\t    break;\n      }\n\n    case \",\":\n      if (inGroup) {\n        reStr += \"|\";\n\t    break;\n      }\n      reStr += \"\\\\\" + c;\n      break;\n\n    case \"*\":\n      // Move over all consecutive \"*\"'s.\n      // Also store the previous and next characters\n      var prevChar = str[i - 1];\n      var starCount = 1;\n      while(str[i + 1] === \"*\") {\n        starCount++;\n        i++;\n      }\n      var nextChar = str[i + 1];\n\n      if (!globstar) {\n        // globstar is disabled, so treat any number of \"*\" as one\n        reStr += \".*\";\n      } else {\n        // globstar is enabled, so determine if this is a globstar segment\n        var isGlobstar = starCount > 1                      // multiple \"*\"'s\n          && (prevChar === \"/\" || prevChar === undefined)   // from the start of the segment\n          && (nextChar === \"/\" || nextChar === undefined)   // to the end of the segment\n\n        if (isGlobstar) {\n          // it's a globstar, so match zero or more path segments\n          reStr += \"((?:[^/]*(?:\\/|$))*)\";\n          i++; // move over the \"/\"\n        } else {\n          // it's not a globstar, so only match one path segment\n          reStr += \"([^/]*)\";\n        }\n      }\n      break;\n\n    default:\n      reStr += c;\n    }\n  }\n\n  // When regexp 'g' flag is specified don't\n  // constrain the regular expression with ^ & $\n  if (!flags || !~flags.indexOf('g')) {\n    reStr = \"^\" + reStr + \"$\";\n  }\n\n  return new RegExp(reStr, flags);\n};\n","'use strict';\nconst {promisify} = require('util');\nconst fs = require('fs');\nconst path = require('path');\nconst fastGlob = require('fast-glob');\nconst gitIgnore = require('ignore');\nconst slash = require('slash');\n\nconst DEFAULT_IGNORE = [\n\t'**/node_modules/**',\n\t'**/flow-typed/**',\n\t'**/coverage/**',\n\t'**/.git'\n];\n\nconst readFileP = promisify(fs.readFile);\n\nconst mapGitIgnorePatternTo = base => ignore => {\n\tif (ignore.startsWith('!')) {\n\t\treturn '!' + path.posix.join(base, ignore.slice(1));\n\t}\n\n\treturn path.posix.join(base, ignore);\n};\n\nconst parseGitIgnore = (content, options) => {\n\tconst base = slash(path.relative(options.cwd, path.dirname(options.fileName)));\n\n\treturn content\n\t\t.split(/\\r?\\n/)\n\t\t.filter(Boolean)\n\t\t.filter(line => !line.startsWith('#'))\n\t\t.map(mapGitIgnorePatternTo(base));\n};\n\nconst reduceIgnore = files => {\n\tconst ignores = gitIgnore();\n\tfor (const file of files) {\n\t\tignores.add(parseGitIgnore(file.content, {\n\t\t\tcwd: file.cwd,\n\t\t\tfileName: file.filePath\n\t\t}));\n\t}\n\n\treturn ignores;\n};\n\nconst ensureAbsolutePathForCwd = (cwd, p) => {\n\tcwd = slash(cwd);\n\tif (path.isAbsolute(p)) {\n\t\tif (slash(p).startsWith(cwd)) {\n\t\t\treturn p;\n\t\t}\n\n\t\tthrow new Error(`Path ${p} is not in cwd ${cwd}`);\n\t}\n\n\treturn path.join(cwd, p);\n};\n\nconst getIsIgnoredPredecate = (ignores, cwd) => {\n\treturn p => ignores.ignores(slash(path.relative(cwd, ensureAbsolutePathForCwd(cwd, p.path || p))));\n};\n\nconst getFile = async (file, cwd) => {\n\tconst filePath = path.join(cwd, file);\n\tconst content = await readFileP(filePath, 'utf8');\n\n\treturn {\n\t\tcwd,\n\t\tfilePath,\n\t\tcontent\n\t};\n};\n\nconst getFileSync = (file, cwd) => {\n\tconst filePath = path.join(cwd, file);\n\tconst content = fs.readFileSync(filePath, 'utf8');\n\n\treturn {\n\t\tcwd,\n\t\tfilePath,\n\t\tcontent\n\t};\n};\n\nconst normalizeOptions = ({\n\tignore = [],\n\tcwd = slash(process.cwd())\n} = {}) => {\n\treturn {ignore, cwd};\n};\n\nmodule.exports = async options => {\n\toptions = normalizeOptions(options);\n\n\tconst paths = await fastGlob('**/.gitignore', {\n\t\tignore: DEFAULT_IGNORE.concat(options.ignore),\n\t\tcwd: options.cwd\n\t});\n\n\tconst files = await Promise.all(paths.map(file => getFile(file, options.cwd)));\n\tconst ignores = reduceIgnore(files);\n\n\treturn getIsIgnoredPredecate(ignores, options.cwd);\n};\n\nmodule.exports.sync = options => {\n\toptions = normalizeOptions(options);\n\n\tconst paths = fastGlob.sync('**/.gitignore', {\n\t\tignore: DEFAULT_IGNORE.concat(options.ignore),\n\t\tcwd: options.cwd\n\t});\n\n\tconst files = paths.map(file => getFileSync(file, options.cwd));\n\tconst ignores = reduceIgnore(files);\n\n\treturn getIsIgnoredPredecate(ignores, options.cwd);\n};\n","'use strict';\nconst fs = require('fs');\nconst arrayUnion = require('array-union');\nconst merge2 = require('merge2');\nconst fastGlob = require('fast-glob');\nconst dirGlob = require('dir-glob');\nconst gitignore = require('./gitignore');\nconst {FilterStream, UniqueStream} = require('./stream-utils');\n\nconst DEFAULT_FILTER = () => false;\n\nconst isNegative = pattern => pattern[0] === '!';\n\nconst assertPatternsInput = patterns => {\n\tif (!patterns.every(pattern => typeof pattern === 'string')) {\n\t\tthrow new TypeError('Patterns must be a string or an array of strings');\n\t}\n};\n\nconst checkCwdOption = (options = {}) => {\n\tif (!options.cwd) {\n\t\treturn;\n\t}\n\n\tlet stat;\n\ttry {\n\t\tstat = fs.statSync(options.cwd);\n\t} catch {\n\t\treturn;\n\t}\n\n\tif (!stat.isDirectory()) {\n\t\tthrow new Error('The `cwd` option must be a path to a directory');\n\t}\n};\n\nconst getPathString = p => p.stats instanceof fs.Stats ? p.path : p;\n\nconst generateGlobTasks = (patterns, taskOptions) => {\n\tpatterns = arrayUnion([].concat(patterns));\n\tassertPatternsInput(patterns);\n\tcheckCwdOption(taskOptions);\n\n\tconst globTasks = [];\n\n\ttaskOptions = {\n\t\tignore: [],\n\t\texpandDirectories: true,\n\t\t...taskOptions\n\t};\n\n\tfor (const [index, pattern] of patterns.entries()) {\n\t\tif (isNegative(pattern)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst ignore = patterns\n\t\t\t.slice(index)\n\t\t\t.filter(pattern => isNegative(pattern))\n\t\t\t.map(pattern => pattern.slice(1));\n\n\t\tconst options = {\n\t\t\t...taskOptions,\n\t\t\tignore: taskOptions.ignore.concat(ignore)\n\t\t};\n\n\t\tglobTasks.push({pattern, options});\n\t}\n\n\treturn globTasks;\n};\n\nconst globDirs = (task, fn) => {\n\tlet options = {};\n\tif (task.options.cwd) {\n\t\toptions.cwd = task.options.cwd;\n\t}\n\n\tif (Array.isArray(task.options.expandDirectories)) {\n\t\toptions = {\n\t\t\t...options,\n\t\t\tfiles: task.options.expandDirectories\n\t\t};\n\t} else if (typeof task.options.expandDirectories === 'object') {\n\t\toptions = {\n\t\t\t...options,\n\t\t\t...task.options.expandDirectories\n\t\t};\n\t}\n\n\treturn fn(task.pattern, options);\n};\n\nconst getPattern = (task, fn) => task.options.expandDirectories ? globDirs(task, fn) : [task.pattern];\n\nconst getFilterSync = options => {\n\treturn options && options.gitignore ?\n\t\tgitignore.sync({cwd: options.cwd, ignore: options.ignore}) :\n\t\tDEFAULT_FILTER;\n};\n\nconst globToTask = task => glob => {\n\tconst {options} = task;\n\tif (options.ignore && Array.isArray(options.ignore) && options.expandDirectories) {\n\t\toptions.ignore = dirGlob.sync(options.ignore);\n\t}\n\n\treturn {\n\t\tpattern: glob,\n\t\toptions\n\t};\n};\n\nmodule.exports = async (patterns, options) => {\n\tconst globTasks = generateGlobTasks(patterns, options);\n\n\tconst getFilter = async () => {\n\t\treturn options && options.gitignore ?\n\t\t\tgitignore({cwd: options.cwd, ignore: options.ignore}) :\n\t\t\tDEFAULT_FILTER;\n\t};\n\n\tconst getTasks = async () => {\n\t\tconst tasks = await Promise.all(globTasks.map(async task => {\n\t\t\tconst globs = await getPattern(task, dirGlob);\n\t\t\treturn Promise.all(globs.map(globToTask(task)));\n\t\t}));\n\n\t\treturn arrayUnion(...tasks);\n\t};\n\n\tconst [filter, tasks] = await Promise.all([getFilter(), getTasks()]);\n\tconst paths = await Promise.all(tasks.map(task => fastGlob(task.pattern, task.options)));\n\n\treturn arrayUnion(...paths).filter(path_ => !filter(getPathString(path_)));\n};\n\nmodule.exports.sync = (patterns, options) => {\n\tconst globTasks = generateGlobTasks(patterns, options);\n\n\tconst tasks = [];\n\tfor (const task of globTasks) {\n\t\tconst newTask = getPattern(task, dirGlob.sync).map(globToTask(task));\n\t\ttasks.push(...newTask);\n\t}\n\n\tconst filter = getFilterSync(options);\n\n\tlet matches = [];\n\tfor (const task of tasks) {\n\t\tmatches = arrayUnion(matches, fastGlob.sync(task.pattern, task.options));\n\t}\n\n\treturn matches.filter(path_ => !filter(path_));\n};\n\nmodule.exports.stream = (patterns, options) => {\n\tconst globTasks = generateGlobTasks(patterns, options);\n\n\tconst tasks = [];\n\tfor (const task of globTasks) {\n\t\tconst newTask = getPattern(task, dirGlob.sync).map(globToTask(task));\n\t\ttasks.push(...newTask);\n\t}\n\n\tconst filter = getFilterSync(options);\n\tconst filterStream = new FilterStream(p => !filter(p));\n\tconst uniqueStream = new UniqueStream();\n\n\treturn merge2(tasks.map(task => fastGlob.stream(task.pattern, task.options)))\n\t\t.pipe(filterStream)\n\t\t.pipe(uniqueStream);\n};\n\nmodule.exports.generateGlobTasks = generateGlobTasks;\n\nmodule.exports.hasMagic = (patterns, options) => []\n\t.concat(patterns)\n\t.some(pattern => fastGlob.isDynamicPattern(pattern, options));\n\nmodule.exports.gitignore = gitignore;\n","'use strict';\nconst {Transform} = require('stream');\n\nclass ObjectTransform extends Transform {\n\tconstructor() {\n\t\tsuper({\n\t\t\tobjectMode: true\n\t\t});\n\t}\n}\n\nclass FilterStream extends ObjectTransform {\n\tconstructor(filter) {\n\t\tsuper();\n\t\tthis._filter = filter;\n\t}\n\n\t_transform(data, encoding, callback) {\n\t\tif (this._filter(data)) {\n\t\t\tthis.push(data);\n\t\t}\n\n\t\tcallback();\n\t}\n}\n\nclass UniqueStream extends ObjectTransform {\n\tconstructor() {\n\t\tsuper();\n\t\tthis._pushed = new Set();\n\t}\n\n\t_transform(data, encoding, callback) {\n\t\tif (!this._pushed.has(data)) {\n\t\t\tthis.push(data);\n\t\t\tthis._pushed.add(data);\n\t\t}\n\n\t\tcallback();\n\t}\n}\n\nmodule.exports = {\n\tFilterStream,\n\tUniqueStream\n};\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","// A simple implementation of make-array\nfunction makeArray (subject) {\n  return Array.isArray(subject)\n    ? subject\n    : [subject]\n}\n\nconst EMPTY = ''\nconst SPACE = ' '\nconst ESCAPE = '\\\\'\nconst REGEX_TEST_BLANK_LINE = /^\\s+$/\nconst REGEX_INVALID_TRAILING_BACKSLASH = /(?:[^\\\\]|^)\\\\$/\nconst REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION = /^\\\\!/\nconst REGEX_REPLACE_LEADING_EXCAPED_HASH = /^\\\\#/\nconst REGEX_SPLITALL_CRLF = /\\r?\\n/g\n// /foo,\n// ./foo,\n// ../foo,\n// .\n// ..\nconst REGEX_TEST_INVALID_PATH = /^\\.*\\/|^\\.+$/\n\nconst SLASH = '/'\n\n// Do not use ternary expression here, since \"istanbul ignore next\" is buggy\nlet TMP_KEY_IGNORE = 'node-ignore'\n/* istanbul ignore else */\nif (typeof Symbol !== 'undefined') {\n  TMP_KEY_IGNORE = Symbol.for('node-ignore')\n}\nconst KEY_IGNORE = TMP_KEY_IGNORE\n\nconst define = (object, key, value) =>\n  Object.defineProperty(object, key, {value})\n\nconst REGEX_REGEXP_RANGE = /([0-z])-([0-z])/g\n\nconst RETURN_FALSE = () => false\n\n// Sanitize the range of a regular expression\n// The cases are complicated, see test cases for details\nconst sanitizeRange = range => range.replace(\n  REGEX_REGEXP_RANGE,\n  (match, from, to) => from.charCodeAt(0) <= to.charCodeAt(0)\n    ? match\n    // Invalid range (out of order) which is ok for gitignore rules but\n    //   fatal for JavaScript regular expression, so eliminate it.\n    : EMPTY\n)\n\n// See fixtures #59\nconst cleanRangeBackSlash = slashes => {\n  const {length} = slashes\n  return slashes.slice(0, length - length % 2)\n}\n\n// > If the pattern ends with a slash,\n// > it is removed for the purpose of the following description,\n// > but it would only find a match with a directory.\n// > In other words, foo/ will match a directory foo and paths underneath it,\n// > but will not match a regular file or a symbolic link foo\n// >  (this is consistent with the way how pathspec works in general in Git).\n// '`foo/`' will not match regular file '`foo`' or symbolic link '`foo`'\n// -> ignore-rules will not deal with it, because it costs extra `fs.stat` call\n//      you could use option `mark: true` with `glob`\n\n// '`foo/`' should not continue with the '`..`'\nconst REPLACERS = [\n\n  // > Trailing spaces are ignored unless they are quoted with backslash (\"\\\")\n  [\n    // (a\\ ) -> (a )\n    // (a  ) -> (a)\n    // (a \\ ) -> (a  )\n    /\\\\?\\s+$/,\n    match => match.indexOf('\\\\') === 0\n      ? SPACE\n      : EMPTY\n  ],\n\n  // replace (\\ ) with ' '\n  [\n    /\\\\\\s/g,\n    () => SPACE\n  ],\n\n  // Escape metacharacters\n  // which is written down by users but means special for regular expressions.\n\n  // > There are 12 characters with special meanings:\n  // > - the backslash \\,\n  // > - the caret ^,\n  // > - the dollar sign $,\n  // > - the period or dot .,\n  // > - the vertical bar or pipe symbol |,\n  // > - the question mark ?,\n  // > - the asterisk or star *,\n  // > - the plus sign +,\n  // > - the opening parenthesis (,\n  // > - the closing parenthesis ),\n  // > - and the opening square bracket [,\n  // > - the opening curly brace {,\n  // > These special characters are often called \"metacharacters\".\n  [\n    /[\\\\$.|*+(){^]/g,\n    match => `\\\\${match}`\n  ],\n\n  [\n    // > a question mark (?) matches a single character\n    /(?!\\\\)\\?/g,\n    () => '[^/]'\n  ],\n\n  // leading slash\n  [\n\n    // > A leading slash matches the beginning of the pathname.\n    // > For example, \"/*.c\" matches \"cat-file.c\" but not \"mozilla-sha1/sha1.c\".\n    // A leading slash matches the beginning of the pathname\n    /^\\//,\n    () => '^'\n  ],\n\n  // replace special metacharacter slash after the leading slash\n  [\n    /\\//g,\n    () => '\\\\/'\n  ],\n\n  [\n    // > A leading \"**\" followed by a slash means match in all directories.\n    // > For example, \"**/foo\" matches file or directory \"foo\" anywhere,\n    // > the same as pattern \"foo\".\n    // > \"**/foo/bar\" matches file or directory \"bar\" anywhere that is directly\n    // >   under directory \"foo\".\n    // Notice that the '*'s have been replaced as '\\\\*'\n    /^\\^*\\\\\\*\\\\\\*\\\\\\//,\n\n    // '**/foo' <-> 'foo'\n    () => '^(?:.*\\\\/)?'\n  ],\n\n  // starting\n  [\n    // there will be no leading '/'\n    //   (which has been replaced by section \"leading slash\")\n    // If starts with '**', adding a '^' to the regular expression also works\n    /^(?=[^^])/,\n    function startingReplacer () {\n      // If has a slash `/` at the beginning or middle\n      return !/\\/(?!$)/.test(this)\n        // > Prior to 2.22.1\n        // > If the pattern does not contain a slash /,\n        // >   Git treats it as a shell glob pattern\n        // Actually, if there is only a trailing slash,\n        //   git also treats it as a shell glob pattern\n\n        // After 2.22.1 (compatible but clearer)\n        // > If there is a separator at the beginning or middle (or both)\n        // > of the pattern, then the pattern is relative to the directory\n        // > level of the particular .gitignore file itself.\n        // > Otherwise the pattern may also match at any level below\n        // > the .gitignore level.\n        ? '(?:^|\\\\/)'\n\n        // > Otherwise, Git treats the pattern as a shell glob suitable for\n        // >   consumption by fnmatch(3)\n        : '^'\n    }\n  ],\n\n  // two globstars\n  [\n    // Use lookahead assertions so that we could match more than one `'/**'`\n    /\\\\\\/\\\\\\*\\\\\\*(?=\\\\\\/|$)/g,\n\n    // Zero, one or several directories\n    // should not use '*', or it will be replaced by the next replacer\n\n    // Check if it is not the last `'/**'`\n    (_, index, str) => index + 6 < str.length\n\n      // case: /**/\n      // > A slash followed by two consecutive asterisks then a slash matches\n      // >   zero or more directories.\n      // > For example, \"a/**/b\" matches \"a/b\", \"a/x/b\", \"a/x/y/b\" and so on.\n      // '/**/'\n      ? '(?:\\\\/[^\\\\/]+)*'\n\n      // case: /**\n      // > A trailing `\"/**\"` matches everything inside.\n\n      // #21: everything inside but it should not include the current folder\n      : '\\\\/.+'\n  ],\n\n  // normal intermediate wildcards\n  [\n    // Never replace escaped '*'\n    // ignore rule '\\*' will match the path '*'\n\n    // 'abc.*/' -> go\n    // 'abc.*'  -> skip this rule,\n    //    coz trailing single wildcard will be handed by [trailing wildcard]\n    /(^|[^\\\\]+)(\\\\\\*)+(?=.+)/g,\n\n    // '*.js' matches '.js'\n    // '*.js' doesn't match 'abc'\n    (_, p1, p2) => {\n      // 1.\n      // > An asterisk \"*\" matches anything except a slash.\n      // 2.\n      // > Other consecutive asterisks are considered regular asterisks\n      // > and will match according to the previous rules.\n      const unescaped = p2.replace(/\\\\\\*/g, '[^\\\\/]*')\n      return p1 + unescaped\n    }\n  ],\n\n  [\n    // unescape, revert step 3 except for back slash\n    // For example, if a user escape a '\\\\*',\n    // after step 3, the result will be '\\\\\\\\\\\\*'\n    /\\\\\\\\\\\\(?=[$.|*+(){^])/g,\n    () => ESCAPE\n  ],\n\n  [\n    // '\\\\\\\\' -> '\\\\'\n    /\\\\\\\\/g,\n    () => ESCAPE\n  ],\n\n  [\n    // > The range notation, e.g. [a-zA-Z],\n    // > can be used to match one of the characters in a range.\n\n    // `\\` is escaped by step 3\n    /(\\\\)?\\[([^\\]/]*?)(\\\\*)($|\\])/g,\n    (match, leadEscape, range, endEscape, close) => leadEscape === ESCAPE\n      // '\\\\[bar]' -> '\\\\\\\\[bar\\\\]'\n      ? `\\\\[${range}${cleanRangeBackSlash(endEscape)}${close}`\n      : close === ']'\n        ? endEscape.length % 2 === 0\n          // A normal case, and it is a range notation\n          // '[bar]'\n          // '[bar\\\\\\\\]'\n          ? `[${sanitizeRange(range)}${endEscape}]`\n          // Invalid range notaton\n          // '[bar\\\\]' -> '[bar\\\\\\\\]'\n          : '[]'\n        : '[]'\n  ],\n\n  // ending\n  [\n    // 'js' will not match 'js.'\n    // 'ab' will not match 'abc'\n    /(?:[^*])$/,\n\n    // WTF!\n    // https://git-scm.com/docs/gitignore\n    // changes in [2.22.1](https://git-scm.com/docs/gitignore/2.22.1)\n    // which re-fixes #24, #38\n\n    // > If there is a separator at the end of the pattern then the pattern\n    // > will only match directories, otherwise the pattern can match both\n    // > files and directories.\n\n    // 'js*' will not match 'a.js'\n    // 'js/' will not match 'a.js'\n    // 'js' will match 'a.js' and 'a.js/'\n    match => /\\/$/.test(match)\n      // foo/ will not match 'foo'\n      ? `${match}$`\n      // foo matches 'foo' and 'foo/'\n      : `${match}(?=$|\\\\/$)`\n  ],\n\n  // trailing wildcard\n  [\n    /(\\^|\\\\\\/)?\\\\\\*$/,\n    (_, p1) => {\n      const prefix = p1\n        // '\\^':\n        // '/*' does not match EMPTY\n        // '/*' does not match everything\n\n        // '\\\\\\/':\n        // 'abc/*' does not match 'abc/'\n        ? `${p1}[^/]+`\n\n        // 'a*' matches 'a'\n        // 'a*' matches 'aa'\n        : '[^/]*'\n\n      return `${prefix}(?=$|\\\\/$)`\n    }\n  ],\n]\n\n// A simple cache, because an ignore rule only has only one certain meaning\nconst regexCache = Object.create(null)\n\n// @param {pattern}\nconst makeRegex = (pattern, ignoreCase) => {\n  let source = regexCache[pattern]\n\n  if (!source) {\n    source = REPLACERS.reduce(\n      (prev, current) => prev.replace(current[0], current[1].bind(pattern)),\n      pattern\n    )\n    regexCache[pattern] = source\n  }\n\n  return ignoreCase\n    ? new RegExp(source, 'i')\n    : new RegExp(source)\n}\n\nconst isString = subject => typeof subject === 'string'\n\n// > A blank line matches no files, so it can serve as a separator for readability.\nconst checkPattern = pattern => pattern\n  && isString(pattern)\n  && !REGEX_TEST_BLANK_LINE.test(pattern)\n  && !REGEX_INVALID_TRAILING_BACKSLASH.test(pattern)\n\n  // > A line starting with # serves as a comment.\n  && pattern.indexOf('#') !== 0\n\nconst splitPattern = pattern => pattern.split(REGEX_SPLITALL_CRLF)\n\nclass IgnoreRule {\n  constructor (\n    origin,\n    pattern,\n    negative,\n    regex\n  ) {\n    this.origin = origin\n    this.pattern = pattern\n    this.negative = negative\n    this.regex = regex\n  }\n}\n\nconst createRule = (pattern, ignoreCase) => {\n  const origin = pattern\n  let negative = false\n\n  // > An optional prefix \"!\" which negates the pattern;\n  if (pattern.indexOf('!') === 0) {\n    negative = true\n    pattern = pattern.substr(1)\n  }\n\n  pattern = pattern\n  // > Put a backslash (\"\\\") in front of the first \"!\" for patterns that\n  // >   begin with a literal \"!\", for example, `\"\\!important!.txt\"`.\n  .replace(REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION, '!')\n  // > Put a backslash (\"\\\") in front of the first hash for patterns that\n  // >   begin with a hash.\n  .replace(REGEX_REPLACE_LEADING_EXCAPED_HASH, '#')\n\n  const regex = makeRegex(pattern, ignoreCase)\n\n  return new IgnoreRule(\n    origin,\n    pattern,\n    negative,\n    regex\n  )\n}\n\nconst throwError = (message, Ctor) => {\n  throw new Ctor(message)\n}\n\nconst checkPath = (path, originalPath, doThrow) => {\n  if (!isString(path)) {\n    return doThrow(\n      `path must be a string, but got \\`${originalPath}\\``,\n      TypeError\n    )\n  }\n\n  // We don't know if we should ignore EMPTY, so throw\n  if (!path) {\n    return doThrow(`path must not be empty`, TypeError)\n  }\n\n  // Check if it is a relative path\n  if (checkPath.isNotRelative(path)) {\n    const r = '`path.relative()`d'\n    return doThrow(\n      `path should be a ${r} string, but got \"${originalPath}\"`,\n      RangeError\n    )\n  }\n\n  return true\n}\n\nconst isNotRelative = path => REGEX_TEST_INVALID_PATH.test(path)\n\ncheckPath.isNotRelative = isNotRelative\ncheckPath.convert = p => p\n\nclass Ignore {\n  constructor ({\n    ignorecase = true,\n    ignoreCase = ignorecase,\n    allowRelativePaths = false\n  } = {}) {\n    define(this, KEY_IGNORE, true)\n\n    this._rules = []\n    this._ignoreCase = ignoreCase\n    this._allowRelativePaths = allowRelativePaths\n    this._initCache()\n  }\n\n  _initCache () {\n    this._ignoreCache = Object.create(null)\n    this._testCache = Object.create(null)\n  }\n\n  _addPattern (pattern) {\n    // #32\n    if (pattern && pattern[KEY_IGNORE]) {\n      this._rules = this._rules.concat(pattern._rules)\n      this._added = true\n      return\n    }\n\n    if (checkPattern(pattern)) {\n      const rule = createRule(pattern, this._ignoreCase)\n      this._added = true\n      this._rules.push(rule)\n    }\n  }\n\n  // @param {Array<string> | string | Ignore} pattern\n  add (pattern) {\n    this._added = false\n\n    makeArray(\n      isString(pattern)\n        ? splitPattern(pattern)\n        : pattern\n    ).forEach(this._addPattern, this)\n\n    // Some rules have just added to the ignore,\n    // making the behavior changed.\n    if (this._added) {\n      this._initCache()\n    }\n\n    return this\n  }\n\n  // legacy\n  addPattern (pattern) {\n    return this.add(pattern)\n  }\n\n  //          |           ignored : unignored\n  // negative |   0:0   |   0:1   |   1:0   |   1:1\n  // -------- | ------- | ------- | ------- | --------\n  //     0    |  TEST   |  TEST   |  SKIP   |    X\n  //     1    |  TESTIF |  SKIP   |  TEST   |    X\n\n  // - SKIP: always skip\n  // - TEST: always test\n  // - TESTIF: only test if checkUnignored\n  // - X: that never happen\n\n  // @param {boolean} whether should check if the path is unignored,\n  //   setting `checkUnignored` to `false` could reduce additional\n  //   path matching.\n\n  // @returns {TestResult} true if a file is ignored\n  _testOne (path, checkUnignored) {\n    let ignored = false\n    let unignored = false\n\n    this._rules.forEach(rule => {\n      const {negative} = rule\n      if (\n        unignored === negative && ignored !== unignored\n        || negative && !ignored && !unignored && !checkUnignored\n      ) {\n        return\n      }\n\n      const matched = rule.regex.test(path)\n\n      if (matched) {\n        ignored = !negative\n        unignored = negative\n      }\n    })\n\n    return {\n      ignored,\n      unignored\n    }\n  }\n\n  // @returns {TestResult}\n  _test (originalPath, cache, checkUnignored, slices) {\n    const path = originalPath\n      // Supports nullable path\n      && checkPath.convert(originalPath)\n\n    checkPath(\n      path,\n      originalPath,\n      this._allowRelativePaths\n        ? RETURN_FALSE\n        : throwError\n    )\n\n    return this._t(path, cache, checkUnignored, slices)\n  }\n\n  _t (path, cache, checkUnignored, slices) {\n    if (path in cache) {\n      return cache[path]\n    }\n\n    if (!slices) {\n      // path/to/a.js\n      // ['path', 'to', 'a.js']\n      slices = path.split(SLASH)\n    }\n\n    slices.pop()\n\n    // If the path has no parent directory, just test it\n    if (!slices.length) {\n      return cache[path] = this._testOne(path, checkUnignored)\n    }\n\n    const parent = this._t(\n      slices.join(SLASH) + SLASH,\n      cache,\n      checkUnignored,\n      slices\n    )\n\n    // If the path contains a parent directory, check the parent first\n    return cache[path] = parent.ignored\n      // > It is not possible to re-include a file if a parent directory of\n      // >   that file is excluded.\n      ? parent\n      : this._testOne(path, checkUnignored)\n  }\n\n  ignores (path) {\n    return this._test(path, this._ignoreCache, false).ignored\n  }\n\n  createFilter () {\n    return path => !this.ignores(path)\n  }\n\n  filter (paths) {\n    return makeArray(paths).filter(this.createFilter())\n  }\n\n  // @returns {TestResult}\n  test (path) {\n    return this._test(path, this._testCache, true)\n  }\n}\n\nconst factory = options => new Ignore(options)\n\nconst isPathValid = path =>\n  checkPath(path && checkPath.convert(path), path, RETURN_FALSE)\n\nfactory.isPathValid = isPathValid\n\n// Fixes typescript\nfactory.default = factory\n\nmodule.exports = factory\n\n// Windows\n// --------------------------------------------------------------\n/* istanbul ignore if */\nif (\n  // Detect `process` so that it can run in browsers.\n  typeof process !== 'undefined'\n  && (\n    process.env && process.env.IGNORE_TEST_WIN32\n    || process.platform === 'win32'\n  )\n) {\n  /* eslint no-control-regex: \"off\" */\n  const makePosix = str => /^\\\\\\\\\\?\\\\/.test(str)\n  || /[\"<>|\\u0000-\\u001F]+/u.test(str)\n    ? str\n    : str.replace(/\\\\/g, '/')\n\n  checkPath.convert = makePosix\n\n  // 'C:\\\\foo'     <- 'C:\\\\foo' has been converted to 'C:/'\n  // 'd:\\\\foo'\n  const REGIX_IS_WINDOWS_PATH_ABSOLUTE = /^[a-z]:\\//i\n  checkPath.isNotRelative = path =>\n    REGIX_IS_WINDOWS_PATH_ABSOLUTE.test(path)\n    || isNotRelative(path)\n}\n","/*!\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\n *\n * Copyright (c) 2014-2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nmodule.exports = function isExtglob(str) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  var match;\n  while ((match = /(\\\\).|([@?!+*]\\(.*\\))/g.exec(str))) {\n    if (match[2]) return true;\n    str = str.slice(match.index + match[0].length);\n  }\n\n  return false;\n};\n","/*!\n * is-glob <https://github.com/jonschlinkert/is-glob>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nvar isExtglob = require('is-extglob');\nvar chars = { '{': '}', '(': ')', '[': ']'};\nvar strictCheck = function(str) {\n  if (str[0] === '!') {\n    return true;\n  }\n  var index = 0;\n  var pipeIndex = -2;\n  var closeSquareIndex = -2;\n  var closeCurlyIndex = -2;\n  var closeParenIndex = -2;\n  var backSlashIndex = -2;\n  while (index < str.length) {\n    if (str[index] === '*') {\n      return true;\n    }\n\n    if (str[index + 1] === '?' && /[\\].+)]/.test(str[index])) {\n      return true;\n    }\n\n    if (closeSquareIndex !== -1 && str[index] === '[' && str[index + 1] !== ']') {\n      if (closeSquareIndex < index) {\n        closeSquareIndex = str.indexOf(']', index);\n      }\n      if (closeSquareIndex > index) {\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\n          return true;\n        }\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (closeCurlyIndex !== -1 && str[index] === '{' && str[index + 1] !== '}') {\n      closeCurlyIndex = str.indexOf('}', index);\n      if (closeCurlyIndex > index) {\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeCurlyIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (closeParenIndex !== -1 && str[index] === '(' && str[index + 1] === '?' && /[:!=]/.test(str[index + 2]) && str[index + 3] !== ')') {\n      closeParenIndex = str.indexOf(')', index);\n      if (closeParenIndex > index) {\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (pipeIndex !== -1 && str[index] === '(' && str[index + 1] !== '|') {\n      if (pipeIndex < index) {\n        pipeIndex = str.indexOf('|', index);\n      }\n      if (pipeIndex !== -1 && str[pipeIndex + 1] !== ')') {\n        closeParenIndex = str.indexOf(')', pipeIndex);\n        if (closeParenIndex > pipeIndex) {\n          backSlashIndex = str.indexOf('\\\\', pipeIndex);\n          if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (str[index] === '\\\\') {\n      var open = str[index + 1];\n      index += 2;\n      var close = chars[open];\n\n      if (close) {\n        var n = str.indexOf(close, index);\n        if (n !== -1) {\n          index = n + 1;\n        }\n      }\n\n      if (str[index] === '!') {\n        return true;\n      }\n    } else {\n      index++;\n    }\n  }\n  return false;\n};\n\nvar relaxedCheck = function(str) {\n  if (str[0] === '!') {\n    return true;\n  }\n  var index = 0;\n  while (index < str.length) {\n    if (/[*?{}()[\\]]/.test(str[index])) {\n      return true;\n    }\n\n    if (str[index] === '\\\\') {\n      var open = str[index + 1];\n      index += 2;\n      var close = chars[open];\n\n      if (close) {\n        var n = str.indexOf(close, index);\n        if (n !== -1) {\n          index = n + 1;\n        }\n      }\n\n      if (str[index] === '!') {\n        return true;\n      }\n    } else {\n      index++;\n    }\n  }\n  return false;\n};\n\nmodule.exports = function isGlob(str, options) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  if (isExtglob(str)) {\n    return true;\n  }\n\n  var check = strictCheck;\n\n  // optionally relax check\n  if (options && options.strict === false) {\n    check = relaxedCheck;\n  }\n\n  return check(str);\n};\n","/*!\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(num) {\n  if (typeof num === 'number') {\n    return num - num === 0;\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\n  }\n  return false;\n};\n","'use strict'\n/*\n * merge2\n * https://github.com/teambition/merge2\n *\n * Copyright (c) 2014-2020 Teambition\n * Licensed under the MIT license.\n */\nconst Stream = require('stream')\nconst PassThrough = Stream.PassThrough\nconst slice = Array.prototype.slice\n\nmodule.exports = merge2\n\nfunction merge2 () {\n  const streamsQueue = []\n  const args = slice.call(arguments)\n  let merging = false\n  let options = args[args.length - 1]\n\n  if (options && !Array.isArray(options) && options.pipe == null) {\n    args.pop()\n  } else {\n    options = {}\n  }\n\n  const doEnd = options.end !== false\n  const doPipeError = options.pipeError === true\n  if (options.objectMode == null) {\n    options.objectMode = true\n  }\n  if (options.highWaterMark == null) {\n    options.highWaterMark = 64 * 1024\n  }\n  const mergedStream = PassThrough(options)\n\n  function addStream () {\n    for (let i = 0, len = arguments.length; i < len; i++) {\n      streamsQueue.push(pauseStreams(arguments[i], options))\n    }\n    mergeStream()\n    return this\n  }\n\n  function mergeStream () {\n    if (merging) {\n      return\n    }\n    merging = true\n\n    let streams = streamsQueue.shift()\n    if (!streams) {\n      process.nextTick(endStream)\n      return\n    }\n    if (!Array.isArray(streams)) {\n      streams = [streams]\n    }\n\n    let pipesCount = streams.length + 1\n\n    function next () {\n      if (--pipesCount > 0) {\n        return\n      }\n      merging = false\n      mergeStream()\n    }\n\n    function pipe (stream) {\n      function onend () {\n        stream.removeListener('merge2UnpipeEnd', onend)\n        stream.removeListener('end', onend)\n        if (doPipeError) {\n          stream.removeListener('error', onerror)\n        }\n        next()\n      }\n      function onerror (err) {\n        mergedStream.emit('error', err)\n      }\n      // skip ended stream\n      if (stream._readableState.endEmitted) {\n        return next()\n      }\n\n      stream.on('merge2UnpipeEnd', onend)\n      stream.on('end', onend)\n\n      if (doPipeError) {\n        stream.on('error', onerror)\n      }\n\n      stream.pipe(mergedStream, { end: false })\n      // compatible for old stream\n      stream.resume()\n    }\n\n    for (let i = 0; i < streams.length; i++) {\n      pipe(streams[i])\n    }\n\n    next()\n  }\n\n  function endStream () {\n    merging = false\n    // emit 'queueDrain' when all streams merged.\n    mergedStream.emit('queueDrain')\n    if (doEnd) {\n      mergedStream.end()\n    }\n  }\n\n  mergedStream.setMaxListeners(0)\n  mergedStream.add = addStream\n  mergedStream.on('unpipe', function (stream) {\n    stream.emit('merge2UnpipeEnd')\n  })\n\n  if (args.length) {\n    addStream.apply(null, args)\n  }\n  return mergedStream\n}\n\n// check and pause streams for pipe.\nfunction pauseStreams (streams, options) {\n  if (!Array.isArray(streams)) {\n    // Backwards-compat with old-style streams\n    if (!streams._readableState && streams.pipe) {\n      streams = streams.pipe(PassThrough(options))\n    }\n    if (!streams._readableState || !streams.pause || !streams.pipe) {\n      throw new Error('Only readable stream can be merged.')\n    }\n    streams.pause()\n  } else {\n    for (let i = 0, len = streams.length; i < len; i++) {\n      streams[i] = pauseStreams(streams[i], options)\n    }\n  }\n  return streams\n}\n","'use strict';\n\nconst util = require('util');\nconst braces = require('braces');\nconst picomatch = require('picomatch');\nconst utils = require('picomatch/lib/utils');\nconst isEmptyString = val => val === '' || val === './';\n\n/**\n * Returns an array of strings that match one or more glob patterns.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm(list, patterns[, options]);\n *\n * console.log(mm(['a.js', 'a.txt'], ['*.js']));\n * //=> [ 'a.js' ]\n * ```\n * @param {String|Array<string>} `list` List of strings to match.\n * @param {String|Array<string>} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options)\n * @return {Array} Returns an array of matches\n * @summary false\n * @api public\n */\n\nconst micromatch = (list, patterns, options) => {\n  patterns = [].concat(patterns);\n  list = [].concat(list);\n\n  let omit = new Set();\n  let keep = new Set();\n  let items = new Set();\n  let negatives = 0;\n\n  let onResult = state => {\n    items.add(state.output);\n    if (options && options.onResult) {\n      options.onResult(state);\n    }\n  };\n\n  for (let i = 0; i < patterns.length; i++) {\n    let isMatch = picomatch(String(patterns[i]), { ...options, onResult }, true);\n    let negated = isMatch.state.negated || isMatch.state.negatedExtglob;\n    if (negated) negatives++;\n\n    for (let item of list) {\n      let matched = isMatch(item, true);\n\n      let match = negated ? !matched.isMatch : matched.isMatch;\n      if (!match) continue;\n\n      if (negated) {\n        omit.add(matched.output);\n      } else {\n        omit.delete(matched.output);\n        keep.add(matched.output);\n      }\n    }\n  }\n\n  let result = negatives === patterns.length ? [...items] : [...keep];\n  let matches = result.filter(item => !omit.has(item));\n\n  if (options && matches.length === 0) {\n    if (options.failglob === true) {\n      throw new Error(`No matches found for \"${patterns.join(', ')}\"`);\n    }\n\n    if (options.nonull === true || options.nullglob === true) {\n      return options.unescape ? patterns.map(p => p.replace(/\\\\/g, '')) : patterns;\n    }\n  }\n\n  return matches;\n};\n\n/**\n * Backwards compatibility\n */\n\nmicromatch.match = micromatch;\n\n/**\n * Returns a matcher function from the given glob `pattern` and `options`.\n * The returned function takes a string to match as its only argument and returns\n * true if the string is a match.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.matcher(pattern[, options]);\n *\n * const isMatch = mm.matcher('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @param {String} `pattern` Glob pattern\n * @param {Object} `options`\n * @return {Function} Returns a matcher function.\n * @api public\n */\n\nmicromatch.matcher = (pattern, options) => picomatch(pattern, options);\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.isMatch(string, patterns[, options]);\n *\n * console.log(mm.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(mm.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String} `str` The string to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `[options]` See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\nmicromatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Backwards compatibility\n */\n\nmicromatch.any = micromatch.isMatch;\n\n/**\n * Returns a list of strings that _**do not match any**_ of the given `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.not(list, patterns[, options]);\n *\n * console.log(mm.not(['a.a', 'b.b', 'c.c'], '*.a'));\n * //=> ['b.b', 'c.c']\n * ```\n * @param {Array} `list` Array of strings to match.\n * @param {String|Array} `patterns` One or more glob pattern to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Array} Returns an array of strings that **do not match** the given patterns.\n * @api public\n */\n\nmicromatch.not = (list, patterns, options = {}) => {\n  patterns = [].concat(patterns).map(String);\n  let result = new Set();\n  let items = [];\n\n  let onResult = state => {\n    if (options.onResult) options.onResult(state);\n    items.push(state.output);\n  };\n\n  let matches = new Set(micromatch(list, patterns, { ...options, onResult }));\n\n  for (let item of items) {\n    if (!matches.has(item)) {\n      result.add(item);\n    }\n  }\n  return [...result];\n};\n\n/**\n * Returns true if the given `string` contains the given pattern. Similar\n * to [.isMatch](#isMatch) but the pattern can match any part of the string.\n *\n * ```js\n * var mm = require('micromatch');\n * // mm.contains(string, pattern[, options]);\n *\n * console.log(mm.contains('aa/bb/cc', '*b'));\n * //=> true\n * console.log(mm.contains('aa/bb/cc', '*d'));\n * //=> false\n * ```\n * @param {String} `str` The string to match.\n * @param {String|Array} `patterns` Glob pattern to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any of the patterns matches any part of `str`.\n * @api public\n */\n\nmicromatch.contains = (str, pattern, options) => {\n  if (typeof str !== 'string') {\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\n  }\n\n  if (Array.isArray(pattern)) {\n    return pattern.some(p => micromatch.contains(str, p, options));\n  }\n\n  if (typeof pattern === 'string') {\n    if (isEmptyString(str) || isEmptyString(pattern)) {\n      return false;\n    }\n\n    if (str.includes(pattern) || (str.startsWith('./') && str.slice(2).includes(pattern))) {\n      return true;\n    }\n  }\n\n  return micromatch.isMatch(str, pattern, { ...options, contains: true });\n};\n\n/**\n * Filter the keys of the given object with the given `glob` pattern\n * and `options`. Does not attempt to match nested keys. If you need this feature,\n * use [glob-object][] instead.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.matchKeys(object, patterns[, options]);\n *\n * const obj = { aa: 'a', ab: 'b', ac: 'c' };\n * console.log(mm.matchKeys(obj, '*b'));\n * //=> { ab: 'b' }\n * ```\n * @param {Object} `object` The object with keys to filter.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Object} Returns an object with only keys that match the given patterns.\n * @api public\n */\n\nmicromatch.matchKeys = (obj, patterns, options) => {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('Expected the first argument to be an object');\n  }\n  let keys = micromatch(Object.keys(obj), patterns, options);\n  let res = {};\n  for (let key of keys) res[key] = obj[key];\n  return res;\n};\n\n/**\n * Returns true if some of the strings in the given `list` match any of the given glob `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.some(list, patterns[, options]);\n *\n * console.log(mm.some(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\n * // true\n * console.log(mm.some(['foo.js'], ['*.js', '!foo.js']));\n * // false\n * ```\n * @param {String|Array} `list` The string or array of strings to test. Returns as soon as the first match is found.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any `patterns` matches any of the strings in `list`\n * @api public\n */\n\nmicromatch.some = (list, patterns, options) => {\n  let items = [].concat(list);\n\n  for (let pattern of [].concat(patterns)) {\n    let isMatch = picomatch(String(pattern), options);\n    if (items.some(item => isMatch(item))) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Returns true if every string in the given `list` matches\n * any of the given glob `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.every(list, patterns[, options]);\n *\n * console.log(mm.every('foo.js', ['foo.js']));\n * // true\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js']));\n * // true\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\n * // false\n * console.log(mm.every(['foo.js'], ['*.js', '!foo.js']));\n * // false\n * ```\n * @param {String|Array} `list` The string or array of strings to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if all `patterns` matches all of the strings in `list`\n * @api public\n */\n\nmicromatch.every = (list, patterns, options) => {\n  let items = [].concat(list);\n\n  for (let pattern of [].concat(patterns)) {\n    let isMatch = picomatch(String(pattern), options);\n    if (!items.every(item => isMatch(item))) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * Returns true if **all** of the given `patterns` match\n * the specified string.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.all(string, patterns[, options]);\n *\n * console.log(mm.all('foo.js', ['foo.js']));\n * // true\n *\n * console.log(mm.all('foo.js', ['*.js', '!foo.js']));\n * // false\n *\n * console.log(mm.all('foo.js', ['*.js', 'foo.js']));\n * // true\n *\n * console.log(mm.all('foo.js', ['*.js', 'f*', '*o*', '*o.js']));\n * // true\n * ```\n * @param {String|Array} `str` The string to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\nmicromatch.all = (str, patterns, options) => {\n  if (typeof str !== 'string') {\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\n  }\n\n  return [].concat(patterns).every(p => picomatch(p, options)(str));\n};\n\n/**\n * Returns an array of matches captured by `pattern` in `string, or `null` if the pattern did not match.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.capture(pattern, string[, options]);\n *\n * console.log(mm.capture('test/*.js', 'test/foo.js'));\n * //=> ['foo']\n * console.log(mm.capture('test/*.js', 'foo/bar.css'));\n * //=> null\n * ```\n * @param {String} `glob` Glob pattern to use for matching.\n * @param {String} `input` String to match\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Array|null} Returns an array of captures if the input matches the glob pattern, otherwise `null`.\n * @api public\n */\n\nmicromatch.capture = (glob, input, options) => {\n  let posix = utils.isWindows(options);\n  let regex = picomatch.makeRe(String(glob), { ...options, capture: true });\n  let match = regex.exec(posix ? utils.toPosixSlashes(input) : input);\n\n  if (match) {\n    return match.slice(1).map(v => v === void 0 ? '' : v);\n  }\n};\n\n/**\n * Create a regular expression from the given glob `pattern`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.makeRe(pattern[, options]);\n *\n * console.log(mm.makeRe('*.js'));\n * //=> /^(?:(\\.[\\\\\\/])?(?!\\.)(?=.)[^\\/]*?\\.js)$/\n * ```\n * @param {String} `pattern` A glob pattern to convert to regex.\n * @param {Object} `options`\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\nmicromatch.makeRe = (...args) => picomatch.makeRe(...args);\n\n/**\n * Scan a glob pattern to separate the pattern into segments. Used\n * by the [split](#split) method.\n *\n * ```js\n * const mm = require('micromatch');\n * const state = mm.scan(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\nmicromatch.scan = (...args) => picomatch.scan(...args);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const mm = require('micromatch');\n * const state = mm.parse(pattern[, options]);\n * ```\n * @param {String} `glob`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as regex source string.\n * @api public\n */\n\nmicromatch.parse = (patterns, options) => {\n  let res = [];\n  for (let pattern of [].concat(patterns || [])) {\n    for (let str of braces(String(pattern), options)) {\n      res.push(picomatch.parse(str, options));\n    }\n  }\n  return res;\n};\n\n/**\n * Process the given brace `pattern`.\n *\n * ```js\n * const { braces } = require('micromatch');\n * console.log(braces('foo/{a,b,c}/bar'));\n * //=> [ 'foo/(a|b|c)/bar' ]\n *\n * console.log(braces('foo/{a,b,c}/bar', { expand: true }));\n * //=> [ 'foo/a/bar', 'foo/b/bar', 'foo/c/bar' ]\n * ```\n * @param {String} `pattern` String with brace pattern to process.\n * @param {Object} `options` Any [options](#options) to change how expansion is performed. See the [braces][] library for all available options.\n * @return {Array}\n * @api public\n */\n\nmicromatch.braces = (pattern, options) => {\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\n  if ((options && options.nobrace === true) || !/\\{.*\\}/.test(pattern)) {\n    return [pattern];\n  }\n  return braces(pattern, options);\n};\n\n/**\n * Expand braces\n */\n\nmicromatch.braceExpand = (pattern, options) => {\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\n  return micromatch.braces(pattern, { ...options, expand: true });\n};\n\n/**\n * Expose micromatch\n */\n\nmodule.exports = micromatch;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */\n\nif (!globalThis.DOMException) {\n  try {\n    const { MessageChannel } = require('worker_threads'),\n    port = new MessageChannel().port1,\n    ab = new ArrayBuffer()\n    port.postMessage(ab, [ab, ab])\n  } catch (err) {\n    err.constructor.name === 'DOMException' && (\n      globalThis.DOMException = err.constructor\n    )\n  }\n}\n\nmodule.exports = globalThis.DOMException\n","const runtimeRequire = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require // eslint-disable-line\nif (typeof runtimeRequire.addon === 'function') { // if the platform supports native resolving prefer that\n  module.exports = runtimeRequire.addon.bind(runtimeRequire)\n} else { // else use the runtime version here\n  module.exports = require('./node-gyp-build.js')\n}\n","var fs = require('fs')\nvar path = require('path')\nvar os = require('os')\n\n// Workaround to fix webpack's build warnings: 'the request of a dependency is an expression'\nvar runtimeRequire = typeof __webpack_require__ === 'function' ? __non_webpack_require__ : require // eslint-disable-line\n\nvar vars = (process.config && process.config.variables) || {}\nvar prebuildsOnly = !!process.env.PREBUILDS_ONLY\nvar abi = process.versions.modules // TODO: support old node where this is undef\nvar runtime = isElectron() ? 'electron' : (isNwjs() ? 'node-webkit' : 'node')\n\nvar arch = process.env.npm_config_arch || os.arch()\nvar platform = process.env.npm_config_platform || os.platform()\nvar libc = process.env.LIBC || (isAlpine(platform) ? 'musl' : 'glibc')\nvar armv = process.env.ARM_VERSION || (arch === 'arm64' ? '8' : vars.arm_version) || ''\nvar uv = (process.versions.uv || '').split('.')[0]\n\nmodule.exports = load\n\nfunction load (dir) {\n  return runtimeRequire(load.resolve(dir))\n}\n\nload.resolve = load.path = function (dir) {\n  dir = path.resolve(dir || '.')\n\n  try {\n    var name = runtimeRequire(path.join(dir, 'package.json')).name.toUpperCase().replace(/-/g, '_')\n    if (process.env[name + '_PREBUILD']) dir = process.env[name + '_PREBUILD']\n  } catch (err) {}\n\n  if (!prebuildsOnly) {\n    var release = getFirst(path.join(dir, 'build/Release'), matchBuild)\n    if (release) return release\n\n    var debug = getFirst(path.join(dir, 'build/Debug'), matchBuild)\n    if (debug) return debug\n  }\n\n  var prebuild = resolve(dir)\n  if (prebuild) return prebuild\n\n  var nearby = resolve(path.dirname(process.execPath))\n  if (nearby) return nearby\n\n  var target = [\n    'platform=' + platform,\n    'arch=' + arch,\n    'runtime=' + runtime,\n    'abi=' + abi,\n    'uv=' + uv,\n    armv ? 'armv=' + armv : '',\n    'libc=' + libc,\n    'node=' + process.versions.node,\n    process.versions.electron ? 'electron=' + process.versions.electron : '',\n    typeof __webpack_require__ === 'function' ? 'webpack=true' : '' // eslint-disable-line\n  ].filter(Boolean).join(' ')\n\n  throw new Error('No native build was found for ' + target + '\\n    loaded from: ' + dir + '\\n')\n\n  function resolve (dir) {\n    // Find matching \"prebuilds/<platform>-<arch>\" directory\n    var tuples = readdirSync(path.join(dir, 'prebuilds')).map(parseTuple)\n    var tuple = tuples.filter(matchTuple(platform, arch)).sort(compareTuples)[0]\n    if (!tuple) return\n\n    // Find most specific flavor first\n    var prebuilds = path.join(dir, 'prebuilds', tuple.name)\n    var parsed = readdirSync(prebuilds).map(parseTags)\n    var candidates = parsed.filter(matchTags(runtime, abi))\n    var winner = candidates.sort(compareTags(runtime))[0]\n    if (winner) return path.join(prebuilds, winner.file)\n  }\n}\n\nfunction readdirSync (dir) {\n  try {\n    return fs.readdirSync(dir)\n  } catch (err) {\n    return []\n  }\n}\n\nfunction getFirst (dir, filter) {\n  var files = readdirSync(dir).filter(filter)\n  return files[0] && path.join(dir, files[0])\n}\n\nfunction matchBuild (name) {\n  return /\\.node$/.test(name)\n}\n\nfunction parseTuple (name) {\n  // Example: darwin-x64+arm64\n  var arr = name.split('-')\n  if (arr.length !== 2) return\n\n  var platform = arr[0]\n  var architectures = arr[1].split('+')\n\n  if (!platform) return\n  if (!architectures.length) return\n  if (!architectures.every(Boolean)) return\n\n  return { name, platform, architectures }\n}\n\nfunction matchTuple (platform, arch) {\n  return function (tuple) {\n    if (tuple == null) return false\n    if (tuple.platform !== platform) return false\n    return tuple.architectures.includes(arch)\n  }\n}\n\nfunction compareTuples (a, b) {\n  // Prefer single-arch prebuilds over multi-arch\n  return a.architectures.length - b.architectures.length\n}\n\nfunction parseTags (file) {\n  var arr = file.split('.')\n  var extension = arr.pop()\n  var tags = { file: file, specificity: 0 }\n\n  if (extension !== 'node') return\n\n  for (var i = 0; i < arr.length; i++) {\n    var tag = arr[i]\n\n    if (tag === 'node' || tag === 'electron' || tag === 'node-webkit') {\n      tags.runtime = tag\n    } else if (tag === 'napi') {\n      tags.napi = true\n    } else if (tag.slice(0, 3) === 'abi') {\n      tags.abi = tag.slice(3)\n    } else if (tag.slice(0, 2) === 'uv') {\n      tags.uv = tag.slice(2)\n    } else if (tag.slice(0, 4) === 'armv') {\n      tags.armv = tag.slice(4)\n    } else if (tag === 'glibc' || tag === 'musl') {\n      tags.libc = tag\n    } else {\n      continue\n    }\n\n    tags.specificity++\n  }\n\n  return tags\n}\n\nfunction matchTags (runtime, abi) {\n  return function (tags) {\n    if (tags == null) return false\n    if (tags.runtime && tags.runtime !== runtime && !runtimeAgnostic(tags)) return false\n    if (tags.abi && tags.abi !== abi && !tags.napi) return false\n    if (tags.uv && tags.uv !== uv) return false\n    if (tags.armv && tags.armv !== armv) return false\n    if (tags.libc && tags.libc !== libc) return false\n\n    return true\n  }\n}\n\nfunction runtimeAgnostic (tags) {\n  return tags.runtime === 'node' && tags.napi\n}\n\nfunction compareTags (runtime) {\n  // Precedence: non-agnostic runtime, abi over napi, then by specificity.\n  return function (a, b) {\n    if (a.runtime !== b.runtime) {\n      return a.runtime === runtime ? -1 : 1\n    } else if (a.abi !== b.abi) {\n      return a.abi ? -1 : 1\n    } else if (a.specificity !== b.specificity) {\n      return a.specificity > b.specificity ? -1 : 1\n    } else {\n      return 0\n    }\n  }\n}\n\nfunction isNwjs () {\n  return !!(process.versions && process.versions.nw)\n}\n\nfunction isElectron () {\n  if (process.versions && process.versions.electron) return true\n  if (process.env.ELECTRON_RUN_AS_NODE) return true\n  return typeof window !== 'undefined' && window.process && window.process.type === 'renderer'\n}\n\nfunction isAlpine (platform) {\n  return platform === 'linux' && fs.existsSync('/etc/alpine-release')\n}\n\n// Exposed for unit tests\n// TODO: move to lib\nload.parseTags = parseTags\nload.matchTags = matchTags\nload.compareTags = compareTags\nload.parseTuple = parseTuple\nload.matchTuple = matchTuple\nload.compareTuples = compareTuples\n","'use strict';\nconst {promisify} = require('util');\nconst fs = require('fs');\n\nasync function isType(fsStatType, statsMethodName, filePath) {\n\tif (typeof filePath !== 'string') {\n\t\tthrow new TypeError(`Expected a string, got ${typeof filePath}`);\n\t}\n\n\ttry {\n\t\tconst stats = await promisify(fs[fsStatType])(filePath);\n\t\treturn stats[statsMethodName]();\n\t} catch (error) {\n\t\tif (error.code === 'ENOENT') {\n\t\t\treturn false;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nfunction isTypeSync(fsStatType, statsMethodName, filePath) {\n\tif (typeof filePath !== 'string') {\n\t\tthrow new TypeError(`Expected a string, got ${typeof filePath}`);\n\t}\n\n\ttry {\n\t\treturn fs[fsStatType](filePath)[statsMethodName]();\n\t} catch (error) {\n\t\tif (error.code === 'ENOENT') {\n\t\t\treturn false;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nexports.isFile = isType.bind(null, 'stat', 'isFile');\nexports.isDirectory = isType.bind(null, 'stat', 'isDirectory');\nexports.isSymlink = isType.bind(null, 'lstat', 'isSymbolicLink');\nexports.isFileSync = isTypeSync.bind(null, 'statSync', 'isFile');\nexports.isDirectorySync = isTypeSync.bind(null, 'statSync', 'isDirectory');\nexports.isSymlinkSync = isTypeSync.bind(null, 'lstatSync', 'isSymbolicLink');\n","'use strict';\n\nmodule.exports = require('./lib/picomatch');\n","'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n","'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = opts => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index] || '';\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren') {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n    let rest;\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\n        // In this case, we need to parse the string and use it in the output of the original pattern.\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\n        //\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\n        const expression = parse(rest, { ...options, fastpaths: false }).output;\n\n        output = token.close = `)${expression})${extglobStar})`;\n      }\n\n      if (token.prev.type === 'bos') {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance();\n      } else {\n        value += advance();\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = opts => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Compile a regular expression from the `state` object returned by the\n * [parse()](#parse) method.\n *\n * @param {Object} `state`\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\n * @return {RegExp}\n * @api public\n */\n\npicomatch.compileRe = (state, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return state.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${state.output})${append}`;\n  if (state && state.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = state;\n  }\n\n  return regex;\n};\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  let parsed = { negated: false, fastpaths: true };\n\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    parsed.output = parse.fastpaths(input, options);\n  }\n\n  if (!parsed.output) {\n    parsed = parse(input, options);\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n","'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let negatedExtglob = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\n          negatedExtglob = true;\n        }\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n          break;\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated,\n    negatedExtglob\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n","'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","'use strict'\n\nfunction reusify (Constructor) {\n  var head = new Constructor()\n  var tail = head\n\n  function get () {\n    var current = head\n\n    if (current.next) {\n      head = current.next\n    } else {\n      head = new Constructor()\n      tail = head\n    }\n\n    current.next = null\n\n    return current\n  }\n\n  function release (obj) {\n    tail.next = obj\n    tail = obj\n  }\n\n  return {\n    get: get,\n    release: release\n  }\n}\n\nmodule.exports = reusify\n","/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = runParallel\n\nconst queueMicrotask = require('queue-microtask')\n\nfunction runParallel (tasks, cb) {\n  let results, pending, keys\n  let isSync = true\n\n  if (Array.isArray(tasks)) {\n    results = []\n    pending = tasks.length\n  } else {\n    keys = Object.keys(tasks)\n    results = {}\n    pending = keys.length\n  }\n\n  function done (err) {\n    function end () {\n      if (cb) cb(err, results)\n      cb = null\n    }\n    if (isSync) queueMicrotask(end)\n    else end()\n  }\n\n  function each (i, err, result) {\n    results[i] = result\n    if (--pending === 0 || err) {\n      done(err)\n    }\n  }\n\n  if (!pending) {\n    // empty\n    done(null)\n  } else if (keys) {\n    // object\n    keys.forEach(function (key) {\n      tasks[key](function (err, result) { each(key, err, result) })\n    })\n  } else {\n    // array\n    tasks.forEach(function (task, i) {\n      task(function (err, result) { each(i, err, result) })\n    })\n  }\n\n  isSync = false\n}\n","'use strict';\nmodule.exports = path => {\n\tconst isExtendedLengthPath = /^\\\\\\\\\\?\\\\/.test(path);\n\tconst hasNonAscii = /[^\\u0000-\\u0080]+/.test(path); // eslint-disable-line no-control-regex\n\n\tif (isExtendedLengthPath || hasNonAscii) {\n\t\treturn path;\n\t}\n\n\treturn path.replace(/\\\\/g, '/');\n};\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","/*!\n * to-regex-range <https://github.com/micromatch/to-regex-range>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst isNumber = require('is-number');\n\nconst toRegexRange = (min, max, options) => {\n  if (isNumber(min) === false) {\n    throw new TypeError('toRegexRange: expected the first argument to be a number');\n  }\n\n  if (max === void 0 || min === max) {\n    return String(min);\n  }\n\n  if (isNumber(max) === false) {\n    throw new TypeError('toRegexRange: expected the second argument to be a number.');\n  }\n\n  let opts = { relaxZeros: true, ...options };\n  if (typeof opts.strictZeros === 'boolean') {\n    opts.relaxZeros = opts.strictZeros === false;\n  }\n\n  let relax = String(opts.relaxZeros);\n  let shorthand = String(opts.shorthand);\n  let capture = String(opts.capture);\n  let wrap = String(opts.wrap);\n  let cacheKey = min + ':' + max + '=' + relax + shorthand + capture + wrap;\n\n  if (toRegexRange.cache.hasOwnProperty(cacheKey)) {\n    return toRegexRange.cache[cacheKey].result;\n  }\n\n  let a = Math.min(min, max);\n  let b = Math.max(min, max);\n\n  if (Math.abs(a - b) === 1) {\n    let result = min + '|' + max;\n    if (opts.capture) {\n      return `(${result})`;\n    }\n    if (opts.wrap === false) {\n      return result;\n    }\n    return `(?:${result})`;\n  }\n\n  let isPadded = hasPadding(min) || hasPadding(max);\n  let state = { min, max, a, b };\n  let positives = [];\n  let negatives = [];\n\n  if (isPadded) {\n    state.isPadded = isPadded;\n    state.maxLen = String(state.max).length;\n  }\n\n  if (a < 0) {\n    let newMin = b < 0 ? Math.abs(b) : 1;\n    negatives = splitToPatterns(newMin, Math.abs(a), state, opts);\n    a = state.a = 0;\n  }\n\n  if (b >= 0) {\n    positives = splitToPatterns(a, b, state, opts);\n  }\n\n  state.negatives = negatives;\n  state.positives = positives;\n  state.result = collatePatterns(negatives, positives, opts);\n\n  if (opts.capture === true) {\n    state.result = `(${state.result})`;\n  } else if (opts.wrap !== false && (positives.length + negatives.length) > 1) {\n    state.result = `(?:${state.result})`;\n  }\n\n  toRegexRange.cache[cacheKey] = state;\n  return state.result;\n};\n\nfunction collatePatterns(neg, pos, options) {\n  let onlyNegative = filterPatterns(neg, pos, '-', false, options) || [];\n  let onlyPositive = filterPatterns(pos, neg, '', false, options) || [];\n  let intersected = filterPatterns(neg, pos, '-?', true, options) || [];\n  let subpatterns = onlyNegative.concat(intersected).concat(onlyPositive);\n  return subpatterns.join('|');\n}\n\nfunction splitToRanges(min, max) {\n  let nines = 1;\n  let zeros = 1;\n\n  let stop = countNines(min, nines);\n  let stops = new Set([max]);\n\n  while (min <= stop && stop <= max) {\n    stops.add(stop);\n    nines += 1;\n    stop = countNines(min, nines);\n  }\n\n  stop = countZeros(max + 1, zeros) - 1;\n\n  while (min < stop && stop <= max) {\n    stops.add(stop);\n    zeros += 1;\n    stop = countZeros(max + 1, zeros) - 1;\n  }\n\n  stops = [...stops];\n  stops.sort(compare);\n  return stops;\n}\n\n/**\n * Convert a range to a regex pattern\n * @param {Number} `start`\n * @param {Number} `stop`\n * @return {String}\n */\n\nfunction rangeToPattern(start, stop, options) {\n  if (start === stop) {\n    return { pattern: start, count: [], digits: 0 };\n  }\n\n  let zipped = zip(start, stop);\n  let digits = zipped.length;\n  let pattern = '';\n  let count = 0;\n\n  for (let i = 0; i < digits; i++) {\n    let [startDigit, stopDigit] = zipped[i];\n\n    if (startDigit === stopDigit) {\n      pattern += startDigit;\n\n    } else if (startDigit !== '0' || stopDigit !== '9') {\n      pattern += toCharacterClass(startDigit, stopDigit, options);\n\n    } else {\n      count++;\n    }\n  }\n\n  if (count) {\n    pattern += options.shorthand === true ? '\\\\d' : '[0-9]';\n  }\n\n  return { pattern, count: [count], digits };\n}\n\nfunction splitToPatterns(min, max, tok, options) {\n  let ranges = splitToRanges(min, max);\n  let tokens = [];\n  let start = min;\n  let prev;\n\n  for (let i = 0; i < ranges.length; i++) {\n    let max = ranges[i];\n    let obj = rangeToPattern(String(start), String(max), options);\n    let zeros = '';\n\n    if (!tok.isPadded && prev && prev.pattern === obj.pattern) {\n      if (prev.count.length > 1) {\n        prev.count.pop();\n      }\n\n      prev.count.push(obj.count[0]);\n      prev.string = prev.pattern + toQuantifier(prev.count);\n      start = max + 1;\n      continue;\n    }\n\n    if (tok.isPadded) {\n      zeros = padZeros(max, tok, options);\n    }\n\n    obj.string = zeros + obj.pattern + toQuantifier(obj.count);\n    tokens.push(obj);\n    start = max + 1;\n    prev = obj;\n  }\n\n  return tokens;\n}\n\nfunction filterPatterns(arr, comparison, prefix, intersection, options) {\n  let result = [];\n\n  for (let ele of arr) {\n    let { string } = ele;\n\n    // only push if _both_ are negative...\n    if (!intersection && !contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n\n    // or _both_ are positive\n    if (intersection && contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n  }\n  return result;\n}\n\n/**\n * Zip strings\n */\n\nfunction zip(a, b) {\n  let arr = [];\n  for (let i = 0; i < a.length; i++) arr.push([a[i], b[i]]);\n  return arr;\n}\n\nfunction compare(a, b) {\n  return a > b ? 1 : b > a ? -1 : 0;\n}\n\nfunction contains(arr, key, val) {\n  return arr.some(ele => ele[key] === val);\n}\n\nfunction countNines(min, len) {\n  return Number(String(min).slice(0, -len) + '9'.repeat(len));\n}\n\nfunction countZeros(integer, zeros) {\n  return integer - (integer % Math.pow(10, zeros));\n}\n\nfunction toQuantifier(digits) {\n  let [start = 0, stop = ''] = digits;\n  if (stop || start > 1) {\n    return `{${start + (stop ? ',' + stop : '')}}`;\n  }\n  return '';\n}\n\nfunction toCharacterClass(a, b, options) {\n  return `[${a}${(b - a === 1) ? '' : '-'}${b}]`;\n}\n\nfunction hasPadding(str) {\n  return /^-?(0+)\\d/.test(str);\n}\n\nfunction padZeros(value, tok, options) {\n  if (!tok.isPadded) {\n    return value;\n  }\n\n  let diff = Math.abs(tok.maxLen - String(value).length);\n  let relax = options.relaxZeros !== false;\n\n  switch (diff) {\n    case 0:\n      return '';\n    case 1:\n      return relax ? '0?' : '0';\n    case 2:\n      return relax ? '0{0,2}' : '00';\n    default: {\n      return relax ? `0{0,${diff}}` : `0{${diff}}`;\n    }\n  }\n}\n\n/**\n * Cache\n */\n\ntoRegexRange.cache = {};\ntoRegexRange.clearCache = () => (toRegexRange.cache = {});\n\n/**\n * Expose `toRegexRange`\n */\n\nmodule.exports = toRegexRange;\n","import {readFile} from 'fs/promises';\nimport {posix} from 'path';\nimport {homedir} from 'os';\nimport {GlobbyOptions, default as globby} from 'globby';\n\nexport const AI_EXCLUDE_FILENAME = '.aiexclude';\nexport const IGNORE_ALL_PATTERN = '**';\nexport const ALWAYS_IGNORE = [\n  // TODO: better way to list known-binary extensions or mimetypes\n  // although the mime-types package flags .ts files as video/*\n  '**/*.jpg',\n  '**/*.png',\n  '**/*.pdf',\n  '**/*.gif',\n  '**/*.ico',\n  '**/*.mp3',\n  '**/*.m4a',\n  '**/*.mp4',\n  '**/*.mov',\n  '**/*.wav',\n  '**/*.ttf',\n  '**/*.eot',\n  '**/*.woff',\n  '**/*.woff2',\n  '**/*.svg',\n  '**/node_modules/**',\n  '.git/**',\n  '**/.gitignore',\n  '**/package-lock.json',\n  '**/yarn.lock',\n];\n\n/**\n * Parse and transform patterns from .aiexclude files, check excluded files.\n *\n * .aiexclude follows the same syntax as a .gitignore file with the following differences:\n *\n *  - Unlike an empty .gitignore file, an empty .aiexclude file blocks all files in its directory and\n * all sub-directories, recursively. This is the same as if the file contained just * or **.\n *\n *  - .aiexclude files don't support negation (prefixing patterns with !).\n *\n * @see https://developer.android.com/studio/preview/studio-bot/data-and-privacy#aiexclude\n * @see https://git-scm.com/docs/gitignore#_pattern_format\n */\nexport class AiExclude {\n  private readonly contentRoot: string;\n  private readonly globbyOptions: GlobbyOptions;\n\n  constructor(contentRoot?: string) {\n    this.contentRoot = contentRoot || homedir();\n\n    this.globbyOptions = {\n      cwd: this.contentRoot,\n      ignore: ALWAYS_IGNORE,\n      onlyFiles: true,\n      gitignore: true,\n      followSymbolicLinks: false,\n      absolute: true,\n    };\n  }\n\n  async getPatternsToExclude(globbyOptions: GlobbyOptions = this.globbyOptions): Promise<string[]> {\n    const aiExcludeFiles = await this.searchAiExcludeFiles(globbyOptions);\n\n    const aiExcludeFilesMap = new Map<string, string>();\n\n    await Promise.all(\n      aiExcludeFiles.map(file =>\n        readFile(file, 'utf-8').then(contents => aiExcludeFilesMap.set(file, contents))\n      )\n    );\n\n    const allPatterns: string[] = (\n      await Promise.all(\n        Array.from(aiExcludeFilesMap.entries()).map(([file, contents]) => {\n          // nothing to ignore\n          if (contents === undefined) return [];\n\n          // unlike gitignore, .aiexclude explicitly treats empty files as ignoring the entire\n          // contents of its containing directory\n          if (contents.trim() === '') {\n            return this.getCleanPattern(IGNORE_ALL_PATTERN, file, globbyOptions);\n          }\n\n          return this.getPatternsFromFileContent(file, contents, globbyOptions);\n        })\n      )\n    ).flat();\n\n    return Array.from(new Set(allPatterns));\n  }\n\n  /**\n   * Whether a file is excluded by .aiexclude files.\n   *\n   * TODO: cache the patterns either here or where it's called. Currently every call requires\n   * searching every .aiexclude file and parse their patterns to find whether a file is excluded.\n   */\n  async expensiveIsFileExcluded(\n    filename: string,\n    ignore?: string[],\n    options?: GlobbyOptions\n  ): Promise<boolean> {\n    if (!ignore) ignore = await this.getPatternsToExclude();\n\n    const files = await globby(filename, {...this.globbyOptions, ...options, ignore});\n\n    return files.length === 0;\n  }\n\n  private async searchAiExcludeFiles(\n    globbyOptions: GlobbyOptions = this.globbyOptions\n  ): Promise<string[]> {\n    return globby(`**/${AI_EXCLUDE_FILENAME}`, {\n      ...this.globbyOptions,\n      ...globbyOptions,\n      absolute: true, // must use absolute path\n    });\n  }\n\n  private async getPatternsFromFileContent(\n    excludeFilePath: string,\n    content: string,\n    globbyOptions: GlobbyOptions\n  ): Promise<string[]> {\n    const cleanPatterns = content\n      .split('\\n')\n      .filter(pattern => {\n        pattern = pattern.trim();\n        // ignore comments and empty\n        return !pattern.startsWith('#') && pattern.length;\n      })\n      .map(pattern => this.getCleanPattern(pattern, excludeFilePath, globbyOptions));\n\n    return cleanPatterns;\n  }\n\n  private getCleanPattern(\n    pattern: string,\n    excludeFilePath: string,\n    globbyOptions: GlobbyOptions = this.globbyOptions\n  ): string {\n    pattern = pattern.trim();\n\n    // ignore anything after whitespace: https://git-scm.com/docs/gitignore#_pattern_format\n    if (pattern.includes(' ')) {\n      pattern = pattern.split(' ')[0];\n    }\n\n    // Unlike an empty .gitignore file, an empty .aiexclude file blocks all files in its directory and\n    // all sub-directories, recursively. This is the same as if the file contained just * or **.\n    if (pattern === '*') {\n      pattern = IGNORE_ALL_PATTERN;\n    }\n    /**\n     * Each condition below handles transformations needed to make the pattern work with the\n     * glob library. Each condition and example is taken from the Android Studio documentation.\n     * https://developer.android.com/studio/preview/studio-bot/data-and-privacy#aiexclude\n     */\n\n    // - KEYS blocks all files with the name \"KEYS\" with no file extension at or below the\n    // .aiexclude directory.\n    // - KEYS.* blocks all files called \"KEYS\" with any file extension at or below the\n    // .aiexclude directory.\n    // - *.kt blocks all Kotlin files at or below the .aiexclude directory.\n    else if (!pattern.includes('/') && pattern !== IGNORE_ALL_PATTERN) {\n      pattern = `./**/${pattern}`;\n    } else {\n      // /*.kt blocks all Kotlin files in the.aiexclude directory, but not below.\n      if (pattern.startsWith('/')) {\n        // add current directory to beginning of pattern to make it relative to the current directory\n        pattern = `./${pattern.slice(1)}`;\n      }\n\n      // my/sensitive/dir/ blocks all files in the my/sensitive/dir directory and below,\n      // relative to the .aiexclude directory.\n      if (pattern.endsWith('/')) {\n        pattern = `${pattern}**/*`;\n      }\n    }\n\n    // These cases are already handled by the glob library:\n    // - my/sensitive/dir/**/*.txt blocks all .txt files in or under my/sensitive/dir.\n    // - my/sensitive/dir/*.txt blocks all .txt files in my/sensitive/dir, but not in sub-directories.\n\n    // pattern with absolute path\n    if (globbyOptions.absolute) return posix.join(posix.dirname(excludeFilePath), pattern);\n\n    // pattern with relative path\n    return posix.join(posix.dirname(excludeFilePath.replace(`${this.contentRoot}/`, '')), pattern);\n  }\n}\n","import {Listener, Message, MessageListeners} from './types';\n\nexport const isUndefined = (val: any | undefined): val is undefined => val === undefined;\n\nconst isObject = (val: any): boolean => typeof val === 'object' && val !== null;\n\nexport abstract class Broker {\n  protected readonly listeners: MessageListeners = {};\n\n  abstract sendMessage(message: string, data: any[]): void;\n  registerReceiver(receiver: any): void {}\n\n  addListener(message: string, cb: Listener): void {\n    if (!this.listeners[message]) {\n      this.listeners[message] = {listeners: []};\n    }\n    this.listeners[message].listeners.push(cb);\n  }\n\n  executeListeners(data: any | Message) {\n    if (isUndefined(data) || !isObject(data) || !data.message) {\n      return;\n    }\n\n    const d = data as Message;\n\n    if (isUndefined(this.listeners[d.message])) {\n      return;\n    }\n\n    this.listeners[d.message].listeners.forEach(cb => (isUndefined(d.data) ? cb() : cb(...d.data)));\n  }\n}\n\ntype ListenersMap<U> = {\n  [K in keyof U]: Listener;\n};\n\nexport interface BrokerImpl<\n  OutgoingMessages extends ListenersMap<OutgoingMessages>,\n  IncomingMessages extends ListenersMap<IncomingMessages>,\n  Receiver\n> {\n  send<E extends keyof OutgoingMessages>(\n    message: Extract<E, string>,\n    ...args: Parameters<OutgoingMessages[E]>\n  ): void;\n  registerReceiver(receiver: Receiver): void;\n  on<E extends keyof IncomingMessages>(\n    message: Extract<E, string>,\n    listener: IncomingMessages[E]\n  ): void;\n}\n\nexport function createBroker<\n  OutgoingMessages extends ListenersMap<OutgoingMessages>,\n  IncomingMessages extends ListenersMap<IncomingMessages>,\n  Receiver\n>(broker: Broker): BrokerImpl<OutgoingMessages, IncomingMessages, Receiver> {\n  return {\n    send<E extends keyof OutgoingMessages>(\n      message: Extract<E, string>,\n      ...args: Parameters<OutgoingMessages[E]>\n    ): void {\n      broker.sendMessage(message, args);\n    },\n    registerReceiver(receiver: Receiver): void {\n      broker.registerReceiver(receiver);\n    },\n    on<E extends keyof IncomingMessages>(\n      message: Extract<E, string>,\n      listener: IncomingMessages[E]\n    ): void {\n      broker.addListener(message, listener);\n    },\n  };\n}\n","import * as protocol from './aichat-protocol';\n\nexport class FunctionState {\n  constructor(\n    public thread: protocol.FunctionThreadState,\n    public functionFrame: protocol.FunctionFrame\n  ) {}\n\n  static genericFromLastFrame<T extends FunctionState>(\n    type: {new (thread: protocol.FunctionThreadState, state: protocol.FunctionFrame): T},\n    thread: protocol.FunctionThreadState | undefined\n  ): T | undefined {\n    if (thread) {\n      const lastState = thread.frames[thread.frames.length - 1];\n      return new type(thread, lastState);\n    } else {\n      return undefined;\n    }\n  }\n\n  static fromLastFrame(\n    thread: protocol.FunctionThreadState | undefined\n  ): FunctionState | undefined {\n    return this.genericFromLastFrame<FunctionState>(FunctionState, thread);\n  }\n\n  static fromLastFrameRequiringPermissionOrElseLastFrame(\n    thread: protocol.FunctionThreadState | undefined\n  ): FunctionState | undefined {\n    let lastFrameWhichRequiresPermission: protocol.FunctionFrame | undefined;\n    const framesWhichRequirePermission = thread?.framesWhichRequirePermission;\n    if (framesWhichRequirePermission) {\n      lastFrameWhichRequiresPermission =\n        framesWhichRequirePermission[framesWhichRequirePermission.length - 1];\n    }\n    if (lastFrameWhichRequiresPermission) {\n      return new FunctionState(thread!, lastFrameWhichRequiresPermission);\n    } else {\n      return this.genericFromLastFrame<FunctionState>(FunctionState, thread);\n    }\n  }\n\n  fromFrame(frame: protocol.FunctionFrame): FunctionState {\n    return new FunctionState(this.thread, frame);\n  }\n\n  get call(): protocol.FunctionCall {\n    return this.functionFrame.call;\n  }\n\n  get metadata() {\n    return this.functionFrame.metadata || {};\n  }\n\n  get name(): protocol.FunctionName {\n    return this.call.name;\n  }\n\n  get args(): protocol.FunctionCallArgs {\n    return this.call.args;\n  }\n\n  get state(): protocol.FunctionFrameEnum {\n    return this.functionFrame.state;\n  }\n\n  get functionResult(): protocol.FunctionResult | undefined {\n    return this.functionFrame.result;\n  }\n\n  get result(): string | undefined {\n    return this.functionResult?.result;\n  }\n\n  get status(): protocol.FunctionStatusEnum | undefined {\n    return this.functionResult?.status;\n  }\n\n  get followup(): string | undefined {\n    return this.thread.followup;\n  }\n\n  get followupOnlyIfShowing(): string | undefined {\n    return this.showFollowup ? this.followup : undefined;\n  }\n\n  get readFiles(): string[] | undefined {\n    return this.thread.readFiles;\n  }\n\n  get readUrls(): string[] | undefined {\n    return this.thread.readUrls;\n  }\n\n  get requiresPermission(): boolean {\n    return this.functionFrame.requiresPermission;\n  }\n\n  get anyRequiresPermission(): boolean {\n    return this.thread.framesWhichRequirePermission !== undefined;\n  }\n\n  get hasReadFiles(): boolean {\n    return this.readFiles !== undefined;\n  }\n\n  get hasReadUrls(): boolean {\n    return this.readUrls !== undefined;\n  }\n\n  get hasSources(): boolean {\n    return this.hasReadFiles || this.hasReadUrls;\n  }\n\n  get framesRequiringPermission(): protocol.FunctionFrame[] | undefined {\n    return this.thread.framesWhichRequirePermission;\n  }\n\n  get showFollowup(): boolean | undefined {\n    return this.functionFrame.showFollowup;\n  }\n}\n","import {\n  Content,\n  FunctionCall,\n  FunctionCallArgs,\n  FunctionName,\n  FunctionResult,\n  FunctionStatusEnum,\n} from '../../../../src/agentive/api';\nimport {FeedbackFormState} from '../../../../src/aichat-feedback';\nexport {FunctionCall, FunctionCallArgs, FunctionName, FunctionResult, FunctionStatusEnum};\n\nexport interface AiChatWebviewToExtension {\n  newPrompt(prompt: string): void;\n  newPromptAtPosition(prompt: string, position: number): void;\n  stopGenerating(): void;\n  getChatHistory(): void;\n  clearChatHistory(): void;\n  getChatStatus(): void;\n  getSuggestedPrompt(): void;\n  getTheme(): void;\n  insertCode(code: string, citations: Citation[]): void;\n  onCopyCode(code: string): void;\n  thumbsUp(position: number): void;\n  thumbsDown(position: number): void;\n  thumbsUpDetail(data: FeedbackFormState): void;\n  thumbsDownDetail(data: FeedbackFormState): void;\n  navigateToFile(ref: string): void;\n  openAiLink(href: string): void;\n  setAIOnboardingCompleted(): void;\n  setInlineCompletionSetting(value: boolean): void;\n  setRetrievalSetting(value: boolean): void;\n  getOnboardingStatus(): void;\n  getPrivacyNoticeStatus(): void;\n  acceptAiPrivacyNotice(): void;\n  getAvailabilityInCountry(): void;\n  openSettings(): void;\n  openLicenseLog(): void;\n  getSlashCommands(): void;\n\n  openNewThread(actionsInChatAreEnabled?: boolean): void;\n  getChatThreadSummaries(): void;\n  openExistingThread(id: string): void;\n  performFunctionThreadAction(action: FunctionAction): void;\n  getActionsInChatAreEnabled(): void;\n  getActionsInChatAreDefault(): void;\n}\n\nexport enum ChatStatus {\n  Ready,\n  PreparingResponse,\n}\n\nexport interface Citation {\n  startIndex: number;\n  endIndex: number;\n  repository: string;\n  license: string;\n  uri?: string;\n}\n\nexport type FunctionAction = 'allow' | 'open_diff_view';\n\nexport type FunctionFrameEnum = 'requested' | 'rejected' | 'executing' | 'completed';\n\nexport interface FunctionFrame {\n  call: FunctionCall;\n  metadata?: Record<string, any>;\n  state: FunctionFrameEnum;\n  result?: FunctionResult;\n  requiresPermission: boolean;\n  showFollowup?: boolean;\n}\n\nexport interface FunctionThreadState {\n  frames: FunctionFrame[];\n  readFiles?: string[];\n  readUrls?: string[];\n  followup?: string;\n  framesWhichRequirePermission?: FunctionFrame[];\n}\n\nexport interface UserInfo {\n  displayName?: string;\n  photoUrl?: string;\n}\n\nexport interface ChatMessage {\n  speaker: 'user' | 'ai';\n  /**\n   * For speaker = user, details about the user.\n   */\n  userInfo?: UserInfo;\n  /**\n   * The message body to send to the AI, or coming back from the AI\n   */\n  body?: string;\n  /**\n   * Alternate responses coming back from the AI\n   */\n  bodyAlternates?: string[];\n  /**\n   * The body to show to the user, if different from the body to send to the AI\n   */\n  displayBody?: string;\n  /**\n   * Any extra debug info\n   */\n  debugInfo?: string;\n  /**\n   * Which, if any, repo links are referenced in the body. This is used to render links\n   * to the repo.\n   */\n  fileReferences?: string[];\n\n  /**\n   * AIDA RPC ID. In the event that this turn contains multiple model responses, then this will be\n   * the last one. This is largely a UI constraint.\n   * TODO(joshualitt): Do we want to consider a UI that let's a user thumbs up / down specific\n   * submessages?\n   */\n  rpcGlobalId?: string;\n\n  /**\n   * Populated if prompt was generated with slashCommand.\n   */\n  slashCommand?: string;\n\n  /**\n   * Functions\n   */\n  functionThreadState?: FunctionThreadState;\n\n  /**\n   * Was RAG used to generate this message\n   */\n  usedRag?: boolean;\n}\n\nexport type UserChatHistory = ChatMessage[];\n\nexport interface ChatThreadSummary {\n  id: string;\n  uuid: string;\n  title: string;\n  areActionsEnabled: boolean;\n  lastEditTimestamp: number;\n}\n\nexport interface ChatThread extends ChatThreadSummary {\n  history: UserChatHistory;\n  internalHistory: Content[];\n  suggestedNextPrompt: string;\n}\n\nexport interface SlashCommand {\n  command: string;\n  description: string;\n}\n\nexport interface ThreadDebugInfo {\n  internalHistory: Content[];\n}\n\nexport interface AiChatExtensionToWebview {\n  setAvailabilityFalse(): void;\n  notifyActionsInChatAreEnabled(areEnabled: boolean): void;\n  notifyActionsInChatAreDefault(areDefault: boolean): void;\n  notifyOnboardingStatus(completed: boolean): void;\n  notifyPrivacyNoticeStatus(accepted: boolean): void;\n  notifyChatStatus(status: ChatStatus): void;\n  notifyChatHistory(chatHistory: UserChatHistory): void;\n  notifySuggestedPrompt(suggestedPrompt: string): void;\n  notifyChatDebugInfo(debugInfo: ThreadDebugInfo): void;\n  notifyAddedChatMessage(chatMessage: ChatMessage): void;\n  notifyChatThreadSummaries(threads: ChatThreadSummary[]): void;\n  notifyCurrentThread(id: string): void;\n  notifyTheme(themeObj: any, editorFontFamily: string): void;\n  focusPrompt(): void;\n  setSlashCommands(slashCommands: SlashCommand[]): void;\n  currentFileIsExcluded(isExcluded: boolean): void;\n}\n\nexport const newThreadID = '#newThreadID';\nexport const newThreadWithActionsID = '#newThreadWithActionsID';\n","import {ChatHistory} from '../chat-history';\nimport * as api from './api';\nimport {LLM} from './engines/llm';\nimport {FunctionManager} from './function-manager';\nimport {logRetry, logRetryFailed} from '../telemetry';\nimport {FileLogger} from '../logger';\nimport {IdxAgentSettings} from './idx-agent-settings';\nimport {FunctionState} from './functions/external-function';\nimport {randomInt, sleep} from '../util';\nimport {AidaCredentials} from './conversational-agent';\n\n// Generated by Gemini.\n// TODO(joshualitt): Having hardcoded English strings in source files is not ideal.\nconst retryErrorStrings = [\n  \"Could you elaborate on that a bit more? I'm not sure I understood.\",\n  \"I didn't quite understand that. Could you try rephrasing that?\",\n  'Could you try rephrasing that with a bit more detail?',\n  \"Sorry, I'm not sure I follow. Could you try rephrasing that?\",\n];\n\nconst abortedErrorString = 'aborted';\nconst unknownErrorString = 'IDX AI received an error, please try again later.';\n\nexport class ApiCallHelper {\n  candidateRetries: number;\n  initialCandidateRetries: number;\n  originalUserPreamble!: string;\n  originalAgentPreamble!: string;\n  originalLastUserMessage!: string;\n  failedResponses: api.GenerateContentResponse[] = [];\n\n  constructor(\n    public idxAgentSettings: IdxAgentSettings,\n    private readonly disableContentLogging: boolean,\n    public fileLogger: FileLogger | undefined,\n    public functionManager: FunctionManager,\n    public llm: LLM,\n    public systemInstruction: string | undefined,\n    public facts: api.Fact[] | undefined,\n    public history: ChatHistory,\n    public functionState: FunctionState | undefined,\n    public lastKnownGoodPoint: number,\n    public aidaCredentials: AidaCredentials | undefined,\n    public handleValidResponse: (\n      functionState: FunctionState | undefined,\n      response: api.GenerateContentResponse,\n      isChunk: boolean\n    ) => Promise<void>,\n    public notifyChatHistory: () => void,\n    public allowLastFunctionCall: (functionState: FunctionState) => Promise<void>,\n    public abortSignal?: AbortSignal\n  ) {\n    this.candidateRetries = this.initialCandidateRetries = this.idxAgentSettings.candidateRetries;\n    // For AIDA we put corrections on the most recent user message.\n    if (this.idxAgentSettings.urlIsAida) {\n      this.originalLastUserMessage = this.history.internal[lastKnownGoodPoint].parts[0].text!;\n    } else {\n      this.originalUserPreamble = this.history.internal[0].parts[0].text!;\n      this.originalAgentPreamble = this.history.internal[1].parts[0].text!;\n    }\n  }\n\n  validateResponse(response: api.GenerateContentResponse | undefined): api.ValidationResult {\n    if (response === undefined) {\n      return api.validationFailure('Ensure a response is generated.');\n    }\n\n    const candidates = response.candidates;\n    if (candidates === undefined || candidates.length === 0) {\n      return api.validationFailure('Ensure candidates are generated.');\n    }\n\n    if (!this.idxAgentSettings.urlIsAida && candidates.length > 1) {\n      return api.validationFailure('Ensure only text or a function call but not both.');\n    }\n\n    const message = response.candidates[0].content;\n    if (message === undefined) {\n      return api.validationFailure('Ensure content is generated.');\n    }\n\n    if (message.parts === undefined || message.parts[0] === undefined) {\n      return api.validationFailure('Ensure parts are generated.');\n    }\n\n    const externalPart = message.parts[0];\n    const functionCall = externalPart?.functionCall;\n    if (functionCall) {\n      return this.functionManager.validateFunctionCall(functionCall);\n    } else if (externalPart.text) {\n      return api.validationSuccess();\n    } else {\n      return api.validationFailure('Ensure one of either a function call or text is generated.');\n    }\n  }\n\n  restoreHistoryIfNecessary() {\n    if (this.candidateRetries < this.initialCandidateRetries) {\n      if (this.idxAgentSettings.urlIsAida) {\n        this.history.internal[this.lastKnownGoodPoint].parts[0].text = this.originalLastUserMessage;\n      } else {\n        this.history.internal[0].parts[0].text = this.originalUserPreamble;\n        this.history.internal[1].parts[0].text = this.originalAgentPreamble;\n      }\n    }\n  }\n\n  async handleRetryFailure(errorMessage: string, rpcGlobalId: string | undefined) {\n    this.restoreHistoryIfNecessary();\n    logRetryFailed(rpcGlobalId);\n\n    // If we haven't yet responded to the user at all, insert a message with a generic error\n    // message. If we've already started a function thread, then simply add a follow on with the\n    // failure. Otherwise, set the text of the message to the error message.\n    //\n    // For now, we keep the error message generic because it is unlikely it will be helpful to\n    // users. We can always revisit this if we think there is value in surfacing specific error\n    // codes.\n    const lastUserMessage = this.history.lastUserMessage!;\n    if (lastUserMessage.speaker === 'user') {\n      this.history.pushUserMessage({\n        speaker: 'ai',\n        body: errorMessage,\n      });\n    } else if (lastUserMessage.functionThreadState) {\n      lastUserMessage.functionThreadState.followup = errorMessage;\n    } else {\n      lastUserMessage.body = errorMessage;\n    }\n\n    // Putting errors into the internal history can pattern the model, and it\n    // will start returning error messages on its own. Instead, we reset the\n    // internal history to the last known good point in the conversation.\n    this.history.internal.length = this.lastKnownGoodPoint;\n    this.notifyChatHistory();\n  }\n\n  handleStreamFailure() {\n    const lastUserMessage = this.history.lastUserMessage;\n    if (lastUserMessage?.speaker === 'ai') {\n      this.history.popBack();\n      this.notifyChatHistory();\n    }\n  }\n\n  handleRetry(\n    request: api.GenerateContentRequest,\n    response: api.GenerateContentResponse | undefined,\n    isChunk: boolean,\n    corrections: string[]\n  ) {\n    if (isChunk) {\n      this.handleStreamFailure();\n    }\n    this.fileLogger?.warn('Request with error:\\n', request);\n    this.fileLogger?.warn('Response with error:\\n', response);\n    logRetry(response?.responseMetadata?.rpcGlobalId);\n    this.failedResponses.push(response!);\n\n    // Update the preamble with corrections.\n    if (this.idxAgentSettings.urlIsAida) {\n      const currentLastUserMessage = this.history.internal[this.lastKnownGoodPoint].parts[0].text;\n      const newLastUserMessage = `${currentLastUserMessage} ${corrections.join(' ')}`;\n      this.history.internal[this.lastKnownGoodPoint].parts[0].text = newLastUserMessage;\n    } else {\n      const currentUserPreamble = this.history.internal[0].parts[0].text;\n      const currentAgentPreamble = this.history.internal[1].parts[0].text;\n      const newUserPreamble = `${currentUserPreamble} ${corrections.join(' ')}`;\n      const newAgentPreamble = `${currentAgentPreamble} ${corrections.join(' ')}`;\n      this.history.internal[0].parts[0].text = newUserPreamble;\n      this.history.internal[1].parts[0].text = newAgentPreamble;\n    }\n  }\n\n  async handleResponse(\n    request: api.GenerateContentRequest,\n    response: api.GenerateContentResponse | undefined,\n    isChunk: boolean\n  ): Promise<boolean> {\n    const result = this.validateResponse(response);\n    const succeeded = result.status === api.ValidationResultStatus.Success;\n    if (succeeded) {\n      this.restoreHistoryIfNecessary();\n      await this.handleValidResponse(this.functionState, response!, isChunk);\n    } else if (this.candidateRetries === 0) {\n      this.fileLogger?.error('Request with failure:\\n', request);\n      this.fileLogger?.error('Response with failure:\\n', response);\n      this.handleRetryFailure(\n        retryErrorStrings[randomInt(retryErrorStrings.length - 1)],\n        response?.responseMetadata?.rpcGlobalId\n      );\n    } else {\n      this.handleRetry(\n        request,\n        response,\n        isChunk,\n        (result as api.ValidationResultFailure).corrections\n      );\n    }\n    return succeeded;\n  }\n\n  getGenerationConfig(): api.GenerationConfig {\n    const n = this.initialCandidateRetries;\n    const x = this.initialCandidateRetries - this.candidateRetries;\n    const t = x / n;\n    const temperature = lerp(\n      t,\n      this.idxAgentSettings.llmMinTemperature,\n      this.idxAgentSettings.llmMaxTemperature\n    );\n    const topK = Math.floor(\n      lerp(t, this.idxAgentSettings.llmMinTopK, this.idxAgentSettings.llmMaxTopK)\n    );\n    const topP = lerp(t, this.idxAgentSettings.llmMinTopP, this.idxAgentSettings.llmMaxTopP);\n    const candidateCount = this.idxAgentSettings.candidateCount;\n    return {candidateCount, temperature, topK, topP};\n  }\n\n  async call(): Promise<boolean> {\n    const request: api.GenerateContentRequest = {\n      generationConfig: this.llm.getGenerationConfig(this.getGenerationConfig()),\n      contents: this.history.internal,\n      tools: this.history.allowTools\n        ? [{functionDeclarations: this.functionManager.toolDefinitions}]\n        : [],\n    };\n\n    if (this.idxAgentSettings.urlIsAida) {\n      if (this.aidaCredentials !== undefined && this.idxAgentSettings.urlNeedsProjectId) {\n        request.requestMetadata = {\n          projectId: this.aidaCredentials.projectId!,\n          disableContentLogging: this.disableContentLogging,\n        };\n      }\n      request.systemInstruction = {parts: [{text: this.systemInstruction}], role: 'system'};\n      if (this.facts && this.facts.length > 0) {\n        request.facts = this.facts;\n      }\n    }\n\n    this.fileLogger?.info('Request:\\n', request);\n    if (this.idxAgentSettings.useStreaming) {\n      const streamingResponse = await this.llm.streamGenerateContent(request, this.abortSignal);\n      const streamingResponseReader = streamingResponse.getReader();\n      while (true) {\n        const {done, value} = await streamingResponseReader.read();\n        if (done) {\n          return true;\n        } else {\n          this.fileLogger?.info('Response chunk:\\n', value);\n          if (!(await this.handleResponse(request, value, true))) {\n            return false;\n          }\n        }\n      }\n    } else {\n      const response = await this.llm.generateContent(\n        request,\n        this.aidaCredentials?.token,\n        this.abortSignal\n      );\n      this.fileLogger?.info('Response:\\n', response);\n      if (!(await this.handleResponse(request, response, false))) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  async callLoop() {\n    // Loop until:\n    //   1) The model returns a function call that requires permission, or is the replyToUser tool.\n    //   2) The model returns a textual response.\n    // Note: Currently, it's possible this could go into an infinite loop. However, until we see\n    //       this behavior in the wild, we'd like to keep this logic simple.\n    let allowLastFunctionCall: boolean;\n    do {\n      // Retry in a loop until we get a response from the model that passes validation or run out\n      // of retries, in which case we just give up.\n      this.candidateRetries = this.initialCandidateRetries;\n      while (this.candidateRetries >= 0) {\n        if (await this.call()) {\n          break;\n        } else if (this.candidateRetries === 0) {\n          return;\n        }\n        this.candidateRetries--;\n        // Sleep for a brief moment to avoid throttling.\n        await sleep(50);\n      }\n      this.functionState = this.history.lastFunctionState;\n      allowLastFunctionCall =\n        this.functionState?.requiresPermission === false && this.functionState.stateIs('requested');\n      if (allowLastFunctionCall) {\n        await this.allowLastFunctionCall(this.functionState!);\n      }\n    } while (allowLastFunctionCall);\n  }\n\n  async wrappedCallLoop() {\n    // Wrap the retry loop in an exception handler. The inner loop itself will any errors actually\n    // received from the server, so this try / catch is just for otherwise unhandled exceptions,\n    // i.e. a problem connecting to the server. We don't currently retry these. We could by adding\n    // exponential backoff logic, which would help resolve intermittent connection issues, but\n    // because this logic could result in long wait times for the user, we'd need to update the UI\n    // to reflect this additional error state.\n    try {\n      await this.callLoop();\n    } catch (err: any) {\n      let errorString: string;\n      if (this.abortSignal?.aborted) {\n        errorString = abortedErrorString;\n      } else {\n        errorString = unknownErrorString;\n        console.error(err);\n      }\n      this.handleRetryFailure(errorString, undefined);\n    }\n  }\n}\n\nfunction lerp(t: number, min: number, max: number) {\n  return (1 - t) * min + t * max;\n}\n","export interface BaseSchema {\n  type: 'number' | 'integer' | 'string' | 'boolean' | 'array' | 'object';\n  description?: string;\n  nullable?: boolean;\n}\n\nexport interface NumberSchema extends BaseSchema {\n  type: 'number';\n  format?: 'float' | 'double';\n}\n\nexport interface IntegerSchema extends BaseSchema {\n  type: 'integer';\n  format?: 'int32' | 'int64';\n}\n\nexport interface StringSchema extends BaseSchema {\n  type: 'string';\n}\n\nexport interface EnumSchema extends BaseSchema {\n  type: 'string';\n  format: 'enum';\n  enum: string[];\n}\n\nexport interface BooleanSchema extends BaseSchema {\n  type: 'boolean';\n}\n\nexport interface ArraySchema extends BaseSchema {\n  type: 'array';\n  items?: ValueSchema;\n}\n\nexport interface ObjectSchema extends BaseSchema {\n  type: 'object';\n  properties?: Record<string, ValueSchema>;\n  required?: readonly string[];\n}\n\nexport type ValueSchema =\n  | NumberSchema\n  | IntegerSchema\n  | StringSchema\n  | EnumSchema\n  | BooleanSchema\n  | ArraySchema\n  | ObjectSchema;\n\nexport type FunctionStatusEnum = 'success' | 'failure' | 'detached';\n\nexport interface FunctionResult {\n  status: FunctionStatusEnum;\n  result: string;\n}\n\nexport type FunctionName =\n  | 'run_terminal_command'\n  | 'write_file'\n  | 'read_file'\n  | 'delete_file'\n  | 'web_search'\n  | 'change_editor_theme'\n  | 'list_project_files';\n\nexport interface FunctionDeclaration {\n  name: FunctionName;\n  description: string;\n  parameters?: ValueSchema;\n}\n\nexport type FunctionCallArgs = {[key: string]: any};\n\nexport interface FunctionCall {\n  name: FunctionName;\n  args: FunctionCallArgs;\n}\n\nexport interface FunctionResponse {\n  name: FunctionName;\n  response: FunctionResult;\n}\n\nexport interface Part {\n  text?: string;\n  functionCall?: FunctionCall;\n  functionResponse?: FunctionResponse;\n  // TODO(joshualitt): This isn't correct and should be removed.\n  usedRag?: boolean;\n}\n\nexport interface Content {\n  role: 'user' | 'model' | 'system';\n  parts: Part[];\n}\n\nexport interface Tool {\n  functionDeclarations: FunctionDeclaration[];\n}\n\nexport interface RequestMetadata {\n  projectId: string;\n  disableContentLogging: boolean;\n}\n\nexport interface Fact {\n  text: string;\n}\n\nexport interface GenerateContentRequest {\n  generationConfig: GenerationConfig;\n  contents: Content[];\n  tools?: Tool[];\n  requestMetadata?: RequestMetadata;\n  systemInstruction?: Content;\n  facts?: Fact[];\n}\n\nexport interface Candidate {\n  content: Content;\n}\n\nexport interface ResponseMetadata {\n  rpcGlobalId: string;\n}\n\nexport interface GenerateContentResponse {\n  candidates: Candidate[];\n  responseMetadata?: ResponseMetadata;\n}\n\nexport interface GenerationConfig {\n  maxOutputTokens?: number;\n  topP?: number;\n  topK?: number;\n  temperature?: number;\n  candidateCount?: number;\n  stopSequences?: string[];\n}\n\n// Strings from the function calling API will have been escaped. Unfortunately,\n// we can't just use JSON.parse, because we appear to be getting \"\\'\" escape\n// characters which are not valid in JSON. For the time being, we handle\n// the common escape characters, but we ignore \"\\xFF\" because:\n//   1) It is fairly unlikely to appear in generated strings.\n//   2) Handling it would require more logic.\n//   3) This is hopefully just a temporary workaround anyways.\nexport function stringWorkaround(input: string): string {\n  let previous = '';\n  let current = input;\n  while (current !== previous) {\n    previous = current;\n    current = current.replace(/\\\\(.)/g, (match, p1) => {\n      switch (p1) {\n        case 'n':\n          return '\\n';\n        case 'r':\n          return '\\r';\n        case 't':\n          return '\\t';\n        case 'b':\n          return '\\b';\n        case 'f':\n          return '\\f';\n        case '\"':\n          return '\"';\n        case \"'\":\n          return \"'\";\n        case '0':\n          return '\\0';\n        case 'v':\n          return '\\v';\n        case '\\\\':\n          return '\\\\';\n        default:\n          console.log(`Unrecognized escape sequence: ${match}`);\n          return match;\n      }\n    });\n  }\n  return current;\n}\n\nexport const debugLogger = (...logs: unknown[]) => {\n  for (const log of logs) {\n    if (log instanceof Error) {\n      console.error('[superchat]', ...logs);\n      return;\n    }\n  }\n\n  console.log('[superchat]', ...logs);\n};\n\nexport enum ValidationResultStatus {\n  Failure,\n  Success,\n}\n\nexport interface ValidationResult {\n  status: ValidationResultStatus;\n}\n\nexport interface ValidationResultFailure extends ValidationResult {\n  corrections: string[];\n}\n\nexport interface ValidationResultSuccess extends ValidationResult {}\n\nexport function validationFailures(corrections: string[]): ValidationResultFailure {\n  return {status: ValidationResultStatus.Failure, corrections: corrections};\n}\n\nexport function validationFailure(correction: string): ValidationResultFailure {\n  return validationFailures([correction]);\n}\n\nexport function validationSuccess(): ValidationResultSuccess {\n  return {status: ValidationResultStatus.Success};\n}\n","import * as api from './api';\n\nfunction content(role: api.Content['role'], part: api.Part): api.Content {\n  return {role, parts: [part]};\n}\n\nexport function userContent(part: api.Part): api.Content {\n  return content('user', part);\n}\n\nexport function modelContent(part: api.Part): api.Content {\n  return content('model', part);\n}\n\nexport function userText(text: string): api.Content {\n  return userContent({text});\n}\n\nexport function modelText(text: string): api.Content {\n  return modelContent({text});\n}\n\nexport function functionCall(name: api.FunctionName, args: api.FunctionCallArgs): api.Content {\n  return modelContent({functionCall: {name, args}});\n}\n\nexport function readFileCall(path: string): api.Content {\n  return functionCall('read_file', {path});\n}\n\nexport function runTerminalCommandCall(command: string): api.Content {\n  return functionCall('run_terminal_command', {command});\n}\n\nexport function writeFileCall(path: string, content: string): api.Content {\n  return functionCall('write_file', {path, content});\n}\n\nexport function listProjectFilesCall(path: string): api.Content {\n  return functionCall('list_project_files', {path});\n}\n\nexport function functionResponseToContent(functionResponse: api.FunctionResponse): api.Content {\n  return userContent({functionResponse});\n}\n\nexport function functionResponse(\n  name: api.FunctionName,\n  response: api.FunctionResult\n): api.Content {\n  return functionResponseToContent({name, response});\n}\n\nexport function readFileResponse(status: api.FunctionStatusEnum, result: string): api.Content {\n  return functionResponse('read_file', {status, result});\n}\n\nexport function runTerminalCommandResponse(\n  status: api.FunctionStatusEnum,\n  result: string\n): api.Content {\n  return functionResponse('run_terminal_command', {status, result});\n}\n\nexport function writeFileResponse(status: api.FunctionStatusEnum, result: string): api.Content {\n  return functionResponse('write_file', {status, result});\n}\n\nexport function listProjectFilesResponse(\n  status: api.FunctionStatusEnum,\n  result: string\n): api.Content {\n  return functionResponse('list_project_files', {status, result});\n}\n\nexport function readFileFailure(result: string): api.Content {\n  return readFileResponse('failure', result);\n}\n\nexport function runTerminalCommandFailure(result: string): api.Content {\n  return runTerminalCommandResponse('failure', result);\n}\n\nexport function writeFileFailure(result: string): api.Content {\n  return writeFileResponse('failure', result);\n}\n\nexport function listProjectFilesFailure(result: string): api.Content {\n  return listProjectFilesResponse('failure', result);\n}\n\nexport function readFileSuccess(result: string): api.Content {\n  return readFileResponse('success', result);\n}\n\nexport function runTerminalCommandSuccess(result: string): api.Content {\n  return runTerminalCommandResponse('success', result);\n}\n\nexport function writeFileSuccess(result: string): api.Content {\n  return writeFileResponse('success', result);\n}\n\nexport function listProjectFilesSuccess(result: string): api.Content {\n  return listProjectFilesResponse('success', result);\n}\n","import {ChatHistory} from '../chat-history';\nimport * as api from './api';\nimport {LLM, LiveLLM} from './engines/llm';\nimport {ExtensionContext} from '../context';\nimport {FunctionManager} from './function-manager';\nimport {ReadFileFunction} from './functions/read-file';\nimport {WriteFileFunction} from './functions/write-file';\nimport {RunTerminalCommandFunction} from './functions/run-terminal-command';\nimport {DeleteFileFunction} from './functions/delete-file';\nimport {WebSearchFunction} from './functions/web-search';\nimport {ListProjectFilesFunction} from './functions/list-project-files';\nimport {ExternalFunction, FunctionState} from './functions/external-function';\nimport {ChatStatus, FunctionAction} from '~common/messaging/modules/aichat/aichat-protocol';\nimport * as protocol from '~common/messaging/modules/aichat/aichat-protocol';\nimport {isRetrievalEnabled, retrieveSnippets} from '../retrieval';\nimport {logActionRejected, logFunctionActionTaken} from '../telemetry';\nimport {ExtensionBrokerImpl} from '../messaging/extension-broker';\nimport {INTERACTIVE_PROMPT, QUESTION_PROMPT} from '../prompt';\nimport {FileLogger, LogLevel} from '../logger';\nimport {PlaybackLLM} from './engines/playback-llm';\nimport {outsideOfIDX} from '../aichat';\nimport {ApiCallHelper} from './api-call-helper';\nimport {IdxAgentSettings} from './idx-agent-settings';\nimport {fileExists, readFile} from '../file-utils';\nimport * as scripts from './scripts';\nimport * as conversation_utils from './conversation-utils';\nimport {TaskManager} from './task-manager';\nimport {Retrieval} from './engines/retrieval';\nimport {getCurrentUserInfo} from '../user-info';\nimport {SystemInterface} from './system-interface';\n\nexport interface AidaCredentials {\n  projectId: string | undefined;\n  token: string | undefined;\n}\n\n// TODO(joshualitt): For now, we default this to `true`, and we read the system\n// instruction from the local disk. However, this seems risky so we should\n// reevaluate this before launch.\nconst useSystemInstructionFile = true; // outsideOfIDX;\n\n// TODO(joshualitt): Rename this to `IdxAgent` and make `ConversationalAgent` abstract.\nexport class ConversationalAgent {\n  llm: LLM;\n  functionManager: FunctionManager;\n  fileLogger: FileLogger;\n  lastKnownGoodPoint: number = 0;\n  systemInstruction: string | undefined;\n  taskManager: TaskManager;\n  retrieval: Retrieval;\n\n  constructor(\n    private readonly isDoNotTrackRegion: boolean,\n    public idxAgentSettings: IdxAgentSettings,\n    public systemInterface: SystemInterface,\n    public broker: ExtensionBrokerImpl,\n    public getAidaCredentials: () => Promise<AidaCredentials | undefined>\n  ) {\n    this.llm = this.idxAgentSettings.usePlaybackLlm\n      ? new PlaybackLLM()\n      : new LiveLLM(this.idxAgentSettings);\n    const teeName = this.idxAgentSettings.fileLogToChannel ? 'actions-in-chat' : undefined;\n    const filePath = outsideOfIDX ? '/tmp/idx/actions.log' : '/home/user/.idx/logs/actions.log';\n    this.fileLogger = new FileLogger(filePath, LogLevel.INFO, teeName);\n    this.taskManager = new TaskManager();\n    this.retrieval = new Retrieval(\n      this.idxAgentSettings.ragSelfAwarenessApiKey,\n      this.idxAgentSettings.ragSelfAwarenessCorpusId\n    );\n    this.functionManager = this.initializeDefaultFunctionManager();\n  }\n\n  notifyChatHistory(chatHistory: ChatHistory) {\n    this.broker.send('notifyChatHistory', chatHistory.user);\n  }\n\n  notifyPreparingResponse() {\n    this.broker.send('notifyChatStatus', ChatStatus.PreparingResponse);\n  }\n\n  notifyReady() {\n    this.broker.send('notifyChatStatus', ChatStatus.Ready);\n  }\n\n  initializeDefaultFunctionManager(): FunctionManager {\n    const functions: ExternalFunction[] = [\n      new ReadFileFunction(this.systemInterface),\n      new WriteFileFunction(this.systemInterface),\n      new DeleteFileFunction(this.systemInterface),\n      new RunTerminalCommandFunction(this.systemInterface, this.taskManager),\n      new ListProjectFilesFunction(this.systemInterface),\n    ];\n    if (this.idxAgentSettings.webSearchIsEnabled) {\n      functions.push(new WebSearchFunction(this.idxAgentSettings, this.systemInterface, this.llm));\n    }\n    return new FunctionManager(functions);\n  }\n\n  async allow(history: ChatHistory, action: FunctionAction, abortSignal?: AbortSignal) {\n    const functionState = history.lastFunctionState!;\n    if (action === 'allow') {\n      this.notifyPreparingResponse();\n      await this.allowLastFunctionCall(history, functionState);\n      await this.makeRemoteCall(\n        history,\n        undefined,\n        functionState,\n        await this.getAidaCredentials(),\n        abortSignal\n      );\n      this.notifyReady();\n    } else {\n      await this.functionManager.performAction(functionState, action);\n      logFunctionActionTaken(history.lastUserMessage?.rpcGlobalId, action, functionState);\n    }\n  }\n\n  processContextualSlashCommands(\n    history: ChatHistory,\n    slashCommand: string | undefined,\n    prompt: string\n  ) {\n    const interactiveCommand = INTERACTIVE_PROMPT.command;\n    const interactiveSlashCommand = `/${interactiveCommand} `;\n    const questionCommand = QUESTION_PROMPT.command;\n    const questionSlashCommand = `/${questionCommand} `;\n\n    // Remove contextual slash commands if present.\n    let promptWithoutSlashCommands = prompt;\n    let allowTools: boolean = this.idxAgentSettings.alwaysAllowTools!;\n    if (slashCommand === interactiveCommand) {\n      promptWithoutSlashCommands = prompt.slice(interactiveSlashCommand.length);\n      allowTools = true;\n    } else if (slashCommand === questionCommand) {\n      promptWithoutSlashCommands = prompt.slice(questionSlashCommand.length);\n      allowTools = false;\n    }\n\n    history.allowTools = allowTools;\n    return promptWithoutSlashCommands;\n  }\n\n  async initializeSystemInstruction() {\n    const systemInstructionFile = this.idxAgentSettings.systemInstructionFile;\n    if (useSystemInstructionFile && (await fileExists(systemInstructionFile))) {\n      this.systemInstruction = await readFile(systemInstructionFile);\n    } else {\n      this.systemInstruction = `\\\nYou are a conversational coding assistant in an IDE. You have a couple of functions \\\nyou can call to interact with the IDE to assist users. Answer simple question directly.\\\n`;\n    }\n  }\n\n  async userPrompt(\n    ctx: ExtensionContext,\n    history: ChatHistory,\n    slashCommand: string | undefined,\n    originalPrompt: string,\n    abortSignal?: AbortSignal\n  ) {\n    const aidaCredentials = await this.getAidaCredentials();\n    const promptWithoutSlashCommand = this.processContextualSlashCommands(\n      history,\n      slashCommand,\n      originalPrompt\n    );\n    this.notifyPreparingResponse();\n    if (this.idxAgentSettings.urlIsAida && this.systemInstruction === undefined) {\n      await this.initializeSystemInstruction();\n    }\n    if (history.isEmpty) {\n      // TODO(joshualitt): For both AIDA and Gen AI, we may need some way to deal with model\n      // fixation on web search when it is enabled, for example, by repeatedly asking the model to\n      // prefer replying directly.\n      if (this.idxAgentSettings.urlIsAida) {\n        await scripts.initializeAida(history);\n      } else {\n        scripts.initializeGenAi(history);\n      }\n    }\n\n    const useLocalRAG = this.idxAgentSettings.useRetrieval && isRetrievalEnabled();\n    const useSelfAwarenessRAG = this.idxAgentSettings.ragSelfAwareness;\n    const historyMark = history.internal.length;\n    let userPrompt = promptWithoutSlashCommand;\n    const facts: api.Fact[] = [];\n    if (useLocalRAG) {\n      const retrievedSnippets = await retrieveSnippets(\n        ctx,\n        userPrompt,\n        true,\n        this.idxAgentSettings.ragMaxDistance,\n        this.idxAgentSettings.ragMaxResults\n      );\n      const activeEditorString = retrievedSnippets.activeEditorSnippets.join('\\n');\n      if (this.idxAgentSettings.urlIsAida) {\n        for (let relevantSnippet of retrievedSnippets.relevantSnippets ?? []) {\n          facts.push({text: relevantSnippet});\n        }\n        facts.push({text: activeEditorString});\n      } else {\n        userPrompt = `\\\n${userPrompt}\nThe following snippets may be helpful:\n${retrievedSnippets.relevantSnippets?.join('\\n\\n')}\n${activeEditorString}`;\n      }\n    }\n\n    if (useSelfAwarenessRAG) {\n      const retrievedSnippets = await this.retrieval.retrieve(userPrompt);\n      if (this.idxAgentSettings.urlIsAida) {\n        for (let item of retrievedSnippets.items ?? []) {\n          facts.push({text: item.snippet});\n        }\n      } else {\n        userPrompt = `\\\n${userPrompt}\nThe following snippets may be helpful:\n${retrievedSnippets.items.map(item => item.snippet).join('\\n\\n')}`;\n      }\n    }\n\n    history.pushUserMessage({\n      speaker: 'user',\n      userInfo: await getCurrentUserInfo(),\n      body: originalPrompt,\n    });\n    const functionState = history.lastFunctionState;\n    const rejectingFunctionCall = functionState && functionState.stateIs('requested');\n    if (rejectingFunctionCall) {\n      this.rejectLastFunctionCall(history, functionState, userPrompt);\n    } else {\n      // If the model encounters an unrecoverable error, we rollback the internal\n      // history. But to where? We want to rollback to the last known good\n      // point(LKGP) in the conversation. Because of how the model and user\n      // interact, this turns out to be subtle.\n      //\n      // If the model and user are just interacting via textual messages, then\n      // the LKGP will be right before the user's message that triggered the\n      // error, this will allow the user to continue the conversation from a\n      // safe place.\n      //\n      // However, function calls are more complicated. If the model returns a\n      // function call, and the function response triggers an error, then we\n      // need to roll back to before the user request that generated the\n      // function call that generated the function response that triggered\n      // the error.\n      //\n      // For chains of function calls that don't require permission,\n      // unfortunately we have to go back all the way to before the user request\n      // that generated the entire chain of function calls.\n      //\n      // With rejections, we can make a choice. We could go back to the\n      // function which the user rejected, and allow the user to reject again.\n      // However, for now it seems cleaner to roll back all the way past the\n      // user request which generated the function call which the user then\n      // rejected.\n      this.lastKnownGoodPoint = history.internal.length;\n      history.pushInternalMessage(conversation_utils.userText(userPrompt));\n    }\n    await this.makeRemoteCall(history, facts, undefined, aidaCredentials, abortSignal);\n\n    // Restore original prompt if we were using RAG.\n    // Note: if the call does not succeed, then the history will be popped to before the\n    // historyMark, thus we have to check for this case below.\n    if ((useLocalRAG || useSelfAwarenessRAG) && history.internal.length > historyMark) {\n      history.internal[historyMark].parts[0].text = promptWithoutSlashCommand;\n    }\n    this.notifyReady();\n  }\n\n  async functionCallToUserMessage(\n    history: ChatHistory,\n    functionState: FunctionState | undefined,\n    functionCall: api.FunctionCall,\n    rpcGlobalId: string | undefined\n  ) {\n    // We update arguments in place when using the the Gen AI function calling API to work around\n    // an issue with escapes in strings.\n    if (!this.idxAgentSettings.urlIsAida) {\n      this.functionManager.updateFunctionArgs(functionCall);\n    }\n\n    // We only break a function thread when a model returns a textual response.\n    const requiresPermission = this.functionManager.requiresPermission(functionCall);\n    if (functionState === undefined) {\n      const functionFrame: protocol.FunctionFrame = {\n        state: 'requested',\n        call: functionCall,\n        requiresPermission,\n      };\n      await this.functionManager.updateFunctionMetadata(functionFrame);\n      history.pushUserMessage({\n        speaker: 'ai',\n        functionThreadState: {\n          frames: [functionFrame],\n          framesWhichRequirePermission: requiresPermission ? [functionFrame] : undefined,\n        },\n        rpcGlobalId: rpcGlobalId,\n      });\n    } else {\n      history.lastUserMessage!.rpcGlobalId = rpcGlobalId;\n      const functionFrame = functionState.addCall(functionCall, requiresPermission);\n      await this.functionManager.updateFunctionMetadata(functionFrame);\n    }\n  }\n\n  async handleValidResponse(\n    history: ChatHistory,\n    functionState: FunctionState | undefined,\n    response: api.GenerateContentResponse,\n    isChunk: boolean\n  ) {\n    const rpcGlobalId = response.responseMetadata?.rpcGlobalId;\n    const message = response.candidates[0].content;\n    const externalPart = message.parts[0];\n    const functionCall = externalPart.functionCall;\n    if (functionCall) {\n      await this.functionCallToUserMessage(history, functionState, functionCall, rpcGlobalId);\n    } else {\n      const text = externalPart.text!;\n      // Only textual messages support streaming currently.\n      if (functionState) {\n        if (isChunk && functionState.followup !== undefined) {\n          functionState.setFollowup(`${functionState.followup}${text}`);\n        } else {\n          functionState.setFollowup(text);\n        }\n        history.lastUserMessage!.rpcGlobalId = rpcGlobalId;\n      } else if (isChunk && history.lastUserMessage!.speaker === 'ai') {\n        history.lastUserMessage!.body += text;\n      } else {\n        history.pushUserMessage({\n          speaker: 'ai',\n          body: text,\n          usedRag: externalPart.usedRag,\n          rpcGlobalId: rpcGlobalId,\n        });\n      }\n    }\n\n    if (isChunk && history.lastInternalMessage?.role === 'model') {\n      history.lastInternalMessage!.parts[0].text += externalPart.text!;\n    } else {\n      history.pushInternalMessage(message);\n    }\n    api.debugLogger('INTERNAL HISTORY', history.internal);\n    api.debugLogger('USER HISTORY', history.user);\n    this.notifyChatHistory(history);\n  }\n\n  async makeRemoteCall(\n    history: ChatHistory,\n    facts?: api.Fact[],\n    functionState?: FunctionState,\n    aidaCredentials?: AidaCredentials,\n    abortSignal?: AbortSignal\n  ) {\n    await new ApiCallHelper(\n      this.idxAgentSettings,\n      this.isDoNotTrackRegion,\n      this.fileLogger,\n      this.functionManager,\n      this.llm,\n      this.systemInstruction,\n      facts,\n      history,\n      functionState,\n      this.lastKnownGoodPoint,\n      aidaCredentials,\n      async (functionState, response, isChunk) =>\n        await this.handleValidResponse(history, functionState, response, isChunk),\n      () => this.notifyChatHistory(history),\n      functionState => this.allowLastFunctionCall(history, functionState),\n      abortSignal\n    ).wrappedCallLoop();\n  }\n\n  async allowLastFunctionCall(history: ChatHistory, functionState: FunctionState) {\n    // Guard the call to prevent multiple requests for the same function.\n    if (functionState.stateIs('requested')) {\n      functionState.executing();\n      this.notifyChatHistory(history);\n      await this.functionManager.callFunction(functionState, history.lastUserMessage?.rpcGlobalId);\n      history.pushInternalMessage(\n        conversation_utils.functionResponseToContent(functionState.response)\n      );\n    }\n  }\n\n  rejectLastFunctionCall(history: ChatHistory, functionState: FunctionState, reason: string) {\n    functionState.reject();\n    this.notifyChatHistory(history);\n    scripts.rejectFunctionCall(history, functionState.response, reason);\n    logActionRejected(history.lastUserMessage?.rpcGlobalId, functionState);\n  }\n}\n","/// <reference lib=\"dom\" />\nimport * as api from '../api';\nimport {IdxAgentSettings} from '../idx-agent-settings';\n\nexport abstract class LLM {\n  abstract generateContent(\n    generateContentRequest: api.GenerateContentRequest,\n    token?: string,\n    abortSignal?: AbortSignal\n  ): Promise<api.GenerateContentResponse | undefined>;\n  abstract streamGenerateContent(\n    generateContentRequest: api.GenerateContentRequest,\n    abortSignal?: AbortSignal\n  ): Promise<ReadableStream<api.GenerateContentResponse | undefined>>;\n  abstract getGenerationConfig(overrideConfig?: api.GenerationConfig): api.GenerationConfig;\n}\n\nexport class LiveLLM extends LLM {\n  constructor(public idxAgentSettings: IdxAgentSettings) {\n    super();\n  }\n\n  async generateContent(\n    generateContentRequest: api.GenerateContentRequest,\n    token?: string,\n    abortSignal?: AbortSignal\n  ): Promise<api.GenerateContentResponse | undefined> {\n    const bodyJsonString: string = JSON.stringify(generateContentRequest);\n    const url = this.idxAgentSettings.urlIsAida\n      ? this.idxAgentSettings.url\n      : `${this.idxAgentSettings.url}/models/${this.idxAgentSettings.llmModel}:generateContent`;\n    const response = await fetch(url, {\n      method: 'POST',\n      headers:\n        this.idxAgentSettings.urlIsAida && this.idxAgentSettings.urlNeedsProjectId\n          ? {\n              'Content-Type': 'application/json',\n              Authorization: `Bearer ${token}`,\n            }\n          : {\n              'Content-Type': 'application/json',\n              'X-Goog-Api-Key': this.idxAgentSettings.apiKey,\n            },\n      body: bodyJsonString,\n      signal: abortSignal,\n    });\n\n    return (await response.json()) as api.GenerateContentResponse | undefined;\n  }\n\n  async streamGenerateContent(\n    generateContentRequest: api.GenerateContentRequest,\n    abortSignal?: AbortSignal\n  ): Promise<ReadableStream<api.GenerateContentResponse>> {\n    const bodyJsonString: string = JSON.stringify(generateContentRequest);\n    const response = await fetch(\n      `${this.idxAgentSettings.url}/models/${this.idxAgentSettings.llmModel}:streamGenerateContent?alt=sse`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Goog-Api-Key': this.idxAgentSettings.apiKey,\n        },\n        body: bodyJsonString,\n        signal: abortSignal,\n      }\n    );\n    const responseReader = response.body!.pipeThrough(new TextDecoderStream()).getReader();\n\n    // In earlier attempts to implement streaming, incomplete chunks of JSON were returned.\n    // This doesn't seem to happen all of the time. In case it does, we collect the JSON fragments\n    // in `data`.\n    let data = '';\n    return new ReadableStream<api.GenerateContentResponse>({\n      async pull(controller) {\n        const {value, done} = await responseReader.read();\n        while (true) {\n          if (done) {\n            if (data) {\n              controller.enqueue(JSON.parse(data));\n            }\n            controller.close();\n          }\n\n          // For some reason, we see a 'data: ' prefix returned before the JSON, so we remove it\n          // here.\n          if (value?.startsWith('data: ')) {\n            data += value?.substring('data: '.length);\n          } else {\n            data += value;\n          }\n          try {\n            controller.enqueue(JSON.parse(data));\n            data = '';\n            return;\n          } catch {}\n        }\n      },\n    });\n  }\n\n  getGenerationConfig(overrideConfig: api.GenerationConfig): api.GenerationConfig {\n    return {\n      maxOutputTokens: overrideConfig.maxOutputTokens ?? this.idxAgentSettings.llmMaxOutputTokens,\n      temperature: overrideConfig.temperature ?? this.idxAgentSettings.llmMinTemperature,\n      candidateCount: overrideConfig.candidateCount ?? this.idxAgentSettings.candidateCount,\n      stopSequences: overrideConfig.stopSequences ?? [],\n      topK: overrideConfig.topK ?? this.idxAgentSettings.llmMinTopK,\n      topP: overrideConfig.topP ?? this.idxAgentSettings.llmMinTopP,\n    };\n  }\n}\n","import * as api from '../api';\nimport {LLM} from './llm';\nimport {scripts} from './playback-scripts/scripts';\nimport * as utils from './playback-scripts/utils';\n\nconst sleepTime = 500;\nasync function abortableSleep(abortSignal: AbortSignal | undefined) {\n  await new Promise((resolve, reject) => {\n    if (abortSignal?.aborted) {\n      reject(abortSignal.reason);\n    }\n    abortSignal?.addEventListener('abort', () => {\n      reject(abortSignal.reason);\n    });\n    setTimeout(resolve, sleepTime);\n  });\n}\n\nfunction visitScriptNames(\n  scriptNames: string | undefined,\n  onScript: (name: string) => void,\n  onUnrecognized: (name: string) => void\n) {\n  for (const scriptName of scriptNames?.split(',') ?? []) {\n    let cleanScriptName = scriptName.trim();\n    if (cleanScriptName.startsWith('\"') || cleanScriptName.startsWith(\"'\")) {\n      cleanScriptName = cleanScriptName.substring(1);\n    }\n    if (cleanScriptName.endsWith('\"') || cleanScriptName.endsWith(\"'\")) {\n      cleanScriptName = cleanScriptName.substring(0, cleanScriptName.length - 1);\n    }\n    if (cleanScriptName in scripts) {\n      onScript(cleanScriptName);\n    } else {\n      onUnrecognized(scriptName);\n    }\n  }\n}\n\nclass StreamingResponse {\n  constructor(public payload: utils.Response, public index: number = 0) {}\n}\n\nexport class PlaybackLLM implements LLM {\n  currentScript: utils.Response[] | undefined;\n  currentScriptIndex: number = -1;\n  currentScriptName: string = '';\n  currentScriptListIndex: number = -1;\n\n  constructor(private scriptList: string[] = []) {}\n\n  systemMessage(text: string): utils.Response {\n    return utils.textMessage(text);\n  }\n\n  scriptString(): string {\n    const scriptNames = Object.getOwnPropertyNames(scripts).join('\", \"');\n    return `Please select one or more of the available scripts: \"${scriptNames}\"`;\n  }\n\n  helpMessage(text: string | undefined): utils.Response {\n    const unrecognizedScripts: string[] = [];\n    visitScriptNames(\n      text,\n      _ => undefined,\n      name => unrecognizedScripts.push(name)\n    );\n    const unrecognizedScriptsString = unrecognizedScripts.join(', ');\n    return this.systemMessage(\n      `Sorry, I did not recognize \"${unrecognizedScriptsString}\". ${this.scriptString()}`\n    );\n  }\n\n  nextScriptMessage(): utils.Response {\n    return this.systemMessage(`\\\n\"${this.currentScriptName}\" is all done. \\\nMoving on to \"${this.scriptList[this.currentScriptListIndex + 1]}\".`);\n  }\n\n  lastMessage(): utils.Response {\n    return this.systemMessage(`\"${this.currentScriptName}\" is all done. ${this.scriptString()}`);\n  }\n\n  ensureScriptInitialized(text: string | undefined): boolean {\n    // Assume if we don't have a script loaded, then we've been given a script name, or list of\n    // script names seperated by commas.\n    if (text && this.currentScript === undefined) {\n      let unrecognizedScript = false;\n      this.scriptList = [];\n      visitScriptNames(\n        text,\n        name => this.scriptList.push(name),\n        _ => (unrecognizedScript = true)\n      );\n      if (unrecognizedScript) {\n        return false;\n      }\n      this.currentScriptListIndex = 0;\n      this.currentScriptIndex = 0;\n      this.currentScriptName = this.scriptList[this.currentScriptListIndex];\n      this.currentScript = scripts[this.currentScriptName];\n    }\n    return true;\n  }\n\n  scriptIteration(): utils.Response {\n    if (this.currentScriptIndex! < this.currentScript!.length) {\n      return this.currentScript![this.currentScriptIndex++];\n    } else if (this.currentScriptListIndex < this.scriptList.length - 1) {\n      const nextScriptMessage = this.nextScriptMessage();\n      this.currentScriptName = this.scriptList[++this.currentScriptListIndex];\n      this.currentScript = scripts[this.currentScriptName];\n      this.currentScriptIndex = 0;\n      return nextScriptMessage;\n    } else {\n      const lastMessage = this.lastMessage();\n      this.currentScript = undefined;\n      return lastMessage;\n    }\n  }\n\n  handleErrorSentinel(response: api.GenerateContentResponse): api.GenerateContentResponse {\n    if (response === utils.errorSentinel) {\n      throw Error('Mock system error!!');\n    }\n    return response;\n  }\n\n  async generateContent(\n    generateContentRequest: api.GenerateContentRequest,\n    token?: string,\n    abortSignal?: AbortSignal\n  ): Promise<api.GenerateContentResponse | undefined> {\n    const lastMessage =\n      generateContentRequest.contents[generateContentRequest.contents.length - 1].parts[0].text;\n    if (!this.ensureScriptInitialized(lastMessage)) {\n      return this.helpMessage(lastMessage)[0];\n    }\n\n    await abortableSleep(abortSignal);\n    return this.handleErrorSentinel(this.scriptIteration()[0]);\n  }\n\n  async streamGenerateContent(\n    generateContentRequest: api.GenerateContentRequest,\n    abortSignal?: AbortSignal\n  ): Promise<ReadableStream<api.GenerateContentResponse>> {\n    const lastMessage =\n      generateContentRequest.contents[generateContentRequest.contents.length - 1].parts[0].text;\n    let streamingResponse: StreamingResponse;\n    if (!this.ensureScriptInitialized(lastMessage)) {\n      streamingResponse = new StreamingResponse(this.helpMessage(lastMessage));\n    } else {\n      streamingResponse = new StreamingResponse(this.scriptIteration());\n    }\n    const that = this;\n    return new ReadableStream<api.GenerateContentResponse>({\n      start(controller) {\n        async function pump(): Promise<void> {\n          if (streamingResponse.index < streamingResponse.payload.length) {\n            controller.enqueue(\n              that.handleErrorSentinel(streamingResponse.payload[streamingResponse.index++])\n            );\n            return abortableSleep(abortSignal).then(pump);\n          } else {\n            controller.close();\n            return Promise.resolve();\n          }\n        }\n        return pump();\n      },\n    });\n  }\n\n  getGenerationConfig(): api.GenerationConfig {\n    return {};\n  }\n}\n","import * as api from '../../api';\nimport {Script} from './scripts';\nimport {\n  functionCall,\n  textMessage,\n  readFile,\n  Response,\n  runTerminalCommand,\n  writeFile,\n} from './utils';\n\nexport const badFunctionArgumentsScript: Script = {\n  name: 'bad function arguments',\n  responses: [\n    textMessage('tests a few invalid arguments to tools.'),\n    // Case 1: write file with invalid path.\n    writeFile('\\0', 'foo'),\n    textMessage('Wrote file with invalid path.'),\n    // Case 2: read file that doesn't exist.\n    readFile('NON EXISTENT'),\n    textMessage('Read non-existent file.'),\n    // Case 3: run terminal command that doesn't exist.\n    runTerminalCommand('booboofoo'),\n    textMessage('Ran non-existent terminal command.'),\n  ],\n};\n\nfunction badResponse(payload: any): Response {\n  return [payload];\n}\n\nexport const badResponsesFromLLMScript: Script = {\n  name: 'bad responses from llm',\n  responses: [\n    textMessage('tests a few bad responses from the llm.'),\n    // Case 1: undefined response.\n    badResponse(undefined),\n    textMessage('Sent undefined response.'),\n    // Case 2: empty message.\n    badResponse({}),\n    textMessage('Sent empty message.'),\n    // Case 3: message missing parts.\n    badResponse({role: 'model'}),\n    textMessage('Sent a message missing parts.'),\n    // Case 4: message with empty part list.\n    badResponse({parts: [], role: 'model'}),\n    textMessage('Sent a message with an empty parts list.'),\n  ],\n};\n\nexport const badFunctionCallsScript: Script = {\n  name: 'bad function calls',\n  responses: [\n    textMessage('tests a few bad function calls.'),\n    // Case 1: empty function call.\n    functionCall('' as api.FunctionName, undefined as unknown as api.FunctionCallArgs),\n    textMessage('Sent an empty function call.'),\n    // Case 2: invalid function name.\n    functionCall('do_stuff' as api.FunctionName, {}),\n    textMessage('Sent a message with an invalid function name.'),\n    // case 3: correct function name, empty arguments.\n    functionCall('write_file' as api.FunctionName, {}),\n    textMessage('Sent a message with a real function name but empty arguments.'),\n    // case 4: correct function name, wrong arguments.\n    functionCall('write_file' as api.FunctionName, {badArg1: 'foo', badArg2: 'foo'}),\n    textMessage('Sent a message with a real function name but the wrong arguments'),\n    // case 5: correct function name, missing one argument.\n    functionCall('write_file' as api.FunctionName, {path: 'foo'}),\n    textMessage('Sent a message with a real function name but missing an argument'),\n    // case 6: correct function name, with an invalid argument.\n    functionCall('write_file' as api.FunctionName, {path: 'foo', textForFile: 'bar'}),\n    textMessage('Sent a message with a real function name but with an invalid argument'),\n    // case 7: correct function name, correct argument names, but one argument has the wrong value.\n    functionCall('write_file' as api.FunctionName, {path: 'foo', content: 3}),\n    textMessage('Sent a message with a real function name but one argument has the wrong value.'),\n    // case 8: correct function name, correct argument names, but both arguments have the wrong value.\n    functionCall('write_file' as api.FunctionName, {path: null, content: 3}),\n    textMessage('Sent a message with a real function name but arguments have the wrong values.'),\n  ],\n};\n\nexport const tooManyRetriesScript: Script = {\n  name: 'too many retries',\n  responses: [\n    textMessage('tests what happens when the llm continues to error.'),\n    badResponse(undefined),\n    badResponse(undefined),\n    badResponse(undefined),\n    badResponse(undefined),\n    badResponse(undefined),\n    badResponse(undefined),\n    badResponse(undefined),\n    badResponse(undefined),\n    badResponse(undefined),\n    badResponse(undefined),\n  ],\n};\n\nexport const retryWithRecoverScript: Script = {\n  name: 'retry with recover',\n  responses: [\n    textMessage('tests what happens when the llm fails, but then recovers. assumes 2 retries.'),\n    badResponse(undefined),\n    badResponse(undefined),\n    textMessage('Recovered'),\n  ],\n};\n","import {Script} from './scripts';\nimport {textMessage, readFile, runTerminalCommand, writeFile} from './utils';\n\nexport const explicitCasesScript: Script = {\n  name: 'explicit cases',\n  responses: [\n    textMessage('tests a few explicit cases for tool use.'),\n    // Case 1: write file, followed by run terminal\n    writeFile('foo.js.', 'bar'),\n    runTerminalCommand('ls'),\n    textMessage('wrote foo.js and ran ls.'),\n    // Case 2: read file, run terminal command followed by write file, followed by read file.\n    readFile('foo.js'),\n    runTerminalCommand('ls'),\n    writeFile('boo.js.', 'baz'),\n    readFile('boo.js'),\n    textMessage('read file, run terminal command followed by write file, followed by read file.'),\n    // Case 3: Read file, run terminal command, read file, write file, read file.\n    readFile('foo.js'),\n    runTerminalCommand('ls'),\n    readFile('boo.js'),\n    writeFile('too.js.', 'blu'),\n    readFile('too.js'),\n    textMessage('Read file, run terminal command, read file, write file, read file.'),\n  ],\n};\n","import {Script} from './scripts';\nimport {textMessage, writeFile} from './utils';\n\nexport const helloWorldScript: Script = {\n  name: 'hello world',\n  responses: [\n    textMessage('a basic sanity test.'),\n    writeFile('foo.js', 'hello world'),\n    textMessage('wrote to foo.js.'),\n  ],\n};\n","import {Script} from './scripts';\nimport {textMessage, readFile, runTerminalCommand, writeFile} from './utils';\n\nexport const implicitWithExplicitCasesScript: Script = {\n  name: 'implicit with explicit cases',\n  responses: [\n    textMessage('tests a few implicit with explicit cases for tool use.'),\n    // Setup files.\n    writeFile('foo.js', 'hello foo'),\n    textMessage('wrote to foo.js.'),\n    writeFile('goo.js', 'hello goo'),\n    textMessage('wrote to goo.js.'),\n    writeFile('boo.js', 'hello boo'),\n    textMessage('wrote to boo.js.'),\n    writeFile('too.js', 'hello too'),\n    textMessage('wrote to too.js.'),\n    textMessage('wrote files'),\n    // Case 1: run terminal command followed by read.\n    readFile('foo.js.'),\n    runTerminalCommand('ls'),\n    textMessage('read foo.js and ran ls.'),\n    // Case 2: run terminal command followed by read\n    runTerminalCommand('ls'),\n    readFile('foo.js'),\n    textMessage('ran ls and read foo.js.'),\n    // Case 3: Read file, run terminal command, read file.\n    readFile('foo.js'),\n    runTerminalCommand('ls'),\n    readFile('goo.js'),\n    textMessage('read foo.js, ran ls, and read goo.js.'),\n    // Case 4: 2x read, run terminal command, 2x read.\n    readFile('foo.js'),\n    readFile('boo.js'),\n    runTerminalCommand('ls'),\n    readFile('goo.js'),\n    readFile('too.js'),\n    textMessage('read foo.js, boo.js, ran ls, and read goo.js, and too.js.'),\n  ],\n};\n\nexport const implicitCasesScript: Script = {\n  name: 'implicit cases',\n  responses: [\n    textMessage('tests a few implicit cases for tool use.'),\n    // Setup files.\n    writeFile('foo.js', 'hello foo'),\n    textMessage('wrote to foo.js.'),\n    writeFile('goo.js', 'hello goo'),\n    textMessage('wrote to goo.js.'),\n    // Case 1: read file\n    readFile('foo.js.'),\n    textMessage('read foo.js.'),\n    // Case 2: two read files\n    readFile('foo.js'),\n    readFile('goo.js'),\n    textMessage('read foo.js and goo.js.'),\n  ],\n};\n","import {implicitCasesScript} from './implicit-cases';\nimport {Script} from './scripts';\nimport {textMessage, Response, replyToUser} from './utils';\n\nfunction convertImplicitCasesScript(): Response[] {\n  const originalResponses = implicitCasesScript.responses;\n  const convertedResponses = [];\n  for (const response of originalResponses) {\n    const responseText = response[0].candidates[0].content.parts[0].text;\n    if (responseText) {\n      convertedResponses.push(replyToUser(responseText));\n    } else {\n      convertedResponses.push(response);\n    }\n  }\n  return convertedResponses;\n}\n\nexport const replyToUserScript: Script = {\n  name: 'reply to user',\n  responses: convertImplicitCasesScript().concat([\n    textMessage('testing mixed textual messages 1'),\n    replyToUser('reply 1'),\n    textMessage('testing mixed textual messages 2'),\n    replyToUser('reply 2'),\n  ]),\n};\n","import {\n  badFunctionArgumentsScript,\n  badFunctionCallsScript,\n  badResponsesFromLLMScript,\n  retryWithRecoverScript,\n  tooManyRetriesScript,\n} from './error-cases';\nimport {explicitCasesScript} from './explicit-cases';\nimport {helloWorldScript} from './hello-world';\nimport {implicitCasesScript, implicitWithExplicitCasesScript} from './implicit-cases';\nimport {replyToUserScript} from './reply-to-user';\nimport {errorMidStreamScript, streamingMessageScript} from './streaming-cases';\nimport {Response} from './utils';\n\nexport interface Script {\n  name: string;\n  responses: Response[];\n}\n\nfunction makeScripts(): Record<string, Response[]> {\n  const scripts: Record<string, Response[]> = {};\n  for (const script of [\n    badFunctionArgumentsScript,\n    badFunctionCallsScript,\n    badResponsesFromLLMScript,\n    errorMidStreamScript,\n    explicitCasesScript,\n    helloWorldScript,\n    implicitCasesScript,\n    implicitWithExplicitCasesScript,\n    replyToUserScript,\n    retryWithRecoverScript,\n    streamingMessageScript,\n    tooManyRetriesScript,\n  ]) {\n    scripts[script.name] = script.responses;\n  }\n  return scripts;\n}\n\nexport const scripts = makeScripts();\n","import {Script} from './scripts';\nimport {apiResponse, streamingTextMessage, textMessage} from './utils';\n\nexport const streamingMessageScript: Script = {\n  name: 'streaming messages',\n  responses: [\n    streamingTextMessage(['hello', ' world!', ' this is a ', ' streaming message!']),\n    streamingTextMessage(['followed ', 'by a second ', ' streaming message']),\n    streamingTextMessage(['followed ', 'by a third ', 'message']),\n  ],\n};\n\nexport const errorMidStreamScript: Script = {\n  name: 'error mid stream',\n  responses: [\n    textMessage('test for errors mid stream, assumes 2 retries'),\n    [\n      apiResponse({text: 'a valid chunk 1 '}),\n      apiResponse({text: 'a valid chunk 2'}),\n      apiResponse(undefined as any),\n      apiResponse({text: 'a never seen chunk'}),\n    ],\n    textMessage('should be replaced by this'),\n    [\n      apiResponse({text: 'b valid chunk 1 '}),\n      apiResponse({text: 'b valid chunk 2'}),\n      apiResponse(undefined as any),\n      apiResponse({text: 'b never seen chunk'}),\n    ],\n    [\n      apiResponse({text: 'c valid chunk 1 '}),\n      apiResponse({text: 'c valid chunk 2'}),\n      apiResponse(undefined as any),\n      apiResponse({text: 'c never seen chunk'}),\n    ],\n    [\n      apiResponse({text: 'd valid chunk 1 '}),\n      apiResponse({text: 'd valid chunk 2'}),\n      apiResponse(undefined as any),\n      apiResponse({text: 'd never seen chunk'}),\n    ],\n  ],\n};\n","import * as api from '../../api';\n\n// A signal to to the PlaybackLLM to throw, useful for testing request error handling.\nexport const errorSentinel: api.GenerateContentResponse = undefined as any;\n\nexport type Response = api.GenerateContentResponse[];\n\nexport function apiResponse(part: api.Part): api.GenerateContentResponse {\n  return {candidates: [{content: {parts: [part], role: 'model'}}]};\n}\n\nfunction message(part: api.Part): Response {\n  return [apiResponse(part)];\n}\n\nexport function textMessage(text: string): Response {\n  return message({text: text});\n}\n\nexport function streamingTextMessage(texts: string[]): Response {\n  const responses: api.GenerateContentResponse[] = [];\n  for (const text of texts) {\n    responses.push(apiResponse({text: text}));\n  }\n  return responses;\n}\n\nexport function functionCall(name: api.FunctionName, args: api.FunctionCallArgs): Response {\n  return message({\n    functionCall: {\n      name: name,\n      args: args,\n    },\n  });\n}\n\nexport function readFile(path: string): Response {\n  return functionCall('read_file', {path: path});\n}\n\nexport function replyToUser(reply: string): Response {\n  return functionCall('reply_to_user' as api.FunctionName, {reply: reply});\n}\n\nexport function runTerminalCommand(command: string): Response {\n  return functionCall('run_terminal_command', {command: command});\n}\n\nexport function writeFile(path: string, content: string): Response {\n  return functionCall('write_file', {path: path, content: content});\n}\n","import fetch from 'node-fetch';\n\nconst timeoutMs = 5000;\n\ninterface ApiData {\n  stringValue: string;\n}\n\ninterface ApiChunk {\n  data: ApiData;\n}\n\ninterface ApiItem {\n  chunkRelevanceScore: number;\n  chunk: ApiChunk;\n}\n\nexport interface RetrievalItem {\n  snippet: string;\n  score: number;\n}\n\nexport interface RetrievalResponse {\n  items: RetrievalItem[];\n}\n\nexport class Retrieval {\n  constructor(public apiKey: string, public corpusId: string) {}\n\n  async retrieve(query: string, maxDocs: number = 2): Promise<RetrievalResponse> {\n    try {\n      let {relevantChunks, error} = (await fetch(\n        `https://generativelanguage.googleapis.com/v1beta/corpora/${this.corpusId}:query`,\n        {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Goog-Api-Key': this.apiKey,\n          },\n          body: JSON.stringify({\n            query,\n            resultsCount: maxDocs,\n            metadataFilters: [],\n          }),\n          signal: AbortSignal.timeout(timeoutMs),\n        }\n      ).then(t => t.json())) as any;\n      if (error) {\n        return {items: []};\n      }\n      return {\n        items: relevantChunks\n          .map(\n            (item: ApiItem): RetrievalItem => ({\n              snippet: item.chunk?.data?.stringValue ?? '',\n              score: item.chunkRelevanceScore,\n            })\n          )\n          .slice(0, maxDocs),\n      };\n    } catch (e) {\n      return {items: []};\n    }\n  }\n}\n","import fetch from 'node-fetch';\nimport {IdxAgentSettings} from '../idx-agent-settings';\n\nexport class WebSearchEngine {\n  constructor(public idxAgentSettings: IdxAgentSettings) {}\n\n  async webSearch(query: string): Promise<string> {\n    let encodedQuery = encodeURIComponent(query);\n    let response = await fetch(\n      `${this.idxAgentSettings.webSearchUrl}?cx=${this.idxAgentSettings.webSearchCx}&q=${encodedQuery}&key=${this.idxAgentSettings.webSearchApiKey}`,\n      {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n        },\n      }\n    );\n    let chunks = [];\n    for await (const chunk of response.body!) {\n      chunks.push(Buffer.from(chunk));\n    }\n    return Buffer.concat(chunks).toString();\n  }\n}\n","import {AICHAT_EVENTS, logFunctionCallExecution} from '../telemetry';\nimport * as api from './api';\nimport * as protocol from '~common/messaging/modules/aichat/aichat-protocol';\nimport {ExternalFunction, FunctionAction, FunctionState} from './functions/external-function';\n\nexport class FunctionManager {\n  functionMap: Record<string, ExternalFunction> = {};\n  toolDefinitions: api.FunctionDeclaration[] = [];\n\n  constructor(public functions: ExternalFunction[]) {\n    this.buildFunctionActions();\n    this.buildToolDefinitions();\n  }\n\n  buildFunctionActions() {\n    this.functionMap = {};\n    for (const f of this.functions) {\n      this.functionMap[f.name] = f;\n    }\n  }\n\n  buildToolDefinitions() {\n    this.toolDefinitions = [];\n    for (const f of this.functions) {\n      this.toolDefinitions.push({\n        name: f.name,\n        description: f.description,\n        parameters: f.parameters,\n      });\n    }\n  }\n\n  getFunction(name: string): ExternalFunction {\n    return this.functionMap[name];\n  }\n\n  getFunctionFromCall(functionCall: api.FunctionCall): ExternalFunction {\n    return this.getFunction(functionCall.name);\n  }\n\n  requiresPermission(functionCall: api.FunctionCall) {\n    return this.getFunctionFromCall(functionCall).requiresPermission;\n  }\n\n  recursivelyValidate(args: any, schema: api.ValueSchema, retryMessages: string[]): boolean {\n    switch (schema.type) {\n      case 'string':\n        if (\n          'format' in schema &&\n          schema.format === 'enum' &&\n          (typeof args !== 'string' || schema.enum.indexOf(args) === -1)\n        ) {\n          retryMessages.push(\n            'Ensure enum values to function calls are one of the values specified in the schema.'\n          );\n          return false;\n        } else if (typeof args !== 'string') {\n          retryMessages.push('Ensure string values to function calls are strings.');\n          return false;\n        }\n        break;\n      case 'integer':\n        if (typeof args !== 'number' || !Number.isInteger(args)) {\n          retryMessages.push('Ensure integer values to function calls are integers.');\n          return false;\n        }\n        break;\n      case 'number':\n        if (typeof args !== 'number') {\n          retryMessages.push('Ensure number values to function calls are numbers.');\n          return false;\n        }\n        break;\n      case 'boolean':\n        if (typeof args !== 'boolean') {\n          retryMessages.push('Ensure boolean values to function calls are booleans.');\n          return false;\n        }\n        break;\n      case 'array':\n        if (!Array.isArray(args)) {\n          retryMessages.push('Ensure array values to function calls are arrays.');\n          return false;\n        }\n        const items = (schema as api.ArraySchema).items;\n        if (items !== undefined) {\n          for (const arg of args) {\n            if (!this.recursivelyValidate(arg, items, retryMessages)) {\n              return false;\n            }\n          }\n        }\n        break;\n      case 'object':\n        if (typeof args !== 'object' || Array.isArray(args)) {\n          retryMessages.push('Ensure object values to function calls are objects.');\n          return false;\n        }\n\n        let isValid = true;\n        const names = Object.getOwnPropertyNames(args);\n        const requiredNames = schema.required;\n        if (requiredNames !== undefined) {\n          for (const name of requiredNames) {\n            if (names.indexOf(name) === -1) {\n              retryMessages.push(\n                'Ensure object values to function calls have all of the required names.'\n              );\n              isValid = false;\n            }\n          }\n        }\n        if (schema.properties !== undefined) {\n          for (const name of names) {\n            const arg = args[name];\n            const propertyScheme = schema.properties[name];\n            if (propertyScheme === undefined) {\n              retryMessages.push(\n                'Ensure object values to function calls do not have unnecessary names.'\n              );\n              isValid = false;\n            } else if (!this.recursivelyValidate(arg, propertyScheme, retryMessages)) {\n              isValid = false;\n            }\n          }\n        }\n        return isValid;\n    }\n    return true;\n  }\n\n  validateFunctionCall(functionCall: api.FunctionCall): api.ValidationResult {\n    const functionName = functionCall.name;\n    if (functionName === undefined) {\n      return api.validationFailure('Ensure function calls have a name.');\n    }\n\n    const theFunction = this.functionMap[functionName];\n    if (theFunction === undefined) {\n      return api.validationFailure(`Only call the functions provided.`);\n    }\n\n    const args = functionCall.args;\n    if (theFunction.parameters === undefined) {\n      if (args === undefined) {\n        return api.validationSuccess();\n      } else {\n        return api.validationFailure(`Ensure a call to ${functionName} has no arguments.`);\n      }\n    } else if (args !== undefined) {\n      const retryMessages: string[] = [];\n      if (this.recursivelyValidate(args, theFunction.parameters!, retryMessages)) {\n        return api.validationSuccess();\n      } else {\n        return api.validationFailures(retryMessages);\n      }\n    } else {\n      return api.validationFailure(`Ensure a call to ${functionName} has the necessary arguments.`);\n    }\n  }\n\n  updateFunctionArgs(functionCall: api.FunctionCall) {\n    functionCall.args = this.getFunctionFromCall(functionCall).updateArgs(functionCall.args);\n  }\n\n  async updateFunctionMetadata(functionFrame: protocol.FunctionFrame) {\n    functionFrame.metadata = await this.getFunctionFromCall(functionFrame.call).populateMetadata?.(\n      functionFrame.call.args\n    );\n  }\n\n  async callFunction(functionState: FunctionState, rpcGlobalId?: string): Promise<void> {\n    try {\n      await this.getFunction(functionState.name).call(functionState);\n      logFunctionCallExecution(\n        AICHAT_EVENTS.SUPERCHAT_FUNCTION_SUCCEEDED,\n        rpcGlobalId,\n        functionState\n      );\n    } catch (e) {\n      console.log(e);\n      functionState.failure('system failure');\n      logFunctionCallExecution(AICHAT_EVENTS.SUPERCHAT_FUNCTION_FAILED, rpcGlobalId, functionState);\n    }\n  }\n\n  async performAction(functionState: FunctionState, action: FunctionAction) {\n    await this.getFunction(functionState.name).actions[action]!(functionState);\n  }\n}\n","import * as api from '../api';\nimport {SystemInterface} from '../system-interface';\nimport {ExternalFunction, FunctionState} from './external-function';\n\nexport class DeleteFileFunction extends ExternalFunction {\n  name = 'delete_file' as const;\n  description = 'Deletes a file.';\n  parameters: api.ObjectSchema = {\n    type: 'object',\n    properties: {\n      path: {\n        type: 'string',\n        description: 'The path of the file to be deleted. This should be a relative path.',\n      },\n    },\n    required: ['path'],\n  };\n\n  constructor(public systemInterface: SystemInterface) {\n    super();\n  }\n\n  async call(functionState: FunctionState): Promise<void> {\n    const path = functionState.args.path;\n    if (await this.systemInterface.fileExists(path)) {\n      await this.systemInterface.deleteFile(path);\n      functionState.success('OK');\n    } else {\n      functionState.failure(`File ${path} does not exist.`);\n    }\n  }\n}\n","import * as api from '../api';\nimport {\n  FunctionAction,\n  FunctionFrameEnum,\n  FunctionStatusEnum,\n  FunctionThreadState,\n} from '~common/messaging/modules/aichat/aichat-protocol';\nimport * as protocol from '~common/messaging/modules/aichat/aichat-protocol';\nexport {\n  FunctionAction,\n  FunctionCall,\n  FunctionFrame,\n  FunctionCallArgs,\n  FunctionName,\n  FunctionResult,\n} from '~common/messaging/modules/aichat/aichat-protocol';\nimport * as shared from '~common/messaging/modules/aichat/aichat-common';\nimport {SystemInterface} from '../system-interface';\n\nexport abstract class ExternalFunction {\n  abstract systemInterface: SystemInterface;\n  abstract name: api.FunctionName;\n  abstract description: string;\n  abstract parameters: api.ValueSchema;\n  abstract call(functionState: FunctionState): Promise<void>;\n  readonly actions: Partial<\n    Record<FunctionAction, (functionState: FunctionState) => Promise<void>>\n  > = {};\n  readonly requiresPermission: boolean = true;\n\n  updateArgs(args: api.FunctionCallArgs): api.FunctionCallArgs {\n    return args;\n  }\n\n  async populateMetadata?(args: api.FunctionCallArgs): Promise<Record<string, any> | undefined> {\n    return undefined;\n  }\n}\n\nexport class FunctionState extends shared.FunctionState {\n  constructor(thread: FunctionThreadState, functionState: protocol.FunctionFrame) {\n    super(thread, functionState);\n  }\n\n  static fromLastFrame(\n    thread: protocol.FunctionThreadState | undefined\n  ): FunctionState | undefined {\n    return this.genericFromLastFrame<FunctionState>(FunctionState, thread);\n  }\n\n  get response(): api.FunctionResponse {\n    return {\n      name: this.name,\n      response: this.functionResult!,\n    };\n  }\n\n  executing() {\n    this.update('executing');\n  }\n\n  detach(result: string) {\n    // We detach functions to handle timeouts. In the case of detach, we race two promises, but only\n    // the true completion will overwrite this state should it ever actually occur.\n    if (this.state === 'executing') {\n      this.complete('detached', result);\n    }\n  }\n\n  reject() {\n    this.failure('rejected');\n    this.update('rejected'); // force state to rejected, not failed\n  }\n\n  update(state: FunctionFrameEnum) {\n    this.functionFrame.state = state;\n  }\n\n  success(result: string) {\n    this.complete('success', result);\n  }\n\n  failure(result: string) {\n    this.complete('failure', result);\n  }\n\n  complete(status: FunctionStatusEnum, result: string) {\n    this.setResult('completed', status, result);\n  }\n\n  setResult(state: FunctionFrameEnum, status: FunctionStatusEnum, result: string) {\n    this.functionFrame.result = {status: status, result: result};\n    this.update(state);\n  }\n\n  readFile(path: string) {\n    (this.thread.readFiles ??= []).push(path);\n  }\n\n  addUrl(url: string) {\n    (this.thread.readUrls ??= []).push(url);\n  }\n\n  stateIs(state: FunctionFrameEnum) {\n    return this.state === state;\n  }\n\n  addCall(call: api.FunctionCall, requiresPermission: boolean): protocol.FunctionFrame {\n    const functionFrame: protocol.FunctionFrame = {call, state: 'requested', requiresPermission};\n    this.thread.frames.push(functionFrame);\n    if (requiresPermission) {\n      (this.thread.framesWhichRequirePermission ??= []).push(functionFrame);\n    }\n    return functionFrame;\n  }\n\n  setFollowup(followup: string) {\n    const framesWhichRequirePermission = this.thread.framesWhichRequirePermission;\n    if (framesWhichRequirePermission) {\n      framesWhichRequirePermission[framesWhichRequirePermission.length - 1].showFollowup = true;\n    }\n    this.thread.followup = followup;\n  }\n}\n","import * as api from '../api';\nimport {SystemInterface} from '../system-interface';\nimport {ExternalFunction, FunctionState} from './external-function';\n\nexport const ignoredNames: Set<string> = new Set([\n  // node\n  'node_modules',\n  // flutter\n  'android',\n  'assets', // Might be worth including, but omitting for now.\n  'build',\n  'ios',\n  'linux',\n  'macos',\n  'web',\n  'windows',\n  // misc\n  'obj',\n  'bin',\n  'third_party',\n  // 'lib'  // Unfortunately, Flutter stores source in lib.\n]);\n\nexport class ListProjectFilesFunction extends ExternalFunction {\n  name = 'list_project_files' as const;\n  description = 'List project files for a given path.';\n  parameters: api.ObjectSchema = {\n    type: 'object',\n    properties: {\n      path: {\n        type: 'string',\n        description:\n          'The path of the folder to list all of the files of this folder. This should be a relative path.',\n      },\n    },\n    required: ['path'],\n  };\n  requiresPermission = false;\n\n  constructor(public systemInterface: SystemInterface) {\n    super();\n  }\n\n  async call(functionState: FunctionState): Promise<void> {\n    const path = functionState.args.path;\n    if (await this.systemInterface.folderExists(path)) {\n      const files = await this.systemInterface.listFilesRecursive(path, ignoredNames);\n      functionState.success(JSON.stringify(files));\n    } else {\n      functionState.failure('Folder not found.');\n    }\n  }\n}\n","import * as api from '../api';\nimport {ExternalFunction, FunctionState} from './external-function';\nimport {SystemInterface} from '../system-interface';\n\nexport class ReadFileFunction extends ExternalFunction {\n  name = 'read_file' as const;\n  description = 'Reads from a file.';\n  parameters: api.ObjectSchema = {\n    type: 'object',\n    properties: {\n      path: {\n        type: 'string',\n        description: 'The path of the file to be read. This should be a relative path.',\n      },\n    },\n    required: ['path'],\n  };\n  requiresPermission = false;\n\n  constructor(public systemInterface: SystemInterface) {\n    super();\n  }\n\n  // TODO: this needs to respect .aiexclude rules\n  async call(functionState: FunctionState): Promise<void> {\n    const path = functionState.args.path;\n    if (await this.systemInterface.fileExists(path)) {\n      const fileContent = await this.systemInterface.readFile(path);\n      functionState.success(fileContent);\n      functionState.readFile(path);\n    } else {\n      functionState.failure(`File ${path} does not exist.`);\n    }\n  }\n}\n","import * as api from '../api';\nimport {ExternalFunction, FunctionState} from './external-function';\nimport {TaskManager} from '../task-manager';\nimport {SystemInterface} from '../system-interface';\n\nexport class RunTerminalCommandFunction extends ExternalFunction {\n  name = 'run_terminal_command' as const;\n  description = 'Runs a terminal command';\n  parameters: api.ObjectSchema = {\n    type: 'object',\n    properties: {\n      command: {\n        type: 'string',\n        description: 'The command to run in the terminal.',\n      },\n    },\n    required: ['command'],\n  };\n\n  constructor(public systemInterface: SystemInterface, private taskManager: TaskManager) {\n    super();\n  }\n\n  updateArgs(args: api.FunctionCallArgs): api.FunctionCallArgs {\n    return {\n      command: api.stringWorkaround(args.command),\n    };\n  }\n\n  async call(functionState: FunctionState): Promise<void> {\n    await this.taskManager.exec(\n      functionState.args.command,\n      () => functionState.detach('Process is long running, please continue.'),\n      (status, result) => {\n        switch (status) {\n          case 'success':\n            functionState.success(result);\n            break;\n          case 'failure':\n          // We really shouldn't see this callback invoked for detach, so we treat this as a failure\n          // case.\n          case 'detached':\n            functionState.failure(result);\n            break;\n        }\n      }\n    );\n  }\n}\n","import * as vscode from 'vscode';\nimport {TextEncoder} from 'util';\nimport {FunctionState} from './external-function';\nimport {fileUriExists, relativePathToWorkspaceUri} from '../../file-utils';\n\nexport async function openDiffView(functionState: FunctionState) {\n  const {content, path} = functionState.args;\n  const uri = relativePathToWorkspaceUri(path);\n  const doesFileExist = uri !== undefined && (await fileUriExists(uri));\n\n  const uriTo = vscode.Uri.file(`/tmp/${Date.now()}.suggested.${path}`);\n  await vscode.workspace.fs.writeFile(uriTo, new TextEncoder().encode(content));\n\n  let uriFrom = uri;\n  if (!doesFileExist) {\n    uriFrom = vscode.Uri.file(`/tmp/${Date.now()}.blank.${path}`);\n    await vscode.workspace.fs.writeFile(uriFrom, new TextEncoder().encode(''));\n  }\n\n  // TODO(julien): Add functionality for editing the diff view and saving the changes\n  vscode.commands.executeCommand('vscode.diff', uriFrom, uriTo, `${path} changes`);\n}\n","import * as api from '../api';\nimport {WebSearchEngine} from '../engines/web-search';\nimport {LLM} from '../engines/llm';\nimport {ExternalFunction, FunctionState} from './external-function';\nimport {IdxAgentSettings} from '../idx-agent-settings';\nimport {SystemInterface} from '../system-interface';\n\ninterface QueryResultItem {\n  link: string;\n}\n\ninterface QueryResult {\n  items: QueryResultItem[];\n}\n\nexport class WebSearchFunction extends ExternalFunction {\n  name = 'web_search' as const;\n  description = 'Searches the web.';\n  parameters: api.ObjectSchema = {\n    type: 'object',\n    properties: {\n      query: {\n        type: 'string',\n        description: 'The query to search for.',\n      },\n    },\n    required: ['query'],\n  };\n  requiresPermission = false;\n\n  webSearchEngine: WebSearchEngine;\n\n  constructor(\n    public idxAgentSetting: IdxAgentSettings,\n    public systemInterface: SystemInterface,\n    public llm: LLM\n  ) {\n    super();\n    this.webSearchEngine = new WebSearchEngine(idxAgentSetting);\n  }\n\n  async call(functionState: FunctionState): Promise<void> {\n    const result = await this.search(functionState);\n    functionState.success(result);\n  }\n\n  async search(functionState: FunctionState): Promise<string> {\n    const query = functionState.args.query;\n    const rawSearchResults = await this.webSearchEngine.webSearch(query);\n    const queryResults = JSON.parse(rawSearchResults) as QueryResult;\n    queryResults.items.map(item => functionState.addUrl(item.link));\n    const cleanSearchResults = await this.llm.generateContent({\n      generationConfig: this.llm.getGenerationConfig(),\n      contents: [\n        {\n          role: 'user',\n          parts: [\n            {\n              text: `\\\nGiven this query: ${query}\nAnd these search JSON search results:\n${rawSearchResults}\nWhat is the best answer?`,\n            },\n          ],\n        },\n      ],\n    });\n    return cleanSearchResults!.candidates[0].content.parts[0].text!;\n  }\n}\n","import * as api from '../api';\nimport {ExternalFunction, FunctionState} from './external-function';\nimport {openDiffView} from './utils';\nimport {SystemInterface} from '../system-interface';\n\nexport class WriteFileFunction extends ExternalFunction {\n  name = 'write_file' as const;\n  description = 'Writes to a file.';\n  parameters: api.ObjectSchema = {\n    type: 'object',\n    properties: {\n      path: {\n        type: 'string',\n        description: 'The path of the file to be written. This should be a relative path.',\n      },\n      content: {\n        type: 'string',\n        description:\n          'The content to write to the file. Important to not format in markdown, as this will be written to a file.',\n      },\n    },\n    required: ['path', 'content'],\n  };\n\n  actions = {\n    open_diff_view: openDiffView,\n  };\n\n  constructor(public systemInterface: SystemInterface) {\n    super();\n  }\n\n  updateArgs(args: api.FunctionCallArgs): api.FunctionCallArgs {\n    return {\n      content: api.stringWorkaround(args.content),\n      path: api.stringWorkaround(args.path),\n    };\n  }\n\n  async populateMetadata(args: api.FunctionCallArgs): Promise<Record<string, any> | undefined> {\n    const {path} = args;\n    if (!(await this.systemInterface.fileExists(path))) {\n      return {newFile: true, currentFileContent: ''};\n    }\n\n    const currentFileContent = await this.systemInterface.readFile(path);\n    return {newFile: false, currentFileContent};\n  }\n\n  async call(functionState: FunctionState): Promise<void> {\n    const args = functionState.args;\n    const path = args.path;\n    await this.systemInterface.writeFile(path, args.content);\n    functionState.success('OK');\n  }\n}\n","import {\n  modelText,\n  userText,\n  functionResponseToContent,\n  listProjectFilesSuccess,\n  listProjectFilesCall,\n} from './conversation-utils';\nimport * as api from './api';\nimport {ChatHistory} from '../chat-history';\nimport {listFilesRecursive} from '../file-utils';\nimport {ignoredNames} from './functions/list-project-files';\n\nexport async function initializeAida(history: ChatHistory) {\n  // On AIDA we pass the system instruction properly, and not via the chat history. Also,\n  // currently for AIDA we seed the conversation with a call to list_project_files This is to\n  // ensure the first user request in the context involves tool use. It also helps give the model\n  // some context on the codebase. However, this really doesn't work well for large code bases.\n  // We've tried a simple truncation approach, but this seems to do more harm than good.\n  // TODO(joshualitt): Try getting an LLM generated high level summary of the codebase.\n  // Alternatively, add more enticing codebase exploration tools. With the right set of tools, we\n  // have seen the model show initiative in exploring a codebase.\n  let files = await listFilesRecursive('.', ignoredNames);\n  const filesString = files.join(', ');\n  const filesJSONString = JSON.stringify(files);\n  history.pushInternalMessage(userText('Please list project files.'));\n  history.pushInternalMessage(listProjectFilesCall('.'));\n  history.pushInternalMessage(listProjectFilesSuccess(filesJSONString));\n  history.pushInternalMessage(modelText(`The project files are: ${filesString}`));\n}\n\nexport function initializeGenAi(history: ChatHistory) {\n  history.pushInternalMessage(\n    userText(`\\\nYou are a conversational coding assistant in an IDE. \\\nPlease use the available tools to help me solve problems. \\\nRemember to think step-by-step.\\\n`)\n  );\n  history.pushInternalMessage(\n    modelText(`\\\nOK, I will use the available tools to help you solve problems. \\\nI will remember to think step-by-step.\\\n`)\n  );\n}\n\nexport function rejectFunctionCall(\n  history: ChatHistory,\n  functionResponse: api.FunctionResponse,\n  reason: string\n) {\n  history.pushInternalMessage(functionResponseToContent(functionResponse));\n  history.pushInternalMessage(modelText('Why did you reject the last function call?'));\n  history.pushInternalMessage(userText(`The last function call was rejected because ${reason}`));\n}\n","import * as vscode from 'vscode';\nimport {FunctionStatusEnum} from '~common/messaging/modules/aichat/aichat-protocol';\nimport {readFileAsString} from '../file-utils';\n\n// We set a timeout for actions. For now, we just unblock the agent so it can\n// continue helping the user, but we may want to do more later to distinguish\n// between the various cases, e.g. interactive, timed process, detached process.\n// For example, we could give the agent different tools, or have the agent\n// interact with the terminal via code.\nconst defaultTaskTimeoutMs = 10000;\n\nclass RunningTask {\n  task: vscode.Task | undefined;\n  isDetached: boolean = false;\n  isFinished: boolean = false;\n  taskExecution: vscode.TaskExecution | undefined;\n  logFile: string;\n  runningCommand: string;\n\n  constructor(\n    public taskId: number,\n    public originalCommand: string,\n    private notifyDetached: () => void,\n    private notifyFinished: (status: FunctionStatusEnum, result: string) => void\n  ) {\n    this.logFile = `/tmp/ai.${taskId}.log`;\n    this.runningCommand = `(set -o pipefail && ${originalCommand} 2>&1 | tee ${this.logFile})`;\n  }\n\n  initialize(task: vscode.Task, taskExecution: vscode.TaskExecution) {\n    this.task = task;\n    this.taskExecution = taskExecution;\n  }\n\n  async finish(status: FunctionStatusEnum) {\n    const result = await readFileAsString(this.logFile);\n    this.isFinished = true;\n    this.notifyFinished(status, result);\n  }\n\n  async failure() {\n    return this.finish('failure');\n  }\n\n  async success() {\n    return this.finish('success');\n  }\n\n  detach() {\n    if (!this.isFinished) {\n      this.isDetached = true;\n      this.notifyDetached();\n    }\n  }\n}\n\nconst noTaskStartedSentinel = 0;\nexport const terminalTaskType = 'terminalTask';\ninterface TerminalTask extends vscode.TaskDefinition {\n  id: number;\n}\n\nexport class TaskManager {\n  runningTasks: Record<number, RunningTask> = {};\n  taskId = noTaskStartedSentinel;\n\n  constructor(private taskTimeoutMs: number = defaultTaskTimeoutMs) {}\n\n  detach(taskId: number) {\n    this.runningTasks[taskId].detach();\n  }\n\n  getTaskId(): number {\n    if (this.taskId !== noTaskStartedSentinel && this.runningTasks[this.taskId].isFinished) {\n      return this.taskId;\n    } else {\n      return ++this.taskId;\n    }\n  }\n\n  exec(\n    command: string,\n    notifyDetached: () => void,\n    notifyFinished: (status: FunctionStatusEnum, result: string) => void\n  ): Promise<void> {\n    const taskId = this.getTaskId();\n    const runningTask = new RunningTask(taskId, command, notifyDetached, notifyFinished);\n    this.runningTasks[taskId] = runningTask;\n    const that = this;\n    const executingTask = new Promise<void>(async resolve => {\n      const task = new vscode.Task(\n        {type: terminalTaskType, id: taskId},\n        vscode.TaskScope.Workspace,\n        `AI: ${runningTask.originalCommand}`,\n        'monospace',\n        new vscode.ShellExecution(runningTask.runningCommand)\n      );\n\n      vscode.tasks.onDidEndTaskProcess(async e => {\n        if (e.execution.task.definition.id === runningTask.taskId) {\n          e.execution.terminate();\n          if (e.exitCode === 0) {\n            await runningTask.success();\n            resolve();\n          } else {\n            await runningTask.failure();\n            resolve();\n          }\n        }\n      });\n\n      const taskExecution = await vscode.tasks.executeTask(task);\n      runningTask.initialize(task, taskExecution);\n    });\n    return Promise.race([\n      executingTask,\n      new Promise<void>(resolve => {\n        setTimeout(() => {\n          resolve();\n          that.detach(taskId);\n        }, this.taskTimeoutMs);\n      }),\n    ]);\n  }\n}\n","import * as fs from 'fs';\nimport * as vscode from 'vscode';\nimport {Uri, ExtensionContext as VSCExtensionContext, commands, window} from 'vscode';\nimport {\n  CONFIG_AI_ENABLE_INLINE_COMPLETION,\n  CONFIG_AI_ENABLE_RETRIEVAL,\n  CONFIG_AI_ENABLE_SUGGESTED_PROMPTS,\n} from 'vscode-shared/config';\nimport {\n  ClientToServerEvents,\n  ServerToClientEvents,\n  SocketEvents,\n} from '../../types-shared/ai-retrieval-socket-io';\nimport {AI_EXCLUDE_FILENAME, AiExclude} from '../../ai-exclude';\nimport {\n  UserChatHistory,\n  ChatMessage,\n  ChatStatus,\n} from '~common/messaging/modules/aichat/aichat-protocol';\nimport {FeedbackFormState} from './aichat-feedback';\nimport {\n  AidaConversationResponse,\n  AidaObservable,\n  Citation,\n  Observable,\n  acquireStreamingRpc,\n} from './aida';\nimport {ExtensionContext} from './context';\nimport {errorsForRange, hasErrorsForRange} from './error-helper';\nimport {getHtmlForWebview} from './html-scaffold';\nimport {ExtensionBrokerImpl} from './messaging/extension-broker';\nimport {\n  Params,\n  Prompt,\n  PromptAvailability,\n  PromptProvider,\n  INTERACTIVE_PROMPT,\n  QUESTION_PROMPT,\n} from './prompt';\nimport {\n  INDEXSERVER_BASE_URL,\n  createPreambleFromPrompt,\n  getIndexedFiles,\n  isRetrievalEnabled,\n  setupAiRetrieval,\n} from './retrieval';\nimport {Socket, io} from 'socket.io-client';\n\nimport {threadManager} from './thread-manager';\nimport {debugLogger} from './agentive/api';\nimport {\n  AICHAT_EVENTS,\n  telemetry,\n  logthumbsUpOrDown,\n  logIndexingStarted,\n  logIndexingFinished,\n} from './telemetry';\nimport {ChatHistory} from './chat-history';\nimport {MonospaceExtensionExports} from 'vscode-shared/vscodeplugin-exports';\nimport {getCurrentUserInfo} from './user-info';\n\nexport const monospaceextension =\n  vscode.extensions.getExtension<MonospaceExtensionExports>('google.monospace');\nexport const outsideOfIDX = false;\nexport const ignoreAiExclude = outsideOfIDX;\nexport const disableRAG = outsideOfIDX;\nexport const bypassEula = outsideOfIDX;\n\nconst DO_SOMETHING_RECENTS_KEY = 'doSomethingRecent';\nexport const AIDA_TAB = 'aida_tab';\n\nconst AICHAT_VIEW_TYPE = 'aichat.view';\n\nlet chatStatus: ChatStatus = ChatStatus.Ready;\nlet stopGeneratingController: AbortController | undefined; // will be set during generation\nlet aiChatPanel: vscode.WebviewPanel | null = null;\n\nlet isPrivacyNoticeAccepted: boolean | undefined;\nlet isCurrentCountrySupported: boolean | undefined;\n\nlet socketIoClient: Socket<ServerToClientEvents, ClientToServerEvents>;\n\nconst DEBUG = process.env.NODE_ENV === 'development';\n\nasync function setupStatusbarText(\n  context: VSCExtensionContext,\n  statusBarItem: vscode.StatusBarItem\n) {\n  const status = bypassEula\n    ? true\n    : context.globalState.get('idx.ai.onboardingCompleted', true /* default */);\n  const text = status ? '$(mono-spark) Gemini' : '$(mono-spark) Gemini (click to get started)';\n  const color = status ? undefined : new vscode.ThemeColor('terminal.ansiYellow');\n  statusBarItem.text = text;\n  statusBarItem.color = color;\n}\n\nasync function setupIndexingStatusBar() {\n  let contentRootsInProgress: string[] = [];\n  let currentResolve: ((value?: unknown) => void) | undefined;\n  let currentReport: // TODO: implement progress reporting using \"increment\"\n  | vscode.Progress<{\n        message?: string | undefined;\n        increment?: number | undefined;\n      }>['report']\n    | undefined;\n\n  function updateIndexingText() {\n    if (contentRootsInProgress.length === 0) {\n      currentResolve?.();\n      currentResolve = undefined;\n      currentReport = undefined;\n      return;\n    }\n\n    if (currentResolve !== undefined) {\n      return;\n    }\n\n    vscode.window.withProgress(\n      {\n        location: vscode.ProgressLocation.Window,\n        cancellable: false,\n        title: 'Gemini is indexing your project',\n      },\n      ({report}) =>\n        new Promise(resolve => {\n          currentResolve = resolve;\n          currentReport = report;\n        })\n    );\n  }\n\n  socketIoClient.on(SocketEvents.INDEXING_STARTED, contentRoot => {\n    if (contentRootsInProgress.includes(contentRoot)) {\n      return;\n    }\n\n    contentRootsInProgress.push(contentRoot);\n    updateIndexingText();\n\n    logIndexingStarted(contentRoot);\n  });\n\n  socketIoClient.on(SocketEvents.INDEXING_FINISHED, (contentRoot, amountOfFiles, timeTaken) => {\n    contentRootsInProgress = contentRootsInProgress.filter(cr => cr !== contentRoot);\n    updateIndexingText();\n\n    logIndexingFinished(contentRoot, amountOfFiles, timeTaken);\n  });\n\n  socketIoClient.on('connect_error', e => {\n    debugLogger('Socket.io connect error', e);\n  });\n}\n\nexport function setupAiChat(extensionContext: ExtensionContext) {\n  const context = extensionContext.vsc;\n  const prompts = extensionContext.prompts;\n  const broker = extensionContext.broker;\n  const conversationalAgent = extensionContext.conversationalAgent;\n  if (!disableRAG) {\n    setupAiRetrieval(context);\n    socketIoClient = io(INDEXSERVER_BASE_URL);\n    setupIndexingStatusBar();\n  }\n\n  telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_CAN_OPEN);\n\n  function errorIfHasNoSelection() {\n    let selText = window.activeTextEditor?.document.getText(window.activeTextEditor.selection);\n    if (!selText) {\n      window.showInformationMessage('Select some text first to run this command');\n      return true;\n    }\n    return false;\n  }\n\n  context.subscriptions.push(\n    vscode.commands.registerCommand('aichat.prompt', async () => {\n      telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_OPEN);\n      ensureAndShowAiChatPanel(extensionContext);\n    }),\n\n    vscode.commands.registerCommand('aichat.actionsMenu', async () => {\n      telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_ACTIONS_MENU);\n      // vscode.commands.executeCommand('workbench.action.quickOpen', '>Gemini: ');\n      let actions: (vscode.QuickPickItem & {command: string})[] = [\n        {\n          command: 'aichat.explainSelection',\n          label: '$(comment) Explain Selected Code',\n        },\n        {\n          command: 'aichat.commentSelection',\n          label: '$(insert) Add Comments For Selected Code',\n        },\n        {\n          command: 'aichat.doSomethingWithSelection',\n          label: '$(wand) Do Anything With Selected Code',\n        },\n        {\n          command: '',\n          label: '',\n          kind: vscode.QuickPickItemKind.Separator,\n        },\n        {\n          command: 'aichat.prompt',\n          label: '$(mono-spark) Chat with Gemini',\n        },\n        {\n          command: 'inlineChat.start',\n          label: '$(mono-spark) Start Inline Chat',\n        },\n      ];\n      let action = await vscode.window.showQuickPick(actions);\n      if (!action) {\n        return;\n      }\n      vscode.commands.executeCommand(action.command!);\n    }),\n\n    vscode.commands.registerCommand('aichat.prompt.statusbar', async () => {\n      telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_OPEN_STATUSBAR);\n      vscode.commands.executeCommand('aichat.prompt');\n    }),\n    vscode.commands.registerCommand('aichat.prompt.hotkey', async () => {\n      telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_OPEN_HOTKEY);\n      vscode.commands.executeCommand('aichat.prompt');\n    }),\n\n    vscode.commands.registerCommand('aichat.explainSelection', async () => {\n      if (errorIfHasNoSelection()) return;\n      telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_EXPLAIN);\n      openNewThread(broker);\n      const res = await callAi(extensionContext, {\n        prompt: prompts.explainSelection(),\n      });\n      await trySaveThread(prompts, broker);\n      return res;\n    }),\n    vscode.commands.registerCommand('aichat.doSomethingWithSelection', async () => {\n      if (errorIfHasNoSelection()) return;\n      telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_DOSOMETHING);\n      let actionText = await showDoSomethingDialog(context);\n      if (!actionText) {\n        return;\n      }\n      openNewThread(broker);\n      const res = await callAi(extensionContext, {\n        prompt: prompts.chatEdit(),\n        actionText,\n      });\n      await trySaveThread(prompts, broker);\n      return res;\n    }),\n    vscode.commands.registerCommand('aichat.commentSelection', async () => {\n      if (errorIfHasNoSelection()) return;\n      telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_COMMENT);\n      openNewThread(broker);\n      const res = await callAi(extensionContext, {\n        prompt: prompts.chatAddComments(),\n      });\n      await trySaveThread(prompts, broker);\n      return res;\n    })\n  );\n\n  let statusBarItem = vscode.window.createStatusBarItem(vscode.StatusBarAlignment.Right, 10000);\n\n  statusBarItem.text = '$(mono-spark) Gemini';\n  statusBarItem.command = 'aichat.prompt.statusbar';\n  statusBarItem.tooltip = 'Chat with Gemini'; // matching what's in package.json\n  statusBarItem.show();\n  setupStatusbarText(context, statusBarItem);\n\n  broker.on('getOnboardingStatus', async () => {\n    let status = context.globalState.get('idx.ai.onboardingCompleted', false /* default */);\n\n    broker.send('notifyOnboardingStatus', status);\n\n    if (!status) {\n      telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_OPEN_ONBOARDING);\n    }\n  });\n\n  broker.on('getPrivacyNoticeStatus', async () => {\n    if (isPrivacyNoticeAccepted !== undefined) {\n      broker.send('notifyPrivacyNoticeStatus', isPrivacyNoticeAccepted);\n      return;\n    }\n    const isAccepted = bypassEula\n      ? true\n      : await monospaceextension?.exports.getPrivacyNoticeStatus();\n    isPrivacyNoticeAccepted = isAccepted;\n    broker.send('notifyPrivacyNoticeStatus', !!isAccepted);\n\n    if (!isAccepted) {\n      telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_OPEN_PRIVACY_NOTICE);\n    }\n  });\n\n  // Fire and forget optimistically when a user accepts the privacy notice.\n  // In the unfortunate events of api failure, the user will just\n  // need to reaccept this in their next session.\n  broker.on('acceptAiPrivacyNotice', async () => {\n    isPrivacyNoticeAccepted = true;\n    await monospaceextension?.exports.acceptAiPrivacyNotice();\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_ACCEPT_PRIVACY_NOTICE);\n  });\n\n  broker.on('setAIOnboardingCompleted', async () => {\n    await context.globalState.update('idx.ai.onboardingCompleted', true);\n    setupStatusbarText(context, statusBarItem);\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_COMPLETE_ONBOARDING);\n  });\n\n  broker.on('setInlineCompletionSetting', async (value: boolean) => {\n    let {section, property} = CONFIG_AI_ENABLE_INLINE_COMPLETION;\n    await vscode.workspace\n      .getConfiguration(section)\n      .update(property, value, vscode.ConfigurationTarget.Workspace);\n    telemetry?.logTelemetryEvent(\n      AICHAT_EVENTS.AICHAT_SAVE_INLINE_COMPLETION_SETTING,\n      value.toString()\n    );\n  });\n\n  broker.on('setRetrievalSetting', async (value: boolean) => {\n    let {section, property} = CONFIG_AI_ENABLE_RETRIEVAL;\n    await vscode.workspace\n      .getConfiguration(section)\n      .update(property, value, vscode.ConfigurationTarget.Workspace);\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_SAVE_RETRIEVAL_SETTING, value.toString());\n  });\n\n  broker.on('getChatThreadSummaries', async () => {\n    const threads = await threadManager.listThreads();\n    broker.send('notifyChatThreadSummaries', threads);\n    broker.send('notifyCurrentThread', threadManager.currentThread.id);\n  });\n\n  let selection: vscode.Selection | undefined;\n  let activeEditor: vscode.TextEditor | undefined;\n\n  let onDidChangeTextEditorSelection = () =>\n    vscode.window.onDidChangeTextEditorSelection(async e => {\n      if (e.textEditor.document.uri.scheme !== 'file') {\n        return;\n      }\n\n      activeEditor = e.textEditor;\n      selection = e.textEditor.selection;\n    });\n  let onDidChangeTextEditorSelectionDisposable: vscode.Disposable | undefined;\n\n  context.subscriptions.push(\n    vscode.window.onDidChangeActiveTextEditor(async e => {\n      if (e?.document.uri.scheme === 'untitled') {\n        broker.send('currentFileIsExcluded', false);\n      }\n      if (e?.document.uri.scheme !== 'file') {\n        return;\n      }\n\n      const isFileExcluded = await extensionContext.aiExclude.isExcluded(e.document.uri);\n      broker.send('currentFileIsExcluded', isFileExcluded);\n\n      if (isFileExcluded) {\n        activeEditor = undefined;\n        selection = undefined;\n\n        if (onDidChangeTextEditorSelectionDisposable) {\n          onDidChangeTextEditorSelectionDisposable.dispose();\n          onDidChangeTextEditorSelectionDisposable = undefined;\n        }\n\n        return;\n      }\n\n      activeEditor = e;\n      selection = e.selection;\n\n      onDidChangeTextEditorSelectionDisposable = onDidChangeTextEditorSelection();\n      context.subscriptions.push(onDidChangeTextEditorSelectionDisposable);\n    })\n  );\n\n  broker.on('getSlashCommands', async () => {\n    if (threadManager.currentThread.areActionsEnabled) {\n      // Adds contextual slash commands to Superchat.\n      // If the action override is enabled, then '/q' will force IDX to not use tools.\n      // If the action override is disabled, then '/i' will allow IDX to use tools.\n      const commands: Prompt[] = extensionContext.idxAgentSettings.alwaysAllowTools\n        ? [QUESTION_PROMPT]\n        : [INTERACTIVE_PROMPT];\n      broker.send('setSlashCommands', commands);\n    } else if (await extensionContext.features.isSlashCommandsEnabled()) {\n      let hasErrors = false;\n      if (selection) {\n        hasErrors = hasErrorsForRange(selection, activeEditor);\n      }\n      const hasSelection = !!activeEditor?.document.getText(selection);\n      const commands = prompts.chatPrompts(hasErrors, hasSelection);\n      broker.send('setSlashCommands', commands);\n    }\n  });\n\n  async function deleteCurrentThread() {\n    // stop generating to avoid cross-thread state management bugs\n    stopGenerating();\n\n    const res = await vscode.window.showInformationMessage(\n      'Delete current chat thread?',\n      {\n        modal: true,\n      },\n      {title: 'Cancel', isCloseAffordance: true},\n      {title: 'Confirm', confirm: true}\n    );\n    if (!res?.confirm) {\n      return;\n    }\n\n    await threadManager.deleteCurrentThread();\n\n    const threads = await threadManager.listThreads();\n    broker.send('notifyChatThreadSummaries', threads);\n    broker.send('notifyCurrentThread', threadManager.currentThread.id);\n    // TODO: we should include suggested option as part of the \"thread\" object\n    areSuggestedPromptsEnabled() &&\n      broker.send('notifySuggestedPrompt', threadManager.currentThread.suggestedNextPrompt);\n    sendChatHistory(broker, threadManager.currentThread.history);\n  }\n\n  broker.on('openNewThread', actionsInChatAreEnabled => {\n    // stop generating to avoid cross-thread state management bugs\n    stopGenerating();\n    openNewThread(broker, actionsInChatAreEnabled);\n  });\n\n  broker.on('openExistingThread', async (id: string) => {\n    // stop generating to avoid cross-thread state management bugs\n    stopGenerating();\n    const history = threadManager.changeCurrentThread(id);\n    //Notify change of current thread\n    broker.send('notifyCurrentThread', id);\n    if (history) {\n      sendChatHistory(broker, threadManager.currentThread.history);\n    }\n    broker.send('notifyCurrentThread', id);\n    // TODO: we should include suggested option as part of the \"thread\" object\n    areSuggestedPromptsEnabled() &&\n      broker.send('notifySuggestedPrompt', threadManager.currentThread.suggestedNextPrompt);\n  });\n\n  broker.on('getAvailabilityInCountry', async () => {\n    const UNAVAILABLE_TEXT_MSG = 'Gemini is not enabled for your region. Stay tuned!';\n\n    if (bypassEula) {\n      isCurrentCountrySupported = true;\n      return;\n    }\n\n    if (isCurrentCountrySupported === true) {\n      return;\n    }\n    if (isCurrentCountrySupported === false) {\n      broker.send('setAvailabilityFalse');\n      return;\n    }\n\n    // Do a quick call to see if Gemini is enabled in user's country.\n    const responseFromAida = (await extensionContext.idx?.exports.doStreamingConversation(\n      'test connection',\n      [],\n      ''\n    )) as Observable<AidaConversationResponse>;\n    responseFromAida.subscribe({\n      next: res => {\n        if (res.text === UNAVAILABLE_TEXT_MSG) {\n          broker.send('setAvailabilityFalse');\n          isCurrentCountrySupported = false;\n          telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_NOT_AVAILABLE_IN_COUNTRY);\n        } else {\n          isCurrentCountrySupported = true;\n        }\n      },\n      done: () => {},\n      error: () => {},\n    });\n  });\n\n  broker.on('getChatHistory', async () => {\n    sendChatHistory(broker, threadManager.currentThread.history);\n  });\n\n  broker.on('getSuggestedPrompt', async () => {\n    areSuggestedPromptsEnabled() &&\n      broker.send('notifySuggestedPrompt', threadManager.currentThread.suggestedNextPrompt);\n  });\n\n  broker.on('clearChatHistory', async () => {\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_COMMAND, 'clear');\n    deleteCurrentThread();\n  });\n\n  broker.on('getChatStatus', async () => {\n    broker.send('notifyChatStatus', chatStatus);\n  });\n\n  broker.on('performFunctionThreadAction', async action => {\n    stopGenerating();\n    stopGeneratingController = new AbortController();\n    await conversationalAgent.allow(\n      threadManager.currentThread.history,\n      action,\n      stopGeneratingController.signal\n    );\n    await trySaveThread(prompts, broker);\n  });\n\n  broker.on('newPrompt', async (prompt: string) => {\n    let slashCommand: string | undefined;\n    let message: string | undefined;\n    if (prompt.startsWith('/')) {\n      [slashCommand] = parseCommand(prompt);\n      message = `slashCommand:${slashCommand}`;\n    }\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_NEW_PROMPT, message);\n    await handleConversationPrompt(extensionContext, prompt, slashCommand, activeEditor, selection);\n    await trySaveThread(prompts, broker);\n  });\n\n  broker.on('newPromptAtPosition', async (prompt: string, position: number) => {\n    threadManager.currentThread.history.truncateToPosition(position);\n    sendChatHistory(broker, threadManager.currentThread.history);\n    let slashCommand: string | undefined;\n    let message: string | undefined;\n    if (prompt.startsWith('/')) {\n      [slashCommand] = parseCommand(prompt);\n      message = `slashCommand:${slashCommand}`;\n    }\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_NEW_PROMPT, message);\n    await handleConversationPrompt(extensionContext, prompt, slashCommand, activeEditor, selection);\n    await trySaveThread(prompts, broker);\n  });\n\n  broker.on('stopGenerating', () => {\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_STOP_GENERATING);\n    stopGenerating();\n  });\n\n  broker.on('thumbsUp', async (position: number) => {\n    logthumbsUpOrDown(\n      AICHAT_EVENTS.AICHAT_THUMBS_UP,\n      threadManager.currentThread.history.user[position],\n      threadManager.currentThread.areActionsEnabled\n    );\n  });\n\n  broker.on('thumbsDown', async (position: number) => {\n    logthumbsUpOrDown(\n      AICHAT_EVENTS.AICHAT_THUMBS_DOWN,\n      threadManager.currentThread.history.user[position],\n      threadManager.currentThread.areActionsEnabled\n    );\n  });\n\n  broker.on('thumbsUpDetail', async (data: FeedbackFormState) => {\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_THUMBS_UP_DETAIL, JSON.stringify(data));\n    // TODO: Log to Aida/Vertex once we know which one.\n  });\n\n  broker.on('thumbsDownDetail', async (data: FeedbackFormState) => {\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_THUMBS_DOWN_DETAIL, JSON.stringify(data));\n    // TODO: Log to Aida/Vertex once we know which one.\n  });\n\n  broker.on('insertCode', async (code: string, citations: Citation[]) => {\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_INSERT_CODE);\n    replaceSelectionWithCode(extensionContext, code, citations);\n    monospaceextension?.exports.updateAIMetrics(code.length, 0); //lines added (chat,sidekick)\n  });\n\n  broker.on('onCopyCode', async (code: string) => {\n    monospaceextension?.exports.updateLastCopiedCodeFromAIChat(code);\n  });\n\n  broker.on('openAiLink', async (href: string) => {\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_OPEN_LINK, href);\n    vscode.env.openExternal(vscode.Uri.parse(href));\n  });\n\n  broker.on('navigateToFile', async (ref: string) => {\n    navigateToFullFile(ref);\n  });\n\n  broker.on('openSettings', async () => {\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.OPEN_SETTINGS);\n    vscode.commands.executeCommand('workbench.action.openSettings', 'IDX.aI');\n  });\n\n  broker.on('openLicenseLog', async () => {\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_OPEN_LICENSE_LOG);\n    vscode.commands.executeCommand('monospace.showLicenseAttribution');\n  });\n\n  broker.on('getActionsInChatAreEnabled', async () => {\n    const isActionsInChatEnabledFromBackend =\n      await extensionContext.features.isActionsInChatEnabled();\n    broker.send('notifyActionsInChatAreEnabled', isActionsInChatEnabledFromBackend);\n  });\n\n  broker.on('getActionsInChatAreDefault', async () => {\n    broker.send('notifyActionsInChatAreDefault', extensionContext.idxAgentSettings.isDefault);\n  });\n\n  return {\n    async debugWithAI(file: string, line: string, error: string): Promise<void> {\n      console.log('**Debugging with AI in the AIDA plugin!');\n      navigateToFullFile(file);\n      const prompt: Prompt = prompts.devtoolsDebug();\n      setTimeout(function () {\n        callAi(extensionContext, {\n          prompt: prompt,\n          actionText: error,\n        });\n      }, 300);\n    },\n  };\n}\n\nfunction navigateToFullFile(ref: string) {\n  // find the first workspace that has the given file and open it.\n  // TODO: this should be smarter, and include root directories\n  if (ref == '') {\n    return;\n  }\n  ref = ref.split('?')[0];\n  for (let wf of vscode.workspace.workspaceFolders || []) {\n    const fullUri = vscode.Uri.joinPath(wf.uri, ref);\n    if (fs.existsSync(fullUri.fsPath)) {\n      vscode.commands.executeCommand('vscode.open', fullUri, {\n        viewColumn: vscode.ViewColumn.One,\n      } as vscode.TextDocumentShowOptions);\n    }\n  }\n}\n\ninterface DoSomethingQuickPickItem extends vscode.QuickPickItem {\n  value?: string;\n  clear?: boolean;\n}\n\nfunction showDoSomethingDialog(context: VSCExtensionContext): Promise<string | null> {\n  let recents: string[] = context.globalState.get(DO_SOMETHING_RECENTS_KEY) || [];\n\n  return new Promise(resolve => {\n    const quickPick = vscode.window.createQuickPick<DoSomethingQuickPickItem>();\n    quickPick.placeholder = 'e.g. make it more readable';\n    quickPick.title = 'What do you want to do with the code?';\n\n    function refreshItems() {\n      quickPick.items = [\n        ...recents.map(s => ({\n          label: `$(history) \"${s}\"`,\n          value: s,\n          buttons: [\n            {\n              iconPath: new vscode.ThemeIcon('close'),\n              tooltip: 'Remove',\n            },\n          ],\n        })),\n        ...(recents.length\n          ? [\n              {\n                label: '',\n                kind: vscode.QuickPickItemKind.Separator,\n              },\n              {\n                label: '$(close) Clear recents',\n                clear: true,\n              },\n            ]\n          : []),\n      ];\n    }\n\n    refreshItems();\n\n    let choseClear = false;\n    let value: string | undefined;\n    let selected: string | undefined;\n    quickPick.onDidChangeValue(e => {\n      value = e;\n    });\n    quickPick.onDidChangeSelection(e => {\n      if (e[0].clear) {\n        choseClear = true;\n        return;\n      }\n      selected = e[0].value;\n    });\n    quickPick.show();\n    let accepted = false;\n    quickPick.onDidAccept(() => {\n      if (choseClear) {\n        recents = [];\n        context.globalState.update(DO_SOMETHING_RECENTS_KEY, undefined);\n        refreshItems();\n        choseClear = false;\n        return;\n      }\n      accepted = true;\n      let actionText = selected || value || '';\n      recents = [actionText, ...recents.filter(s => s !== actionText)].slice(0, 5);\n      context.globalState.update(DO_SOMETHING_RECENTS_KEY, recents);\n      resolve(actionText);\n      quickPick.hide();\n      quickPick.dispose();\n    });\n    quickPick.onDidTriggerItemButton(e => {\n      // clicked remove button\n      recents = recents.filter(r => r !== e.item.value);\n      context.globalState.update(DO_SOMETHING_RECENTS_KEY, recents);\n      refreshItems();\n    });\n    quickPick.onDidHide(() => {\n      if (accepted) {\n        return;\n      }\n\n      resolve('');\n      quickPick.dispose();\n    });\n  });\n}\n\ninterface CallAiOptions {\n  /**\n   * The main prompt input.\n   */\n  prompt: Prompt;\n  actionText?: string;\n}\n\ninterface CallAiResult {\n  response: string;\n  skippedChat: boolean;\n  error: boolean;\n}\n\nasync function callAi(\n  ctx: ExtensionContext,\n  {prompt, actionText}: CallAiOptions\n): Promise<CallAiResult> {\n  let result: CallAiResult = {response: '', skippedChat: false, error: false};\n\n  const isFileExcluded =\n    window.activeTextEditor &&\n    (await ctx.aiExclude.isExcluded(window.activeTextEditor.document.uri));\n\n  const params: Params = {\n    get selectedCode() {\n      if (isFileExcluded) {\n        return '';\n      }\n\n      let selText = window.activeTextEditor?.document.getText(window.activeTextEditor.selection);\n      if (!selText) {\n        window.showInformationMessage('Select some text first to run this command');\n        result.error = true;\n        return '';\n      }\n      return selText;\n    },\n    get currentLanguage() {\n      if (isFileExcluded) {\n        return undefined;\n      }\n\n      let languageId = window.activeTextEditor?.document.languageId;\n      return languageId;\n    },\n    get currentLine() {\n      return 0;\n    },\n    get prompt() {\n      return actionText;\n    },\n  };\n\n  const hydrated = await ctx.engine.hydrate(prompt.content, params);\n\n  let promptPromise: Promise<string>;\n  promptPromise = handleConversationPrompt(ctx, hydrated.prompt);\n\n  ensureAndShowAiChatPanel(ctx);\n  await new Promise(resolve => setTimeout(resolve)); // tick\n  result.response = await promptPromise;\n\n  return result;\n}\n\n/**\n * Handles an actions in chat prompt.\n */\nasync function handleActionsInChatPrompt(\n  context: ExtensionContext,\n  broker: ExtensionBrokerImpl,\n  prompt: string,\n  displayBody?: string,\n  slashCommand?: string\n): Promise<string> {\n  const promptMessage: ChatMessage = {\n    speaker: 'user',\n    userInfo: await getCurrentUserInfo(),\n    body: prompt,\n    displayBody,\n    slashCommand,\n  };\n  broker.send('notifyAddedChatMessage', promptMessage);\n  await context.conversationalAgent.userPrompt(\n    context,\n    threadManager.currentThread.history,\n    slashCommand,\n    prompt,\n    stopGeneratingController?.signal\n  );\n  return '';\n}\n\n/**\n * Handle a standard conversational prompt\n */\nasync function handleConversationPrompt(\n  extensionContext: ExtensionContext,\n  prompt: string,\n  slashCommand?: string,\n  activeEditor?: vscode.TextEditor,\n  selection?: vscode.Selection\n): Promise<string> {\n  stopGenerating();\n\n  const {broker} = extensionContext;\n  broker.send('notifySuggestedPrompt', '');\n  if (prompt.trim() === 'clear' || prompt.trim().startsWith('/clear')) {\n    telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_COMMAND, 'clear');\n    threadManager.currentThread.history.clear();\n    sendChatHistory(broker, threadManager.currentThread.history);\n    return '';\n  }\n\n  if (!prompt.trim()) {\n    return '';\n  }\n\n  // prevent AI from interacting with excluded files\n  if (activeEditor && (await extensionContext.aiExclude.isExcluded(activeEditor.document.uri))) {\n    activeEditor = undefined;\n    selection = undefined;\n  }\n\n  let displayBody: string | undefined;\n  if (slashCommand) {\n    displayBody = prompt;\n\n    // TODO: This should be done at \"broker.on('newPrompt')\" level.\n    // Limitting the blast radius as we are close to IO.\n    const [_, query] = parseCommand(prompt);\n\n    const template = extensionContext.prompts.byCommand(slashCommand, PromptAvailability.Chat);\n    if (template) {\n      const params = {\n        get currentLanguage() {\n          return activeEditor?.document.languageId ?? '';\n        },\n        get selectedCode() {\n          return activeEditor?.document.getText(selection);\n        },\n        get errors() {\n          return selection ? errorsForRange(selection) : '';\n        },\n        get prompt() {\n          return query;\n        },\n        get currentLine() {\n          if (!activeEditor) {\n            return 0;\n          }\n          return activeEditor.selection.active.line + 1;\n        },\n      };\n      prompt = (await extensionContext.engine.hydrate(template.content, params)).prompt;\n    }\n  }\n\n  stopGeneratingController = new AbortController();\n\n  if (threadManager.currentThread.areActionsEnabled) {\n    return handleActionsInChatPrompt(extensionContext, broker, prompt, displayBody, slashCommand);\n  }\n\n  let message: string | undefined;\n  if (slashCommand) {\n    message = `slashCommand:${slashCommand}`;\n  }\n  telemetry?.logTelemetryEvent(AICHAT_EVENTS.AICHAT_INTERACTION, message);\n\n  let promptMessage: ChatMessage = {\n    speaker: 'user',\n    userInfo: await getCurrentUserInfo(),\n    body: prompt,\n    displayBody,\n    slashCommand,\n  };\n  threadManager.currentThread.history.pushUserMessage(promptMessage);\n  broker.send('notifyAddedChatMessage', promptMessage);\n  setChatStatus(ChatStatus.PreparingResponse, extensionContext);\n\n  let response = '';\n  try {\n    if (process.env.FAKE_AI_RESPONSE === 'true') {\n      const body = `This is a \\`mock response\\` from the AI that includes code:\n\\`\\`\\`js\n// Log hello 10 times\nfor (let i = 0; i < 10; i++) {\n  console.log('hello');\n}\n\\`\\`\\`\nI hope this helps!\n\nAnd this is a test of a thing \\`src/book/BookPage.js\\` that should become a link\nand \\`package.json\\` another one boom.\n`;\n      let indexedRepoFiles: string[] = [];\n      if (isRetrievalEnabled()) {\n        indexedRepoFiles = await getIndexedFiles();\n        ({preamble: prompt} = await createPreambleFromPrompt(\n          extensionContext,\n          prompt,\n          true,\n          false\n        ));\n      }\n\n      threadManager.currentThread.history.pushUserMessage({\n        speaker: 'ai',\n        body,\n        fileReferences: indexedRepoFiles.filter(f => body.indexOf(f) >= 0),\n        slashCommand,\n      });\n      sendChatHistory(broker, threadManager.currentThread.history);\n      stopGeneratingController = undefined;\n      setChatStatus(ChatStatus.Ready, extensionContext);\n      return '';\n    }\n    return await handleBoqPrompt(extensionContext, prompt, slashCommand);\n  } catch (err: any) {\n    let responseMessage: ChatMessage = {\n      speaker: 'ai',\n      body: `Error: ${err.message || err}`,\n      debugInfo: JSON.stringify(err),\n      displayBody,\n      slashCommand,\n    };\n    threadManager.currentThread.history.pushUserMessage(responseMessage);\n    broker.send('notifyAddedChatMessage', responseMessage);\n    debugLogger(err);\n  }\n\n  stopGeneratingController = undefined;\n  setChatStatus(ChatStatus.Ready, extensionContext);\n  return response;\n}\n\nasync function handleBoqPrompt(\n  extensionContext: ExtensionContext,\n  prompt: string,\n  slashCommand: string | undefined\n): Promise<string> {\n  const {broker} = extensionContext;\n  const streamingConversationRpc = acquireStreamingRpc('streaming-conversation');\n  let aborted = false;\n  const aidaObservable: AidaObservable = {\n    chatHistoryUpdate(response: UserChatHistory) {\n      if (aborted) return; // TODO: 'deeper' abort\n      threadManager.currentThread.history.set(response);\n      sendChatHistory(broker, threadManager.currentThread.history);\n    },\n    error(e: Error) {\n      if (aborted) return; // TODO: 'deeper' abort\n      let errorMessage: ChatMessage = {\n        speaker: 'ai',\n        body: `Error: ${e.message}`,\n        slashCommand,\n      };\n      broker.send('notifyAddedChatMessage', errorMessage);\n      stopGeneratingController = undefined;\n      setChatStatus(ChatStatus.Ready, extensionContext);\n    },\n    async done() {\n      if (aborted) return; // TODO: 'deeper' abort\n      stopGeneratingController = undefined;\n      setChatStatus(ChatStatus.Ready, extensionContext);\n      await trySaveThread(extensionContext.prompts, extensionContext.broker);\n    },\n  };\n  stopGeneratingController?.signal.addEventListener('abort', () => {\n    // TODO: append (\"Response was stopped short\") to the message\n    aidaObservable.done();\n    aborted = true;\n  });\n  // TODO: pass abort signal down for a 'deeper' abort\n  await streamingConversationRpc.responseFromAida(\n    extensionContext,\n    prompt,\n    slashCommand,\n    threadManager.currentThread.history.user,\n    aidaObservable\n  );\n\n  //Nothing to return immediately\n  return '';\n}\n\nfunction setupWebView(broker: ExtensionBrokerImpl, webview: vscode.Webview, extensionUri: Uri) {\n  broker.registerReceiver(webview);\n  webview.options = {\n    enableScripts: true,\n    localResourceRoots: [extensionUri],\n  };\n  webview.html = getHtmlForWebview('aichat', extensionUri, webview);\n}\n\nfunction ensureAndShowAiChatPanel({vsc: context, broker}: ExtensionContext) {\n  if (aiChatPanel) {\n    aiChatPanel.reveal();\n    broker.send('focusPrompt');\n    return aiChatPanel;\n  }\n\n  aiChatPanel = window.createWebviewPanel(AICHAT_VIEW_TYPE, 'Gemini', vscode.ViewColumn.Two, {\n    retainContextWhenHidden: true,\n  });\n  aiChatPanel.iconPath = vscode.Uri.joinPath(context.extensionUri, 'resources', 'icon-small.svg');\n  aiChatPanel.onDidDispose(() => {\n    aiChatPanel = null;\n  });\n\n  setupWebView(broker, aiChatPanel.webview, context.extensionUri);\n}\n\nasync function replaceSelectionWithCode(\n  ctx: ExtensionContext,\n  code: string,\n  citations: Citation[]\n) {\n  let editor: vscode.TextEditor | undefined;\n  for (let activeEditor of vscode.window.visibleTextEditors) {\n    if (activeEditor.document.languageId !== 'Log') {\n      editor = activeEditor;\n      break;\n    }\n  }\n  if (!editor) {\n    debugLogger('No editor');\n    return '';\n  }\n\n  if (await ctx.aiExclude.isExcluded(editor.document.uri)) {\n    window.showInformationMessage(\n      \"The current file is protected by .aiexclude. If you're sure about inserting this code there, manually copy + paste it.\"\n    );\n    debugLogger(`File ${editor.document.uri.path} is excluded in ${AI_EXCLUDE_FILENAME}`);\n    return '';\n  }\n\n  let comment = '';\n  if (citations && citations.length > 0) {\n    const languageId = editor.document.languageId;\n    const monospaceextension = vscode.extensions.getExtension('google.monospace');\n    const recitations: string[] = await monospaceextension?.exports.insertRecitation(\n      code,\n      languageId,\n      citations\n    );\n    recitations.forEach(recitation => {\n      comment += recitation;\n    });\n  }\n  editor.edit(b => {\n    if (!editor) {\n      return;\n    }\n    b.replace(editor.selection, comment + code);\n  });\n}\n\nexport function setChatHistory(broker: ExtensionBrokerImpl, chatHistoryToSet: UserChatHistory) {\n  threadManager.currentThread.history.set(chatHistoryToSet);\n  sendChatHistory(broker, threadManager.currentThread.history);\n}\n\nexport function sendChatHistory(broker: ExtensionBrokerImpl, history: ChatHistory) {\n  broker.send('notifyChatHistory', history.user);\n  DEBUG && broker.send('notifyChatDebugInfo', {internalHistory: history.internal});\n}\n\nexport function setChatStatusToPreparingResponse(context: ExtensionContext) {\n  setChatStatus(ChatStatus.PreparingResponse, context);\n}\n\nexport function stopGenerating() {\n  stopGeneratingController?.abort();\n  stopGeneratingController = undefined;\n}\n\nexport function setChatStatusToReady(extensionContext: ExtensionContext) {\n  stopGeneratingController = undefined;\n  setChatStatus(ChatStatus.Ready, extensionContext);\n}\n\nfunction setChatStatus(status: ChatStatus, extensionContext: ExtensionContext) {\n  const {logger, broker} = extensionContext;\n  chatStatus = status;\n  broker.send('notifyChatStatus', chatStatus);\n  logger.debug('chat status = ' + status);\n  if (status === ChatStatus.Ready) {\n    enqueueSuggestNextPrompt(threadManager.currentThread.id, extensionContext);\n  } else {\n    cancelSuggestNextPrompt(threadManager.currentThread.id);\n  }\n}\n\nlet _suggestNextPromptTimeouts = new Map<string, NodeJS.Timeout>();\n\nfunction areSuggestedPromptsEnabled() {\n  let {section, property} = CONFIG_AI_ENABLE_SUGGESTED_PROMPTS;\n  return !!vscode.workspace.getConfiguration(section).get(property);\n}\n\nfunction enqueueSuggestNextPrompt(threadId: string, extensionContext: ExtensionContext) {\n  if (!areSuggestedPromptsEnabled()) return;\n  const {logger, prompts, broker} = extensionContext;\n  cancelSuggestNextPrompt(threadId);\n  _suggestNextPromptTimeouts.set(\n    threadId,\n    setTimeout(async () => {\n      logger.debug('Predicting next prompt for threadId ' + threadId);\n      let thread = threadManager.getThread(threadId);\n      try {\n        if (!thread || thread.history.isEmpty) {\n          return;\n        }\n        const response = await prompts.execute(prompts.suggestNextPromptPrompt(), {\n          // TODO: slice() so as not to send the entire history... or leave it up tp the prompt?\n          history: JSON.stringify(thread?.history.user),\n          currentLine: 0,\n        });\n\n        let stillWantNextPrompt = _suggestNextPromptTimeouts.has(threadId);\n        if (!stillWantNextPrompt || threadManager.currentThread.id !== threadId) return;\n\n        let nextPrompt = response.llmResponse?.candidates[0]?.text || '';\n        nextPrompt = nextPrompt.trim().replace(/^[\\*\\-]+|[\\*\\-]+$/g, '');\n        threadManager.currentThread.suggestedNextPrompt = nextPrompt;\n        await trySaveThread(prompts, broker);\n        areSuggestedPromptsEnabled() && broker.send('notifySuggestedPrompt', nextPrompt);\n      } catch (e) {\n        logger.debug(\n          `Unable to suggest next prompt for chat thread ${threadManager.currentThread.id}: ${e}`\n        );\n      } finally {\n        cancelSuggestNextPrompt(threadId);\n      }\n      return undefined;\n    }, 1000)\n  );\n}\n\nfunction cancelSuggestNextPrompt(threadId: string) {\n  clearTimeout(_suggestNextPromptTimeouts.get(threadId));\n  _suggestNextPromptTimeouts.delete(threadId);\n}\n\nexport function openNewThread(broker: ExtensionBrokerImpl, actionsInChatAreEnabled?: boolean) {\n  threadManager.openNewThread(actionsInChatAreEnabled);\n  broker.send('notifyCurrentThread', threadManager.currentThread.id);\n  areSuggestedPromptsEnabled() &&\n    broker.send('notifySuggestedPrompt', threadManager.currentThread.suggestedNextPrompt);\n  sendChatHistory(broker, threadManager.currentThread.history);\n}\n\nexport async function trySaveThread(prompts: PromptProvider, broker: ExtensionBrokerImpl) {\n  if (threadManager.currentThread.history.isEmpty || threadManager.currentThread.isSaving) {\n    return;\n  }\n\n  await threadManager.saveCurrentThread(async () => {\n    const prompt = prompts.nameThreadPrompt();\n    const params = {\n      get history() {\n        return JSON.stringify(threadManager.currentThread.history.user);\n      },\n      // TODO: This shouldn't be required...\n      get currentLine() {\n        return 0;\n      },\n    };\n    try {\n      const response = await prompts.execute(prompt, params);\n      return response.llmResponse?.candidates[0]?.text;\n    } catch (e) {\n      debugLogger(\n        `Unable to generate title for chat thread ${threadManager.currentThread.id}: ${e}`\n      );\n    }\n    return undefined;\n  });\n  const threads = await threadManager.listThreads();\n  broker.send('notifyChatThreadSummaries', threads);\n  broker.send('notifyCurrentThread', threadManager.currentThread.id);\n}\n\nfunction parseCommand(prompt: string): [string, string] {\n  if (prompt.startsWith('/')) {\n    const [command, query] = prompt.slice(1).split(/ (.*)/s);\n    return [command, query];\n  }\n  return ['', prompt];\n}\n","import * as vscode from 'vscode';\nimport {UserChatHistory, ChatMessage} from '~common/messaging/modules/aichat/aichat-protocol';\nimport {createPreambleFromPrompt, getIndexedFiles, isRetrievalEnabled} from './retrieval';\nimport {ExtensionContext} from './context';\nimport {mergeWithExistingCodeBlockIfPresent} from './util';\n\nconst monospaceextension = vscode.extensions.getExtension('google.monospace');\n\ninterface AidaStreamingRpc {\n  responseFromAida(\n    ctx: ExtensionContext,\n    prompt: string,\n    slashCommand: string | undefined,\n    chatHistory: UserChatHistory,\n    aidaObservable: AidaObservable\n  ): Promise<void>;\n}\n\nexport function acquireStreamingRpc(type: 'streaming-conversation'): AidaStreamingRpc {\n  if (type === 'streaming-conversation') {\n    return new StreamingConversationRpc();\n  } else {\n    throw new Error('Invalid type');\n  }\n}\n\n//Conversation API\n\nexport interface Citation {\n  startIndex: number;\n  endIndex: number;\n  repository: string;\n  license: string;\n  uri: string;\n}\n\nexport interface AidaChatHistory {\n  text: string;\n  entity: 'user' | 'system';\n}\n\nexport interface AidaFact {\n  text: string\n}\n\nexport interface AidaConversationResponse {\n  code?: string;\n  text?: string;\n  customResponse?: string;\n  citations?: Citation[];\n  rpcGlobalId?: string;\n}\n\nexport interface AidaGenerateResponse {\n  summary: string;\n  citations?: Citation[];\n  rpcGlobalId?: string;\n}\n\n//Streaming API\nexport interface AidaObservable {\n  chatHistoryUpdate(response: UserChatHistory): void;\n  error(e: Error): void;\n  done(): void;\n}\n\ninterface Observer<T> {\n  next(response: T): void;\n  error(e: Error): void;\n  done(): void;\n}\n\ninterface Unsubscribable {\n  unsubscribe(): void;\n}\n\nexport interface Observable<T> {\n  subscribe(observer: Observer<T>): Unsubscribable;\n}\n\nexport class StreamingConversationRpc implements AidaStreamingRpc {\n  async responseFromAida(\n    ctx: ExtensionContext,\n    prompt: string,\n    slashCommand: string | undefined,\n    chatHistory: UserChatHistory,\n    aidaObservable: AidaObservable\n  ): Promise<void> {\n    let preamble = '';\n    let facts = '';\n    let indexedRepoFiles: string[] = [];\n\n    const useSelfawareFacts = slashCommand === 'idx';\n\n    if (isRetrievalEnabled()) {\n      indexedRepoFiles = await getIndexedFiles();\n      ({preamble, facts} = await createPreambleFromPrompt(ctx, prompt, true, useSelfawareFacts));\n    } else {\n      ({preamble, facts} = await createPreambleFromPrompt(ctx, prompt, false, useSelfawareFacts));\n    }\n\n    //Remove the last entry of history if it's equal to user\n    //See b/305088892\n    let chatMessagesToSend = [...chatHistory];\n    if (\n      chatMessagesToSend.length > 0 &&\n      chatMessagesToSend[chatMessagesToSend.length - 1].speaker === 'user'\n    ) {\n      chatMessagesToSend.pop();\n    }\n\n    let chatResponse = '';\n    let rpcGlobalId: any = '0';\n    //Do a constant update for streaming and then a final update with recitations\n    const conversationResponses: AidaConversationResponse[] = [];\n    const allCitations: Citation[] = [];\n\n    const dedupe = (citations: Citation[]): Citation[] => {\n      const seen: {[key: string]: boolean} = {};\n      const dedupedArray: Citation[] = [];\n\n      for (const citation of citations) {\n        const key = `${citation.repository}-${citation.license}`;\n\n        if (!seen[key]) {\n          seen[key] = true;\n          dedupedArray.push(citation);\n        }\n      }\n\n      return dedupedArray;\n    };\n\n    const whenDone = () => {\n      chatResponse = '';\n      let startIndex = 0;\n\n      conversationResponses.forEach(response => {\n        rpcGlobalId = response.rpcGlobalId;\n        const textForCurrent = isNotEmpty(response.code) ? response.code : response.text;\n        if (!textForCurrent) {\n          return;\n        }\n        const endIndex = startIndex + textForCurrent.length;\n\n        //Find citations for this code\n        const filteredCitations = allCitations.filter(\n          citation => startIndex <= citation.endIndex && endIndex >= citation.startIndex\n        );\n        const citationStr = dedupe(filteredCitations)\n          .map(citation => `$citation:${JSON.stringify(citation)}`)\n          .join('\\n');\n\n        chatResponse = isNotEmpty(response.code)\n          ? mergeWithExistingCodeBlockIfPresent(chatResponse, response.code!, citationStr)\n          : `${chatResponse}${response.text}`;\n        startIndex = endIndex + 1;\n      });\n      const chatHistoryItem: ChatMessage = {\n        speaker: 'ai',\n        body: chatResponse,\n        fileReferences: indexedRepoFiles.filter(f => chatResponse.indexOf(f) >= 0),\n        rpcGlobalId: rpcGlobalId,\n        slashCommand,\n      };\n      aidaObservable.chatHistoryUpdate([...chatHistory, chatHistoryItem]);\n    };\n\n    let firstResponse = true;\n    let startTime = new Date();\n    const observer: Observer<AidaConversationResponse> = {\n      next: function (response: AidaConversationResponse): void {\n        let responseTime = new Date();\n        let duration = responseTime.getTime() - startTime.getTime();\n        if (firstResponse) {\n          firstResponse = false;\n          logLatencyEvent(\n            'aichat.conversation.first_received',\n            duration,\n            startTime,\n            responseTime,\n            ''\n          );\n        }\n        if (!response) {\n          whenDone();\n          logLatencyEvent(\n            'aichat.conversation.last_received',\n            duration,\n            startTime,\n            responseTime,\n            'done'\n          );\n          aidaObservable.done();\n          return;\n        }\n\n        chatResponse = isNotEmpty(response.code)\n          ? mergeWithExistingCodeBlockIfPresent(chatResponse, response.code!)\n          : `${chatResponse}${response.text}`;\n        const chatHistoryItem: ChatMessage = {\n          speaker: 'ai',\n          body: chatResponse,\n          rpcGlobalId: response.rpcGlobalId,\n          slashCommand,\n        };\n        conversationResponses.push(response);\n        if (response.citations) {\n          allCitations.push(...response.citations);\n        }\n        aidaObservable.chatHistoryUpdate([...chatHistory, chatHistoryItem]);\n      },\n      error: function (e: Error): void {\n        let responseTime = new Date();\n        let duration = responseTime.getMilliseconds() - startTime.getMilliseconds();\n        logLatencyEvent(\n          'aichat.conversation.last_received',\n          duration,\n          startTime,\n          responseTime,\n          'error'\n        );\n        console.log('**Error');\n        console.log(e);\n        whenDone();\n        aidaObservable.done();\n      },\n      done: function (): void {\n        whenDone();\n        let responseTime = new Date();\n        let duration = responseTime.getMilliseconds() - startTime.getMilliseconds();\n        logLatencyEvent(\n          'aichat.conversation.last_received',\n          duration,\n          startTime,\n          responseTime,\n          'done'\n        );\n        console.log('done');\n        aidaObservable.done();\n      },\n    };\n\n    const observable = (await ctx.idx?.exports.doStreamingConversation(\n      prompt,\n      chatMessagesToSend.map(history => {\n        return {\n          text: history.body ?? '',\n          entity: history.speaker === 'ai' ? 'system' : 'user',\n        };\n      }),\n      preamble,\n      facts ? [{text: facts}] : undefined\n    )) as Observable<AidaConversationResponse>;\n    //Todo(ksat): Unsubscribe after a timeout\n    observable.subscribe(observer);\n  }\n}\n\nfunction logLatencyEvent(\n  action: string,\n  elapsedTime: number,\n  start_time: Date,\n  end_time: Date,\n  details: string\n) {\n  try {\n    monospaceextension?.exports.logLatencyEvent(action, elapsedTime, start_time, end_time, details);\n  } catch (e) {\n    console.log('Telemetry logging error: ' + e);\n  }\n}\n\n//Utility methods\nfunction isNotEmpty(str?: string): boolean {\n  return !isEmpty(str);\n}\nfunction isEmpty(str?: string): boolean {\n  return str === undefined || str === null || str.trim() === '';\n}\n","import * as vscode from 'vscode';\nimport * as path from 'path';\nimport globToRegex from 'glob-to-regexp';\n\nimport {ExtensionContext} from './context';\nimport {AiExclude, AI_EXCLUDE_FILENAME} from '../../ai-exclude';\nimport {homedir} from 'os';\nimport {ignoreAiExclude} from './aichat';\n\n/**\n * AiExcludeProvider wraps the AiExclude class to provide caching for exclusion patterns\n * and watchers for changes to .aiexclude files. Reading and watching files is deferred\n * until the user takes an action that checks for an excluded file for the first time\n * to not affect startup performance of the extension.\n */\nexport class AiExcludeProvider {\n  private patterns: Promise<string[]> | undefined;\n  private regexp: [string, RegExp][] | undefined;\n  private isWatching = false;\n\n  constructor(\n    private ctx: Pick<ExtensionContext, 'logger' | 'vsc'>,\n    private root: string = homedir(),\n    private aiExclude = new AiExclude(root)\n  ) {\n    vscode.commands.registerCommand('monospace.aiExclude.isExcluded', (uri: vscode.Uri) => {\n      this.ctx.logger.debug(`command:monospace.aiExclude.isExcluded(${uri.fsPath})`);\n      return this.isExcluded(uri);\n    });\n  }\n\n  /**\n   * isExcluded checks if a file within the workspace has been matches a pattern in a\n   * .aiexclude file from the current directory or any of its parent directories.\n   * @param uri the file to check\n   * @returns\n   */\n  async isExcluded(uri: vscode.Uri): Promise<boolean> {\n    if (ignoreAiExclude) {\n      return false;\n    }\n    const start = performance.now();\n    if (!this.isWatching) {\n      this.ctx.logger.debug('watching .aiexclude files for changes');\n      this.watchAiExcludeFiles();\n      this.isWatching = true;\n    }\n    // save the list of exclusions so they aren't reprocessed each time we\n    // check for them.\n    if (!this.patterns) {\n      this.ctx.logger.debug('cache is empty, reading .aiexclude files');\n      this.patterns = this.aiExclude.getPatternsToExclude();\n      this.regexp = (await this.patterns).map(p => [p, globToRegex(path.resolve(this.root, p))]);\n    }\n    for (const [pattern, regexp] of this.regexp ?? []) {\n      if (regexp.test(uri.path)) {\n        const end = performance.now();\n        this.ctx.logger.debug(`isExcluded(${uri.path}) took ${end - start} ms`);\n        this.ctx.logger.debug(`file ${uri.path} is excluded by pattern: ${pattern}`);\n        return true;\n      }\n    }\n    const end = performance.now();\n    this.ctx.logger.debug(`isExcluded(${uri.path}) took ${end - start} ms`);\n    this.ctx.logger.debug(`file ${uri.path} is not excluded`);\n    return false;\n  }\n\n  /**\n   * watchAiExcludeFiles watches for fs events to the AI_IGNORE_FILENAME files\n   * that affect the workspace.\n   * When a file is changed, created, or deleted, we delete the cached exclusions\n   * patterns from the patterns. The list of exclusions is then processed again\n   * when isExcluded is called.\n   *\n   * @param root the root of the workspace\n   */\n  private watchAiExcludeFiles() {\n    if (ignoreAiExclude || this.isWatching) return;\n    const watcher = vscode.workspace.createFileSystemWatcher(\n      path.join(this.root, '**', AI_EXCLUDE_FILENAME)\n    );\n    this.ctx.vsc.subscriptions.push(watcher);\n    watcher.onDidChange(file => {\n      this.ctx.logger.debug(`${file.fsPath} has changed, removing saved patterns`);\n      delete this.patterns;\n      delete this.regexp;\n    });\n    watcher.onDidCreate(file => {\n      this.ctx.logger.debug(`${file.fsPath} was created, removing saved patterns`);\n      delete this.patterns;\n      delete this.regexp;\n    });\n    watcher.onDidDelete(file => {\n      this.ctx.logger.debug(`${file.fsPath} was deleted, removing saved patterns`);\n      delete this.patterns;\n      delete this.regexp;\n    });\n  }\n}\n","import * as vscode from 'vscode';\nimport {ExtensionContext} from './context';\nimport {getHtmlForWebview} from './html-scaffold';\nimport {ExtensionBrokerImpl} from './messaging/extension-broker';\nimport {getLicenseAttributionList} from 'vscode-shared/ai-recitation';\n\nconst RECITATION_VIEW_TYPE = 'airecitation.view';\n\nlet recitationPanel: vscode.WebviewPanel | undefined;\nlet focusId: string = '';\n\nexport async function setupAiRecitation(ctx: ExtensionContext) {\n  let {vsc, broker} = ctx;\n\n  vsc.subscriptions.push(\n    vscode.commands.registerCommand('monospace.showLicenseAttribution', args => {\n      ensureAndShowRecitationPanel(ctx);\n      focusId = args?.anchor || '';\n    })\n  );\n\n  broker.on('getRecitationLog', async () => sendRecitationLogToWebview(ctx));\n}\n\nasync function sendRecitationLogToWebview({broker}: ExtensionContext) {\n  const attributionsList = await getLicenseAttributionList();\n  broker.send('notifyRecitationLog', attributionsList, focusId);\n}\n\nfunction ensureAndShowRecitationPanel(ctx: ExtensionContext) {\n  if (recitationPanel) {\n    recitationPanel.reveal();\n    setTimeout(() => sendRecitationLogToWebview(ctx), 500);\n    return recitationPanel;\n  }\n\n  const {vsc: context, broker} = ctx;\n\n  recitationPanel = vscode.window.createWebviewPanel(\n    RECITATION_VIEW_TYPE,\n    'AI License Log',\n    vscode.ViewColumn.Two,\n    {\n      retainContextWhenHidden: true,\n    }\n  );\n  recitationPanel.iconPath = vscode.Uri.joinPath(\n    context.extensionUri,\n    'resources',\n    'icon-small.svg'\n  );\n  recitationPanel.onDidDispose(() => {\n    recitationPanel = undefined;\n  });\n\n  setupWebView(broker, recitationPanel.webview, context.extensionUri);\n}\n\nfunction setupWebView(\n  broker: ExtensionBrokerImpl,\n  webview: vscode.Webview,\n  extensionUri: vscode.Uri\n) {\n  broker.registerReceiver(webview);\n  webview.options = {\n    enableScripts: true,\n    localResourceRoots: [extensionUri],\n  };\n  webview.html = getHtmlForWebview('airecitationlog', extensionUri, webview);\n}\n","import * as user from '~common/messaging/modules/aichat/aichat-protocol';\nimport * as internal from './agentive/api';\nimport {FunctionState} from './agentive/functions/external-function';\n\nexport class ChatHistory {\n  internalMarks: number[] = [];\n  public allowTools = true;\n\n  constructor(\n    private userFacing: user.UserChatHistory,\n    private internalFacing: internal.Content[]\n  ) {}\n\n  get lastInternalMessage(): internal.Content | undefined {\n    return this.internalFacing.length === 0\n      ? undefined\n      : this.internalFacing[this.internalFacing.length - 1];\n  }\n\n  get lastInternalPart(): internal.Part | undefined {\n    return this.lastInternalMessage?.parts[0];\n  }\n\n  get lastInternalFunctionCall(): internal.FunctionCall | undefined {\n    return this.lastInternalPart?.functionCall;\n  }\n\n  get isEmpty(): boolean {\n    return this.userFacing.length === 0;\n  }\n\n  get lastUserMessage(): user.ChatMessage | undefined {\n    return this.isEmpty ? undefined : this.userFacing[this.userFacing.length - 1];\n  }\n\n  get lastFunctionState(): FunctionState | undefined {\n    return FunctionState.fromLastFrame(this.lastUserMessage?.functionThreadState);\n  }\n\n  clear() {\n    this.userFacing = [];\n    this.internalFacing = [];\n    this.internalMarks = [];\n    this.allowTools = true;\n  }\n\n  // The truncation logic expects that a user message is pushed first, then\n  // all of the external messages associated with that user message are pushed after.\n  truncateToPosition(position: number) {\n    this.userFacing = this.userFacing.slice(0, position);\n    const popTo = this.internalMarks[position];\n    this.internalMarks = this.internalMarks.slice(0, position);\n    this.internalFacing = this.internalFacing.slice(0, popTo);\n  }\n\n  popBack() {\n    this.truncateToPosition(this.userFacing.length - 1);\n  }\n\n  set(history: user.UserChatHistory) {\n    this.userFacing = history;\n    this.internalFacing = [];\n  }\n\n  get user(): user.UserChatHistory {\n    return this.userFacing;\n  }\n\n  get internal(): internal.Content[] {\n    //If tools are not requested, don't send a preamble\n    //(first two messages, Ref: see initializeConversation)\n    return this.allowTools ? this.internalFacing : this.internalFacing.slice(2);\n  }\n\n  pushUserMessage(message: user.ChatMessage) {\n    this.userFacing.push(message);\n    this.internalMarks.push(this.internalFacing.length);\n  }\n\n  pushInternalMessage(message: internal.Content) {\n    this.internalFacing.push(message);\n  }\n}\n","import * as vscode from 'vscode';\n\nexport function getErrorList(request: vscode.InteractiveEditorRequest): string | undefined {\n  if (!vscode.window.activeTextEditor?.document) {\n    return undefined;\n  }\n  let targetRange = wholeLines(!request.selection.isEmpty ? request.selection : request.wholeRange);\n  let errors: string[] = [];\n  if (vscode.window.activeTextEditor?.document?.uri && !targetRange.isEmpty) {\n    let diagnostics = vscode.languages\n      .getDiagnostics(vscode.window.activeTextEditor?.document?.uri)\n      .filter(d => !d.range.intersection(targetRange)?.isEmpty);\n    errors = diagnostics.length ? [diagnostics[0].message] : [];\n  }\n  return errors.map(e => `- ${e}`).join('\\n');\n}\n\nexport function hasErrorsForRange(\n  range: vscode.Range,\n  activeEditor = vscode.window.activeTextEditor\n): boolean {\n  if (activeEditor?.document?.uri && !range.isEmpty) {\n    let diagnostics = vscode.languages\n      .getDiagnostics(activeEditor?.document?.uri)\n      .filter(d => !d.range.intersection(range)?.isEmpty);\n    return diagnostics.length > 0;\n  }\n  return false;\n}\n\nexport function errorsForRange(\n  range: vscode.Range,\n  activeEditor = vscode.window.activeTextEditor\n): string | undefined {\n  if (!activeEditor?.document.uri || range.isEmpty) {\n    return '';\n  }\n  let diagnostics = vscode.languages\n    .getDiagnostics(activeEditor.document.uri)\n    .filter(d => !d.range.intersection(range)?.isEmpty);\n  const errors = diagnostics.length ? [diagnostics[0].message] : [];\n  return errors.map(e => `- ${e}`).join('\\n');\n}\n\nfunction wholeLines(range: vscode.Range): vscode.Range {\n  return new vscode.Range(range.start.line, 0, range.end.line, 9999);\n}\n","import {makePromptEngine} from 'prompt-engine';\nimport * as vscode from 'vscode';\n\nimport {createBroker} from '../common/messaging/broker';\nimport {ExtensionToWebview, WebviewToExtension} from '../common/messaging/protocol';\nimport {outsideOfIDX, setupAiChat} from './aichat';\nimport {setupAiRecitation} from './airecitation';\nimport {ExtensionContext} from './context';\nimport {LogLevel, OutputChannel} from './logger';\nimport {ExtensionBroker} from './messaging/extension-broker';\nimport {setupPromptProvider} from './prompt';\nimport {setupSidekick} from './sidekick';\nimport {setupWebViewThemingSync} from './theming-sync';\nimport {FeatureFlags} from './features';\nimport {ConversationalAgent} from './agentive/conversational-agent';\nimport {initializeThreadManager} from './thread-manager';\nimport {initializeTelemetryLogger} from './telemetry';\nimport retrieverSemantic from 'prompt-engine/retriever-idx-ra-docs';\nimport {AiExcludeProvider} from './aiexclude';\nimport {\n  initializeIdxAgentSettings,\n  initializeIdxAgentSystemInterface,\n} from './initialize-idx-agent';\n\nconst OUTPUT_CHANNEL_NAME = 'Gemini';\n\n// TODO: Move this to boq side.\n// API key for calling the semantic retrieval endpoint.\n// This is safe to expose because of the following restriction:\n// 1. Only Generative language API is allowed on this key.\n// 2. All endpoints' quota are set to 0 except the retrieval endpoint.\n// 3. We are querying a world-readable corpus hosted under `monospace-docs-corpus-manager` project.\n//\n// Manage the API key here:\n// https://pantheon.corp.google.com/apis/credentials/key/5dcad2c6-8086-4d18-88d6-5ed74c743394?project=monospace-docs-corpus-consumer\nvar _0xffc6 = [\n  '\\x41\\x49\\x7A\\x61\\x53\\x79\\x43\\x55\\x63\\x5F\\x77\\x31\\x5F\\x69\\x51\\x43\\x4F\\x53\\x49\\x48\\x53\\x5F\\x6A\\x73\\x53\\x6F\\x49\\x45\\x73\\x4B\\x39\\x52\\x53\\x32\\x54\\x66\\x34\\x54\\x6B',\n];\nconst SEMANTIC_RETRIEVER_API_KEY = _0xffc6[0];\n\n// World readable corpus hosted under `monospace-docs-corpus-manager` project.\nconst CORPUS_ID = 'idx-docs-mk99cxcjayn1';\n\nasync function waitForIDXPluginToBeReady(context: ExtensionContext) {\n  const delayMs = 500;\n\n  while (true) {\n    let monospaceextension = vscode.extensions.getExtension('google.monospace');\n    try {\n      if (!monospaceextension) {\n        throw new Error('Monospace Extension not found, wait for it to load');\n      }\n      await monospaceextension.exports.isIdxPluginReady();\n      context.idx = monospaceextension;\n      console.log('IDX Extension is ready, loading IDX AI plugin');\n      return;\n    } catch (error) {\n      //probably one of those cases where better to log to console?\n      console.log('IDX vscode Plugin is not ready, waiting');\n      await new Promise(resolve => setTimeout(resolve, delayMs));\n    }\n  }\n}\n\nexport async function activate(context: vscode.ExtensionContext) {\n  const ctx = {} as ExtensionContext;\n  ctx.vsc = context;\n  //IDX Plugin needs to be ready for AI plugin to do much, wait for it to be ready\n  if (!outsideOfIDX) {\n    await waitForIDXPluginToBeReady(ctx);\n  }\n\n  ctx.broker = createBroker<ExtensionToWebview, WebviewToExtension, vscode.Webview>(\n    new ExtensionBroker()\n  );\n  ctx.logger = new OutputChannel(OUTPUT_CHANNEL_NAME, LogLevel.ERROR);\n  ctx.engine = defaultEngine(ctx);\n  ctx.features = new FeatureFlags(ctx);\n  ctx.aiExclude = new AiExcludeProvider(ctx);\n  ctx.idxAgentSettings = initializeIdxAgentSettings();\n  ctx.conversationalAgent = new ConversationalAgent(\n    await ctx.features.isDoNotTrackRegion(),\n    ctx.idxAgentSettings,\n    initializeIdxAgentSystemInterface(),\n    ctx.broker,\n    async () => {\n      if (ctx.idxAgentSettings.urlNeedsProjectId) {\n        const exports = ctx.idx?.exports;\n        return {projectId: exports?.getProjectId(), token: await exports?.getToken()};\n      }\n      return undefined;\n    }\n  );\n\n  initializeThreadManager(context, ctx.idxAgentSettings.isDefault);\n  setupPromptProvider(ctx);\n  const aiExport = setupAiChat(ctx);\n  setupSidekick(ctx);\n  setupAiRecitation(ctx);\n  setupWebViewThemingSync(ctx);\n  initializeTelemetryLogger(ctx);\n\n  return aiExport;\n}\n\nfunction defaultEngine(ctx: ExtensionContext) {\n  return makePromptEngine({\n    llm: {\n      async complete(input: any) {\n        ctx.logger.debug('executing prompt:\\n' + input.prompt);\n        const response = await ctx.idx?.exports.generateCode(\n          input.prompt,\n          input.stopSequences?.[0] ?? 'Explanation of changes:'\n        );\n        ctx.logger.debug('generate code response:\\n' + JSON.stringify(response));\n        const candidates = response?.map(r => ({text: r.summary, ...r})) ?? [];\n        return {candidates};\n      },\n    },\n    roleDecorator(role: any) {\n      // These role decorators are for generateCode only. Do not use for\n      // doConversation.\n      if (role === 'model') {\n        return [`<start_of_turn>${role}\\n`, '\\n'];\n      }\n      return [`<start_of_turn>${role}\\n`, `<end_of_turn>\\n`];\n    },\n    retrievers: outsideOfIDX\n      ? {}\n      : {\n          idxdocs: retrieverSemantic({corpusId: CORPUS_ID, apiKey: SEMANTIC_RETRIEVER_API_KEY}),\n        },\n  });\n}\n","import {ExtensionContext} from './context';\n\nexport class FeatureFlags {\n  constructor(private ctx: ExtensionContext) {}\n\n  async isEarlyAccessCommandsEnabled() {\n    return this.isEnabled('early_access_commands_enabled');\n  }\n\n  async isSlashCommandsEnabled() {\n    return this.isEnabled('slash_commands_enabled');\n  }\n\n  async isActionsInChatEnabled() {\n    return this.isEnabled('actions_in_chat_enabled');\n  }\n\n  async isDoNotTrackRegion() {\n    return this.isEnabled('do_not_track_region');\n  }\n\n  private async isEnabled(name: string) {\n    const {idx, logger} = this.ctx;\n    if (!idx) {\n      return false;\n    }\n    let isEnabled: boolean | undefined;\n    try {\n      isEnabled = await idx?.exports.isFeatureEnabled(name);\n    } catch (e) {\n      logger.error(`check to see if ${name} is enabled failed: ${e}`);\n      return false;\n    }\n    logger.info(`${name}: ${isEnabled}`);\n    return isEnabled;\n  }\n}\n","import * as vscode from 'vscode';\nimport {readFile as fsReadFile} from 'fs';\nimport * as path from 'path';\nimport {TextEncoder, TextDecoder} from 'util';\n\nexport function relativePathToWorkspaceUri(relativePath: string): vscode.Uri | undefined {\n  if (vscode.workspace.workspaceFolders && vscode.workspace.workspaceFolders.length === 1) {\n    const root = vscode.workspace.workspaceFolders[0].uri;\n    return vscode.Uri.joinPath(root, relativePath);\n  }\n  return undefined;\n}\n\nexport async function fileTypeUriExists(\n  uri: vscode.Uri,\n  fileType: vscode.FileType\n): Promise<boolean> {\n  try {\n    const stat = await vscode.workspace.fs.stat(uri);\n    return stat.type === fileType;\n  } catch {}\n  return false;\n}\n\nexport async function fileUriExists(uri: vscode.Uri): Promise<boolean> {\n  return fileTypeUriExists(uri, vscode.FileType.File);\n}\n\nexport async function folderUriExists(uri: vscode.Uri): Promise<boolean> {\n  return fileTypeUriExists(uri, vscode.FileType.Directory);\n}\n\nexport async function fileTypeExists(\n  relativePath: string,\n  fileType: vscode.FileType\n): Promise<boolean> {\n  let workspaceUri = relativePathToWorkspaceUri(relativePath);\n  if (workspaceUri) {\n    return fileTypeUriExists(workspaceUri, fileType);\n  }\n  return false;\n}\n\nexport async function fileExists(relativePath: string): Promise<boolean> {\n  return fileTypeExists(relativePath, vscode.FileType.File);\n}\n\nexport async function folderExists(relativePath: string): Promise<boolean> {\n  return fileTypeExists(relativePath, vscode.FileType.Directory);\n}\n\nexport async function readFile(relativePath: string): Promise<string> {\n  let workspaceUri = relativePathToWorkspaceUri(relativePath);\n  if (workspaceUri) {\n    const decoder = new TextDecoder();\n    const fileContent = await vscode.workspace.fs.readFile(workspaceUri);\n    return decoder.decode(fileContent);\n  }\n\n  return 'Error: File Not Found';\n}\n\nexport async function deleteFile(relativePath: string): Promise<void> {\n  let workspaceUri = relativePathToWorkspaceUri(relativePath);\n  if (workspaceUri) {\n    await vscode.workspace.fs.delete(workspaceUri);\n  }\n}\n\nexport async function writeFile(relativePath: string, content: string): Promise<void> {\n  let workspaceUri = relativePathToWorkspaceUri(relativePath);\n  if (workspaceUri) {\n    const encoder = new TextEncoder();\n    console.log(`Writing content to file: ${workspaceUri}, content is : ${content}`);\n    await vscode.workspace.fs.writeFile(workspaceUri, encoder.encode(''));\n    console.log(`opening file: ${workspaceUri}`);\n    await openDocument(relativePath);\n    await vscode.workspace.fs.writeFile(workspaceUri, encoder.encode(content));\n    await openDocument(relativePath);\n    await vscode.commands.executeCommand('workbench.action.files.revert');\n  }\n}\n\nexport async function openDocument(relativePath: string): Promise<void> {\n  const f = resolve(relativePath);\n  if (!f) {\n    throw new Error(`File: ${path} not found`);\n  }\n  console.log('opening text document:' + f);\n  const document = await vscode.workspace.openTextDocument(f);\n  await vscode.window.showTextDocument(document, vscode.ViewColumn.One);\n}\n\nexport function resolve(file: string | undefined): string | undefined {\n  const workspace = vscode.workspace;\n  //See if we can open main.dart in the current workspace folder\n  if (workspace.workspaceFolders) {\n    if (workspace.workspaceFolders.length === 1) {\n      const directory = workspace.workspaceFolders[0].uri.fsPath;\n      if (file) {\n        return path.resolve(directory, file);\n      } else {\n        return directory;\n      }\n    }\n  }\n  return undefined;\n}\n\nasync function collectFilesRecursive(\n  rootUri: vscode.Uri,\n  relativePath: string,\n  collectedFiles: string[],\n  ignore: Set<string>\n): Promise<void> {\n  const configPath = vscode.Uri.joinPath(rootUri, relativePath);\n  for (const entry of await vscode.workspace.fs.readDirectory(configPath)) {\n    const name = entry[0];\n    // Ignore anything that starts with a '.', in addition to anything we are explicitly told to\n    // ignore.\n    if (ignore.has(name) || name.startsWith('.')) {\n      continue;\n    }\n    const type = entry[1];\n    const path = `${relativePath}/${name}`;\n    const isFile = (type & vscode.FileType.File) !== 0;\n    const isDirectory = (type & vscode.FileType.Directory) !== 0;\n    if (isFile) {\n      collectedFiles.push(path);\n    } else if (isDirectory) {\n      await collectFilesRecursive(rootUri, path, collectedFiles, ignore);\n    }\n  }\n}\n\nexport async function listFilesRecursive(\n  relativePath: string,\n  ignore: Set<string>\n): Promise<string[]> {\n  if (vscode.workspace.workspaceFolders && vscode.workspace.workspaceFolders.length === 1) {\n    const root = vscode.workspace.workspaceFolders[0].uri;\n    const files: string[] = [];\n    await collectFilesRecursive(root, relativePath, files, ignore);\n    return files;\n  }\n  return [];\n}\n\nexport function readFileAsString(path: string): Promise<string> {\n  return new Promise((resolve, reject) => {\n    fsReadFile(path, 'utf8', (err, data) => {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(data);\n      }\n    });\n  });\n}\n","import {Uri, Webview} from 'vscode';\n\nexport function getHtmlForWebview(\n  entryName: string,\n  extensionUri: Uri,\n  webview: Webview,\n  globals?: {[key: string]: any}\n) {\n  const scriptUri = webview.asWebviewUri(Uri.joinPath(extensionUri, `web-${entryName}.js`));\n  const styleUri = webview.asWebviewUri(Uri.joinPath(extensionUri, `web-${entryName}.css`));\n  const moniconWoffUri = webview.asWebviewUri(\n    Uri.joinPath(extensionUri, 'resources/monicons.woff')\n  );\n  const codiconCssUri = webview.asWebviewUri(Uri.joinPath(extensionUri, 'codicons/codicon.css'));\n  const codiconTtfUri = webview.asWebviewUri(Uri.joinPath(extensionUri, 'codicons/codicon.ttf'));\n  const rootExtensionUri = webview.asWebviewUri(extensionUri);\n  // Use a nonce to only allow a specific script to be run.\n  const nonce = getNonce();\n\n  return `<!DOCTYPE html>\n\t\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\t\t\t\t<!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n\t\t\t\t-->\n\t\t\t\t<meta http-equiv=\"Content-Security-Policy\" content=\"\n          default-src ${webview.cspSource};\n          font-src ${webview.cspSource} https://fonts.gstatic.com;\n          img-src ${webview.cspSource} https://*.googleusercontent.com;\n          frame-src https://*;\n          style-src ${webview.cspSource} https://fonts.googleapis.com 'unsafe-inline';\n          script-src 'nonce-${nonce}' 'unsafe-eval';\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <link href=\"${codiconCssUri.toString().replace(/%40/g, '@')}\" rel=\"stylesheet\">\n\t\t\t\t<link href=\"${styleUri}\" rel=\"stylesheet\">\n        <link href=\"https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap\" rel=\"stylesheet\">\n        <style>\n          @font-face {\n            font-family: \"Monicons\";\n            src: url(\"${moniconWoffUri}\") format(\"woff\");\n            font-weight: normal;\n            font-style: normal;\n          }\n          /* for codicons to work in Safari, this seems to need to be inlined,\n             as opposed to being pulled in via codicon.css */\n          @font-face {\n            font-family: \"codicon\";\n            src: url(\"${codiconTtfUri}\") format(\"truetype\");\n            font-weight: normal;\n            font-style: normal;\n          }\n        </style>\n\t\t\t</head>\n\t\t\t<body>\n        <div id=\"root\"></div>\n        <script nonce=\"${nonce}\">\n          window['EXTENSION_ROOT_URI'] = ${JSON.stringify(rootExtensionUri.toString())};\n          ${Object.entries(globals || {})\n            .map(([k, v]) => {\n              return `window['${k}'] = ${JSON.stringify(v)};`;\n            })\n            .join('\\n')}\n        </script>\n\t\t\t\t<script nonce=\"${nonce}\" src=\"${scriptUri}\"></script>\n\t\t\t</body>\n\t\t\t</html>`;\n}\n\nfunction getNonce() {\n  let text = '';\n  const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  for (let i = 0; i < 32; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return text;\n}\n","import * as vscode from 'vscode';\nimport {\n  CONFIG_AI_ACTIONS_IN_CHAT_DEFAULT,\n  CONFIG_AI_ACTIONS_IN_CHAT_USE_RETRIEVAL,\n  CONFIG_AI_ACTIONS_IN_CHAT_ALWAYS_ALLOW_TOOLS,\n  CONFIG_AI_ACTIONS_IN_CHAT_CANDIDATE_RETRIES,\n  CONFIG_AI_ACTIONS_IN_CHAT_FILE_LOG_TO_CHANNEL,\n  CONFIG_AI_ACTIONS_IN_CHAT_USE_PLAYBACK_LLM,\n  CONFIG_AI_ACTIONS_IN_CHAT_USE_STREAMING,\n  CONFIG_AI_ACTIONS_IN_CHAT_URL,\n  CONFIG_AI_ACTIONS_IN_CHAT_API_KEY,\n  CONFIG_AI_ACTIONS_IN_CHAT_MAX_OUTPUT_TOKENS,\n  CONFIG_AI_ACTIONS_IN_CHAT_MODEL,\n  CONFIG_AI_ACTIONS_IN_CHAT_MIN_TEMPERATURE,\n  CONFIG_AI_ACTIONS_IN_CHAT_MAX_TEMPERATURE,\n  CONFIG_AI_ACTIONS_IN_CHAT_MIN_TOP_K,\n  CONFIG_AI_ACTIONS_IN_CHAT_MAX_TOP_K,\n  CONFIG_AI_ACTIONS_IN_CHAT_MIN_TOP_P,\n  CONFIG_AI_ACTIONS_IN_CHAT_MAX_TOP_P,\n  CONFIG_AI_ACTIONS_IN_CHAT_URL_IS_AIDA,\n  CONFIG_AI_ACTIONS_IN_CHAT_AIDA_CANDIDATE_COUNT,\n  CONFIG_AI_WEB_SEARCH_CX,\n  CONFIG_AI_WEB_SEARCH_API_KEY,\n  CONFIG_AI_ENABLE_WEB_SEARCH,\n  CONFIG_AI_WEB_SEARCH_URL,\n  CONFIG_AI_ACTIONS_IN_CHAT_INDEXSERVER_MAX_DISTANCE,\n  CONFIG_AI_ACTIONS_IN_CHAT_INDEXSERVER_MAX_RESULTS,\n  CONFIG_AI_ACTIONS_IN_CHAT_ENABLE_SELF_AWARENESS,\n  CONFIG_AI_SLASH_IDX_RETRIEVAL_API_KEY,\n  CONFIG_AI_SLASH_IDX_RETRIEVAL_CORPUS_ID,\n} from 'vscode-shared/config';\nimport {getProperty} from './vscode-utils';\nimport {isRetrievalEnabled} from './retrieval';\nimport {IdxAgentSettings} from './agentive/idx-agent-settings';\nimport {SystemInterface} from './agentive/system-interface';\nimport {\n  deleteFile,\n  fileExists,\n  listFilesRecursive,\n  readFile,\n  writeFile,\n  folderExists,\n} from './file-utils';\n\nconst defaultAidaCandidateRetries = 0;\nconst defaultCandidateRetries = 10;\nconst defaultLlmModel = 'gemini-pro';\nconst defaultLlmMaxOutputTokens = 4096;\nconst defaultLlmMinTemperature = 0;\nconst defaultLlmMaxTemperature = 0.9;\nconst defaultLlmMinTopK = 1;\nconst defaultLlmMaxTopK = 32;\nconst defaultLlmMinTopP = 0.1;\nconst defaultLlmMaxTopP = 1;\nconst defaultLlmCandidateCount = 1;\nconst defaultAidaCandidateCount = 1;\nconst defaultLlmUrl = 'https://generativelanguage.googleapis.com/v1beta';\nconst defaultWebSearchUrl = 'https://customsearch.googleapis.com/customsearch/v1';\nconst defaultAidaLlmUrl = 'https://monospace-pa.googleapis.com/v1/aida:GenerateContent';\nconst defaultSystemInstructionFile = '/home/user/.idx/prompts/actions-system-instruction.txt';\nconst defaultMaxRagDistance = 0.9;\nconst defaultMaxRagResults = 3;\n\nexport function initializeIdxAgentSettings(): IdxAgentSettings {\n  // LLM specific settings.\n  let url = getProperty<string>(CONFIG_AI_ACTIONS_IN_CHAT_URL, defaultLlmUrl);\n  let urlIsAida = getProperty<boolean>(CONFIG_AI_ACTIONS_IN_CHAT_URL_IS_AIDA, false);\n  const apiKey = getProperty<string>(CONFIG_AI_ACTIONS_IN_CHAT_API_KEY, '');\n  const systemInstructionFile = getProperty<string>(\n    CONFIG_AI_ACTIONS_IN_CHAT_API_KEY,\n    defaultSystemInstructionFile\n  );\n  const llmModel = getProperty<string>(CONFIG_AI_ACTIONS_IN_CHAT_MODEL, defaultLlmModel);\n  const llmMinTemperature = getProperty<number>(\n    CONFIG_AI_ACTIONS_IN_CHAT_MIN_TEMPERATURE,\n    defaultLlmMinTemperature\n  );\n  const llmMaxTemperature = getProperty<number>(\n    CONFIG_AI_ACTIONS_IN_CHAT_MAX_TEMPERATURE,\n    defaultLlmMaxTemperature\n  );\n  const llmMinTopK = getProperty<number>(CONFIG_AI_ACTIONS_IN_CHAT_MIN_TOP_K, defaultLlmMinTopK);\n  const llmMaxTopK = getProperty<number>(CONFIG_AI_ACTIONS_IN_CHAT_MAX_TOP_K, defaultLlmMaxTopK);\n  const llmMinTopP = getProperty<number>(CONFIG_AI_ACTIONS_IN_CHAT_MIN_TOP_P, defaultLlmMinTopP);\n  const llmMaxTopP = getProperty<number>(CONFIG_AI_ACTIONS_IN_CHAT_MAX_TOP_P, defaultLlmMaxTopP);\n  const llmMaxOutputTokens = getProperty<number>(\n    CONFIG_AI_ACTIONS_IN_CHAT_MAX_OUTPUT_TOKENS,\n    defaultLlmMaxOutputTokens\n  );\n\n  // If the user enables actions in chat, but doesn't supply an API key, then we assume they want\n  // to use AIDA.\n  if (apiKey === '') {\n    if (url === defaultLlmUrl) {\n      url = defaultAidaLlmUrl;\n    }\n    urlIsAida = true;\n  }\n  const candidateCount = getProperty<number>(\n    CONFIG_AI_ACTIONS_IN_CHAT_AIDA_CANDIDATE_COUNT,\n    urlIsAida ? defaultAidaCandidateCount : defaultLlmCandidateCount\n  );\n  const isDefault = getProperty<boolean>(CONFIG_AI_ACTIONS_IN_CHAT_DEFAULT, false);\n  // If retrieval is enabled, then we assume the user wants to use it in Superchat.\n  const useRetrieval = getProperty<boolean>(\n    CONFIG_AI_ACTIONS_IN_CHAT_USE_RETRIEVAL,\n    isRetrievalEnabled()\n  );\n  const alwaysAllowTools = getProperty<boolean>(CONFIG_AI_ACTIONS_IN_CHAT_ALWAYS_ALLOW_TOOLS, true);\n  const candidateRetries = getProperty<number>(\n    CONFIG_AI_ACTIONS_IN_CHAT_CANDIDATE_RETRIES,\n    urlIsAida ? defaultAidaCandidateRetries : defaultCandidateRetries\n  );\n  const fileLogToChannel = getProperty<boolean>(\n    CONFIG_AI_ACTIONS_IN_CHAT_FILE_LOG_TO_CHANNEL,\n    false\n  );\n  const usePlaybackLlm = getProperty<boolean>(CONFIG_AI_ACTIONS_IN_CHAT_USE_PLAYBACK_LLM, false);\n  const useStreaming = getProperty<boolean>(CONFIG_AI_ACTIONS_IN_CHAT_USE_STREAMING, false);\n\n  // Web search related settings. These are a bit orthogonal, but for tidiness we include them in\n  // the global settings.\n  const webSearchIsEnabled = getProperty<boolean>(CONFIG_AI_ENABLE_WEB_SEARCH, false);\n  const webSearchCx = getProperty<string>(CONFIG_AI_WEB_SEARCH_CX, '');\n  const webSearchApiKey = getProperty<string>(CONFIG_AI_WEB_SEARCH_API_KEY, '');\n  const webSearchUrl = getProperty<string>(CONFIG_AI_WEB_SEARCH_URL, defaultWebSearchUrl);\n\n  // RAG settings.\n  const ragMaxDistance = getProperty<number>(\n    CONFIG_AI_ACTIONS_IN_CHAT_INDEXSERVER_MAX_DISTANCE,\n    defaultMaxRagDistance\n  );\n  const ragMaxResults = getProperty<number>(\n    CONFIG_AI_ACTIONS_IN_CHAT_INDEXSERVER_MAX_RESULTS,\n    defaultMaxRagResults\n  );\n  const ragSelfAwareness = getProperty<boolean>(\n    CONFIG_AI_ACTIONS_IN_CHAT_ENABLE_SELF_AWARENESS,\n    // Defaulting to `false` until we've had more time to test this.\n    false\n  );\n  const ragSelfAwarenessApiKey = getProperty<string>(CONFIG_AI_SLASH_IDX_RETRIEVAL_API_KEY, '');\n  const ragSelfAwarenessCorpusId = getProperty<string>(CONFIG_AI_SLASH_IDX_RETRIEVAL_CORPUS_ID, '');\n  return {\n    url,\n    urlIsAida,\n    urlNeedsProjectId: url === defaultAidaLlmUrl,\n    apiKey,\n    systemInstructionFile,\n    llmModel,\n    llmMinTemperature,\n    llmMaxTemperature,\n    llmMinTopK,\n    llmMaxTopK,\n    llmMinTopP,\n    llmMaxTopP,\n    llmMaxOutputTokens,\n    candidateCount,\n    isDefault,\n    useRetrieval,\n    alwaysAllowTools,\n    candidateRetries,\n    fileLogToChannel,\n    usePlaybackLlm,\n    useStreaming,\n    webSearchIsEnabled,\n    webSearchCx,\n    webSearchApiKey,\n    webSearchUrl,\n    ragMaxDistance,\n    ragMaxResults,\n    ragSelfAwareness,\n    ragSelfAwarenessApiKey,\n    ragSelfAwarenessCorpusId,\n  };\n}\n\nexport function initializeIdxAgentSystemInterface(): SystemInterface {\n  return {\n    updateConfiguration: async (property, value) =>\n      vscode.workspace.getConfiguration().update(property, value),\n    fileExists: fileExists,\n    folderExists: folderExists,\n    deleteFile: deleteFile,\n    writeFile: writeFile,\n    readFile: readFile,\n    listFilesRecursive: listFilesRecursive,\n  };\n}\n","import * as path from 'path';\nimport * as fs from 'fs';\nimport {window} from 'vscode';\n\nexport const enum LogLevel {\n  NONE = -1,\n  ERROR = 0,\n  WARN = 1,\n  INFO = 2,\n  DEBUG = 3,\n}\n\nexport interface Logger {\n  error(message: string): void;\n  warn(message: string): void;\n  info(message: string): void;\n  debug(message: string): void;\n}\n\nexport class OutputChannel implements Logger {\n  constructor(\n    public name: string,\n    public level: LogLevel = 0,\n    private channel = window.createOutputChannel(name)\n  ) {}\n\n  error(message: string): void {\n    this.log(`[ERROR] ${message}`, LogLevel.ERROR);\n  }\n\n  warn(message: string): void {\n    this.log(`[WARN] ${message}`, LogLevel.WARN);\n  }\n\n  info(message: string): void {\n    this.log(`[INFO] ${message}`, LogLevel.INFO);\n  }\n\n  debug(message: string): void {\n    this.log(`[DEBUG] ${message}`, LogLevel.DEBUG);\n  }\n\n  log(message: string, logLevel: LogLevel) {\n    if (this.level >= logLevel) {\n      this.channel.appendLine(message);\n    }\n  }\n}\n\nexport class FileLogger {\n  tee: OutputChannel | undefined;\n  fileDescriptor: number | undefined;\n\n  constructor(public file: string, public level: LogLevel = 0, teeName?: string) {\n    if (teeName) {\n      this.tee = new OutputChannel(teeName, level);\n    }\n  }\n\n  createFileDescriptor() {\n    const dirname = path.dirname(this.file);\n    fs.mkdirSync(dirname, {recursive: true});\n    fs.rmSync(this.file, {force: true});\n    this.fileDescriptor = fs.openSync(this.file, 'a+');\n  }\n\n  error(prefix: string, payload: any): void {\n    this.log('[ERROR]', prefix, payload, LogLevel.ERROR);\n  }\n\n  warn(prefix: string, payload: any): void {\n    this.log('[WARN]', prefix, payload, LogLevel.WARN);\n  }\n\n  info(prefix: string, payload: any): void {\n    this.log('[INFO]', prefix, payload, LogLevel.INFO);\n  }\n\n  debug(prefix: string, payload: any): void {\n    this.log('[DEBUG]', prefix, payload, LogLevel.DEBUG);\n  }\n\n  private log(key: string, prefix: string, payload: any, logLevel: LogLevel) {\n    if (this.level >= logLevel) {\n      if (!this.fileDescriptor) {\n        this.createFileDescriptor();\n      }\n      const logString = `${key} ${prefix}${JSON.stringify(payload, null, 2)}\\n`;\n      fs.writeSync(this.fileDescriptor!, logString);\n      this.tee?.log(logString, logLevel);\n    }\n  }\n}\n","import {Webview} from 'vscode';\n\nimport {Broker, BrokerImpl} from '~common/messaging/broker';\nimport {ExtensionToWebview, WebviewToExtension} from '~common/messaging/protocol';\n\nexport type ExtensionBrokerImpl = BrokerImpl<ExtensionToWebview, WebviewToExtension, Webview>;\n\nexport class ExtensionBroker extends Broker {\n  private webviews: Webview[] = [];\n\n  sendMessage(message: string, data: any[]): void {\n    this.webviews.forEach(webview => {\n      webview.postMessage({message, data});\n    });\n  }\n\n  registerReceiver(receiver: any) {\n    const webview = receiver as Webview;\n    this.webviews.push(webview);\n    webview.onDidReceiveMessage((data: any) => {\n      this.executeListeners(data);\n    }, null);\n  }\n}\n","import {Prompt, PromptAction, Params, PromptAvailability, PromptContext} from './prompt';\nimport {Logger} from './logger';\nimport path from 'path';\nimport {readFile, readdir} from 'fs/promises';\nimport {makePromptEngine} from 'prompt-engine';\nimport * as vscode from 'vscode';\nimport {CONFIG_AI_ENABLE_PREVIEW_COMMANDS} from 'vscode-shared/config';\nimport { FeatureFlags } from './features';\n\nconst ext = '.njk';\nconst globalTemplates = (root: string) => path.resolve(root, 'ai', 'prompts');\nconst workspaceTemplates = (root: string) => path.resolve(root, '.idx', 'ai', 'prompts');\n\nexport interface Watcher {\n  doesDirectoryExist(path: string): Promise<boolean>;\n  watch(path: string, pattern: string, onChange: () => Promise<void>): void;\n}\n\n/**\n * Manages Prompts without depedency on vscode\n */\nexport class PromptManager {\n  private prompts: Record<string, Prompt> = {};\n  private logger: Logger;\n  public engine: ReturnType<typeof makePromptEngine>;\n  private watcher: Watcher;\n\n  constructor(logger: Logger, engine: ReturnType<typeof makePromptEngine>, watcher: Watcher) {\n    this.logger = logger;\n    this.engine = engine;\n    this.watcher = watcher;\n  }\n\n  preamble() {\n    return this.prompts['chat-preamble'];\n  }\n\n  facts() {\n    return this.prompts['chat-facts'];\n  }\n\n  selfawareFacts() {\n    return this.prompts['chat-facts-selfaware'];\n  }\n\n  explainSelection() {\n    return this.prompts['explain-selection'];\n  }\n\n  chatEdit() {\n    return this.prompts['chat-edit'];\n  }\n\n  chatAddComments() {\n    return this.prompts['chat-add-comments'];\n  }\n\n  nameThreadPrompt() {\n    return this.prompts['chat-name-thread'];\n  }\n\n  suggestNextPromptPrompt() {\n    return this.prompts['chat-suggest-next-prompt'];\n  }\n\n  devtoolsDebug() {\n    return this.prompts['devtools-debug']\n  }\n\n  /**\n   * sidekickPrompts returns the prompts that are available to the sidekick.\n   */\n  sidekickPrompts(hasErrors = false, hasSelection = false) {\n    let prompts = Object.values(this.prompts);\n    prompts = prompts.filter(p => p.availability.includes(PromptAvailability.Inline));\n    if (!hasErrors) {\n      prompts = prompts.filter(p => !p.requiredContext.includes(PromptContext.Error));\n    }\n    if (hasSelection) {\n      prompts = prompts.filter(p => !p.requiredContext.includes(PromptContext.NoSelection));\n    } else {\n      prompts = prompts.filter(p => !p.requiredContext.includes(PromptContext.Selection));\n    }\n    return prompts;\n  }\n\n  /**\n   * Returns prompts that are available to chat\n   */\n  chatPrompts(hasErrors = false, hasSelection = false) {\n    let prompts = Object.values(this.prompts);\n    prompts = prompts.filter(p => p.availability.includes(PromptAvailability.Chat));\n    if (!hasErrors) {\n      prompts = prompts.filter(p => !p.requiredContext.includes(PromptContext.Error));\n    }\n    if (hasSelection) {\n      prompts = prompts.filter(p => !p.requiredContext.includes(PromptContext.NoSelection));\n    } else {\n      prompts = prompts.filter(p => !p.requiredContext.includes(PromptContext.Selection));\n    }\n    return prompts;\n  }\n\n  async init(extensionPath: string, workspaceDir: string | undefined, watchForChanges: boolean, features: FeatureFlags) {\n    const dirs = [globalTemplates(extensionPath)];\n    const isEarlyAccessCommandsEnabled = await features.isEarlyAccessCommandsEnabled();\n    if (!!workspaceDir) {\n      dirs.push(workspaceTemplates(workspaceDir));\n    }\n    for (const dir of dirs) {\n      this.logger.info(`loading ai prompts from ${dir}`);\n      this.prompts = {...this.prompts, ...(await this.parseTemplates(dir, isEarlyAccessCommandsEnabled))};\n      if (watchForChanges) {\n        this.watchTemplates(dir, isEarlyAccessCommandsEnabled);\n      }\n    }\n  }\n\n  /**\n   * sidekickPrompt matches a prompt for the given request, defaulting to the sidekick-create prompt\n   * if a match is not found.\n   */\n  sidekickPrompt(requestPrompt: string, hasSelection: boolean): Prompt {\n    let prompt: Prompt = this.prompts['sidekick-create'];\n    if (hasSelection) {\n      prompt = this.prompts['sidekick-edit'];\n    }\n    if (requestPrompt.startsWith('/')) {\n      const [command] = requestPrompt.slice(1).split(' ');\n      prompt = this.byCommand(command, PromptAvailability.Inline) || prompt;\n    }\n    return prompt;\n  }\n\n  byCommand(command: string, source: PromptAvailability) {\n    return Object.values(this.prompts).find(\n      p => p.command === command && p.availability.includes(source)\n    );\n  }\n\n  private async parseTemplates(dir: string, isEarlyAccessCommandsEnabled: boolean): Promise<Record<string, Prompt>> {\n    if (!(await this.watcher.doesDirectoryExist(dir))) {\n      return {};\n    }\n\n    const prompts: Record<string, Prompt> = {};\n    const entries = await readdir(dir);\n    for (const f of entries) {\n      if (path.extname(f) !== ext) {\n        continue;\n      }\n      const name = path.basename(f, ext);\n      const content = await readFile(path.join(dir, f), 'utf8');\n      const meta = await this.engine.parse(content);\n\n      // Skip preview commands if preview flag is not on.\n      if (meta.frontmatter?.preview && !isPreviewCommandsEnabled()) {\n        continue;\n      } else if(meta.frontmatter?.earlyAccess && !isEarlyAccessCommandsEnabled) {\n        continue;\n      }\n\n      prompts[name] = {\n        name,\n        meta,\n        content,\n        command: meta.frontmatter?.command ?? '',\n        description: meta.frontmatter?.description ?? '',\n        availability: meta.frontmatter?.availability ?? [],\n        action: meta.frontmatter?.action ?? PromptAction.Edit,\n        stopSequences: meta.frontmatter?.stopSequences ?? [],\n        requiredContext: meta.frontmatter?.requiredContext ?? [],\n      };\n    }\n    return prompts;\n  }\n\n  private watchTemplates(dir: string, isEarlyAccessCommandsEnabled: boolean) {\n    this.watcher.watch(dir, `*${ext}`, async () => {\n      this.logger.info(`reloading ai prompts from ${dir}`);\n      this.prompts = {...this.prompts, ...(await this.parseTemplates(dir, isEarlyAccessCommandsEnabled))};\n    });\n  }\n\n  /**\n   * execute executes a prompt with the given parameters using the engine from the context.\n   */\n  execute(prompt: Prompt, params: Params) {\n    return this.engine.execute(prompt.content, params);\n  }\n}\n\n/**\n * Enable commands with preview field set to true.\n */\nfunction isPreviewCommandsEnabled(): boolean {\n  let {section, property} = CONFIG_AI_ENABLE_PREVIEW_COMMANDS;\n  return !!vscode.workspace.getConfiguration(section).get(property);\n}\n","import * as vscode from 'vscode';\nimport {readFile, readdir} from 'fs/promises';\nimport path from 'path';\nimport {HydratedPromptMetadata} from 'prompt-engine';\n\nimport {ExtensionContext} from './context';\nimport {PromptManager} from './prompt-manager';\n\nexport function setupPromptProvider(ctx: ExtensionContext) {\n  const provider = new PromptProvider(ctx);\n  ctx.vsc.subscriptions.push(provider);\n  ctx.prompts = provider;\n}\n\n// Superchat specific contextual slash commands.\nexport const INTERACTIVE_PROMPT: Prompt = {\n  name: 'interactive',\n  meta: {\n    frontmatterLength: 0,\n  },\n  content: '',\n  command: 'i',\n  description: 'Take action.',\n  availability: [],\n  action: PromptAction.Edit,\n  stopSequences: [],\n  requiredContext: [],\n};\n\nexport const QUESTION_PROMPT: Prompt = {\n  name: 'question',\n  meta: {\n    frontmatterLength: 0,\n  },\n  content: '',\n  command: 'q',\n  description: 'Do not take action.',\n  availability: [],\n  action: PromptAction.Edit,\n  stopSequences: [],\n  requiredContext: [],\n};\n\n/**\n * The PromptProvider class is responsible for managing the prompts that are available to the user.\n * It loads prompts from the global templates directory and from the current workspace directory.\n * Delegates most of the work to PromptManager which has no dependency on vscode\n */\nexport class PromptProvider implements vscode.Disposable {\n  private disposables: vscode.Disposable[] = [];\n  private manager: PromptManager;\n\n  constructor(private ctx: ExtensionContext) {\n    var that = this;\n    const watcher = {\n      async doesDirectoryExist(path: string): Promise<boolean> {\n        try {\n          // check if the directory exists.\n          await vscode.workspace.fs.stat(vscode.Uri.file(path));\n          return true;\n        } catch {\n          return false;\n        }\n      },\n\n      watch(path: string, pattern: string, onChange: () => Promise<void>): void {\n        that.disposables.push(\n          vscode.workspace\n            .createFileSystemWatcher(new vscode.RelativePattern(path, pattern))\n            .onDidChange(async () => {\n              onChange();\n            })\n        );\n      },\n    };\n    this.manager = new PromptManager(ctx.logger, ctx.engine, watcher);\n    try {\n      this.manager.init(\n        this.ctx.vsc.extensionUri.fsPath,\n        vscode.workspace.workspaceFolders?.[0].uri.fsPath,\n        true,\n        this.ctx.features,\n      );\n    } catch (e) {\n      this.ctx.logger.error(`error initializing prompt manager: ${e}`);\n    }\n  }\n\n  dispose() {\n    for (const w of this.disposables) {\n      w.dispose();\n    }\n  }\n\n  byCommand(command: string, source: PromptAvailability) {\n    return this.manager.byCommand(command, source);\n  }\n\n  nameThreadPrompt() {\n    return this.manager.nameThreadPrompt();\n  }\n\n  suggestNextPromptPrompt() {\n    return this.manager.suggestNextPromptPrompt();\n  }\n\n  preamble() {\n    return this.manager.preamble();\n  }\n\n  facts() {\n    return this.manager.facts();\n  }\n\n  selfawareFacts() {\n    return this.manager.selfawareFacts();\n  }\n\n  explainSelection() {\n    return this.manager.explainSelection();\n  }\n\n  chatEdit() {\n    return this.manager.chatEdit();\n  }\n\n  chatAddComments() {\n    return this.manager.chatAddComments();\n  }\n\n  sidekickPrompts(hasErrors = false, hasSelection = false) {\n    return this.manager.sidekickPrompts(hasErrors, hasSelection);\n  }\n\n  chatPrompts(hasErrors = false, hasSelection = false) {\n    return this.manager.chatPrompts(hasErrors, hasSelection);\n  }\n\n  devtoolsDebug(){\n    return this.manager.devtoolsDebug();\n  }\n\n  /**\n   * sidekickPrompt matches a prompt for the given request, defaulting to the sidekick-create prompt\n   * if a match is not found.\n   */\n  sidekickPrompt(request: vscode.InteractiveEditorRequest, hasSelection: boolean): Prompt {\n    return this.manager.sidekickPrompt(request.prompt, hasSelection);\n  }\n\n  /**\n   * execute executes a prompt with the given parameters using the engine from the context.\n   */\n  execute(prompt: Prompt, params: Params) {\n    return this.manager.execute(prompt, params);\n  }\n}\n\nexport interface Prompt {\n  name: string;\n  content: string;\n  description: string;\n  command: string;\n  availability: PromptAvailability[];\n  action: PromptAction;\n  stopSequences: string[];\n  requiredContext: PromptContext[];\n  meta: HydratedPromptMetadata;\n}\n\nexport interface Params {\n  currentLanguage?: string;\n  openFilename?: string;\n  openFileContent?: string;\n  selectedCode?: string;\n  errors?: string;\n  prompt?: string;\n  currentLine: number;\n  [key: string]: any;\n}\n\n/**\n * PromptAvailability is where in the UI the prompt should be available\n * if it can be used as slash command.\n */\nexport const enum PromptAvailability {\n  Inline = 'inline',\n  Chat = 'chat',\n}\n\n/**\n * PromptAction describes how to handle the generated response to a prompt.\n */\nexport const enum PromptAction {\n  /** Edit the current file with the generated code. */\n  Edit = 'edit',\n  /** Display the response in the AI chat window. */\n  Chat = 'chat',\n  /** Do nothing other than returning the result. */\n  Raw = 'raw',\n}\n\nexport const enum PromptContext {\n  Error = 'error',\n  Selection = 'selection',\n  NoSelection = 'noSelection',\n}\n","import fetch from 'node-fetch';\nimport * as vscode from 'vscode';\nimport {\n  CONFIG_AI_ENABLE_RETRIEVAL,\n  CONFIG_AI_INDEXSERVER_MAX_DISTANCE,\n  CONFIG_AI_INDEXSERVER_MAX_RESULTS,\n  CONFIG_AI_INDEXSERVER_PORT,\n  CONFIG_AI_USE_LINE_NUMBERS_IN_RETRIEVAL,\n} from 'vscode-shared/config';\nimport {ExtensionContext} from './context';\nimport {outsideOfIDX} from './aichat';\nimport {getProperty} from './vscode-utils';\n\nconst INDEXSERVER_PORT = indexServerPort();\nexport const INDEXSERVER_BASE_URL = `http://localhost:${INDEXSERVER_PORT}`;\n\nconst SNIPPET_WRAP_IN_TICKS = true;\nlet SNIPPET_LINE_NUMBERS = getProperty<boolean>(CONFIG_AI_USE_LINE_NUMBERS_IN_RETRIEVAL, true)\n\n// indexserver has its own filters as well\nconst DEFAULT_MAX_DISTANCE = getProperty<number>(CONFIG_AI_INDEXSERVER_MAX_DISTANCE, 0.9);\nconst DEFAULT_MAX_RESULTS = getProperty<number>(CONFIG_AI_INDEXSERVER_MAX_RESULTS, 3);\n\nlet debugChannel = vscode.window.createOutputChannel('Gemini - Retrieval Debugging');\n\n// TODO: bring in this type definition from indexserver\ninterface SearchResult {\n  snippet: string;\n  contentRoot: string;\n  sourceFile?: string;\n  startLine?: number;\n  distance: number;\n}\n\ninterface EditorSnippet {\n  filename: string;\n  snippet: string;\n  startLine: number;\n  sourceDescription: string;\n}\n\ninterface EditorContext {\n  activeEditorSnippets: EditorSnippet[];\n}\n\n/**\n * Does the user/workspace/etc have retrieval enabled?\n */\nexport function isRetrievalEnabled(scope?: vscode.Uri): boolean {\n  let {section, property} = CONFIG_AI_ENABLE_RETRIEVAL;\n  return !!vscode.workspace.getConfiguration(section, scope).get(property);\n}\n\nexport function indexServerPort(): number {\n  const {section, property} = CONFIG_AI_INDEXSERVER_PORT;\n  // TODO: make this dynamically configurable or discoverable;\n  return vscode.workspace.getConfiguration(section).get(property) ?? 9401;\n}\n\n/**\n * Setup related to augmented retrieval / codebase indexing\n */\nexport function setupAiRetrieval(context: vscode.ExtensionContext) {\n  let updateWorkspaceFolderIndexing = () => {\n    for (let wf of vscode.workspace.workspaceFolders || []) {\n      if (wf.uri.scheme !== 'file') {\n        continue;\n      }\n\n      if (!isRetrievalEnabled(wf.uri)) {\n        stopAndDeleteCurrentIndexer(wf.uri.fsPath); // dont wait on the promise\n        continue;\n      }\n\n      startIndexerForContentRoot(wf.uri.fsPath); // dont wait on the promise\n    }\n  };\n\n  updateWorkspaceFolderIndexing();\n\n  context.subscriptions.push(\n    vscode.workspace.onDidChangeConfiguration(e => {\n      if (e.affectsConfiguration(CONFIG_AI_ENABLE_RETRIEVAL.fullId)) {\n        updateWorkspaceFolderIndexing();\n      }\n      if (e.affectsConfiguration(CONFIG_AI_USE_LINE_NUMBERS_IN_RETRIEVAL.fullId)) {\n        SNIPPET_LINE_NUMBERS = getProperty(CONFIG_AI_USE_LINE_NUMBERS_IN_RETRIEVAL, true)\n      }\n    })\n  );\n\n  context.subscriptions.push(\n    vscode.workspace.onDidChangeWorkspaceFolders(() => {\n      updateWorkspaceFolderIndexing();\n    })\n  );\n}\n\nexport interface RetrievedSnippets {\n  relevantSnippets?: string[];\n  activeEditorSnippets: string[];\n  searchResults: SearchResult[];\n}\n\nexport async function retrieveSnippets(\n  ctx: ExtensionContext,\n  prompt: string,\n  sendSnippets: boolean,\n  maxDistance?: number,\n  maxResults?: number\n): Promise<RetrievedSnippets> {\n  let relevantSnippets: string[] | undefined;\n  let searchResults: SearchResult[] = [];\n  if (sendSnippets) {\n    searchResults = await searchForRelevantSnippets(prompt, maxDistance, maxResults);\n    relevantSnippets = searchResults.map(({snippet, startLine, sourceFile}) =>\n      formatSnippet(snippet, {\n        startLine,\n        heading: `From ${sourceFile} in local codebase`,\n      })\n    );\n  }\n\n  const activeEditorSnippets = (await getEditorContext(ctx)).activeEditorSnippets.map(\n    ({snippet, startLine, sourceDescription}) =>\n      formatSnippet(snippet, {\n        startLine,\n        heading: sourceDescription,\n      })\n  );\n  return {\n    relevantSnippets: relevantSnippets,\n    activeEditorSnippets: activeEditorSnippets,\n    searchResults: searchResults,\n  };\n}\n\n/**\n * Take the given prompt from the user and augment it with both the current IDE editor context\n * and semantic search results across the user's codebase (powered by a local indexserver)\n */\nexport async function createPreambleFromPrompt(\n  ctx: ExtensionContext,\n  prompt: string,\n  sendSnippets: boolean,\n  useSelfawareFacts: boolean\n): Promise<{preamble: string; facts: string}> {\n  const retrievedSnippets = await retrieveSnippets(ctx, prompt, sendSnippets);\n  const preamble = await ctx.engine.hydrate(ctx.prompts.preamble().content, {});\n  const facts = useSelfawareFacts\n    ? await ctx.engine.hydrate(ctx.prompts.selfawareFacts().content, {\n        prompt: prompt,\n        relevantSnippets: retrievedSnippets.relevantSnippets?.join('\\n\\n'),\n        activeEditorSnippets: retrievedSnippets.activeEditorSnippets,\n      })\n    : await ctx.engine.hydrate(ctx.prompts.facts().content, {\n        relevantSnippets: retrievedSnippets.relevantSnippets?.join('\\n\\n'),\n        activeEditorSnippets: retrievedSnippets.activeEditorSnippets,\n      });\n  debugChannel.appendLine(preamble.prompt);\n  if (sendSnippets) {\n    const searchResults = retrievedSnippets.searchResults;\n    if (searchResults.length) {\n      debugChannel.appendLine(\n        `Sources (lower score = more relevant):\\n${searchResults\n          .map(({distance, sourceFile}) => `- (${distance.toFixed(3)}) ${sourceFile}`)\n          .join('\\n')}`\n      );\n    } else {\n      debugChannel.appendLine(`No documents matched`);\n    }\n  }\n\n  return {preamble: preamble.prompt, facts: facts.prompt};\n}\n\n/**\n * Initializes the indexserver for the given contentRoot\n */\nasync function startIndexerForContentRoot(root: string): Promise<void> {\n  try {\n    await fetch(`${INDEXSERVER_BASE_URL}/indexers/start`, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({root}),\n    }).then(r => r.json());\n  } catch (e) {\n    debugChannel.appendLine(`Couldn't start indexer for ${root}`);\n  }\n}\n\n/**\n * Stops all indexers and deletes any indexes that exist\n */\nasync function stopAndDeleteAllIndexers(): Promise<void> {\n  try {\n    await fetch(`${INDEXSERVER_BASE_URL}/indexers/stop-all`, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({delete: true}),\n    }).then(r => r.json());\n  } catch (e) {\n    debugChannel.appendLine(`Couldn't stop and delete indexers`);\n  }\n}\n\n/**\n * Stops indexer and deletes index\n */\nasync function stopAndDeleteCurrentIndexer(contentRoot: string): Promise<void> {\n  try {\n    await fetch(`${INDEXSERVER_BASE_URL}/indexers/stop`, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({delete: true, root: contentRoot}),\n    }).then(r => r.json());\n  } catch (e) {\n    debugChannel.appendLine(`Couldn't stop and delete indexers`);\n  }\n}\n\n/**\n * Semantic search... query indexserver for files that match a given query.\n */\nasync function searchForRelevantSnippets(\n  query: string,\n  maxDistance: number | undefined,\n  maxResults: number | undefined\n): Promise<SearchResult[]> {\n  let root = getContentRootsForIndexServer()?.[0] || '';\n\n  // TODO: this needs support for multiple content roots, and likely should return absolute paths.\n  if (!root) {\n    return [];\n  }\n\n  try {\n    let {results} = (await fetch(`${INDEXSERVER_BASE_URL}/search`, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        roots: [root],\n        query,\n        maxDistance: maxDistance ?? DEFAULT_MAX_DISTANCE,\n        maxResults: maxResults ?? DEFAULT_MAX_RESULTS,\n      }),\n    }).then(r => r.json())) as {results: SearchResult[]};\n    return results;\n  } catch (e) {\n    debugChannel.appendLine('Error communicating with indexserver: ' + String(e));\n    return [];\n  }\n}\n\n/**\n * Gets editor context to pass to the LLM, unrelated to vector search / embeddings\n */\nasync function getEditorContext(extensionContext: ExtensionContext): Promise<EditorContext> {\n  let context: EditorContext = {activeEditorSnippets: []};\n\n  for (let editor of vscode.window.visibleTextEditors) {\n    if (editor.document.uri?.scheme !== 'file') {\n      // skip output (logs)\n      continue;\n    }\n\n    if (await extensionContext.aiExclude.isExcluded(editor.document.uri)) {\n      continue;\n    }\n\n    let filePath = vscode.workspace.asRelativePath(editor.document.fileName);\n    let sourceDescription = `The user is currently editing this part of a file named \\`${\n      filePath || 'Untitled file'\n    }\\``;\n    if (!editor.selection.isEmpty) {\n      // has selected text - send that\n      let range = editor.selection;\n      context.activeEditorSnippets.push({\n        filename: filePath,\n        snippet: editor.document.getText(range),\n        startLine: range.start.line + 1,\n        sourceDescription, // don't customize for now\n      });\n    } else if (editor.visibleRanges.length) {\n      // no selected text, use the visible range\n      let range = editor.visibleRanges[0];\n      context.activeEditorSnippets.push({\n        filename: filePath,\n        snippet: editor.document.getText(range),\n        startLine: range.start.line + 1,\n        sourceDescription, // don't customize for now\n      });\n    }\n  }\n\n  return context;\n}\n\n/**\n * Forms code snippets for injection into prompt\n */\nfunction formatSnippet(\n  snippet: string,\n  {startLine, heading}: {startLine?: number; heading?: string} = {}\n) {\n  const formatLine = SNIPPET_LINE_NUMBERS\n    ? (line: string, idx: number) =>\n        (startLine ? `Line ${startLine + idx}:`.padEnd(10, ' ') : '') + '    ' + line\n    : (line: string) => line;\n  snippet = snippet\n    .split('\\n')\n    .slice(1) // remove the first line, which is always \"File: ....\" (see go.mjs)\n    .map(formatLine)\n    .join('\\n');\n  if (SNIPPET_WRAP_IN_TICKS) {\n    snippet = '```\\n' + snippet.replace(/`/g, '\\\\`') + '\\n```';\n  }\n  if (heading) {\n    snippet = heading + ':\\n' + snippet;\n  }\n  return snippet;\n}\n\n/**\n * Template literal-based helper for prompt formatting\n */\nfunction p(parts: TemplateStringsArray, ...substitutions: any[]) {\n  let p = [];\n  for (let i = 0; i < parts.length; i++) {\n    p.push(parts[i]);\n    if (i < substitutions.length) {\n      let v = substitutions[i] || '';\n      if (Array.isArray(v)) {\n        v = v.join('');\n      }\n      p.push(v.trim());\n    }\n  }\n  return p.join('').trim().replace(/\\n\\n+/g, '\\n\\n');\n}\n\n/**\n * Simply return a list of all indexed files; this is used for rendering links\n * to files in the project\n */\nexport async function getIndexedFiles(): Promise<string[]> {\n  let root = getContentRootsForIndexServer()?.[0] || '';\n\n  // TODO: this needs support for multiple content roots, and likely should return absolute paths.\n  if (!root) {\n    return [];\n  }\n\n  try {\n    let {files} = (await fetch(`${INDEXSERVER_BASE_URL}/indexed-files`, {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({root}),\n    }).then(r => r.json())) as {files: string[]};\n    return files;\n  } catch (e) {\n    debugChannel.appendLine('Error communicating with indexserver: ' + String(e));\n    return [];\n  }\n}\n\nfunction getContentRootsForIndexServer(): string[] {\n  // TODO: handle virtual workspaces\n  return vscode.workspace.workspaceFolders?.map(w => w.uri.fsPath) || [];\n}\n","/// <reference path=\"vscode.proposed.interactive.d.ts\" />\n\nimport * as vscode from 'vscode';\nimport {LlmOutputCandidate} from 'prompt-engine';\n\nimport {AIDA_TAB, setChatStatusToReady, trySaveThread} from './aichat';\nimport {getErrorList, hasErrorsForRange} from './error-helper';\nimport {setChatStatusToPreparingResponse, setChatHistory, openNewThread} from './aichat';\nimport {ExtensionContext} from './context';\nimport {PromptAction} from './prompt';\nimport {UserChatHistory} from '~common/messaging/modules/aichat/aichat-protocol';\nimport {Citation} from './aida';\nimport {getCurrentUserInfo} from './user-info';\n\nexport const enum SIDEKICK_EVENTS {\n  SIDEKICK_OPEN = 'sidekick.open',\n  SIDEKICK_OPEN_PRIVACY_NOTICE = 'sidekick.open.privacy',\n  SIDEKICK_SUBMIT = 'sidekick.submit',\n  SIDEKICK_THUMBS_UP = 'sidekick.thumbsUp',\n  SIDEKICK_THUMBS_DOWN = 'sidekick.thumbsDown',\n  SIDEKICK_UNDO = 'sidekick.undo',\n  SIDEKICK_ACCEPT = 'sidekick.accept',\n  SIDEKICK_ERROR = 'sidekick.error',\n  SIDEKICK_NO_RESPONSE = 'sidekick.noResponse',\n}\n\nexport const enum GenerationSentiment {\n  SENTIMENT_UNSPECIFIED = 'unknown',\n  POSITIVE = 'positive',\n  NEGATIVE = 'negative',\n}\n\nexport const enum GenerationEventType {\n  UNKNOWN = 'unknown',\n  DISPLAYED = 'displayed',\n  ACCEPTED = 'accepted',\n  MODIFIED = 'modified',\n  FEEDBACK = 'feedback',\n}\n\n//Todo(ksat): extract all usages of monospaceextension in one place\nconst monospaceextension = vscode.extensions.getExtension('google.monospace');\n\nexport function setupSidekick(ctx: ExtensionContext) {\n  const telemetry = new SidekickTelemetryReporter(ctx);\n  const feedback = new SidekickFeedbackReporter(ctx);\n  ctx.vsc.subscriptions.push(\n    vscode.interactive.registerInteractiveEditorSessionProvider(\n      new SidekickProvider(ctx, telemetry, feedback)\n    )\n  );\n}\n\nexport class SidekickProvider implements vscode.InteractiveEditorSessionProvider {\n  constructor(\n    private ctx: ExtensionContext,\n    private telemetry: SidekickTelemetryReporter,\n    private feedback: SidekickFeedbackReporter\n  ) {}\n  async prepareInteractiveEditorSession(\n    context: vscode.TextDocumentContext,\n    token: vscode.CancellationToken\n  ): Promise<SidekickSession> {\n    try {\n      const isExcludedFile = await this.ctx.aiExclude.isExcluded(context.document.uri);\n      if (this.ctx.idx) {\n        this.ctx.idx.exports.pauseCompletions();\n        this.ctx.idx.exports\n          .getPrivacyNoticeStatus()\n          .then((accepted: boolean) => {\n            if (!accepted) {\n              this.telemetry.report(SIDEKICK_EVENTS.SIDEKICK_OPEN_PRIVACY_NOTICE);\n              vscode.commands.executeCommand('aichat.prompt');\n            }\n          })\n          .catch((e: any) => this.ctx.logger.error(e));\n      }\n      let hasSelection = !!context.document.getText(context.selection);\n      let placeholder = 'Enter a prompt';\n      if (await this.ctx.features.isSlashCommandsEnabled()) {\n        placeholder = `Enter a prompt or '/' for commands`;\n      }\n      let message = hasSelection\n        ? 'How do you want to change the code?'\n        : 'What code do you want to write?';\n      if (isExcludedFile) {\n        message =\n          '$(eye-closed) This file is hidden from AI with a .aiexclude file. ' +\n          \"You can generate new code but Gemini won't be able to modify existing code in this file.\";\n        placeholder = 'Enter a prompt';\n        hasSelection = false;\n      }\n      //Set slash commands only when there are errors\n      const hasErrors = hasErrorsForRange(context.selection);\n\n      let slashCommands: vscode.InteractiveEditorSlashCommand[] | undefined;\n      let telemetryMessage: string | undefined;\n      if (await this.ctx.features.isSlashCommandsEnabled()) {\n        slashCommands = this.ctx.prompts?.sidekickPrompts(hasErrors, hasSelection).map(p => ({\n          command: p.command,\n          detail: p.description,\n        }));\n        const slashCommandNames = slashCommands.map(c => c.command).join(',');\n        telemetryMessage = `slashCommands:${slashCommandNames}`;\n      }\n      this.telemetry.report(SIDEKICK_EVENTS.SIDEKICK_OPEN, telemetryMessage);\n      return {\n        context,\n        placeholder,\n        message,\n        slashCommands,\n        isExcludedFile,\n        history: [],\n      };\n    } catch (e) {\n      this.telemetry.report(SIDEKICK_EVENTS.SIDEKICK_ERROR, `${e}`);\n      throw e;\n    }\n  }\n  async provideInteractiveEditorResponse(\n    session: SidekickSession,\n    request: vscode.InteractiveEditorRequest,\n    progress: vscode.Progress<vscode.InteractiveEditorProgressItem>,\n    token: vscode.CancellationToken\n  ): Promise<vscode.InteractiveEditorResponse | vscode.InteractiveEditorMessageResponse> {\n    try {\n      // Make sure privacy notice is accepted already.\n      if (!this.ctx.idx || !(await this.ctx.idx.exports.getPrivacyNoticeStatus())) {\n        return {\n          edits: [],\n        };\n      }\n\n      const hasSelection = !!session.context.document.getText(request.selection);\n      const prompt = this.ctx.prompts.sidekickPrompt(request, hasSelection);\n      const usedSlashCommand = prompt.command && request.prompt.startsWith('/');\n      let message: string | undefined;\n      if (usedSlashCommand) {\n        session.slashCommand = prompt.command;\n        message = `slashCommand:${prompt.command}`;\n      }\n      this.telemetry.report(SIDEKICK_EVENTS.SIDEKICK_SUBMIT, message);\n\n      if (prompt.action === PromptAction.Chat) {\n        vscode.commands.executeCommand('aichat.prompt');\n        if (!session.keepThread) {\n          openNewThread(this.ctx.broker);\n        }\n        setChatStatusToPreparingResponse(this.ctx);\n      }\n\n      const params = {\n        get currentLanguage() {\n          return vscode.window.activeTextEditor?.document.languageId ?? '';\n        },\n        get openFilename() {\n          if (session.isExcludedFile) {\n            return '';\n          }\n          return vscode.window.activeTextEditor?.document.fileName ?? '';\n        },\n        get openFileContent() {\n          if (session.isExcludedFile) {\n            return '';\n          }\n          return session.context.document.getText();\n        },\n        get selectedCode() {\n          if (session.isExcludedFile) {\n            return '';\n          }\n          return session.context.document.getText(request.wholeRange);\n        },\n        get errors() {\n          if (session.isExcludedFile) {\n            return '';\n          }\n          return getErrorList(request);\n        },\n        get prompt() {\n          const [command, query] = parseCommand(request.prompt);\n          if (command) {\n            return query;\n          }\n          return request.prompt;\n        },\n        get currentLine() {\n          return vscode.window.activeTextEditor!.selection.active.line + 1;\n        },\n      };\n      const response = await this.ctx.prompts.execute(prompt, params);\n      const generateCodeResponse = response.llmResponse?.candidates;\n      const codeReponse = generateCodeResponse?.[0];\n      if (codeReponse?.diagnostics) {\n        const diagnostics = codeReponse.diagnostics as {\n          type: string;\n          additionalInfo?: string;\n        }[];\n        return {\n          contents: new vscode.MarkdownString(\n            `The response was blocked due to ${diagnostics[0].type}.`\n          ),\n        };\n      }\n      if (!codeReponse?.text) {\n        this.telemetry.report(SIDEKICK_EVENTS.SIDEKICK_NO_RESPONSE);\n        return {contents: new vscode.MarkdownString('No response. Try another prompt.')};\n      }\n\n      if (prompt.action === PromptAction.Chat) {\n        // TODO: refactor to use vscode's executeCommand() or otherwise decouple the code\n        setChatStatusToReady(this.ctx);\n        const chatHistory: UserChatHistory = [\n          {\n            speaker: 'user',\n            userInfo: await getCurrentUserInfo(),\n            body: request.prompt,\n          },\n          {\n            speaker: 'ai',\n            body: codeReponse.summary,\n          },\n        ];\n        setChatHistory(this.ctx.broker, chatHistory);\n        await trySaveThread(this.ctx.prompts, this.ctx.broker);\n        session.keepThread = true;\n        return {\n          edits: [],\n        };\n      }\n\n      session.history.unshift(codeReponse);\n      const extractedCode = extractFirstCodeBlock(codeReponse.text);\n      this.feedback.report(\n        SIDEKICK_EVENTS.SIDEKICK_SUBMIT,\n        GenerationEventType.DISPLAYED,\n        GenerationSentiment.SENTIMENT_UNSPECIFIED,\n        0,\n        codeReponse.rpcGlobalId\n      );\n\n      if (!extractedCode) {\n        return {\n          edits: [],\n        };\n      }\n\n      try {\n        monospaceextension?.exports.updateAIMetrics(0, extractedCode.length); //lines added (chat,sidekick)\n      } catch (e) {\n        console.log('Error incrementing usage metrics for sidekick');\n      }\n\n      const comment = await getRecitation(\n        codeReponse.citations,\n        extractedCode,\n        params.currentLanguage\n      );\n\n      let range = request.wholeRange;\n      if (session.isExcludedFile) {\n        range = new vscode.Range(\n          new vscode.Position(range.end.line + 1, 0),\n          new vscode.Position(range.end.line + 1, 0)\n        );\n      }\n      return {\n        edits: [\n          {\n            newText: comment + extractedCode,\n            range,\n          },\n        ],\n      };\n    } catch (e) {\n      this.telemetry.report(SIDEKICK_EVENTS.SIDEKICK_ERROR, `${e}`);\n      this.ctx.logger.error(`provideInteractiveEditorResponse: ${e}`);\n      throw Error('An error occurred  please try again later.');\n    }\n  }\n  handleInteractiveEditorResponseFeedback?(\n    session: SidekickSession,\n    response: vscode.InteractiveEditorResponse | vscode.InteractiveEditorMessageResponse,\n    kind: vscode.InteractiveEditorResponseFeedbackKind\n  ): void {\n    let action: SIDEKICK_EVENTS | undefined;\n    let event = GenerationEventType.UNKNOWN;\n    let sentiment = GenerationSentiment.SENTIMENT_UNSPECIFIED;\n    let message: string | undefined;\n    if (session.slashCommand) {\n      message = `slashCommand:${session.slashCommand}`;\n    }\n    switch (kind) {\n      case vscode.InteractiveEditorResponseFeedbackKind.Helpful:\n        action = SIDEKICK_EVENTS.SIDEKICK_THUMBS_UP;\n        event = GenerationEventType.FEEDBACK;\n        sentiment = GenerationSentiment.POSITIVE;\n        break;\n      case vscode.InteractiveEditorResponseFeedbackKind.Unhelpful:\n        action = SIDEKICK_EVENTS.SIDEKICK_THUMBS_DOWN;\n        event = GenerationEventType.FEEDBACK;\n        sentiment = GenerationSentiment.NEGATIVE;\n        break;\n      case vscode.InteractiveEditorResponseFeedbackKind.Undone:\n        action = SIDEKICK_EVENTS.SIDEKICK_UNDO;\n        event = GenerationEventType.UNKNOWN;\n        sentiment = GenerationSentiment.NEGATIVE;\n        this.ctx.idx?.exports.resumeCompletions();\n        break;\n      case vscode.InteractiveEditorResponseFeedbackKind.Accepted:\n        action = SIDEKICK_EVENTS.SIDEKICK_ACCEPT;\n        event = GenerationEventType.ACCEPTED;\n        sentiment = GenerationSentiment.POSITIVE;\n        this.ctx.idx?.exports.resumeCompletions();\n        break;\n    }\n    if (action) {\n      this.telemetry.report(action, message);\n    }\n    const rpcGlobalId = session.history[0]?.rpcGlobalId;\n    if (action && sentiment && rpcGlobalId) {\n      this.feedback.report(action, event, sentiment, 0, rpcGlobalId);\n    }\n  }\n}\n\ninterface SidekickSession extends vscode.InteractiveEditorSession {\n  context: vscode.TextDocumentContext;\n  history: LlmOutputCandidate[];\n  slashCommand?: string;\n  keepThread?: boolean;\n  isExcludedFile?: boolean;\n}\n\nexport class SidekickTelemetryReporter {\n  constructor(private ctx: ExtensionContext) {}\n  async report(event: SIDEKICK_EVENTS, message?: string) {\n    this.ctx.logger.info(`Telemetry logging: ${event} ${message}`);\n    try {\n      await this.ctx.idx?.exports.logTelemetryEvent(AIDA_TAB, event, message);\n    } catch (e) {\n      this.ctx.logger.error('Telemetry logging error: ' + e);\n    }\n  }\n}\n\nexport class SidekickFeedbackReporter {\n  constructor(private ctx: ExtensionContext) {}\n  async report(\n    action: SIDEKICK_EVENTS,\n    event: GenerationEventType,\n    sentiment: GenerationSentiment,\n    latencyMs: number,\n    rpcGlobalId?: string\n  ) {\n    this.ctx.logger.info('Feedback logging: ' + action + ' ' + event + ' ' + sentiment);\n    try {\n      this.ctx.idx?.exports.logGenerateInteractionEvent(\n        action,\n        event,\n        sentiment,\n        latencyMs,\n        rpcGlobalId\n      );\n    } catch (e) {\n      this.ctx.logger.error('Feedback logging error: ' + e);\n    }\n  }\n}\n\nexport function extractFirstCodeBlock(text: string): string {\n  let delimiter = '```';\n  let firstDelimieterIndex = text.indexOf(delimiter);\n  if (firstDelimieterIndex === -1) {\n    firstDelimieterIndex = text.indexOf('`');\n    if (firstDelimieterIndex === -1) {\n      // If the delimiter is not found, return unaltered text.\n      return text;\n    }\n    delimiter = '`';\n  }\n\n  const lastDelimiterIndex = text.lastIndexOf(delimiter);\n  // delimiter is only at the start or end of the text\n  if (lastDelimiterIndex === firstDelimieterIndex) {\n    const [start, end] = text.split(delimiter);\n    return start.length > end.length ? start : end;\n  }\n\n  const isMultiline = text.split('\\n').length > 2;\n  if (isMultiline && text.startsWith(delimiter) && text.endsWith('\\n' + delimiter)) {\n    const firstBreak = text.indexOf('\\n');\n    return text.slice(firstBreak + 1, lastDelimiterIndex);\n  }\n\n  let code = text.slice(firstDelimieterIndex + delimiter.length, lastDelimiterIndex);\n  if (!code.endsWith('\\n')) {\n    code = code + '\\n';\n  }\n  return code;\n}\n\nasync function getRecitation(citations: Citation[], code: string, languageId: string) {\n  let comment = '';\n  if (citations && citations.length > 0) {\n    const monospaceextension = vscode.extensions.getExtension('google.monospace');\n    const recitations: string[] = await monospaceextension?.exports.insertRecitation(\n      code,\n      languageId,\n      citations\n    );\n    recitations.forEach(recitation => {\n      comment += recitation;\n    });\n  }\n  return comment;\n}\n\nfunction parseCommand(prompt: string): [string, string] {\n  if (prompt.startsWith('/')) {\n    const [command, query] = prompt.slice(1).split(/ (.*)/s);\n    return [command, query];\n  }\n  return ['', prompt];\n}\n","import * as vscode from 'vscode';\nimport * as api from './agentive/api';\nimport {AIDA_TAB, monospaceextension} from './aichat';\nimport {FunctionAction, FunctionState} from './agentive/functions/external-function';\nimport {ChatMessage} from '~common/messaging/modules/aichat/aichat-protocol';\nimport {ExtensionContext} from './context';\nimport {CONFIG_AI_ENABLE_RETRIEVAL} from 'vscode-shared/config';\nimport {isRetrievalEnabled} from './retrieval';\n\nexport const enum AICHAT_EVENTS {\n  // Has the option to open AI Chat.\n  AICHAT_CAN_OPEN = 'aichat.canOpen',\n  // Open the AI Chat Webview from *any* source.\n  AICHAT_OPEN = 'aichat.open',\n  // Open the AI Chat Webview from the status bar.\n  AICHAT_OPEN_STATUSBAR = 'aichat.open.statusbar',\n  // Open the AI Chat Webview from the hotkey.\n  AICHAT_OPEN_HOTKEY = 'aichat.open.hotkey',\n  AICHAT_NOT_AVAILABLE_IN_COUNTRY = 'aichat.notAvailableInCountry',\n  // User opened license log\n  AICHAT_OPEN_LICENSE_LOG = 'aichat.openLicenseLog',\n  // TODO: No reference to this?\n  AICHAT_PROMPT = 'aichat.prompt',\n  // Stop generating\n  AICHAT_STOP_GENERATING = 'aichat.stopGenerating',\n  // Open AI chat actions menu (in the editor toolbar)\n  AICHAT_ACTIONS_MENU = 'aichat.actionsMenu',\n  // Trigger AI Chat explain code selection.\n  AICHAT_EXPLAIN = 'aichat.explain',\n  // Trigger AI Chat's do something with selection.\n  AICHAT_DOSOMETHING = 'aichat.doSomething',\n  // Trigger AI Chat to add comment to the code selected.\n  AICHAT_COMMENT = 'aichat.commentSelection',\n  // Trigger AI Chat with a new prompt.\n  AICHAT_NEW_PROMPT = 'aichat.newPrompt',\n  // Replace selection with code.\n  AICHAT_INSERT_CODE = 'aichat.insertCode',\n  // Open an external link inside chat.\n  AICHAT_OPEN_LINK = 'aichat.openLink',\n  // Clear the chat.\n  // TODO: This is poorly named, should be merged with slash commands.\n  AICHAT_COMMAND = 'aichat.command',\n  AICHAT_THUMBS_UP = 'aichat.thumbsUp',\n  AICHAT_THUMBS_DOWN = 'aichat.thumbsDown',\n  // The detailed form after user hits thumbs up or down.\n  AICHAT_THUMBS_UP_DETAIL = 'aichat.thumbsUp.detail',\n  AICHAT_THUMBS_DOWN_DETAIL = 'aichat.thumbsDown.detail',\n  // A prompt is submitted via AI Chat.\n  // Can be 'aichat.newPrompt' or edited prompt.\n  // TODO: Edited prompt should be tracked directly.\n  AICHAT_INTERACTION = 'aichat.interaction',\n  // Loads AI chat for the first time and onboarding needs to be shown.\n  AICHAT_OPEN_ONBOARDING = 'aichat.openOnboarding',\n  // Saves the onboarding settings for that workspace.\n  AICHAT_COMPLETE_ONBOARDING = 'aichat.completeOnboarding',\n  // Save inline completion settings from the onboarding UI.\n  // The setting value is also stored in the event.\n  AICHAT_SAVE_INLINE_COMPLETION_SETTING = 'aichat.saveInlineCompletionSetting',\n  AICHAT_SAVE_RETRIEVAL_SETTING = 'aichat.saveRetrievalSetting',\n  // Fires when AI chat loads and privacy notice needs to be shown.\n  AICHAT_OPEN_PRIVACY_NOTICE = 'aichat.openPrivacyNotice',\n  // Accept the privacy notice.\n  AICHAT_ACCEPT_PRIVACY_NOTICE = 'aichat.acceptPrivacyNotice',\n  // Opening settings from AI Chat's top toolbar.\n  OPEN_SETTINGS = 'aichat.openSettings',\n  // Deletes a chat thread.\n  DELETE_THREAD = 'aichat.deleteThread',\n  // User has taken an action from a requested function in the chat.\n  SUPERCHAT_FUNCTION_ACTION_TAKEN = 'superchat.functionActionTaken',\n  // Superchat function request was rejected.\n  SUPERCHAT_FUNCTION_REJECTED = 'superchat.functionRejected',\n  // Superchat function successfully ran.\n  SUPERCHAT_FUNCTION_SUCCEEDED = 'superchat.functionSucceeded',\n  // Superchat function failed.\n  SUPERCHAT_FUNCTION_FAILED = 'superchat.functionFailed',\n  // Superchat retried.\n  SUPERCHAT_RETRY = 'superchat.retry',\n  // Superchat retry failed, no details.\n  SUPERCHAT_RETRY_FAILED = 'superchat.retryFailed',\n  // Retrieval enablement setting was toggled.\n  RAG_ENABLEMENT_SETTING_TOGGLED = 'rag.enablementSettingToggled',\n  // RAG indexing serer started embedding documents.\n  RAG_INDEXING_STARTED = 'rag.indexingStarted',\n  // RAG indexing server finished embedding documents.\n  RAG_INDEXING_FINISHED = 'rag.indexingFinished',\n}\n\nexport const enum ChatSentimentType {\n  SENTIMENT_UNSPECIFIED = 'unknown',\n  POSITIVE = 'positive',\n  NEGATIVE = 'negative',\n}\n\nexport const enum ChatIssueType {\n  ISSUE_TYPE_UNSPECIFIED = 'unknown',\n  TOXIC = 'toxic',\n  IRRELEVANT = 'irrelevant',\n  TOO_VERBOSE = 'too verbose',\n  WRONG_ANSWER = 'wrong answer',\n}\n\nconst enum RAG_STATUS {\n  ENABLED = 'enabled',\n  DISABLED = 'disabled',\n}\n\n// TODO(joshualitt): To reduce the chance of mistakes, we should only log hardcoded messages\n// / enums / non-string types.\nexport class TelemetryLogger {\n  constructor(private monospaceExtension: vscode.Extension<any> | undefined) {}\n\n  logTelemetryEvent(event: AICHAT_EVENTS, message?: string) {\n    try {\n      this.monospaceExtension?.exports.logTelemetryEvent(AIDA_TAB, event.toString(), message);\n    } catch (e) {\n      api.debugLogger(e);\n    }\n  }\n\n  logTelemetryEventWithJsonable(event: AICHAT_EVENTS, payload: any) {\n    this.logTelemetryEvent(event, JSON.stringify(payload));\n  }\n\n  logChatInteractionEvent(\n    event: AICHAT_EVENTS,\n    sentiment?: ChatSentimentType,\n    feedbackIssueType?: ChatIssueType,\n    feedbackMessage?: string,\n    rpcGlobalId?: string\n  ) {\n    try {\n      this.monospaceExtension?.exports.logChatInteractionEvent(\n        event,\n        sentiment,\n        feedbackIssueType,\n        feedbackMessage,\n        rpcGlobalId\n      );\n    } catch (e) {\n      api.debugLogger(e);\n    }\n  }\n}\n\nexport let telemetry: TelemetryLogger | undefined;\nexport function initializeTelemetryLogger(ctx: ExtensionContext) {\n  telemetry = new TelemetryLogger(monospaceextension);\n\n  ctx.vsc.subscriptions.push(\n    vscode.workspace.onDidChangeConfiguration(event => {\n      if (event.affectsConfiguration(CONFIG_AI_ENABLE_RETRIEVAL.fullId)) {\n        const status = isRetrievalEnabled() ? RAG_STATUS.ENABLED : RAG_STATUS.DISABLED;\n        logRagEnablementSettingToggled(status);\n      }\n    })\n  );\n}\n\nfunction logRagEnablementSettingToggled(status: RAG_STATUS) {\n  telemetry?.logTelemetryEvent(AICHAT_EVENTS.RAG_ENABLEMENT_SETTING_TOGGLED, status);\n}\n\nexport function logRetry(rpcGlobalId: string | undefined) {\n  telemetry?.logTelemetryEventWithJsonable(AICHAT_EVENTS.SUPERCHAT_RETRY, {\n    rpcGlobalId,\n  });\n}\n\nexport function logRetryFailed(rpcGlobalId: string | undefined, error: any = undefined) {\n  telemetry?.logTelemetryEventWithJsonable(AICHAT_EVENTS.SUPERCHAT_RETRY_FAILED, {\n    rpcGlobalId,\n    error,\n  });\n}\n\n// TODO(joshualitt): Attach rpc global id to function state and pass it through here. Also,\n// some of these Superchat events should be interaction events.\nexport function logFunctionCallExecution(\n  status: AICHAT_EVENTS.SUPERCHAT_FUNCTION_SUCCEEDED | AICHAT_EVENTS.SUPERCHAT_FUNCTION_FAILED,\n  rpcGlobalId: string | undefined,\n  functionState: FunctionState\n) {\n  telemetry?.logTelemetryEventWithJsonable(status, {rpcGlobalId, name: functionState.name});\n}\n\nexport function logFunctionActionTaken(\n  rpcGlobalId: string | undefined,\n  action: FunctionAction,\n  functionState: FunctionState\n) {\n  telemetry?.logTelemetryEventWithJsonable(AICHAT_EVENTS.SUPERCHAT_FUNCTION_ACTION_TAKEN, {\n    rpcGlobalId,\n    name: functionState.name,\n    action,\n  });\n}\n\nexport function logActionRejected(rpcGlobalId: string | undefined, functionState: FunctionState) {\n  telemetry?.logTelemetryEventWithJsonable(AICHAT_EVENTS.SUPERCHAT_FUNCTION_REJECTED, {\n    rpcGlobalId,\n    name: functionState.name,\n  });\n}\n\nexport function logthumbsUpOrDown(\n  status: AICHAT_EVENTS.AICHAT_THUMBS_UP | AICHAT_EVENTS.AICHAT_THUMBS_DOWN,\n  chatMessage: ChatMessage,\n  areActionsEnabled: boolean\n) {\n  const {slashCommand, debugInfo, rpcGlobalId, usedRag} = chatMessage;\n\n  const details = {\n    message: slashCommand ? `slashCommand:${slashCommand}` : undefined,\n    debugInfo,\n    usedRag,\n    areActionsEnabled,\n    rpcGlobalId,\n  };\n\n  telemetry?.logTelemetryEventWithJsonable(status, details);\n  telemetry?.logChatInteractionEvent(\n    status,\n    status === AICHAT_EVENTS.AICHAT_THUMBS_UP\n      ? ChatSentimentType.POSITIVE\n      : ChatSentimentType.NEGATIVE,\n    undefined,\n    details.message,\n    rpcGlobalId\n  );\n}\n\nexport function logIndexingStarted(contentRoot: string) {\n  telemetry?.logTelemetryEvent(AICHAT_EVENTS.RAG_INDEXING_STARTED, contentRoot);\n}\n\nexport function logIndexingFinished(\n  contentRoot: string,\n  amountOfFiles: number | undefined,\n  timeTaken: number | undefined\n) {\n  telemetry?.logTelemetryEvent(\n    AICHAT_EVENTS.RAG_INDEXING_FINISHED,\n    JSON.stringify({contentRoot, amountOfFiles, timeTaken})\n  );\n}\n","import * as fs from 'fs';\nimport * as path from 'path';\nimport * as vscode from 'vscode';\nimport {ExtensionContext} from './context';\n\nexport function setupWebViewThemingSync(ctx: ExtensionContext) {\n  let {vsc: context, broker} = ctx;\n\n  let refreshTheme = () => {\n    const themeName: string =\n      vscode.workspace.getConfiguration('workbench').get('colorTheme') || '';\n    const themeObj = getThemeObj(themeName);\n    if (!themeObj['name']) {\n      themeObj['name'] = themeName;\n    }\n    const editorFontFamily: string =\n      vscode.workspace.getConfiguration('editor').get('fontFamily') || '';\n    broker.send('notifyTheme', themeObj, editorFontFamily);\n  };\n\n  broker.on('getTheme', () => refreshTheme());\n\n  context.subscriptions.push(\n    vscode.workspace.onDidChangeConfiguration(e => {\n      if (\n        e.affectsConfiguration('workbench.colorTheme') ||\n        e.affectsConfiguration('editor.fontFamily')\n      ) {\n        refreshTheme();\n      }\n    }),\n    vscode.window.onDidChangeActiveColorTheme(e => {\n      refreshTheme();\n    })\n  );\n}\n\nconst getThemeObj = (themeName: string): {[scope: string]: any} => {\n  const tokenColors: {[scope: string]: any} = {};\n  let currentThemePath;\n  for (const extension of vscode.extensions.all) {\n    let themes = extension.packageJSON.contributes && extension.packageJSON.contributes.themes;\n    if (!themes) {\n      continue;\n    }\n    if (!Array.isArray(themes)) {\n      themes = [themes];\n    }\n    const currentTheme =\n      themes && themes.find((theme: any) => theme.id === themeName || theme.label === themeName);\n    if (currentTheme) {\n      currentThemePath = path.join(extension.extensionPath, currentTheme.path);\n      break;\n    }\n  }\n  const themePaths: string[] = [];\n  if (currentThemePath) {\n    themePaths.push(currentThemePath);\n  }\n  while (themePaths.length > 0) {\n    const themePath = themePaths.pop()!;\n    return JSON.parse(fs.readFileSync(themePath, {encoding: 'utf-8'}) || '{}');\n  }\n  return tokenColors;\n};\n","import {ExtensionContext} from 'vscode';\nimport * as protocol from '~common/messaging/modules/aichat/aichat-protocol';\nimport {ChatHistory} from './chat-history';\nimport {AICHAT_EVENTS, telemetry} from './telemetry';\nimport * as crypto from 'crypto';\n\nexport const lastEditTimestampSentinel: number = -1;\n\nfunction idToTimestamp(id: string): number {\n  const timestamp = new Date(Number.parseFloat(id)).getTime();\n  return Number.isNaN(timestamp) ? 0 : timestamp;\n}\n\nexport class ChatThread {\n  constructor(\n    public id: string,\n    public uuid: string,\n    public title: string,\n    public history: ChatHistory,\n    public suggestedNextPrompt: string,\n    public areActionsEnabled: boolean,\n    public lastEditTimestamp: number,\n    public isSaved: boolean,\n    public isSaving = false\n  ) {}\n\n  static defaultNew(id: string, actionsInChatAreEnabled: boolean) {\n    return new ChatThread(\n      id,\n      crypto.randomUUID(),\n      '',\n      new ChatHistory([], []),\n      '',\n      actionsInChatAreEnabled,\n      lastEditTimestampSentinel,\n      false\n    );\n  }\n\n  static fromReadOnly(thread: protocol.ChatThread): ChatThread {\n    return new ChatThread(\n      thread.id,\n      thread.uuid,\n      thread.title,\n      new ChatHistory(thread.history, thread.internalHistory ?? []),\n      thread.suggestedNextPrompt || '',\n      thread.areActionsEnabled ?? false,\n      thread.lastEditTimestamp ?? idToTimestamp(thread.id),\n      true\n    );\n  }\n\n  get toReadOnly(): protocol.ChatThread {\n    return {\n      id: this.id,\n      uuid: this.uuid,\n      title: this.title,\n      history: this.history.user,\n      internalHistory: this.history.internal,\n      suggestedNextPrompt: this.suggestedNextPrompt,\n      areActionsEnabled: this.areActionsEnabled,\n      lastEditTimestamp: this.lastEditTimestamp,\n    };\n  }\n}\n\nconst CHAT_THREAD_TIMESTAMPS_FILLED_IN = 'idx.ai.chatThreadTimestampsFilledIn';\nconst CHAT_THREAD_LIST_KEY = 'idx.ai.chatThreadList';\nconst CHAT_THREAD_DETAIL_PREFIX = 'idx.ai.chatThreads';\nclass ThreadManager {\n  currentThread!: ChatThread;\n\n  // TODO(joshualitt): Cache global state to reduce lookups when possible.\n  constructor(public context: ExtensionContext, public actionsInChatAreDefault: boolean) {\n    this.openNewThread();\n  }\n\n  // This is just for debugging purposes right now, though perhaps we should expose it to users\n  // in some fashion.\n  async deleteAllThreads() {\n    const threads = this.context.globalState.get<protocol.ChatThreadSummary[]>(\n      CHAT_THREAD_LIST_KEY,\n      []\n    );\n\n    await this.context.globalState.update(CHAT_THREAD_LIST_KEY, []);\n    for (let thread of threads) {\n      await this.context.globalState.update(`${CHAT_THREAD_DETAIL_PREFIX}.${thread.id}`, undefined);\n    }\n  }\n\n  // TODO(joshualitt): See note below, someday we can safely delete this code.\n  async fillin(threads: protocol.ChatThreadSummary[]): Promise<void> {\n    for (const thread of threads) {\n      let updated = false;\n      if (thread.lastEditTimestamp === undefined) {\n        thread.lastEditTimestamp = idToTimestamp(thread.id);\n        updated = true;\n      }\n      if (thread.uuid === undefined) {\n        thread.uuid = crypto.randomUUID();\n        updated = true;\n      }\n      if (updated) {\n        await this.context.globalState.update(`${CHAT_THREAD_DETAIL_PREFIX}.${thread.id}`, thread);\n      }\n    }\n    await this.context.globalState.update(CHAT_THREAD_LIST_KEY, threads);\n    await this.context.globalState.update(CHAT_THREAD_TIMESTAMPS_FILLED_IN, true);\n  }\n\n  // TODO(joshualitt): Someday we can remove the fillin logic and then this function\n  // can be made synchronous.\n  async listThreads(): Promise<protocol.ChatThreadSummary[]> {\n    const threads = this.context.globalState.get<protocol.ChatThreadSummary[]>(\n      CHAT_THREAD_LIST_KEY,\n      []\n    );\n    const timestampsFilledin = this.context.globalState.get<boolean>(\n      CHAT_THREAD_TIMESTAMPS_FILLED_IN,\n      false\n    );\n    if (!timestampsFilledin) {\n      await this.fillin(threads);\n    }\n    // TODO(joshualitt): If this becomes a performance issue, let's start storing the threads in\n    // sorted order.\n    threads.sort((a, b) => b.lastEditTimestamp - a.lastEditTimestamp);\n    return threads;\n  }\n\n  async deleteThread(threadId: string) {\n    const threads = this.context.globalState.get<protocol.ChatThreadSummary[]>(\n      CHAT_THREAD_LIST_KEY,\n      []\n    );\n\n    const newThreads = threads.filter(t => t.id !== threadId);\n    await this.context.globalState.update(CHAT_THREAD_LIST_KEY, newThreads);\n    await this.context.globalState.update(`${CHAT_THREAD_DETAIL_PREFIX}.${threadId}`, undefined);\n\n    telemetry?.logTelemetryEvent(\n      AICHAT_EVENTS.DELETE_THREAD,\n      `${CHAT_THREAD_DETAIL_PREFIX}.${threadId}`\n    );\n  }\n\n  async deleteCurrentThread() {\n    if (this.currentThread.isSaved) {\n      await this.deleteThread(this.currentThread.id);\n      this.currentThread.isSaved = false;\n    }\n    this.openNewThread();\n  }\n\n  changeCurrentThread(id: string): protocol.UserChatHistory {\n    let thread = threadManager.getThread(id);\n    if (thread) {\n      this.currentThread = thread;\n    } else {\n      // This should never really happen, but just in case.\n      this.openNewThread();\n      this.currentThread.id = id;\n    }\n    return this.currentThread.history.user;\n  }\n\n  async saveThread(thread: ChatThread) {\n    thread.isSaving = true;\n    const threads = this.context.globalState.get<protocol.ChatThreadSummary[]>(\n      CHAT_THREAD_LIST_KEY,\n      []\n    );\n\n    let payload: protocol.ChatThread;\n    if (!threads.some(t => t.id === thread.id)) {\n      threads.push({\n        id: thread.id,\n        uuid: thread.uuid,\n        title: thread.title,\n        areActionsEnabled: thread.areActionsEnabled,\n        lastEditTimestamp: thread.lastEditTimestamp,\n      });\n      await this.context.globalState.update(CHAT_THREAD_LIST_KEY, threads);\n      payload = thread.toReadOnly;\n    } else {\n      const existingThread = threads.find(t => t.id === thread.id)!;\n      payload = {\n        id: existingThread.id, // override with old id\n        uuid: existingThread.uuid, // overrivde with old uuid\n        title: existingThread.title, // override with old title\n        areActionsEnabled: existingThread.areActionsEnabled ?? false,\n        lastEditTimestamp: thread.lastEditTimestamp,\n        history: thread.history.user,\n        suggestedNextPrompt: thread.suggestedNextPrompt,\n        internalHistory: thread.history.internal,\n      };\n    }\n\n    await this.context.globalState.update(`${CHAT_THREAD_DETAIL_PREFIX}.${thread.id}`, payload);\n    thread.isSaved = true;\n    thread.isSaving = false;\n  }\n\n  async saveCurrentThread(generateTitle: () => Promise<string | undefined>) {\n    this.currentThread.isSaving = true;\n    if (!this.currentThread.isSaved) {\n      const now = new Date();\n      const lastEditTimestamp = now.getTime();\n      const generatedTitle = await generateTitle();\n      this.currentThread.id = lastEditTimestamp.toString();\n      this.currentThread.title = generatedTitle ?? now.toLocaleString();\n      this.currentThread.lastEditTimestamp = lastEditTimestamp;\n    } else {\n      this.currentThread.lastEditTimestamp = Date.now();\n    }\n    await this.saveThread(this.currentThread);\n    this.currentThread.isSaving = false;\n  }\n\n  getThread(id: string): ChatThread | undefined {\n    const retrieved = this.context.globalState.get<protocol.ChatThread>(\n      `${CHAT_THREAD_DETAIL_PREFIX}.${id}`\n    );\n    return retrieved ? ChatThread.fromReadOnly(retrieved) : undefined;\n  }\n\n  openNewThread(actionsInChatAreEnabled?: boolean) {\n    let id: string;\n    let enableActionsInChat: boolean;\n    if (actionsInChatAreEnabled === undefined) {\n      id = this.actionsInChatAreDefault ? protocol.newThreadWithActionsID : protocol.newThreadID;\n      enableActionsInChat = this.actionsInChatAreDefault;\n    } else if (actionsInChatAreEnabled) {\n      id = protocol.newThreadWithActionsID;\n      enableActionsInChat = true;\n    } else {\n      id = protocol.newThreadID;\n      enableActionsInChat = false;\n    }\n    this.currentThread = ChatThread.defaultNew(id, enableActionsInChat);\n  }\n}\n\nexport let threadManager: ThreadManager;\nexport function initializeThreadManager(\n  context: ExtensionContext,\n  actionsInChatAreDefault: boolean\n) {\n  threadManager = new ThreadManager(context, actionsInChatAreDefault);\n}\n","import {UserMetadata} from 'vscode-shared/vscodeplugin-exports';\nimport {UserInfo} from '~common/messaging/modules/aichat/aichat-protocol';\nimport {monospaceextension} from './aichat';\n\nlet cachedUserInfo: UserInfo;\n\nconst GET_CURRENT_USER_INFO_TIMEOUT = 2000;\n\nexport async function getCurrentUserInfo(): Promise<UserInfo> {\n  if (cachedUserInfo) return cachedUserInfo;\n\n  let userMetadata = await Promise.race<UserMetadata | undefined>([\n    monospaceextension?.exports.getUserMetadata(),\n    new Promise(resolve => setTimeout(resolve, GET_CURRENT_USER_INFO_TIMEOUT)),\n  ]);\n\n  if (userMetadata) {\n    let userInfo: UserInfo = {\n      displayName: userMetadata.userDisplayName,\n      photoUrl: userMetadata.userPhotoUrl,\n    };\n    cachedUserInfo = userInfo;\n    return userInfo;\n  }\n\n  return {};\n}\n","export function mergeWithExistingCodeBlockIfPresent(\n  text: string,\n  code: string,\n  citationStr?: string\n): string {\n  citationStr = citationStr ? '\\n' + citationStr + '\\n' : '';\n  const CODE_END = '\\n~~~ \\n';\n  const CODE_START = '\\n~~~\\n';\n\n  //If the current text is ending with a code block merge current code with previous\n  if (text.endsWith(CODE_END)) {\n    text = text.slice(0, -1 * CODE_END.length);\n    text = text + citationStr + code + CODE_END;\n  } else {\n    text = text + CODE_START + citationStr + code + CODE_END;\n  }\n  return text;\n}\n\nexport async function sleep(timeMs: number) {\n  await new Promise<void>(resolve => setTimeout(() => resolve(), timeMs));\n}\n\nexport function randomInt(max: number): number {\n  return Math.floor(Math.random() * max);\n}\n","import * as vscode from 'vscode';\nimport {ConfigProperty} from 'vscode-shared/config';\n\nexport function getProperty<T>(configProperty: ConfigProperty, defaultValue: T): T {\n  let {section, property} = configProperty;\n  let vscodeConfiguration = vscode.workspace.getConfiguration(section);\n  return vscodeConfiguration.get<T>(property, defaultValue);\n}\n","import * as vscode from 'vscode';\n\nimport {readFileSync, writeFileSync} from 'fs';\n\nlet licenseAttributionFile = '/home/user/.monospace_license_attributions.json';\n\n//Note: Please don't merge with isLocal=true, use only for testing\nconst isLocal = false;\nif (isLocal) {\n  licenseAttributionFile = '/tmp/.monospace_license_attributions.json';\n}\n\nexport interface LicenseAttribution {\n  id: string;\n  timestamp: number;\n  filepath: string;\n  snippet: string;\n  repository: string;\n  license: string;\n  uri?: string;\n}\n\nexport interface LicenseAttributionList {\n  attributions: LicenseAttribution[];\n}\n\nconst emptyAttributionList = {attributions: []};\n\nexport async function getLicenseAttributionList(): Promise<LicenseAttributionList> {\n  if (!licenseAttributionFile) {\n    return emptyAttributionList;\n  }\n  try {\n    const contents = readFileSync(licenseAttributionFile);\n    const json = JSON.parse(contents.toString());\n\n    console.log(`Number of license attributions: ${json.attributions.length}`);\n    return json;\n  } catch (e) {}\n  return emptyAttributionList;\n}\n\nexport async function insertLicenseAttribution(attribution: LicenseAttribution): Promise<boolean> {\n  const attributionsList = await getLicenseAttributionList();\n  attributionsList?.attributions.push(attribution);\n\n  writeFileSync(licenseAttributionFile, JSON.stringify(attributionsList, null, 2));\n\n  return true;\n}\n","// NOTE: casing (in package.json) determines visual display name in the settings UI\n// Also any changes here need to be reflected in various VS Code plugins' package.json under\n// the `contributes.configuration` key.\n\nexport const CONFIG_CORGI_MODE = parse('IDX.corgiMode');\nexport const CONFIG_WEB_DEV_TOOLS = parse('IDX.webDevTools');\nexport const CONFIG_ENABLE_NEW_MAIN_PANEL = parse('IDX.enableIntegrationsPanel');\nexport const CONFIG_AI_ENABLE_PREVIEW_COMMANDS = parse('IDX.aI.enablePreviewCommands');\nexport const CONFIG_AI_ENABLE_INLINE_COMPLETION = parse('IDX.aI.enableInlineCompletion');\nexport const CONFIG_AI_ENABLE_RETRIEVAL = parse('IDX.aI.enableCodebaseIndexing');\nexport const CONFIG_AI_ENABLE_SUGGESTED_PROMPTS = parse('IDX.aI.enableSuggestedPrompts');\nexport const CONFIG_AI_ENABLE_ACTIONS_IN_CHAT = parse('IDX.aI.enableActionsInChat');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_DEFAULT = parse('IDX.aI.actionsInChatDefault');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_SYSTEM_INSTRUCTION_FILE = parse(\n  'IDX.aI.actionsInChatSystemInstructionFile'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_CANDIDATE_RETRIES = parse(\n  'IDX.aI.actionsInChatCandidateRetries'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_AIDA_CANDIDATE_COUNT = parse(\n  'IDX.aI.actionsInChatAidaCandidateCount'\n);\nexport const CONFIG_AI_SLASH_IDX_RETRIEVAL_API_KEY = parse('IDX.aI.slashIdxRetrievalApiKey');\nexport const CONFIG_AI_SLASH_IDX_RETRIEVAL_CORPUS_ID = parse('IDX.aI.slashIdxRetrievalCorpusId');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_URL = parse('IDX.aI.actionsInChatUrl');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_URL_IS_AIDA = parse('IDX.aI.actionsInChatUrlIsAida');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_MODEL = parse('IDX.aI.actionsInChatModel');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_API_KEY = parse('IDX.aI.actionsInChatApiKey');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_MIN_TEMPERATURE = parse(\n  'IDX.aI.actionsInChatMinTemperature'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_MAX_TEMPERATURE = parse(\n  'IDX.aI.actionsInChatMaxTemperature'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_MIN_TOP_K = parse('IDX.aI.actionsInChatMinTopK');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_MAX_TOP_K = parse('IDX.aI.actionsInChatMaxTopK');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_MIN_TOP_P = parse('IDX.aI.actionsInChatMinTopP');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_MAX_TOP_P = parse('IDX.aI.actionsInChatMaxTopP');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_MAX_OUTPUT_TOKENS = parse(\n  'IDX.aI.actionsInChatMaxOutputTokens'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_FILE_LOG_LEVEL = parse('IDX.aI.actionsInChatFileLogLevel');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_FILE_LOG_TO_CHANNEL = parse(\n  'IDX.aI.actionsInChatFileLogToChannel'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_USE_RETRIEVAL = parse('IDX.aI.actionsInChatUseRetrieval');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_ALWAYS_ALLOW_TOOLS = parse(\n  'IDX.aI.actionsInChatAlwaysAllowTools'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_USE_PLAYBACK_LLM = parse(\n  'IDX.aI.actionsInChatUsePlaybackLLM'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_USE_STREAMING = parse('IDX.aI.actionsInChatUseStreaming');\nexport const CONFIG_AI_ENABLE_WEB_SEARCH = parse('IDX.aI.enableWebSearch');\nexport const CONFIG_AI_WEB_SEARCH_CX = parse('IDX.aI.webSearchCx');\nexport const CONFIG_AI_WEB_SEARCH_API_KEY = parse('IDX.aI.webSearchApiKey');\nexport const CONFIG_AI_WEB_SEARCH_URL = parse('IDX.aI.webSearchUrl');\nexport const CONFIG_AI_INDEXSERVER_PORT = parse('IDX.aI.indexServerPort');\nexport const CONFIG_AI_INDEXSERVER_MAX_DISTANCE = parse('IDX.aI.indexServerMaxDistance');\nexport const CONFIG_AI_INDEXSERVER_MAX_RESULTS = parse('IDX.aI.indexServerMaxResults');\nexport const CONFIG_AI_ACTIONS_IN_CHAT_INDEXSERVER_MAX_DISTANCE = parse(\n  'IDX.aI.actionsInChatIndexServerMaxDistance'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_INDEXSERVER_MAX_RESULTS = parse(\n  'IDX.aI.actionsInChatIndexServerMaxResults'\n);\nexport const CONFIG_AI_ACTIONS_IN_CHAT_ENABLE_SELF_AWARENESS = parse(\n  'IDX.aI.actionsInChatEnableSelfAwareness'\n);\nexport const CONFIG_AI_USE_LINE_NUMBERS_IN_RETRIEVAL = parse('IDX.aI.useLineNumbersInRetrieval')\n\nexport interface ConfigProperty {\n  fullId: string;\n  section: string;\n  property: string;\n}\n\nfunction parse(id: string): ConfigProperty {\n  let parts = id.split('.');\n  return {\n    fullId: id,\n    section: parts.slice(0, parts.length - 1).join('.'),\n    property: parts[parts.length - 1],\n  };\n}\n","/**\n * @license\n * web-streams-polyfill v3.3.2\n * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.\n * This code is released under the MIT license.\n * SPDX-License-Identifier: MIT\n */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.WebStreamsPolyfill = {}));\n})(this, (function (exports) { 'use strict';\n\n    /// <reference lib=\"es2015.symbol\" />\n    const SymbolPolyfill = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ?\n        Symbol :\n        description => `Symbol(${description})`;\n\n    function noop() {\n        return undefined;\n    }\n\n    function typeIsObject(x) {\n        return (typeof x === 'object' && x !== null) || typeof x === 'function';\n    }\n    const rethrowAssertionErrorRejection = noop;\n    function setFunctionName(fn, name) {\n        try {\n            Object.defineProperty(fn, 'name', {\n                value: name,\n                configurable: true\n            });\n        }\n        catch (_a) {\n            // This property is non-configurable in older browsers, so ignore if this throws.\n            // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name#browser_compatibility\n        }\n    }\n\n    const originalPromise = Promise;\n    const originalPromiseThen = Promise.prototype.then;\n    const originalPromiseReject = Promise.reject.bind(originalPromise);\n    // https://webidl.spec.whatwg.org/#a-new-promise\n    function newPromise(executor) {\n        return new originalPromise(executor);\n    }\n    // https://webidl.spec.whatwg.org/#a-promise-resolved-with\n    function promiseResolvedWith(value) {\n        return newPromise(resolve => resolve(value));\n    }\n    // https://webidl.spec.whatwg.org/#a-promise-rejected-with\n    function promiseRejectedWith(reason) {\n        return originalPromiseReject(reason);\n    }\n    function PerformPromiseThen(promise, onFulfilled, onRejected) {\n        // There doesn't appear to be any way to correctly emulate the behaviour from JavaScript, so this is just an\n        // approximation.\n        return originalPromiseThen.call(promise, onFulfilled, onRejected);\n    }\n    // Bluebird logs a warning when a promise is created within a fulfillment handler, but then isn't returned\n    // from that handler. To prevent this, return null instead of void from all handlers.\n    // http://bluebirdjs.com/docs/warning-explanations.html#warning-a-promise-was-created-in-a-handler-but-was-not-returned-from-it\n    function uponPromise(promise, onFulfilled, onRejected) {\n        PerformPromiseThen(PerformPromiseThen(promise, onFulfilled, onRejected), undefined, rethrowAssertionErrorRejection);\n    }\n    function uponFulfillment(promise, onFulfilled) {\n        uponPromise(promise, onFulfilled);\n    }\n    function uponRejection(promise, onRejected) {\n        uponPromise(promise, undefined, onRejected);\n    }\n    function transformPromiseWith(promise, fulfillmentHandler, rejectionHandler) {\n        return PerformPromiseThen(promise, fulfillmentHandler, rejectionHandler);\n    }\n    function setPromiseIsHandledToTrue(promise) {\n        PerformPromiseThen(promise, undefined, rethrowAssertionErrorRejection);\n    }\n    let _queueMicrotask = callback => {\n        if (typeof queueMicrotask === 'function') {\n            _queueMicrotask = queueMicrotask;\n        }\n        else {\n            const resolvedPromise = promiseResolvedWith(undefined);\n            _queueMicrotask = cb => PerformPromiseThen(resolvedPromise, cb);\n        }\n        return _queueMicrotask(callback);\n    };\n    function reflectCall(F, V, args) {\n        if (typeof F !== 'function') {\n            throw new TypeError('Argument is not a function');\n        }\n        return Function.prototype.apply.call(F, V, args);\n    }\n    function promiseCall(F, V, args) {\n        try {\n            return promiseResolvedWith(reflectCall(F, V, args));\n        }\n        catch (value) {\n            return promiseRejectedWith(value);\n        }\n    }\n\n    // Original from Chromium\n    // https://chromium.googlesource.com/chromium/src/+/0aee4434a4dba42a42abaea9bfbc0cd196a63bc1/third_party/blink/renderer/core/streams/SimpleQueue.js\n    const QUEUE_MAX_ARRAY_SIZE = 16384;\n    /**\n     * Simple queue structure.\n     *\n     * Avoids scalability issues with using a packed array directly by using\n     * multiple arrays in a linked list and keeping the array size bounded.\n     */\n    class SimpleQueue {\n        constructor() {\n            this._cursor = 0;\n            this._size = 0;\n            // _front and _back are always defined.\n            this._front = {\n                _elements: [],\n                _next: undefined\n            };\n            this._back = this._front;\n            // The cursor is used to avoid calling Array.shift().\n            // It contains the index of the front element of the array inside the\n            // front-most node. It is always in the range [0, QUEUE_MAX_ARRAY_SIZE).\n            this._cursor = 0;\n            // When there is only one node, size === elements.length - cursor.\n            this._size = 0;\n        }\n        get length() {\n            return this._size;\n        }\n        // For exception safety, this method is structured in order:\n        // 1. Read state\n        // 2. Calculate required state mutations\n        // 3. Perform state mutations\n        push(element) {\n            const oldBack = this._back;\n            let newBack = oldBack;\n            if (oldBack._elements.length === QUEUE_MAX_ARRAY_SIZE - 1) {\n                newBack = {\n                    _elements: [],\n                    _next: undefined\n                };\n            }\n            // push() is the mutation most likely to throw an exception, so it\n            // goes first.\n            oldBack._elements.push(element);\n            if (newBack !== oldBack) {\n                this._back = newBack;\n                oldBack._next = newBack;\n            }\n            ++this._size;\n        }\n        // Like push(), shift() follows the read -> calculate -> mutate pattern for\n        // exception safety.\n        shift() { // must not be called on an empty queue\n            const oldFront = this._front;\n            let newFront = oldFront;\n            const oldCursor = this._cursor;\n            let newCursor = oldCursor + 1;\n            const elements = oldFront._elements;\n            const element = elements[oldCursor];\n            if (newCursor === QUEUE_MAX_ARRAY_SIZE) {\n                newFront = oldFront._next;\n                newCursor = 0;\n            }\n            // No mutations before this point.\n            --this._size;\n            this._cursor = newCursor;\n            if (oldFront !== newFront) {\n                this._front = newFront;\n            }\n            // Permit shifted element to be garbage collected.\n            elements[oldCursor] = undefined;\n            return element;\n        }\n        // The tricky thing about forEach() is that it can be called\n        // re-entrantly. The queue may be mutated inside the callback. It is easy to\n        // see that push() within the callback has no negative effects since the end\n        // of the queue is checked for on every iteration. If shift() is called\n        // repeatedly within the callback then the next iteration may return an\n        // element that has been removed. In this case the callback will be called\n        // with undefined values until we either \"catch up\" with elements that still\n        // exist or reach the back of the queue.\n        forEach(callback) {\n            let i = this._cursor;\n            let node = this._front;\n            let elements = node._elements;\n            while (i !== elements.length || node._next !== undefined) {\n                if (i === elements.length) {\n                    node = node._next;\n                    elements = node._elements;\n                    i = 0;\n                    if (elements.length === 0) {\n                        break;\n                    }\n                }\n                callback(elements[i]);\n                ++i;\n            }\n        }\n        // Return the element that would be returned if shift() was called now,\n        // without modifying the queue.\n        peek() { // must not be called on an empty queue\n            const front = this._front;\n            const cursor = this._cursor;\n            return front._elements[cursor];\n        }\n    }\n\n    const AbortSteps = SymbolPolyfill('[[AbortSteps]]');\n    const ErrorSteps = SymbolPolyfill('[[ErrorSteps]]');\n    const CancelSteps = SymbolPolyfill('[[CancelSteps]]');\n    const PullSteps = SymbolPolyfill('[[PullSteps]]');\n    const ReleaseSteps = SymbolPolyfill('[[ReleaseSteps]]');\n\n    function ReadableStreamReaderGenericInitialize(reader, stream) {\n        reader._ownerReadableStream = stream;\n        stream._reader = reader;\n        if (stream._state === 'readable') {\n            defaultReaderClosedPromiseInitialize(reader);\n        }\n        else if (stream._state === 'closed') {\n            defaultReaderClosedPromiseInitializeAsResolved(reader);\n        }\n        else {\n            defaultReaderClosedPromiseInitializeAsRejected(reader, stream._storedError);\n        }\n    }\n    // A client of ReadableStreamDefaultReader and ReadableStreamBYOBReader may use these functions directly to bypass state\n    // check.\n    function ReadableStreamReaderGenericCancel(reader, reason) {\n        const stream = reader._ownerReadableStream;\n        return ReadableStreamCancel(stream, reason);\n    }\n    function ReadableStreamReaderGenericRelease(reader) {\n        const stream = reader._ownerReadableStream;\n        if (stream._state === 'readable') {\n            defaultReaderClosedPromiseReject(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n        }\n        else {\n            defaultReaderClosedPromiseResetToRejected(reader, new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`));\n        }\n        stream._readableStreamController[ReleaseSteps]();\n        stream._reader = undefined;\n        reader._ownerReadableStream = undefined;\n    }\n    // Helper functions for the readers.\n    function readerLockException(name) {\n        return new TypeError('Cannot ' + name + ' a stream using a released reader');\n    }\n    // Helper functions for the ReadableStreamDefaultReader.\n    function defaultReaderClosedPromiseInitialize(reader) {\n        reader._closedPromise = newPromise((resolve, reject) => {\n            reader._closedPromise_resolve = resolve;\n            reader._closedPromise_reject = reject;\n        });\n    }\n    function defaultReaderClosedPromiseInitializeAsRejected(reader, reason) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseReject(reader, reason);\n    }\n    function defaultReaderClosedPromiseInitializeAsResolved(reader) {\n        defaultReaderClosedPromiseInitialize(reader);\n        defaultReaderClosedPromiseResolve(reader);\n    }\n    function defaultReaderClosedPromiseReject(reader, reason) {\n        if (reader._closedPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(reader._closedPromise);\n        reader._closedPromise_reject(reason);\n        reader._closedPromise_resolve = undefined;\n        reader._closedPromise_reject = undefined;\n    }\n    function defaultReaderClosedPromiseResetToRejected(reader, reason) {\n        defaultReaderClosedPromiseInitializeAsRejected(reader, reason);\n    }\n    function defaultReaderClosedPromiseResolve(reader) {\n        if (reader._closedPromise_resolve === undefined) {\n            return;\n        }\n        reader._closedPromise_resolve(undefined);\n        reader._closedPromise_resolve = undefined;\n        reader._closedPromise_reject = undefined;\n    }\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite#Polyfill\n    const NumberIsFinite = Number.isFinite || function (x) {\n        return typeof x === 'number' && isFinite(x);\n    };\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/trunc#Polyfill\n    const MathTrunc = Math.trunc || function (v) {\n        return v < 0 ? Math.ceil(v) : Math.floor(v);\n    };\n\n    // https://heycam.github.io/webidl/#idl-dictionaries\n    function isDictionary(x) {\n        return typeof x === 'object' || typeof x === 'function';\n    }\n    function assertDictionary(obj, context) {\n        if (obj !== undefined && !isDictionary(obj)) {\n            throw new TypeError(`${context} is not an object.`);\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-callback-functions\n    function assertFunction(x, context) {\n        if (typeof x !== 'function') {\n            throw new TypeError(`${context} is not a function.`);\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-object\n    function isObject(x) {\n        return (typeof x === 'object' && x !== null) || typeof x === 'function';\n    }\n    function assertObject(x, context) {\n        if (!isObject(x)) {\n            throw new TypeError(`${context} is not an object.`);\n        }\n    }\n    function assertRequiredArgument(x, position, context) {\n        if (x === undefined) {\n            throw new TypeError(`Parameter ${position} is required in '${context}'.`);\n        }\n    }\n    function assertRequiredField(x, field, context) {\n        if (x === undefined) {\n            throw new TypeError(`${field} is required in '${context}'.`);\n        }\n    }\n    // https://heycam.github.io/webidl/#idl-unrestricted-double\n    function convertUnrestrictedDouble(value) {\n        return Number(value);\n    }\n    function censorNegativeZero(x) {\n        return x === 0 ? 0 : x;\n    }\n    function integerPart(x) {\n        return censorNegativeZero(MathTrunc(x));\n    }\n    // https://heycam.github.io/webidl/#idl-unsigned-long-long\n    function convertUnsignedLongLongWithEnforceRange(value, context) {\n        const lowerBound = 0;\n        const upperBound = Number.MAX_SAFE_INTEGER;\n        let x = Number(value);\n        x = censorNegativeZero(x);\n        if (!NumberIsFinite(x)) {\n            throw new TypeError(`${context} is not a finite number`);\n        }\n        x = integerPart(x);\n        if (x < lowerBound || x > upperBound) {\n            throw new TypeError(`${context} is outside the accepted range of ${lowerBound} to ${upperBound}, inclusive`);\n        }\n        if (!NumberIsFinite(x) || x === 0) {\n            return 0;\n        }\n        // TODO Use BigInt if supported?\n        // let xBigInt = BigInt(integerPart(x));\n        // xBigInt = BigInt.asUintN(64, xBigInt);\n        // return Number(xBigInt);\n        return x;\n    }\n\n    function assertReadableStream(x, context) {\n        if (!IsReadableStream(x)) {\n            throw new TypeError(`${context} is not a ReadableStream.`);\n        }\n    }\n\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamDefaultReader(stream) {\n        return new ReadableStreamDefaultReader(stream);\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamAddReadRequest(stream, readRequest) {\n        stream._reader._readRequests.push(readRequest);\n    }\n    function ReadableStreamFulfillReadRequest(stream, chunk, done) {\n        const reader = stream._reader;\n        const readRequest = reader._readRequests.shift();\n        if (done) {\n            readRequest._closeSteps();\n        }\n        else {\n            readRequest._chunkSteps(chunk);\n        }\n    }\n    function ReadableStreamGetNumReadRequests(stream) {\n        return stream._reader._readRequests.length;\n    }\n    function ReadableStreamHasDefaultReader(stream) {\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return false;\n        }\n        if (!IsReadableStreamDefaultReader(reader)) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A default reader vended by a {@link ReadableStream}.\n     *\n     * @public\n     */\n    class ReadableStreamDefaultReader {\n        constructor(stream) {\n            assertRequiredArgument(stream, 1, 'ReadableStreamDefaultReader');\n            assertReadableStream(stream, 'First parameter');\n            if (IsReadableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readRequests = new SimpleQueue();\n        }\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed,\n         * or rejected if the stream ever errors or the reader's lock is released before the stream finishes closing.\n         */\n        get closed() {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        }\n        /**\n         * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n         */\n        cancel(reason = undefined) {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('cancel'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('cancel'));\n            }\n            return ReadableStreamReaderGenericCancel(this, reason);\n        }\n        /**\n         * Returns a promise that allows access to the next chunk from the stream's internal queue, if available.\n         *\n         * If reading a chunk causes the queue to become empty, more data will be pulled from the underlying source.\n         */\n        read() {\n            if (!IsReadableStreamDefaultReader(this)) {\n                return promiseRejectedWith(defaultReaderBrandCheckException('read'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('read from'));\n            }\n            let resolvePromise;\n            let rejectPromise;\n            const promise = newPromise((resolve, reject) => {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            const readRequest = {\n                _chunkSteps: chunk => resolvePromise({ value: chunk, done: false }),\n                _closeSteps: () => resolvePromise({ value: undefined, done: true }),\n                _errorSteps: e => rejectPromise(e)\n            };\n            ReadableStreamDefaultReaderRead(this, readRequest);\n            return promise;\n        }\n        /**\n         * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n         * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n         * from now on; otherwise, the reader will appear closed.\n         *\n         * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n         * the reader's {@link ReadableStreamDefaultReader.read | read()} method has not yet been settled. Attempting to\n         * do so will throw a `TypeError` and leave the reader locked to the stream.\n         */\n        releaseLock() {\n            if (!IsReadableStreamDefaultReader(this)) {\n                throw defaultReaderBrandCheckException('releaseLock');\n            }\n            if (this._ownerReadableStream === undefined) {\n                return;\n            }\n            ReadableStreamDefaultReaderRelease(this);\n        }\n    }\n    Object.defineProperties(ReadableStreamDefaultReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n    });\n    setFunctionName(ReadableStreamDefaultReader.prototype.cancel, 'cancel');\n    setFunctionName(ReadableStreamDefaultReader.prototype.read, 'read');\n    setFunctionName(ReadableStreamDefaultReader.prototype.releaseLock, 'releaseLock');\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamDefaultReader.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamDefaultReader',\n            configurable: true\n        });\n    }\n    // Abstract operations for the readers.\n    function IsReadableStreamDefaultReader(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readRequests')) {\n            return false;\n        }\n        return x instanceof ReadableStreamDefaultReader;\n    }\n    function ReadableStreamDefaultReaderRead(reader, readRequest) {\n        const stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === 'closed') {\n            readRequest._closeSteps();\n        }\n        else if (stream._state === 'errored') {\n            readRequest._errorSteps(stream._storedError);\n        }\n        else {\n            stream._readableStreamController[PullSteps](readRequest);\n        }\n    }\n    function ReadableStreamDefaultReaderRelease(reader) {\n        ReadableStreamReaderGenericRelease(reader);\n        const e = new TypeError('Reader was released');\n        ReadableStreamDefaultReaderErrorReadRequests(reader, e);\n    }\n    function ReadableStreamDefaultReaderErrorReadRequests(reader, e) {\n        const readRequests = reader._readRequests;\n        reader._readRequests = new SimpleQueue();\n        readRequests.forEach(readRequest => {\n            readRequest._errorSteps(e);\n        });\n    }\n    // Helper functions for the ReadableStreamDefaultReader.\n    function defaultReaderBrandCheckException(name) {\n        return new TypeError(`ReadableStreamDefaultReader.prototype.${name} can only be used on a ReadableStreamDefaultReader`);\n    }\n\n    /// <reference lib=\"es2018.asynciterable\" />\n    /* eslint-disable @typescript-eslint/no-empty-function */\n    const AsyncIteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf(async function* () { }).prototype);\n\n    /// <reference lib=\"es2018.asynciterable\" />\n    class ReadableStreamAsyncIteratorImpl {\n        constructor(reader, preventCancel) {\n            this._ongoingPromise = undefined;\n            this._isFinished = false;\n            this._reader = reader;\n            this._preventCancel = preventCancel;\n        }\n        next() {\n            const nextSteps = () => this._nextSteps();\n            this._ongoingPromise = this._ongoingPromise ?\n                transformPromiseWith(this._ongoingPromise, nextSteps, nextSteps) :\n                nextSteps();\n            return this._ongoingPromise;\n        }\n        return(value) {\n            const returnSteps = () => this._returnSteps(value);\n            return this._ongoingPromise ?\n                transformPromiseWith(this._ongoingPromise, returnSteps, returnSteps) :\n                returnSteps();\n        }\n        _nextSteps() {\n            if (this._isFinished) {\n                return Promise.resolve({ value: undefined, done: true });\n            }\n            const reader = this._reader;\n            let resolvePromise;\n            let rejectPromise;\n            const promise = newPromise((resolve, reject) => {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            const readRequest = {\n                _chunkSteps: chunk => {\n                    this._ongoingPromise = undefined;\n                    // This needs to be delayed by one microtask, otherwise we stop pulling too early which breaks a test.\n                    // FIXME Is this a bug in the specification, or in the test?\n                    _queueMicrotask(() => resolvePromise({ value: chunk, done: false }));\n                },\n                _closeSteps: () => {\n                    this._ongoingPromise = undefined;\n                    this._isFinished = true;\n                    ReadableStreamReaderGenericRelease(reader);\n                    resolvePromise({ value: undefined, done: true });\n                },\n                _errorSteps: reason => {\n                    this._ongoingPromise = undefined;\n                    this._isFinished = true;\n                    ReadableStreamReaderGenericRelease(reader);\n                    rejectPromise(reason);\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n            return promise;\n        }\n        _returnSteps(value) {\n            if (this._isFinished) {\n                return Promise.resolve({ value, done: true });\n            }\n            this._isFinished = true;\n            const reader = this._reader;\n            if (!this._preventCancel) {\n                const result = ReadableStreamReaderGenericCancel(reader, value);\n                ReadableStreamReaderGenericRelease(reader);\n                return transformPromiseWith(result, () => ({ value, done: true }));\n            }\n            ReadableStreamReaderGenericRelease(reader);\n            return promiseResolvedWith({ value, done: true });\n        }\n    }\n    const ReadableStreamAsyncIteratorPrototype = {\n        next() {\n            if (!IsReadableStreamAsyncIterator(this)) {\n                return promiseRejectedWith(streamAsyncIteratorBrandCheckException('next'));\n            }\n            return this._asyncIteratorImpl.next();\n        },\n        return(value) {\n            if (!IsReadableStreamAsyncIterator(this)) {\n                return promiseRejectedWith(streamAsyncIteratorBrandCheckException('return'));\n            }\n            return this._asyncIteratorImpl.return(value);\n        }\n    };\n    if (AsyncIteratorPrototype !== undefined) {\n        Object.setPrototypeOf(ReadableStreamAsyncIteratorPrototype, AsyncIteratorPrototype);\n    }\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamAsyncIterator(stream, preventCancel) {\n        const reader = AcquireReadableStreamDefaultReader(stream);\n        const impl = new ReadableStreamAsyncIteratorImpl(reader, preventCancel);\n        const iterator = Object.create(ReadableStreamAsyncIteratorPrototype);\n        iterator._asyncIteratorImpl = impl;\n        return iterator;\n    }\n    function IsReadableStreamAsyncIterator(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_asyncIteratorImpl')) {\n            return false;\n        }\n        try {\n            // noinspection SuspiciousTypeOfGuard\n            return x._asyncIteratorImpl instanceof\n                ReadableStreamAsyncIteratorImpl;\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n    // Helper functions for the ReadableStream.\n    function streamAsyncIteratorBrandCheckException(name) {\n        return new TypeError(`ReadableStreamAsyncIterator.${name} can only be used on a ReadableSteamAsyncIterator`);\n    }\n\n    /// <reference lib=\"es2015.core\" />\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isNaN#Polyfill\n    const NumberIsNaN = Number.isNaN || function (x) {\n        // eslint-disable-next-line no-self-compare\n        return x !== x;\n    };\n\n    function CreateArrayFromList(elements) {\n        // We use arrays to represent lists, so this is basically a no-op.\n        // Do a slice though just in case we happen to depend on the unique-ness.\n        return elements.slice();\n    }\n    function CopyDataBlockBytes(dest, destOffset, src, srcOffset, n) {\n        new Uint8Array(dest).set(new Uint8Array(src, srcOffset, n), destOffset);\n    }\n    let TransferArrayBuffer = (O) => {\n        if (typeof O.transfer === 'function') {\n            TransferArrayBuffer = buffer => buffer.transfer();\n        }\n        else if (typeof structuredClone === 'function') {\n            TransferArrayBuffer = buffer => structuredClone(buffer, { transfer: [buffer] });\n        }\n        else {\n            // Not implemented correctly\n            TransferArrayBuffer = buffer => buffer;\n        }\n        return TransferArrayBuffer(O);\n    };\n    let IsDetachedBuffer = (O) => {\n        if (typeof O.detached === 'boolean') {\n            IsDetachedBuffer = buffer => buffer.detached;\n        }\n        else {\n            // Not implemented correctly\n            IsDetachedBuffer = buffer => buffer.byteLength === 0;\n        }\n        return IsDetachedBuffer(O);\n    };\n    function ArrayBufferSlice(buffer, begin, end) {\n        // ArrayBuffer.prototype.slice is not available on IE10\n        // https://www.caniuse.com/mdn-javascript_builtins_arraybuffer_slice\n        if (buffer.slice) {\n            return buffer.slice(begin, end);\n        }\n        const length = end - begin;\n        const slice = new ArrayBuffer(length);\n        CopyDataBlockBytes(slice, 0, buffer, begin, length);\n        return slice;\n    }\n    function GetMethod(receiver, prop) {\n        const func = receiver[prop];\n        if (func === undefined || func === null) {\n            return undefined;\n        }\n        if (typeof func !== 'function') {\n            throw new TypeError(`${String(prop)} is not a function`);\n        }\n        return func;\n    }\n    function CreateAsyncFromSyncIterator(syncIteratorRecord) {\n        // Instead of re-implementing CreateAsyncFromSyncIterator and %AsyncFromSyncIteratorPrototype%,\n        // we use yield* inside an async generator function to achieve the same result.\n        // Wrap the sync iterator inside a sync iterable, so we can use it with yield*.\n        const syncIterable = {\n            [SymbolPolyfill.iterator]: () => syncIteratorRecord.iterator\n        };\n        // Create an async generator function and immediately invoke it.\n        const asyncIterator = (async function* () {\n            return yield* syncIterable;\n        }());\n        // Return as an async iterator record.\n        const nextMethod = asyncIterator.next;\n        return { iterator: asyncIterator, nextMethod, done: false };\n    }\n    function GetIterator(obj, hint = 'sync', method) {\n        if (method === undefined) {\n            if (hint === 'async') {\n                method = GetMethod(obj, SymbolPolyfill.asyncIterator);\n                if (method === undefined) {\n                    const syncMethod = GetMethod(obj, SymbolPolyfill.iterator);\n                    const syncIteratorRecord = GetIterator(obj, 'sync', syncMethod);\n                    return CreateAsyncFromSyncIterator(syncIteratorRecord);\n                }\n            }\n            else {\n                method = GetMethod(obj, SymbolPolyfill.iterator);\n            }\n        }\n        if (method === undefined) {\n            throw new TypeError('The object is not iterable');\n        }\n        const iterator = reflectCall(method, obj, []);\n        if (!typeIsObject(iterator)) {\n            throw new TypeError('The iterator method must return an object');\n        }\n        const nextMethod = iterator.next;\n        return { iterator, nextMethod, done: false };\n    }\n    function IteratorNext(iteratorRecord) {\n        const result = reflectCall(iteratorRecord.nextMethod, iteratorRecord.iterator, []);\n        if (!typeIsObject(result)) {\n            throw new TypeError('The iterator.next() method must return an object');\n        }\n        return result;\n    }\n    function IteratorComplete(iterResult) {\n        return Boolean(iterResult.done);\n    }\n    function IteratorValue(iterResult) {\n        return iterResult.value;\n    }\n\n    function IsNonNegativeNumber(v) {\n        if (typeof v !== 'number') {\n            return false;\n        }\n        if (NumberIsNaN(v)) {\n            return false;\n        }\n        if (v < 0) {\n            return false;\n        }\n        return true;\n    }\n    function CloneAsUint8Array(O) {\n        const buffer = ArrayBufferSlice(O.buffer, O.byteOffset, O.byteOffset + O.byteLength);\n        return new Uint8Array(buffer);\n    }\n\n    function DequeueValue(container) {\n        const pair = container._queue.shift();\n        container._queueTotalSize -= pair.size;\n        if (container._queueTotalSize < 0) {\n            container._queueTotalSize = 0;\n        }\n        return pair.value;\n    }\n    function EnqueueValueWithSize(container, value, size) {\n        if (!IsNonNegativeNumber(size) || size === Infinity) {\n            throw new RangeError('Size must be a finite, non-NaN, non-negative number.');\n        }\n        container._queue.push({ value, size });\n        container._queueTotalSize += size;\n    }\n    function PeekQueueValue(container) {\n        const pair = container._queue.peek();\n        return pair.value;\n    }\n    function ResetQueue(container) {\n        container._queue = new SimpleQueue();\n        container._queueTotalSize = 0;\n    }\n\n    function isDataViewConstructor(ctor) {\n        return ctor === DataView;\n    }\n    function isDataView(view) {\n        return isDataViewConstructor(view.constructor);\n    }\n    function arrayBufferViewElementSize(ctor) {\n        if (isDataViewConstructor(ctor)) {\n            return 1;\n        }\n        return ctor.BYTES_PER_ELEMENT;\n    }\n\n    /**\n     * A pull-into request in a {@link ReadableByteStreamController}.\n     *\n     * @public\n     */\n    class ReadableStreamBYOBRequest {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the view for writing in to, or `null` if the BYOB request has already been responded to.\n         */\n        get view() {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('view');\n            }\n            return this._view;\n        }\n        respond(bytesWritten) {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('respond');\n            }\n            assertRequiredArgument(bytesWritten, 1, 'respond');\n            bytesWritten = convertUnsignedLongLongWithEnforceRange(bytesWritten, 'First parameter');\n            if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n            }\n            if (IsDetachedBuffer(this._view.buffer)) {\n                throw new TypeError(`The BYOB request's buffer has been detached and so cannot be used as a response`);\n            }\n            ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController, bytesWritten);\n        }\n        respondWithNewView(view) {\n            if (!IsReadableStreamBYOBRequest(this)) {\n                throw byobRequestBrandCheckException('respondWithNewView');\n            }\n            assertRequiredArgument(view, 1, 'respondWithNewView');\n            if (!ArrayBuffer.isView(view)) {\n                throw new TypeError('You can only respond with array buffer views');\n            }\n            if (this._associatedReadableByteStreamController === undefined) {\n                throw new TypeError('This BYOB request has been invalidated');\n            }\n            if (IsDetachedBuffer(view.buffer)) {\n                throw new TypeError('The given view\\'s buffer has been detached and so cannot be used as a response');\n            }\n            ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController, view);\n        }\n    }\n    Object.defineProperties(ReadableStreamBYOBRequest.prototype, {\n        respond: { enumerable: true },\n        respondWithNewView: { enumerable: true },\n        view: { enumerable: true }\n    });\n    setFunctionName(ReadableStreamBYOBRequest.prototype.respond, 'respond');\n    setFunctionName(ReadableStreamBYOBRequest.prototype.respondWithNewView, 'respondWithNewView');\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamBYOBRequest.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamBYOBRequest',\n            configurable: true\n        });\n    }\n    /**\n     * Allows control of a {@link ReadableStream | readable byte stream}'s state and internal queue.\n     *\n     * @public\n     */\n    class ReadableByteStreamController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the current BYOB pull request, or `null` if there isn't one.\n         */\n        get byobRequest() {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('byobRequest');\n            }\n            return ReadableByteStreamControllerGetBYOBRequest(this);\n        }\n        /**\n         * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n         * over-full. An underlying byte source ought to use this information to determine when and how to apply backpressure.\n         */\n        get desiredSize() {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('desiredSize');\n            }\n            return ReadableByteStreamControllerGetDesiredSize(this);\n        }\n        /**\n         * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n         * the stream, but once those are read, the stream will become closed.\n         */\n        close() {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('close');\n            }\n            if (this._closeRequested) {\n                throw new TypeError('The stream has already been closed; do not close it again!');\n            }\n            const state = this._controlledReadableByteStream._state;\n            if (state !== 'readable') {\n                throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be closed`);\n            }\n            ReadableByteStreamControllerClose(this);\n        }\n        enqueue(chunk) {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('enqueue');\n            }\n            assertRequiredArgument(chunk, 1, 'enqueue');\n            if (!ArrayBuffer.isView(chunk)) {\n                throw new TypeError('chunk must be an array buffer view');\n            }\n            if (chunk.byteLength === 0) {\n                throw new TypeError('chunk must have non-zero byteLength');\n            }\n            if (chunk.buffer.byteLength === 0) {\n                throw new TypeError(`chunk's buffer must have non-zero byteLength`);\n            }\n            if (this._closeRequested) {\n                throw new TypeError('stream is closed or draining');\n            }\n            const state = this._controlledReadableByteStream._state;\n            if (state !== 'readable') {\n                throw new TypeError(`The stream (in ${state} state) is not in the readable state and cannot be enqueued to`);\n            }\n            ReadableByteStreamControllerEnqueue(this, chunk);\n        }\n        /**\n         * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n         */\n        error(e = undefined) {\n            if (!IsReadableByteStreamController(this)) {\n                throw byteStreamControllerBrandCheckException('error');\n            }\n            ReadableByteStreamControllerError(this, e);\n        }\n        /** @internal */\n        [CancelSteps](reason) {\n            ReadableByteStreamControllerClearPendingPullIntos(this);\n            ResetQueue(this);\n            const result = this._cancelAlgorithm(reason);\n            ReadableByteStreamControllerClearAlgorithms(this);\n            return result;\n        }\n        /** @internal */\n        [PullSteps](readRequest) {\n            const stream = this._controlledReadableByteStream;\n            if (this._queueTotalSize > 0) {\n                ReadableByteStreamControllerFillReadRequestFromQueue(this, readRequest);\n                return;\n            }\n            const autoAllocateChunkSize = this._autoAllocateChunkSize;\n            if (autoAllocateChunkSize !== undefined) {\n                let buffer;\n                try {\n                    buffer = new ArrayBuffer(autoAllocateChunkSize);\n                }\n                catch (bufferE) {\n                    readRequest._errorSteps(bufferE);\n                    return;\n                }\n                const pullIntoDescriptor = {\n                    buffer,\n                    bufferByteLength: autoAllocateChunkSize,\n                    byteOffset: 0,\n                    byteLength: autoAllocateChunkSize,\n                    bytesFilled: 0,\n                    minimumFill: 1,\n                    elementSize: 1,\n                    viewConstructor: Uint8Array,\n                    readerType: 'default'\n                };\n                this._pendingPullIntos.push(pullIntoDescriptor);\n            }\n            ReadableStreamAddReadRequest(stream, readRequest);\n            ReadableByteStreamControllerCallPullIfNeeded(this);\n        }\n        /** @internal */\n        [ReleaseSteps]() {\n            if (this._pendingPullIntos.length > 0) {\n                const firstPullInto = this._pendingPullIntos.peek();\n                firstPullInto.readerType = 'none';\n                this._pendingPullIntos = new SimpleQueue();\n                this._pendingPullIntos.push(firstPullInto);\n            }\n        }\n    }\n    Object.defineProperties(ReadableByteStreamController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        byobRequest: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    setFunctionName(ReadableByteStreamController.prototype.close, 'close');\n    setFunctionName(ReadableByteStreamController.prototype.enqueue, 'enqueue');\n    setFunctionName(ReadableByteStreamController.prototype.error, 'error');\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableByteStreamController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableByteStreamController',\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableByteStreamController.\n    function IsReadableByteStreamController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableByteStream')) {\n            return false;\n        }\n        return x instanceof ReadableByteStreamController;\n    }\n    function IsReadableStreamBYOBRequest(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_associatedReadableByteStreamController')) {\n            return false;\n        }\n        return x instanceof ReadableStreamBYOBRequest;\n    }\n    function ReadableByteStreamControllerCallPullIfNeeded(controller) {\n        const shouldPull = ReadableByteStreamControllerShouldCallPull(controller);\n        if (!shouldPull) {\n            return;\n        }\n        if (controller._pulling) {\n            controller._pullAgain = true;\n            return;\n        }\n        controller._pulling = true;\n        // TODO: Test controller argument\n        const pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, () => {\n            controller._pulling = false;\n            if (controller._pullAgain) {\n                controller._pullAgain = false;\n                ReadableByteStreamControllerCallPullIfNeeded(controller);\n            }\n            return null;\n        }, e => {\n            ReadableByteStreamControllerError(controller, e);\n            return null;\n        });\n    }\n    function ReadableByteStreamControllerClearPendingPullIntos(controller) {\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        controller._pendingPullIntos = new SimpleQueue();\n    }\n    function ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor) {\n        let done = false;\n        if (stream._state === 'closed') {\n            done = true;\n        }\n        const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n        if (pullIntoDescriptor.readerType === 'default') {\n            ReadableStreamFulfillReadRequest(stream, filledView, done);\n        }\n        else {\n            ReadableStreamFulfillReadIntoRequest(stream, filledView, done);\n        }\n    }\n    function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor) {\n        const bytesFilled = pullIntoDescriptor.bytesFilled;\n        const elementSize = pullIntoDescriptor.elementSize;\n        return new pullIntoDescriptor.viewConstructor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, bytesFilled / elementSize);\n    }\n    function ReadableByteStreamControllerEnqueueChunkToQueue(controller, buffer, byteOffset, byteLength) {\n        controller._queue.push({ buffer, byteOffset, byteLength });\n        controller._queueTotalSize += byteLength;\n    }\n    function ReadableByteStreamControllerEnqueueClonedChunkToQueue(controller, buffer, byteOffset, byteLength) {\n        let clonedChunk;\n        try {\n            clonedChunk = ArrayBufferSlice(buffer, byteOffset, byteOffset + byteLength);\n        }\n        catch (cloneE) {\n            ReadableByteStreamControllerError(controller, cloneE);\n            throw cloneE;\n        }\n        ReadableByteStreamControllerEnqueueChunkToQueue(controller, clonedChunk, 0, byteLength);\n    }\n    function ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue(controller, firstDescriptor) {\n        if (firstDescriptor.bytesFilled > 0) {\n            ReadableByteStreamControllerEnqueueClonedChunkToQueue(controller, firstDescriptor.buffer, firstDescriptor.byteOffset, firstDescriptor.bytesFilled);\n        }\n        ReadableByteStreamControllerShiftPendingPullInto(controller);\n    }\n    function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor) {\n        const maxBytesToCopy = Math.min(controller._queueTotalSize, pullIntoDescriptor.byteLength - pullIntoDescriptor.bytesFilled);\n        const maxBytesFilled = pullIntoDescriptor.bytesFilled + maxBytesToCopy;\n        let totalBytesToCopyRemaining = maxBytesToCopy;\n        let ready = false;\n        const remainderBytes = maxBytesFilled % pullIntoDescriptor.elementSize;\n        const maxAlignedBytes = maxBytesFilled - remainderBytes;\n        // A descriptor for a read() request that is not yet filled up to its minimum length will stay at the head\n        // of the queue, so the underlying source can keep filling it.\n        if (maxAlignedBytes >= pullIntoDescriptor.minimumFill) {\n            totalBytesToCopyRemaining = maxAlignedBytes - pullIntoDescriptor.bytesFilled;\n            ready = true;\n        }\n        const queue = controller._queue;\n        while (totalBytesToCopyRemaining > 0) {\n            const headOfQueue = queue.peek();\n            const bytesToCopy = Math.min(totalBytesToCopyRemaining, headOfQueue.byteLength);\n            const destStart = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            CopyDataBlockBytes(pullIntoDescriptor.buffer, destStart, headOfQueue.buffer, headOfQueue.byteOffset, bytesToCopy);\n            if (headOfQueue.byteLength === bytesToCopy) {\n                queue.shift();\n            }\n            else {\n                headOfQueue.byteOffset += bytesToCopy;\n                headOfQueue.byteLength -= bytesToCopy;\n            }\n            controller._queueTotalSize -= bytesToCopy;\n            ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesToCopy, pullIntoDescriptor);\n            totalBytesToCopyRemaining -= bytesToCopy;\n        }\n        return ready;\n    }\n    function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, size, pullIntoDescriptor) {\n        pullIntoDescriptor.bytesFilled += size;\n    }\n    function ReadableByteStreamControllerHandleQueueDrain(controller) {\n        if (controller._queueTotalSize === 0 && controller._closeRequested) {\n            ReadableByteStreamControllerClearAlgorithms(controller);\n            ReadableStreamClose(controller._controlledReadableByteStream);\n        }\n        else {\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n        }\n    }\n    function ReadableByteStreamControllerInvalidateBYOBRequest(controller) {\n        if (controller._byobRequest === null) {\n            return;\n        }\n        controller._byobRequest._associatedReadableByteStreamController = undefined;\n        controller._byobRequest._view = null;\n        controller._byobRequest = null;\n    }\n    function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller) {\n        while (controller._pendingPullIntos.length > 0) {\n            if (controller._queueTotalSize === 0) {\n                return;\n            }\n            const pullIntoDescriptor = controller._pendingPullIntos.peek();\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n                ReadableByteStreamControllerShiftPendingPullInto(controller);\n                ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n            }\n        }\n    }\n    function ReadableByteStreamControllerProcessReadRequestsUsingQueue(controller) {\n        const reader = controller._controlledReadableByteStream._reader;\n        while (reader._readRequests.length > 0) {\n            if (controller._queueTotalSize === 0) {\n                return;\n            }\n            const readRequest = reader._readRequests.shift();\n            ReadableByteStreamControllerFillReadRequestFromQueue(controller, readRequest);\n        }\n    }\n    function ReadableByteStreamControllerPullInto(controller, view, min, readIntoRequest) {\n        const stream = controller._controlledReadableByteStream;\n        const ctor = view.constructor;\n        const elementSize = arrayBufferViewElementSize(ctor);\n        const { byteOffset, byteLength } = view;\n        const minimumFill = min * elementSize;\n        let buffer;\n        try {\n            buffer = TransferArrayBuffer(view.buffer);\n        }\n        catch (e) {\n            readIntoRequest._errorSteps(e);\n            return;\n        }\n        const pullIntoDescriptor = {\n            buffer,\n            bufferByteLength: buffer.byteLength,\n            byteOffset,\n            byteLength,\n            bytesFilled: 0,\n            minimumFill,\n            elementSize,\n            viewConstructor: ctor,\n            readerType: 'byob'\n        };\n        if (controller._pendingPullIntos.length > 0) {\n            controller._pendingPullIntos.push(pullIntoDescriptor);\n            // No ReadableByteStreamControllerCallPullIfNeeded() call since:\n            // - No change happens on desiredSize\n            // - The source has already been notified of that there's at least 1 pending read(view)\n            ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n            return;\n        }\n        if (stream._state === 'closed') {\n            const emptyView = new ctor(pullIntoDescriptor.buffer, pullIntoDescriptor.byteOffset, 0);\n            readIntoRequest._closeSteps(emptyView);\n            return;\n        }\n        if (controller._queueTotalSize > 0) {\n            if (ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller, pullIntoDescriptor)) {\n                const filledView = ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);\n                ReadableByteStreamControllerHandleQueueDrain(controller);\n                readIntoRequest._chunkSteps(filledView);\n                return;\n            }\n            if (controller._closeRequested) {\n                const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n                ReadableByteStreamControllerError(controller, e);\n                readIntoRequest._errorSteps(e);\n                return;\n            }\n        }\n        controller._pendingPullIntos.push(pullIntoDescriptor);\n        ReadableStreamAddReadIntoRequest(stream, readIntoRequest);\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor) {\n        if (firstDescriptor.readerType === 'none') {\n            ReadableByteStreamControllerShiftPendingPullInto(controller);\n        }\n        const stream = controller._controlledReadableByteStream;\n        if (ReadableStreamHasBYOBReader(stream)) {\n            while (ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n                const pullIntoDescriptor = ReadableByteStreamControllerShiftPendingPullInto(controller);\n                ReadableByteStreamControllerCommitPullIntoDescriptor(stream, pullIntoDescriptor);\n            }\n        }\n    }\n    function ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, pullIntoDescriptor) {\n        ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller, bytesWritten, pullIntoDescriptor);\n        if (pullIntoDescriptor.readerType === 'none') {\n            ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue(controller, pullIntoDescriptor);\n            ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n            return;\n        }\n        if (pullIntoDescriptor.bytesFilled < pullIntoDescriptor.minimumFill) {\n            // A descriptor for a read() request that is not yet filled up to its minimum length will stay at the head\n            // of the queue, so the underlying source can keep filling it.\n            return;\n        }\n        ReadableByteStreamControllerShiftPendingPullInto(controller);\n        const remainderSize = pullIntoDescriptor.bytesFilled % pullIntoDescriptor.elementSize;\n        if (remainderSize > 0) {\n            const end = pullIntoDescriptor.byteOffset + pullIntoDescriptor.bytesFilled;\n            ReadableByteStreamControllerEnqueueClonedChunkToQueue(controller, pullIntoDescriptor.buffer, end - remainderSize, remainderSize);\n        }\n        pullIntoDescriptor.bytesFilled -= remainderSize;\n        ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableByteStream, pullIntoDescriptor);\n        ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n    }\n    function ReadableByteStreamControllerRespondInternal(controller, bytesWritten) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            ReadableByteStreamControllerRespondInClosedState(controller, firstDescriptor);\n        }\n        else {\n            ReadableByteStreamControllerRespondInReadableState(controller, bytesWritten, firstDescriptor);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerShiftPendingPullInto(controller) {\n        const descriptor = controller._pendingPullIntos.shift();\n        return descriptor;\n    }\n    function ReadableByteStreamControllerShouldCallPull(controller) {\n        const stream = controller._controlledReadableByteStream;\n        if (stream._state !== 'readable') {\n            return false;\n        }\n        if (controller._closeRequested) {\n            return false;\n        }\n        if (!controller._started) {\n            return false;\n        }\n        if (ReadableStreamHasDefaultReader(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n        }\n        if (ReadableStreamHasBYOBReader(stream) && ReadableStreamGetNumReadIntoRequests(stream) > 0) {\n            return true;\n        }\n        const desiredSize = ReadableByteStreamControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n            return true;\n        }\n        return false;\n    }\n    function ReadableByteStreamControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = undefined;\n        controller._cancelAlgorithm = undefined;\n    }\n    // A client of ReadableByteStreamController may use these functions directly to bypass state check.\n    function ReadableByteStreamControllerClose(controller) {\n        const stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== 'readable') {\n            return;\n        }\n        if (controller._queueTotalSize > 0) {\n            controller._closeRequested = true;\n            return;\n        }\n        if (controller._pendingPullIntos.length > 0) {\n            const firstPendingPullInto = controller._pendingPullIntos.peek();\n            if (firstPendingPullInto.bytesFilled % firstPendingPullInto.elementSize !== 0) {\n                const e = new TypeError('Insufficient bytes to fill elements in the given buffer');\n                ReadableByteStreamControllerError(controller, e);\n                throw e;\n            }\n        }\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamClose(stream);\n    }\n    function ReadableByteStreamControllerEnqueue(controller, chunk) {\n        const stream = controller._controlledReadableByteStream;\n        if (controller._closeRequested || stream._state !== 'readable') {\n            return;\n        }\n        const { buffer, byteOffset, byteLength } = chunk;\n        if (IsDetachedBuffer(buffer)) {\n            throw new TypeError('chunk\\'s buffer is detached and so cannot be enqueued');\n        }\n        const transferredBuffer = TransferArrayBuffer(buffer);\n        if (controller._pendingPullIntos.length > 0) {\n            const firstPendingPullInto = controller._pendingPullIntos.peek();\n            if (IsDetachedBuffer(firstPendingPullInto.buffer)) {\n                throw new TypeError('The BYOB request\\'s buffer has been detached and so cannot be filled with an enqueued chunk');\n            }\n            ReadableByteStreamControllerInvalidateBYOBRequest(controller);\n            firstPendingPullInto.buffer = TransferArrayBuffer(firstPendingPullInto.buffer);\n            if (firstPendingPullInto.readerType === 'none') {\n                ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue(controller, firstPendingPullInto);\n            }\n        }\n        if (ReadableStreamHasDefaultReader(stream)) {\n            ReadableByteStreamControllerProcessReadRequestsUsingQueue(controller);\n            if (ReadableStreamGetNumReadRequests(stream) === 0) {\n                ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            }\n            else {\n                if (controller._pendingPullIntos.length > 0) {\n                    ReadableByteStreamControllerShiftPendingPullInto(controller);\n                }\n                const transferredView = new Uint8Array(transferredBuffer, byteOffset, byteLength);\n                ReadableStreamFulfillReadRequest(stream, transferredView, false);\n            }\n        }\n        else if (ReadableStreamHasBYOBReader(stream)) {\n            // TODO: Ideally in this branch detaching should happen only if the buffer is not consumed fully.\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n            ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller);\n        }\n        else {\n            ReadableByteStreamControllerEnqueueChunkToQueue(controller, transferredBuffer, byteOffset, byteLength);\n        }\n        ReadableByteStreamControllerCallPullIfNeeded(controller);\n    }\n    function ReadableByteStreamControllerError(controller, e) {\n        const stream = controller._controlledReadableByteStream;\n        if (stream._state !== 'readable') {\n            return;\n        }\n        ReadableByteStreamControllerClearPendingPullIntos(controller);\n        ResetQueue(controller);\n        ReadableByteStreamControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e);\n    }\n    function ReadableByteStreamControllerFillReadRequestFromQueue(controller, readRequest) {\n        const entry = controller._queue.shift();\n        controller._queueTotalSize -= entry.byteLength;\n        ReadableByteStreamControllerHandleQueueDrain(controller);\n        const view = new Uint8Array(entry.buffer, entry.byteOffset, entry.byteLength);\n        readRequest._chunkSteps(view);\n    }\n    function ReadableByteStreamControllerGetBYOBRequest(controller) {\n        if (controller._byobRequest === null && controller._pendingPullIntos.length > 0) {\n            const firstDescriptor = controller._pendingPullIntos.peek();\n            const view = new Uint8Array(firstDescriptor.buffer, firstDescriptor.byteOffset + firstDescriptor.bytesFilled, firstDescriptor.byteLength - firstDescriptor.bytesFilled);\n            const byobRequest = Object.create(ReadableStreamBYOBRequest.prototype);\n            SetUpReadableStreamBYOBRequest(byobRequest, controller, view);\n            controller._byobRequest = byobRequest;\n        }\n        return controller._byobRequest;\n    }\n    function ReadableByteStreamControllerGetDesiredSize(controller) {\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'errored') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    function ReadableByteStreamControllerRespond(controller, bytesWritten) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            if (bytesWritten !== 0) {\n                throw new TypeError('bytesWritten must be 0 when calling respond() on a closed stream');\n            }\n        }\n        else {\n            if (bytesWritten === 0) {\n                throw new TypeError('bytesWritten must be greater than 0 when calling respond() on a readable stream');\n            }\n            if (firstDescriptor.bytesFilled + bytesWritten > firstDescriptor.byteLength) {\n                throw new RangeError('bytesWritten out of range');\n            }\n        }\n        firstDescriptor.buffer = TransferArrayBuffer(firstDescriptor.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, bytesWritten);\n    }\n    function ReadableByteStreamControllerRespondWithNewView(controller, view) {\n        const firstDescriptor = controller._pendingPullIntos.peek();\n        const state = controller._controlledReadableByteStream._state;\n        if (state === 'closed') {\n            if (view.byteLength !== 0) {\n                throw new TypeError('The view\\'s length must be 0 when calling respondWithNewView() on a closed stream');\n            }\n        }\n        else {\n            if (view.byteLength === 0) {\n                throw new TypeError('The view\\'s length must be greater than 0 when calling respondWithNewView() on a readable stream');\n            }\n        }\n        if (firstDescriptor.byteOffset + firstDescriptor.bytesFilled !== view.byteOffset) {\n            throw new RangeError('The region specified by view does not match byobRequest');\n        }\n        if (firstDescriptor.bufferByteLength !== view.buffer.byteLength) {\n            throw new RangeError('The buffer of view has different capacity than byobRequest');\n        }\n        if (firstDescriptor.bytesFilled + view.byteLength > firstDescriptor.byteLength) {\n            throw new RangeError('The region specified by view is larger than byobRequest');\n        }\n        const viewByteLength = view.byteLength;\n        firstDescriptor.buffer = TransferArrayBuffer(view.buffer);\n        ReadableByteStreamControllerRespondInternal(controller, viewByteLength);\n    }\n    function SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize) {\n        controller._controlledReadableByteStream = stream;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._byobRequest = null;\n        // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n        controller._queue = controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._closeRequested = false;\n        controller._started = false;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        controller._autoAllocateChunkSize = autoAllocateChunkSize;\n        controller._pendingPullIntos = new SimpleQueue();\n        stream._readableStreamController = controller;\n        const startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), () => {\n            controller._started = true;\n            ReadableByteStreamControllerCallPullIfNeeded(controller);\n            return null;\n        }, r => {\n            ReadableByteStreamControllerError(controller, r);\n            return null;\n        });\n    }\n    function SetUpReadableByteStreamControllerFromUnderlyingSource(stream, underlyingByteSource, highWaterMark) {\n        const controller = Object.create(ReadableByteStreamController.prototype);\n        let startAlgorithm;\n        let pullAlgorithm;\n        let cancelAlgorithm;\n        if (underlyingByteSource.start !== undefined) {\n            startAlgorithm = () => underlyingByteSource.start(controller);\n        }\n        else {\n            startAlgorithm = () => undefined;\n        }\n        if (underlyingByteSource.pull !== undefined) {\n            pullAlgorithm = () => underlyingByteSource.pull(controller);\n        }\n        else {\n            pullAlgorithm = () => promiseResolvedWith(undefined);\n        }\n        if (underlyingByteSource.cancel !== undefined) {\n            cancelAlgorithm = reason => underlyingByteSource.cancel(reason);\n        }\n        else {\n            cancelAlgorithm = () => promiseResolvedWith(undefined);\n        }\n        const autoAllocateChunkSize = underlyingByteSource.autoAllocateChunkSize;\n        if (autoAllocateChunkSize === 0) {\n            throw new TypeError('autoAllocateChunkSize must be greater than 0');\n        }\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, autoAllocateChunkSize);\n    }\n    function SetUpReadableStreamBYOBRequest(request, controller, view) {\n        request._associatedReadableByteStreamController = controller;\n        request._view = view;\n    }\n    // Helper functions for the ReadableStreamBYOBRequest.\n    function byobRequestBrandCheckException(name) {\n        return new TypeError(`ReadableStreamBYOBRequest.prototype.${name} can only be used on a ReadableStreamBYOBRequest`);\n    }\n    // Helper functions for the ReadableByteStreamController.\n    function byteStreamControllerBrandCheckException(name) {\n        return new TypeError(`ReadableByteStreamController.prototype.${name} can only be used on a ReadableByteStreamController`);\n    }\n\n    function convertReaderOptions(options, context) {\n        assertDictionary(options, context);\n        const mode = options === null || options === void 0 ? void 0 : options.mode;\n        return {\n            mode: mode === undefined ? undefined : convertReadableStreamReaderMode(mode, `${context} has member 'mode' that`)\n        };\n    }\n    function convertReadableStreamReaderMode(mode, context) {\n        mode = `${mode}`;\n        if (mode !== 'byob') {\n            throw new TypeError(`${context} '${mode}' is not a valid enumeration value for ReadableStreamReaderMode`);\n        }\n        return mode;\n    }\n    function convertByobReadOptions(options, context) {\n        var _a;\n        assertDictionary(options, context);\n        const min = (_a = options === null || options === void 0 ? void 0 : options.min) !== null && _a !== void 0 ? _a : 1;\n        return {\n            min: convertUnsignedLongLongWithEnforceRange(min, `${context} has member 'min' that`)\n        };\n    }\n\n    // Abstract operations for the ReadableStream.\n    function AcquireReadableStreamBYOBReader(stream) {\n        return new ReadableStreamBYOBReader(stream);\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamAddReadIntoRequest(stream, readIntoRequest) {\n        stream._reader._readIntoRequests.push(readIntoRequest);\n    }\n    function ReadableStreamFulfillReadIntoRequest(stream, chunk, done) {\n        const reader = stream._reader;\n        const readIntoRequest = reader._readIntoRequests.shift();\n        if (done) {\n            readIntoRequest._closeSteps(chunk);\n        }\n        else {\n            readIntoRequest._chunkSteps(chunk);\n        }\n    }\n    function ReadableStreamGetNumReadIntoRequests(stream) {\n        return stream._reader._readIntoRequests.length;\n    }\n    function ReadableStreamHasBYOBReader(stream) {\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return false;\n        }\n        if (!IsReadableStreamBYOBReader(reader)) {\n            return false;\n        }\n        return true;\n    }\n    /**\n     * A BYOB reader vended by a {@link ReadableStream}.\n     *\n     * @public\n     */\n    class ReadableStreamBYOBReader {\n        constructor(stream) {\n            assertRequiredArgument(stream, 1, 'ReadableStreamBYOBReader');\n            assertReadableStream(stream, 'First parameter');\n            if (IsReadableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive reading by another reader');\n            }\n            if (!IsReadableByteStreamController(stream._readableStreamController)) {\n                throw new TypeError('Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte ' +\n                    'source');\n            }\n            ReadableStreamReaderGenericInitialize(this, stream);\n            this._readIntoRequests = new SimpleQueue();\n        }\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n         * the reader's lock is released before the stream finishes closing.\n         */\n        get closed() {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        }\n        /**\n         * If the reader is active, behaves the same as {@link ReadableStream.cancel | stream.cancel(reason)}.\n         */\n        cancel(reason = undefined) {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('cancel'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('cancel'));\n            }\n            return ReadableStreamReaderGenericCancel(this, reason);\n        }\n        read(view, rawOptions = {}) {\n            if (!IsReadableStreamBYOBReader(this)) {\n                return promiseRejectedWith(byobReaderBrandCheckException('read'));\n            }\n            if (!ArrayBuffer.isView(view)) {\n                return promiseRejectedWith(new TypeError('view must be an array buffer view'));\n            }\n            if (view.byteLength === 0) {\n                return promiseRejectedWith(new TypeError('view must have non-zero byteLength'));\n            }\n            if (view.buffer.byteLength === 0) {\n                return promiseRejectedWith(new TypeError(`view's buffer must have non-zero byteLength`));\n            }\n            if (IsDetachedBuffer(view.buffer)) {\n                return promiseRejectedWith(new TypeError('view\\'s buffer has been detached'));\n            }\n            let options;\n            try {\n                options = convertByobReadOptions(rawOptions, 'options');\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n            const min = options.min;\n            if (min === 0) {\n                return promiseRejectedWith(new TypeError('options.min must be greater than 0'));\n            }\n            if (!isDataView(view)) {\n                if (min > view.length) {\n                    return promiseRejectedWith(new RangeError('options.min must be less than or equal to view\\'s length'));\n                }\n            }\n            else if (min > view.byteLength) {\n                return promiseRejectedWith(new RangeError('options.min must be less than or equal to view\\'s byteLength'));\n            }\n            if (this._ownerReadableStream === undefined) {\n                return promiseRejectedWith(readerLockException('read from'));\n            }\n            let resolvePromise;\n            let rejectPromise;\n            const promise = newPromise((resolve, reject) => {\n                resolvePromise = resolve;\n                rejectPromise = reject;\n            });\n            const readIntoRequest = {\n                _chunkSteps: chunk => resolvePromise({ value: chunk, done: false }),\n                _closeSteps: chunk => resolvePromise({ value: chunk, done: true }),\n                _errorSteps: e => rejectPromise(e)\n            };\n            ReadableStreamBYOBReaderRead(this, view, min, readIntoRequest);\n            return promise;\n        }\n        /**\n         * Releases the reader's lock on the corresponding stream. After the lock is released, the reader is no longer active.\n         * If the associated stream is errored when the lock is released, the reader will appear errored in the same way\n         * from now on; otherwise, the reader will appear closed.\n         *\n         * A reader's lock cannot be released while it still has a pending read request, i.e., if a promise returned by\n         * the reader's {@link ReadableStreamBYOBReader.read | read()} method has not yet been settled. Attempting to\n         * do so will throw a `TypeError` and leave the reader locked to the stream.\n         */\n        releaseLock() {\n            if (!IsReadableStreamBYOBReader(this)) {\n                throw byobReaderBrandCheckException('releaseLock');\n            }\n            if (this._ownerReadableStream === undefined) {\n                return;\n            }\n            ReadableStreamBYOBReaderRelease(this);\n        }\n    }\n    Object.defineProperties(ReadableStreamBYOBReader.prototype, {\n        cancel: { enumerable: true },\n        read: { enumerable: true },\n        releaseLock: { enumerable: true },\n        closed: { enumerable: true }\n    });\n    setFunctionName(ReadableStreamBYOBReader.prototype.cancel, 'cancel');\n    setFunctionName(ReadableStreamBYOBReader.prototype.read, 'read');\n    setFunctionName(ReadableStreamBYOBReader.prototype.releaseLock, 'releaseLock');\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamBYOBReader.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamBYOBReader',\n            configurable: true\n        });\n    }\n    // Abstract operations for the readers.\n    function IsReadableStreamBYOBReader(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readIntoRequests')) {\n            return false;\n        }\n        return x instanceof ReadableStreamBYOBReader;\n    }\n    function ReadableStreamBYOBReaderRead(reader, view, min, readIntoRequest) {\n        const stream = reader._ownerReadableStream;\n        stream._disturbed = true;\n        if (stream._state === 'errored') {\n            readIntoRequest._errorSteps(stream._storedError);\n        }\n        else {\n            ReadableByteStreamControllerPullInto(stream._readableStreamController, view, min, readIntoRequest);\n        }\n    }\n    function ReadableStreamBYOBReaderRelease(reader) {\n        ReadableStreamReaderGenericRelease(reader);\n        const e = new TypeError('Reader was released');\n        ReadableStreamBYOBReaderErrorReadIntoRequests(reader, e);\n    }\n    function ReadableStreamBYOBReaderErrorReadIntoRequests(reader, e) {\n        const readIntoRequests = reader._readIntoRequests;\n        reader._readIntoRequests = new SimpleQueue();\n        readIntoRequests.forEach(readIntoRequest => {\n            readIntoRequest._errorSteps(e);\n        });\n    }\n    // Helper functions for the ReadableStreamBYOBReader.\n    function byobReaderBrandCheckException(name) {\n        return new TypeError(`ReadableStreamBYOBReader.prototype.${name} can only be used on a ReadableStreamBYOBReader`);\n    }\n\n    function ExtractHighWaterMark(strategy, defaultHWM) {\n        const { highWaterMark } = strategy;\n        if (highWaterMark === undefined) {\n            return defaultHWM;\n        }\n        if (NumberIsNaN(highWaterMark) || highWaterMark < 0) {\n            throw new RangeError('Invalid highWaterMark');\n        }\n        return highWaterMark;\n    }\n    function ExtractSizeAlgorithm(strategy) {\n        const { size } = strategy;\n        if (!size) {\n            return () => 1;\n        }\n        return size;\n    }\n\n    function convertQueuingStrategy(init, context) {\n        assertDictionary(init, context);\n        const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        const size = init === null || init === void 0 ? void 0 : init.size;\n        return {\n            highWaterMark: highWaterMark === undefined ? undefined : convertUnrestrictedDouble(highWaterMark),\n            size: size === undefined ? undefined : convertQueuingStrategySize(size, `${context} has member 'size' that`)\n        };\n    }\n    function convertQueuingStrategySize(fn, context) {\n        assertFunction(fn, context);\n        return chunk => convertUnrestrictedDouble(fn(chunk));\n    }\n\n    function convertUnderlyingSink(original, context) {\n        assertDictionary(original, context);\n        const abort = original === null || original === void 0 ? void 0 : original.abort;\n        const close = original === null || original === void 0 ? void 0 : original.close;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const type = original === null || original === void 0 ? void 0 : original.type;\n        const write = original === null || original === void 0 ? void 0 : original.write;\n        return {\n            abort: abort === undefined ?\n                undefined :\n                convertUnderlyingSinkAbortCallback(abort, original, `${context} has member 'abort' that`),\n            close: close === undefined ?\n                undefined :\n                convertUnderlyingSinkCloseCallback(close, original, `${context} has member 'close' that`),\n            start: start === undefined ?\n                undefined :\n                convertUnderlyingSinkStartCallback(start, original, `${context} has member 'start' that`),\n            write: write === undefined ?\n                undefined :\n                convertUnderlyingSinkWriteCallback(write, original, `${context} has member 'write' that`),\n            type\n        };\n    }\n    function convertUnderlyingSinkAbortCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (reason) => promiseCall(fn, original, [reason]);\n    }\n    function convertUnderlyingSinkCloseCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return () => promiseCall(fn, original, []);\n    }\n    function convertUnderlyingSinkStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n    }\n    function convertUnderlyingSinkWriteCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n    }\n\n    function assertWritableStream(x, context) {\n        if (!IsWritableStream(x)) {\n            throw new TypeError(`${context} is not a WritableStream.`);\n        }\n    }\n\n    function isAbortSignal(value) {\n        if (typeof value !== 'object' || value === null) {\n            return false;\n        }\n        try {\n            return typeof value.aborted === 'boolean';\n        }\n        catch (_a) {\n            // AbortSignal.prototype.aborted throws if its brand check fails\n            return false;\n        }\n    }\n    const supportsAbortController = typeof AbortController === 'function';\n    /**\n     * Construct a new AbortController, if supported by the platform.\n     *\n     * @internal\n     */\n    function createAbortController() {\n        if (supportsAbortController) {\n            return new AbortController();\n        }\n        return undefined;\n    }\n\n    /**\n     * A writable stream represents a destination for data, into which you can write.\n     *\n     * @public\n     */\n    class WritableStream {\n        constructor(rawUnderlyingSink = {}, rawStrategy = {}) {\n            if (rawUnderlyingSink === undefined) {\n                rawUnderlyingSink = null;\n            }\n            else {\n                assertObject(rawUnderlyingSink, 'First parameter');\n            }\n            const strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n            const underlyingSink = convertUnderlyingSink(rawUnderlyingSink, 'First parameter');\n            InitializeWritableStream(this);\n            const type = underlyingSink.type;\n            if (type !== undefined) {\n                throw new RangeError('Invalid type is specified');\n            }\n            const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n            const highWaterMark = ExtractHighWaterMark(strategy, 1);\n            SetUpWritableStreamDefaultControllerFromUnderlyingSink(this, underlyingSink, highWaterMark, sizeAlgorithm);\n        }\n        /**\n         * Returns whether or not the writable stream is locked to a writer.\n         */\n        get locked() {\n            if (!IsWritableStream(this)) {\n                throw streamBrandCheckException$2('locked');\n            }\n            return IsWritableStreamLocked(this);\n        }\n        /**\n         * Aborts the stream, signaling that the producer can no longer successfully write to the stream and it is to be\n         * immediately moved to an errored state, with any queued-up writes discarded. This will also execute any abort\n         * mechanism of the underlying sink.\n         *\n         * The returned promise will fulfill if the stream shuts down successfully, or reject if the underlying sink signaled\n         * that there was an error doing so. Additionally, it will reject with a `TypeError` (without attempting to cancel\n         * the stream) if the stream is currently locked.\n         */\n        abort(reason = undefined) {\n            if (!IsWritableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$2('abort'));\n            }\n            if (IsWritableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot abort a stream that already has a writer'));\n            }\n            return WritableStreamAbort(this, reason);\n        }\n        /**\n         * Closes the stream. The underlying sink will finish processing any previously-written chunks, before invoking its\n         * close behavior. During this time any further attempts to write will fail (without erroring the stream).\n         *\n         * The method returns a promise that will fulfill if all remaining chunks are successfully written and the stream\n         * successfully closes, or rejects if an error is encountered during this process. Additionally, it will reject with\n         * a `TypeError` (without attempting to cancel the stream) if the stream is currently locked.\n         */\n        close() {\n            if (!IsWritableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$2('close'));\n            }\n            if (IsWritableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot close a stream that already has a writer'));\n            }\n            if (WritableStreamCloseQueuedOrInFlight(this)) {\n                return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n            }\n            return WritableStreamClose(this);\n        }\n        /**\n         * Creates a {@link WritableStreamDefaultWriter | writer} and locks the stream to the new writer. While the stream\n         * is locked, no other writer can be acquired until this one is released.\n         *\n         * This functionality is especially useful for creating abstractions that desire the ability to write to a stream\n         * without interruption or interleaving. By getting a writer for the stream, you can ensure nobody else can write at\n         * the same time, which would cause the resulting written data to be unpredictable and probably useless.\n         */\n        getWriter() {\n            if (!IsWritableStream(this)) {\n                throw streamBrandCheckException$2('getWriter');\n            }\n            return AcquireWritableStreamDefaultWriter(this);\n        }\n    }\n    Object.defineProperties(WritableStream.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        getWriter: { enumerable: true },\n        locked: { enumerable: true }\n    });\n    setFunctionName(WritableStream.prototype.abort, 'abort');\n    setFunctionName(WritableStream.prototype.close, 'close');\n    setFunctionName(WritableStream.prototype.getWriter, 'getWriter');\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStream',\n            configurable: true\n        });\n    }\n    // Abstract operations for the WritableStream.\n    function AcquireWritableStreamDefaultWriter(stream) {\n        return new WritableStreamDefaultWriter(stream);\n    }\n    // Throws if and only if startAlgorithm throws.\n    function CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n        const stream = Object.create(WritableStream.prototype);\n        InitializeWritableStream(stream);\n        const controller = Object.create(WritableStreamDefaultController.prototype);\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n    }\n    function InitializeWritableStream(stream) {\n        stream._state = 'writable';\n        // The error that will be reported by new method calls once the state becomes errored. Only set when [[state]] is\n        // 'erroring' or 'errored'. May be set to an undefined value.\n        stream._storedError = undefined;\n        stream._writer = undefined;\n        // Initialize to undefined first because the constructor of the controller checks this\n        // variable to validate the caller.\n        stream._writableStreamController = undefined;\n        // This queue is placed here instead of the writer class in order to allow for passing a writer to the next data\n        // producer without waiting for the queued writes to finish.\n        stream._writeRequests = new SimpleQueue();\n        // Write requests are removed from _writeRequests when write() is called on the underlying sink. This prevents\n        // them from being erroneously rejected on error. If a write() call is in-flight, the request is stored here.\n        stream._inFlightWriteRequest = undefined;\n        // The promise that was returned from writer.close(). Stored here because it may be fulfilled after the writer\n        // has been detached.\n        stream._closeRequest = undefined;\n        // Close request is removed from _closeRequest when close() is called on the underlying sink. This prevents it\n        // from being erroneously rejected on error. If a close() call is in-flight, the request is stored here.\n        stream._inFlightCloseRequest = undefined;\n        // The promise that was returned from writer.abort(). This may also be fulfilled after the writer has detached.\n        stream._pendingAbortRequest = undefined;\n        // The backpressure signal set by the controller.\n        stream._backpressure = false;\n    }\n    function IsWritableStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_writableStreamController')) {\n            return false;\n        }\n        return x instanceof WritableStream;\n    }\n    function IsWritableStreamLocked(stream) {\n        if (stream._writer === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamAbort(stream, reason) {\n        var _a;\n        if (stream._state === 'closed' || stream._state === 'errored') {\n            return promiseResolvedWith(undefined);\n        }\n        stream._writableStreamController._abortReason = reason;\n        (_a = stream._writableStreamController._abortController) === null || _a === void 0 ? void 0 : _a.abort(reason);\n        // TypeScript narrows the type of `stream._state` down to 'writable' | 'erroring',\n        // but it doesn't know that signaling abort runs author code that might have changed the state.\n        // Widen the type again by casting to WritableStreamState.\n        const state = stream._state;\n        if (state === 'closed' || state === 'errored') {\n            return promiseResolvedWith(undefined);\n        }\n        if (stream._pendingAbortRequest !== undefined) {\n            return stream._pendingAbortRequest._promise;\n        }\n        let wasAlreadyErroring = false;\n        if (state === 'erroring') {\n            wasAlreadyErroring = true;\n            // reason will not be used, so don't keep a reference to it.\n            reason = undefined;\n        }\n        const promise = newPromise((resolve, reject) => {\n            stream._pendingAbortRequest = {\n                _promise: undefined,\n                _resolve: resolve,\n                _reject: reject,\n                _reason: reason,\n                _wasAlreadyErroring: wasAlreadyErroring\n            };\n        });\n        stream._pendingAbortRequest._promise = promise;\n        if (!wasAlreadyErroring) {\n            WritableStreamStartErroring(stream, reason);\n        }\n        return promise;\n    }\n    function WritableStreamClose(stream) {\n        const state = stream._state;\n        if (state === 'closed' || state === 'errored') {\n            return promiseRejectedWith(new TypeError(`The stream (in ${state} state) is not in the writable state and cannot be closed`));\n        }\n        const promise = newPromise((resolve, reject) => {\n            const closeRequest = {\n                _resolve: resolve,\n                _reject: reject\n            };\n            stream._closeRequest = closeRequest;\n        });\n        const writer = stream._writer;\n        if (writer !== undefined && stream._backpressure && state === 'writable') {\n            defaultWriterReadyPromiseResolve(writer);\n        }\n        WritableStreamDefaultControllerClose(stream._writableStreamController);\n        return promise;\n    }\n    // WritableStream API exposed for controllers.\n    function WritableStreamAddWriteRequest(stream) {\n        const promise = newPromise((resolve, reject) => {\n            const writeRequest = {\n                _resolve: resolve,\n                _reject: reject\n            };\n            stream._writeRequests.push(writeRequest);\n        });\n        return promise;\n    }\n    function WritableStreamDealWithRejection(stream, error) {\n        const state = stream._state;\n        if (state === 'writable') {\n            WritableStreamStartErroring(stream, error);\n            return;\n        }\n        WritableStreamFinishErroring(stream);\n    }\n    function WritableStreamStartErroring(stream, reason) {\n        const controller = stream._writableStreamController;\n        stream._state = 'erroring';\n        stream._storedError = reason;\n        const writer = stream._writer;\n        if (writer !== undefined) {\n            WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, reason);\n        }\n        if (!WritableStreamHasOperationMarkedInFlight(stream) && controller._started) {\n            WritableStreamFinishErroring(stream);\n        }\n    }\n    function WritableStreamFinishErroring(stream) {\n        stream._state = 'errored';\n        stream._writableStreamController[ErrorSteps]();\n        const storedError = stream._storedError;\n        stream._writeRequests.forEach(writeRequest => {\n            writeRequest._reject(storedError);\n        });\n        stream._writeRequests = new SimpleQueue();\n        if (stream._pendingAbortRequest === undefined) {\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n        }\n        const abortRequest = stream._pendingAbortRequest;\n        stream._pendingAbortRequest = undefined;\n        if (abortRequest._wasAlreadyErroring) {\n            abortRequest._reject(storedError);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return;\n        }\n        const promise = stream._writableStreamController[AbortSteps](abortRequest._reason);\n        uponPromise(promise, () => {\n            abortRequest._resolve();\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return null;\n        }, (reason) => {\n            abortRequest._reject(reason);\n            WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);\n            return null;\n        });\n    }\n    function WritableStreamFinishInFlightWrite(stream) {\n        stream._inFlightWriteRequest._resolve(undefined);\n        stream._inFlightWriteRequest = undefined;\n    }\n    function WritableStreamFinishInFlightWriteWithError(stream, error) {\n        stream._inFlightWriteRequest._reject(error);\n        stream._inFlightWriteRequest = undefined;\n        WritableStreamDealWithRejection(stream, error);\n    }\n    function WritableStreamFinishInFlightClose(stream) {\n        stream._inFlightCloseRequest._resolve(undefined);\n        stream._inFlightCloseRequest = undefined;\n        const state = stream._state;\n        if (state === 'erroring') {\n            // The error was too late to do anything, so it is ignored.\n            stream._storedError = undefined;\n            if (stream._pendingAbortRequest !== undefined) {\n                stream._pendingAbortRequest._resolve();\n                stream._pendingAbortRequest = undefined;\n            }\n        }\n        stream._state = 'closed';\n        const writer = stream._writer;\n        if (writer !== undefined) {\n            defaultWriterClosedPromiseResolve(writer);\n        }\n    }\n    function WritableStreamFinishInFlightCloseWithError(stream, error) {\n        stream._inFlightCloseRequest._reject(error);\n        stream._inFlightCloseRequest = undefined;\n        // Never execute sink abort() after sink close().\n        if (stream._pendingAbortRequest !== undefined) {\n            stream._pendingAbortRequest._reject(error);\n            stream._pendingAbortRequest = undefined;\n        }\n        WritableStreamDealWithRejection(stream, error);\n    }\n    // TODO(ricea): Fix alphabetical order.\n    function WritableStreamCloseQueuedOrInFlight(stream) {\n        if (stream._closeRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamHasOperationMarkedInFlight(stream) {\n        if (stream._inFlightWriteRequest === undefined && stream._inFlightCloseRequest === undefined) {\n            return false;\n        }\n        return true;\n    }\n    function WritableStreamMarkCloseRequestInFlight(stream) {\n        stream._inFlightCloseRequest = stream._closeRequest;\n        stream._closeRequest = undefined;\n    }\n    function WritableStreamMarkFirstWriteRequestInFlight(stream) {\n        stream._inFlightWriteRequest = stream._writeRequests.shift();\n    }\n    function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream) {\n        if (stream._closeRequest !== undefined) {\n            stream._closeRequest._reject(stream._storedError);\n            stream._closeRequest = undefined;\n        }\n        const writer = stream._writer;\n        if (writer !== undefined) {\n            defaultWriterClosedPromiseReject(writer, stream._storedError);\n        }\n    }\n    function WritableStreamUpdateBackpressure(stream, backpressure) {\n        const writer = stream._writer;\n        if (writer !== undefined && backpressure !== stream._backpressure) {\n            if (backpressure) {\n                defaultWriterReadyPromiseReset(writer);\n            }\n            else {\n                defaultWriterReadyPromiseResolve(writer);\n            }\n        }\n        stream._backpressure = backpressure;\n    }\n    /**\n     * A default writer vended by a {@link WritableStream}.\n     *\n     * @public\n     */\n    class WritableStreamDefaultWriter {\n        constructor(stream) {\n            assertRequiredArgument(stream, 1, 'WritableStreamDefaultWriter');\n            assertWritableStream(stream, 'First parameter');\n            if (IsWritableStreamLocked(stream)) {\n                throw new TypeError('This stream has already been locked for exclusive writing by another writer');\n            }\n            this._ownerWritableStream = stream;\n            stream._writer = this;\n            const state = stream._state;\n            if (state === 'writable') {\n                if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._backpressure) {\n                    defaultWriterReadyPromiseInitialize(this);\n                }\n                else {\n                    defaultWriterReadyPromiseInitializeAsResolved(this);\n                }\n                defaultWriterClosedPromiseInitialize(this);\n            }\n            else if (state === 'erroring') {\n                defaultWriterReadyPromiseInitializeAsRejected(this, stream._storedError);\n                defaultWriterClosedPromiseInitialize(this);\n            }\n            else if (state === 'closed') {\n                defaultWriterReadyPromiseInitializeAsResolved(this);\n                defaultWriterClosedPromiseInitializeAsResolved(this);\n            }\n            else {\n                const storedError = stream._storedError;\n                defaultWriterReadyPromiseInitializeAsRejected(this, storedError);\n                defaultWriterClosedPromiseInitializeAsRejected(this, storedError);\n            }\n        }\n        /**\n         * Returns a promise that will be fulfilled when the stream becomes closed, or rejected if the stream ever errors or\n         * the writers lock is released before the stream finishes closing.\n         */\n        get closed() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('closed'));\n            }\n            return this._closedPromise;\n        }\n        /**\n         * Returns the desired size to fill the streams internal queue. It can be negative, if the queue is over-full.\n         * A producer can use this information to determine the right amount of data to write.\n         *\n         * It will be `null` if the stream cannot be successfully written to (due to either being errored, or having an abort\n         * queued up). It will return zero if the stream is closed. And the getter will throw an exception if invoked when\n         * the writers lock is released.\n         */\n        get desiredSize() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                throw defaultWriterBrandCheckException('desiredSize');\n            }\n            if (this._ownerWritableStream === undefined) {\n                throw defaultWriterLockException('desiredSize');\n            }\n            return WritableStreamDefaultWriterGetDesiredSize(this);\n        }\n        /**\n         * Returns a promise that will be fulfilled when the desired size to fill the streams internal queue transitions\n         * from non-positive to positive, signaling that it is no longer applying backpressure. Once the desired size dips\n         * back to zero or below, the getter will return a new promise that stays pending until the next transition.\n         *\n         * If the stream becomes errored or aborted, or the writers lock is released, the returned promise will become\n         * rejected.\n         */\n        get ready() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('ready'));\n            }\n            return this._readyPromise;\n        }\n        /**\n         * If the reader is active, behaves the same as {@link WritableStream.abort | stream.abort(reason)}.\n         */\n        abort(reason = undefined) {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('abort'));\n            }\n            if (this._ownerWritableStream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('abort'));\n            }\n            return WritableStreamDefaultWriterAbort(this, reason);\n        }\n        /**\n         * If the reader is active, behaves the same as {@link WritableStream.close | stream.close()}.\n         */\n        close() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('close'));\n            }\n            const stream = this._ownerWritableStream;\n            if (stream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('close'));\n            }\n            if (WritableStreamCloseQueuedOrInFlight(stream)) {\n                return promiseRejectedWith(new TypeError('Cannot close an already-closing stream'));\n            }\n            return WritableStreamDefaultWriterClose(this);\n        }\n        /**\n         * Releases the writers lock on the corresponding stream. After the lock is released, the writer is no longer active.\n         * If the associated stream is errored when the lock is released, the writer will appear errored in the same way from\n         * now on; otherwise, the writer will appear closed.\n         *\n         * Note that the lock can still be released even if some ongoing writes have not yet finished (i.e. even if the\n         * promises returned from previous calls to {@link WritableStreamDefaultWriter.write | write()} have not yet settled).\n         * Its not necessary to hold the lock on the writer for the duration of the write; the lock instead simply prevents\n         * other producers from writing in an interleaved manner.\n         */\n        releaseLock() {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                throw defaultWriterBrandCheckException('releaseLock');\n            }\n            const stream = this._ownerWritableStream;\n            if (stream === undefined) {\n                return;\n            }\n            WritableStreamDefaultWriterRelease(this);\n        }\n        write(chunk = undefined) {\n            if (!IsWritableStreamDefaultWriter(this)) {\n                return promiseRejectedWith(defaultWriterBrandCheckException('write'));\n            }\n            if (this._ownerWritableStream === undefined) {\n                return promiseRejectedWith(defaultWriterLockException('write to'));\n            }\n            return WritableStreamDefaultWriterWrite(this, chunk);\n        }\n    }\n    Object.defineProperties(WritableStreamDefaultWriter.prototype, {\n        abort: { enumerable: true },\n        close: { enumerable: true },\n        releaseLock: { enumerable: true },\n        write: { enumerable: true },\n        closed: { enumerable: true },\n        desiredSize: { enumerable: true },\n        ready: { enumerable: true }\n    });\n    setFunctionName(WritableStreamDefaultWriter.prototype.abort, 'abort');\n    setFunctionName(WritableStreamDefaultWriter.prototype.close, 'close');\n    setFunctionName(WritableStreamDefaultWriter.prototype.releaseLock, 'releaseLock');\n    setFunctionName(WritableStreamDefaultWriter.prototype.write, 'write');\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStreamDefaultWriter.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStreamDefaultWriter',\n            configurable: true\n        });\n    }\n    // Abstract operations for the WritableStreamDefaultWriter.\n    function IsWritableStreamDefaultWriter(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_ownerWritableStream')) {\n            return false;\n        }\n        return x instanceof WritableStreamDefaultWriter;\n    }\n    // A client of WritableStreamDefaultWriter may use these functions directly to bypass state check.\n    function WritableStreamDefaultWriterAbort(writer, reason) {\n        const stream = writer._ownerWritableStream;\n        return WritableStreamAbort(stream, reason);\n    }\n    function WritableStreamDefaultWriterClose(writer) {\n        const stream = writer._ownerWritableStream;\n        return WritableStreamClose(stream);\n    }\n    function WritableStreamDefaultWriterCloseWithErrorPropagation(writer) {\n        const stream = writer._ownerWritableStream;\n        const state = stream._state;\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n            return promiseResolvedWith(undefined);\n        }\n        if (state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        return WritableStreamDefaultWriterClose(writer);\n    }\n    function WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, error) {\n        if (writer._closedPromiseState === 'pending') {\n            defaultWriterClosedPromiseReject(writer, error);\n        }\n        else {\n            defaultWriterClosedPromiseResetToRejected(writer, error);\n        }\n    }\n    function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, error) {\n        if (writer._readyPromiseState === 'pending') {\n            defaultWriterReadyPromiseReject(writer, error);\n        }\n        else {\n            defaultWriterReadyPromiseResetToRejected(writer, error);\n        }\n    }\n    function WritableStreamDefaultWriterGetDesiredSize(writer) {\n        const stream = writer._ownerWritableStream;\n        const state = stream._state;\n        if (state === 'errored' || state === 'erroring') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController);\n    }\n    function WritableStreamDefaultWriterRelease(writer) {\n        const stream = writer._ownerWritableStream;\n        const releasedError = new TypeError(`Writer was released and can no longer be used to monitor the stream's closedness`);\n        WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer, releasedError);\n        // The state transitions to \"errored\" before the sink abort() method runs, but the writer.closed promise is not\n        // rejected until afterwards. This means that simply testing state will not work.\n        WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer, releasedError);\n        stream._writer = undefined;\n        writer._ownerWritableStream = undefined;\n    }\n    function WritableStreamDefaultWriterWrite(writer, chunk) {\n        const stream = writer._ownerWritableStream;\n        const controller = stream._writableStreamController;\n        const chunkSize = WritableStreamDefaultControllerGetChunkSize(controller, chunk);\n        if (stream !== writer._ownerWritableStream) {\n            return promiseRejectedWith(defaultWriterLockException('write to'));\n        }\n        const state = stream._state;\n        if (state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        if (WritableStreamCloseQueuedOrInFlight(stream) || state === 'closed') {\n            return promiseRejectedWith(new TypeError('The stream is closing or closed and cannot be written to'));\n        }\n        if (state === 'erroring') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        const promise = WritableStreamAddWriteRequest(stream);\n        WritableStreamDefaultControllerWrite(controller, chunk, chunkSize);\n        return promise;\n    }\n    const closeSentinel = {};\n    /**\n     * Allows control of a {@link WritableStream | writable stream}'s state and internal queue.\n     *\n     * @public\n     */\n    class WritableStreamDefaultController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * The reason which was passed to `WritableStream.abort(reason)` when the stream was aborted.\n         *\n         * @deprecated\n         *  This property has been removed from the specification, see https://github.com/whatwg/streams/pull/1177.\n         *  Use {@link WritableStreamDefaultController.signal}'s `reason` instead.\n         */\n        get abortReason() {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('abortReason');\n            }\n            return this._abortReason;\n        }\n        /**\n         * An `AbortSignal` that can be used to abort the pending write or close operation when the stream is aborted.\n         */\n        get signal() {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('signal');\n            }\n            if (this._abortController === undefined) {\n                // Older browsers or older Node versions may not support `AbortController` or `AbortSignal`.\n                // We don't want to bundle and ship an `AbortController` polyfill together with our polyfill,\n                // so instead we only implement support for `signal` if we find a global `AbortController` constructor.\n                throw new TypeError('WritableStreamDefaultController.prototype.signal is not supported');\n            }\n            return this._abortController.signal;\n        }\n        /**\n         * Closes the controlled writable stream, making all future interactions with it fail with the given error `e`.\n         *\n         * This method is rarely used, since usually it suffices to return a rejected promise from one of the underlying\n         * sink's methods. However, it can be useful for suddenly shutting down a stream in response to an event outside the\n         * normal lifecycle of interactions with the underlying sink.\n         */\n        error(e = undefined) {\n            if (!IsWritableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$2('error');\n            }\n            const state = this._controlledWritableStream._state;\n            if (state !== 'writable') {\n                // The stream is closed, errored or will be soon. The sink can't do anything useful if it gets an error here, so\n                // just treat it as a no-op.\n                return;\n            }\n            WritableStreamDefaultControllerError(this, e);\n        }\n        /** @internal */\n        [AbortSteps](reason) {\n            const result = this._abortAlgorithm(reason);\n            WritableStreamDefaultControllerClearAlgorithms(this);\n            return result;\n        }\n        /** @internal */\n        [ErrorSteps]() {\n            ResetQueue(this);\n        }\n    }\n    Object.defineProperties(WritableStreamDefaultController.prototype, {\n        abortReason: { enumerable: true },\n        signal: { enumerable: true },\n        error: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(WritableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'WritableStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Abstract operations implementing interface required by the WritableStream.\n    function IsWritableStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledWritableStream')) {\n            return false;\n        }\n        return x instanceof WritableStreamDefaultController;\n    }\n    function SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledWritableStream = stream;\n        stream._writableStreamController = controller;\n        // Need to set the slots so that the assert doesn't fire. In the spec the slots already exist implicitly.\n        controller._queue = undefined;\n        controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._abortReason = undefined;\n        controller._abortController = createAbortController();\n        controller._started = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._writeAlgorithm = writeAlgorithm;\n        controller._closeAlgorithm = closeAlgorithm;\n        controller._abortAlgorithm = abortAlgorithm;\n        const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n        WritableStreamUpdateBackpressure(stream, backpressure);\n        const startResult = startAlgorithm();\n        const startPromise = promiseResolvedWith(startResult);\n        uponPromise(startPromise, () => {\n            controller._started = true;\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n            return null;\n        }, r => {\n            controller._started = true;\n            WritableStreamDealWithRejection(stream, r);\n            return null;\n        });\n    }\n    function SetUpWritableStreamDefaultControllerFromUnderlyingSink(stream, underlyingSink, highWaterMark, sizeAlgorithm) {\n        const controller = Object.create(WritableStreamDefaultController.prototype);\n        let startAlgorithm;\n        let writeAlgorithm;\n        let closeAlgorithm;\n        let abortAlgorithm;\n        if (underlyingSink.start !== undefined) {\n            startAlgorithm = () => underlyingSink.start(controller);\n        }\n        else {\n            startAlgorithm = () => undefined;\n        }\n        if (underlyingSink.write !== undefined) {\n            writeAlgorithm = chunk => underlyingSink.write(chunk, controller);\n        }\n        else {\n            writeAlgorithm = () => promiseResolvedWith(undefined);\n        }\n        if (underlyingSink.close !== undefined) {\n            closeAlgorithm = () => underlyingSink.close();\n        }\n        else {\n            closeAlgorithm = () => promiseResolvedWith(undefined);\n        }\n        if (underlyingSink.abort !== undefined) {\n            abortAlgorithm = reason => underlyingSink.abort(reason);\n        }\n        else {\n            abortAlgorithm = () => promiseResolvedWith(undefined);\n        }\n        SetUpWritableStreamDefaultController(stream, controller, startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, highWaterMark, sizeAlgorithm);\n    }\n    // ClearAlgorithms may be called twice. Erroring the same stream in multiple ways will often result in redundant calls.\n    function WritableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._writeAlgorithm = undefined;\n        controller._closeAlgorithm = undefined;\n        controller._abortAlgorithm = undefined;\n        controller._strategySizeAlgorithm = undefined;\n    }\n    function WritableStreamDefaultControllerClose(controller) {\n        EnqueueValueWithSize(controller, closeSentinel, 0);\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }\n    function WritableStreamDefaultControllerGetChunkSize(controller, chunk) {\n        try {\n            return controller._strategySizeAlgorithm(chunk);\n        }\n        catch (chunkSizeE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, chunkSizeE);\n            return 1;\n        }\n    }\n    function WritableStreamDefaultControllerGetDesiredSize(controller) {\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    function WritableStreamDefaultControllerWrite(controller, chunk, chunkSize) {\n        try {\n            EnqueueValueWithSize(controller, chunk, chunkSize);\n        }\n        catch (enqueueE) {\n            WritableStreamDefaultControllerErrorIfNeeded(controller, enqueueE);\n            return;\n        }\n        const stream = controller._controlledWritableStream;\n        if (!WritableStreamCloseQueuedOrInFlight(stream) && stream._state === 'writable') {\n            const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n            WritableStreamUpdateBackpressure(stream, backpressure);\n        }\n        WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n    }\n    // Abstract operations for the WritableStreamDefaultController.\n    function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller) {\n        const stream = controller._controlledWritableStream;\n        if (!controller._started) {\n            return;\n        }\n        if (stream._inFlightWriteRequest !== undefined) {\n            return;\n        }\n        const state = stream._state;\n        if (state === 'erroring') {\n            WritableStreamFinishErroring(stream);\n            return;\n        }\n        if (controller._queue.length === 0) {\n            return;\n        }\n        const value = PeekQueueValue(controller);\n        if (value === closeSentinel) {\n            WritableStreamDefaultControllerProcessClose(controller);\n        }\n        else {\n            WritableStreamDefaultControllerProcessWrite(controller, value);\n        }\n    }\n    function WritableStreamDefaultControllerErrorIfNeeded(controller, error) {\n        if (controller._controlledWritableStream._state === 'writable') {\n            WritableStreamDefaultControllerError(controller, error);\n        }\n    }\n    function WritableStreamDefaultControllerProcessClose(controller) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamMarkCloseRequestInFlight(stream);\n        DequeueValue(controller);\n        const sinkClosePromise = controller._closeAlgorithm();\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        uponPromise(sinkClosePromise, () => {\n            WritableStreamFinishInFlightClose(stream);\n            return null;\n        }, reason => {\n            WritableStreamFinishInFlightCloseWithError(stream, reason);\n            return null;\n        });\n    }\n    function WritableStreamDefaultControllerProcessWrite(controller, chunk) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamMarkFirstWriteRequestInFlight(stream);\n        const sinkWritePromise = controller._writeAlgorithm(chunk);\n        uponPromise(sinkWritePromise, () => {\n            WritableStreamFinishInFlightWrite(stream);\n            const state = stream._state;\n            DequeueValue(controller);\n            if (!WritableStreamCloseQueuedOrInFlight(stream) && state === 'writable') {\n                const backpressure = WritableStreamDefaultControllerGetBackpressure(controller);\n                WritableStreamUpdateBackpressure(stream, backpressure);\n            }\n            WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller);\n            return null;\n        }, reason => {\n            if (stream._state === 'writable') {\n                WritableStreamDefaultControllerClearAlgorithms(controller);\n            }\n            WritableStreamFinishInFlightWriteWithError(stream, reason);\n            return null;\n        });\n    }\n    function WritableStreamDefaultControllerGetBackpressure(controller) {\n        const desiredSize = WritableStreamDefaultControllerGetDesiredSize(controller);\n        return desiredSize <= 0;\n    }\n    // A client of WritableStreamDefaultController may use these functions directly to bypass state check.\n    function WritableStreamDefaultControllerError(controller, error) {\n        const stream = controller._controlledWritableStream;\n        WritableStreamDefaultControllerClearAlgorithms(controller);\n        WritableStreamStartErroring(stream, error);\n    }\n    // Helper functions for the WritableStream.\n    function streamBrandCheckException$2(name) {\n        return new TypeError(`WritableStream.prototype.${name} can only be used on a WritableStream`);\n    }\n    // Helper functions for the WritableStreamDefaultController.\n    function defaultControllerBrandCheckException$2(name) {\n        return new TypeError(`WritableStreamDefaultController.prototype.${name} can only be used on a WritableStreamDefaultController`);\n    }\n    // Helper functions for the WritableStreamDefaultWriter.\n    function defaultWriterBrandCheckException(name) {\n        return new TypeError(`WritableStreamDefaultWriter.prototype.${name} can only be used on a WritableStreamDefaultWriter`);\n    }\n    function defaultWriterLockException(name) {\n        return new TypeError('Cannot ' + name + ' a stream using a released writer');\n    }\n    function defaultWriterClosedPromiseInitialize(writer) {\n        writer._closedPromise = newPromise((resolve, reject) => {\n            writer._closedPromise_resolve = resolve;\n            writer._closedPromise_reject = reject;\n            writer._closedPromiseState = 'pending';\n        });\n    }\n    function defaultWriterClosedPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseReject(writer, reason);\n    }\n    function defaultWriterClosedPromiseInitializeAsResolved(writer) {\n        defaultWriterClosedPromiseInitialize(writer);\n        defaultWriterClosedPromiseResolve(writer);\n    }\n    function defaultWriterClosedPromiseReject(writer, reason) {\n        if (writer._closedPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(writer._closedPromise);\n        writer._closedPromise_reject(reason);\n        writer._closedPromise_resolve = undefined;\n        writer._closedPromise_reject = undefined;\n        writer._closedPromiseState = 'rejected';\n    }\n    function defaultWriterClosedPromiseResetToRejected(writer, reason) {\n        defaultWriterClosedPromiseInitializeAsRejected(writer, reason);\n    }\n    function defaultWriterClosedPromiseResolve(writer) {\n        if (writer._closedPromise_resolve === undefined) {\n            return;\n        }\n        writer._closedPromise_resolve(undefined);\n        writer._closedPromise_resolve = undefined;\n        writer._closedPromise_reject = undefined;\n        writer._closedPromiseState = 'resolved';\n    }\n    function defaultWriterReadyPromiseInitialize(writer) {\n        writer._readyPromise = newPromise((resolve, reject) => {\n            writer._readyPromise_resolve = resolve;\n            writer._readyPromise_reject = reject;\n        });\n        writer._readyPromiseState = 'pending';\n    }\n    function defaultWriterReadyPromiseInitializeAsRejected(writer, reason) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseReject(writer, reason);\n    }\n    function defaultWriterReadyPromiseInitializeAsResolved(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n        defaultWriterReadyPromiseResolve(writer);\n    }\n    function defaultWriterReadyPromiseReject(writer, reason) {\n        if (writer._readyPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(writer._readyPromise);\n        writer._readyPromise_reject(reason);\n        writer._readyPromise_resolve = undefined;\n        writer._readyPromise_reject = undefined;\n        writer._readyPromiseState = 'rejected';\n    }\n    function defaultWriterReadyPromiseReset(writer) {\n        defaultWriterReadyPromiseInitialize(writer);\n    }\n    function defaultWriterReadyPromiseResetToRejected(writer, reason) {\n        defaultWriterReadyPromiseInitializeAsRejected(writer, reason);\n    }\n    function defaultWriterReadyPromiseResolve(writer) {\n        if (writer._readyPromise_resolve === undefined) {\n            return;\n        }\n        writer._readyPromise_resolve(undefined);\n        writer._readyPromise_resolve = undefined;\n        writer._readyPromise_reject = undefined;\n        writer._readyPromiseState = 'fulfilled';\n    }\n\n    /// <reference lib=\"dom\" />\n    function getGlobals() {\n        if (typeof globalThis !== 'undefined') {\n            return globalThis;\n        }\n        else if (typeof self !== 'undefined') {\n            return self;\n        }\n        else if (typeof global !== 'undefined') {\n            return global;\n        }\n        return undefined;\n    }\n    const globals = getGlobals();\n\n    /// <reference types=\"node\" />\n    function isDOMExceptionConstructor(ctor) {\n        if (!(typeof ctor === 'function' || typeof ctor === 'object')) {\n            return false;\n        }\n        if (ctor.name !== 'DOMException') {\n            return false;\n        }\n        try {\n            new ctor();\n            return true;\n        }\n        catch (_a) {\n            return false;\n        }\n    }\n    /**\n     * Support:\n     * - Web browsers\n     * - Node 18 and higher (https://github.com/nodejs/node/commit/e4b1fb5e6422c1ff151234bb9de792d45dd88d87)\n     */\n    function getFromGlobal() {\n        const ctor = globals === null || globals === void 0 ? void 0 : globals.DOMException;\n        return isDOMExceptionConstructor(ctor) ? ctor : undefined;\n    }\n    /**\n     * Support:\n     * - All platforms\n     */\n    function createPolyfill() {\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const ctor = function DOMException(message, name) {\n            this.message = message || '';\n            this.name = name || 'Error';\n            if (Error.captureStackTrace) {\n                Error.captureStackTrace(this, this.constructor);\n            }\n        };\n        setFunctionName(ctor, 'DOMException');\n        ctor.prototype = Object.create(Error.prototype);\n        Object.defineProperty(ctor.prototype, 'constructor', { value: ctor, writable: true, configurable: true });\n        return ctor;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-redeclare\n    const DOMException = getFromGlobal() || createPolyfill();\n\n    function ReadableStreamPipeTo(source, dest, preventClose, preventAbort, preventCancel, signal) {\n        const reader = AcquireReadableStreamDefaultReader(source);\n        const writer = AcquireWritableStreamDefaultWriter(dest);\n        source._disturbed = true;\n        let shuttingDown = false;\n        // This is used to keep track of the spec's requirement that we wait for ongoing writes during shutdown.\n        let currentWrite = promiseResolvedWith(undefined);\n        return newPromise((resolve, reject) => {\n            let abortAlgorithm;\n            if (signal !== undefined) {\n                abortAlgorithm = () => {\n                    const error = signal.reason !== undefined ? signal.reason : new DOMException('Aborted', 'AbortError');\n                    const actions = [];\n                    if (!preventAbort) {\n                        actions.push(() => {\n                            if (dest._state === 'writable') {\n                                return WritableStreamAbort(dest, error);\n                            }\n                            return promiseResolvedWith(undefined);\n                        });\n                    }\n                    if (!preventCancel) {\n                        actions.push(() => {\n                            if (source._state === 'readable') {\n                                return ReadableStreamCancel(source, error);\n                            }\n                            return promiseResolvedWith(undefined);\n                        });\n                    }\n                    shutdownWithAction(() => Promise.all(actions.map(action => action())), true, error);\n                };\n                if (signal.aborted) {\n                    abortAlgorithm();\n                    return;\n                }\n                signal.addEventListener('abort', abortAlgorithm);\n            }\n            // Using reader and writer, read all chunks from this and write them to dest\n            // - Backpressure must be enforced\n            // - Shutdown must stop all activity\n            function pipeLoop() {\n                return newPromise((resolveLoop, rejectLoop) => {\n                    function next(done) {\n                        if (done) {\n                            resolveLoop();\n                        }\n                        else {\n                            // Use `PerformPromiseThen` instead of `uponPromise` to avoid\n                            // adding unnecessary `.catch(rethrowAssertionErrorRejection)` handlers\n                            PerformPromiseThen(pipeStep(), next, rejectLoop);\n                        }\n                    }\n                    next(false);\n                });\n            }\n            function pipeStep() {\n                if (shuttingDown) {\n                    return promiseResolvedWith(true);\n                }\n                return PerformPromiseThen(writer._readyPromise, () => {\n                    return newPromise((resolveRead, rejectRead) => {\n                        ReadableStreamDefaultReaderRead(reader, {\n                            _chunkSteps: chunk => {\n                                currentWrite = PerformPromiseThen(WritableStreamDefaultWriterWrite(writer, chunk), undefined, noop);\n                                resolveRead(false);\n                            },\n                            _closeSteps: () => resolveRead(true),\n                            _errorSteps: rejectRead\n                        });\n                    });\n                });\n            }\n            // Errors must be propagated forward\n            isOrBecomesErrored(source, reader._closedPromise, storedError => {\n                if (!preventAbort) {\n                    shutdownWithAction(() => WritableStreamAbort(dest, storedError), true, storedError);\n                }\n                else {\n                    shutdown(true, storedError);\n                }\n                return null;\n            });\n            // Errors must be propagated backward\n            isOrBecomesErrored(dest, writer._closedPromise, storedError => {\n                if (!preventCancel) {\n                    shutdownWithAction(() => ReadableStreamCancel(source, storedError), true, storedError);\n                }\n                else {\n                    shutdown(true, storedError);\n                }\n                return null;\n            });\n            // Closing must be propagated forward\n            isOrBecomesClosed(source, reader._closedPromise, () => {\n                if (!preventClose) {\n                    shutdownWithAction(() => WritableStreamDefaultWriterCloseWithErrorPropagation(writer));\n                }\n                else {\n                    shutdown();\n                }\n                return null;\n            });\n            // Closing must be propagated backward\n            if (WritableStreamCloseQueuedOrInFlight(dest) || dest._state === 'closed') {\n                const destClosed = new TypeError('the destination writable stream closed before all data could be piped to it');\n                if (!preventCancel) {\n                    shutdownWithAction(() => ReadableStreamCancel(source, destClosed), true, destClosed);\n                }\n                else {\n                    shutdown(true, destClosed);\n                }\n            }\n            setPromiseIsHandledToTrue(pipeLoop());\n            function waitForWritesToFinish() {\n                // Another write may have started while we were waiting on this currentWrite, so we have to be sure to wait\n                // for that too.\n                const oldCurrentWrite = currentWrite;\n                return PerformPromiseThen(currentWrite, () => oldCurrentWrite !== currentWrite ? waitForWritesToFinish() : undefined);\n            }\n            function isOrBecomesErrored(stream, promise, action) {\n                if (stream._state === 'errored') {\n                    action(stream._storedError);\n                }\n                else {\n                    uponRejection(promise, action);\n                }\n            }\n            function isOrBecomesClosed(stream, promise, action) {\n                if (stream._state === 'closed') {\n                    action();\n                }\n                else {\n                    uponFulfillment(promise, action);\n                }\n            }\n            function shutdownWithAction(action, originalIsError, originalError) {\n                if (shuttingDown) {\n                    return;\n                }\n                shuttingDown = true;\n                if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                    uponFulfillment(waitForWritesToFinish(), doTheRest);\n                }\n                else {\n                    doTheRest();\n                }\n                function doTheRest() {\n                    uponPromise(action(), () => finalize(originalIsError, originalError), newError => finalize(true, newError));\n                    return null;\n                }\n            }\n            function shutdown(isError, error) {\n                if (shuttingDown) {\n                    return;\n                }\n                shuttingDown = true;\n                if (dest._state === 'writable' && !WritableStreamCloseQueuedOrInFlight(dest)) {\n                    uponFulfillment(waitForWritesToFinish(), () => finalize(isError, error));\n                }\n                else {\n                    finalize(isError, error);\n                }\n            }\n            function finalize(isError, error) {\n                WritableStreamDefaultWriterRelease(writer);\n                ReadableStreamReaderGenericRelease(reader);\n                if (signal !== undefined) {\n                    signal.removeEventListener('abort', abortAlgorithm);\n                }\n                if (isError) {\n                    reject(error);\n                }\n                else {\n                    resolve(undefined);\n                }\n                return null;\n            }\n        });\n    }\n\n    /**\n     * Allows control of a {@link ReadableStream | readable stream}'s state and internal queue.\n     *\n     * @public\n     */\n    class ReadableStreamDefaultController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the desired size to fill the controlled stream's internal queue. It can be negative, if the queue is\n         * over-full. An underlying source ought to use this information to determine when and how to apply backpressure.\n         */\n        get desiredSize() {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('desiredSize');\n            }\n            return ReadableStreamDefaultControllerGetDesiredSize(this);\n        }\n        /**\n         * Closes the controlled readable stream. Consumers will still be able to read any previously-enqueued chunks from\n         * the stream, but once those are read, the stream will become closed.\n         */\n        close() {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('close');\n            }\n            if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n                throw new TypeError('The stream is not in a state that permits close');\n            }\n            ReadableStreamDefaultControllerClose(this);\n        }\n        enqueue(chunk = undefined) {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('enqueue');\n            }\n            if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)) {\n                throw new TypeError('The stream is not in a state that permits enqueue');\n            }\n            return ReadableStreamDefaultControllerEnqueue(this, chunk);\n        }\n        /**\n         * Errors the controlled readable stream, making all future interactions with it fail with the given error `e`.\n         */\n        error(e = undefined) {\n            if (!IsReadableStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException$1('error');\n            }\n            ReadableStreamDefaultControllerError(this, e);\n        }\n        /** @internal */\n        [CancelSteps](reason) {\n            ResetQueue(this);\n            const result = this._cancelAlgorithm(reason);\n            ReadableStreamDefaultControllerClearAlgorithms(this);\n            return result;\n        }\n        /** @internal */\n        [PullSteps](readRequest) {\n            const stream = this._controlledReadableStream;\n            if (this._queue.length > 0) {\n                const chunk = DequeueValue(this);\n                if (this._closeRequested && this._queue.length === 0) {\n                    ReadableStreamDefaultControllerClearAlgorithms(this);\n                    ReadableStreamClose(stream);\n                }\n                else {\n                    ReadableStreamDefaultControllerCallPullIfNeeded(this);\n                }\n                readRequest._chunkSteps(chunk);\n            }\n            else {\n                ReadableStreamAddReadRequest(stream, readRequest);\n                ReadableStreamDefaultControllerCallPullIfNeeded(this);\n            }\n        }\n        /** @internal */\n        [ReleaseSteps]() {\n            // Do nothing.\n        }\n    }\n    Object.defineProperties(ReadableStreamDefaultController.prototype, {\n        close: { enumerable: true },\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    setFunctionName(ReadableStreamDefaultController.prototype.close, 'close');\n    setFunctionName(ReadableStreamDefaultController.prototype.enqueue, 'enqueue');\n    setFunctionName(ReadableStreamDefaultController.prototype.error, 'error');\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableStreamDefaultController.\n    function IsReadableStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledReadableStream')) {\n            return false;\n        }\n        return x instanceof ReadableStreamDefaultController;\n    }\n    function ReadableStreamDefaultControllerCallPullIfNeeded(controller) {\n        const shouldPull = ReadableStreamDefaultControllerShouldCallPull(controller);\n        if (!shouldPull) {\n            return;\n        }\n        if (controller._pulling) {\n            controller._pullAgain = true;\n            return;\n        }\n        controller._pulling = true;\n        const pullPromise = controller._pullAlgorithm();\n        uponPromise(pullPromise, () => {\n            controller._pulling = false;\n            if (controller._pullAgain) {\n                controller._pullAgain = false;\n                ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n            }\n            return null;\n        }, e => {\n            ReadableStreamDefaultControllerError(controller, e);\n            return null;\n        });\n    }\n    function ReadableStreamDefaultControllerShouldCallPull(controller) {\n        const stream = controller._controlledReadableStream;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return false;\n        }\n        if (!controller._started) {\n            return false;\n        }\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            return true;\n        }\n        const desiredSize = ReadableStreamDefaultControllerGetDesiredSize(controller);\n        if (desiredSize > 0) {\n            return true;\n        }\n        return false;\n    }\n    function ReadableStreamDefaultControllerClearAlgorithms(controller) {\n        controller._pullAlgorithm = undefined;\n        controller._cancelAlgorithm = undefined;\n        controller._strategySizeAlgorithm = undefined;\n    }\n    // A client of ReadableStreamDefaultController may use these functions directly to bypass state check.\n    function ReadableStreamDefaultControllerClose(controller) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return;\n        }\n        const stream = controller._controlledReadableStream;\n        controller._closeRequested = true;\n        if (controller._queue.length === 0) {\n            ReadableStreamDefaultControllerClearAlgorithms(controller);\n            ReadableStreamClose(stream);\n        }\n    }\n    function ReadableStreamDefaultControllerEnqueue(controller, chunk) {\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(controller)) {\n            return;\n        }\n        const stream = controller._controlledReadableStream;\n        if (IsReadableStreamLocked(stream) && ReadableStreamGetNumReadRequests(stream) > 0) {\n            ReadableStreamFulfillReadRequest(stream, chunk, false);\n        }\n        else {\n            let chunkSize;\n            try {\n                chunkSize = controller._strategySizeAlgorithm(chunk);\n            }\n            catch (chunkSizeE) {\n                ReadableStreamDefaultControllerError(controller, chunkSizeE);\n                throw chunkSizeE;\n            }\n            try {\n                EnqueueValueWithSize(controller, chunk, chunkSize);\n            }\n            catch (enqueueE) {\n                ReadableStreamDefaultControllerError(controller, enqueueE);\n                throw enqueueE;\n            }\n        }\n        ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n    }\n    function ReadableStreamDefaultControllerError(controller, e) {\n        const stream = controller._controlledReadableStream;\n        if (stream._state !== 'readable') {\n            return;\n        }\n        ResetQueue(controller);\n        ReadableStreamDefaultControllerClearAlgorithms(controller);\n        ReadableStreamError(stream, e);\n    }\n    function ReadableStreamDefaultControllerGetDesiredSize(controller) {\n        const state = controller._controlledReadableStream._state;\n        if (state === 'errored') {\n            return null;\n        }\n        if (state === 'closed') {\n            return 0;\n        }\n        return controller._strategyHWM - controller._queueTotalSize;\n    }\n    // This is used in the implementation of TransformStream.\n    function ReadableStreamDefaultControllerHasBackpressure(controller) {\n        if (ReadableStreamDefaultControllerShouldCallPull(controller)) {\n            return false;\n        }\n        return true;\n    }\n    function ReadableStreamDefaultControllerCanCloseOrEnqueue(controller) {\n        const state = controller._controlledReadableStream._state;\n        if (!controller._closeRequested && state === 'readable') {\n            return true;\n        }\n        return false;\n    }\n    function SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm) {\n        controller._controlledReadableStream = stream;\n        controller._queue = undefined;\n        controller._queueTotalSize = undefined;\n        ResetQueue(controller);\n        controller._started = false;\n        controller._closeRequested = false;\n        controller._pullAgain = false;\n        controller._pulling = false;\n        controller._strategySizeAlgorithm = sizeAlgorithm;\n        controller._strategyHWM = highWaterMark;\n        controller._pullAlgorithm = pullAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        stream._readableStreamController = controller;\n        const startResult = startAlgorithm();\n        uponPromise(promiseResolvedWith(startResult), () => {\n            controller._started = true;\n            ReadableStreamDefaultControllerCallPullIfNeeded(controller);\n            return null;\n        }, r => {\n            ReadableStreamDefaultControllerError(controller, r);\n            return null;\n        });\n    }\n    function SetUpReadableStreamDefaultControllerFromUnderlyingSource(stream, underlyingSource, highWaterMark, sizeAlgorithm) {\n        const controller = Object.create(ReadableStreamDefaultController.prototype);\n        let startAlgorithm;\n        let pullAlgorithm;\n        let cancelAlgorithm;\n        if (underlyingSource.start !== undefined) {\n            startAlgorithm = () => underlyingSource.start(controller);\n        }\n        else {\n            startAlgorithm = () => undefined;\n        }\n        if (underlyingSource.pull !== undefined) {\n            pullAlgorithm = () => underlyingSource.pull(controller);\n        }\n        else {\n            pullAlgorithm = () => promiseResolvedWith(undefined);\n        }\n        if (underlyingSource.cancel !== undefined) {\n            cancelAlgorithm = reason => underlyingSource.cancel(reason);\n        }\n        else {\n            cancelAlgorithm = () => promiseResolvedWith(undefined);\n        }\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n    }\n    // Helper functions for the ReadableStreamDefaultController.\n    function defaultControllerBrandCheckException$1(name) {\n        return new TypeError(`ReadableStreamDefaultController.prototype.${name} can only be used on a ReadableStreamDefaultController`);\n    }\n\n    function ReadableStreamTee(stream, cloneForBranch2) {\n        if (IsReadableByteStreamController(stream._readableStreamController)) {\n            return ReadableByteStreamTee(stream);\n        }\n        return ReadableStreamDefaultTee(stream);\n    }\n    function ReadableStreamDefaultTee(stream, cloneForBranch2) {\n        const reader = AcquireReadableStreamDefaultReader(stream);\n        let reading = false;\n        let readAgain = false;\n        let canceled1 = false;\n        let canceled2 = false;\n        let reason1;\n        let reason2;\n        let branch1;\n        let branch2;\n        let resolveCancelPromise;\n        const cancelPromise = newPromise(resolve => {\n            resolveCancelPromise = resolve;\n        });\n        function pullAlgorithm() {\n            if (reading) {\n                readAgain = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            const readRequest = {\n                _chunkSteps: chunk => {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    _queueMicrotask(() => {\n                        readAgain = false;\n                        const chunk1 = chunk;\n                        const chunk2 = chunk;\n                        // There is no way to access the cloning code right now in the reference implementation.\n                        // If we add one then we'll need an implementation for serializable objects.\n                        // if (!canceled2 && cloneForBranch2) {\n                        //   chunk2 = StructuredDeserialize(StructuredSerialize(chunk2));\n                        // }\n                        if (!canceled1) {\n                            ReadableStreamDefaultControllerEnqueue(branch1._readableStreamController, chunk1);\n                        }\n                        if (!canceled2) {\n                            ReadableStreamDefaultControllerEnqueue(branch2._readableStreamController, chunk2);\n                        }\n                        reading = false;\n                        if (readAgain) {\n                            pullAlgorithm();\n                        }\n                    });\n                },\n                _closeSteps: () => {\n                    reading = false;\n                    if (!canceled1) {\n                        ReadableStreamDefaultControllerClose(branch1._readableStreamController);\n                    }\n                    if (!canceled2) {\n                        ReadableStreamDefaultControllerClose(branch2._readableStreamController);\n                    }\n                    if (!canceled1 || !canceled2) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: () => {\n                    reading = false;\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n            return promiseResolvedWith(undefined);\n        }\n        function cancel1Algorithm(reason) {\n            canceled1 = true;\n            reason1 = reason;\n            if (canceled2) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n            canceled2 = true;\n            reason2 = reason;\n            if (canceled1) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function startAlgorithm() {\n            // do nothing\n        }\n        branch1 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel1Algorithm);\n        branch2 = CreateReadableStream(startAlgorithm, pullAlgorithm, cancel2Algorithm);\n        uponRejection(reader._closedPromise, (r) => {\n            ReadableStreamDefaultControllerError(branch1._readableStreamController, r);\n            ReadableStreamDefaultControllerError(branch2._readableStreamController, r);\n            if (!canceled1 || !canceled2) {\n                resolveCancelPromise(undefined);\n            }\n            return null;\n        });\n        return [branch1, branch2];\n    }\n    function ReadableByteStreamTee(stream) {\n        let reader = AcquireReadableStreamDefaultReader(stream);\n        let reading = false;\n        let readAgainForBranch1 = false;\n        let readAgainForBranch2 = false;\n        let canceled1 = false;\n        let canceled2 = false;\n        let reason1;\n        let reason2;\n        let branch1;\n        let branch2;\n        let resolveCancelPromise;\n        const cancelPromise = newPromise(resolve => {\n            resolveCancelPromise = resolve;\n        });\n        function forwardReaderError(thisReader) {\n            uponRejection(thisReader._closedPromise, r => {\n                if (thisReader !== reader) {\n                    return null;\n                }\n                ReadableByteStreamControllerError(branch1._readableStreamController, r);\n                ReadableByteStreamControllerError(branch2._readableStreamController, r);\n                if (!canceled1 || !canceled2) {\n                    resolveCancelPromise(undefined);\n                }\n                return null;\n            });\n        }\n        function pullWithDefaultReader() {\n            if (IsReadableStreamBYOBReader(reader)) {\n                ReadableStreamReaderGenericRelease(reader);\n                reader = AcquireReadableStreamDefaultReader(stream);\n                forwardReaderError(reader);\n            }\n            const readRequest = {\n                _chunkSteps: chunk => {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    _queueMicrotask(() => {\n                        readAgainForBranch1 = false;\n                        readAgainForBranch2 = false;\n                        const chunk1 = chunk;\n                        let chunk2 = chunk;\n                        if (!canceled1 && !canceled2) {\n                            try {\n                                chunk2 = CloneAsUint8Array(chunk);\n                            }\n                            catch (cloneE) {\n                                ReadableByteStreamControllerError(branch1._readableStreamController, cloneE);\n                                ReadableByteStreamControllerError(branch2._readableStreamController, cloneE);\n                                resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                                return;\n                            }\n                        }\n                        if (!canceled1) {\n                            ReadableByteStreamControllerEnqueue(branch1._readableStreamController, chunk1);\n                        }\n                        if (!canceled2) {\n                            ReadableByteStreamControllerEnqueue(branch2._readableStreamController, chunk2);\n                        }\n                        reading = false;\n                        if (readAgainForBranch1) {\n                            pull1Algorithm();\n                        }\n                        else if (readAgainForBranch2) {\n                            pull2Algorithm();\n                        }\n                    });\n                },\n                _closeSteps: () => {\n                    reading = false;\n                    if (!canceled1) {\n                        ReadableByteStreamControllerClose(branch1._readableStreamController);\n                    }\n                    if (!canceled2) {\n                        ReadableByteStreamControllerClose(branch2._readableStreamController);\n                    }\n                    if (branch1._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(branch1._readableStreamController, 0);\n                    }\n                    if (branch2._readableStreamController._pendingPullIntos.length > 0) {\n                        ReadableByteStreamControllerRespond(branch2._readableStreamController, 0);\n                    }\n                    if (!canceled1 || !canceled2) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: () => {\n                    reading = false;\n                }\n            };\n            ReadableStreamDefaultReaderRead(reader, readRequest);\n        }\n        function pullWithBYOBReader(view, forBranch2) {\n            if (IsReadableStreamDefaultReader(reader)) {\n                ReadableStreamReaderGenericRelease(reader);\n                reader = AcquireReadableStreamBYOBReader(stream);\n                forwardReaderError(reader);\n            }\n            const byobBranch = forBranch2 ? branch2 : branch1;\n            const otherBranch = forBranch2 ? branch1 : branch2;\n            const readIntoRequest = {\n                _chunkSteps: chunk => {\n                    // This needs to be delayed a microtask because it takes at least a microtask to detect errors (using\n                    // reader._closedPromise below), and we want errors in stream to error both branches immediately. We cannot let\n                    // successful synchronously-available reads get ahead of asynchronously-available errors.\n                    _queueMicrotask(() => {\n                        readAgainForBranch1 = false;\n                        readAgainForBranch2 = false;\n                        const byobCanceled = forBranch2 ? canceled2 : canceled1;\n                        const otherCanceled = forBranch2 ? canceled1 : canceled2;\n                        if (!otherCanceled) {\n                            let clonedChunk;\n                            try {\n                                clonedChunk = CloneAsUint8Array(chunk);\n                            }\n                            catch (cloneE) {\n                                ReadableByteStreamControllerError(byobBranch._readableStreamController, cloneE);\n                                ReadableByteStreamControllerError(otherBranch._readableStreamController, cloneE);\n                                resolveCancelPromise(ReadableStreamCancel(stream, cloneE));\n                                return;\n                            }\n                            if (!byobCanceled) {\n                                ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                            }\n                            ReadableByteStreamControllerEnqueue(otherBranch._readableStreamController, clonedChunk);\n                        }\n                        else if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        reading = false;\n                        if (readAgainForBranch1) {\n                            pull1Algorithm();\n                        }\n                        else if (readAgainForBranch2) {\n                            pull2Algorithm();\n                        }\n                    });\n                },\n                _closeSteps: chunk => {\n                    reading = false;\n                    const byobCanceled = forBranch2 ? canceled2 : canceled1;\n                    const otherCanceled = forBranch2 ? canceled1 : canceled2;\n                    if (!byobCanceled) {\n                        ReadableByteStreamControllerClose(byobBranch._readableStreamController);\n                    }\n                    if (!otherCanceled) {\n                        ReadableByteStreamControllerClose(otherBranch._readableStreamController);\n                    }\n                    if (chunk !== undefined) {\n                        if (!byobCanceled) {\n                            ReadableByteStreamControllerRespondWithNewView(byobBranch._readableStreamController, chunk);\n                        }\n                        if (!otherCanceled && otherBranch._readableStreamController._pendingPullIntos.length > 0) {\n                            ReadableByteStreamControllerRespond(otherBranch._readableStreamController, 0);\n                        }\n                    }\n                    if (!byobCanceled || !otherCanceled) {\n                        resolveCancelPromise(undefined);\n                    }\n                },\n                _errorSteps: () => {\n                    reading = false;\n                }\n            };\n            ReadableStreamBYOBReaderRead(reader, view, 1, readIntoRequest);\n        }\n        function pull1Algorithm() {\n            if (reading) {\n                readAgainForBranch1 = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch1._readableStreamController);\n            if (byobRequest === null) {\n                pullWithDefaultReader();\n            }\n            else {\n                pullWithBYOBReader(byobRequest._view, false);\n            }\n            return promiseResolvedWith(undefined);\n        }\n        function pull2Algorithm() {\n            if (reading) {\n                readAgainForBranch2 = true;\n                return promiseResolvedWith(undefined);\n            }\n            reading = true;\n            const byobRequest = ReadableByteStreamControllerGetBYOBRequest(branch2._readableStreamController);\n            if (byobRequest === null) {\n                pullWithDefaultReader();\n            }\n            else {\n                pullWithBYOBReader(byobRequest._view, true);\n            }\n            return promiseResolvedWith(undefined);\n        }\n        function cancel1Algorithm(reason) {\n            canceled1 = true;\n            reason1 = reason;\n            if (canceled2) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function cancel2Algorithm(reason) {\n            canceled2 = true;\n            reason2 = reason;\n            if (canceled1) {\n                const compositeReason = CreateArrayFromList([reason1, reason2]);\n                const cancelResult = ReadableStreamCancel(stream, compositeReason);\n                resolveCancelPromise(cancelResult);\n            }\n            return cancelPromise;\n        }\n        function startAlgorithm() {\n            return;\n        }\n        branch1 = CreateReadableByteStream(startAlgorithm, pull1Algorithm, cancel1Algorithm);\n        branch2 = CreateReadableByteStream(startAlgorithm, pull2Algorithm, cancel2Algorithm);\n        forwardReaderError(reader);\n        return [branch1, branch2];\n    }\n\n    function isReadableStreamLike(stream) {\n        return typeIsObject(stream) && typeof stream.getReader !== 'undefined';\n    }\n\n    function ReadableStreamFrom(source) {\n        if (isReadableStreamLike(source)) {\n            return ReadableStreamFromDefaultReader(source.getReader());\n        }\n        return ReadableStreamFromIterable(source);\n    }\n    function ReadableStreamFromIterable(asyncIterable) {\n        let stream;\n        const iteratorRecord = GetIterator(asyncIterable, 'async');\n        const startAlgorithm = noop;\n        function pullAlgorithm() {\n            let nextResult;\n            try {\n                nextResult = IteratorNext(iteratorRecord);\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n            const nextPromise = promiseResolvedWith(nextResult);\n            return transformPromiseWith(nextPromise, iterResult => {\n                if (!typeIsObject(iterResult)) {\n                    throw new TypeError('The promise returned by the iterator.next() method must fulfill with an object');\n                }\n                const done = IteratorComplete(iterResult);\n                if (done) {\n                    ReadableStreamDefaultControllerClose(stream._readableStreamController);\n                }\n                else {\n                    const value = IteratorValue(iterResult);\n                    ReadableStreamDefaultControllerEnqueue(stream._readableStreamController, value);\n                }\n            });\n        }\n        function cancelAlgorithm(reason) {\n            const iterator = iteratorRecord.iterator;\n            let returnMethod;\n            try {\n                returnMethod = GetMethod(iterator, 'return');\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n            if (returnMethod === undefined) {\n                return promiseResolvedWith(undefined);\n            }\n            let returnResult;\n            try {\n                returnResult = reflectCall(returnMethod, iterator, [reason]);\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n            const returnPromise = promiseResolvedWith(returnResult);\n            return transformPromiseWith(returnPromise, iterResult => {\n                if (!typeIsObject(iterResult)) {\n                    throw new TypeError('The promise returned by the iterator.return() method must fulfill with an object');\n                }\n                return undefined;\n            });\n        }\n        stream = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, 0);\n        return stream;\n    }\n    function ReadableStreamFromDefaultReader(reader) {\n        let stream;\n        const startAlgorithm = noop;\n        function pullAlgorithm() {\n            let readPromise;\n            try {\n                readPromise = reader.read();\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n            return transformPromiseWith(readPromise, readResult => {\n                if (!typeIsObject(readResult)) {\n                    throw new TypeError('The promise returned by the reader.read() method must fulfill with an object');\n                }\n                if (readResult.done) {\n                    ReadableStreamDefaultControllerClose(stream._readableStreamController);\n                }\n                else {\n                    const value = readResult.value;\n                    ReadableStreamDefaultControllerEnqueue(stream._readableStreamController, value);\n                }\n            });\n        }\n        function cancelAlgorithm(reason) {\n            try {\n                return promiseResolvedWith(reader.cancel(reason));\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n        }\n        stream = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, 0);\n        return stream;\n    }\n\n    function convertUnderlyingDefaultOrByteSource(source, context) {\n        assertDictionary(source, context);\n        const original = source;\n        const autoAllocateChunkSize = original === null || original === void 0 ? void 0 : original.autoAllocateChunkSize;\n        const cancel = original === null || original === void 0 ? void 0 : original.cancel;\n        const pull = original === null || original === void 0 ? void 0 : original.pull;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const type = original === null || original === void 0 ? void 0 : original.type;\n        return {\n            autoAllocateChunkSize: autoAllocateChunkSize === undefined ?\n                undefined :\n                convertUnsignedLongLongWithEnforceRange(autoAllocateChunkSize, `${context} has member 'autoAllocateChunkSize' that`),\n            cancel: cancel === undefined ?\n                undefined :\n                convertUnderlyingSourceCancelCallback(cancel, original, `${context} has member 'cancel' that`),\n            pull: pull === undefined ?\n                undefined :\n                convertUnderlyingSourcePullCallback(pull, original, `${context} has member 'pull' that`),\n            start: start === undefined ?\n                undefined :\n                convertUnderlyingSourceStartCallback(start, original, `${context} has member 'start' that`),\n            type: type === undefined ? undefined : convertReadableStreamType(type, `${context} has member 'type' that`)\n        };\n    }\n    function convertUnderlyingSourceCancelCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (reason) => promiseCall(fn, original, [reason]);\n    }\n    function convertUnderlyingSourcePullCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => promiseCall(fn, original, [controller]);\n    }\n    function convertUnderlyingSourceStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n    }\n    function convertReadableStreamType(type, context) {\n        type = `${type}`;\n        if (type !== 'bytes') {\n            throw new TypeError(`${context} '${type}' is not a valid enumeration value for ReadableStreamType`);\n        }\n        return type;\n    }\n\n    function convertIteratorOptions(options, context) {\n        assertDictionary(options, context);\n        const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        return { preventCancel: Boolean(preventCancel) };\n    }\n\n    function convertPipeOptions(options, context) {\n        assertDictionary(options, context);\n        const preventAbort = options === null || options === void 0 ? void 0 : options.preventAbort;\n        const preventCancel = options === null || options === void 0 ? void 0 : options.preventCancel;\n        const preventClose = options === null || options === void 0 ? void 0 : options.preventClose;\n        const signal = options === null || options === void 0 ? void 0 : options.signal;\n        if (signal !== undefined) {\n            assertAbortSignal(signal, `${context} has member 'signal' that`);\n        }\n        return {\n            preventAbort: Boolean(preventAbort),\n            preventCancel: Boolean(preventCancel),\n            preventClose: Boolean(preventClose),\n            signal\n        };\n    }\n    function assertAbortSignal(signal, context) {\n        if (!isAbortSignal(signal)) {\n            throw new TypeError(`${context} is not an AbortSignal.`);\n        }\n    }\n\n    function convertReadableWritablePair(pair, context) {\n        assertDictionary(pair, context);\n        const readable = pair === null || pair === void 0 ? void 0 : pair.readable;\n        assertRequiredField(readable, 'readable', 'ReadableWritablePair');\n        assertReadableStream(readable, `${context} has member 'readable' that`);\n        const writable = pair === null || pair === void 0 ? void 0 : pair.writable;\n        assertRequiredField(writable, 'writable', 'ReadableWritablePair');\n        assertWritableStream(writable, `${context} has member 'writable' that`);\n        return { readable, writable };\n    }\n\n    /**\n     * A readable stream represents a source of data, from which you can read.\n     *\n     * @public\n     */\n    class ReadableStream {\n        constructor(rawUnderlyingSource = {}, rawStrategy = {}) {\n            if (rawUnderlyingSource === undefined) {\n                rawUnderlyingSource = null;\n            }\n            else {\n                assertObject(rawUnderlyingSource, 'First parameter');\n            }\n            const strategy = convertQueuingStrategy(rawStrategy, 'Second parameter');\n            const underlyingSource = convertUnderlyingDefaultOrByteSource(rawUnderlyingSource, 'First parameter');\n            InitializeReadableStream(this);\n            if (underlyingSource.type === 'bytes') {\n                if (strategy.size !== undefined) {\n                    throw new RangeError('The strategy for a byte stream cannot have a size function');\n                }\n                const highWaterMark = ExtractHighWaterMark(strategy, 0);\n                SetUpReadableByteStreamControllerFromUnderlyingSource(this, underlyingSource, highWaterMark);\n            }\n            else {\n                const sizeAlgorithm = ExtractSizeAlgorithm(strategy);\n                const highWaterMark = ExtractHighWaterMark(strategy, 1);\n                SetUpReadableStreamDefaultControllerFromUnderlyingSource(this, underlyingSource, highWaterMark, sizeAlgorithm);\n            }\n        }\n        /**\n         * Whether or not the readable stream is locked to a {@link ReadableStreamDefaultReader | reader}.\n         */\n        get locked() {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('locked');\n            }\n            return IsReadableStreamLocked(this);\n        }\n        /**\n         * Cancels the stream, signaling a loss of interest in the stream by a consumer.\n         *\n         * The supplied `reason` argument will be given to the underlying source's {@link UnderlyingSource.cancel | cancel()}\n         * method, which might or might not use it.\n         */\n        cancel(reason = undefined) {\n            if (!IsReadableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$1('cancel'));\n            }\n            if (IsReadableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('Cannot cancel a stream that already has a reader'));\n            }\n            return ReadableStreamCancel(this, reason);\n        }\n        getReader(rawOptions = undefined) {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('getReader');\n            }\n            const options = convertReaderOptions(rawOptions, 'First parameter');\n            if (options.mode === undefined) {\n                return AcquireReadableStreamDefaultReader(this);\n            }\n            return AcquireReadableStreamBYOBReader(this);\n        }\n        pipeThrough(rawTransform, rawOptions = {}) {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('pipeThrough');\n            }\n            assertRequiredArgument(rawTransform, 1, 'pipeThrough');\n            const transform = convertReadableWritablePair(rawTransform, 'First parameter');\n            const options = convertPipeOptions(rawOptions, 'Second parameter');\n            if (IsReadableStreamLocked(this)) {\n                throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream');\n            }\n            if (IsWritableStreamLocked(transform.writable)) {\n                throw new TypeError('ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream');\n            }\n            const promise = ReadableStreamPipeTo(this, transform.writable, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n            setPromiseIsHandledToTrue(promise);\n            return transform.readable;\n        }\n        pipeTo(destination, rawOptions = {}) {\n            if (!IsReadableStream(this)) {\n                return promiseRejectedWith(streamBrandCheckException$1('pipeTo'));\n            }\n            if (destination === undefined) {\n                return promiseRejectedWith(`Parameter 1 is required in 'pipeTo'.`);\n            }\n            if (!IsWritableStream(destination)) {\n                return promiseRejectedWith(new TypeError(`ReadableStream.prototype.pipeTo's first argument must be a WritableStream`));\n            }\n            let options;\n            try {\n                options = convertPipeOptions(rawOptions, 'Second parameter');\n            }\n            catch (e) {\n                return promiseRejectedWith(e);\n            }\n            if (IsReadableStreamLocked(this)) {\n                return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream'));\n            }\n            if (IsWritableStreamLocked(destination)) {\n                return promiseRejectedWith(new TypeError('ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream'));\n            }\n            return ReadableStreamPipeTo(this, destination, options.preventClose, options.preventAbort, options.preventCancel, options.signal);\n        }\n        /**\n         * Tees this readable stream, returning a two-element array containing the two resulting branches as\n         * new {@link ReadableStream} instances.\n         *\n         * Teeing a stream will lock it, preventing any other consumer from acquiring a reader.\n         * To cancel the stream, cancel both of the resulting branches; a composite cancellation reason will then be\n         * propagated to the stream's underlying source.\n         *\n         * Note that the chunks seen in each branch will be the same object. If the chunks are not immutable,\n         * this could allow interference between the two branches.\n         */\n        tee() {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('tee');\n            }\n            const branches = ReadableStreamTee(this);\n            return CreateArrayFromList(branches);\n        }\n        values(rawOptions = undefined) {\n            if (!IsReadableStream(this)) {\n                throw streamBrandCheckException$1('values');\n            }\n            const options = convertIteratorOptions(rawOptions, 'First parameter');\n            return AcquireReadableStreamAsyncIterator(this, options.preventCancel);\n        }\n        /**\n         * Creates a new ReadableStream wrapping the provided iterable or async iterable.\n         *\n         * This can be used to adapt various kinds of objects into a readable stream,\n         * such as an array, an async generator, or a Node.js readable stream.\n         */\n        static from(asyncIterable) {\n            return ReadableStreamFrom(asyncIterable);\n        }\n    }\n    Object.defineProperties(ReadableStream, {\n        from: { enumerable: true }\n    });\n    Object.defineProperties(ReadableStream.prototype, {\n        cancel: { enumerable: true },\n        getReader: { enumerable: true },\n        pipeThrough: { enumerable: true },\n        pipeTo: { enumerable: true },\n        tee: { enumerable: true },\n        values: { enumerable: true },\n        locked: { enumerable: true }\n    });\n    setFunctionName(ReadableStream.from, 'from');\n    setFunctionName(ReadableStream.prototype.cancel, 'cancel');\n    setFunctionName(ReadableStream.prototype.getReader, 'getReader');\n    setFunctionName(ReadableStream.prototype.pipeThrough, 'pipeThrough');\n    setFunctionName(ReadableStream.prototype.pipeTo, 'pipeTo');\n    setFunctionName(ReadableStream.prototype.tee, 'tee');\n    setFunctionName(ReadableStream.prototype.values, 'values');\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ReadableStream',\n            configurable: true\n        });\n    }\n    if (typeof SymbolPolyfill.asyncIterator === 'symbol') {\n        Object.defineProperty(ReadableStream.prototype, SymbolPolyfill.asyncIterator, {\n            value: ReadableStream.prototype.values,\n            writable: true,\n            configurable: true\n        });\n    }\n    // Abstract operations for the ReadableStream.\n    // Throws if and only if startAlgorithm throws.\n    function CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark = 1, sizeAlgorithm = () => 1) {\n        const stream = Object.create(ReadableStream.prototype);\n        InitializeReadableStream(stream);\n        const controller = Object.create(ReadableStreamDefaultController.prototype);\n        SetUpReadableStreamDefaultController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, highWaterMark, sizeAlgorithm);\n        return stream;\n    }\n    // Throws if and only if startAlgorithm throws.\n    function CreateReadableByteStream(startAlgorithm, pullAlgorithm, cancelAlgorithm) {\n        const stream = Object.create(ReadableStream.prototype);\n        InitializeReadableStream(stream);\n        const controller = Object.create(ReadableByteStreamController.prototype);\n        SetUpReadableByteStreamController(stream, controller, startAlgorithm, pullAlgorithm, cancelAlgorithm, 0, undefined);\n        return stream;\n    }\n    function InitializeReadableStream(stream) {\n        stream._state = 'readable';\n        stream._reader = undefined;\n        stream._storedError = undefined;\n        stream._disturbed = false;\n    }\n    function IsReadableStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_readableStreamController')) {\n            return false;\n        }\n        return x instanceof ReadableStream;\n    }\n    function IsReadableStreamLocked(stream) {\n        if (stream._reader === undefined) {\n            return false;\n        }\n        return true;\n    }\n    // ReadableStream API exposed for controllers.\n    function ReadableStreamCancel(stream, reason) {\n        stream._disturbed = true;\n        if (stream._state === 'closed') {\n            return promiseResolvedWith(undefined);\n        }\n        if (stream._state === 'errored') {\n            return promiseRejectedWith(stream._storedError);\n        }\n        ReadableStreamClose(stream);\n        const reader = stream._reader;\n        if (reader !== undefined && IsReadableStreamBYOBReader(reader)) {\n            const readIntoRequests = reader._readIntoRequests;\n            reader._readIntoRequests = new SimpleQueue();\n            readIntoRequests.forEach(readIntoRequest => {\n                readIntoRequest._closeSteps(undefined);\n            });\n        }\n        const sourceCancelPromise = stream._readableStreamController[CancelSteps](reason);\n        return transformPromiseWith(sourceCancelPromise, noop);\n    }\n    function ReadableStreamClose(stream) {\n        stream._state = 'closed';\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return;\n        }\n        defaultReaderClosedPromiseResolve(reader);\n        if (IsReadableStreamDefaultReader(reader)) {\n            const readRequests = reader._readRequests;\n            reader._readRequests = new SimpleQueue();\n            readRequests.forEach(readRequest => {\n                readRequest._closeSteps();\n            });\n        }\n    }\n    function ReadableStreamError(stream, e) {\n        stream._state = 'errored';\n        stream._storedError = e;\n        const reader = stream._reader;\n        if (reader === undefined) {\n            return;\n        }\n        defaultReaderClosedPromiseReject(reader, e);\n        if (IsReadableStreamDefaultReader(reader)) {\n            ReadableStreamDefaultReaderErrorReadRequests(reader, e);\n        }\n        else {\n            ReadableStreamBYOBReaderErrorReadIntoRequests(reader, e);\n        }\n    }\n    // Helper functions for the ReadableStream.\n    function streamBrandCheckException$1(name) {\n        return new TypeError(`ReadableStream.prototype.${name} can only be used on a ReadableStream`);\n    }\n\n    function convertQueuingStrategyInit(init, context) {\n        assertDictionary(init, context);\n        const highWaterMark = init === null || init === void 0 ? void 0 : init.highWaterMark;\n        assertRequiredField(highWaterMark, 'highWaterMark', 'QueuingStrategyInit');\n        return {\n            highWaterMark: convertUnrestrictedDouble(highWaterMark)\n        };\n    }\n\n    // The size function must not have a prototype property nor be a constructor\n    const byteLengthSizeFunction = (chunk) => {\n        return chunk.byteLength;\n    };\n    setFunctionName(byteLengthSizeFunction, 'size');\n    /**\n     * A queuing strategy that counts the number of bytes in each chunk.\n     *\n     * @public\n     */\n    class ByteLengthQueuingStrategy {\n        constructor(options) {\n            assertRequiredArgument(options, 1, 'ByteLengthQueuingStrategy');\n            options = convertQueuingStrategyInit(options, 'First parameter');\n            this._byteLengthQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        /**\n         * Returns the high water mark provided to the constructor.\n         */\n        get highWaterMark() {\n            if (!IsByteLengthQueuingStrategy(this)) {\n                throw byteLengthBrandCheckException('highWaterMark');\n            }\n            return this._byteLengthQueuingStrategyHighWaterMark;\n        }\n        /**\n         * Measures the size of `chunk` by returning the value of its `byteLength` property.\n         */\n        get size() {\n            if (!IsByteLengthQueuingStrategy(this)) {\n                throw byteLengthBrandCheckException('size');\n            }\n            return byteLengthSizeFunction;\n        }\n    }\n    Object.defineProperties(ByteLengthQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(ByteLengthQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n            value: 'ByteLengthQueuingStrategy',\n            configurable: true\n        });\n    }\n    // Helper functions for the ByteLengthQueuingStrategy.\n    function byteLengthBrandCheckException(name) {\n        return new TypeError(`ByteLengthQueuingStrategy.prototype.${name} can only be used on a ByteLengthQueuingStrategy`);\n    }\n    function IsByteLengthQueuingStrategy(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_byteLengthQueuingStrategyHighWaterMark')) {\n            return false;\n        }\n        return x instanceof ByteLengthQueuingStrategy;\n    }\n\n    // The size function must not have a prototype property nor be a constructor\n    const countSizeFunction = () => {\n        return 1;\n    };\n    setFunctionName(countSizeFunction, 'size');\n    /**\n     * A queuing strategy that counts the number of chunks.\n     *\n     * @public\n     */\n    class CountQueuingStrategy {\n        constructor(options) {\n            assertRequiredArgument(options, 1, 'CountQueuingStrategy');\n            options = convertQueuingStrategyInit(options, 'First parameter');\n            this._countQueuingStrategyHighWaterMark = options.highWaterMark;\n        }\n        /**\n         * Returns the high water mark provided to the constructor.\n         */\n        get highWaterMark() {\n            if (!IsCountQueuingStrategy(this)) {\n                throw countBrandCheckException('highWaterMark');\n            }\n            return this._countQueuingStrategyHighWaterMark;\n        }\n        /**\n         * Measures the size of `chunk` by always returning 1.\n         * This ensures that the total queue size is a count of the number of chunks in the queue.\n         */\n        get size() {\n            if (!IsCountQueuingStrategy(this)) {\n                throw countBrandCheckException('size');\n            }\n            return countSizeFunction;\n        }\n    }\n    Object.defineProperties(CountQueuingStrategy.prototype, {\n        highWaterMark: { enumerable: true },\n        size: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(CountQueuingStrategy.prototype, SymbolPolyfill.toStringTag, {\n            value: 'CountQueuingStrategy',\n            configurable: true\n        });\n    }\n    // Helper functions for the CountQueuingStrategy.\n    function countBrandCheckException(name) {\n        return new TypeError(`CountQueuingStrategy.prototype.${name} can only be used on a CountQueuingStrategy`);\n    }\n    function IsCountQueuingStrategy(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_countQueuingStrategyHighWaterMark')) {\n            return false;\n        }\n        return x instanceof CountQueuingStrategy;\n    }\n\n    function convertTransformer(original, context) {\n        assertDictionary(original, context);\n        const cancel = original === null || original === void 0 ? void 0 : original.cancel;\n        const flush = original === null || original === void 0 ? void 0 : original.flush;\n        const readableType = original === null || original === void 0 ? void 0 : original.readableType;\n        const start = original === null || original === void 0 ? void 0 : original.start;\n        const transform = original === null || original === void 0 ? void 0 : original.transform;\n        const writableType = original === null || original === void 0 ? void 0 : original.writableType;\n        return {\n            cancel: cancel === undefined ?\n                undefined :\n                convertTransformerCancelCallback(cancel, original, `${context} has member 'cancel' that`),\n            flush: flush === undefined ?\n                undefined :\n                convertTransformerFlushCallback(flush, original, `${context} has member 'flush' that`),\n            readableType,\n            start: start === undefined ?\n                undefined :\n                convertTransformerStartCallback(start, original, `${context} has member 'start' that`),\n            transform: transform === undefined ?\n                undefined :\n                convertTransformerTransformCallback(transform, original, `${context} has member 'transform' that`),\n            writableType\n        };\n    }\n    function convertTransformerFlushCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => promiseCall(fn, original, [controller]);\n    }\n    function convertTransformerStartCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (controller) => reflectCall(fn, original, [controller]);\n    }\n    function convertTransformerTransformCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (chunk, controller) => promiseCall(fn, original, [chunk, controller]);\n    }\n    function convertTransformerCancelCallback(fn, original, context) {\n        assertFunction(fn, context);\n        return (reason) => promiseCall(fn, original, [reason]);\n    }\n\n    // Class TransformStream\n    /**\n     * A transform stream consists of a pair of streams: a {@link WritableStream | writable stream},\n     * known as its writable side, and a {@link ReadableStream | readable stream}, known as its readable side.\n     * In a manner specific to the transform stream in question, writes to the writable side result in new data being\n     * made available for reading from the readable side.\n     *\n     * @public\n     */\n    class TransformStream {\n        constructor(rawTransformer = {}, rawWritableStrategy = {}, rawReadableStrategy = {}) {\n            if (rawTransformer === undefined) {\n                rawTransformer = null;\n            }\n            const writableStrategy = convertQueuingStrategy(rawWritableStrategy, 'Second parameter');\n            const readableStrategy = convertQueuingStrategy(rawReadableStrategy, 'Third parameter');\n            const transformer = convertTransformer(rawTransformer, 'First parameter');\n            if (transformer.readableType !== undefined) {\n                throw new RangeError('Invalid readableType specified');\n            }\n            if (transformer.writableType !== undefined) {\n                throw new RangeError('Invalid writableType specified');\n            }\n            const readableHighWaterMark = ExtractHighWaterMark(readableStrategy, 0);\n            const readableSizeAlgorithm = ExtractSizeAlgorithm(readableStrategy);\n            const writableHighWaterMark = ExtractHighWaterMark(writableStrategy, 1);\n            const writableSizeAlgorithm = ExtractSizeAlgorithm(writableStrategy);\n            let startPromise_resolve;\n            const startPromise = newPromise(resolve => {\n                startPromise_resolve = resolve;\n            });\n            InitializeTransformStream(this, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n            SetUpTransformStreamDefaultControllerFromTransformer(this, transformer);\n            if (transformer.start !== undefined) {\n                startPromise_resolve(transformer.start(this._transformStreamController));\n            }\n            else {\n                startPromise_resolve(undefined);\n            }\n        }\n        /**\n         * The readable side of the transform stream.\n         */\n        get readable() {\n            if (!IsTransformStream(this)) {\n                throw streamBrandCheckException('readable');\n            }\n            return this._readable;\n        }\n        /**\n         * The writable side of the transform stream.\n         */\n        get writable() {\n            if (!IsTransformStream(this)) {\n                throw streamBrandCheckException('writable');\n            }\n            return this._writable;\n        }\n    }\n    Object.defineProperties(TransformStream.prototype, {\n        readable: { enumerable: true },\n        writable: { enumerable: true }\n    });\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(TransformStream.prototype, SymbolPolyfill.toStringTag, {\n            value: 'TransformStream',\n            configurable: true\n        });\n    }\n    function InitializeTransformStream(stream, startPromise, writableHighWaterMark, writableSizeAlgorithm, readableHighWaterMark, readableSizeAlgorithm) {\n        function startAlgorithm() {\n            return startPromise;\n        }\n        function writeAlgorithm(chunk) {\n            return TransformStreamDefaultSinkWriteAlgorithm(stream, chunk);\n        }\n        function abortAlgorithm(reason) {\n            return TransformStreamDefaultSinkAbortAlgorithm(stream, reason);\n        }\n        function closeAlgorithm() {\n            return TransformStreamDefaultSinkCloseAlgorithm(stream);\n        }\n        stream._writable = CreateWritableStream(startAlgorithm, writeAlgorithm, closeAlgorithm, abortAlgorithm, writableHighWaterMark, writableSizeAlgorithm);\n        function pullAlgorithm() {\n            return TransformStreamDefaultSourcePullAlgorithm(stream);\n        }\n        function cancelAlgorithm(reason) {\n            return TransformStreamDefaultSourceCancelAlgorithm(stream, reason);\n        }\n        stream._readable = CreateReadableStream(startAlgorithm, pullAlgorithm, cancelAlgorithm, readableHighWaterMark, readableSizeAlgorithm);\n        // The [[backpressure]] slot is set to undefined so that it can be initialised by TransformStreamSetBackpressure.\n        stream._backpressure = undefined;\n        stream._backpressureChangePromise = undefined;\n        stream._backpressureChangePromise_resolve = undefined;\n        TransformStreamSetBackpressure(stream, true);\n        stream._transformStreamController = undefined;\n    }\n    function IsTransformStream(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_transformStreamController')) {\n            return false;\n        }\n        return x instanceof TransformStream;\n    }\n    // This is a no-op if both sides are already errored.\n    function TransformStreamError(stream, e) {\n        ReadableStreamDefaultControllerError(stream._readable._readableStreamController, e);\n        TransformStreamErrorWritableAndUnblockWrite(stream, e);\n    }\n    function TransformStreamErrorWritableAndUnblockWrite(stream, e) {\n        TransformStreamDefaultControllerClearAlgorithms(stream._transformStreamController);\n        WritableStreamDefaultControllerErrorIfNeeded(stream._writable._writableStreamController, e);\n        TransformStreamUnblockWrite(stream);\n    }\n    function TransformStreamUnblockWrite(stream) {\n        if (stream._backpressure) {\n            // Pretend that pull() was called to permit any pending write() calls to complete. TransformStreamSetBackpressure()\n            // cannot be called from enqueue() or pull() once the ReadableStream is errored, so this will will be the final time\n            // _backpressure is set.\n            TransformStreamSetBackpressure(stream, false);\n        }\n    }\n    function TransformStreamSetBackpressure(stream, backpressure) {\n        // Passes also when called during construction.\n        if (stream._backpressureChangePromise !== undefined) {\n            stream._backpressureChangePromise_resolve();\n        }\n        stream._backpressureChangePromise = newPromise(resolve => {\n            stream._backpressureChangePromise_resolve = resolve;\n        });\n        stream._backpressure = backpressure;\n    }\n    // Class TransformStreamDefaultController\n    /**\n     * Allows control of the {@link ReadableStream} and {@link WritableStream} of the associated {@link TransformStream}.\n     *\n     * @public\n     */\n    class TransformStreamDefaultController {\n        constructor() {\n            throw new TypeError('Illegal constructor');\n        }\n        /**\n         * Returns the desired size to fill the readable sides internal queue. It can be negative, if the queue is over-full.\n         */\n        get desiredSize() {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('desiredSize');\n            }\n            const readableController = this._controlledTransformStream._readable._readableStreamController;\n            return ReadableStreamDefaultControllerGetDesiredSize(readableController);\n        }\n        enqueue(chunk = undefined) {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('enqueue');\n            }\n            TransformStreamDefaultControllerEnqueue(this, chunk);\n        }\n        /**\n         * Errors both the readable side and the writable side of the controlled transform stream, making all future\n         * interactions with it fail with the given error `e`. Any chunks queued for transformation will be discarded.\n         */\n        error(reason = undefined) {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('error');\n            }\n            TransformStreamDefaultControllerError(this, reason);\n        }\n        /**\n         * Closes the readable side and errors the writable side of the controlled transform stream. This is useful when the\n         * transformer only needs to consume a portion of the chunks written to the writable side.\n         */\n        terminate() {\n            if (!IsTransformStreamDefaultController(this)) {\n                throw defaultControllerBrandCheckException('terminate');\n            }\n            TransformStreamDefaultControllerTerminate(this);\n        }\n    }\n    Object.defineProperties(TransformStreamDefaultController.prototype, {\n        enqueue: { enumerable: true },\n        error: { enumerable: true },\n        terminate: { enumerable: true },\n        desiredSize: { enumerable: true }\n    });\n    setFunctionName(TransformStreamDefaultController.prototype.enqueue, 'enqueue');\n    setFunctionName(TransformStreamDefaultController.prototype.error, 'error');\n    setFunctionName(TransformStreamDefaultController.prototype.terminate, 'terminate');\n    if (typeof SymbolPolyfill.toStringTag === 'symbol') {\n        Object.defineProperty(TransformStreamDefaultController.prototype, SymbolPolyfill.toStringTag, {\n            value: 'TransformStreamDefaultController',\n            configurable: true\n        });\n    }\n    // Transform Stream Default Controller Abstract Operations\n    function IsTransformStreamDefaultController(x) {\n        if (!typeIsObject(x)) {\n            return false;\n        }\n        if (!Object.prototype.hasOwnProperty.call(x, '_controlledTransformStream')) {\n            return false;\n        }\n        return x instanceof TransformStreamDefaultController;\n    }\n    function SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm, cancelAlgorithm) {\n        controller._controlledTransformStream = stream;\n        stream._transformStreamController = controller;\n        controller._transformAlgorithm = transformAlgorithm;\n        controller._flushAlgorithm = flushAlgorithm;\n        controller._cancelAlgorithm = cancelAlgorithm;\n        controller._finishPromise = undefined;\n        controller._finishPromise_resolve = undefined;\n        controller._finishPromise_reject = undefined;\n    }\n    function SetUpTransformStreamDefaultControllerFromTransformer(stream, transformer) {\n        const controller = Object.create(TransformStreamDefaultController.prototype);\n        let transformAlgorithm;\n        let flushAlgorithm;\n        let cancelAlgorithm;\n        if (transformer.transform !== undefined) {\n            transformAlgorithm = chunk => transformer.transform(chunk, controller);\n        }\n        else {\n            transformAlgorithm = chunk => {\n                try {\n                    TransformStreamDefaultControllerEnqueue(controller, chunk);\n                    return promiseResolvedWith(undefined);\n                }\n                catch (transformResultE) {\n                    return promiseRejectedWith(transformResultE);\n                }\n            };\n        }\n        if (transformer.flush !== undefined) {\n            flushAlgorithm = () => transformer.flush(controller);\n        }\n        else {\n            flushAlgorithm = () => promiseResolvedWith(undefined);\n        }\n        if (transformer.cancel !== undefined) {\n            cancelAlgorithm = reason => transformer.cancel(reason);\n        }\n        else {\n            cancelAlgorithm = () => promiseResolvedWith(undefined);\n        }\n        SetUpTransformStreamDefaultController(stream, controller, transformAlgorithm, flushAlgorithm, cancelAlgorithm);\n    }\n    function TransformStreamDefaultControllerClearAlgorithms(controller) {\n        controller._transformAlgorithm = undefined;\n        controller._flushAlgorithm = undefined;\n        controller._cancelAlgorithm = undefined;\n    }\n    function TransformStreamDefaultControllerEnqueue(controller, chunk) {\n        const stream = controller._controlledTransformStream;\n        const readableController = stream._readable._readableStreamController;\n        if (!ReadableStreamDefaultControllerCanCloseOrEnqueue(readableController)) {\n            throw new TypeError('Readable side is not in a state that permits enqueue');\n        }\n        // We throttle transform invocations based on the backpressure of the ReadableStream, but we still\n        // accept TransformStreamDefaultControllerEnqueue() calls.\n        try {\n            ReadableStreamDefaultControllerEnqueue(readableController, chunk);\n        }\n        catch (e) {\n            // This happens when readableStrategy.size() throws.\n            TransformStreamErrorWritableAndUnblockWrite(stream, e);\n            throw stream._readable._storedError;\n        }\n        const backpressure = ReadableStreamDefaultControllerHasBackpressure(readableController);\n        if (backpressure !== stream._backpressure) {\n            TransformStreamSetBackpressure(stream, true);\n        }\n    }\n    function TransformStreamDefaultControllerError(controller, e) {\n        TransformStreamError(controller._controlledTransformStream, e);\n    }\n    function TransformStreamDefaultControllerPerformTransform(controller, chunk) {\n        const transformPromise = controller._transformAlgorithm(chunk);\n        return transformPromiseWith(transformPromise, undefined, r => {\n            TransformStreamError(controller._controlledTransformStream, r);\n            throw r;\n        });\n    }\n    function TransformStreamDefaultControllerTerminate(controller) {\n        const stream = controller._controlledTransformStream;\n        const readableController = stream._readable._readableStreamController;\n        ReadableStreamDefaultControllerClose(readableController);\n        const error = new TypeError('TransformStream terminated');\n        TransformStreamErrorWritableAndUnblockWrite(stream, error);\n    }\n    // TransformStreamDefaultSink Algorithms\n    function TransformStreamDefaultSinkWriteAlgorithm(stream, chunk) {\n        const controller = stream._transformStreamController;\n        if (stream._backpressure) {\n            const backpressureChangePromise = stream._backpressureChangePromise;\n            return transformPromiseWith(backpressureChangePromise, () => {\n                const writable = stream._writable;\n                const state = writable._state;\n                if (state === 'erroring') {\n                    throw writable._storedError;\n                }\n                return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n            });\n        }\n        return TransformStreamDefaultControllerPerformTransform(controller, chunk);\n    }\n    function TransformStreamDefaultSinkAbortAlgorithm(stream, reason) {\n        const controller = stream._transformStreamController;\n        if (controller._finishPromise !== undefined) {\n            return controller._finishPromise;\n        }\n        // stream._readable cannot change after construction, so caching it across a call to user code is safe.\n        const readable = stream._readable;\n        // Assign the _finishPromise now so that if _cancelAlgorithm calls readable.cancel() internally,\n        // we don't run the _cancelAlgorithm again.\n        controller._finishPromise = newPromise((resolve, reject) => {\n            controller._finishPromise_resolve = resolve;\n            controller._finishPromise_reject = reject;\n        });\n        const cancelPromise = controller._cancelAlgorithm(reason);\n        TransformStreamDefaultControllerClearAlgorithms(controller);\n        uponPromise(cancelPromise, () => {\n            if (readable._state === 'errored') {\n                defaultControllerFinishPromiseReject(controller, readable._storedError);\n            }\n            else {\n                ReadableStreamDefaultControllerError(readable._readableStreamController, reason);\n                defaultControllerFinishPromiseResolve(controller);\n            }\n            return null;\n        }, r => {\n            ReadableStreamDefaultControllerError(readable._readableStreamController, r);\n            defaultControllerFinishPromiseReject(controller, r);\n            return null;\n        });\n        return controller._finishPromise;\n    }\n    function TransformStreamDefaultSinkCloseAlgorithm(stream) {\n        const controller = stream._transformStreamController;\n        if (controller._finishPromise !== undefined) {\n            return controller._finishPromise;\n        }\n        // stream._readable cannot change after construction, so caching it across a call to user code is safe.\n        const readable = stream._readable;\n        // Assign the _finishPromise now so that if _flushAlgorithm calls readable.cancel() internally,\n        // we don't also run the _cancelAlgorithm.\n        controller._finishPromise = newPromise((resolve, reject) => {\n            controller._finishPromise_resolve = resolve;\n            controller._finishPromise_reject = reject;\n        });\n        const flushPromise = controller._flushAlgorithm();\n        TransformStreamDefaultControllerClearAlgorithms(controller);\n        uponPromise(flushPromise, () => {\n            if (readable._state === 'errored') {\n                defaultControllerFinishPromiseReject(controller, readable._storedError);\n            }\n            else {\n                ReadableStreamDefaultControllerClose(readable._readableStreamController);\n                defaultControllerFinishPromiseResolve(controller);\n            }\n            return null;\n        }, r => {\n            ReadableStreamDefaultControllerError(readable._readableStreamController, r);\n            defaultControllerFinishPromiseReject(controller, r);\n            return null;\n        });\n        return controller._finishPromise;\n    }\n    // TransformStreamDefaultSource Algorithms\n    function TransformStreamDefaultSourcePullAlgorithm(stream) {\n        // Invariant. Enforced by the promises returned by start() and pull().\n        TransformStreamSetBackpressure(stream, false);\n        // Prevent the next pull() call until there is backpressure.\n        return stream._backpressureChangePromise;\n    }\n    function TransformStreamDefaultSourceCancelAlgorithm(stream, reason) {\n        const controller = stream._transformStreamController;\n        if (controller._finishPromise !== undefined) {\n            return controller._finishPromise;\n        }\n        // stream._writable cannot change after construction, so caching it across a call to user code is safe.\n        const writable = stream._writable;\n        // Assign the _finishPromise now so that if _flushAlgorithm calls writable.abort() or\n        // writable.cancel() internally, we don't run the _cancelAlgorithm again, or also run the\n        // _flushAlgorithm.\n        controller._finishPromise = newPromise((resolve, reject) => {\n            controller._finishPromise_resolve = resolve;\n            controller._finishPromise_reject = reject;\n        });\n        const cancelPromise = controller._cancelAlgorithm(reason);\n        TransformStreamDefaultControllerClearAlgorithms(controller);\n        uponPromise(cancelPromise, () => {\n            if (writable._state === 'errored') {\n                defaultControllerFinishPromiseReject(controller, writable._storedError);\n            }\n            else {\n                WritableStreamDefaultControllerErrorIfNeeded(writable._writableStreamController, reason);\n                TransformStreamUnblockWrite(stream);\n                defaultControllerFinishPromiseResolve(controller);\n            }\n            return null;\n        }, r => {\n            WritableStreamDefaultControllerErrorIfNeeded(writable._writableStreamController, r);\n            TransformStreamUnblockWrite(stream);\n            defaultControllerFinishPromiseReject(controller, r);\n            return null;\n        });\n        return controller._finishPromise;\n    }\n    // Helper functions for the TransformStreamDefaultController.\n    function defaultControllerBrandCheckException(name) {\n        return new TypeError(`TransformStreamDefaultController.prototype.${name} can only be used on a TransformStreamDefaultController`);\n    }\n    function defaultControllerFinishPromiseResolve(controller) {\n        if (controller._finishPromise_resolve === undefined) {\n            return;\n        }\n        controller._finishPromise_resolve();\n        controller._finishPromise_resolve = undefined;\n        controller._finishPromise_reject = undefined;\n    }\n    function defaultControllerFinishPromiseReject(controller, reason) {\n        if (controller._finishPromise_reject === undefined) {\n            return;\n        }\n        setPromiseIsHandledToTrue(controller._finishPromise);\n        controller._finishPromise_reject(reason);\n        controller._finishPromise_resolve = undefined;\n        controller._finishPromise_reject = undefined;\n    }\n    // Helper functions for the TransformStream.\n    function streamBrandCheckException(name) {\n        return new TypeError(`TransformStream.prototype.${name} can only be used on a TransformStream`);\n    }\n\n    exports.ByteLengthQueuingStrategy = ByteLengthQueuingStrategy;\n    exports.CountQueuingStrategy = CountQueuingStrategy;\n    exports.ReadableByteStreamController = ReadableByteStreamController;\n    exports.ReadableStream = ReadableStream;\n    exports.ReadableStreamBYOBReader = ReadableStreamBYOBReader;\n    exports.ReadableStreamBYOBRequest = ReadableStreamBYOBRequest;\n    exports.ReadableStreamDefaultController = ReadableStreamDefaultController;\n    exports.ReadableStreamDefaultReader = ReadableStreamDefaultReader;\n    exports.TransformStream = TransformStream;\n    exports.TransformStreamDefaultController = TransformStreamDefaultController;\n    exports.WritableStream = WritableStream;\n    exports.WritableStreamDefaultController = WritableStreamDefaultController;\n    exports.WritableStreamDefaultWriter = WritableStreamDefaultWriter;\n\n}));\n//# sourceMappingURL=ponyfill.es2018.js.map\n","/**\n * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.\n *\n * This can be used with JS designed for browsers to improve reuse of code and\n * allow the use of existing libraries.\n *\n * Usage: include(\"XMLHttpRequest.js\") and use XMLHttpRequest per W3C specs.\n *\n * @author Dan DeFelippi <dan@driverdan.com>\n * @contributor David Ellis <d.f.ellis@ieee.org>\n * @license MIT\n */\n\nvar fs = require('fs');\nvar Url = require('url');\nvar spawn = require('child_process').spawn;\n\n/**\n * Module exports.\n */\n\nmodule.exports = XMLHttpRequest;\n\n// backwards-compat\nXMLHttpRequest.XMLHttpRequest = XMLHttpRequest;\n\n/**\n * `XMLHttpRequest` constructor.\n *\n * Supported options for the `opts` object are:\n *\n *  - `agent`: An http.Agent instance; http.globalAgent may be used; if 'undefined', agent usage is disabled\n *\n * @param {Object} opts optional \"options\" object\n */\n\nfunction XMLHttpRequest(opts) {\n  \"use strict\";\n\n  opts = opts || {};\n\n  /**\n   * Private variables\n   */\n  var self = this;\n  var http = require('http');\n  var https = require('https');\n\n  // Holds http.js objects\n  var request;\n  var response;\n\n  // Request settings\n  var settings = {};\n\n  // Disable header blacklist.\n  // Not part of XHR specs.\n  var disableHeaderCheck = false;\n\n  // Set some default headers\n  var defaultHeaders = {\n    \"User-Agent\": \"node-XMLHttpRequest\",\n    \"Accept\": \"*/*\"\n  };\n\n  var headers = Object.assign({}, defaultHeaders);\n\n  // These headers are not user setable.\n  // The following are allowed but banned in the spec:\n  // * user-agent\n  var forbiddenRequestHeaders = [\n    \"accept-charset\",\n    \"accept-encoding\",\n    \"access-control-request-headers\",\n    \"access-control-request-method\",\n    \"connection\",\n    \"content-length\",\n    \"content-transfer-encoding\",\n    \"cookie\",\n    \"cookie2\",\n    \"date\",\n    \"expect\",\n    \"host\",\n    \"keep-alive\",\n    \"origin\",\n    \"referer\",\n    \"te\",\n    \"trailer\",\n    \"transfer-encoding\",\n    \"upgrade\",\n    \"via\"\n  ];\n\n  // These request methods are not allowed\n  var forbiddenRequestMethods = [\n    \"TRACE\",\n    \"TRACK\",\n    \"CONNECT\"\n  ];\n\n  // Send flag\n  var sendFlag = false;\n  // Error flag, used when errors occur or abort is called\n  var errorFlag = false;\n  var abortedFlag = false;\n\n  // Event listeners\n  var listeners = {};\n\n  /**\n   * Constants\n   */\n\n  this.UNSENT = 0;\n  this.OPENED = 1;\n  this.HEADERS_RECEIVED = 2;\n  this.LOADING = 3;\n  this.DONE = 4;\n\n  /**\n   * Public vars\n   */\n\n  // Current state\n  this.readyState = this.UNSENT;\n\n  // default ready state change handler in case one is not set or is set late\n  this.onreadystatechange = null;\n\n  // Result & response\n  this.responseText = \"\";\n  this.responseXML = \"\";\n  this.status = null;\n  this.statusText = null;\n\n  /**\n   * Private methods\n   */\n\n  /**\n   * Check if the specified header is allowed.\n   *\n   * @param string header Header to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpHeader = function(header) {\n    return disableHeaderCheck || (header && forbiddenRequestHeaders.indexOf(header.toLowerCase()) === -1);\n  };\n\n  /**\n   * Check if the specified method is allowed.\n   *\n   * @param string method Request method to validate\n   * @return boolean False if not allowed, otherwise true\n   */\n  var isAllowedHttpMethod = function(method) {\n    return (method && forbiddenRequestMethods.indexOf(method) === -1);\n  };\n\n  /**\n   * Public methods\n   */\n\n  /**\n   * Open the connection. Currently supports local server requests.\n   *\n   * @param string method Connection method (eg GET, POST)\n   * @param string url URL for the connection.\n   * @param boolean async Asynchronous connection. Default is true.\n   * @param string user Username for basic authentication (optional)\n   * @param string password Password for basic authentication (optional)\n   */\n  this.open = function(method, url, async, user, password) {\n    this.abort();\n    errorFlag = false;\n    abortedFlag = false;\n\n    // Check for valid request method\n    if (!isAllowedHttpMethod(method)) {\n      throw new Error(\"SecurityError: Request method not allowed\");\n    }\n\n    settings = {\n      \"method\": method,\n      \"url\": url.toString(),\n      \"async\": (typeof async !== \"boolean\" ? true : async),\n      \"user\": user || null,\n      \"password\": password || null\n    };\n\n    setState(this.OPENED);\n  };\n\n  /**\n   * Disables or enables isAllowedHttpHeader() check the request. Enabled by default.\n   * This does not conform to the W3C spec.\n   *\n   * @param boolean state Enable or disable header checking.\n   */\n  this.setDisableHeaderCheck = function(state) {\n    disableHeaderCheck = state;\n  };\n\n  /**\n   * Sets a header for the request.\n   *\n   * @param string header Header name\n   * @param string value Header value\n   * @return boolean Header added\n   */\n  this.setRequestHeader = function(header, value) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN\");\n    }\n    if (!isAllowedHttpHeader(header)) {\n      console.warn('Refused to set unsafe header \"' + header + '\"');\n      return false;\n    }\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send flag is true\");\n    }\n    headers[header] = value;\n    return true;\n  };\n\n  /**\n   * Gets a header from the server response.\n   *\n   * @param string header Name of header to get.\n   * @return string Text of the header or null if it doesn't exist.\n   */\n  this.getResponseHeader = function(header) {\n    if (typeof header === \"string\"\n      && this.readyState > this.OPENED\n      && response.headers[header.toLowerCase()]\n      && !errorFlag\n    ) {\n      return response.headers[header.toLowerCase()];\n    }\n\n    return null;\n  };\n\n  /**\n   * Gets all the response headers.\n   *\n   * @return string A string with all response headers separated by CR+LF\n   */\n  this.getAllResponseHeaders = function() {\n    if (this.readyState < this.HEADERS_RECEIVED || errorFlag) {\n      return \"\";\n    }\n    var result = \"\";\n\n    for (var i in response.headers) {\n      // Cookie headers are excluded\n      if (i !== \"set-cookie\" && i !== \"set-cookie2\") {\n        result += i + \": \" + response.headers[i] + \"\\r\\n\";\n      }\n    }\n    return result.substr(0, result.length - 2);\n  };\n\n  /**\n   * Gets a request header\n   *\n   * @param string name Name of header to get\n   * @return string Returns the request header or empty string if not set\n   */\n  this.getRequestHeader = function(name) {\n    // @TODO Make this case insensitive\n    if (typeof name === \"string\" && headers[name]) {\n      return headers[name];\n    }\n\n    return \"\";\n  };\n\n  /**\n   * Sends the request to the server.\n   *\n   * @param string data Optional data to send as request body.\n   */\n  this.send = function(data) {\n    if (this.readyState != this.OPENED) {\n      throw new Error(\"INVALID_STATE_ERR: connection must be opened before send() is called\");\n    }\n\n    if (sendFlag) {\n      throw new Error(\"INVALID_STATE_ERR: send has already been called\");\n    }\n\n    var ssl = false, local = false;\n    var url = Url.parse(settings.url);\n    var host;\n    // Determine the server\n    switch (url.protocol) {\n      case 'https:':\n        ssl = true;\n        // SSL & non-SSL both need host, no break here.\n      case 'http:':\n        host = url.hostname;\n        break;\n\n      case 'file:':\n        local = true;\n        break;\n\n      case undefined:\n      case '':\n        host = \"localhost\";\n        break;\n\n      default:\n        throw new Error(\"Protocol not supported.\");\n    }\n\n    // Load files off the local filesystem (file://)\n    if (local) {\n      if (settings.method !== \"GET\") {\n        throw new Error(\"XMLHttpRequest: Only GET method is supported\");\n      }\n\n      if (settings.async) {\n        fs.readFile(unescape(url.pathname), 'utf8', function(error, data) {\n          if (error) {\n            self.handleError(error, error.errno || -1);\n          } else {\n            self.status = 200;\n            self.responseText = data;\n            setState(self.DONE);\n          }\n        });\n      } else {\n        try {\n          this.responseText = fs.readFileSync(unescape(url.pathname), 'utf8');\n          this.status = 200;\n          setState(self.DONE);\n        } catch(e) {\n          this.handleError(e, e.errno || -1);\n        }\n      }\n\n      return;\n    }\n\n    // Default to port 80. If accessing localhost on another port be sure\n    // to use http://localhost:port/path\n    var port = url.port || (ssl ? 443 : 80);\n    // Add query string if one is used\n    var uri = url.pathname + (url.search ? url.search : '');\n\n    // Set the Host header or the server may reject the request\n    headers[\"Host\"] = host;\n    if (!((ssl && port === 443) || port === 80)) {\n      headers[\"Host\"] += ':' + url.port;\n    }\n\n    // Set Basic Auth if necessary\n    if (settings.user) {\n      if (typeof settings.password == \"undefined\") {\n        settings.password = \"\";\n      }\n      var authBuf = new Buffer(settings.user + \":\" + settings.password);\n      headers[\"Authorization\"] = \"Basic \" + authBuf.toString(\"base64\");\n    }\n\n    // Set content length header\n    if (settings.method === \"GET\" || settings.method === \"HEAD\") {\n      data = null;\n    } else if (data) {\n      headers[\"Content-Length\"] = Buffer.isBuffer(data) ? data.length : Buffer.byteLength(data);\n\n      if (!headers[\"Content-Type\"]) {\n        headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\n      }\n    } else if (settings.method === \"POST\") {\n      // For a post with no data set Content-Length: 0.\n      // This is required by buggy servers that don't meet the specs.\n      headers[\"Content-Length\"] = 0;\n    }\n\n    var agent = opts.agent || false;\n    var options = {\n      host: host,\n      port: port,\n      path: uri,\n      method: settings.method,\n      headers: headers,\n      agent: agent\n    };\n\n    if (ssl) {\n      options.pfx = opts.pfx;\n      options.key = opts.key;\n      options.passphrase = opts.passphrase;\n      options.cert = opts.cert;\n      options.ca = opts.ca;\n      options.ciphers = opts.ciphers;\n      options.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n    }\n\n    // Reset error flag\n    errorFlag = false;\n    // Handle async requests\n    if (settings.async) {\n      // Use the proper protocol\n      var doRequest = ssl ? https.request : http.request;\n\n      // Request is being sent, set send flag\n      sendFlag = true;\n\n      // As per spec, this is called here for historical reasons.\n      self.dispatchEvent(\"readystatechange\");\n\n      // Handler for the response\n      var responseHandler = function(resp) {\n        // Set response var to the response we got back\n        // This is so it remains accessable outside this scope\n        response = resp;\n        // Check for redirect\n        // @TODO Prevent looped redirects\n        if (response.statusCode === 302 || response.statusCode === 303 || response.statusCode === 307) {\n          // Change URL to the redirect location\n          settings.url = response.headers.location;\n          var url = Url.parse(settings.url);\n          // Set host var in case it's used later\n          host = url.hostname;\n          // Options for the new request\n          var newOptions = {\n            hostname: url.hostname,\n            port: url.port,\n            path: url.path,\n            method: response.statusCode === 303 ? 'GET' : settings.method,\n            headers: headers\n          };\n\n          if (ssl) {\n            newOptions.pfx = opts.pfx;\n            newOptions.key = opts.key;\n            newOptions.passphrase = opts.passphrase;\n            newOptions.cert = opts.cert;\n            newOptions.ca = opts.ca;\n            newOptions.ciphers = opts.ciphers;\n            newOptions.rejectUnauthorized = opts.rejectUnauthorized === false ? false : true;\n          }\n\n          // Issue the new request\n          request = doRequest(newOptions, responseHandler).on('error', errorHandler);\n          request.end();\n          // @TODO Check if an XHR event needs to be fired here\n          return;\n        }\n\n        if (response && response.setEncoding) {\n          response.setEncoding(\"utf8\");\n        }\n\n        setState(self.HEADERS_RECEIVED);\n        self.status = response.statusCode;\n\n        response.on('data', function(chunk) {\n          // Make sure there's some data\n          if (chunk) {\n            self.responseText += chunk;\n          }\n          // Don't emit state changes if the connection has been aborted.\n          if (sendFlag) {\n            setState(self.LOADING);\n          }\n        });\n\n        response.on('end', function() {\n          if (sendFlag) {\n            // The sendFlag needs to be set before setState is called.  Otherwise if we are chaining callbacks\n            // there can be a timing issue (the callback is called and a new call is made before the flag is reset).\n            sendFlag = false;\n            // Discard the 'end' event if the connection has been aborted\n            setState(self.DONE);\n          }\n        });\n\n        response.on('error', function(error) {\n          self.handleError(error);\n        });\n      }\n\n      // Error handler for the request\n      var errorHandler = function(error) {\n        self.handleError(error);\n      }\n\n      // Create the request\n      request = doRequest(options, responseHandler).on('error', errorHandler);\n\n      if (opts.autoUnref) {\n        request.on('socket', (socket) => {\n          socket.unref();\n        });\n      }\n\n      // Node 0.4 and later won't accept empty data. Make sure it's needed.\n      if (data) {\n        request.write(data);\n      }\n\n      request.end();\n\n      self.dispatchEvent(\"loadstart\");\n    } else { // Synchronous\n      // Create a temporary file for communication with the other Node process\n      var contentFile = \".node-xmlhttprequest-content-\" + process.pid;\n      var syncFile = \".node-xmlhttprequest-sync-\" + process.pid;\n      fs.writeFileSync(syncFile, \"\", \"utf8\");\n      // The async request the other Node process executes\n      var execString = \"var http = require('http'), https = require('https'), fs = require('fs');\"\n        + \"var doRequest = http\" + (ssl ? \"s\" : \"\") + \".request;\"\n        + \"var options = \" + JSON.stringify(options) + \";\"\n        + \"var responseText = '';\"\n        + \"var req = doRequest(options, function(response) {\"\n        + \"response.setEncoding('utf8');\"\n        + \"response.on('data', function(chunk) {\"\n        + \"  responseText += chunk;\"\n        + \"});\"\n        + \"response.on('end', function() {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-STATUS:' + response.statusCode + ',' + responseText, 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"response.on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + \"}).on('error', function(error) {\"\n        + \"fs.writeFileSync('\" + contentFile + \"', 'NODE-XMLHTTPREQUEST-ERROR:' + JSON.stringify(error), 'utf8');\"\n        + \"fs.unlinkSync('\" + syncFile + \"');\"\n        + \"});\"\n        + (data ? \"req.write('\" + JSON.stringify(data).slice(1,-1).replace(/'/g, \"\\\\'\") + \"');\":\"\")\n        + \"req.end();\";\n      // Start the other Node Process, executing this string\n      var syncProc = spawn(process.argv[0], [\"-e\", execString]);\n      var statusText;\n      while(fs.existsSync(syncFile)) {\n        // Wait while the sync file is empty\n      }\n      self.responseText = fs.readFileSync(contentFile, 'utf8');\n      // Kill the child process once the file has data\n      syncProc.stdin.end();\n      // Remove the temporary file\n      fs.unlinkSync(contentFile);\n      if (self.responseText.match(/^NODE-XMLHTTPREQUEST-ERROR:/)) {\n        // If the file returned an error, handle it\n        var errorObj = self.responseText.replace(/^NODE-XMLHTTPREQUEST-ERROR:/, \"\");\n        self.handleError(errorObj, 503);\n      } else {\n        // If the file returned okay, parse its data and move to the DONE state\n        self.status = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:([0-9]*),.*/, \"$1\");\n        self.responseText = self.responseText.replace(/^NODE-XMLHTTPREQUEST-STATUS:[0-9]*,(.*)/, \"$1\");\n        setState(self.DONE);\n      }\n    }\n  };\n\n  /**\n   * Called when an error is encountered to deal with it.\n   * @param  status  {number}    HTTP status code to use rather than the default (0) for XHR errors.\n   */\n  this.handleError = function(error, status) {\n    this.status = status || 0;\n    this.statusText = error;\n    this.responseText = error.stack;\n    errorFlag = true;\n    setState(this.DONE);\n  };\n\n  /**\n   * Aborts a request.\n   */\n  this.abort = function() {\n    if (request) {\n      request.abort();\n      request = null;\n    }\n\n    headers = Object.assign({}, defaultHeaders);\n    this.responseText = \"\";\n    this.responseXML = \"\";\n\n    errorFlag = abortedFlag = true\n    if (this.readyState !== this.UNSENT\n        && (this.readyState !== this.OPENED || sendFlag)\n        && this.readyState !== this.DONE) {\n      sendFlag = false;\n      setState(this.DONE);\n    }\n    this.readyState = this.UNSENT;\n  };\n\n  /**\n   * Adds an event listener. Preferred method of binding to events.\n   */\n  this.addEventListener = function(event, callback) {\n    if (!(event in listeners)) {\n      listeners[event] = [];\n    }\n    // Currently allows duplicate callbacks. Should it?\n    listeners[event].push(callback);\n  };\n\n  /**\n   * Remove an event callback that has already been bound.\n   * Only works on the matching funciton, cannot be a copy.\n   */\n  this.removeEventListener = function(event, callback) {\n    if (event in listeners) {\n      // Filter will return a new array with the callback removed\n      listeners[event] = listeners[event].filter(function(ev) {\n        return ev !== callback;\n      });\n    }\n  };\n\n  /**\n   * Dispatch any events, including both \"on\" methods and events attached using addEventListener.\n   */\n  this.dispatchEvent = function(event) {\n    if (typeof self[\"on\" + event] === \"function\") {\n      if (this.readyState === this.DONE)\n        setImmediate(function() { self[\"on\" + event]() })\n      else\n        self[\"on\" + event]()\n    }\n    if (event in listeners) {\n      for (let i = 0, len = listeners[event].length; i < len; i++) {\n        if (this.readyState === this.DONE)\n          setImmediate(function() { listeners[event][i].call(self) })\n        else\n          listeners[event][i].call(self)\n      }\n    }\n  };\n\n  /**\n   * Changes readyState and calls onreadystatechange.\n   *\n   * @param int state New state\n   */\n  var setState = function(state) {\n    if ((self.readyState === state) || (self.readyState === self.UNSENT && abortedFlag))\n      return\n\n    self.readyState = state;\n\n    if (settings.async || self.readyState < self.OPENED || self.readyState === self.DONE) {\n      self.dispatchEvent(\"readystatechange\");\n    }\n\n    if (self.readyState === self.DONE) {\n      let fire\n\n      if (abortedFlag)\n        fire = \"abort\"\n      else if (errorFlag)\n        fire = \"error\"\n      else\n        fire = \"load\"\n\n      self.dispatchEvent(fire)\n\n      // @TODO figure out InspectorInstrumentation::didLoadXHR(cookie)\n      self.dispatchEvent(\"loadend\");\n    }\n  };\n};\n","(function webpackUniversalModuleDefinition(root, factory) {\n/* istanbul ignore next */\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n/* istanbul ignore next */\n\telse if(typeof exports === 'object')\n\t\texports[\"esprima\"] = factory();\n\telse\n\t\troot[\"esprima\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/* istanbul ignore if */\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t/*\n\t  Copyright JS Foundation and other contributors, https://js.foundation/\n\n\t  Redistribution and use in source and binary forms, with or without\n\t  modification, are permitted provided that the following conditions are met:\n\n\t    * Redistributions of source code must retain the above copyright\n\t      notice, this list of conditions and the following disclaimer.\n\t    * Redistributions in binary form must reproduce the above copyright\n\t      notice, this list of conditions and the following disclaimer in the\n\t      documentation and/or other materials provided with the distribution.\n\n\t  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n\t  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n\t  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n\t  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n\t  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n\t  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n\t  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n\t  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n\t  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n\t  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\t*/\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar comment_handler_1 = __webpack_require__(1);\n\tvar jsx_parser_1 = __webpack_require__(3);\n\tvar parser_1 = __webpack_require__(8);\n\tvar tokenizer_1 = __webpack_require__(15);\n\tfunction parse(code, options, delegate) {\n\t    var commentHandler = null;\n\t    var proxyDelegate = function (node, metadata) {\n\t        if (delegate) {\n\t            delegate(node, metadata);\n\t        }\n\t        if (commentHandler) {\n\t            commentHandler.visit(node, metadata);\n\t        }\n\t    };\n\t    var parserDelegate = (typeof delegate === 'function') ? proxyDelegate : null;\n\t    var collectComment = false;\n\t    if (options) {\n\t        collectComment = (typeof options.comment === 'boolean' && options.comment);\n\t        var attachComment = (typeof options.attachComment === 'boolean' && options.attachComment);\n\t        if (collectComment || attachComment) {\n\t            commentHandler = new comment_handler_1.CommentHandler();\n\t            commentHandler.attach = attachComment;\n\t            options.comment = true;\n\t            parserDelegate = proxyDelegate;\n\t        }\n\t    }\n\t    var isModule = false;\n\t    if (options && typeof options.sourceType === 'string') {\n\t        isModule = (options.sourceType === 'module');\n\t    }\n\t    var parser;\n\t    if (options && typeof options.jsx === 'boolean' && options.jsx) {\n\t        parser = new jsx_parser_1.JSXParser(code, options, parserDelegate);\n\t    }\n\t    else {\n\t        parser = new parser_1.Parser(code, options, parserDelegate);\n\t    }\n\t    var program = isModule ? parser.parseModule() : parser.parseScript();\n\t    var ast = program;\n\t    if (collectComment && commentHandler) {\n\t        ast.comments = commentHandler.comments;\n\t    }\n\t    if (parser.config.tokens) {\n\t        ast.tokens = parser.tokens;\n\t    }\n\t    if (parser.config.tolerant) {\n\t        ast.errors = parser.errorHandler.errors;\n\t    }\n\t    return ast;\n\t}\n\texports.parse = parse;\n\tfunction parseModule(code, options, delegate) {\n\t    var parsingOptions = options || {};\n\t    parsingOptions.sourceType = 'module';\n\t    return parse(code, parsingOptions, delegate);\n\t}\n\texports.parseModule = parseModule;\n\tfunction parseScript(code, options, delegate) {\n\t    var parsingOptions = options || {};\n\t    parsingOptions.sourceType = 'script';\n\t    return parse(code, parsingOptions, delegate);\n\t}\n\texports.parseScript = parseScript;\n\tfunction tokenize(code, options, delegate) {\n\t    var tokenizer = new tokenizer_1.Tokenizer(code, options);\n\t    var tokens;\n\t    tokens = [];\n\t    try {\n\t        while (true) {\n\t            var token = tokenizer.getNextToken();\n\t            if (!token) {\n\t                break;\n\t            }\n\t            if (delegate) {\n\t                token = delegate(token);\n\t            }\n\t            tokens.push(token);\n\t        }\n\t    }\n\t    catch (e) {\n\t        tokenizer.errorHandler.tolerate(e);\n\t    }\n\t    if (tokenizer.errorHandler.tolerant) {\n\t        tokens.errors = tokenizer.errors();\n\t    }\n\t    return tokens;\n\t}\n\texports.tokenize = tokenize;\n\tvar syntax_1 = __webpack_require__(2);\n\texports.Syntax = syntax_1.Syntax;\n\t// Sync with *.json manifests.\n\texports.version = '4.0.1';\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar syntax_1 = __webpack_require__(2);\n\tvar CommentHandler = (function () {\n\t    function CommentHandler() {\n\t        this.attach = false;\n\t        this.comments = [];\n\t        this.stack = [];\n\t        this.leading = [];\n\t        this.trailing = [];\n\t    }\n\t    CommentHandler.prototype.insertInnerComments = function (node, metadata) {\n\t        //  innnerComments for properties empty block\n\t        //  `function a() {/** comments **\\/}`\n\t        if (node.type === syntax_1.Syntax.BlockStatement && node.body.length === 0) {\n\t            var innerComments = [];\n\t            for (var i = this.leading.length - 1; i >= 0; --i) {\n\t                var entry = this.leading[i];\n\t                if (metadata.end.offset >= entry.start) {\n\t                    innerComments.unshift(entry.comment);\n\t                    this.leading.splice(i, 1);\n\t                    this.trailing.splice(i, 1);\n\t                }\n\t            }\n\t            if (innerComments.length) {\n\t                node.innerComments = innerComments;\n\t            }\n\t        }\n\t    };\n\t    CommentHandler.prototype.findTrailingComments = function (metadata) {\n\t        var trailingComments = [];\n\t        if (this.trailing.length > 0) {\n\t            for (var i = this.trailing.length - 1; i >= 0; --i) {\n\t                var entry_1 = this.trailing[i];\n\t                if (entry_1.start >= metadata.end.offset) {\n\t                    trailingComments.unshift(entry_1.comment);\n\t                }\n\t            }\n\t            this.trailing.length = 0;\n\t            return trailingComments;\n\t        }\n\t        var entry = this.stack[this.stack.length - 1];\n\t        if (entry && entry.node.trailingComments) {\n\t            var firstComment = entry.node.trailingComments[0];\n\t            if (firstComment && firstComment.range[0] >= metadata.end.offset) {\n\t                trailingComments = entry.node.trailingComments;\n\t                delete entry.node.trailingComments;\n\t            }\n\t        }\n\t        return trailingComments;\n\t    };\n\t    CommentHandler.prototype.findLeadingComments = function (metadata) {\n\t        var leadingComments = [];\n\t        var target;\n\t        while (this.stack.length > 0) {\n\t            var entry = this.stack[this.stack.length - 1];\n\t            if (entry && entry.start >= metadata.start.offset) {\n\t                target = entry.node;\n\t                this.stack.pop();\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        if (target) {\n\t            var count = target.leadingComments ? target.leadingComments.length : 0;\n\t            for (var i = count - 1; i >= 0; --i) {\n\t                var comment = target.leadingComments[i];\n\t                if (comment.range[1] <= metadata.start.offset) {\n\t                    leadingComments.unshift(comment);\n\t                    target.leadingComments.splice(i, 1);\n\t                }\n\t            }\n\t            if (target.leadingComments && target.leadingComments.length === 0) {\n\t                delete target.leadingComments;\n\t            }\n\t            return leadingComments;\n\t        }\n\t        for (var i = this.leading.length - 1; i >= 0; --i) {\n\t            var entry = this.leading[i];\n\t            if (entry.start <= metadata.start.offset) {\n\t                leadingComments.unshift(entry.comment);\n\t                this.leading.splice(i, 1);\n\t            }\n\t        }\n\t        return leadingComments;\n\t    };\n\t    CommentHandler.prototype.visitNode = function (node, metadata) {\n\t        if (node.type === syntax_1.Syntax.Program && node.body.length > 0) {\n\t            return;\n\t        }\n\t        this.insertInnerComments(node, metadata);\n\t        var trailingComments = this.findTrailingComments(metadata);\n\t        var leadingComments = this.findLeadingComments(metadata);\n\t        if (leadingComments.length > 0) {\n\t            node.leadingComments = leadingComments;\n\t        }\n\t        if (trailingComments.length > 0) {\n\t            node.trailingComments = trailingComments;\n\t        }\n\t        this.stack.push({\n\t            node: node,\n\t            start: metadata.start.offset\n\t        });\n\t    };\n\t    CommentHandler.prototype.visitComment = function (node, metadata) {\n\t        var type = (node.type[0] === 'L') ? 'Line' : 'Block';\n\t        var comment = {\n\t            type: type,\n\t            value: node.value\n\t        };\n\t        if (node.range) {\n\t            comment.range = node.range;\n\t        }\n\t        if (node.loc) {\n\t            comment.loc = node.loc;\n\t        }\n\t        this.comments.push(comment);\n\t        if (this.attach) {\n\t            var entry = {\n\t                comment: {\n\t                    type: type,\n\t                    value: node.value,\n\t                    range: [metadata.start.offset, metadata.end.offset]\n\t                },\n\t                start: metadata.start.offset\n\t            };\n\t            if (node.loc) {\n\t                entry.comment.loc = node.loc;\n\t            }\n\t            node.type = type;\n\t            this.leading.push(entry);\n\t            this.trailing.push(entry);\n\t        }\n\t    };\n\t    CommentHandler.prototype.visit = function (node, metadata) {\n\t        if (node.type === 'LineComment') {\n\t            this.visitComment(node, metadata);\n\t        }\n\t        else if (node.type === 'BlockComment') {\n\t            this.visitComment(node, metadata);\n\t        }\n\t        else if (this.attach) {\n\t            this.visitNode(node, metadata);\n\t        }\n\t    };\n\t    return CommentHandler;\n\t}());\n\texports.CommentHandler = CommentHandler;\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.Syntax = {\n\t    AssignmentExpression: 'AssignmentExpression',\n\t    AssignmentPattern: 'AssignmentPattern',\n\t    ArrayExpression: 'ArrayExpression',\n\t    ArrayPattern: 'ArrayPattern',\n\t    ArrowFunctionExpression: 'ArrowFunctionExpression',\n\t    AwaitExpression: 'AwaitExpression',\n\t    BlockStatement: 'BlockStatement',\n\t    BinaryExpression: 'BinaryExpression',\n\t    BreakStatement: 'BreakStatement',\n\t    CallExpression: 'CallExpression',\n\t    CatchClause: 'CatchClause',\n\t    ClassBody: 'ClassBody',\n\t    ClassDeclaration: 'ClassDeclaration',\n\t    ClassExpression: 'ClassExpression',\n\t    ConditionalExpression: 'ConditionalExpression',\n\t    ContinueStatement: 'ContinueStatement',\n\t    DoWhileStatement: 'DoWhileStatement',\n\t    DebuggerStatement: 'DebuggerStatement',\n\t    EmptyStatement: 'EmptyStatement',\n\t    ExportAllDeclaration: 'ExportAllDeclaration',\n\t    ExportDefaultDeclaration: 'ExportDefaultDeclaration',\n\t    ExportNamedDeclaration: 'ExportNamedDeclaration',\n\t    ExportSpecifier: 'ExportSpecifier',\n\t    ExpressionStatement: 'ExpressionStatement',\n\t    ForStatement: 'ForStatement',\n\t    ForOfStatement: 'ForOfStatement',\n\t    ForInStatement: 'ForInStatement',\n\t    FunctionDeclaration: 'FunctionDeclaration',\n\t    FunctionExpression: 'FunctionExpression',\n\t    Identifier: 'Identifier',\n\t    IfStatement: 'IfStatement',\n\t    ImportDeclaration: 'ImportDeclaration',\n\t    ImportDefaultSpecifier: 'ImportDefaultSpecifier',\n\t    ImportNamespaceSpecifier: 'ImportNamespaceSpecifier',\n\t    ImportSpecifier: 'ImportSpecifier',\n\t    Literal: 'Literal',\n\t    LabeledStatement: 'LabeledStatement',\n\t    LogicalExpression: 'LogicalExpression',\n\t    MemberExpression: 'MemberExpression',\n\t    MetaProperty: 'MetaProperty',\n\t    MethodDefinition: 'MethodDefinition',\n\t    NewExpression: 'NewExpression',\n\t    ObjectExpression: 'ObjectExpression',\n\t    ObjectPattern: 'ObjectPattern',\n\t    Program: 'Program',\n\t    Property: 'Property',\n\t    RestElement: 'RestElement',\n\t    ReturnStatement: 'ReturnStatement',\n\t    SequenceExpression: 'SequenceExpression',\n\t    SpreadElement: 'SpreadElement',\n\t    Super: 'Super',\n\t    SwitchCase: 'SwitchCase',\n\t    SwitchStatement: 'SwitchStatement',\n\t    TaggedTemplateExpression: 'TaggedTemplateExpression',\n\t    TemplateElement: 'TemplateElement',\n\t    TemplateLiteral: 'TemplateLiteral',\n\t    ThisExpression: 'ThisExpression',\n\t    ThrowStatement: 'ThrowStatement',\n\t    TryStatement: 'TryStatement',\n\t    UnaryExpression: 'UnaryExpression',\n\t    UpdateExpression: 'UpdateExpression',\n\t    VariableDeclaration: 'VariableDeclaration',\n\t    VariableDeclarator: 'VariableDeclarator',\n\t    WhileStatement: 'WhileStatement',\n\t    WithStatement: 'WithStatement',\n\t    YieldExpression: 'YieldExpression'\n\t};\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n/* istanbul ignore next */\n\tvar __extends = (this && this.__extends) || (function () {\n\t    var extendStatics = Object.setPrototypeOf ||\n\t        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n\t        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n\t    return function (d, b) {\n\t        extendStatics(d, b);\n\t        function __() { this.constructor = d; }\n\t        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n\t    };\n\t})();\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar character_1 = __webpack_require__(4);\n\tvar JSXNode = __webpack_require__(5);\n\tvar jsx_syntax_1 = __webpack_require__(6);\n\tvar Node = __webpack_require__(7);\n\tvar parser_1 = __webpack_require__(8);\n\tvar token_1 = __webpack_require__(13);\n\tvar xhtml_entities_1 = __webpack_require__(14);\n\ttoken_1.TokenName[100 /* Identifier */] = 'JSXIdentifier';\n\ttoken_1.TokenName[101 /* Text */] = 'JSXText';\n\t// Fully qualified element name, e.g. <svg:path> returns \"svg:path\"\n\tfunction getQualifiedElementName(elementName) {\n\t    var qualifiedName;\n\t    switch (elementName.type) {\n\t        case jsx_syntax_1.JSXSyntax.JSXIdentifier:\n\t            var id = elementName;\n\t            qualifiedName = id.name;\n\t            break;\n\t        case jsx_syntax_1.JSXSyntax.JSXNamespacedName:\n\t            var ns = elementName;\n\t            qualifiedName = getQualifiedElementName(ns.namespace) + ':' +\n\t                getQualifiedElementName(ns.name);\n\t            break;\n\t        case jsx_syntax_1.JSXSyntax.JSXMemberExpression:\n\t            var expr = elementName;\n\t            qualifiedName = getQualifiedElementName(expr.object) + '.' +\n\t                getQualifiedElementName(expr.property);\n\t            break;\n\t        /* istanbul ignore next */\n\t        default:\n\t            break;\n\t    }\n\t    return qualifiedName;\n\t}\n\tvar JSXParser = (function (_super) {\n\t    __extends(JSXParser, _super);\n\t    function JSXParser(code, options, delegate) {\n\t        return _super.call(this, code, options, delegate) || this;\n\t    }\n\t    JSXParser.prototype.parsePrimaryExpression = function () {\n\t        return this.match('<') ? this.parseJSXRoot() : _super.prototype.parsePrimaryExpression.call(this);\n\t    };\n\t    JSXParser.prototype.startJSX = function () {\n\t        // Unwind the scanner before the lookahead token.\n\t        this.scanner.index = this.startMarker.index;\n\t        this.scanner.lineNumber = this.startMarker.line;\n\t        this.scanner.lineStart = this.startMarker.index - this.startMarker.column;\n\t    };\n\t    JSXParser.prototype.finishJSX = function () {\n\t        // Prime the next lookahead.\n\t        this.nextToken();\n\t    };\n\t    JSXParser.prototype.reenterJSX = function () {\n\t        this.startJSX();\n\t        this.expectJSX('}');\n\t        // Pop the closing '}' added from the lookahead.\n\t        if (this.config.tokens) {\n\t            this.tokens.pop();\n\t        }\n\t    };\n\t    JSXParser.prototype.createJSXNode = function () {\n\t        this.collectComments();\n\t        return {\n\t            index: this.scanner.index,\n\t            line: this.scanner.lineNumber,\n\t            column: this.scanner.index - this.scanner.lineStart\n\t        };\n\t    };\n\t    JSXParser.prototype.createJSXChildNode = function () {\n\t        return {\n\t            index: this.scanner.index,\n\t            line: this.scanner.lineNumber,\n\t            column: this.scanner.index - this.scanner.lineStart\n\t        };\n\t    };\n\t    JSXParser.prototype.scanXHTMLEntity = function (quote) {\n\t        var result = '&';\n\t        var valid = true;\n\t        var terminated = false;\n\t        var numeric = false;\n\t        var hex = false;\n\t        while (!this.scanner.eof() && valid && !terminated) {\n\t            var ch = this.scanner.source[this.scanner.index];\n\t            if (ch === quote) {\n\t                break;\n\t            }\n\t            terminated = (ch === ';');\n\t            result += ch;\n\t            ++this.scanner.index;\n\t            if (!terminated) {\n\t                switch (result.length) {\n\t                    case 2:\n\t                        // e.g. '&#123;'\n\t                        numeric = (ch === '#');\n\t                        break;\n\t                    case 3:\n\t                        if (numeric) {\n\t                            // e.g. '&#x41;'\n\t                            hex = (ch === 'x');\n\t                            valid = hex || character_1.Character.isDecimalDigit(ch.charCodeAt(0));\n\t                            numeric = numeric && !hex;\n\t                        }\n\t                        break;\n\t                    default:\n\t                        valid = valid && !(numeric && !character_1.Character.isDecimalDigit(ch.charCodeAt(0)));\n\t                        valid = valid && !(hex && !character_1.Character.isHexDigit(ch.charCodeAt(0)));\n\t                        break;\n\t                }\n\t            }\n\t        }\n\t        if (valid && terminated && result.length > 2) {\n\t            // e.g. '&#x41;' becomes just '#x41'\n\t            var str = result.substr(1, result.length - 2);\n\t            if (numeric && str.length > 1) {\n\t                result = String.fromCharCode(parseInt(str.substr(1), 10));\n\t            }\n\t            else if (hex && str.length > 2) {\n\t                result = String.fromCharCode(parseInt('0' + str.substr(1), 16));\n\t            }\n\t            else if (!numeric && !hex && xhtml_entities_1.XHTMLEntities[str]) {\n\t                result = xhtml_entities_1.XHTMLEntities[str];\n\t            }\n\t        }\n\t        return result;\n\t    };\n\t    // Scan the next JSX token. This replaces Scanner#lex when in JSX mode.\n\t    JSXParser.prototype.lexJSX = function () {\n\t        var cp = this.scanner.source.charCodeAt(this.scanner.index);\n\t        // < > / : = { }\n\t        if (cp === 60 || cp === 62 || cp === 47 || cp === 58 || cp === 61 || cp === 123 || cp === 125) {\n\t            var value = this.scanner.source[this.scanner.index++];\n\t            return {\n\t                type: 7 /* Punctuator */,\n\t                value: value,\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: this.scanner.index - 1,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        // \" '\n\t        if (cp === 34 || cp === 39) {\n\t            var start = this.scanner.index;\n\t            var quote = this.scanner.source[this.scanner.index++];\n\t            var str = '';\n\t            while (!this.scanner.eof()) {\n\t                var ch = this.scanner.source[this.scanner.index++];\n\t                if (ch === quote) {\n\t                    break;\n\t                }\n\t                else if (ch === '&') {\n\t                    str += this.scanXHTMLEntity(quote);\n\t                }\n\t                else {\n\t                    str += ch;\n\t                }\n\t            }\n\t            return {\n\t                type: 8 /* StringLiteral */,\n\t                value: str,\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: start,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        // ... or .\n\t        if (cp === 46) {\n\t            var n1 = this.scanner.source.charCodeAt(this.scanner.index + 1);\n\t            var n2 = this.scanner.source.charCodeAt(this.scanner.index + 2);\n\t            var value = (n1 === 46 && n2 === 46) ? '...' : '.';\n\t            var start = this.scanner.index;\n\t            this.scanner.index += value.length;\n\t            return {\n\t                type: 7 /* Punctuator */,\n\t                value: value,\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: start,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        // `\n\t        if (cp === 96) {\n\t            // Only placeholder, since it will be rescanned as a real assignment expression.\n\t            return {\n\t                type: 10 /* Template */,\n\t                value: '',\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: this.scanner.index,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        // Identifer can not contain backslash (char code 92).\n\t        if (character_1.Character.isIdentifierStart(cp) && (cp !== 92)) {\n\t            var start = this.scanner.index;\n\t            ++this.scanner.index;\n\t            while (!this.scanner.eof()) {\n\t                var ch = this.scanner.source.charCodeAt(this.scanner.index);\n\t                if (character_1.Character.isIdentifierPart(ch) && (ch !== 92)) {\n\t                    ++this.scanner.index;\n\t                }\n\t                else if (ch === 45) {\n\t                    // Hyphen (char code 45) can be part of an identifier.\n\t                    ++this.scanner.index;\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t            var id = this.scanner.source.slice(start, this.scanner.index);\n\t            return {\n\t                type: 100 /* Identifier */,\n\t                value: id,\n\t                lineNumber: this.scanner.lineNumber,\n\t                lineStart: this.scanner.lineStart,\n\t                start: start,\n\t                end: this.scanner.index\n\t            };\n\t        }\n\t        return this.scanner.lex();\n\t    };\n\t    JSXParser.prototype.nextJSXToken = function () {\n\t        this.collectComments();\n\t        this.startMarker.index = this.scanner.index;\n\t        this.startMarker.line = this.scanner.lineNumber;\n\t        this.startMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        var token = this.lexJSX();\n\t        this.lastMarker.index = this.scanner.index;\n\t        this.lastMarker.line = this.scanner.lineNumber;\n\t        this.lastMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        if (this.config.tokens) {\n\t            this.tokens.push(this.convertToken(token));\n\t        }\n\t        return token;\n\t    };\n\t    JSXParser.prototype.nextJSXText = function () {\n\t        this.startMarker.index = this.scanner.index;\n\t        this.startMarker.line = this.scanner.lineNumber;\n\t        this.startMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        var start = this.scanner.index;\n\t        var text = '';\n\t        while (!this.scanner.eof()) {\n\t            var ch = this.scanner.source[this.scanner.index];\n\t            if (ch === '{' || ch === '<') {\n\t                break;\n\t            }\n\t            ++this.scanner.index;\n\t            text += ch;\n\t            if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                ++this.scanner.lineNumber;\n\t                if (ch === '\\r' && this.scanner.source[this.scanner.index] === '\\n') {\n\t                    ++this.scanner.index;\n\t                }\n\t                this.scanner.lineStart = this.scanner.index;\n\t            }\n\t        }\n\t        this.lastMarker.index = this.scanner.index;\n\t        this.lastMarker.line = this.scanner.lineNumber;\n\t        this.lastMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        var token = {\n\t            type: 101 /* Text */,\n\t            value: text,\n\t            lineNumber: this.scanner.lineNumber,\n\t            lineStart: this.scanner.lineStart,\n\t            start: start,\n\t            end: this.scanner.index\n\t        };\n\t        if ((text.length > 0) && this.config.tokens) {\n\t            this.tokens.push(this.convertToken(token));\n\t        }\n\t        return token;\n\t    };\n\t    JSXParser.prototype.peekJSXToken = function () {\n\t        var state = this.scanner.saveState();\n\t        this.scanner.scanComments();\n\t        var next = this.lexJSX();\n\t        this.scanner.restoreState(state);\n\t        return next;\n\t    };\n\t    // Expect the next JSX token to match the specified punctuator.\n\t    // If not, an exception will be thrown.\n\t    JSXParser.prototype.expectJSX = function (value) {\n\t        var token = this.nextJSXToken();\n\t        if (token.type !== 7 /* Punctuator */ || token.value !== value) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t    };\n\t    // Return true if the next JSX token matches the specified punctuator.\n\t    JSXParser.prototype.matchJSX = function (value) {\n\t        var next = this.peekJSXToken();\n\t        return next.type === 7 /* Punctuator */ && next.value === value;\n\t    };\n\t    JSXParser.prototype.parseJSXIdentifier = function () {\n\t        var node = this.createJSXNode();\n\t        var token = this.nextJSXToken();\n\t        if (token.type !== 100 /* Identifier */) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t        return this.finalize(node, new JSXNode.JSXIdentifier(token.value));\n\t    };\n\t    JSXParser.prototype.parseJSXElementName = function () {\n\t        var node = this.createJSXNode();\n\t        var elementName = this.parseJSXIdentifier();\n\t        if (this.matchJSX(':')) {\n\t            var namespace = elementName;\n\t            this.expectJSX(':');\n\t            var name_1 = this.parseJSXIdentifier();\n\t            elementName = this.finalize(node, new JSXNode.JSXNamespacedName(namespace, name_1));\n\t        }\n\t        else if (this.matchJSX('.')) {\n\t            while (this.matchJSX('.')) {\n\t                var object = elementName;\n\t                this.expectJSX('.');\n\t                var property = this.parseJSXIdentifier();\n\t                elementName = this.finalize(node, new JSXNode.JSXMemberExpression(object, property));\n\t            }\n\t        }\n\t        return elementName;\n\t    };\n\t    JSXParser.prototype.parseJSXAttributeName = function () {\n\t        var node = this.createJSXNode();\n\t        var attributeName;\n\t        var identifier = this.parseJSXIdentifier();\n\t        if (this.matchJSX(':')) {\n\t            var namespace = identifier;\n\t            this.expectJSX(':');\n\t            var name_2 = this.parseJSXIdentifier();\n\t            attributeName = this.finalize(node, new JSXNode.JSXNamespacedName(namespace, name_2));\n\t        }\n\t        else {\n\t            attributeName = identifier;\n\t        }\n\t        return attributeName;\n\t    };\n\t    JSXParser.prototype.parseJSXStringLiteralAttribute = function () {\n\t        var node = this.createJSXNode();\n\t        var token = this.nextJSXToken();\n\t        if (token.type !== 8 /* StringLiteral */) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t        var raw = this.getTokenRaw(token);\n\t        return this.finalize(node, new Node.Literal(token.value, raw));\n\t    };\n\t    JSXParser.prototype.parseJSXExpressionAttribute = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('{');\n\t        this.finishJSX();\n\t        if (this.match('}')) {\n\t            this.tolerateError('JSX attributes must only be assigned a non-empty expression');\n\t        }\n\t        var expression = this.parseAssignmentExpression();\n\t        this.reenterJSX();\n\t        return this.finalize(node, new JSXNode.JSXExpressionContainer(expression));\n\t    };\n\t    JSXParser.prototype.parseJSXAttributeValue = function () {\n\t        return this.matchJSX('{') ? this.parseJSXExpressionAttribute() :\n\t            this.matchJSX('<') ? this.parseJSXElement() : this.parseJSXStringLiteralAttribute();\n\t    };\n\t    JSXParser.prototype.parseJSXNameValueAttribute = function () {\n\t        var node = this.createJSXNode();\n\t        var name = this.parseJSXAttributeName();\n\t        var value = null;\n\t        if (this.matchJSX('=')) {\n\t            this.expectJSX('=');\n\t            value = this.parseJSXAttributeValue();\n\t        }\n\t        return this.finalize(node, new JSXNode.JSXAttribute(name, value));\n\t    };\n\t    JSXParser.prototype.parseJSXSpreadAttribute = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('{');\n\t        this.expectJSX('...');\n\t        this.finishJSX();\n\t        var argument = this.parseAssignmentExpression();\n\t        this.reenterJSX();\n\t        return this.finalize(node, new JSXNode.JSXSpreadAttribute(argument));\n\t    };\n\t    JSXParser.prototype.parseJSXAttributes = function () {\n\t        var attributes = [];\n\t        while (!this.matchJSX('/') && !this.matchJSX('>')) {\n\t            var attribute = this.matchJSX('{') ? this.parseJSXSpreadAttribute() :\n\t                this.parseJSXNameValueAttribute();\n\t            attributes.push(attribute);\n\t        }\n\t        return attributes;\n\t    };\n\t    JSXParser.prototype.parseJSXOpeningElement = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('<');\n\t        var name = this.parseJSXElementName();\n\t        var attributes = this.parseJSXAttributes();\n\t        var selfClosing = this.matchJSX('/');\n\t        if (selfClosing) {\n\t            this.expectJSX('/');\n\t        }\n\t        this.expectJSX('>');\n\t        return this.finalize(node, new JSXNode.JSXOpeningElement(name, selfClosing, attributes));\n\t    };\n\t    JSXParser.prototype.parseJSXBoundaryElement = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('<');\n\t        if (this.matchJSX('/')) {\n\t            this.expectJSX('/');\n\t            var name_3 = this.parseJSXElementName();\n\t            this.expectJSX('>');\n\t            return this.finalize(node, new JSXNode.JSXClosingElement(name_3));\n\t        }\n\t        var name = this.parseJSXElementName();\n\t        var attributes = this.parseJSXAttributes();\n\t        var selfClosing = this.matchJSX('/');\n\t        if (selfClosing) {\n\t            this.expectJSX('/');\n\t        }\n\t        this.expectJSX('>');\n\t        return this.finalize(node, new JSXNode.JSXOpeningElement(name, selfClosing, attributes));\n\t    };\n\t    JSXParser.prototype.parseJSXEmptyExpression = function () {\n\t        var node = this.createJSXChildNode();\n\t        this.collectComments();\n\t        this.lastMarker.index = this.scanner.index;\n\t        this.lastMarker.line = this.scanner.lineNumber;\n\t        this.lastMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        return this.finalize(node, new JSXNode.JSXEmptyExpression());\n\t    };\n\t    JSXParser.prototype.parseJSXExpressionContainer = function () {\n\t        var node = this.createJSXNode();\n\t        this.expectJSX('{');\n\t        var expression;\n\t        if (this.matchJSX('}')) {\n\t            expression = this.parseJSXEmptyExpression();\n\t            this.expectJSX('}');\n\t        }\n\t        else {\n\t            this.finishJSX();\n\t            expression = this.parseAssignmentExpression();\n\t            this.reenterJSX();\n\t        }\n\t        return this.finalize(node, new JSXNode.JSXExpressionContainer(expression));\n\t    };\n\t    JSXParser.prototype.parseJSXChildren = function () {\n\t        var children = [];\n\t        while (!this.scanner.eof()) {\n\t            var node = this.createJSXChildNode();\n\t            var token = this.nextJSXText();\n\t            if (token.start < token.end) {\n\t                var raw = this.getTokenRaw(token);\n\t                var child = this.finalize(node, new JSXNode.JSXText(token.value, raw));\n\t                children.push(child);\n\t            }\n\t            if (this.scanner.source[this.scanner.index] === '{') {\n\t                var container = this.parseJSXExpressionContainer();\n\t                children.push(container);\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        return children;\n\t    };\n\t    JSXParser.prototype.parseComplexJSXElement = function (el) {\n\t        var stack = [];\n\t        while (!this.scanner.eof()) {\n\t            el.children = el.children.concat(this.parseJSXChildren());\n\t            var node = this.createJSXChildNode();\n\t            var element = this.parseJSXBoundaryElement();\n\t            if (element.type === jsx_syntax_1.JSXSyntax.JSXOpeningElement) {\n\t                var opening = element;\n\t                if (opening.selfClosing) {\n\t                    var child = this.finalize(node, new JSXNode.JSXElement(opening, [], null));\n\t                    el.children.push(child);\n\t                }\n\t                else {\n\t                    stack.push(el);\n\t                    el = { node: node, opening: opening, closing: null, children: [] };\n\t                }\n\t            }\n\t            if (element.type === jsx_syntax_1.JSXSyntax.JSXClosingElement) {\n\t                el.closing = element;\n\t                var open_1 = getQualifiedElementName(el.opening.name);\n\t                var close_1 = getQualifiedElementName(el.closing.name);\n\t                if (open_1 !== close_1) {\n\t                    this.tolerateError('Expected corresponding JSX closing tag for %0', open_1);\n\t                }\n\t                if (stack.length > 0) {\n\t                    var child = this.finalize(el.node, new JSXNode.JSXElement(el.opening, el.children, el.closing));\n\t                    el = stack[stack.length - 1];\n\t                    el.children.push(child);\n\t                    stack.pop();\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        return el;\n\t    };\n\t    JSXParser.prototype.parseJSXElement = function () {\n\t        var node = this.createJSXNode();\n\t        var opening = this.parseJSXOpeningElement();\n\t        var children = [];\n\t        var closing = null;\n\t        if (!opening.selfClosing) {\n\t            var el = this.parseComplexJSXElement({ node: node, opening: opening, closing: closing, children: children });\n\t            children = el.children;\n\t            closing = el.closing;\n\t        }\n\t        return this.finalize(node, new JSXNode.JSXElement(opening, children, closing));\n\t    };\n\t    JSXParser.prototype.parseJSXRoot = function () {\n\t        // Pop the opening '<' added from the lookahead.\n\t        if (this.config.tokens) {\n\t            this.tokens.pop();\n\t        }\n\t        this.startJSX();\n\t        var element = this.parseJSXElement();\n\t        this.finishJSX();\n\t        return element;\n\t    };\n\t    JSXParser.prototype.isStartOfExpression = function () {\n\t        return _super.prototype.isStartOfExpression.call(this) || this.match('<');\n\t    };\n\t    return JSXParser;\n\t}(parser_1.Parser));\n\texports.JSXParser = JSXParser;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t// See also tools/generate-unicode-regex.js.\n\tvar Regex = {\n\t    // Unicode v8.0.0 NonAsciiIdentifierStart:\n\t    NonAsciiIdentifierStart: /[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B4\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC03-\\uDC37\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDF00-\\uDF19]|\\uD806[\\uDCA0-\\uDCDF\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50\\uDF93-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD83A[\\uDC00-\\uDCC4]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]/,\n\t    // Unicode v8.0.0 NonAsciiIdentifierPart:\n\t    NonAsciiIdentifierPart: /[\\xAA\\xB5\\xB7\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B4\\u08E3-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0AF9\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58-\\u0C5A\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D5F-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1369-\\u1371\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19DA\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FD5\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7AD\\uA7B0-\\uA7B7\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA8FD\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB65\\uAB70-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDD40-\\uDD74\\uDDFD\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDEE0\\uDF00-\\uDF1F\\uDF30-\\uDF4A\\uDF50-\\uDF7A\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF\\uDFD1-\\uDFD5]|\\uD801[\\uDC00-\\uDC9D\\uDCA0-\\uDCA9\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE33\\uDE38-\\uDE3A\\uDE3F\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE6\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2]|\\uD804[\\uDC00-\\uDC46\\uDC66-\\uDC6F\\uDC7F-\\uDCBA\\uDCD0-\\uDCE8\\uDCF0-\\uDCF9\\uDD00-\\uDD34\\uDD36-\\uDD3F\\uDD50-\\uDD73\\uDD76\\uDD80-\\uDDC4\\uDDCA-\\uDDCC\\uDDD0-\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE37\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEEA\\uDEF0-\\uDEF9\\uDF00-\\uDF03\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3C-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF50\\uDF57\\uDF5D-\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC80-\\uDCC5\\uDCC7\\uDCD0-\\uDCD9\\uDD80-\\uDDB5\\uDDB8-\\uDDC0\\uDDD8-\\uDDDD\\uDE00-\\uDE40\\uDE44\\uDE50-\\uDE59\\uDE80-\\uDEB7\\uDEC0-\\uDEC9\\uDF00-\\uDF19\\uDF1D-\\uDF2B\\uDF30-\\uDF39]|\\uD806[\\uDCA0-\\uDCE9\\uDCFF\\uDEC0-\\uDEF8]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC00-\\uDC6E\\uDC80-\\uDD43]|[\\uD80C\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE60-\\uDE69\\uDED0-\\uDEED\\uDEF0-\\uDEF4\\uDF00-\\uDF36\\uDF40-\\uDF43\\uDF50-\\uDF59\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDF00-\\uDF44\\uDF50-\\uDF7E\\uDF8F-\\uDF9F]|\\uD82C[\\uDC00\\uDC01]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB\\uDFCE-\\uDFFF]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD83A[\\uDC00-\\uDCC4\\uDCD0-\\uDCD6]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDED6\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF34\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1]|\\uD87E[\\uDC00-\\uDE1D]|\\uDB40[\\uDD00-\\uDDEF]/\n\t};\n\texports.Character = {\n\t    /* tslint:disable:no-bitwise */\n\t    fromCodePoint: function (cp) {\n\t        return (cp < 0x10000) ? String.fromCharCode(cp) :\n\t            String.fromCharCode(0xD800 + ((cp - 0x10000) >> 10)) +\n\t                String.fromCharCode(0xDC00 + ((cp - 0x10000) & 1023));\n\t    },\n\t    // https://tc39.github.io/ecma262/#sec-white-space\n\t    isWhiteSpace: function (cp) {\n\t        return (cp === 0x20) || (cp === 0x09) || (cp === 0x0B) || (cp === 0x0C) || (cp === 0xA0) ||\n\t            (cp >= 0x1680 && [0x1680, 0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2007, 0x2008, 0x2009, 0x200A, 0x202F, 0x205F, 0x3000, 0xFEFF].indexOf(cp) >= 0);\n\t    },\n\t    // https://tc39.github.io/ecma262/#sec-line-terminators\n\t    isLineTerminator: function (cp) {\n\t        return (cp === 0x0A) || (cp === 0x0D) || (cp === 0x2028) || (cp === 0x2029);\n\t    },\n\t    // https://tc39.github.io/ecma262/#sec-names-and-keywords\n\t    isIdentifierStart: function (cp) {\n\t        return (cp === 0x24) || (cp === 0x5F) ||\n\t            (cp >= 0x41 && cp <= 0x5A) ||\n\t            (cp >= 0x61 && cp <= 0x7A) ||\n\t            (cp === 0x5C) ||\n\t            ((cp >= 0x80) && Regex.NonAsciiIdentifierStart.test(exports.Character.fromCodePoint(cp)));\n\t    },\n\t    isIdentifierPart: function (cp) {\n\t        return (cp === 0x24) || (cp === 0x5F) ||\n\t            (cp >= 0x41 && cp <= 0x5A) ||\n\t            (cp >= 0x61 && cp <= 0x7A) ||\n\t            (cp >= 0x30 && cp <= 0x39) ||\n\t            (cp === 0x5C) ||\n\t            ((cp >= 0x80) && Regex.NonAsciiIdentifierPart.test(exports.Character.fromCodePoint(cp)));\n\t    },\n\t    // https://tc39.github.io/ecma262/#sec-literals-numeric-literals\n\t    isDecimalDigit: function (cp) {\n\t        return (cp >= 0x30 && cp <= 0x39); // 0..9\n\t    },\n\t    isHexDigit: function (cp) {\n\t        return (cp >= 0x30 && cp <= 0x39) ||\n\t            (cp >= 0x41 && cp <= 0x46) ||\n\t            (cp >= 0x61 && cp <= 0x66); // a..f\n\t    },\n\t    isOctalDigit: function (cp) {\n\t        return (cp >= 0x30 && cp <= 0x37); // 0..7\n\t    }\n\t};\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar jsx_syntax_1 = __webpack_require__(6);\n\t/* tslint:disable:max-classes-per-file */\n\tvar JSXClosingElement = (function () {\n\t    function JSXClosingElement(name) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXClosingElement;\n\t        this.name = name;\n\t    }\n\t    return JSXClosingElement;\n\t}());\n\texports.JSXClosingElement = JSXClosingElement;\n\tvar JSXElement = (function () {\n\t    function JSXElement(openingElement, children, closingElement) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXElement;\n\t        this.openingElement = openingElement;\n\t        this.children = children;\n\t        this.closingElement = closingElement;\n\t    }\n\t    return JSXElement;\n\t}());\n\texports.JSXElement = JSXElement;\n\tvar JSXEmptyExpression = (function () {\n\t    function JSXEmptyExpression() {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXEmptyExpression;\n\t    }\n\t    return JSXEmptyExpression;\n\t}());\n\texports.JSXEmptyExpression = JSXEmptyExpression;\n\tvar JSXExpressionContainer = (function () {\n\t    function JSXExpressionContainer(expression) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXExpressionContainer;\n\t        this.expression = expression;\n\t    }\n\t    return JSXExpressionContainer;\n\t}());\n\texports.JSXExpressionContainer = JSXExpressionContainer;\n\tvar JSXIdentifier = (function () {\n\t    function JSXIdentifier(name) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXIdentifier;\n\t        this.name = name;\n\t    }\n\t    return JSXIdentifier;\n\t}());\n\texports.JSXIdentifier = JSXIdentifier;\n\tvar JSXMemberExpression = (function () {\n\t    function JSXMemberExpression(object, property) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXMemberExpression;\n\t        this.object = object;\n\t        this.property = property;\n\t    }\n\t    return JSXMemberExpression;\n\t}());\n\texports.JSXMemberExpression = JSXMemberExpression;\n\tvar JSXAttribute = (function () {\n\t    function JSXAttribute(name, value) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXAttribute;\n\t        this.name = name;\n\t        this.value = value;\n\t    }\n\t    return JSXAttribute;\n\t}());\n\texports.JSXAttribute = JSXAttribute;\n\tvar JSXNamespacedName = (function () {\n\t    function JSXNamespacedName(namespace, name) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXNamespacedName;\n\t        this.namespace = namespace;\n\t        this.name = name;\n\t    }\n\t    return JSXNamespacedName;\n\t}());\n\texports.JSXNamespacedName = JSXNamespacedName;\n\tvar JSXOpeningElement = (function () {\n\t    function JSXOpeningElement(name, selfClosing, attributes) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXOpeningElement;\n\t        this.name = name;\n\t        this.selfClosing = selfClosing;\n\t        this.attributes = attributes;\n\t    }\n\t    return JSXOpeningElement;\n\t}());\n\texports.JSXOpeningElement = JSXOpeningElement;\n\tvar JSXSpreadAttribute = (function () {\n\t    function JSXSpreadAttribute(argument) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXSpreadAttribute;\n\t        this.argument = argument;\n\t    }\n\t    return JSXSpreadAttribute;\n\t}());\n\texports.JSXSpreadAttribute = JSXSpreadAttribute;\n\tvar JSXText = (function () {\n\t    function JSXText(value, raw) {\n\t        this.type = jsx_syntax_1.JSXSyntax.JSXText;\n\t        this.value = value;\n\t        this.raw = raw;\n\t    }\n\t    return JSXText;\n\t}());\n\texports.JSXText = JSXText;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.JSXSyntax = {\n\t    JSXAttribute: 'JSXAttribute',\n\t    JSXClosingElement: 'JSXClosingElement',\n\t    JSXElement: 'JSXElement',\n\t    JSXEmptyExpression: 'JSXEmptyExpression',\n\t    JSXExpressionContainer: 'JSXExpressionContainer',\n\t    JSXIdentifier: 'JSXIdentifier',\n\t    JSXMemberExpression: 'JSXMemberExpression',\n\t    JSXNamespacedName: 'JSXNamespacedName',\n\t    JSXOpeningElement: 'JSXOpeningElement',\n\t    JSXSpreadAttribute: 'JSXSpreadAttribute',\n\t    JSXText: 'JSXText'\n\t};\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar syntax_1 = __webpack_require__(2);\n\t/* tslint:disable:max-classes-per-file */\n\tvar ArrayExpression = (function () {\n\t    function ArrayExpression(elements) {\n\t        this.type = syntax_1.Syntax.ArrayExpression;\n\t        this.elements = elements;\n\t    }\n\t    return ArrayExpression;\n\t}());\n\texports.ArrayExpression = ArrayExpression;\n\tvar ArrayPattern = (function () {\n\t    function ArrayPattern(elements) {\n\t        this.type = syntax_1.Syntax.ArrayPattern;\n\t        this.elements = elements;\n\t    }\n\t    return ArrayPattern;\n\t}());\n\texports.ArrayPattern = ArrayPattern;\n\tvar ArrowFunctionExpression = (function () {\n\t    function ArrowFunctionExpression(params, body, expression) {\n\t        this.type = syntax_1.Syntax.ArrowFunctionExpression;\n\t        this.id = null;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = false;\n\t        this.expression = expression;\n\t        this.async = false;\n\t    }\n\t    return ArrowFunctionExpression;\n\t}());\n\texports.ArrowFunctionExpression = ArrowFunctionExpression;\n\tvar AssignmentExpression = (function () {\n\t    function AssignmentExpression(operator, left, right) {\n\t        this.type = syntax_1.Syntax.AssignmentExpression;\n\t        this.operator = operator;\n\t        this.left = left;\n\t        this.right = right;\n\t    }\n\t    return AssignmentExpression;\n\t}());\n\texports.AssignmentExpression = AssignmentExpression;\n\tvar AssignmentPattern = (function () {\n\t    function AssignmentPattern(left, right) {\n\t        this.type = syntax_1.Syntax.AssignmentPattern;\n\t        this.left = left;\n\t        this.right = right;\n\t    }\n\t    return AssignmentPattern;\n\t}());\n\texports.AssignmentPattern = AssignmentPattern;\n\tvar AsyncArrowFunctionExpression = (function () {\n\t    function AsyncArrowFunctionExpression(params, body, expression) {\n\t        this.type = syntax_1.Syntax.ArrowFunctionExpression;\n\t        this.id = null;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = false;\n\t        this.expression = expression;\n\t        this.async = true;\n\t    }\n\t    return AsyncArrowFunctionExpression;\n\t}());\n\texports.AsyncArrowFunctionExpression = AsyncArrowFunctionExpression;\n\tvar AsyncFunctionDeclaration = (function () {\n\t    function AsyncFunctionDeclaration(id, params, body) {\n\t        this.type = syntax_1.Syntax.FunctionDeclaration;\n\t        this.id = id;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = false;\n\t        this.expression = false;\n\t        this.async = true;\n\t    }\n\t    return AsyncFunctionDeclaration;\n\t}());\n\texports.AsyncFunctionDeclaration = AsyncFunctionDeclaration;\n\tvar AsyncFunctionExpression = (function () {\n\t    function AsyncFunctionExpression(id, params, body) {\n\t        this.type = syntax_1.Syntax.FunctionExpression;\n\t        this.id = id;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = false;\n\t        this.expression = false;\n\t        this.async = true;\n\t    }\n\t    return AsyncFunctionExpression;\n\t}());\n\texports.AsyncFunctionExpression = AsyncFunctionExpression;\n\tvar AwaitExpression = (function () {\n\t    function AwaitExpression(argument) {\n\t        this.type = syntax_1.Syntax.AwaitExpression;\n\t        this.argument = argument;\n\t    }\n\t    return AwaitExpression;\n\t}());\n\texports.AwaitExpression = AwaitExpression;\n\tvar BinaryExpression = (function () {\n\t    function BinaryExpression(operator, left, right) {\n\t        var logical = (operator === '||' || operator === '&&');\n\t        this.type = logical ? syntax_1.Syntax.LogicalExpression : syntax_1.Syntax.BinaryExpression;\n\t        this.operator = operator;\n\t        this.left = left;\n\t        this.right = right;\n\t    }\n\t    return BinaryExpression;\n\t}());\n\texports.BinaryExpression = BinaryExpression;\n\tvar BlockStatement = (function () {\n\t    function BlockStatement(body) {\n\t        this.type = syntax_1.Syntax.BlockStatement;\n\t        this.body = body;\n\t    }\n\t    return BlockStatement;\n\t}());\n\texports.BlockStatement = BlockStatement;\n\tvar BreakStatement = (function () {\n\t    function BreakStatement(label) {\n\t        this.type = syntax_1.Syntax.BreakStatement;\n\t        this.label = label;\n\t    }\n\t    return BreakStatement;\n\t}());\n\texports.BreakStatement = BreakStatement;\n\tvar CallExpression = (function () {\n\t    function CallExpression(callee, args) {\n\t        this.type = syntax_1.Syntax.CallExpression;\n\t        this.callee = callee;\n\t        this.arguments = args;\n\t    }\n\t    return CallExpression;\n\t}());\n\texports.CallExpression = CallExpression;\n\tvar CatchClause = (function () {\n\t    function CatchClause(param, body) {\n\t        this.type = syntax_1.Syntax.CatchClause;\n\t        this.param = param;\n\t        this.body = body;\n\t    }\n\t    return CatchClause;\n\t}());\n\texports.CatchClause = CatchClause;\n\tvar ClassBody = (function () {\n\t    function ClassBody(body) {\n\t        this.type = syntax_1.Syntax.ClassBody;\n\t        this.body = body;\n\t    }\n\t    return ClassBody;\n\t}());\n\texports.ClassBody = ClassBody;\n\tvar ClassDeclaration = (function () {\n\t    function ClassDeclaration(id, superClass, body) {\n\t        this.type = syntax_1.Syntax.ClassDeclaration;\n\t        this.id = id;\n\t        this.superClass = superClass;\n\t        this.body = body;\n\t    }\n\t    return ClassDeclaration;\n\t}());\n\texports.ClassDeclaration = ClassDeclaration;\n\tvar ClassExpression = (function () {\n\t    function ClassExpression(id, superClass, body) {\n\t        this.type = syntax_1.Syntax.ClassExpression;\n\t        this.id = id;\n\t        this.superClass = superClass;\n\t        this.body = body;\n\t    }\n\t    return ClassExpression;\n\t}());\n\texports.ClassExpression = ClassExpression;\n\tvar ComputedMemberExpression = (function () {\n\t    function ComputedMemberExpression(object, property) {\n\t        this.type = syntax_1.Syntax.MemberExpression;\n\t        this.computed = true;\n\t        this.object = object;\n\t        this.property = property;\n\t    }\n\t    return ComputedMemberExpression;\n\t}());\n\texports.ComputedMemberExpression = ComputedMemberExpression;\n\tvar ConditionalExpression = (function () {\n\t    function ConditionalExpression(test, consequent, alternate) {\n\t        this.type = syntax_1.Syntax.ConditionalExpression;\n\t        this.test = test;\n\t        this.consequent = consequent;\n\t        this.alternate = alternate;\n\t    }\n\t    return ConditionalExpression;\n\t}());\n\texports.ConditionalExpression = ConditionalExpression;\n\tvar ContinueStatement = (function () {\n\t    function ContinueStatement(label) {\n\t        this.type = syntax_1.Syntax.ContinueStatement;\n\t        this.label = label;\n\t    }\n\t    return ContinueStatement;\n\t}());\n\texports.ContinueStatement = ContinueStatement;\n\tvar DebuggerStatement = (function () {\n\t    function DebuggerStatement() {\n\t        this.type = syntax_1.Syntax.DebuggerStatement;\n\t    }\n\t    return DebuggerStatement;\n\t}());\n\texports.DebuggerStatement = DebuggerStatement;\n\tvar Directive = (function () {\n\t    function Directive(expression, directive) {\n\t        this.type = syntax_1.Syntax.ExpressionStatement;\n\t        this.expression = expression;\n\t        this.directive = directive;\n\t    }\n\t    return Directive;\n\t}());\n\texports.Directive = Directive;\n\tvar DoWhileStatement = (function () {\n\t    function DoWhileStatement(body, test) {\n\t        this.type = syntax_1.Syntax.DoWhileStatement;\n\t        this.body = body;\n\t        this.test = test;\n\t    }\n\t    return DoWhileStatement;\n\t}());\n\texports.DoWhileStatement = DoWhileStatement;\n\tvar EmptyStatement = (function () {\n\t    function EmptyStatement() {\n\t        this.type = syntax_1.Syntax.EmptyStatement;\n\t    }\n\t    return EmptyStatement;\n\t}());\n\texports.EmptyStatement = EmptyStatement;\n\tvar ExportAllDeclaration = (function () {\n\t    function ExportAllDeclaration(source) {\n\t        this.type = syntax_1.Syntax.ExportAllDeclaration;\n\t        this.source = source;\n\t    }\n\t    return ExportAllDeclaration;\n\t}());\n\texports.ExportAllDeclaration = ExportAllDeclaration;\n\tvar ExportDefaultDeclaration = (function () {\n\t    function ExportDefaultDeclaration(declaration) {\n\t        this.type = syntax_1.Syntax.ExportDefaultDeclaration;\n\t        this.declaration = declaration;\n\t    }\n\t    return ExportDefaultDeclaration;\n\t}());\n\texports.ExportDefaultDeclaration = ExportDefaultDeclaration;\n\tvar ExportNamedDeclaration = (function () {\n\t    function ExportNamedDeclaration(declaration, specifiers, source) {\n\t        this.type = syntax_1.Syntax.ExportNamedDeclaration;\n\t        this.declaration = declaration;\n\t        this.specifiers = specifiers;\n\t        this.source = source;\n\t    }\n\t    return ExportNamedDeclaration;\n\t}());\n\texports.ExportNamedDeclaration = ExportNamedDeclaration;\n\tvar ExportSpecifier = (function () {\n\t    function ExportSpecifier(local, exported) {\n\t        this.type = syntax_1.Syntax.ExportSpecifier;\n\t        this.exported = exported;\n\t        this.local = local;\n\t    }\n\t    return ExportSpecifier;\n\t}());\n\texports.ExportSpecifier = ExportSpecifier;\n\tvar ExpressionStatement = (function () {\n\t    function ExpressionStatement(expression) {\n\t        this.type = syntax_1.Syntax.ExpressionStatement;\n\t        this.expression = expression;\n\t    }\n\t    return ExpressionStatement;\n\t}());\n\texports.ExpressionStatement = ExpressionStatement;\n\tvar ForInStatement = (function () {\n\t    function ForInStatement(left, right, body) {\n\t        this.type = syntax_1.Syntax.ForInStatement;\n\t        this.left = left;\n\t        this.right = right;\n\t        this.body = body;\n\t        this.each = false;\n\t    }\n\t    return ForInStatement;\n\t}());\n\texports.ForInStatement = ForInStatement;\n\tvar ForOfStatement = (function () {\n\t    function ForOfStatement(left, right, body) {\n\t        this.type = syntax_1.Syntax.ForOfStatement;\n\t        this.left = left;\n\t        this.right = right;\n\t        this.body = body;\n\t    }\n\t    return ForOfStatement;\n\t}());\n\texports.ForOfStatement = ForOfStatement;\n\tvar ForStatement = (function () {\n\t    function ForStatement(init, test, update, body) {\n\t        this.type = syntax_1.Syntax.ForStatement;\n\t        this.init = init;\n\t        this.test = test;\n\t        this.update = update;\n\t        this.body = body;\n\t    }\n\t    return ForStatement;\n\t}());\n\texports.ForStatement = ForStatement;\n\tvar FunctionDeclaration = (function () {\n\t    function FunctionDeclaration(id, params, body, generator) {\n\t        this.type = syntax_1.Syntax.FunctionDeclaration;\n\t        this.id = id;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = generator;\n\t        this.expression = false;\n\t        this.async = false;\n\t    }\n\t    return FunctionDeclaration;\n\t}());\n\texports.FunctionDeclaration = FunctionDeclaration;\n\tvar FunctionExpression = (function () {\n\t    function FunctionExpression(id, params, body, generator) {\n\t        this.type = syntax_1.Syntax.FunctionExpression;\n\t        this.id = id;\n\t        this.params = params;\n\t        this.body = body;\n\t        this.generator = generator;\n\t        this.expression = false;\n\t        this.async = false;\n\t    }\n\t    return FunctionExpression;\n\t}());\n\texports.FunctionExpression = FunctionExpression;\n\tvar Identifier = (function () {\n\t    function Identifier(name) {\n\t        this.type = syntax_1.Syntax.Identifier;\n\t        this.name = name;\n\t    }\n\t    return Identifier;\n\t}());\n\texports.Identifier = Identifier;\n\tvar IfStatement = (function () {\n\t    function IfStatement(test, consequent, alternate) {\n\t        this.type = syntax_1.Syntax.IfStatement;\n\t        this.test = test;\n\t        this.consequent = consequent;\n\t        this.alternate = alternate;\n\t    }\n\t    return IfStatement;\n\t}());\n\texports.IfStatement = IfStatement;\n\tvar ImportDeclaration = (function () {\n\t    function ImportDeclaration(specifiers, source) {\n\t        this.type = syntax_1.Syntax.ImportDeclaration;\n\t        this.specifiers = specifiers;\n\t        this.source = source;\n\t    }\n\t    return ImportDeclaration;\n\t}());\n\texports.ImportDeclaration = ImportDeclaration;\n\tvar ImportDefaultSpecifier = (function () {\n\t    function ImportDefaultSpecifier(local) {\n\t        this.type = syntax_1.Syntax.ImportDefaultSpecifier;\n\t        this.local = local;\n\t    }\n\t    return ImportDefaultSpecifier;\n\t}());\n\texports.ImportDefaultSpecifier = ImportDefaultSpecifier;\n\tvar ImportNamespaceSpecifier = (function () {\n\t    function ImportNamespaceSpecifier(local) {\n\t        this.type = syntax_1.Syntax.ImportNamespaceSpecifier;\n\t        this.local = local;\n\t    }\n\t    return ImportNamespaceSpecifier;\n\t}());\n\texports.ImportNamespaceSpecifier = ImportNamespaceSpecifier;\n\tvar ImportSpecifier = (function () {\n\t    function ImportSpecifier(local, imported) {\n\t        this.type = syntax_1.Syntax.ImportSpecifier;\n\t        this.local = local;\n\t        this.imported = imported;\n\t    }\n\t    return ImportSpecifier;\n\t}());\n\texports.ImportSpecifier = ImportSpecifier;\n\tvar LabeledStatement = (function () {\n\t    function LabeledStatement(label, body) {\n\t        this.type = syntax_1.Syntax.LabeledStatement;\n\t        this.label = label;\n\t        this.body = body;\n\t    }\n\t    return LabeledStatement;\n\t}());\n\texports.LabeledStatement = LabeledStatement;\n\tvar Literal = (function () {\n\t    function Literal(value, raw) {\n\t        this.type = syntax_1.Syntax.Literal;\n\t        this.value = value;\n\t        this.raw = raw;\n\t    }\n\t    return Literal;\n\t}());\n\texports.Literal = Literal;\n\tvar MetaProperty = (function () {\n\t    function MetaProperty(meta, property) {\n\t        this.type = syntax_1.Syntax.MetaProperty;\n\t        this.meta = meta;\n\t        this.property = property;\n\t    }\n\t    return MetaProperty;\n\t}());\n\texports.MetaProperty = MetaProperty;\n\tvar MethodDefinition = (function () {\n\t    function MethodDefinition(key, computed, value, kind, isStatic) {\n\t        this.type = syntax_1.Syntax.MethodDefinition;\n\t        this.key = key;\n\t        this.computed = computed;\n\t        this.value = value;\n\t        this.kind = kind;\n\t        this.static = isStatic;\n\t    }\n\t    return MethodDefinition;\n\t}());\n\texports.MethodDefinition = MethodDefinition;\n\tvar Module = (function () {\n\t    function Module(body) {\n\t        this.type = syntax_1.Syntax.Program;\n\t        this.body = body;\n\t        this.sourceType = 'module';\n\t    }\n\t    return Module;\n\t}());\n\texports.Module = Module;\n\tvar NewExpression = (function () {\n\t    function NewExpression(callee, args) {\n\t        this.type = syntax_1.Syntax.NewExpression;\n\t        this.callee = callee;\n\t        this.arguments = args;\n\t    }\n\t    return NewExpression;\n\t}());\n\texports.NewExpression = NewExpression;\n\tvar ObjectExpression = (function () {\n\t    function ObjectExpression(properties) {\n\t        this.type = syntax_1.Syntax.ObjectExpression;\n\t        this.properties = properties;\n\t    }\n\t    return ObjectExpression;\n\t}());\n\texports.ObjectExpression = ObjectExpression;\n\tvar ObjectPattern = (function () {\n\t    function ObjectPattern(properties) {\n\t        this.type = syntax_1.Syntax.ObjectPattern;\n\t        this.properties = properties;\n\t    }\n\t    return ObjectPattern;\n\t}());\n\texports.ObjectPattern = ObjectPattern;\n\tvar Property = (function () {\n\t    function Property(kind, key, computed, value, method, shorthand) {\n\t        this.type = syntax_1.Syntax.Property;\n\t        this.key = key;\n\t        this.computed = computed;\n\t        this.value = value;\n\t        this.kind = kind;\n\t        this.method = method;\n\t        this.shorthand = shorthand;\n\t    }\n\t    return Property;\n\t}());\n\texports.Property = Property;\n\tvar RegexLiteral = (function () {\n\t    function RegexLiteral(value, raw, pattern, flags) {\n\t        this.type = syntax_1.Syntax.Literal;\n\t        this.value = value;\n\t        this.raw = raw;\n\t        this.regex = { pattern: pattern, flags: flags };\n\t    }\n\t    return RegexLiteral;\n\t}());\n\texports.RegexLiteral = RegexLiteral;\n\tvar RestElement = (function () {\n\t    function RestElement(argument) {\n\t        this.type = syntax_1.Syntax.RestElement;\n\t        this.argument = argument;\n\t    }\n\t    return RestElement;\n\t}());\n\texports.RestElement = RestElement;\n\tvar ReturnStatement = (function () {\n\t    function ReturnStatement(argument) {\n\t        this.type = syntax_1.Syntax.ReturnStatement;\n\t        this.argument = argument;\n\t    }\n\t    return ReturnStatement;\n\t}());\n\texports.ReturnStatement = ReturnStatement;\n\tvar Script = (function () {\n\t    function Script(body) {\n\t        this.type = syntax_1.Syntax.Program;\n\t        this.body = body;\n\t        this.sourceType = 'script';\n\t    }\n\t    return Script;\n\t}());\n\texports.Script = Script;\n\tvar SequenceExpression = (function () {\n\t    function SequenceExpression(expressions) {\n\t        this.type = syntax_1.Syntax.SequenceExpression;\n\t        this.expressions = expressions;\n\t    }\n\t    return SequenceExpression;\n\t}());\n\texports.SequenceExpression = SequenceExpression;\n\tvar SpreadElement = (function () {\n\t    function SpreadElement(argument) {\n\t        this.type = syntax_1.Syntax.SpreadElement;\n\t        this.argument = argument;\n\t    }\n\t    return SpreadElement;\n\t}());\n\texports.SpreadElement = SpreadElement;\n\tvar StaticMemberExpression = (function () {\n\t    function StaticMemberExpression(object, property) {\n\t        this.type = syntax_1.Syntax.MemberExpression;\n\t        this.computed = false;\n\t        this.object = object;\n\t        this.property = property;\n\t    }\n\t    return StaticMemberExpression;\n\t}());\n\texports.StaticMemberExpression = StaticMemberExpression;\n\tvar Super = (function () {\n\t    function Super() {\n\t        this.type = syntax_1.Syntax.Super;\n\t    }\n\t    return Super;\n\t}());\n\texports.Super = Super;\n\tvar SwitchCase = (function () {\n\t    function SwitchCase(test, consequent) {\n\t        this.type = syntax_1.Syntax.SwitchCase;\n\t        this.test = test;\n\t        this.consequent = consequent;\n\t    }\n\t    return SwitchCase;\n\t}());\n\texports.SwitchCase = SwitchCase;\n\tvar SwitchStatement = (function () {\n\t    function SwitchStatement(discriminant, cases) {\n\t        this.type = syntax_1.Syntax.SwitchStatement;\n\t        this.discriminant = discriminant;\n\t        this.cases = cases;\n\t    }\n\t    return SwitchStatement;\n\t}());\n\texports.SwitchStatement = SwitchStatement;\n\tvar TaggedTemplateExpression = (function () {\n\t    function TaggedTemplateExpression(tag, quasi) {\n\t        this.type = syntax_1.Syntax.TaggedTemplateExpression;\n\t        this.tag = tag;\n\t        this.quasi = quasi;\n\t    }\n\t    return TaggedTemplateExpression;\n\t}());\n\texports.TaggedTemplateExpression = TaggedTemplateExpression;\n\tvar TemplateElement = (function () {\n\t    function TemplateElement(value, tail) {\n\t        this.type = syntax_1.Syntax.TemplateElement;\n\t        this.value = value;\n\t        this.tail = tail;\n\t    }\n\t    return TemplateElement;\n\t}());\n\texports.TemplateElement = TemplateElement;\n\tvar TemplateLiteral = (function () {\n\t    function TemplateLiteral(quasis, expressions) {\n\t        this.type = syntax_1.Syntax.TemplateLiteral;\n\t        this.quasis = quasis;\n\t        this.expressions = expressions;\n\t    }\n\t    return TemplateLiteral;\n\t}());\n\texports.TemplateLiteral = TemplateLiteral;\n\tvar ThisExpression = (function () {\n\t    function ThisExpression() {\n\t        this.type = syntax_1.Syntax.ThisExpression;\n\t    }\n\t    return ThisExpression;\n\t}());\n\texports.ThisExpression = ThisExpression;\n\tvar ThrowStatement = (function () {\n\t    function ThrowStatement(argument) {\n\t        this.type = syntax_1.Syntax.ThrowStatement;\n\t        this.argument = argument;\n\t    }\n\t    return ThrowStatement;\n\t}());\n\texports.ThrowStatement = ThrowStatement;\n\tvar TryStatement = (function () {\n\t    function TryStatement(block, handler, finalizer) {\n\t        this.type = syntax_1.Syntax.TryStatement;\n\t        this.block = block;\n\t        this.handler = handler;\n\t        this.finalizer = finalizer;\n\t    }\n\t    return TryStatement;\n\t}());\n\texports.TryStatement = TryStatement;\n\tvar UnaryExpression = (function () {\n\t    function UnaryExpression(operator, argument) {\n\t        this.type = syntax_1.Syntax.UnaryExpression;\n\t        this.operator = operator;\n\t        this.argument = argument;\n\t        this.prefix = true;\n\t    }\n\t    return UnaryExpression;\n\t}());\n\texports.UnaryExpression = UnaryExpression;\n\tvar UpdateExpression = (function () {\n\t    function UpdateExpression(operator, argument, prefix) {\n\t        this.type = syntax_1.Syntax.UpdateExpression;\n\t        this.operator = operator;\n\t        this.argument = argument;\n\t        this.prefix = prefix;\n\t    }\n\t    return UpdateExpression;\n\t}());\n\texports.UpdateExpression = UpdateExpression;\n\tvar VariableDeclaration = (function () {\n\t    function VariableDeclaration(declarations, kind) {\n\t        this.type = syntax_1.Syntax.VariableDeclaration;\n\t        this.declarations = declarations;\n\t        this.kind = kind;\n\t    }\n\t    return VariableDeclaration;\n\t}());\n\texports.VariableDeclaration = VariableDeclaration;\n\tvar VariableDeclarator = (function () {\n\t    function VariableDeclarator(id, init) {\n\t        this.type = syntax_1.Syntax.VariableDeclarator;\n\t        this.id = id;\n\t        this.init = init;\n\t    }\n\t    return VariableDeclarator;\n\t}());\n\texports.VariableDeclarator = VariableDeclarator;\n\tvar WhileStatement = (function () {\n\t    function WhileStatement(test, body) {\n\t        this.type = syntax_1.Syntax.WhileStatement;\n\t        this.test = test;\n\t        this.body = body;\n\t    }\n\t    return WhileStatement;\n\t}());\n\texports.WhileStatement = WhileStatement;\n\tvar WithStatement = (function () {\n\t    function WithStatement(object, body) {\n\t        this.type = syntax_1.Syntax.WithStatement;\n\t        this.object = object;\n\t        this.body = body;\n\t    }\n\t    return WithStatement;\n\t}());\n\texports.WithStatement = WithStatement;\n\tvar YieldExpression = (function () {\n\t    function YieldExpression(argument, delegate) {\n\t        this.type = syntax_1.Syntax.YieldExpression;\n\t        this.argument = argument;\n\t        this.delegate = delegate;\n\t    }\n\t    return YieldExpression;\n\t}());\n\texports.YieldExpression = YieldExpression;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar assert_1 = __webpack_require__(9);\n\tvar error_handler_1 = __webpack_require__(10);\n\tvar messages_1 = __webpack_require__(11);\n\tvar Node = __webpack_require__(7);\n\tvar scanner_1 = __webpack_require__(12);\n\tvar syntax_1 = __webpack_require__(2);\n\tvar token_1 = __webpack_require__(13);\n\tvar ArrowParameterPlaceHolder = 'ArrowParameterPlaceHolder';\n\tvar Parser = (function () {\n\t    function Parser(code, options, delegate) {\n\t        if (options === void 0) { options = {}; }\n\t        this.config = {\n\t            range: (typeof options.range === 'boolean') && options.range,\n\t            loc: (typeof options.loc === 'boolean') && options.loc,\n\t            source: null,\n\t            tokens: (typeof options.tokens === 'boolean') && options.tokens,\n\t            comment: (typeof options.comment === 'boolean') && options.comment,\n\t            tolerant: (typeof options.tolerant === 'boolean') && options.tolerant\n\t        };\n\t        if (this.config.loc && options.source && options.source !== null) {\n\t            this.config.source = String(options.source);\n\t        }\n\t        this.delegate = delegate;\n\t        this.errorHandler = new error_handler_1.ErrorHandler();\n\t        this.errorHandler.tolerant = this.config.tolerant;\n\t        this.scanner = new scanner_1.Scanner(code, this.errorHandler);\n\t        this.scanner.trackComment = this.config.comment;\n\t        this.operatorPrecedence = {\n\t            ')': 0,\n\t            ';': 0,\n\t            ',': 0,\n\t            '=': 0,\n\t            ']': 0,\n\t            '||': 1,\n\t            '&&': 2,\n\t            '|': 3,\n\t            '^': 4,\n\t            '&': 5,\n\t            '==': 6,\n\t            '!=': 6,\n\t            '===': 6,\n\t            '!==': 6,\n\t            '<': 7,\n\t            '>': 7,\n\t            '<=': 7,\n\t            '>=': 7,\n\t            '<<': 8,\n\t            '>>': 8,\n\t            '>>>': 8,\n\t            '+': 9,\n\t            '-': 9,\n\t            '*': 11,\n\t            '/': 11,\n\t            '%': 11\n\t        };\n\t        this.lookahead = {\n\t            type: 2 /* EOF */,\n\t            value: '',\n\t            lineNumber: this.scanner.lineNumber,\n\t            lineStart: 0,\n\t            start: 0,\n\t            end: 0\n\t        };\n\t        this.hasLineTerminator = false;\n\t        this.context = {\n\t            isModule: false,\n\t            await: false,\n\t            allowIn: true,\n\t            allowStrictDirective: true,\n\t            allowYield: true,\n\t            firstCoverInitializedNameError: null,\n\t            isAssignmentTarget: false,\n\t            isBindingElement: false,\n\t            inFunctionBody: false,\n\t            inIteration: false,\n\t            inSwitch: false,\n\t            labelSet: {},\n\t            strict: false\n\t        };\n\t        this.tokens = [];\n\t        this.startMarker = {\n\t            index: 0,\n\t            line: this.scanner.lineNumber,\n\t            column: 0\n\t        };\n\t        this.lastMarker = {\n\t            index: 0,\n\t            line: this.scanner.lineNumber,\n\t            column: 0\n\t        };\n\t        this.nextToken();\n\t        this.lastMarker = {\n\t            index: this.scanner.index,\n\t            line: this.scanner.lineNumber,\n\t            column: this.scanner.index - this.scanner.lineStart\n\t        };\n\t    }\n\t    Parser.prototype.throwError = function (messageFormat) {\n\t        var values = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            values[_i - 1] = arguments[_i];\n\t        }\n\t        var args = Array.prototype.slice.call(arguments, 1);\n\t        var msg = messageFormat.replace(/%(\\d)/g, function (whole, idx) {\n\t            assert_1.assert(idx < args.length, 'Message reference must be in range');\n\t            return args[idx];\n\t        });\n\t        var index = this.lastMarker.index;\n\t        var line = this.lastMarker.line;\n\t        var column = this.lastMarker.column + 1;\n\t        throw this.errorHandler.createError(index, line, column, msg);\n\t    };\n\t    Parser.prototype.tolerateError = function (messageFormat) {\n\t        var values = [];\n\t        for (var _i = 1; _i < arguments.length; _i++) {\n\t            values[_i - 1] = arguments[_i];\n\t        }\n\t        var args = Array.prototype.slice.call(arguments, 1);\n\t        var msg = messageFormat.replace(/%(\\d)/g, function (whole, idx) {\n\t            assert_1.assert(idx < args.length, 'Message reference must be in range');\n\t            return args[idx];\n\t        });\n\t        var index = this.lastMarker.index;\n\t        var line = this.scanner.lineNumber;\n\t        var column = this.lastMarker.column + 1;\n\t        this.errorHandler.tolerateError(index, line, column, msg);\n\t    };\n\t    // Throw an exception because of the token.\n\t    Parser.prototype.unexpectedTokenError = function (token, message) {\n\t        var msg = message || messages_1.Messages.UnexpectedToken;\n\t        var value;\n\t        if (token) {\n\t            if (!message) {\n\t                msg = (token.type === 2 /* EOF */) ? messages_1.Messages.UnexpectedEOS :\n\t                    (token.type === 3 /* Identifier */) ? messages_1.Messages.UnexpectedIdentifier :\n\t                        (token.type === 6 /* NumericLiteral */) ? messages_1.Messages.UnexpectedNumber :\n\t                            (token.type === 8 /* StringLiteral */) ? messages_1.Messages.UnexpectedString :\n\t                                (token.type === 10 /* Template */) ? messages_1.Messages.UnexpectedTemplate :\n\t                                    messages_1.Messages.UnexpectedToken;\n\t                if (token.type === 4 /* Keyword */) {\n\t                    if (this.scanner.isFutureReservedWord(token.value)) {\n\t                        msg = messages_1.Messages.UnexpectedReserved;\n\t                    }\n\t                    else if (this.context.strict && this.scanner.isStrictModeReservedWord(token.value)) {\n\t                        msg = messages_1.Messages.StrictReservedWord;\n\t                    }\n\t                }\n\t            }\n\t            value = token.value;\n\t        }\n\t        else {\n\t            value = 'ILLEGAL';\n\t        }\n\t        msg = msg.replace('%0', value);\n\t        if (token && typeof token.lineNumber === 'number') {\n\t            var index = token.start;\n\t            var line = token.lineNumber;\n\t            var lastMarkerLineStart = this.lastMarker.index - this.lastMarker.column;\n\t            var column = token.start - lastMarkerLineStart + 1;\n\t            return this.errorHandler.createError(index, line, column, msg);\n\t        }\n\t        else {\n\t            var index = this.lastMarker.index;\n\t            var line = this.lastMarker.line;\n\t            var column = this.lastMarker.column + 1;\n\t            return this.errorHandler.createError(index, line, column, msg);\n\t        }\n\t    };\n\t    Parser.prototype.throwUnexpectedToken = function (token, message) {\n\t        throw this.unexpectedTokenError(token, message);\n\t    };\n\t    Parser.prototype.tolerateUnexpectedToken = function (token, message) {\n\t        this.errorHandler.tolerate(this.unexpectedTokenError(token, message));\n\t    };\n\t    Parser.prototype.collectComments = function () {\n\t        if (!this.config.comment) {\n\t            this.scanner.scanComments();\n\t        }\n\t        else {\n\t            var comments = this.scanner.scanComments();\n\t            if (comments.length > 0 && this.delegate) {\n\t                for (var i = 0; i < comments.length; ++i) {\n\t                    var e = comments[i];\n\t                    var node = void 0;\n\t                    node = {\n\t                        type: e.multiLine ? 'BlockComment' : 'LineComment',\n\t                        value: this.scanner.source.slice(e.slice[0], e.slice[1])\n\t                    };\n\t                    if (this.config.range) {\n\t                        node.range = e.range;\n\t                    }\n\t                    if (this.config.loc) {\n\t                        node.loc = e.loc;\n\t                    }\n\t                    var metadata = {\n\t                        start: {\n\t                            line: e.loc.start.line,\n\t                            column: e.loc.start.column,\n\t                            offset: e.range[0]\n\t                        },\n\t                        end: {\n\t                            line: e.loc.end.line,\n\t                            column: e.loc.end.column,\n\t                            offset: e.range[1]\n\t                        }\n\t                    };\n\t                    this.delegate(node, metadata);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    // From internal representation to an external structure\n\t    Parser.prototype.getTokenRaw = function (token) {\n\t        return this.scanner.source.slice(token.start, token.end);\n\t    };\n\t    Parser.prototype.convertToken = function (token) {\n\t        var t = {\n\t            type: token_1.TokenName[token.type],\n\t            value: this.getTokenRaw(token)\n\t        };\n\t        if (this.config.range) {\n\t            t.range = [token.start, token.end];\n\t        }\n\t        if (this.config.loc) {\n\t            t.loc = {\n\t                start: {\n\t                    line: this.startMarker.line,\n\t                    column: this.startMarker.column\n\t                },\n\t                end: {\n\t                    line: this.scanner.lineNumber,\n\t                    column: this.scanner.index - this.scanner.lineStart\n\t                }\n\t            };\n\t        }\n\t        if (token.type === 9 /* RegularExpression */) {\n\t            var pattern = token.pattern;\n\t            var flags = token.flags;\n\t            t.regex = { pattern: pattern, flags: flags };\n\t        }\n\t        return t;\n\t    };\n\t    Parser.prototype.nextToken = function () {\n\t        var token = this.lookahead;\n\t        this.lastMarker.index = this.scanner.index;\n\t        this.lastMarker.line = this.scanner.lineNumber;\n\t        this.lastMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        this.collectComments();\n\t        if (this.scanner.index !== this.startMarker.index) {\n\t            this.startMarker.index = this.scanner.index;\n\t            this.startMarker.line = this.scanner.lineNumber;\n\t            this.startMarker.column = this.scanner.index - this.scanner.lineStart;\n\t        }\n\t        var next = this.scanner.lex();\n\t        this.hasLineTerminator = (token.lineNumber !== next.lineNumber);\n\t        if (next && this.context.strict && next.type === 3 /* Identifier */) {\n\t            if (this.scanner.isStrictModeReservedWord(next.value)) {\n\t                next.type = 4 /* Keyword */;\n\t            }\n\t        }\n\t        this.lookahead = next;\n\t        if (this.config.tokens && next.type !== 2 /* EOF */) {\n\t            this.tokens.push(this.convertToken(next));\n\t        }\n\t        return token;\n\t    };\n\t    Parser.prototype.nextRegexToken = function () {\n\t        this.collectComments();\n\t        var token = this.scanner.scanRegExp();\n\t        if (this.config.tokens) {\n\t            // Pop the previous token, '/' or '/='\n\t            // This is added from the lookahead token.\n\t            this.tokens.pop();\n\t            this.tokens.push(this.convertToken(token));\n\t        }\n\t        // Prime the next lookahead.\n\t        this.lookahead = token;\n\t        this.nextToken();\n\t        return token;\n\t    };\n\t    Parser.prototype.createNode = function () {\n\t        return {\n\t            index: this.startMarker.index,\n\t            line: this.startMarker.line,\n\t            column: this.startMarker.column\n\t        };\n\t    };\n\t    Parser.prototype.startNode = function (token, lastLineStart) {\n\t        if (lastLineStart === void 0) { lastLineStart = 0; }\n\t        var column = token.start - token.lineStart;\n\t        var line = token.lineNumber;\n\t        if (column < 0) {\n\t            column += lastLineStart;\n\t            line--;\n\t        }\n\t        return {\n\t            index: token.start,\n\t            line: line,\n\t            column: column\n\t        };\n\t    };\n\t    Parser.prototype.finalize = function (marker, node) {\n\t        if (this.config.range) {\n\t            node.range = [marker.index, this.lastMarker.index];\n\t        }\n\t        if (this.config.loc) {\n\t            node.loc = {\n\t                start: {\n\t                    line: marker.line,\n\t                    column: marker.column,\n\t                },\n\t                end: {\n\t                    line: this.lastMarker.line,\n\t                    column: this.lastMarker.column\n\t                }\n\t            };\n\t            if (this.config.source) {\n\t                node.loc.source = this.config.source;\n\t            }\n\t        }\n\t        if (this.delegate) {\n\t            var metadata = {\n\t                start: {\n\t                    line: marker.line,\n\t                    column: marker.column,\n\t                    offset: marker.index\n\t                },\n\t                end: {\n\t                    line: this.lastMarker.line,\n\t                    column: this.lastMarker.column,\n\t                    offset: this.lastMarker.index\n\t                }\n\t            };\n\t            this.delegate(node, metadata);\n\t        }\n\t        return node;\n\t    };\n\t    // Expect the next token to match the specified punctuator.\n\t    // If not, an exception will be thrown.\n\t    Parser.prototype.expect = function (value) {\n\t        var token = this.nextToken();\n\t        if (token.type !== 7 /* Punctuator */ || token.value !== value) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t    };\n\t    // Quietly expect a comma when in tolerant mode, otherwise delegates to expect().\n\t    Parser.prototype.expectCommaSeparator = function () {\n\t        if (this.config.tolerant) {\n\t            var token = this.lookahead;\n\t            if (token.type === 7 /* Punctuator */ && token.value === ',') {\n\t                this.nextToken();\n\t            }\n\t            else if (token.type === 7 /* Punctuator */ && token.value === ';') {\n\t                this.nextToken();\n\t                this.tolerateUnexpectedToken(token);\n\t            }\n\t            else {\n\t                this.tolerateUnexpectedToken(token, messages_1.Messages.UnexpectedToken);\n\t            }\n\t        }\n\t        else {\n\t            this.expect(',');\n\t        }\n\t    };\n\t    // Expect the next token to match the specified keyword.\n\t    // If not, an exception will be thrown.\n\t    Parser.prototype.expectKeyword = function (keyword) {\n\t        var token = this.nextToken();\n\t        if (token.type !== 4 /* Keyword */ || token.value !== keyword) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t    };\n\t    // Return true if the next token matches the specified punctuator.\n\t    Parser.prototype.match = function (value) {\n\t        return this.lookahead.type === 7 /* Punctuator */ && this.lookahead.value === value;\n\t    };\n\t    // Return true if the next token matches the specified keyword\n\t    Parser.prototype.matchKeyword = function (keyword) {\n\t        return this.lookahead.type === 4 /* Keyword */ && this.lookahead.value === keyword;\n\t    };\n\t    // Return true if the next token matches the specified contextual keyword\n\t    // (where an identifier is sometimes a keyword depending on the context)\n\t    Parser.prototype.matchContextualKeyword = function (keyword) {\n\t        return this.lookahead.type === 3 /* Identifier */ && this.lookahead.value === keyword;\n\t    };\n\t    // Return true if the next token is an assignment operator\n\t    Parser.prototype.matchAssign = function () {\n\t        if (this.lookahead.type !== 7 /* Punctuator */) {\n\t            return false;\n\t        }\n\t        var op = this.lookahead.value;\n\t        return op === '=' ||\n\t            op === '*=' ||\n\t            op === '**=' ||\n\t            op === '/=' ||\n\t            op === '%=' ||\n\t            op === '+=' ||\n\t            op === '-=' ||\n\t            op === '<<=' ||\n\t            op === '>>=' ||\n\t            op === '>>>=' ||\n\t            op === '&=' ||\n\t            op === '^=' ||\n\t            op === '|=';\n\t    };\n\t    // Cover grammar support.\n\t    //\n\t    // When an assignment expression position starts with an left parenthesis, the determination of the type\n\t    // of the syntax is to be deferred arbitrarily long until the end of the parentheses pair (plus a lookahead)\n\t    // or the first comma. This situation also defers the determination of all the expressions nested in the pair.\n\t    //\n\t    // There are three productions that can be parsed in a parentheses pair that needs to be determined\n\t    // after the outermost pair is closed. They are:\n\t    //\n\t    //   1. AssignmentExpression\n\t    //   2. BindingElements\n\t    //   3. AssignmentTargets\n\t    //\n\t    // In order to avoid exponential backtracking, we use two flags to denote if the production can be\n\t    // binding element or assignment target.\n\t    //\n\t    // The three productions have the relationship:\n\t    //\n\t    //   BindingElements  AssignmentTargets  AssignmentExpression\n\t    //\n\t    // with a single exception that CoverInitializedName when used directly in an Expression, generates\n\t    // an early error. Therefore, we need the third state, firstCoverInitializedNameError, to track the\n\t    // first usage of CoverInitializedName and report it when we reached the end of the parentheses pair.\n\t    //\n\t    // isolateCoverGrammar function runs the given parser function with a new cover grammar context, and it does not\n\t    // effect the current flags. This means the production the parser parses is only used as an expression. Therefore\n\t    // the CoverInitializedName check is conducted.\n\t    //\n\t    // inheritCoverGrammar function runs the given parse function with a new cover grammar context, and it propagates\n\t    // the flags outside of the parser. This means the production the parser parses is used as a part of a potential\n\t    // pattern. The CoverInitializedName check is deferred.\n\t    Parser.prototype.isolateCoverGrammar = function (parseFunction) {\n\t        var previousIsBindingElement = this.context.isBindingElement;\n\t        var previousIsAssignmentTarget = this.context.isAssignmentTarget;\n\t        var previousFirstCoverInitializedNameError = this.context.firstCoverInitializedNameError;\n\t        this.context.isBindingElement = true;\n\t        this.context.isAssignmentTarget = true;\n\t        this.context.firstCoverInitializedNameError = null;\n\t        var result = parseFunction.call(this);\n\t        if (this.context.firstCoverInitializedNameError !== null) {\n\t            this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);\n\t        }\n\t        this.context.isBindingElement = previousIsBindingElement;\n\t        this.context.isAssignmentTarget = previousIsAssignmentTarget;\n\t        this.context.firstCoverInitializedNameError = previousFirstCoverInitializedNameError;\n\t        return result;\n\t    };\n\t    Parser.prototype.inheritCoverGrammar = function (parseFunction) {\n\t        var previousIsBindingElement = this.context.isBindingElement;\n\t        var previousIsAssignmentTarget = this.context.isAssignmentTarget;\n\t        var previousFirstCoverInitializedNameError = this.context.firstCoverInitializedNameError;\n\t        this.context.isBindingElement = true;\n\t        this.context.isAssignmentTarget = true;\n\t        this.context.firstCoverInitializedNameError = null;\n\t        var result = parseFunction.call(this);\n\t        this.context.isBindingElement = this.context.isBindingElement && previousIsBindingElement;\n\t        this.context.isAssignmentTarget = this.context.isAssignmentTarget && previousIsAssignmentTarget;\n\t        this.context.firstCoverInitializedNameError = previousFirstCoverInitializedNameError || this.context.firstCoverInitializedNameError;\n\t        return result;\n\t    };\n\t    Parser.prototype.consumeSemicolon = function () {\n\t        if (this.match(';')) {\n\t            this.nextToken();\n\t        }\n\t        else if (!this.hasLineTerminator) {\n\t            if (this.lookahead.type !== 2 /* EOF */ && !this.match('}')) {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t            this.lastMarker.index = this.startMarker.index;\n\t            this.lastMarker.line = this.startMarker.line;\n\t            this.lastMarker.column = this.startMarker.column;\n\t        }\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-primary-expression\n\t    Parser.prototype.parsePrimaryExpression = function () {\n\t        var node = this.createNode();\n\t        var expr;\n\t        var token, raw;\n\t        switch (this.lookahead.type) {\n\t            case 3 /* Identifier */:\n\t                if ((this.context.isModule || this.context.await) && this.lookahead.value === 'await') {\n\t                    this.tolerateUnexpectedToken(this.lookahead);\n\t                }\n\t                expr = this.matchAsyncFunction() ? this.parseFunctionExpression() : this.finalize(node, new Node.Identifier(this.nextToken().value));\n\t                break;\n\t            case 6 /* NumericLiteral */:\n\t            case 8 /* StringLiteral */:\n\t                if (this.context.strict && this.lookahead.octal) {\n\t                    this.tolerateUnexpectedToken(this.lookahead, messages_1.Messages.StrictOctalLiteral);\n\t                }\n\t                this.context.isAssignmentTarget = false;\n\t                this.context.isBindingElement = false;\n\t                token = this.nextToken();\n\t                raw = this.getTokenRaw(token);\n\t                expr = this.finalize(node, new Node.Literal(token.value, raw));\n\t                break;\n\t            case 1 /* BooleanLiteral */:\n\t                this.context.isAssignmentTarget = false;\n\t                this.context.isBindingElement = false;\n\t                token = this.nextToken();\n\t                raw = this.getTokenRaw(token);\n\t                expr = this.finalize(node, new Node.Literal(token.value === 'true', raw));\n\t                break;\n\t            case 5 /* NullLiteral */:\n\t                this.context.isAssignmentTarget = false;\n\t                this.context.isBindingElement = false;\n\t                token = this.nextToken();\n\t                raw = this.getTokenRaw(token);\n\t                expr = this.finalize(node, new Node.Literal(null, raw));\n\t                break;\n\t            case 10 /* Template */:\n\t                expr = this.parseTemplateLiteral();\n\t                break;\n\t            case 7 /* Punctuator */:\n\t                switch (this.lookahead.value) {\n\t                    case '(':\n\t                        this.context.isBindingElement = false;\n\t                        expr = this.inheritCoverGrammar(this.parseGroupExpression);\n\t                        break;\n\t                    case '[':\n\t                        expr = this.inheritCoverGrammar(this.parseArrayInitializer);\n\t                        break;\n\t                    case '{':\n\t                        expr = this.inheritCoverGrammar(this.parseObjectInitializer);\n\t                        break;\n\t                    case '/':\n\t                    case '/=':\n\t                        this.context.isAssignmentTarget = false;\n\t                        this.context.isBindingElement = false;\n\t                        this.scanner.index = this.startMarker.index;\n\t                        token = this.nextRegexToken();\n\t                        raw = this.getTokenRaw(token);\n\t                        expr = this.finalize(node, new Node.RegexLiteral(token.regex, raw, token.pattern, token.flags));\n\t                        break;\n\t                    default:\n\t                        expr = this.throwUnexpectedToken(this.nextToken());\n\t                }\n\t                break;\n\t            case 4 /* Keyword */:\n\t                if (!this.context.strict && this.context.allowYield && this.matchKeyword('yield')) {\n\t                    expr = this.parseIdentifierName();\n\t                }\n\t                else if (!this.context.strict && this.matchKeyword('let')) {\n\t                    expr = this.finalize(node, new Node.Identifier(this.nextToken().value));\n\t                }\n\t                else {\n\t                    this.context.isAssignmentTarget = false;\n\t                    this.context.isBindingElement = false;\n\t                    if (this.matchKeyword('function')) {\n\t                        expr = this.parseFunctionExpression();\n\t                    }\n\t                    else if (this.matchKeyword('this')) {\n\t                        this.nextToken();\n\t                        expr = this.finalize(node, new Node.ThisExpression());\n\t                    }\n\t                    else if (this.matchKeyword('class')) {\n\t                        expr = this.parseClassExpression();\n\t                    }\n\t                    else {\n\t                        expr = this.throwUnexpectedToken(this.nextToken());\n\t                    }\n\t                }\n\t                break;\n\t            default:\n\t                expr = this.throwUnexpectedToken(this.nextToken());\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-array-initializer\n\t    Parser.prototype.parseSpreadElement = function () {\n\t        var node = this.createNode();\n\t        this.expect('...');\n\t        var arg = this.inheritCoverGrammar(this.parseAssignmentExpression);\n\t        return this.finalize(node, new Node.SpreadElement(arg));\n\t    };\n\t    Parser.prototype.parseArrayInitializer = function () {\n\t        var node = this.createNode();\n\t        var elements = [];\n\t        this.expect('[');\n\t        while (!this.match(']')) {\n\t            if (this.match(',')) {\n\t                this.nextToken();\n\t                elements.push(null);\n\t            }\n\t            else if (this.match('...')) {\n\t                var element = this.parseSpreadElement();\n\t                if (!this.match(']')) {\n\t                    this.context.isAssignmentTarget = false;\n\t                    this.context.isBindingElement = false;\n\t                    this.expect(',');\n\t                }\n\t                elements.push(element);\n\t            }\n\t            else {\n\t                elements.push(this.inheritCoverGrammar(this.parseAssignmentExpression));\n\t                if (!this.match(']')) {\n\t                    this.expect(',');\n\t                }\n\t            }\n\t        }\n\t        this.expect(']');\n\t        return this.finalize(node, new Node.ArrayExpression(elements));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-object-initializer\n\t    Parser.prototype.parsePropertyMethod = function (params) {\n\t        this.context.isAssignmentTarget = false;\n\t        this.context.isBindingElement = false;\n\t        var previousStrict = this.context.strict;\n\t        var previousAllowStrictDirective = this.context.allowStrictDirective;\n\t        this.context.allowStrictDirective = params.simple;\n\t        var body = this.isolateCoverGrammar(this.parseFunctionSourceElements);\n\t        if (this.context.strict && params.firstRestricted) {\n\t            this.tolerateUnexpectedToken(params.firstRestricted, params.message);\n\t        }\n\t        if (this.context.strict && params.stricted) {\n\t            this.tolerateUnexpectedToken(params.stricted, params.message);\n\t        }\n\t        this.context.strict = previousStrict;\n\t        this.context.allowStrictDirective = previousAllowStrictDirective;\n\t        return body;\n\t    };\n\t    Parser.prototype.parsePropertyMethodFunction = function () {\n\t        var isGenerator = false;\n\t        var node = this.createNode();\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.allowYield = true;\n\t        var params = this.parseFormalParameters();\n\t        var method = this.parsePropertyMethod(params);\n\t        this.context.allowYield = previousAllowYield;\n\t        return this.finalize(node, new Node.FunctionExpression(null, params.params, method, isGenerator));\n\t    };\n\t    Parser.prototype.parsePropertyMethodAsyncFunction = function () {\n\t        var node = this.createNode();\n\t        var previousAllowYield = this.context.allowYield;\n\t        var previousAwait = this.context.await;\n\t        this.context.allowYield = false;\n\t        this.context.await = true;\n\t        var params = this.parseFormalParameters();\n\t        var method = this.parsePropertyMethod(params);\n\t        this.context.allowYield = previousAllowYield;\n\t        this.context.await = previousAwait;\n\t        return this.finalize(node, new Node.AsyncFunctionExpression(null, params.params, method));\n\t    };\n\t    Parser.prototype.parseObjectPropertyKey = function () {\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        var key;\n\t        switch (token.type) {\n\t            case 8 /* StringLiteral */:\n\t            case 6 /* NumericLiteral */:\n\t                if (this.context.strict && token.octal) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.StrictOctalLiteral);\n\t                }\n\t                var raw = this.getTokenRaw(token);\n\t                key = this.finalize(node, new Node.Literal(token.value, raw));\n\t                break;\n\t            case 3 /* Identifier */:\n\t            case 1 /* BooleanLiteral */:\n\t            case 5 /* NullLiteral */:\n\t            case 4 /* Keyword */:\n\t                key = this.finalize(node, new Node.Identifier(token.value));\n\t                break;\n\t            case 7 /* Punctuator */:\n\t                if (token.value === '[') {\n\t                    key = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                    this.expect(']');\n\t                }\n\t                else {\n\t                    key = this.throwUnexpectedToken(token);\n\t                }\n\t                break;\n\t            default:\n\t                key = this.throwUnexpectedToken(token);\n\t        }\n\t        return key;\n\t    };\n\t    Parser.prototype.isPropertyKey = function (key, value) {\n\t        return (key.type === syntax_1.Syntax.Identifier && key.name === value) ||\n\t            (key.type === syntax_1.Syntax.Literal && key.value === value);\n\t    };\n\t    Parser.prototype.parseObjectProperty = function (hasProto) {\n\t        var node = this.createNode();\n\t        var token = this.lookahead;\n\t        var kind;\n\t        var key = null;\n\t        var value = null;\n\t        var computed = false;\n\t        var method = false;\n\t        var shorthand = false;\n\t        var isAsync = false;\n\t        if (token.type === 3 /* Identifier */) {\n\t            var id = token.value;\n\t            this.nextToken();\n\t            computed = this.match('[');\n\t            isAsync = !this.hasLineTerminator && (id === 'async') &&\n\t                !this.match(':') && !this.match('(') && !this.match('*') && !this.match(',');\n\t            key = isAsync ? this.parseObjectPropertyKey() : this.finalize(node, new Node.Identifier(id));\n\t        }\n\t        else if (this.match('*')) {\n\t            this.nextToken();\n\t        }\n\t        else {\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t        }\n\t        var lookaheadPropertyKey = this.qualifiedPropertyName(this.lookahead);\n\t        if (token.type === 3 /* Identifier */ && !isAsync && token.value === 'get' && lookaheadPropertyKey) {\n\t            kind = 'get';\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            this.context.allowYield = false;\n\t            value = this.parseGetterMethod();\n\t        }\n\t        else if (token.type === 3 /* Identifier */ && !isAsync && token.value === 'set' && lookaheadPropertyKey) {\n\t            kind = 'set';\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            value = this.parseSetterMethod();\n\t        }\n\t        else if (token.type === 7 /* Punctuator */ && token.value === '*' && lookaheadPropertyKey) {\n\t            kind = 'init';\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            value = this.parseGeneratorMethod();\n\t            method = true;\n\t        }\n\t        else {\n\t            if (!key) {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t            kind = 'init';\n\t            if (this.match(':') && !isAsync) {\n\t                if (!computed && this.isPropertyKey(key, '__proto__')) {\n\t                    if (hasProto.value) {\n\t                        this.tolerateError(messages_1.Messages.DuplicateProtoProperty);\n\t                    }\n\t                    hasProto.value = true;\n\t                }\n\t                this.nextToken();\n\t                value = this.inheritCoverGrammar(this.parseAssignmentExpression);\n\t            }\n\t            else if (this.match('(')) {\n\t                value = isAsync ? this.parsePropertyMethodAsyncFunction() : this.parsePropertyMethodFunction();\n\t                method = true;\n\t            }\n\t            else if (token.type === 3 /* Identifier */) {\n\t                var id = this.finalize(node, new Node.Identifier(token.value));\n\t                if (this.match('=')) {\n\t                    this.context.firstCoverInitializedNameError = this.lookahead;\n\t                    this.nextToken();\n\t                    shorthand = true;\n\t                    var init = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                    value = this.finalize(node, new Node.AssignmentPattern(id, init));\n\t                }\n\t                else {\n\t                    shorthand = true;\n\t                    value = id;\n\t                }\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken(this.nextToken());\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.Property(kind, key, computed, value, method, shorthand));\n\t    };\n\t    Parser.prototype.parseObjectInitializer = function () {\n\t        var node = this.createNode();\n\t        this.expect('{');\n\t        var properties = [];\n\t        var hasProto = { value: false };\n\t        while (!this.match('}')) {\n\t            properties.push(this.parseObjectProperty(hasProto));\n\t            if (!this.match('}')) {\n\t                this.expectCommaSeparator();\n\t            }\n\t        }\n\t        this.expect('}');\n\t        return this.finalize(node, new Node.ObjectExpression(properties));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-template-literals\n\t    Parser.prototype.parseTemplateHead = function () {\n\t        assert_1.assert(this.lookahead.head, 'Template literal must start with a template head');\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        var raw = token.value;\n\t        var cooked = token.cooked;\n\t        return this.finalize(node, new Node.TemplateElement({ raw: raw, cooked: cooked }, token.tail));\n\t    };\n\t    Parser.prototype.parseTemplateElement = function () {\n\t        if (this.lookahead.type !== 10 /* Template */) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        var raw = token.value;\n\t        var cooked = token.cooked;\n\t        return this.finalize(node, new Node.TemplateElement({ raw: raw, cooked: cooked }, token.tail));\n\t    };\n\t    Parser.prototype.parseTemplateLiteral = function () {\n\t        var node = this.createNode();\n\t        var expressions = [];\n\t        var quasis = [];\n\t        var quasi = this.parseTemplateHead();\n\t        quasis.push(quasi);\n\t        while (!quasi.tail) {\n\t            expressions.push(this.parseExpression());\n\t            quasi = this.parseTemplateElement();\n\t            quasis.push(quasi);\n\t        }\n\t        return this.finalize(node, new Node.TemplateLiteral(quasis, expressions));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-grouping-operator\n\t    Parser.prototype.reinterpretExpressionAsPattern = function (expr) {\n\t        switch (expr.type) {\n\t            case syntax_1.Syntax.Identifier:\n\t            case syntax_1.Syntax.MemberExpression:\n\t            case syntax_1.Syntax.RestElement:\n\t            case syntax_1.Syntax.AssignmentPattern:\n\t                break;\n\t            case syntax_1.Syntax.SpreadElement:\n\t                expr.type = syntax_1.Syntax.RestElement;\n\t                this.reinterpretExpressionAsPattern(expr.argument);\n\t                break;\n\t            case syntax_1.Syntax.ArrayExpression:\n\t                expr.type = syntax_1.Syntax.ArrayPattern;\n\t                for (var i = 0; i < expr.elements.length; i++) {\n\t                    if (expr.elements[i] !== null) {\n\t                        this.reinterpretExpressionAsPattern(expr.elements[i]);\n\t                    }\n\t                }\n\t                break;\n\t            case syntax_1.Syntax.ObjectExpression:\n\t                expr.type = syntax_1.Syntax.ObjectPattern;\n\t                for (var i = 0; i < expr.properties.length; i++) {\n\t                    this.reinterpretExpressionAsPattern(expr.properties[i].value);\n\t                }\n\t                break;\n\t            case syntax_1.Syntax.AssignmentExpression:\n\t                expr.type = syntax_1.Syntax.AssignmentPattern;\n\t                delete expr.operator;\n\t                this.reinterpretExpressionAsPattern(expr.left);\n\t                break;\n\t            default:\n\t                // Allow other node type for tolerant parsing.\n\t                break;\n\t        }\n\t    };\n\t    Parser.prototype.parseGroupExpression = function () {\n\t        var expr;\n\t        this.expect('(');\n\t        if (this.match(')')) {\n\t            this.nextToken();\n\t            if (!this.match('=>')) {\n\t                this.expect('=>');\n\t            }\n\t            expr = {\n\t                type: ArrowParameterPlaceHolder,\n\t                params: [],\n\t                async: false\n\t            };\n\t        }\n\t        else {\n\t            var startToken = this.lookahead;\n\t            var params = [];\n\t            if (this.match('...')) {\n\t                expr = this.parseRestElement(params);\n\t                this.expect(')');\n\t                if (!this.match('=>')) {\n\t                    this.expect('=>');\n\t                }\n\t                expr = {\n\t                    type: ArrowParameterPlaceHolder,\n\t                    params: [expr],\n\t                    async: false\n\t                };\n\t            }\n\t            else {\n\t                var arrow = false;\n\t                this.context.isBindingElement = true;\n\t                expr = this.inheritCoverGrammar(this.parseAssignmentExpression);\n\t                if (this.match(',')) {\n\t                    var expressions = [];\n\t                    this.context.isAssignmentTarget = false;\n\t                    expressions.push(expr);\n\t                    while (this.lookahead.type !== 2 /* EOF */) {\n\t                        if (!this.match(',')) {\n\t                            break;\n\t                        }\n\t                        this.nextToken();\n\t                        if (this.match(')')) {\n\t                            this.nextToken();\n\t                            for (var i = 0; i < expressions.length; i++) {\n\t                                this.reinterpretExpressionAsPattern(expressions[i]);\n\t                            }\n\t                            arrow = true;\n\t                            expr = {\n\t                                type: ArrowParameterPlaceHolder,\n\t                                params: expressions,\n\t                                async: false\n\t                            };\n\t                        }\n\t                        else if (this.match('...')) {\n\t                            if (!this.context.isBindingElement) {\n\t                                this.throwUnexpectedToken(this.lookahead);\n\t                            }\n\t                            expressions.push(this.parseRestElement(params));\n\t                            this.expect(')');\n\t                            if (!this.match('=>')) {\n\t                                this.expect('=>');\n\t                            }\n\t                            this.context.isBindingElement = false;\n\t                            for (var i = 0; i < expressions.length; i++) {\n\t                                this.reinterpretExpressionAsPattern(expressions[i]);\n\t                            }\n\t                            arrow = true;\n\t                            expr = {\n\t                                type: ArrowParameterPlaceHolder,\n\t                                params: expressions,\n\t                                async: false\n\t                            };\n\t                        }\n\t                        else {\n\t                            expressions.push(this.inheritCoverGrammar(this.parseAssignmentExpression));\n\t                        }\n\t                        if (arrow) {\n\t                            break;\n\t                        }\n\t                    }\n\t                    if (!arrow) {\n\t                        expr = this.finalize(this.startNode(startToken), new Node.SequenceExpression(expressions));\n\t                    }\n\t                }\n\t                if (!arrow) {\n\t                    this.expect(')');\n\t                    if (this.match('=>')) {\n\t                        if (expr.type === syntax_1.Syntax.Identifier && expr.name === 'yield') {\n\t                            arrow = true;\n\t                            expr = {\n\t                                type: ArrowParameterPlaceHolder,\n\t                                params: [expr],\n\t                                async: false\n\t                            };\n\t                        }\n\t                        if (!arrow) {\n\t                            if (!this.context.isBindingElement) {\n\t                                this.throwUnexpectedToken(this.lookahead);\n\t                            }\n\t                            if (expr.type === syntax_1.Syntax.SequenceExpression) {\n\t                                for (var i = 0; i < expr.expressions.length; i++) {\n\t                                    this.reinterpretExpressionAsPattern(expr.expressions[i]);\n\t                                }\n\t                            }\n\t                            else {\n\t                                this.reinterpretExpressionAsPattern(expr);\n\t                            }\n\t                            var parameters = (expr.type === syntax_1.Syntax.SequenceExpression ? expr.expressions : [expr]);\n\t                            expr = {\n\t                                type: ArrowParameterPlaceHolder,\n\t                                params: parameters,\n\t                                async: false\n\t                            };\n\t                        }\n\t                    }\n\t                    this.context.isBindingElement = false;\n\t                }\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-left-hand-side-expressions\n\t    Parser.prototype.parseArguments = function () {\n\t        this.expect('(');\n\t        var args = [];\n\t        if (!this.match(')')) {\n\t            while (true) {\n\t                var expr = this.match('...') ? this.parseSpreadElement() :\n\t                    this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                args.push(expr);\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t                this.expectCommaSeparator();\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        this.expect(')');\n\t        return args;\n\t    };\n\t    Parser.prototype.isIdentifierName = function (token) {\n\t        return token.type === 3 /* Identifier */ ||\n\t            token.type === 4 /* Keyword */ ||\n\t            token.type === 1 /* BooleanLiteral */ ||\n\t            token.type === 5 /* NullLiteral */;\n\t    };\n\t    Parser.prototype.parseIdentifierName = function () {\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        if (!this.isIdentifierName(token)) {\n\t            this.throwUnexpectedToken(token);\n\t        }\n\t        return this.finalize(node, new Node.Identifier(token.value));\n\t    };\n\t    Parser.prototype.parseNewExpression = function () {\n\t        var node = this.createNode();\n\t        var id = this.parseIdentifierName();\n\t        assert_1.assert(id.name === 'new', 'New expression must start with `new`');\n\t        var expr;\n\t        if (this.match('.')) {\n\t            this.nextToken();\n\t            if (this.lookahead.type === 3 /* Identifier */ && this.context.inFunctionBody && this.lookahead.value === 'target') {\n\t                var property = this.parseIdentifierName();\n\t                expr = new Node.MetaProperty(id, property);\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t        }\n\t        else {\n\t            var callee = this.isolateCoverGrammar(this.parseLeftHandSideExpression);\n\t            var args = this.match('(') ? this.parseArguments() : [];\n\t            expr = new Node.NewExpression(callee, args);\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t        }\n\t        return this.finalize(node, expr);\n\t    };\n\t    Parser.prototype.parseAsyncArgument = function () {\n\t        var arg = this.parseAssignmentExpression();\n\t        this.context.firstCoverInitializedNameError = null;\n\t        return arg;\n\t    };\n\t    Parser.prototype.parseAsyncArguments = function () {\n\t        this.expect('(');\n\t        var args = [];\n\t        if (!this.match(')')) {\n\t            while (true) {\n\t                var expr = this.match('...') ? this.parseSpreadElement() :\n\t                    this.isolateCoverGrammar(this.parseAsyncArgument);\n\t                args.push(expr);\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t                this.expectCommaSeparator();\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        this.expect(')');\n\t        return args;\n\t    };\n\t    Parser.prototype.parseLeftHandSideExpressionAllowCall = function () {\n\t        var startToken = this.lookahead;\n\t        var maybeAsync = this.matchContextualKeyword('async');\n\t        var previousAllowIn = this.context.allowIn;\n\t        this.context.allowIn = true;\n\t        var expr;\n\t        if (this.matchKeyword('super') && this.context.inFunctionBody) {\n\t            expr = this.createNode();\n\t            this.nextToken();\n\t            expr = this.finalize(expr, new Node.Super());\n\t            if (!this.match('(') && !this.match('.') && !this.match('[')) {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t        }\n\t        else {\n\t            expr = this.inheritCoverGrammar(this.matchKeyword('new') ? this.parseNewExpression : this.parsePrimaryExpression);\n\t        }\n\t        while (true) {\n\t            if (this.match('.')) {\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = true;\n\t                this.expect('.');\n\t                var property = this.parseIdentifierName();\n\t                expr = this.finalize(this.startNode(startToken), new Node.StaticMemberExpression(expr, property));\n\t            }\n\t            else if (this.match('(')) {\n\t                var asyncArrow = maybeAsync && (startToken.lineNumber === this.lookahead.lineNumber);\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = false;\n\t                var args = asyncArrow ? this.parseAsyncArguments() : this.parseArguments();\n\t                expr = this.finalize(this.startNode(startToken), new Node.CallExpression(expr, args));\n\t                if (asyncArrow && this.match('=>')) {\n\t                    for (var i = 0; i < args.length; ++i) {\n\t                        this.reinterpretExpressionAsPattern(args[i]);\n\t                    }\n\t                    expr = {\n\t                        type: ArrowParameterPlaceHolder,\n\t                        params: args,\n\t                        async: true\n\t                    };\n\t                }\n\t            }\n\t            else if (this.match('[')) {\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = true;\n\t                this.expect('[');\n\t                var property = this.isolateCoverGrammar(this.parseExpression);\n\t                this.expect(']');\n\t                expr = this.finalize(this.startNode(startToken), new Node.ComputedMemberExpression(expr, property));\n\t            }\n\t            else if (this.lookahead.type === 10 /* Template */ && this.lookahead.head) {\n\t                var quasi = this.parseTemplateLiteral();\n\t                expr = this.finalize(this.startNode(startToken), new Node.TaggedTemplateExpression(expr, quasi));\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        this.context.allowIn = previousAllowIn;\n\t        return expr;\n\t    };\n\t    Parser.prototype.parseSuper = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('super');\n\t        if (!this.match('[') && !this.match('.')) {\n\t            this.throwUnexpectedToken(this.lookahead);\n\t        }\n\t        return this.finalize(node, new Node.Super());\n\t    };\n\t    Parser.prototype.parseLeftHandSideExpression = function () {\n\t        assert_1.assert(this.context.allowIn, 'callee of new expression always allow in keyword.');\n\t        var node = this.startNode(this.lookahead);\n\t        var expr = (this.matchKeyword('super') && this.context.inFunctionBody) ? this.parseSuper() :\n\t            this.inheritCoverGrammar(this.matchKeyword('new') ? this.parseNewExpression : this.parsePrimaryExpression);\n\t        while (true) {\n\t            if (this.match('[')) {\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = true;\n\t                this.expect('[');\n\t                var property = this.isolateCoverGrammar(this.parseExpression);\n\t                this.expect(']');\n\t                expr = this.finalize(node, new Node.ComputedMemberExpression(expr, property));\n\t            }\n\t            else if (this.match('.')) {\n\t                this.context.isBindingElement = false;\n\t                this.context.isAssignmentTarget = true;\n\t                this.expect('.');\n\t                var property = this.parseIdentifierName();\n\t                expr = this.finalize(node, new Node.StaticMemberExpression(expr, property));\n\t            }\n\t            else if (this.lookahead.type === 10 /* Template */ && this.lookahead.head) {\n\t                var quasi = this.parseTemplateLiteral();\n\t                expr = this.finalize(node, new Node.TaggedTemplateExpression(expr, quasi));\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-update-expressions\n\t    Parser.prototype.parseUpdateExpression = function () {\n\t        var expr;\n\t        var startToken = this.lookahead;\n\t        if (this.match('++') || this.match('--')) {\n\t            var node = this.startNode(startToken);\n\t            var token = this.nextToken();\n\t            expr = this.inheritCoverGrammar(this.parseUnaryExpression);\n\t            if (this.context.strict && expr.type === syntax_1.Syntax.Identifier && this.scanner.isRestrictedWord(expr.name)) {\n\t                this.tolerateError(messages_1.Messages.StrictLHSPrefix);\n\t            }\n\t            if (!this.context.isAssignmentTarget) {\n\t                this.tolerateError(messages_1.Messages.InvalidLHSInAssignment);\n\t            }\n\t            var prefix = true;\n\t            expr = this.finalize(node, new Node.UpdateExpression(token.value, expr, prefix));\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t        }\n\t        else {\n\t            expr = this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall);\n\t            if (!this.hasLineTerminator && this.lookahead.type === 7 /* Punctuator */) {\n\t                if (this.match('++') || this.match('--')) {\n\t                    if (this.context.strict && expr.type === syntax_1.Syntax.Identifier && this.scanner.isRestrictedWord(expr.name)) {\n\t                        this.tolerateError(messages_1.Messages.StrictLHSPostfix);\n\t                    }\n\t                    if (!this.context.isAssignmentTarget) {\n\t                        this.tolerateError(messages_1.Messages.InvalidLHSInAssignment);\n\t                    }\n\t                    this.context.isAssignmentTarget = false;\n\t                    this.context.isBindingElement = false;\n\t                    var operator = this.nextToken().value;\n\t                    var prefix = false;\n\t                    expr = this.finalize(this.startNode(startToken), new Node.UpdateExpression(operator, expr, prefix));\n\t                }\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-unary-operators\n\t    Parser.prototype.parseAwaitExpression = function () {\n\t        var node = this.createNode();\n\t        this.nextToken();\n\t        var argument = this.parseUnaryExpression();\n\t        return this.finalize(node, new Node.AwaitExpression(argument));\n\t    };\n\t    Parser.prototype.parseUnaryExpression = function () {\n\t        var expr;\n\t        if (this.match('+') || this.match('-') || this.match('~') || this.match('!') ||\n\t            this.matchKeyword('delete') || this.matchKeyword('void') || this.matchKeyword('typeof')) {\n\t            var node = this.startNode(this.lookahead);\n\t            var token = this.nextToken();\n\t            expr = this.inheritCoverGrammar(this.parseUnaryExpression);\n\t            expr = this.finalize(node, new Node.UnaryExpression(token.value, expr));\n\t            if (this.context.strict && expr.operator === 'delete' && expr.argument.type === syntax_1.Syntax.Identifier) {\n\t                this.tolerateError(messages_1.Messages.StrictDelete);\n\t            }\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t        }\n\t        else if (this.context.await && this.matchContextualKeyword('await')) {\n\t            expr = this.parseAwaitExpression();\n\t        }\n\t        else {\n\t            expr = this.parseUpdateExpression();\n\t        }\n\t        return expr;\n\t    };\n\t    Parser.prototype.parseExponentiationExpression = function () {\n\t        var startToken = this.lookahead;\n\t        var expr = this.inheritCoverGrammar(this.parseUnaryExpression);\n\t        if (expr.type !== syntax_1.Syntax.UnaryExpression && this.match('**')) {\n\t            this.nextToken();\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t            var left = expr;\n\t            var right = this.isolateCoverGrammar(this.parseExponentiationExpression);\n\t            expr = this.finalize(this.startNode(startToken), new Node.BinaryExpression('**', left, right));\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-exp-operator\n\t    // https://tc39.github.io/ecma262/#sec-multiplicative-operators\n\t    // https://tc39.github.io/ecma262/#sec-additive-operators\n\t    // https://tc39.github.io/ecma262/#sec-bitwise-shift-operators\n\t    // https://tc39.github.io/ecma262/#sec-relational-operators\n\t    // https://tc39.github.io/ecma262/#sec-equality-operators\n\t    // https://tc39.github.io/ecma262/#sec-binary-bitwise-operators\n\t    // https://tc39.github.io/ecma262/#sec-binary-logical-operators\n\t    Parser.prototype.binaryPrecedence = function (token) {\n\t        var op = token.value;\n\t        var precedence;\n\t        if (token.type === 7 /* Punctuator */) {\n\t            precedence = this.operatorPrecedence[op] || 0;\n\t        }\n\t        else if (token.type === 4 /* Keyword */) {\n\t            precedence = (op === 'instanceof' || (this.context.allowIn && op === 'in')) ? 7 : 0;\n\t        }\n\t        else {\n\t            precedence = 0;\n\t        }\n\t        return precedence;\n\t    };\n\t    Parser.prototype.parseBinaryExpression = function () {\n\t        var startToken = this.lookahead;\n\t        var expr = this.inheritCoverGrammar(this.parseExponentiationExpression);\n\t        var token = this.lookahead;\n\t        var prec = this.binaryPrecedence(token);\n\t        if (prec > 0) {\n\t            this.nextToken();\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t            var markers = [startToken, this.lookahead];\n\t            var left = expr;\n\t            var right = this.isolateCoverGrammar(this.parseExponentiationExpression);\n\t            var stack = [left, token.value, right];\n\t            var precedences = [prec];\n\t            while (true) {\n\t                prec = this.binaryPrecedence(this.lookahead);\n\t                if (prec <= 0) {\n\t                    break;\n\t                }\n\t                // Reduce: make a binary expression from the three topmost entries.\n\t                while ((stack.length > 2) && (prec <= precedences[precedences.length - 1])) {\n\t                    right = stack.pop();\n\t                    var operator = stack.pop();\n\t                    precedences.pop();\n\t                    left = stack.pop();\n\t                    markers.pop();\n\t                    var node = this.startNode(markers[markers.length - 1]);\n\t                    stack.push(this.finalize(node, new Node.BinaryExpression(operator, left, right)));\n\t                }\n\t                // Shift.\n\t                stack.push(this.nextToken().value);\n\t                precedences.push(prec);\n\t                markers.push(this.lookahead);\n\t                stack.push(this.isolateCoverGrammar(this.parseExponentiationExpression));\n\t            }\n\t            // Final reduce to clean-up the stack.\n\t            var i = stack.length - 1;\n\t            expr = stack[i];\n\t            var lastMarker = markers.pop();\n\t            while (i > 1) {\n\t                var marker = markers.pop();\n\t                var lastLineStart = lastMarker && lastMarker.lineStart;\n\t                var node = this.startNode(marker, lastLineStart);\n\t                var operator = stack[i - 1];\n\t                expr = this.finalize(node, new Node.BinaryExpression(operator, stack[i - 2], expr));\n\t                i -= 2;\n\t                lastMarker = marker;\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-conditional-operator\n\t    Parser.prototype.parseConditionalExpression = function () {\n\t        var startToken = this.lookahead;\n\t        var expr = this.inheritCoverGrammar(this.parseBinaryExpression);\n\t        if (this.match('?')) {\n\t            this.nextToken();\n\t            var previousAllowIn = this.context.allowIn;\n\t            this.context.allowIn = true;\n\t            var consequent = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t            this.context.allowIn = previousAllowIn;\n\t            this.expect(':');\n\t            var alternate = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t            expr = this.finalize(this.startNode(startToken), new Node.ConditionalExpression(expr, consequent, alternate));\n\t            this.context.isAssignmentTarget = false;\n\t            this.context.isBindingElement = false;\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-assignment-operators\n\t    Parser.prototype.checkPatternParam = function (options, param) {\n\t        switch (param.type) {\n\t            case syntax_1.Syntax.Identifier:\n\t                this.validateParam(options, param, param.name);\n\t                break;\n\t            case syntax_1.Syntax.RestElement:\n\t                this.checkPatternParam(options, param.argument);\n\t                break;\n\t            case syntax_1.Syntax.AssignmentPattern:\n\t                this.checkPatternParam(options, param.left);\n\t                break;\n\t            case syntax_1.Syntax.ArrayPattern:\n\t                for (var i = 0; i < param.elements.length; i++) {\n\t                    if (param.elements[i] !== null) {\n\t                        this.checkPatternParam(options, param.elements[i]);\n\t                    }\n\t                }\n\t                break;\n\t            case syntax_1.Syntax.ObjectPattern:\n\t                for (var i = 0; i < param.properties.length; i++) {\n\t                    this.checkPatternParam(options, param.properties[i].value);\n\t                }\n\t                break;\n\t            default:\n\t                break;\n\t        }\n\t        options.simple = options.simple && (param instanceof Node.Identifier);\n\t    };\n\t    Parser.prototype.reinterpretAsCoverFormalsList = function (expr) {\n\t        var params = [expr];\n\t        var options;\n\t        var asyncArrow = false;\n\t        switch (expr.type) {\n\t            case syntax_1.Syntax.Identifier:\n\t                break;\n\t            case ArrowParameterPlaceHolder:\n\t                params = expr.params;\n\t                asyncArrow = expr.async;\n\t                break;\n\t            default:\n\t                return null;\n\t        }\n\t        options = {\n\t            simple: true,\n\t            paramSet: {}\n\t        };\n\t        for (var i = 0; i < params.length; ++i) {\n\t            var param = params[i];\n\t            if (param.type === syntax_1.Syntax.AssignmentPattern) {\n\t                if (param.right.type === syntax_1.Syntax.YieldExpression) {\n\t                    if (param.right.argument) {\n\t                        this.throwUnexpectedToken(this.lookahead);\n\t                    }\n\t                    param.right.type = syntax_1.Syntax.Identifier;\n\t                    param.right.name = 'yield';\n\t                    delete param.right.argument;\n\t                    delete param.right.delegate;\n\t                }\n\t            }\n\t            else if (asyncArrow && param.type === syntax_1.Syntax.Identifier && param.name === 'await') {\n\t                this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t            this.checkPatternParam(options, param);\n\t            params[i] = param;\n\t        }\n\t        if (this.context.strict || !this.context.allowYield) {\n\t            for (var i = 0; i < params.length; ++i) {\n\t                var param = params[i];\n\t                if (param.type === syntax_1.Syntax.YieldExpression) {\n\t                    this.throwUnexpectedToken(this.lookahead);\n\t                }\n\t            }\n\t        }\n\t        if (options.message === messages_1.Messages.StrictParamDupe) {\n\t            var token = this.context.strict ? options.stricted : options.firstRestricted;\n\t            this.throwUnexpectedToken(token, options.message);\n\t        }\n\t        return {\n\t            simple: options.simple,\n\t            params: params,\n\t            stricted: options.stricted,\n\t            firstRestricted: options.firstRestricted,\n\t            message: options.message\n\t        };\n\t    };\n\t    Parser.prototype.parseAssignmentExpression = function () {\n\t        var expr;\n\t        if (!this.context.allowYield && this.matchKeyword('yield')) {\n\t            expr = this.parseYieldExpression();\n\t        }\n\t        else {\n\t            var startToken = this.lookahead;\n\t            var token = startToken;\n\t            expr = this.parseConditionalExpression();\n\t            if (token.type === 3 /* Identifier */ && (token.lineNumber === this.lookahead.lineNumber) && token.value === 'async') {\n\t                if (this.lookahead.type === 3 /* Identifier */ || this.matchKeyword('yield')) {\n\t                    var arg = this.parsePrimaryExpression();\n\t                    this.reinterpretExpressionAsPattern(arg);\n\t                    expr = {\n\t                        type: ArrowParameterPlaceHolder,\n\t                        params: [arg],\n\t                        async: true\n\t                    };\n\t                }\n\t            }\n\t            if (expr.type === ArrowParameterPlaceHolder || this.match('=>')) {\n\t                // https://tc39.github.io/ecma262/#sec-arrow-function-definitions\n\t                this.context.isAssignmentTarget = false;\n\t                this.context.isBindingElement = false;\n\t                var isAsync = expr.async;\n\t                var list = this.reinterpretAsCoverFormalsList(expr);\n\t                if (list) {\n\t                    if (this.hasLineTerminator) {\n\t                        this.tolerateUnexpectedToken(this.lookahead);\n\t                    }\n\t                    this.context.firstCoverInitializedNameError = null;\n\t                    var previousStrict = this.context.strict;\n\t                    var previousAllowStrictDirective = this.context.allowStrictDirective;\n\t                    this.context.allowStrictDirective = list.simple;\n\t                    var previousAllowYield = this.context.allowYield;\n\t                    var previousAwait = this.context.await;\n\t                    this.context.allowYield = true;\n\t                    this.context.await = isAsync;\n\t                    var node = this.startNode(startToken);\n\t                    this.expect('=>');\n\t                    var body = void 0;\n\t                    if (this.match('{')) {\n\t                        var previousAllowIn = this.context.allowIn;\n\t                        this.context.allowIn = true;\n\t                        body = this.parseFunctionSourceElements();\n\t                        this.context.allowIn = previousAllowIn;\n\t                    }\n\t                    else {\n\t                        body = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                    }\n\t                    var expression = body.type !== syntax_1.Syntax.BlockStatement;\n\t                    if (this.context.strict && list.firstRestricted) {\n\t                        this.throwUnexpectedToken(list.firstRestricted, list.message);\n\t                    }\n\t                    if (this.context.strict && list.stricted) {\n\t                        this.tolerateUnexpectedToken(list.stricted, list.message);\n\t                    }\n\t                    expr = isAsync ? this.finalize(node, new Node.AsyncArrowFunctionExpression(list.params, body, expression)) :\n\t                        this.finalize(node, new Node.ArrowFunctionExpression(list.params, body, expression));\n\t                    this.context.strict = previousStrict;\n\t                    this.context.allowStrictDirective = previousAllowStrictDirective;\n\t                    this.context.allowYield = previousAllowYield;\n\t                    this.context.await = previousAwait;\n\t                }\n\t            }\n\t            else {\n\t                if (this.matchAssign()) {\n\t                    if (!this.context.isAssignmentTarget) {\n\t                        this.tolerateError(messages_1.Messages.InvalidLHSInAssignment);\n\t                    }\n\t                    if (this.context.strict && expr.type === syntax_1.Syntax.Identifier) {\n\t                        var id = expr;\n\t                        if (this.scanner.isRestrictedWord(id.name)) {\n\t                            this.tolerateUnexpectedToken(token, messages_1.Messages.StrictLHSAssignment);\n\t                        }\n\t                        if (this.scanner.isStrictModeReservedWord(id.name)) {\n\t                            this.tolerateUnexpectedToken(token, messages_1.Messages.StrictReservedWord);\n\t                        }\n\t                    }\n\t                    if (!this.match('=')) {\n\t                        this.context.isAssignmentTarget = false;\n\t                        this.context.isBindingElement = false;\n\t                    }\n\t                    else {\n\t                        this.reinterpretExpressionAsPattern(expr);\n\t                    }\n\t                    token = this.nextToken();\n\t                    var operator = token.value;\n\t                    var right = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                    expr = this.finalize(this.startNode(startToken), new Node.AssignmentExpression(operator, expr, right));\n\t                    this.context.firstCoverInitializedNameError = null;\n\t                }\n\t            }\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-comma-operator\n\t    Parser.prototype.parseExpression = function () {\n\t        var startToken = this.lookahead;\n\t        var expr = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t        if (this.match(',')) {\n\t            var expressions = [];\n\t            expressions.push(expr);\n\t            while (this.lookahead.type !== 2 /* EOF */) {\n\t                if (!this.match(',')) {\n\t                    break;\n\t                }\n\t                this.nextToken();\n\t                expressions.push(this.isolateCoverGrammar(this.parseAssignmentExpression));\n\t            }\n\t            expr = this.finalize(this.startNode(startToken), new Node.SequenceExpression(expressions));\n\t        }\n\t        return expr;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-block\n\t    Parser.prototype.parseStatementListItem = function () {\n\t        var statement;\n\t        this.context.isAssignmentTarget = true;\n\t        this.context.isBindingElement = true;\n\t        if (this.lookahead.type === 4 /* Keyword */) {\n\t            switch (this.lookahead.value) {\n\t                case 'export':\n\t                    if (!this.context.isModule) {\n\t                        this.tolerateUnexpectedToken(this.lookahead, messages_1.Messages.IllegalExportDeclaration);\n\t                    }\n\t                    statement = this.parseExportDeclaration();\n\t                    break;\n\t                case 'import':\n\t                    if (!this.context.isModule) {\n\t                        this.tolerateUnexpectedToken(this.lookahead, messages_1.Messages.IllegalImportDeclaration);\n\t                    }\n\t                    statement = this.parseImportDeclaration();\n\t                    break;\n\t                case 'const':\n\t                    statement = this.parseLexicalDeclaration({ inFor: false });\n\t                    break;\n\t                case 'function':\n\t                    statement = this.parseFunctionDeclaration();\n\t                    break;\n\t                case 'class':\n\t                    statement = this.parseClassDeclaration();\n\t                    break;\n\t                case 'let':\n\t                    statement = this.isLexicalDeclaration() ? this.parseLexicalDeclaration({ inFor: false }) : this.parseStatement();\n\t                    break;\n\t                default:\n\t                    statement = this.parseStatement();\n\t                    break;\n\t            }\n\t        }\n\t        else {\n\t            statement = this.parseStatement();\n\t        }\n\t        return statement;\n\t    };\n\t    Parser.prototype.parseBlock = function () {\n\t        var node = this.createNode();\n\t        this.expect('{');\n\t        var block = [];\n\t        while (true) {\n\t            if (this.match('}')) {\n\t                break;\n\t            }\n\t            block.push(this.parseStatementListItem());\n\t        }\n\t        this.expect('}');\n\t        return this.finalize(node, new Node.BlockStatement(block));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-let-and-const-declarations\n\t    Parser.prototype.parseLexicalBinding = function (kind, options) {\n\t        var node = this.createNode();\n\t        var params = [];\n\t        var id = this.parsePattern(params, kind);\n\t        if (this.context.strict && id.type === syntax_1.Syntax.Identifier) {\n\t            if (this.scanner.isRestrictedWord(id.name)) {\n\t                this.tolerateError(messages_1.Messages.StrictVarName);\n\t            }\n\t        }\n\t        var init = null;\n\t        if (kind === 'const') {\n\t            if (!this.matchKeyword('in') && !this.matchContextualKeyword('of')) {\n\t                if (this.match('=')) {\n\t                    this.nextToken();\n\t                    init = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t                }\n\t                else {\n\t                    this.throwError(messages_1.Messages.DeclarationMissingInitializer, 'const');\n\t                }\n\t            }\n\t        }\n\t        else if ((!options.inFor && id.type !== syntax_1.Syntax.Identifier) || this.match('=')) {\n\t            this.expect('=');\n\t            init = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t        }\n\t        return this.finalize(node, new Node.VariableDeclarator(id, init));\n\t    };\n\t    Parser.prototype.parseBindingList = function (kind, options) {\n\t        var list = [this.parseLexicalBinding(kind, options)];\n\t        while (this.match(',')) {\n\t            this.nextToken();\n\t            list.push(this.parseLexicalBinding(kind, options));\n\t        }\n\t        return list;\n\t    };\n\t    Parser.prototype.isLexicalDeclaration = function () {\n\t        var state = this.scanner.saveState();\n\t        this.scanner.scanComments();\n\t        var next = this.scanner.lex();\n\t        this.scanner.restoreState(state);\n\t        return (next.type === 3 /* Identifier */) ||\n\t            (next.type === 7 /* Punctuator */ && next.value === '[') ||\n\t            (next.type === 7 /* Punctuator */ && next.value === '{') ||\n\t            (next.type === 4 /* Keyword */ && next.value === 'let') ||\n\t            (next.type === 4 /* Keyword */ && next.value === 'yield');\n\t    };\n\t    Parser.prototype.parseLexicalDeclaration = function (options) {\n\t        var node = this.createNode();\n\t        var kind = this.nextToken().value;\n\t        assert_1.assert(kind === 'let' || kind === 'const', 'Lexical declaration must be either let or const');\n\t        var declarations = this.parseBindingList(kind, options);\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.VariableDeclaration(declarations, kind));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-destructuring-binding-patterns\n\t    Parser.prototype.parseBindingRestElement = function (params, kind) {\n\t        var node = this.createNode();\n\t        this.expect('...');\n\t        var arg = this.parsePattern(params, kind);\n\t        return this.finalize(node, new Node.RestElement(arg));\n\t    };\n\t    Parser.prototype.parseArrayPattern = function (params, kind) {\n\t        var node = this.createNode();\n\t        this.expect('[');\n\t        var elements = [];\n\t        while (!this.match(']')) {\n\t            if (this.match(',')) {\n\t                this.nextToken();\n\t                elements.push(null);\n\t            }\n\t            else {\n\t                if (this.match('...')) {\n\t                    elements.push(this.parseBindingRestElement(params, kind));\n\t                    break;\n\t                }\n\t                else {\n\t                    elements.push(this.parsePatternWithDefault(params, kind));\n\t                }\n\t                if (!this.match(']')) {\n\t                    this.expect(',');\n\t                }\n\t            }\n\t        }\n\t        this.expect(']');\n\t        return this.finalize(node, new Node.ArrayPattern(elements));\n\t    };\n\t    Parser.prototype.parsePropertyPattern = function (params, kind) {\n\t        var node = this.createNode();\n\t        var computed = false;\n\t        var shorthand = false;\n\t        var method = false;\n\t        var key;\n\t        var value;\n\t        if (this.lookahead.type === 3 /* Identifier */) {\n\t            var keyToken = this.lookahead;\n\t            key = this.parseVariableIdentifier();\n\t            var init = this.finalize(node, new Node.Identifier(keyToken.value));\n\t            if (this.match('=')) {\n\t                params.push(keyToken);\n\t                shorthand = true;\n\t                this.nextToken();\n\t                var expr = this.parseAssignmentExpression();\n\t                value = this.finalize(this.startNode(keyToken), new Node.AssignmentPattern(init, expr));\n\t            }\n\t            else if (!this.match(':')) {\n\t                params.push(keyToken);\n\t                shorthand = true;\n\t                value = init;\n\t            }\n\t            else {\n\t                this.expect(':');\n\t                value = this.parsePatternWithDefault(params, kind);\n\t            }\n\t        }\n\t        else {\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            this.expect(':');\n\t            value = this.parsePatternWithDefault(params, kind);\n\t        }\n\t        return this.finalize(node, new Node.Property('init', key, computed, value, method, shorthand));\n\t    };\n\t    Parser.prototype.parseObjectPattern = function (params, kind) {\n\t        var node = this.createNode();\n\t        var properties = [];\n\t        this.expect('{');\n\t        while (!this.match('}')) {\n\t            properties.push(this.parsePropertyPattern(params, kind));\n\t            if (!this.match('}')) {\n\t                this.expect(',');\n\t            }\n\t        }\n\t        this.expect('}');\n\t        return this.finalize(node, new Node.ObjectPattern(properties));\n\t    };\n\t    Parser.prototype.parsePattern = function (params, kind) {\n\t        var pattern;\n\t        if (this.match('[')) {\n\t            pattern = this.parseArrayPattern(params, kind);\n\t        }\n\t        else if (this.match('{')) {\n\t            pattern = this.parseObjectPattern(params, kind);\n\t        }\n\t        else {\n\t            if (this.matchKeyword('let') && (kind === 'const' || kind === 'let')) {\n\t                this.tolerateUnexpectedToken(this.lookahead, messages_1.Messages.LetInLexicalBinding);\n\t            }\n\t            params.push(this.lookahead);\n\t            pattern = this.parseVariableIdentifier(kind);\n\t        }\n\t        return pattern;\n\t    };\n\t    Parser.prototype.parsePatternWithDefault = function (params, kind) {\n\t        var startToken = this.lookahead;\n\t        var pattern = this.parsePattern(params, kind);\n\t        if (this.match('=')) {\n\t            this.nextToken();\n\t            var previousAllowYield = this.context.allowYield;\n\t            this.context.allowYield = true;\n\t            var right = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t            this.context.allowYield = previousAllowYield;\n\t            pattern = this.finalize(this.startNode(startToken), new Node.AssignmentPattern(pattern, right));\n\t        }\n\t        return pattern;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-variable-statement\n\t    Parser.prototype.parseVariableIdentifier = function (kind) {\n\t        var node = this.createNode();\n\t        var token = this.nextToken();\n\t        if (token.type === 4 /* Keyword */ && token.value === 'yield') {\n\t            if (this.context.strict) {\n\t                this.tolerateUnexpectedToken(token, messages_1.Messages.StrictReservedWord);\n\t            }\n\t            else if (!this.context.allowYield) {\n\t                this.throwUnexpectedToken(token);\n\t            }\n\t        }\n\t        else if (token.type !== 3 /* Identifier */) {\n\t            if (this.context.strict && token.type === 4 /* Keyword */ && this.scanner.isStrictModeReservedWord(token.value)) {\n\t                this.tolerateUnexpectedToken(token, messages_1.Messages.StrictReservedWord);\n\t            }\n\t            else {\n\t                if (this.context.strict || token.value !== 'let' || kind !== 'var') {\n\t                    this.throwUnexpectedToken(token);\n\t                }\n\t            }\n\t        }\n\t        else if ((this.context.isModule || this.context.await) && token.type === 3 /* Identifier */ && token.value === 'await') {\n\t            this.tolerateUnexpectedToken(token);\n\t        }\n\t        return this.finalize(node, new Node.Identifier(token.value));\n\t    };\n\t    Parser.prototype.parseVariableDeclaration = function (options) {\n\t        var node = this.createNode();\n\t        var params = [];\n\t        var id = this.parsePattern(params, 'var');\n\t        if (this.context.strict && id.type === syntax_1.Syntax.Identifier) {\n\t            if (this.scanner.isRestrictedWord(id.name)) {\n\t                this.tolerateError(messages_1.Messages.StrictVarName);\n\t            }\n\t        }\n\t        var init = null;\n\t        if (this.match('=')) {\n\t            this.nextToken();\n\t            init = this.isolateCoverGrammar(this.parseAssignmentExpression);\n\t        }\n\t        else if (id.type !== syntax_1.Syntax.Identifier && !options.inFor) {\n\t            this.expect('=');\n\t        }\n\t        return this.finalize(node, new Node.VariableDeclarator(id, init));\n\t    };\n\t    Parser.prototype.parseVariableDeclarationList = function (options) {\n\t        var opt = { inFor: options.inFor };\n\t        var list = [];\n\t        list.push(this.parseVariableDeclaration(opt));\n\t        while (this.match(',')) {\n\t            this.nextToken();\n\t            list.push(this.parseVariableDeclaration(opt));\n\t        }\n\t        return list;\n\t    };\n\t    Parser.prototype.parseVariableStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('var');\n\t        var declarations = this.parseVariableDeclarationList({ inFor: false });\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.VariableDeclaration(declarations, 'var'));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-empty-statement\n\t    Parser.prototype.parseEmptyStatement = function () {\n\t        var node = this.createNode();\n\t        this.expect(';');\n\t        return this.finalize(node, new Node.EmptyStatement());\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-expression-statement\n\t    Parser.prototype.parseExpressionStatement = function () {\n\t        var node = this.createNode();\n\t        var expr = this.parseExpression();\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.ExpressionStatement(expr));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-if-statement\n\t    Parser.prototype.parseIfClause = function () {\n\t        if (this.context.strict && this.matchKeyword('function')) {\n\t            this.tolerateError(messages_1.Messages.StrictFunction);\n\t        }\n\t        return this.parseStatement();\n\t    };\n\t    Parser.prototype.parseIfStatement = function () {\n\t        var node = this.createNode();\n\t        var consequent;\n\t        var alternate = null;\n\t        this.expectKeyword('if');\n\t        this.expect('(');\n\t        var test = this.parseExpression();\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t            consequent = this.finalize(this.createNode(), new Node.EmptyStatement());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            consequent = this.parseIfClause();\n\t            if (this.matchKeyword('else')) {\n\t                this.nextToken();\n\t                alternate = this.parseIfClause();\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.IfStatement(test, consequent, alternate));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-do-while-statement\n\t    Parser.prototype.parseDoWhileStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('do');\n\t        var previousInIteration = this.context.inIteration;\n\t        this.context.inIteration = true;\n\t        var body = this.parseStatement();\n\t        this.context.inIteration = previousInIteration;\n\t        this.expectKeyword('while');\n\t        this.expect('(');\n\t        var test = this.parseExpression();\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            if (this.match(';')) {\n\t                this.nextToken();\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.DoWhileStatement(body, test));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-while-statement\n\t    Parser.prototype.parseWhileStatement = function () {\n\t        var node = this.createNode();\n\t        var body;\n\t        this.expectKeyword('while');\n\t        this.expect('(');\n\t        var test = this.parseExpression();\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t            body = this.finalize(this.createNode(), new Node.EmptyStatement());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            var previousInIteration = this.context.inIteration;\n\t            this.context.inIteration = true;\n\t            body = this.parseStatement();\n\t            this.context.inIteration = previousInIteration;\n\t        }\n\t        return this.finalize(node, new Node.WhileStatement(test, body));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-for-statement\n\t    // https://tc39.github.io/ecma262/#sec-for-in-and-for-of-statements\n\t    Parser.prototype.parseForStatement = function () {\n\t        var init = null;\n\t        var test = null;\n\t        var update = null;\n\t        var forIn = true;\n\t        var left, right;\n\t        var node = this.createNode();\n\t        this.expectKeyword('for');\n\t        this.expect('(');\n\t        if (this.match(';')) {\n\t            this.nextToken();\n\t        }\n\t        else {\n\t            if (this.matchKeyword('var')) {\n\t                init = this.createNode();\n\t                this.nextToken();\n\t                var previousAllowIn = this.context.allowIn;\n\t                this.context.allowIn = false;\n\t                var declarations = this.parseVariableDeclarationList({ inFor: true });\n\t                this.context.allowIn = previousAllowIn;\n\t                if (declarations.length === 1 && this.matchKeyword('in')) {\n\t                    var decl = declarations[0];\n\t                    if (decl.init && (decl.id.type === syntax_1.Syntax.ArrayPattern || decl.id.type === syntax_1.Syntax.ObjectPattern || this.context.strict)) {\n\t                        this.tolerateError(messages_1.Messages.ForInOfLoopInitializer, 'for-in');\n\t                    }\n\t                    init = this.finalize(init, new Node.VariableDeclaration(declarations, 'var'));\n\t                    this.nextToken();\n\t                    left = init;\n\t                    right = this.parseExpression();\n\t                    init = null;\n\t                }\n\t                else if (declarations.length === 1 && declarations[0].init === null && this.matchContextualKeyword('of')) {\n\t                    init = this.finalize(init, new Node.VariableDeclaration(declarations, 'var'));\n\t                    this.nextToken();\n\t                    left = init;\n\t                    right = this.parseAssignmentExpression();\n\t                    init = null;\n\t                    forIn = false;\n\t                }\n\t                else {\n\t                    init = this.finalize(init, new Node.VariableDeclaration(declarations, 'var'));\n\t                    this.expect(';');\n\t                }\n\t            }\n\t            else if (this.matchKeyword('const') || this.matchKeyword('let')) {\n\t                init = this.createNode();\n\t                var kind = this.nextToken().value;\n\t                if (!this.context.strict && this.lookahead.value === 'in') {\n\t                    init = this.finalize(init, new Node.Identifier(kind));\n\t                    this.nextToken();\n\t                    left = init;\n\t                    right = this.parseExpression();\n\t                    init = null;\n\t                }\n\t                else {\n\t                    var previousAllowIn = this.context.allowIn;\n\t                    this.context.allowIn = false;\n\t                    var declarations = this.parseBindingList(kind, { inFor: true });\n\t                    this.context.allowIn = previousAllowIn;\n\t                    if (declarations.length === 1 && declarations[0].init === null && this.matchKeyword('in')) {\n\t                        init = this.finalize(init, new Node.VariableDeclaration(declarations, kind));\n\t                        this.nextToken();\n\t                        left = init;\n\t                        right = this.parseExpression();\n\t                        init = null;\n\t                    }\n\t                    else if (declarations.length === 1 && declarations[0].init === null && this.matchContextualKeyword('of')) {\n\t                        init = this.finalize(init, new Node.VariableDeclaration(declarations, kind));\n\t                        this.nextToken();\n\t                        left = init;\n\t                        right = this.parseAssignmentExpression();\n\t                        init = null;\n\t                        forIn = false;\n\t                    }\n\t                    else {\n\t                        this.consumeSemicolon();\n\t                        init = this.finalize(init, new Node.VariableDeclaration(declarations, kind));\n\t                    }\n\t                }\n\t            }\n\t            else {\n\t                var initStartToken = this.lookahead;\n\t                var previousAllowIn = this.context.allowIn;\n\t                this.context.allowIn = false;\n\t                init = this.inheritCoverGrammar(this.parseAssignmentExpression);\n\t                this.context.allowIn = previousAllowIn;\n\t                if (this.matchKeyword('in')) {\n\t                    if (!this.context.isAssignmentTarget || init.type === syntax_1.Syntax.AssignmentExpression) {\n\t                        this.tolerateError(messages_1.Messages.InvalidLHSInForIn);\n\t                    }\n\t                    this.nextToken();\n\t                    this.reinterpretExpressionAsPattern(init);\n\t                    left = init;\n\t                    right = this.parseExpression();\n\t                    init = null;\n\t                }\n\t                else if (this.matchContextualKeyword('of')) {\n\t                    if (!this.context.isAssignmentTarget || init.type === syntax_1.Syntax.AssignmentExpression) {\n\t                        this.tolerateError(messages_1.Messages.InvalidLHSInForLoop);\n\t                    }\n\t                    this.nextToken();\n\t                    this.reinterpretExpressionAsPattern(init);\n\t                    left = init;\n\t                    right = this.parseAssignmentExpression();\n\t                    init = null;\n\t                    forIn = false;\n\t                }\n\t                else {\n\t                    if (this.match(',')) {\n\t                        var initSeq = [init];\n\t                        while (this.match(',')) {\n\t                            this.nextToken();\n\t                            initSeq.push(this.isolateCoverGrammar(this.parseAssignmentExpression));\n\t                        }\n\t                        init = this.finalize(this.startNode(initStartToken), new Node.SequenceExpression(initSeq));\n\t                    }\n\t                    this.expect(';');\n\t                }\n\t            }\n\t        }\n\t        if (typeof left === 'undefined') {\n\t            if (!this.match(';')) {\n\t                test = this.parseExpression();\n\t            }\n\t            this.expect(';');\n\t            if (!this.match(')')) {\n\t                update = this.parseExpression();\n\t            }\n\t        }\n\t        var body;\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t            body = this.finalize(this.createNode(), new Node.EmptyStatement());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            var previousInIteration = this.context.inIteration;\n\t            this.context.inIteration = true;\n\t            body = this.isolateCoverGrammar(this.parseStatement);\n\t            this.context.inIteration = previousInIteration;\n\t        }\n\t        return (typeof left === 'undefined') ?\n\t            this.finalize(node, new Node.ForStatement(init, test, update, body)) :\n\t            forIn ? this.finalize(node, new Node.ForInStatement(left, right, body)) :\n\t                this.finalize(node, new Node.ForOfStatement(left, right, body));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-continue-statement\n\t    Parser.prototype.parseContinueStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('continue');\n\t        var label = null;\n\t        if (this.lookahead.type === 3 /* Identifier */ && !this.hasLineTerminator) {\n\t            var id = this.parseVariableIdentifier();\n\t            label = id;\n\t            var key = '$' + id.name;\n\t            if (!Object.prototype.hasOwnProperty.call(this.context.labelSet, key)) {\n\t                this.throwError(messages_1.Messages.UnknownLabel, id.name);\n\t            }\n\t        }\n\t        this.consumeSemicolon();\n\t        if (label === null && !this.context.inIteration) {\n\t            this.throwError(messages_1.Messages.IllegalContinue);\n\t        }\n\t        return this.finalize(node, new Node.ContinueStatement(label));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-break-statement\n\t    Parser.prototype.parseBreakStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('break');\n\t        var label = null;\n\t        if (this.lookahead.type === 3 /* Identifier */ && !this.hasLineTerminator) {\n\t            var id = this.parseVariableIdentifier();\n\t            var key = '$' + id.name;\n\t            if (!Object.prototype.hasOwnProperty.call(this.context.labelSet, key)) {\n\t                this.throwError(messages_1.Messages.UnknownLabel, id.name);\n\t            }\n\t            label = id;\n\t        }\n\t        this.consumeSemicolon();\n\t        if (label === null && !this.context.inIteration && !this.context.inSwitch) {\n\t            this.throwError(messages_1.Messages.IllegalBreak);\n\t        }\n\t        return this.finalize(node, new Node.BreakStatement(label));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-return-statement\n\t    Parser.prototype.parseReturnStatement = function () {\n\t        if (!this.context.inFunctionBody) {\n\t            this.tolerateError(messages_1.Messages.IllegalReturn);\n\t        }\n\t        var node = this.createNode();\n\t        this.expectKeyword('return');\n\t        var hasArgument = (!this.match(';') && !this.match('}') &&\n\t            !this.hasLineTerminator && this.lookahead.type !== 2 /* EOF */) ||\n\t            this.lookahead.type === 8 /* StringLiteral */ ||\n\t            this.lookahead.type === 10 /* Template */;\n\t        var argument = hasArgument ? this.parseExpression() : null;\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.ReturnStatement(argument));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-with-statement\n\t    Parser.prototype.parseWithStatement = function () {\n\t        if (this.context.strict) {\n\t            this.tolerateError(messages_1.Messages.StrictModeWith);\n\t        }\n\t        var node = this.createNode();\n\t        var body;\n\t        this.expectKeyword('with');\n\t        this.expect('(');\n\t        var object = this.parseExpression();\n\t        if (!this.match(')') && this.config.tolerant) {\n\t            this.tolerateUnexpectedToken(this.nextToken());\n\t            body = this.finalize(this.createNode(), new Node.EmptyStatement());\n\t        }\n\t        else {\n\t            this.expect(')');\n\t            body = this.parseStatement();\n\t        }\n\t        return this.finalize(node, new Node.WithStatement(object, body));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-switch-statement\n\t    Parser.prototype.parseSwitchCase = function () {\n\t        var node = this.createNode();\n\t        var test;\n\t        if (this.matchKeyword('default')) {\n\t            this.nextToken();\n\t            test = null;\n\t        }\n\t        else {\n\t            this.expectKeyword('case');\n\t            test = this.parseExpression();\n\t        }\n\t        this.expect(':');\n\t        var consequent = [];\n\t        while (true) {\n\t            if (this.match('}') || this.matchKeyword('default') || this.matchKeyword('case')) {\n\t                break;\n\t            }\n\t            consequent.push(this.parseStatementListItem());\n\t        }\n\t        return this.finalize(node, new Node.SwitchCase(test, consequent));\n\t    };\n\t    Parser.prototype.parseSwitchStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('switch');\n\t        this.expect('(');\n\t        var discriminant = this.parseExpression();\n\t        this.expect(')');\n\t        var previousInSwitch = this.context.inSwitch;\n\t        this.context.inSwitch = true;\n\t        var cases = [];\n\t        var defaultFound = false;\n\t        this.expect('{');\n\t        while (true) {\n\t            if (this.match('}')) {\n\t                break;\n\t            }\n\t            var clause = this.parseSwitchCase();\n\t            if (clause.test === null) {\n\t                if (defaultFound) {\n\t                    this.throwError(messages_1.Messages.MultipleDefaultsInSwitch);\n\t                }\n\t                defaultFound = true;\n\t            }\n\t            cases.push(clause);\n\t        }\n\t        this.expect('}');\n\t        this.context.inSwitch = previousInSwitch;\n\t        return this.finalize(node, new Node.SwitchStatement(discriminant, cases));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-labelled-statements\n\t    Parser.prototype.parseLabelledStatement = function () {\n\t        var node = this.createNode();\n\t        var expr = this.parseExpression();\n\t        var statement;\n\t        if ((expr.type === syntax_1.Syntax.Identifier) && this.match(':')) {\n\t            this.nextToken();\n\t            var id = expr;\n\t            var key = '$' + id.name;\n\t            if (Object.prototype.hasOwnProperty.call(this.context.labelSet, key)) {\n\t                this.throwError(messages_1.Messages.Redeclaration, 'Label', id.name);\n\t            }\n\t            this.context.labelSet[key] = true;\n\t            var body = void 0;\n\t            if (this.matchKeyword('class')) {\n\t                this.tolerateUnexpectedToken(this.lookahead);\n\t                body = this.parseClassDeclaration();\n\t            }\n\t            else if (this.matchKeyword('function')) {\n\t                var token = this.lookahead;\n\t                var declaration = this.parseFunctionDeclaration();\n\t                if (this.context.strict) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.StrictFunction);\n\t                }\n\t                else if (declaration.generator) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.GeneratorInLegacyContext);\n\t                }\n\t                body = declaration;\n\t            }\n\t            else {\n\t                body = this.parseStatement();\n\t            }\n\t            delete this.context.labelSet[key];\n\t            statement = new Node.LabeledStatement(id, body);\n\t        }\n\t        else {\n\t            this.consumeSemicolon();\n\t            statement = new Node.ExpressionStatement(expr);\n\t        }\n\t        return this.finalize(node, statement);\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-throw-statement\n\t    Parser.prototype.parseThrowStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('throw');\n\t        if (this.hasLineTerminator) {\n\t            this.throwError(messages_1.Messages.NewlineAfterThrow);\n\t        }\n\t        var argument = this.parseExpression();\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.ThrowStatement(argument));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-try-statement\n\t    Parser.prototype.parseCatchClause = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('catch');\n\t        this.expect('(');\n\t        if (this.match(')')) {\n\t            this.throwUnexpectedToken(this.lookahead);\n\t        }\n\t        var params = [];\n\t        var param = this.parsePattern(params);\n\t        var paramMap = {};\n\t        for (var i = 0; i < params.length; i++) {\n\t            var key = '$' + params[i].value;\n\t            if (Object.prototype.hasOwnProperty.call(paramMap, key)) {\n\t                this.tolerateError(messages_1.Messages.DuplicateBinding, params[i].value);\n\t            }\n\t            paramMap[key] = true;\n\t        }\n\t        if (this.context.strict && param.type === syntax_1.Syntax.Identifier) {\n\t            if (this.scanner.isRestrictedWord(param.name)) {\n\t                this.tolerateError(messages_1.Messages.StrictCatchVariable);\n\t            }\n\t        }\n\t        this.expect(')');\n\t        var body = this.parseBlock();\n\t        return this.finalize(node, new Node.CatchClause(param, body));\n\t    };\n\t    Parser.prototype.parseFinallyClause = function () {\n\t        this.expectKeyword('finally');\n\t        return this.parseBlock();\n\t    };\n\t    Parser.prototype.parseTryStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('try');\n\t        var block = this.parseBlock();\n\t        var handler = this.matchKeyword('catch') ? this.parseCatchClause() : null;\n\t        var finalizer = this.matchKeyword('finally') ? this.parseFinallyClause() : null;\n\t        if (!handler && !finalizer) {\n\t            this.throwError(messages_1.Messages.NoCatchOrFinally);\n\t        }\n\t        return this.finalize(node, new Node.TryStatement(block, handler, finalizer));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-debugger-statement\n\t    Parser.prototype.parseDebuggerStatement = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('debugger');\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.DebuggerStatement());\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-ecmascript-language-statements-and-declarations\n\t    Parser.prototype.parseStatement = function () {\n\t        var statement;\n\t        switch (this.lookahead.type) {\n\t            case 1 /* BooleanLiteral */:\n\t            case 5 /* NullLiteral */:\n\t            case 6 /* NumericLiteral */:\n\t            case 8 /* StringLiteral */:\n\t            case 10 /* Template */:\n\t            case 9 /* RegularExpression */:\n\t                statement = this.parseExpressionStatement();\n\t                break;\n\t            case 7 /* Punctuator */:\n\t                var value = this.lookahead.value;\n\t                if (value === '{') {\n\t                    statement = this.parseBlock();\n\t                }\n\t                else if (value === '(') {\n\t                    statement = this.parseExpressionStatement();\n\t                }\n\t                else if (value === ';') {\n\t                    statement = this.parseEmptyStatement();\n\t                }\n\t                else {\n\t                    statement = this.parseExpressionStatement();\n\t                }\n\t                break;\n\t            case 3 /* Identifier */:\n\t                statement = this.matchAsyncFunction() ? this.parseFunctionDeclaration() : this.parseLabelledStatement();\n\t                break;\n\t            case 4 /* Keyword */:\n\t                switch (this.lookahead.value) {\n\t                    case 'break':\n\t                        statement = this.parseBreakStatement();\n\t                        break;\n\t                    case 'continue':\n\t                        statement = this.parseContinueStatement();\n\t                        break;\n\t                    case 'debugger':\n\t                        statement = this.parseDebuggerStatement();\n\t                        break;\n\t                    case 'do':\n\t                        statement = this.parseDoWhileStatement();\n\t                        break;\n\t                    case 'for':\n\t                        statement = this.parseForStatement();\n\t                        break;\n\t                    case 'function':\n\t                        statement = this.parseFunctionDeclaration();\n\t                        break;\n\t                    case 'if':\n\t                        statement = this.parseIfStatement();\n\t                        break;\n\t                    case 'return':\n\t                        statement = this.parseReturnStatement();\n\t                        break;\n\t                    case 'switch':\n\t                        statement = this.parseSwitchStatement();\n\t                        break;\n\t                    case 'throw':\n\t                        statement = this.parseThrowStatement();\n\t                        break;\n\t                    case 'try':\n\t                        statement = this.parseTryStatement();\n\t                        break;\n\t                    case 'var':\n\t                        statement = this.parseVariableStatement();\n\t                        break;\n\t                    case 'while':\n\t                        statement = this.parseWhileStatement();\n\t                        break;\n\t                    case 'with':\n\t                        statement = this.parseWithStatement();\n\t                        break;\n\t                    default:\n\t                        statement = this.parseExpressionStatement();\n\t                        break;\n\t                }\n\t                break;\n\t            default:\n\t                statement = this.throwUnexpectedToken(this.lookahead);\n\t        }\n\t        return statement;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-function-definitions\n\t    Parser.prototype.parseFunctionSourceElements = function () {\n\t        var node = this.createNode();\n\t        this.expect('{');\n\t        var body = this.parseDirectivePrologues();\n\t        var previousLabelSet = this.context.labelSet;\n\t        var previousInIteration = this.context.inIteration;\n\t        var previousInSwitch = this.context.inSwitch;\n\t        var previousInFunctionBody = this.context.inFunctionBody;\n\t        this.context.labelSet = {};\n\t        this.context.inIteration = false;\n\t        this.context.inSwitch = false;\n\t        this.context.inFunctionBody = true;\n\t        while (this.lookahead.type !== 2 /* EOF */) {\n\t            if (this.match('}')) {\n\t                break;\n\t            }\n\t            body.push(this.parseStatementListItem());\n\t        }\n\t        this.expect('}');\n\t        this.context.labelSet = previousLabelSet;\n\t        this.context.inIteration = previousInIteration;\n\t        this.context.inSwitch = previousInSwitch;\n\t        this.context.inFunctionBody = previousInFunctionBody;\n\t        return this.finalize(node, new Node.BlockStatement(body));\n\t    };\n\t    Parser.prototype.validateParam = function (options, param, name) {\n\t        var key = '$' + name;\n\t        if (this.context.strict) {\n\t            if (this.scanner.isRestrictedWord(name)) {\n\t                options.stricted = param;\n\t                options.message = messages_1.Messages.StrictParamName;\n\t            }\n\t            if (Object.prototype.hasOwnProperty.call(options.paramSet, key)) {\n\t                options.stricted = param;\n\t                options.message = messages_1.Messages.StrictParamDupe;\n\t            }\n\t        }\n\t        else if (!options.firstRestricted) {\n\t            if (this.scanner.isRestrictedWord(name)) {\n\t                options.firstRestricted = param;\n\t                options.message = messages_1.Messages.StrictParamName;\n\t            }\n\t            else if (this.scanner.isStrictModeReservedWord(name)) {\n\t                options.firstRestricted = param;\n\t                options.message = messages_1.Messages.StrictReservedWord;\n\t            }\n\t            else if (Object.prototype.hasOwnProperty.call(options.paramSet, key)) {\n\t                options.stricted = param;\n\t                options.message = messages_1.Messages.StrictParamDupe;\n\t            }\n\t        }\n\t        /* istanbul ignore next */\n\t        if (typeof Object.defineProperty === 'function') {\n\t            Object.defineProperty(options.paramSet, key, { value: true, enumerable: true, writable: true, configurable: true });\n\t        }\n\t        else {\n\t            options.paramSet[key] = true;\n\t        }\n\t    };\n\t    Parser.prototype.parseRestElement = function (params) {\n\t        var node = this.createNode();\n\t        this.expect('...');\n\t        var arg = this.parsePattern(params);\n\t        if (this.match('=')) {\n\t            this.throwError(messages_1.Messages.DefaultRestParameter);\n\t        }\n\t        if (!this.match(')')) {\n\t            this.throwError(messages_1.Messages.ParameterAfterRestParameter);\n\t        }\n\t        return this.finalize(node, new Node.RestElement(arg));\n\t    };\n\t    Parser.prototype.parseFormalParameter = function (options) {\n\t        var params = [];\n\t        var param = this.match('...') ? this.parseRestElement(params) : this.parsePatternWithDefault(params);\n\t        for (var i = 0; i < params.length; i++) {\n\t            this.validateParam(options, params[i], params[i].value);\n\t        }\n\t        options.simple = options.simple && (param instanceof Node.Identifier);\n\t        options.params.push(param);\n\t    };\n\t    Parser.prototype.parseFormalParameters = function (firstRestricted) {\n\t        var options;\n\t        options = {\n\t            simple: true,\n\t            params: [],\n\t            firstRestricted: firstRestricted\n\t        };\n\t        this.expect('(');\n\t        if (!this.match(')')) {\n\t            options.paramSet = {};\n\t            while (this.lookahead.type !== 2 /* EOF */) {\n\t                this.parseFormalParameter(options);\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t                this.expect(',');\n\t                if (this.match(')')) {\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        this.expect(')');\n\t        return {\n\t            simple: options.simple,\n\t            params: options.params,\n\t            stricted: options.stricted,\n\t            firstRestricted: options.firstRestricted,\n\t            message: options.message\n\t        };\n\t    };\n\t    Parser.prototype.matchAsyncFunction = function () {\n\t        var match = this.matchContextualKeyword('async');\n\t        if (match) {\n\t            var state = this.scanner.saveState();\n\t            this.scanner.scanComments();\n\t            var next = this.scanner.lex();\n\t            this.scanner.restoreState(state);\n\t            match = (state.lineNumber === next.lineNumber) && (next.type === 4 /* Keyword */) && (next.value === 'function');\n\t        }\n\t        return match;\n\t    };\n\t    Parser.prototype.parseFunctionDeclaration = function (identifierIsOptional) {\n\t        var node = this.createNode();\n\t        var isAsync = this.matchContextualKeyword('async');\n\t        if (isAsync) {\n\t            this.nextToken();\n\t        }\n\t        this.expectKeyword('function');\n\t        var isGenerator = isAsync ? false : this.match('*');\n\t        if (isGenerator) {\n\t            this.nextToken();\n\t        }\n\t        var message;\n\t        var id = null;\n\t        var firstRestricted = null;\n\t        if (!identifierIsOptional || !this.match('(')) {\n\t            var token = this.lookahead;\n\t            id = this.parseVariableIdentifier();\n\t            if (this.context.strict) {\n\t                if (this.scanner.isRestrictedWord(token.value)) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.StrictFunctionName);\n\t                }\n\t            }\n\t            else {\n\t                if (this.scanner.isRestrictedWord(token.value)) {\n\t                    firstRestricted = token;\n\t                    message = messages_1.Messages.StrictFunctionName;\n\t                }\n\t                else if (this.scanner.isStrictModeReservedWord(token.value)) {\n\t                    firstRestricted = token;\n\t                    message = messages_1.Messages.StrictReservedWord;\n\t                }\n\t            }\n\t        }\n\t        var previousAllowAwait = this.context.await;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.await = isAsync;\n\t        this.context.allowYield = !isGenerator;\n\t        var formalParameters = this.parseFormalParameters(firstRestricted);\n\t        var params = formalParameters.params;\n\t        var stricted = formalParameters.stricted;\n\t        firstRestricted = formalParameters.firstRestricted;\n\t        if (formalParameters.message) {\n\t            message = formalParameters.message;\n\t        }\n\t        var previousStrict = this.context.strict;\n\t        var previousAllowStrictDirective = this.context.allowStrictDirective;\n\t        this.context.allowStrictDirective = formalParameters.simple;\n\t        var body = this.parseFunctionSourceElements();\n\t        if (this.context.strict && firstRestricted) {\n\t            this.throwUnexpectedToken(firstRestricted, message);\n\t        }\n\t        if (this.context.strict && stricted) {\n\t            this.tolerateUnexpectedToken(stricted, message);\n\t        }\n\t        this.context.strict = previousStrict;\n\t        this.context.allowStrictDirective = previousAllowStrictDirective;\n\t        this.context.await = previousAllowAwait;\n\t        this.context.allowYield = previousAllowYield;\n\t        return isAsync ? this.finalize(node, new Node.AsyncFunctionDeclaration(id, params, body)) :\n\t            this.finalize(node, new Node.FunctionDeclaration(id, params, body, isGenerator));\n\t    };\n\t    Parser.prototype.parseFunctionExpression = function () {\n\t        var node = this.createNode();\n\t        var isAsync = this.matchContextualKeyword('async');\n\t        if (isAsync) {\n\t            this.nextToken();\n\t        }\n\t        this.expectKeyword('function');\n\t        var isGenerator = isAsync ? false : this.match('*');\n\t        if (isGenerator) {\n\t            this.nextToken();\n\t        }\n\t        var message;\n\t        var id = null;\n\t        var firstRestricted;\n\t        var previousAllowAwait = this.context.await;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.await = isAsync;\n\t        this.context.allowYield = !isGenerator;\n\t        if (!this.match('(')) {\n\t            var token = this.lookahead;\n\t            id = (!this.context.strict && !isGenerator && this.matchKeyword('yield')) ? this.parseIdentifierName() : this.parseVariableIdentifier();\n\t            if (this.context.strict) {\n\t                if (this.scanner.isRestrictedWord(token.value)) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.StrictFunctionName);\n\t                }\n\t            }\n\t            else {\n\t                if (this.scanner.isRestrictedWord(token.value)) {\n\t                    firstRestricted = token;\n\t                    message = messages_1.Messages.StrictFunctionName;\n\t                }\n\t                else if (this.scanner.isStrictModeReservedWord(token.value)) {\n\t                    firstRestricted = token;\n\t                    message = messages_1.Messages.StrictReservedWord;\n\t                }\n\t            }\n\t        }\n\t        var formalParameters = this.parseFormalParameters(firstRestricted);\n\t        var params = formalParameters.params;\n\t        var stricted = formalParameters.stricted;\n\t        firstRestricted = formalParameters.firstRestricted;\n\t        if (formalParameters.message) {\n\t            message = formalParameters.message;\n\t        }\n\t        var previousStrict = this.context.strict;\n\t        var previousAllowStrictDirective = this.context.allowStrictDirective;\n\t        this.context.allowStrictDirective = formalParameters.simple;\n\t        var body = this.parseFunctionSourceElements();\n\t        if (this.context.strict && firstRestricted) {\n\t            this.throwUnexpectedToken(firstRestricted, message);\n\t        }\n\t        if (this.context.strict && stricted) {\n\t            this.tolerateUnexpectedToken(stricted, message);\n\t        }\n\t        this.context.strict = previousStrict;\n\t        this.context.allowStrictDirective = previousAllowStrictDirective;\n\t        this.context.await = previousAllowAwait;\n\t        this.context.allowYield = previousAllowYield;\n\t        return isAsync ? this.finalize(node, new Node.AsyncFunctionExpression(id, params, body)) :\n\t            this.finalize(node, new Node.FunctionExpression(id, params, body, isGenerator));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-directive-prologues-and-the-use-strict-directive\n\t    Parser.prototype.parseDirective = function () {\n\t        var token = this.lookahead;\n\t        var node = this.createNode();\n\t        var expr = this.parseExpression();\n\t        var directive = (expr.type === syntax_1.Syntax.Literal) ? this.getTokenRaw(token).slice(1, -1) : null;\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, directive ? new Node.Directive(expr, directive) : new Node.ExpressionStatement(expr));\n\t    };\n\t    Parser.prototype.parseDirectivePrologues = function () {\n\t        var firstRestricted = null;\n\t        var body = [];\n\t        while (true) {\n\t            var token = this.lookahead;\n\t            if (token.type !== 8 /* StringLiteral */) {\n\t                break;\n\t            }\n\t            var statement = this.parseDirective();\n\t            body.push(statement);\n\t            var directive = statement.directive;\n\t            if (typeof directive !== 'string') {\n\t                break;\n\t            }\n\t            if (directive === 'use strict') {\n\t                this.context.strict = true;\n\t                if (firstRestricted) {\n\t                    this.tolerateUnexpectedToken(firstRestricted, messages_1.Messages.StrictOctalLiteral);\n\t                }\n\t                if (!this.context.allowStrictDirective) {\n\t                    this.tolerateUnexpectedToken(token, messages_1.Messages.IllegalLanguageModeDirective);\n\t                }\n\t            }\n\t            else {\n\t                if (!firstRestricted && token.octal) {\n\t                    firstRestricted = token;\n\t                }\n\t            }\n\t        }\n\t        return body;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-method-definitions\n\t    Parser.prototype.qualifiedPropertyName = function (token) {\n\t        switch (token.type) {\n\t            case 3 /* Identifier */:\n\t            case 8 /* StringLiteral */:\n\t            case 1 /* BooleanLiteral */:\n\t            case 5 /* NullLiteral */:\n\t            case 6 /* NumericLiteral */:\n\t            case 4 /* Keyword */:\n\t                return true;\n\t            case 7 /* Punctuator */:\n\t                return token.value === '[';\n\t            default:\n\t                break;\n\t        }\n\t        return false;\n\t    };\n\t    Parser.prototype.parseGetterMethod = function () {\n\t        var node = this.createNode();\n\t        var isGenerator = false;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.allowYield = !isGenerator;\n\t        var formalParameters = this.parseFormalParameters();\n\t        if (formalParameters.params.length > 0) {\n\t            this.tolerateError(messages_1.Messages.BadGetterArity);\n\t        }\n\t        var method = this.parsePropertyMethod(formalParameters);\n\t        this.context.allowYield = previousAllowYield;\n\t        return this.finalize(node, new Node.FunctionExpression(null, formalParameters.params, method, isGenerator));\n\t    };\n\t    Parser.prototype.parseSetterMethod = function () {\n\t        var node = this.createNode();\n\t        var isGenerator = false;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.allowYield = !isGenerator;\n\t        var formalParameters = this.parseFormalParameters();\n\t        if (formalParameters.params.length !== 1) {\n\t            this.tolerateError(messages_1.Messages.BadSetterArity);\n\t        }\n\t        else if (formalParameters.params[0] instanceof Node.RestElement) {\n\t            this.tolerateError(messages_1.Messages.BadSetterRestParameter);\n\t        }\n\t        var method = this.parsePropertyMethod(formalParameters);\n\t        this.context.allowYield = previousAllowYield;\n\t        return this.finalize(node, new Node.FunctionExpression(null, formalParameters.params, method, isGenerator));\n\t    };\n\t    Parser.prototype.parseGeneratorMethod = function () {\n\t        var node = this.createNode();\n\t        var isGenerator = true;\n\t        var previousAllowYield = this.context.allowYield;\n\t        this.context.allowYield = true;\n\t        var params = this.parseFormalParameters();\n\t        this.context.allowYield = false;\n\t        var method = this.parsePropertyMethod(params);\n\t        this.context.allowYield = previousAllowYield;\n\t        return this.finalize(node, new Node.FunctionExpression(null, params.params, method, isGenerator));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-generator-function-definitions\n\t    Parser.prototype.isStartOfExpression = function () {\n\t        var start = true;\n\t        var value = this.lookahead.value;\n\t        switch (this.lookahead.type) {\n\t            case 7 /* Punctuator */:\n\t                start = (value === '[') || (value === '(') || (value === '{') ||\n\t                    (value === '+') || (value === '-') ||\n\t                    (value === '!') || (value === '~') ||\n\t                    (value === '++') || (value === '--') ||\n\t                    (value === '/') || (value === '/='); // regular expression literal\n\t                break;\n\t            case 4 /* Keyword */:\n\t                start = (value === 'class') || (value === 'delete') ||\n\t                    (value === 'function') || (value === 'let') || (value === 'new') ||\n\t                    (value === 'super') || (value === 'this') || (value === 'typeof') ||\n\t                    (value === 'void') || (value === 'yield');\n\t                break;\n\t            default:\n\t                break;\n\t        }\n\t        return start;\n\t    };\n\t    Parser.prototype.parseYieldExpression = function () {\n\t        var node = this.createNode();\n\t        this.expectKeyword('yield');\n\t        var argument = null;\n\t        var delegate = false;\n\t        if (!this.hasLineTerminator) {\n\t            var previousAllowYield = this.context.allowYield;\n\t            this.context.allowYield = false;\n\t            delegate = this.match('*');\n\t            if (delegate) {\n\t                this.nextToken();\n\t                argument = this.parseAssignmentExpression();\n\t            }\n\t            else if (this.isStartOfExpression()) {\n\t                argument = this.parseAssignmentExpression();\n\t            }\n\t            this.context.allowYield = previousAllowYield;\n\t        }\n\t        return this.finalize(node, new Node.YieldExpression(argument, delegate));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-class-definitions\n\t    Parser.prototype.parseClassElement = function (hasConstructor) {\n\t        var token = this.lookahead;\n\t        var node = this.createNode();\n\t        var kind = '';\n\t        var key = null;\n\t        var value = null;\n\t        var computed = false;\n\t        var method = false;\n\t        var isStatic = false;\n\t        var isAsync = false;\n\t        if (this.match('*')) {\n\t            this.nextToken();\n\t        }\n\t        else {\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            var id = key;\n\t            if (id.name === 'static' && (this.qualifiedPropertyName(this.lookahead) || this.match('*'))) {\n\t                token = this.lookahead;\n\t                isStatic = true;\n\t                computed = this.match('[');\n\t                if (this.match('*')) {\n\t                    this.nextToken();\n\t                }\n\t                else {\n\t                    key = this.parseObjectPropertyKey();\n\t                }\n\t            }\n\t            if ((token.type === 3 /* Identifier */) && !this.hasLineTerminator && (token.value === 'async')) {\n\t                var punctuator = this.lookahead.value;\n\t                if (punctuator !== ':' && punctuator !== '(' && punctuator !== '*') {\n\t                    isAsync = true;\n\t                    token = this.lookahead;\n\t                    key = this.parseObjectPropertyKey();\n\t                    if (token.type === 3 /* Identifier */ && token.value === 'constructor') {\n\t                        this.tolerateUnexpectedToken(token, messages_1.Messages.ConstructorIsAsync);\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        var lookaheadPropertyKey = this.qualifiedPropertyName(this.lookahead);\n\t        if (token.type === 3 /* Identifier */) {\n\t            if (token.value === 'get' && lookaheadPropertyKey) {\n\t                kind = 'get';\n\t                computed = this.match('[');\n\t                key = this.parseObjectPropertyKey();\n\t                this.context.allowYield = false;\n\t                value = this.parseGetterMethod();\n\t            }\n\t            else if (token.value === 'set' && lookaheadPropertyKey) {\n\t                kind = 'set';\n\t                computed = this.match('[');\n\t                key = this.parseObjectPropertyKey();\n\t                value = this.parseSetterMethod();\n\t            }\n\t        }\n\t        else if (token.type === 7 /* Punctuator */ && token.value === '*' && lookaheadPropertyKey) {\n\t            kind = 'init';\n\t            computed = this.match('[');\n\t            key = this.parseObjectPropertyKey();\n\t            value = this.parseGeneratorMethod();\n\t            method = true;\n\t        }\n\t        if (!kind && key && this.match('(')) {\n\t            kind = 'init';\n\t            value = isAsync ? this.parsePropertyMethodAsyncFunction() : this.parsePropertyMethodFunction();\n\t            method = true;\n\t        }\n\t        if (!kind) {\n\t            this.throwUnexpectedToken(this.lookahead);\n\t        }\n\t        if (kind === 'init') {\n\t            kind = 'method';\n\t        }\n\t        if (!computed) {\n\t            if (isStatic && this.isPropertyKey(key, 'prototype')) {\n\t                this.throwUnexpectedToken(token, messages_1.Messages.StaticPrototype);\n\t            }\n\t            if (!isStatic && this.isPropertyKey(key, 'constructor')) {\n\t                if (kind !== 'method' || !method || (value && value.generator)) {\n\t                    this.throwUnexpectedToken(token, messages_1.Messages.ConstructorSpecialMethod);\n\t                }\n\t                if (hasConstructor.value) {\n\t                    this.throwUnexpectedToken(token, messages_1.Messages.DuplicateConstructor);\n\t                }\n\t                else {\n\t                    hasConstructor.value = true;\n\t                }\n\t                kind = 'constructor';\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.MethodDefinition(key, computed, value, kind, isStatic));\n\t    };\n\t    Parser.prototype.parseClassElementList = function () {\n\t        var body = [];\n\t        var hasConstructor = { value: false };\n\t        this.expect('{');\n\t        while (!this.match('}')) {\n\t            if (this.match(';')) {\n\t                this.nextToken();\n\t            }\n\t            else {\n\t                body.push(this.parseClassElement(hasConstructor));\n\t            }\n\t        }\n\t        this.expect('}');\n\t        return body;\n\t    };\n\t    Parser.prototype.parseClassBody = function () {\n\t        var node = this.createNode();\n\t        var elementList = this.parseClassElementList();\n\t        return this.finalize(node, new Node.ClassBody(elementList));\n\t    };\n\t    Parser.prototype.parseClassDeclaration = function (identifierIsOptional) {\n\t        var node = this.createNode();\n\t        var previousStrict = this.context.strict;\n\t        this.context.strict = true;\n\t        this.expectKeyword('class');\n\t        var id = (identifierIsOptional && (this.lookahead.type !== 3 /* Identifier */)) ? null : this.parseVariableIdentifier();\n\t        var superClass = null;\n\t        if (this.matchKeyword('extends')) {\n\t            this.nextToken();\n\t            superClass = this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall);\n\t        }\n\t        var classBody = this.parseClassBody();\n\t        this.context.strict = previousStrict;\n\t        return this.finalize(node, new Node.ClassDeclaration(id, superClass, classBody));\n\t    };\n\t    Parser.prototype.parseClassExpression = function () {\n\t        var node = this.createNode();\n\t        var previousStrict = this.context.strict;\n\t        this.context.strict = true;\n\t        this.expectKeyword('class');\n\t        var id = (this.lookahead.type === 3 /* Identifier */) ? this.parseVariableIdentifier() : null;\n\t        var superClass = null;\n\t        if (this.matchKeyword('extends')) {\n\t            this.nextToken();\n\t            superClass = this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall);\n\t        }\n\t        var classBody = this.parseClassBody();\n\t        this.context.strict = previousStrict;\n\t        return this.finalize(node, new Node.ClassExpression(id, superClass, classBody));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-scripts\n\t    // https://tc39.github.io/ecma262/#sec-modules\n\t    Parser.prototype.parseModule = function () {\n\t        this.context.strict = true;\n\t        this.context.isModule = true;\n\t        this.scanner.isModule = true;\n\t        var node = this.createNode();\n\t        var body = this.parseDirectivePrologues();\n\t        while (this.lookahead.type !== 2 /* EOF */) {\n\t            body.push(this.parseStatementListItem());\n\t        }\n\t        return this.finalize(node, new Node.Module(body));\n\t    };\n\t    Parser.prototype.parseScript = function () {\n\t        var node = this.createNode();\n\t        var body = this.parseDirectivePrologues();\n\t        while (this.lookahead.type !== 2 /* EOF */) {\n\t            body.push(this.parseStatementListItem());\n\t        }\n\t        return this.finalize(node, new Node.Script(body));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-imports\n\t    Parser.prototype.parseModuleSpecifier = function () {\n\t        var node = this.createNode();\n\t        if (this.lookahead.type !== 8 /* StringLiteral */) {\n\t            this.throwError(messages_1.Messages.InvalidModuleSpecifier);\n\t        }\n\t        var token = this.nextToken();\n\t        var raw = this.getTokenRaw(token);\n\t        return this.finalize(node, new Node.Literal(token.value, raw));\n\t    };\n\t    // import {<foo as bar>} ...;\n\t    Parser.prototype.parseImportSpecifier = function () {\n\t        var node = this.createNode();\n\t        var imported;\n\t        var local;\n\t        if (this.lookahead.type === 3 /* Identifier */) {\n\t            imported = this.parseVariableIdentifier();\n\t            local = imported;\n\t            if (this.matchContextualKeyword('as')) {\n\t                this.nextToken();\n\t                local = this.parseVariableIdentifier();\n\t            }\n\t        }\n\t        else {\n\t            imported = this.parseIdentifierName();\n\t            local = imported;\n\t            if (this.matchContextualKeyword('as')) {\n\t                this.nextToken();\n\t                local = this.parseVariableIdentifier();\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken(this.nextToken());\n\t            }\n\t        }\n\t        return this.finalize(node, new Node.ImportSpecifier(local, imported));\n\t    };\n\t    // {foo, bar as bas}\n\t    Parser.prototype.parseNamedImports = function () {\n\t        this.expect('{');\n\t        var specifiers = [];\n\t        while (!this.match('}')) {\n\t            specifiers.push(this.parseImportSpecifier());\n\t            if (!this.match('}')) {\n\t                this.expect(',');\n\t            }\n\t        }\n\t        this.expect('}');\n\t        return specifiers;\n\t    };\n\t    // import <foo> ...;\n\t    Parser.prototype.parseImportDefaultSpecifier = function () {\n\t        var node = this.createNode();\n\t        var local = this.parseIdentifierName();\n\t        return this.finalize(node, new Node.ImportDefaultSpecifier(local));\n\t    };\n\t    // import <* as foo> ...;\n\t    Parser.prototype.parseImportNamespaceSpecifier = function () {\n\t        var node = this.createNode();\n\t        this.expect('*');\n\t        if (!this.matchContextualKeyword('as')) {\n\t            this.throwError(messages_1.Messages.NoAsAfterImportNamespace);\n\t        }\n\t        this.nextToken();\n\t        var local = this.parseIdentifierName();\n\t        return this.finalize(node, new Node.ImportNamespaceSpecifier(local));\n\t    };\n\t    Parser.prototype.parseImportDeclaration = function () {\n\t        if (this.context.inFunctionBody) {\n\t            this.throwError(messages_1.Messages.IllegalImportDeclaration);\n\t        }\n\t        var node = this.createNode();\n\t        this.expectKeyword('import');\n\t        var src;\n\t        var specifiers = [];\n\t        if (this.lookahead.type === 8 /* StringLiteral */) {\n\t            // import 'foo';\n\t            src = this.parseModuleSpecifier();\n\t        }\n\t        else {\n\t            if (this.match('{')) {\n\t                // import {bar}\n\t                specifiers = specifiers.concat(this.parseNamedImports());\n\t            }\n\t            else if (this.match('*')) {\n\t                // import * as foo\n\t                specifiers.push(this.parseImportNamespaceSpecifier());\n\t            }\n\t            else if (this.isIdentifierName(this.lookahead) && !this.matchKeyword('default')) {\n\t                // import foo\n\t                specifiers.push(this.parseImportDefaultSpecifier());\n\t                if (this.match(',')) {\n\t                    this.nextToken();\n\t                    if (this.match('*')) {\n\t                        // import foo, * as foo\n\t                        specifiers.push(this.parseImportNamespaceSpecifier());\n\t                    }\n\t                    else if (this.match('{')) {\n\t                        // import foo, {bar}\n\t                        specifiers = specifiers.concat(this.parseNamedImports());\n\t                    }\n\t                    else {\n\t                        this.throwUnexpectedToken(this.lookahead);\n\t                    }\n\t                }\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken(this.nextToken());\n\t            }\n\t            if (!this.matchContextualKeyword('from')) {\n\t                var message = this.lookahead.value ? messages_1.Messages.UnexpectedToken : messages_1.Messages.MissingFromClause;\n\t                this.throwError(message, this.lookahead.value);\n\t            }\n\t            this.nextToken();\n\t            src = this.parseModuleSpecifier();\n\t        }\n\t        this.consumeSemicolon();\n\t        return this.finalize(node, new Node.ImportDeclaration(specifiers, src));\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-exports\n\t    Parser.prototype.parseExportSpecifier = function () {\n\t        var node = this.createNode();\n\t        var local = this.parseIdentifierName();\n\t        var exported = local;\n\t        if (this.matchContextualKeyword('as')) {\n\t            this.nextToken();\n\t            exported = this.parseIdentifierName();\n\t        }\n\t        return this.finalize(node, new Node.ExportSpecifier(local, exported));\n\t    };\n\t    Parser.prototype.parseExportDeclaration = function () {\n\t        if (this.context.inFunctionBody) {\n\t            this.throwError(messages_1.Messages.IllegalExportDeclaration);\n\t        }\n\t        var node = this.createNode();\n\t        this.expectKeyword('export');\n\t        var exportDeclaration;\n\t        if (this.matchKeyword('default')) {\n\t            // export default ...\n\t            this.nextToken();\n\t            if (this.matchKeyword('function')) {\n\t                // export default function foo () {}\n\t                // export default function () {}\n\t                var declaration = this.parseFunctionDeclaration(true);\n\t                exportDeclaration = this.finalize(node, new Node.ExportDefaultDeclaration(declaration));\n\t            }\n\t            else if (this.matchKeyword('class')) {\n\t                // export default class foo {}\n\t                var declaration = this.parseClassDeclaration(true);\n\t                exportDeclaration = this.finalize(node, new Node.ExportDefaultDeclaration(declaration));\n\t            }\n\t            else if (this.matchContextualKeyword('async')) {\n\t                // export default async function f () {}\n\t                // export default async function () {}\n\t                // export default async x => x\n\t                var declaration = this.matchAsyncFunction() ? this.parseFunctionDeclaration(true) : this.parseAssignmentExpression();\n\t                exportDeclaration = this.finalize(node, new Node.ExportDefaultDeclaration(declaration));\n\t            }\n\t            else {\n\t                if (this.matchContextualKeyword('from')) {\n\t                    this.throwError(messages_1.Messages.UnexpectedToken, this.lookahead.value);\n\t                }\n\t                // export default {};\n\t                // export default [];\n\t                // export default (1 + 2);\n\t                var declaration = this.match('{') ? this.parseObjectInitializer() :\n\t                    this.match('[') ? this.parseArrayInitializer() : this.parseAssignmentExpression();\n\t                this.consumeSemicolon();\n\t                exportDeclaration = this.finalize(node, new Node.ExportDefaultDeclaration(declaration));\n\t            }\n\t        }\n\t        else if (this.match('*')) {\n\t            // export * from 'foo';\n\t            this.nextToken();\n\t            if (!this.matchContextualKeyword('from')) {\n\t                var message = this.lookahead.value ? messages_1.Messages.UnexpectedToken : messages_1.Messages.MissingFromClause;\n\t                this.throwError(message, this.lookahead.value);\n\t            }\n\t            this.nextToken();\n\t            var src = this.parseModuleSpecifier();\n\t            this.consumeSemicolon();\n\t            exportDeclaration = this.finalize(node, new Node.ExportAllDeclaration(src));\n\t        }\n\t        else if (this.lookahead.type === 4 /* Keyword */) {\n\t            // export var f = 1;\n\t            var declaration = void 0;\n\t            switch (this.lookahead.value) {\n\t                case 'let':\n\t                case 'const':\n\t                    declaration = this.parseLexicalDeclaration({ inFor: false });\n\t                    break;\n\t                case 'var':\n\t                case 'class':\n\t                case 'function':\n\t                    declaration = this.parseStatementListItem();\n\t                    break;\n\t                default:\n\t                    this.throwUnexpectedToken(this.lookahead);\n\t            }\n\t            exportDeclaration = this.finalize(node, new Node.ExportNamedDeclaration(declaration, [], null));\n\t        }\n\t        else if (this.matchAsyncFunction()) {\n\t            var declaration = this.parseFunctionDeclaration();\n\t            exportDeclaration = this.finalize(node, new Node.ExportNamedDeclaration(declaration, [], null));\n\t        }\n\t        else {\n\t            var specifiers = [];\n\t            var source = null;\n\t            var isExportFromIdentifier = false;\n\t            this.expect('{');\n\t            while (!this.match('}')) {\n\t                isExportFromIdentifier = isExportFromIdentifier || this.matchKeyword('default');\n\t                specifiers.push(this.parseExportSpecifier());\n\t                if (!this.match('}')) {\n\t                    this.expect(',');\n\t                }\n\t            }\n\t            this.expect('}');\n\t            if (this.matchContextualKeyword('from')) {\n\t                // export {default} from 'foo';\n\t                // export {foo} from 'foo';\n\t                this.nextToken();\n\t                source = this.parseModuleSpecifier();\n\t                this.consumeSemicolon();\n\t            }\n\t            else if (isExportFromIdentifier) {\n\t                // export {default}; // missing fromClause\n\t                var message = this.lookahead.value ? messages_1.Messages.UnexpectedToken : messages_1.Messages.MissingFromClause;\n\t                this.throwError(message, this.lookahead.value);\n\t            }\n\t            else {\n\t                // export {foo};\n\t                this.consumeSemicolon();\n\t            }\n\t            exportDeclaration = this.finalize(node, new Node.ExportNamedDeclaration(null, specifiers, source));\n\t        }\n\t        return exportDeclaration;\n\t    };\n\t    return Parser;\n\t}());\n\texports.Parser = Parser;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t// Ensure the condition is true, otherwise throw an error.\n\t// This is only to have a better contract semantic, i.e. another safety net\n\t// to catch a logic error. The condition shall be fulfilled in normal case.\n\t// Do NOT use this to enforce a certain condition on any user input.\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tfunction assert(condition, message) {\n\t    /* istanbul ignore if */\n\t    if (!condition) {\n\t        throw new Error('ASSERT: ' + message);\n\t    }\n\t}\n\texports.assert = assert;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t/* tslint:disable:max-classes-per-file */\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar ErrorHandler = (function () {\n\t    function ErrorHandler() {\n\t        this.errors = [];\n\t        this.tolerant = false;\n\t    }\n\t    ErrorHandler.prototype.recordError = function (error) {\n\t        this.errors.push(error);\n\t    };\n\t    ErrorHandler.prototype.tolerate = function (error) {\n\t        if (this.tolerant) {\n\t            this.recordError(error);\n\t        }\n\t        else {\n\t            throw error;\n\t        }\n\t    };\n\t    ErrorHandler.prototype.constructError = function (msg, column) {\n\t        var error = new Error(msg);\n\t        try {\n\t            throw error;\n\t        }\n\t        catch (base) {\n\t            /* istanbul ignore else */\n\t            if (Object.create && Object.defineProperty) {\n\t                error = Object.create(base);\n\t                Object.defineProperty(error, 'column', { value: column });\n\t            }\n\t        }\n\t        /* istanbul ignore next */\n\t        return error;\n\t    };\n\t    ErrorHandler.prototype.createError = function (index, line, col, description) {\n\t        var msg = 'Line ' + line + ': ' + description;\n\t        var error = this.constructError(msg, col);\n\t        error.index = index;\n\t        error.lineNumber = line;\n\t        error.description = description;\n\t        return error;\n\t    };\n\t    ErrorHandler.prototype.throwError = function (index, line, col, description) {\n\t        throw this.createError(index, line, col, description);\n\t    };\n\t    ErrorHandler.prototype.tolerateError = function (index, line, col, description) {\n\t        var error = this.createError(index, line, col, description);\n\t        if (this.tolerant) {\n\t            this.recordError(error);\n\t        }\n\t        else {\n\t            throw error;\n\t        }\n\t    };\n\t    return ErrorHandler;\n\t}());\n\texports.ErrorHandler = ErrorHandler;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\t// Error messages should be identical to V8.\n\texports.Messages = {\n\t    BadGetterArity: 'Getter must not have any formal parameters',\n\t    BadSetterArity: 'Setter must have exactly one formal parameter',\n\t    BadSetterRestParameter: 'Setter function argument must not be a rest parameter',\n\t    ConstructorIsAsync: 'Class constructor may not be an async method',\n\t    ConstructorSpecialMethod: 'Class constructor may not be an accessor',\n\t    DeclarationMissingInitializer: 'Missing initializer in %0 declaration',\n\t    DefaultRestParameter: 'Unexpected token =',\n\t    DuplicateBinding: 'Duplicate binding %0',\n\t    DuplicateConstructor: 'A class may only have one constructor',\n\t    DuplicateProtoProperty: 'Duplicate __proto__ fields are not allowed in object literals',\n\t    ForInOfLoopInitializer: '%0 loop variable declaration may not have an initializer',\n\t    GeneratorInLegacyContext: 'Generator declarations are not allowed in legacy contexts',\n\t    IllegalBreak: 'Illegal break statement',\n\t    IllegalContinue: 'Illegal continue statement',\n\t    IllegalExportDeclaration: 'Unexpected token',\n\t    IllegalImportDeclaration: 'Unexpected token',\n\t    IllegalLanguageModeDirective: 'Illegal \\'use strict\\' directive in function with non-simple parameter list',\n\t    IllegalReturn: 'Illegal return statement',\n\t    InvalidEscapedReservedWord: 'Keyword must not contain escaped characters',\n\t    InvalidHexEscapeSequence: 'Invalid hexadecimal escape sequence',\n\t    InvalidLHSInAssignment: 'Invalid left-hand side in assignment',\n\t    InvalidLHSInForIn: 'Invalid left-hand side in for-in',\n\t    InvalidLHSInForLoop: 'Invalid left-hand side in for-loop',\n\t    InvalidModuleSpecifier: 'Unexpected token',\n\t    InvalidRegExp: 'Invalid regular expression',\n\t    LetInLexicalBinding: 'let is disallowed as a lexically bound name',\n\t    MissingFromClause: 'Unexpected token',\n\t    MultipleDefaultsInSwitch: 'More than one default clause in switch statement',\n\t    NewlineAfterThrow: 'Illegal newline after throw',\n\t    NoAsAfterImportNamespace: 'Unexpected token',\n\t    NoCatchOrFinally: 'Missing catch or finally after try',\n\t    ParameterAfterRestParameter: 'Rest parameter must be last formal parameter',\n\t    Redeclaration: '%0 \\'%1\\' has already been declared',\n\t    StaticPrototype: 'Classes may not have static property named prototype',\n\t    StrictCatchVariable: 'Catch variable may not be eval or arguments in strict mode',\n\t    StrictDelete: 'Delete of an unqualified identifier in strict mode.',\n\t    StrictFunction: 'In strict mode code, functions can only be declared at top level or inside a block',\n\t    StrictFunctionName: 'Function name may not be eval or arguments in strict mode',\n\t    StrictLHSAssignment: 'Assignment to eval or arguments is not allowed in strict mode',\n\t    StrictLHSPostfix: 'Postfix increment/decrement may not have eval or arguments operand in strict mode',\n\t    StrictLHSPrefix: 'Prefix increment/decrement may not have eval or arguments operand in strict mode',\n\t    StrictModeWith: 'Strict mode code may not include a with statement',\n\t    StrictOctalLiteral: 'Octal literals are not allowed in strict mode.',\n\t    StrictParamDupe: 'Strict mode function may not have duplicate parameter names',\n\t    StrictParamName: 'Parameter name eval or arguments is not allowed in strict mode',\n\t    StrictReservedWord: 'Use of future reserved word in strict mode',\n\t    StrictVarName: 'Variable name may not be eval or arguments in strict mode',\n\t    TemplateOctalLiteral: 'Octal literals are not allowed in template strings.',\n\t    UnexpectedEOS: 'Unexpected end of input',\n\t    UnexpectedIdentifier: 'Unexpected identifier',\n\t    UnexpectedNumber: 'Unexpected number',\n\t    UnexpectedReserved: 'Unexpected reserved word',\n\t    UnexpectedString: 'Unexpected string',\n\t    UnexpectedTemplate: 'Unexpected quasi %0',\n\t    UnexpectedToken: 'Unexpected token %0',\n\t    UnexpectedTokenIllegal: 'Unexpected token ILLEGAL',\n\t    UnknownLabel: 'Undefined label \\'%0\\'',\n\t    UnterminatedRegExp: 'Invalid regular expression: missing /'\n\t};\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar assert_1 = __webpack_require__(9);\n\tvar character_1 = __webpack_require__(4);\n\tvar messages_1 = __webpack_require__(11);\n\tfunction hexValue(ch) {\n\t    return '0123456789abcdef'.indexOf(ch.toLowerCase());\n\t}\n\tfunction octalValue(ch) {\n\t    return '01234567'.indexOf(ch);\n\t}\n\tvar Scanner = (function () {\n\t    function Scanner(code, handler) {\n\t        this.source = code;\n\t        this.errorHandler = handler;\n\t        this.trackComment = false;\n\t        this.isModule = false;\n\t        this.length = code.length;\n\t        this.index = 0;\n\t        this.lineNumber = (code.length > 0) ? 1 : 0;\n\t        this.lineStart = 0;\n\t        this.curlyStack = [];\n\t    }\n\t    Scanner.prototype.saveState = function () {\n\t        return {\n\t            index: this.index,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart\n\t        };\n\t    };\n\t    Scanner.prototype.restoreState = function (state) {\n\t        this.index = state.index;\n\t        this.lineNumber = state.lineNumber;\n\t        this.lineStart = state.lineStart;\n\t    };\n\t    Scanner.prototype.eof = function () {\n\t        return this.index >= this.length;\n\t    };\n\t    Scanner.prototype.throwUnexpectedToken = function (message) {\n\t        if (message === void 0) { message = messages_1.Messages.UnexpectedTokenIllegal; }\n\t        return this.errorHandler.throwError(this.index, this.lineNumber, this.index - this.lineStart + 1, message);\n\t    };\n\t    Scanner.prototype.tolerateUnexpectedToken = function (message) {\n\t        if (message === void 0) { message = messages_1.Messages.UnexpectedTokenIllegal; }\n\t        this.errorHandler.tolerateError(this.index, this.lineNumber, this.index - this.lineStart + 1, message);\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-comments\n\t    Scanner.prototype.skipSingleLineComment = function (offset) {\n\t        var comments = [];\n\t        var start, loc;\n\t        if (this.trackComment) {\n\t            comments = [];\n\t            start = this.index - offset;\n\t            loc = {\n\t                start: {\n\t                    line: this.lineNumber,\n\t                    column: this.index - this.lineStart - offset\n\t                },\n\t                end: {}\n\t            };\n\t        }\n\t        while (!this.eof()) {\n\t            var ch = this.source.charCodeAt(this.index);\n\t            ++this.index;\n\t            if (character_1.Character.isLineTerminator(ch)) {\n\t                if (this.trackComment) {\n\t                    loc.end = {\n\t                        line: this.lineNumber,\n\t                        column: this.index - this.lineStart - 1\n\t                    };\n\t                    var entry = {\n\t                        multiLine: false,\n\t                        slice: [start + offset, this.index - 1],\n\t                        range: [start, this.index - 1],\n\t                        loc: loc\n\t                    };\n\t                    comments.push(entry);\n\t                }\n\t                if (ch === 13 && this.source.charCodeAt(this.index) === 10) {\n\t                    ++this.index;\n\t                }\n\t                ++this.lineNumber;\n\t                this.lineStart = this.index;\n\t                return comments;\n\t            }\n\t        }\n\t        if (this.trackComment) {\n\t            loc.end = {\n\t                line: this.lineNumber,\n\t                column: this.index - this.lineStart\n\t            };\n\t            var entry = {\n\t                multiLine: false,\n\t                slice: [start + offset, this.index],\n\t                range: [start, this.index],\n\t                loc: loc\n\t            };\n\t            comments.push(entry);\n\t        }\n\t        return comments;\n\t    };\n\t    Scanner.prototype.skipMultiLineComment = function () {\n\t        var comments = [];\n\t        var start, loc;\n\t        if (this.trackComment) {\n\t            comments = [];\n\t            start = this.index - 2;\n\t            loc = {\n\t                start: {\n\t                    line: this.lineNumber,\n\t                    column: this.index - this.lineStart - 2\n\t                },\n\t                end: {}\n\t            };\n\t        }\n\t        while (!this.eof()) {\n\t            var ch = this.source.charCodeAt(this.index);\n\t            if (character_1.Character.isLineTerminator(ch)) {\n\t                if (ch === 0x0D && this.source.charCodeAt(this.index + 1) === 0x0A) {\n\t                    ++this.index;\n\t                }\n\t                ++this.lineNumber;\n\t                ++this.index;\n\t                this.lineStart = this.index;\n\t            }\n\t            else if (ch === 0x2A) {\n\t                // Block comment ends with '*/'.\n\t                if (this.source.charCodeAt(this.index + 1) === 0x2F) {\n\t                    this.index += 2;\n\t                    if (this.trackComment) {\n\t                        loc.end = {\n\t                            line: this.lineNumber,\n\t                            column: this.index - this.lineStart\n\t                        };\n\t                        var entry = {\n\t                            multiLine: true,\n\t                            slice: [start + 2, this.index - 2],\n\t                            range: [start, this.index],\n\t                            loc: loc\n\t                        };\n\t                        comments.push(entry);\n\t                    }\n\t                    return comments;\n\t                }\n\t                ++this.index;\n\t            }\n\t            else {\n\t                ++this.index;\n\t            }\n\t        }\n\t        // Ran off the end of the file - the whole thing is a comment\n\t        if (this.trackComment) {\n\t            loc.end = {\n\t                line: this.lineNumber,\n\t                column: this.index - this.lineStart\n\t            };\n\t            var entry = {\n\t                multiLine: true,\n\t                slice: [start + 2, this.index],\n\t                range: [start, this.index],\n\t                loc: loc\n\t            };\n\t            comments.push(entry);\n\t        }\n\t        this.tolerateUnexpectedToken();\n\t        return comments;\n\t    };\n\t    Scanner.prototype.scanComments = function () {\n\t        var comments;\n\t        if (this.trackComment) {\n\t            comments = [];\n\t        }\n\t        var start = (this.index === 0);\n\t        while (!this.eof()) {\n\t            var ch = this.source.charCodeAt(this.index);\n\t            if (character_1.Character.isWhiteSpace(ch)) {\n\t                ++this.index;\n\t            }\n\t            else if (character_1.Character.isLineTerminator(ch)) {\n\t                ++this.index;\n\t                if (ch === 0x0D && this.source.charCodeAt(this.index) === 0x0A) {\n\t                    ++this.index;\n\t                }\n\t                ++this.lineNumber;\n\t                this.lineStart = this.index;\n\t                start = true;\n\t            }\n\t            else if (ch === 0x2F) {\n\t                ch = this.source.charCodeAt(this.index + 1);\n\t                if (ch === 0x2F) {\n\t                    this.index += 2;\n\t                    var comment = this.skipSingleLineComment(2);\n\t                    if (this.trackComment) {\n\t                        comments = comments.concat(comment);\n\t                    }\n\t                    start = true;\n\t                }\n\t                else if (ch === 0x2A) {\n\t                    this.index += 2;\n\t                    var comment = this.skipMultiLineComment();\n\t                    if (this.trackComment) {\n\t                        comments = comments.concat(comment);\n\t                    }\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t            else if (start && ch === 0x2D) {\n\t                // U+003E is '>'\n\t                if ((this.source.charCodeAt(this.index + 1) === 0x2D) && (this.source.charCodeAt(this.index + 2) === 0x3E)) {\n\t                    // '-->' is a single-line comment\n\t                    this.index += 3;\n\t                    var comment = this.skipSingleLineComment(3);\n\t                    if (this.trackComment) {\n\t                        comments = comments.concat(comment);\n\t                    }\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t            else if (ch === 0x3C && !this.isModule) {\n\t                if (this.source.slice(this.index + 1, this.index + 4) === '!--') {\n\t                    this.index += 4; // `<!--`\n\t                    var comment = this.skipSingleLineComment(4);\n\t                    if (this.trackComment) {\n\t                        comments = comments.concat(comment);\n\t                    }\n\t                }\n\t                else {\n\t                    break;\n\t                }\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        return comments;\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-future-reserved-words\n\t    Scanner.prototype.isFutureReservedWord = function (id) {\n\t        switch (id) {\n\t            case 'enum':\n\t            case 'export':\n\t            case 'import':\n\t            case 'super':\n\t                return true;\n\t            default:\n\t                return false;\n\t        }\n\t    };\n\t    Scanner.prototype.isStrictModeReservedWord = function (id) {\n\t        switch (id) {\n\t            case 'implements':\n\t            case 'interface':\n\t            case 'package':\n\t            case 'private':\n\t            case 'protected':\n\t            case 'public':\n\t            case 'static':\n\t            case 'yield':\n\t            case 'let':\n\t                return true;\n\t            default:\n\t                return false;\n\t        }\n\t    };\n\t    Scanner.prototype.isRestrictedWord = function (id) {\n\t        return id === 'eval' || id === 'arguments';\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-keywords\n\t    Scanner.prototype.isKeyword = function (id) {\n\t        switch (id.length) {\n\t            case 2:\n\t                return (id === 'if') || (id === 'in') || (id === 'do');\n\t            case 3:\n\t                return (id === 'var') || (id === 'for') || (id === 'new') ||\n\t                    (id === 'try') || (id === 'let');\n\t            case 4:\n\t                return (id === 'this') || (id === 'else') || (id === 'case') ||\n\t                    (id === 'void') || (id === 'with') || (id === 'enum');\n\t            case 5:\n\t                return (id === 'while') || (id === 'break') || (id === 'catch') ||\n\t                    (id === 'throw') || (id === 'const') || (id === 'yield') ||\n\t                    (id === 'class') || (id === 'super');\n\t            case 6:\n\t                return (id === 'return') || (id === 'typeof') || (id === 'delete') ||\n\t                    (id === 'switch') || (id === 'export') || (id === 'import');\n\t            case 7:\n\t                return (id === 'default') || (id === 'finally') || (id === 'extends');\n\t            case 8:\n\t                return (id === 'function') || (id === 'continue') || (id === 'debugger');\n\t            case 10:\n\t                return (id === 'instanceof');\n\t            default:\n\t                return false;\n\t        }\n\t    };\n\t    Scanner.prototype.codePointAt = function (i) {\n\t        var cp = this.source.charCodeAt(i);\n\t        if (cp >= 0xD800 && cp <= 0xDBFF) {\n\t            var second = this.source.charCodeAt(i + 1);\n\t            if (second >= 0xDC00 && second <= 0xDFFF) {\n\t                var first = cp;\n\t                cp = (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n\t            }\n\t        }\n\t        return cp;\n\t    };\n\t    Scanner.prototype.scanHexEscape = function (prefix) {\n\t        var len = (prefix === 'u') ? 4 : 2;\n\t        var code = 0;\n\t        for (var i = 0; i < len; ++i) {\n\t            if (!this.eof() && character_1.Character.isHexDigit(this.source.charCodeAt(this.index))) {\n\t                code = code * 16 + hexValue(this.source[this.index++]);\n\t            }\n\t            else {\n\t                return null;\n\t            }\n\t        }\n\t        return String.fromCharCode(code);\n\t    };\n\t    Scanner.prototype.scanUnicodeCodePointEscape = function () {\n\t        var ch = this.source[this.index];\n\t        var code = 0;\n\t        // At least, one hex digit is required.\n\t        if (ch === '}') {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        while (!this.eof()) {\n\t            ch = this.source[this.index++];\n\t            if (!character_1.Character.isHexDigit(ch.charCodeAt(0))) {\n\t                break;\n\t            }\n\t            code = code * 16 + hexValue(ch);\n\t        }\n\t        if (code > 0x10FFFF || ch !== '}') {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return character_1.Character.fromCodePoint(code);\n\t    };\n\t    Scanner.prototype.getIdentifier = function () {\n\t        var start = this.index++;\n\t        while (!this.eof()) {\n\t            var ch = this.source.charCodeAt(this.index);\n\t            if (ch === 0x5C) {\n\t                // Blackslash (U+005C) marks Unicode escape sequence.\n\t                this.index = start;\n\t                return this.getComplexIdentifier();\n\t            }\n\t            else if (ch >= 0xD800 && ch < 0xDFFF) {\n\t                // Need to handle surrogate pairs.\n\t                this.index = start;\n\t                return this.getComplexIdentifier();\n\t            }\n\t            if (character_1.Character.isIdentifierPart(ch)) {\n\t                ++this.index;\n\t            }\n\t            else {\n\t                break;\n\t            }\n\t        }\n\t        return this.source.slice(start, this.index);\n\t    };\n\t    Scanner.prototype.getComplexIdentifier = function () {\n\t        var cp = this.codePointAt(this.index);\n\t        var id = character_1.Character.fromCodePoint(cp);\n\t        this.index += id.length;\n\t        // '\\u' (U+005C, U+0075) denotes an escaped character.\n\t        var ch;\n\t        if (cp === 0x5C) {\n\t            if (this.source.charCodeAt(this.index) !== 0x75) {\n\t                this.throwUnexpectedToken();\n\t            }\n\t            ++this.index;\n\t            if (this.source[this.index] === '{') {\n\t                ++this.index;\n\t                ch = this.scanUnicodeCodePointEscape();\n\t            }\n\t            else {\n\t                ch = this.scanHexEscape('u');\n\t                if (ch === null || ch === '\\\\' || !character_1.Character.isIdentifierStart(ch.charCodeAt(0))) {\n\t                    this.throwUnexpectedToken();\n\t                }\n\t            }\n\t            id = ch;\n\t        }\n\t        while (!this.eof()) {\n\t            cp = this.codePointAt(this.index);\n\t            if (!character_1.Character.isIdentifierPart(cp)) {\n\t                break;\n\t            }\n\t            ch = character_1.Character.fromCodePoint(cp);\n\t            id += ch;\n\t            this.index += ch.length;\n\t            // '\\u' (U+005C, U+0075) denotes an escaped character.\n\t            if (cp === 0x5C) {\n\t                id = id.substr(0, id.length - 1);\n\t                if (this.source.charCodeAt(this.index) !== 0x75) {\n\t                    this.throwUnexpectedToken();\n\t                }\n\t                ++this.index;\n\t                if (this.source[this.index] === '{') {\n\t                    ++this.index;\n\t                    ch = this.scanUnicodeCodePointEscape();\n\t                }\n\t                else {\n\t                    ch = this.scanHexEscape('u');\n\t                    if (ch === null || ch === '\\\\' || !character_1.Character.isIdentifierPart(ch.charCodeAt(0))) {\n\t                        this.throwUnexpectedToken();\n\t                    }\n\t                }\n\t                id += ch;\n\t            }\n\t        }\n\t        return id;\n\t    };\n\t    Scanner.prototype.octalToDecimal = function (ch) {\n\t        // \\0 is not octal escape sequence\n\t        var octal = (ch !== '0');\n\t        var code = octalValue(ch);\n\t        if (!this.eof() && character_1.Character.isOctalDigit(this.source.charCodeAt(this.index))) {\n\t            octal = true;\n\t            code = code * 8 + octalValue(this.source[this.index++]);\n\t            // 3 digits are only allowed when string starts\n\t            // with 0, 1, 2, 3\n\t            if ('0123'.indexOf(ch) >= 0 && !this.eof() && character_1.Character.isOctalDigit(this.source.charCodeAt(this.index))) {\n\t                code = code * 8 + octalValue(this.source[this.index++]);\n\t            }\n\t        }\n\t        return {\n\t            code: code,\n\t            octal: octal\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-names-and-keywords\n\t    Scanner.prototype.scanIdentifier = function () {\n\t        var type;\n\t        var start = this.index;\n\t        // Backslash (U+005C) starts an escaped character.\n\t        var id = (this.source.charCodeAt(start) === 0x5C) ? this.getComplexIdentifier() : this.getIdentifier();\n\t        // There is no keyword or literal with only one character.\n\t        // Thus, it must be an identifier.\n\t        if (id.length === 1) {\n\t            type = 3 /* Identifier */;\n\t        }\n\t        else if (this.isKeyword(id)) {\n\t            type = 4 /* Keyword */;\n\t        }\n\t        else if (id === 'null') {\n\t            type = 5 /* NullLiteral */;\n\t        }\n\t        else if (id === 'true' || id === 'false') {\n\t            type = 1 /* BooleanLiteral */;\n\t        }\n\t        else {\n\t            type = 3 /* Identifier */;\n\t        }\n\t        if (type !== 3 /* Identifier */ && (start + id.length !== this.index)) {\n\t            var restore = this.index;\n\t            this.index = start;\n\t            this.tolerateUnexpectedToken(messages_1.Messages.InvalidEscapedReservedWord);\n\t            this.index = restore;\n\t        }\n\t        return {\n\t            type: type,\n\t            value: id,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-punctuators\n\t    Scanner.prototype.scanPunctuator = function () {\n\t        var start = this.index;\n\t        // Check for most common single-character punctuators.\n\t        var str = this.source[this.index];\n\t        switch (str) {\n\t            case '(':\n\t            case '{':\n\t                if (str === '{') {\n\t                    this.curlyStack.push('{');\n\t                }\n\t                ++this.index;\n\t                break;\n\t            case '.':\n\t                ++this.index;\n\t                if (this.source[this.index] === '.' && this.source[this.index + 1] === '.') {\n\t                    // Spread operator: ...\n\t                    this.index += 2;\n\t                    str = '...';\n\t                }\n\t                break;\n\t            case '}':\n\t                ++this.index;\n\t                this.curlyStack.pop();\n\t                break;\n\t            case ')':\n\t            case ';':\n\t            case ',':\n\t            case '[':\n\t            case ']':\n\t            case ':':\n\t            case '?':\n\t            case '~':\n\t                ++this.index;\n\t                break;\n\t            default:\n\t                // 4-character punctuator.\n\t                str = this.source.substr(this.index, 4);\n\t                if (str === '>>>=') {\n\t                    this.index += 4;\n\t                }\n\t                else {\n\t                    // 3-character punctuators.\n\t                    str = str.substr(0, 3);\n\t                    if (str === '===' || str === '!==' || str === '>>>' ||\n\t                        str === '<<=' || str === '>>=' || str === '**=') {\n\t                        this.index += 3;\n\t                    }\n\t                    else {\n\t                        // 2-character punctuators.\n\t                        str = str.substr(0, 2);\n\t                        if (str === '&&' || str === '||' || str === '==' || str === '!=' ||\n\t                            str === '+=' || str === '-=' || str === '*=' || str === '/=' ||\n\t                            str === '++' || str === '--' || str === '<<' || str === '>>' ||\n\t                            str === '&=' || str === '|=' || str === '^=' || str === '%=' ||\n\t                            str === '<=' || str === '>=' || str === '=>' || str === '**') {\n\t                            this.index += 2;\n\t                        }\n\t                        else {\n\t                            // 1-character punctuators.\n\t                            str = this.source[this.index];\n\t                            if ('<>=!+-*%&|^/'.indexOf(str) >= 0) {\n\t                                ++this.index;\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t        }\n\t        if (this.index === start) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 7 /* Punctuator */,\n\t            value: str,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-literals-numeric-literals\n\t    Scanner.prototype.scanHexLiteral = function (start) {\n\t        var num = '';\n\t        while (!this.eof()) {\n\t            if (!character_1.Character.isHexDigit(this.source.charCodeAt(this.index))) {\n\t                break;\n\t            }\n\t            num += this.source[this.index++];\n\t        }\n\t        if (num.length === 0) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        if (character_1.Character.isIdentifierStart(this.source.charCodeAt(this.index))) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 6 /* NumericLiteral */,\n\t            value: parseInt('0x' + num, 16),\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    Scanner.prototype.scanBinaryLiteral = function (start) {\n\t        var num = '';\n\t        var ch;\n\t        while (!this.eof()) {\n\t            ch = this.source[this.index];\n\t            if (ch !== '0' && ch !== '1') {\n\t                break;\n\t            }\n\t            num += this.source[this.index++];\n\t        }\n\t        if (num.length === 0) {\n\t            // only 0b or 0B\n\t            this.throwUnexpectedToken();\n\t        }\n\t        if (!this.eof()) {\n\t            ch = this.source.charCodeAt(this.index);\n\t            /* istanbul ignore else */\n\t            if (character_1.Character.isIdentifierStart(ch) || character_1.Character.isDecimalDigit(ch)) {\n\t                this.throwUnexpectedToken();\n\t            }\n\t        }\n\t        return {\n\t            type: 6 /* NumericLiteral */,\n\t            value: parseInt(num, 2),\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    Scanner.prototype.scanOctalLiteral = function (prefix, start) {\n\t        var num = '';\n\t        var octal = false;\n\t        if (character_1.Character.isOctalDigit(prefix.charCodeAt(0))) {\n\t            octal = true;\n\t            num = '0' + this.source[this.index++];\n\t        }\n\t        else {\n\t            ++this.index;\n\t        }\n\t        while (!this.eof()) {\n\t            if (!character_1.Character.isOctalDigit(this.source.charCodeAt(this.index))) {\n\t                break;\n\t            }\n\t            num += this.source[this.index++];\n\t        }\n\t        if (!octal && num.length === 0) {\n\t            // only 0o or 0O\n\t            this.throwUnexpectedToken();\n\t        }\n\t        if (character_1.Character.isIdentifierStart(this.source.charCodeAt(this.index)) || character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 6 /* NumericLiteral */,\n\t            value: parseInt(num, 8),\n\t            octal: octal,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    Scanner.prototype.isImplicitOctalLiteral = function () {\n\t        // Implicit octal, unless there is a non-octal digit.\n\t        // (Annex B.1.1 on Numeric Literals)\n\t        for (var i = this.index + 1; i < this.length; ++i) {\n\t            var ch = this.source[i];\n\t            if (ch === '8' || ch === '9') {\n\t                return false;\n\t            }\n\t            if (!character_1.Character.isOctalDigit(ch.charCodeAt(0))) {\n\t                return true;\n\t            }\n\t        }\n\t        return true;\n\t    };\n\t    Scanner.prototype.scanNumericLiteral = function () {\n\t        var start = this.index;\n\t        var ch = this.source[start];\n\t        assert_1.assert(character_1.Character.isDecimalDigit(ch.charCodeAt(0)) || (ch === '.'), 'Numeric literal must start with a decimal digit or a decimal point');\n\t        var num = '';\n\t        if (ch !== '.') {\n\t            num = this.source[this.index++];\n\t            ch = this.source[this.index];\n\t            // Hex number starts with '0x'.\n\t            // Octal number starts with '0'.\n\t            // Octal number in ES6 starts with '0o'.\n\t            // Binary number in ES6 starts with '0b'.\n\t            if (num === '0') {\n\t                if (ch === 'x' || ch === 'X') {\n\t                    ++this.index;\n\t                    return this.scanHexLiteral(start);\n\t                }\n\t                if (ch === 'b' || ch === 'B') {\n\t                    ++this.index;\n\t                    return this.scanBinaryLiteral(start);\n\t                }\n\t                if (ch === 'o' || ch === 'O') {\n\t                    return this.scanOctalLiteral(ch, start);\n\t                }\n\t                if (ch && character_1.Character.isOctalDigit(ch.charCodeAt(0))) {\n\t                    if (this.isImplicitOctalLiteral()) {\n\t                        return this.scanOctalLiteral(ch, start);\n\t                    }\n\t                }\n\t            }\n\t            while (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                num += this.source[this.index++];\n\t            }\n\t            ch = this.source[this.index];\n\t        }\n\t        if (ch === '.') {\n\t            num += this.source[this.index++];\n\t            while (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                num += this.source[this.index++];\n\t            }\n\t            ch = this.source[this.index];\n\t        }\n\t        if (ch === 'e' || ch === 'E') {\n\t            num += this.source[this.index++];\n\t            ch = this.source[this.index];\n\t            if (ch === '+' || ch === '-') {\n\t                num += this.source[this.index++];\n\t            }\n\t            if (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                while (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                    num += this.source[this.index++];\n\t                }\n\t            }\n\t            else {\n\t                this.throwUnexpectedToken();\n\t            }\n\t        }\n\t        if (character_1.Character.isIdentifierStart(this.source.charCodeAt(this.index))) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 6 /* NumericLiteral */,\n\t            value: parseFloat(num),\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-literals-string-literals\n\t    Scanner.prototype.scanStringLiteral = function () {\n\t        var start = this.index;\n\t        var quote = this.source[start];\n\t        assert_1.assert((quote === '\\'' || quote === '\"'), 'String literal must starts with a quote');\n\t        ++this.index;\n\t        var octal = false;\n\t        var str = '';\n\t        while (!this.eof()) {\n\t            var ch = this.source[this.index++];\n\t            if (ch === quote) {\n\t                quote = '';\n\t                break;\n\t            }\n\t            else if (ch === '\\\\') {\n\t                ch = this.source[this.index++];\n\t                if (!ch || !character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                    switch (ch) {\n\t                        case 'u':\n\t                            if (this.source[this.index] === '{') {\n\t                                ++this.index;\n\t                                str += this.scanUnicodeCodePointEscape();\n\t                            }\n\t                            else {\n\t                                var unescaped_1 = this.scanHexEscape(ch);\n\t                                if (unescaped_1 === null) {\n\t                                    this.throwUnexpectedToken();\n\t                                }\n\t                                str += unescaped_1;\n\t                            }\n\t                            break;\n\t                        case 'x':\n\t                            var unescaped = this.scanHexEscape(ch);\n\t                            if (unescaped === null) {\n\t                                this.throwUnexpectedToken(messages_1.Messages.InvalidHexEscapeSequence);\n\t                            }\n\t                            str += unescaped;\n\t                            break;\n\t                        case 'n':\n\t                            str += '\\n';\n\t                            break;\n\t                        case 'r':\n\t                            str += '\\r';\n\t                            break;\n\t                        case 't':\n\t                            str += '\\t';\n\t                            break;\n\t                        case 'b':\n\t                            str += '\\b';\n\t                            break;\n\t                        case 'f':\n\t                            str += '\\f';\n\t                            break;\n\t                        case 'v':\n\t                            str += '\\x0B';\n\t                            break;\n\t                        case '8':\n\t                        case '9':\n\t                            str += ch;\n\t                            this.tolerateUnexpectedToken();\n\t                            break;\n\t                        default:\n\t                            if (ch && character_1.Character.isOctalDigit(ch.charCodeAt(0))) {\n\t                                var octToDec = this.octalToDecimal(ch);\n\t                                octal = octToDec.octal || octal;\n\t                                str += String.fromCharCode(octToDec.code);\n\t                            }\n\t                            else {\n\t                                str += ch;\n\t                            }\n\t                            break;\n\t                    }\n\t                }\n\t                else {\n\t                    ++this.lineNumber;\n\t                    if (ch === '\\r' && this.source[this.index] === '\\n') {\n\t                        ++this.index;\n\t                    }\n\t                    this.lineStart = this.index;\n\t                }\n\t            }\n\t            else if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                break;\n\t            }\n\t            else {\n\t                str += ch;\n\t            }\n\t        }\n\t        if (quote !== '') {\n\t            this.index = start;\n\t            this.throwUnexpectedToken();\n\t        }\n\t        return {\n\t            type: 8 /* StringLiteral */,\n\t            value: str,\n\t            octal: octal,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-template-literal-lexical-components\n\t    Scanner.prototype.scanTemplate = function () {\n\t        var cooked = '';\n\t        var terminated = false;\n\t        var start = this.index;\n\t        var head = (this.source[start] === '`');\n\t        var tail = false;\n\t        var rawOffset = 2;\n\t        ++this.index;\n\t        while (!this.eof()) {\n\t            var ch = this.source[this.index++];\n\t            if (ch === '`') {\n\t                rawOffset = 1;\n\t                tail = true;\n\t                terminated = true;\n\t                break;\n\t            }\n\t            else if (ch === '$') {\n\t                if (this.source[this.index] === '{') {\n\t                    this.curlyStack.push('${');\n\t                    ++this.index;\n\t                    terminated = true;\n\t                    break;\n\t                }\n\t                cooked += ch;\n\t            }\n\t            else if (ch === '\\\\') {\n\t                ch = this.source[this.index++];\n\t                if (!character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                    switch (ch) {\n\t                        case 'n':\n\t                            cooked += '\\n';\n\t                            break;\n\t                        case 'r':\n\t                            cooked += '\\r';\n\t                            break;\n\t                        case 't':\n\t                            cooked += '\\t';\n\t                            break;\n\t                        case 'u':\n\t                            if (this.source[this.index] === '{') {\n\t                                ++this.index;\n\t                                cooked += this.scanUnicodeCodePointEscape();\n\t                            }\n\t                            else {\n\t                                var restore = this.index;\n\t                                var unescaped_2 = this.scanHexEscape(ch);\n\t                                if (unescaped_2 !== null) {\n\t                                    cooked += unescaped_2;\n\t                                }\n\t                                else {\n\t                                    this.index = restore;\n\t                                    cooked += ch;\n\t                                }\n\t                            }\n\t                            break;\n\t                        case 'x':\n\t                            var unescaped = this.scanHexEscape(ch);\n\t                            if (unescaped === null) {\n\t                                this.throwUnexpectedToken(messages_1.Messages.InvalidHexEscapeSequence);\n\t                            }\n\t                            cooked += unescaped;\n\t                            break;\n\t                        case 'b':\n\t                            cooked += '\\b';\n\t                            break;\n\t                        case 'f':\n\t                            cooked += '\\f';\n\t                            break;\n\t                        case 'v':\n\t                            cooked += '\\v';\n\t                            break;\n\t                        default:\n\t                            if (ch === '0') {\n\t                                if (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index))) {\n\t                                    // Illegal: \\01 \\02 and so on\n\t                                    this.throwUnexpectedToken(messages_1.Messages.TemplateOctalLiteral);\n\t                                }\n\t                                cooked += '\\0';\n\t                            }\n\t                            else if (character_1.Character.isOctalDigit(ch.charCodeAt(0))) {\n\t                                // Illegal: \\1 \\2\n\t                                this.throwUnexpectedToken(messages_1.Messages.TemplateOctalLiteral);\n\t                            }\n\t                            else {\n\t                                cooked += ch;\n\t                            }\n\t                            break;\n\t                    }\n\t                }\n\t                else {\n\t                    ++this.lineNumber;\n\t                    if (ch === '\\r' && this.source[this.index] === '\\n') {\n\t                        ++this.index;\n\t                    }\n\t                    this.lineStart = this.index;\n\t                }\n\t            }\n\t            else if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                ++this.lineNumber;\n\t                if (ch === '\\r' && this.source[this.index] === '\\n') {\n\t                    ++this.index;\n\t                }\n\t                this.lineStart = this.index;\n\t                cooked += '\\n';\n\t            }\n\t            else {\n\t                cooked += ch;\n\t            }\n\t        }\n\t        if (!terminated) {\n\t            this.throwUnexpectedToken();\n\t        }\n\t        if (!head) {\n\t            this.curlyStack.pop();\n\t        }\n\t        return {\n\t            type: 10 /* Template */,\n\t            value: this.source.slice(start + 1, this.index - rawOffset),\n\t            cooked: cooked,\n\t            head: head,\n\t            tail: tail,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    // https://tc39.github.io/ecma262/#sec-literals-regular-expression-literals\n\t    Scanner.prototype.testRegExp = function (pattern, flags) {\n\t        // The BMP character to use as a replacement for astral symbols when\n\t        // translating an ES6 \"u\"-flagged pattern to an ES5-compatible\n\t        // approximation.\n\t        // Note: replacing with '\\uFFFF' enables false positives in unlikely\n\t        // scenarios. For example, `[\\u{1044f}-\\u{10440}]` is an invalid\n\t        // pattern that would not be detected by this substitution.\n\t        var astralSubstitute = '\\uFFFF';\n\t        var tmp = pattern;\n\t        var self = this;\n\t        if (flags.indexOf('u') >= 0) {\n\t            tmp = tmp\n\t                .replace(/\\\\u\\{([0-9a-fA-F]+)\\}|\\\\u([a-fA-F0-9]{4})/g, function ($0, $1, $2) {\n\t                var codePoint = parseInt($1 || $2, 16);\n\t                if (codePoint > 0x10FFFF) {\n\t                    self.throwUnexpectedToken(messages_1.Messages.InvalidRegExp);\n\t                }\n\t                if (codePoint <= 0xFFFF) {\n\t                    return String.fromCharCode(codePoint);\n\t                }\n\t                return astralSubstitute;\n\t            })\n\t                .replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, astralSubstitute);\n\t        }\n\t        // First, detect invalid regular expressions.\n\t        try {\n\t            RegExp(tmp);\n\t        }\n\t        catch (e) {\n\t            this.throwUnexpectedToken(messages_1.Messages.InvalidRegExp);\n\t        }\n\t        // Return a regular expression object for this pattern-flag pair, or\n\t        // `null` in case the current environment doesn't support the flags it\n\t        // uses.\n\t        try {\n\t            return new RegExp(pattern, flags);\n\t        }\n\t        catch (exception) {\n\t            /* istanbul ignore next */\n\t            return null;\n\t        }\n\t    };\n\t    Scanner.prototype.scanRegExpBody = function () {\n\t        var ch = this.source[this.index];\n\t        assert_1.assert(ch === '/', 'Regular expression literal must start with a slash');\n\t        var str = this.source[this.index++];\n\t        var classMarker = false;\n\t        var terminated = false;\n\t        while (!this.eof()) {\n\t            ch = this.source[this.index++];\n\t            str += ch;\n\t            if (ch === '\\\\') {\n\t                ch = this.source[this.index++];\n\t                // https://tc39.github.io/ecma262/#sec-literals-regular-expression-literals\n\t                if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                    this.throwUnexpectedToken(messages_1.Messages.UnterminatedRegExp);\n\t                }\n\t                str += ch;\n\t            }\n\t            else if (character_1.Character.isLineTerminator(ch.charCodeAt(0))) {\n\t                this.throwUnexpectedToken(messages_1.Messages.UnterminatedRegExp);\n\t            }\n\t            else if (classMarker) {\n\t                if (ch === ']') {\n\t                    classMarker = false;\n\t                }\n\t            }\n\t            else {\n\t                if (ch === '/') {\n\t                    terminated = true;\n\t                    break;\n\t                }\n\t                else if (ch === '[') {\n\t                    classMarker = true;\n\t                }\n\t            }\n\t        }\n\t        if (!terminated) {\n\t            this.throwUnexpectedToken(messages_1.Messages.UnterminatedRegExp);\n\t        }\n\t        // Exclude leading and trailing slash.\n\t        return str.substr(1, str.length - 2);\n\t    };\n\t    Scanner.prototype.scanRegExpFlags = function () {\n\t        var str = '';\n\t        var flags = '';\n\t        while (!this.eof()) {\n\t            var ch = this.source[this.index];\n\t            if (!character_1.Character.isIdentifierPart(ch.charCodeAt(0))) {\n\t                break;\n\t            }\n\t            ++this.index;\n\t            if (ch === '\\\\' && !this.eof()) {\n\t                ch = this.source[this.index];\n\t                if (ch === 'u') {\n\t                    ++this.index;\n\t                    var restore = this.index;\n\t                    var char = this.scanHexEscape('u');\n\t                    if (char !== null) {\n\t                        flags += char;\n\t                        for (str += '\\\\u'; restore < this.index; ++restore) {\n\t                            str += this.source[restore];\n\t                        }\n\t                    }\n\t                    else {\n\t                        this.index = restore;\n\t                        flags += 'u';\n\t                        str += '\\\\u';\n\t                    }\n\t                    this.tolerateUnexpectedToken();\n\t                }\n\t                else {\n\t                    str += '\\\\';\n\t                    this.tolerateUnexpectedToken();\n\t                }\n\t            }\n\t            else {\n\t                flags += ch;\n\t                str += ch;\n\t            }\n\t        }\n\t        return flags;\n\t    };\n\t    Scanner.prototype.scanRegExp = function () {\n\t        var start = this.index;\n\t        var pattern = this.scanRegExpBody();\n\t        var flags = this.scanRegExpFlags();\n\t        var value = this.testRegExp(pattern, flags);\n\t        return {\n\t            type: 9 /* RegularExpression */,\n\t            value: '',\n\t            pattern: pattern,\n\t            flags: flags,\n\t            regex: value,\n\t            lineNumber: this.lineNumber,\n\t            lineStart: this.lineStart,\n\t            start: start,\n\t            end: this.index\n\t        };\n\t    };\n\t    Scanner.prototype.lex = function () {\n\t        if (this.eof()) {\n\t            return {\n\t                type: 2 /* EOF */,\n\t                value: '',\n\t                lineNumber: this.lineNumber,\n\t                lineStart: this.lineStart,\n\t                start: this.index,\n\t                end: this.index\n\t            };\n\t        }\n\t        var cp = this.source.charCodeAt(this.index);\n\t        if (character_1.Character.isIdentifierStart(cp)) {\n\t            return this.scanIdentifier();\n\t        }\n\t        // Very common: ( and ) and ;\n\t        if (cp === 0x28 || cp === 0x29 || cp === 0x3B) {\n\t            return this.scanPunctuator();\n\t        }\n\t        // String literal starts with single quote (U+0027) or double quote (U+0022).\n\t        if (cp === 0x27 || cp === 0x22) {\n\t            return this.scanStringLiteral();\n\t        }\n\t        // Dot (.) U+002E can also start a floating-point number, hence the need\n\t        // to check the next character.\n\t        if (cp === 0x2E) {\n\t            if (character_1.Character.isDecimalDigit(this.source.charCodeAt(this.index + 1))) {\n\t                return this.scanNumericLiteral();\n\t            }\n\t            return this.scanPunctuator();\n\t        }\n\t        if (character_1.Character.isDecimalDigit(cp)) {\n\t            return this.scanNumericLiteral();\n\t        }\n\t        // Template literals start with ` (U+0060) for template head\n\t        // or } (U+007D) for template middle or template tail.\n\t        if (cp === 0x60 || (cp === 0x7D && this.curlyStack[this.curlyStack.length - 1] === '${')) {\n\t            return this.scanTemplate();\n\t        }\n\t        // Possible identifier start in a surrogate pair.\n\t        if (cp >= 0xD800 && cp < 0xDFFF) {\n\t            if (character_1.Character.isIdentifierStart(this.codePointAt(this.index))) {\n\t                return this.scanIdentifier();\n\t            }\n\t        }\n\t        return this.scanPunctuator();\n\t    };\n\t    return Scanner;\n\t}());\n\texports.Scanner = Scanner;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.TokenName = {};\n\texports.TokenName[1 /* BooleanLiteral */] = 'Boolean';\n\texports.TokenName[2 /* EOF */] = '<end>';\n\texports.TokenName[3 /* Identifier */] = 'Identifier';\n\texports.TokenName[4 /* Keyword */] = 'Keyword';\n\texports.TokenName[5 /* NullLiteral */] = 'Null';\n\texports.TokenName[6 /* NumericLiteral */] = 'Numeric';\n\texports.TokenName[7 /* Punctuator */] = 'Punctuator';\n\texports.TokenName[8 /* StringLiteral */] = 'String';\n\texports.TokenName[9 /* RegularExpression */] = 'RegularExpression';\n\texports.TokenName[10 /* Template */] = 'Template';\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t// Generated by generate-xhtml-entities.js. DO NOT MODIFY!\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.XHTMLEntities = {\n\t    quot: '\\u0022',\n\t    amp: '\\u0026',\n\t    apos: '\\u0027',\n\t    gt: '\\u003E',\n\t    nbsp: '\\u00A0',\n\t    iexcl: '\\u00A1',\n\t    cent: '\\u00A2',\n\t    pound: '\\u00A3',\n\t    curren: '\\u00A4',\n\t    yen: '\\u00A5',\n\t    brvbar: '\\u00A6',\n\t    sect: '\\u00A7',\n\t    uml: '\\u00A8',\n\t    copy: '\\u00A9',\n\t    ordf: '\\u00AA',\n\t    laquo: '\\u00AB',\n\t    not: '\\u00AC',\n\t    shy: '\\u00AD',\n\t    reg: '\\u00AE',\n\t    macr: '\\u00AF',\n\t    deg: '\\u00B0',\n\t    plusmn: '\\u00B1',\n\t    sup2: '\\u00B2',\n\t    sup3: '\\u00B3',\n\t    acute: '\\u00B4',\n\t    micro: '\\u00B5',\n\t    para: '\\u00B6',\n\t    middot: '\\u00B7',\n\t    cedil: '\\u00B8',\n\t    sup1: '\\u00B9',\n\t    ordm: '\\u00BA',\n\t    raquo: '\\u00BB',\n\t    frac14: '\\u00BC',\n\t    frac12: '\\u00BD',\n\t    frac34: '\\u00BE',\n\t    iquest: '\\u00BF',\n\t    Agrave: '\\u00C0',\n\t    Aacute: '\\u00C1',\n\t    Acirc: '\\u00C2',\n\t    Atilde: '\\u00C3',\n\t    Auml: '\\u00C4',\n\t    Aring: '\\u00C5',\n\t    AElig: '\\u00C6',\n\t    Ccedil: '\\u00C7',\n\t    Egrave: '\\u00C8',\n\t    Eacute: '\\u00C9',\n\t    Ecirc: '\\u00CA',\n\t    Euml: '\\u00CB',\n\t    Igrave: '\\u00CC',\n\t    Iacute: '\\u00CD',\n\t    Icirc: '\\u00CE',\n\t    Iuml: '\\u00CF',\n\t    ETH: '\\u00D0',\n\t    Ntilde: '\\u00D1',\n\t    Ograve: '\\u00D2',\n\t    Oacute: '\\u00D3',\n\t    Ocirc: '\\u00D4',\n\t    Otilde: '\\u00D5',\n\t    Ouml: '\\u00D6',\n\t    times: '\\u00D7',\n\t    Oslash: '\\u00D8',\n\t    Ugrave: '\\u00D9',\n\t    Uacute: '\\u00DA',\n\t    Ucirc: '\\u00DB',\n\t    Uuml: '\\u00DC',\n\t    Yacute: '\\u00DD',\n\t    THORN: '\\u00DE',\n\t    szlig: '\\u00DF',\n\t    agrave: '\\u00E0',\n\t    aacute: '\\u00E1',\n\t    acirc: '\\u00E2',\n\t    atilde: '\\u00E3',\n\t    auml: '\\u00E4',\n\t    aring: '\\u00E5',\n\t    aelig: '\\u00E6',\n\t    ccedil: '\\u00E7',\n\t    egrave: '\\u00E8',\n\t    eacute: '\\u00E9',\n\t    ecirc: '\\u00EA',\n\t    euml: '\\u00EB',\n\t    igrave: '\\u00EC',\n\t    iacute: '\\u00ED',\n\t    icirc: '\\u00EE',\n\t    iuml: '\\u00EF',\n\t    eth: '\\u00F0',\n\t    ntilde: '\\u00F1',\n\t    ograve: '\\u00F2',\n\t    oacute: '\\u00F3',\n\t    ocirc: '\\u00F4',\n\t    otilde: '\\u00F5',\n\t    ouml: '\\u00F6',\n\t    divide: '\\u00F7',\n\t    oslash: '\\u00F8',\n\t    ugrave: '\\u00F9',\n\t    uacute: '\\u00FA',\n\t    ucirc: '\\u00FB',\n\t    uuml: '\\u00FC',\n\t    yacute: '\\u00FD',\n\t    thorn: '\\u00FE',\n\t    yuml: '\\u00FF',\n\t    OElig: '\\u0152',\n\t    oelig: '\\u0153',\n\t    Scaron: '\\u0160',\n\t    scaron: '\\u0161',\n\t    Yuml: '\\u0178',\n\t    fnof: '\\u0192',\n\t    circ: '\\u02C6',\n\t    tilde: '\\u02DC',\n\t    Alpha: '\\u0391',\n\t    Beta: '\\u0392',\n\t    Gamma: '\\u0393',\n\t    Delta: '\\u0394',\n\t    Epsilon: '\\u0395',\n\t    Zeta: '\\u0396',\n\t    Eta: '\\u0397',\n\t    Theta: '\\u0398',\n\t    Iota: '\\u0399',\n\t    Kappa: '\\u039A',\n\t    Lambda: '\\u039B',\n\t    Mu: '\\u039C',\n\t    Nu: '\\u039D',\n\t    Xi: '\\u039E',\n\t    Omicron: '\\u039F',\n\t    Pi: '\\u03A0',\n\t    Rho: '\\u03A1',\n\t    Sigma: '\\u03A3',\n\t    Tau: '\\u03A4',\n\t    Upsilon: '\\u03A5',\n\t    Phi: '\\u03A6',\n\t    Chi: '\\u03A7',\n\t    Psi: '\\u03A8',\n\t    Omega: '\\u03A9',\n\t    alpha: '\\u03B1',\n\t    beta: '\\u03B2',\n\t    gamma: '\\u03B3',\n\t    delta: '\\u03B4',\n\t    epsilon: '\\u03B5',\n\t    zeta: '\\u03B6',\n\t    eta: '\\u03B7',\n\t    theta: '\\u03B8',\n\t    iota: '\\u03B9',\n\t    kappa: '\\u03BA',\n\t    lambda: '\\u03BB',\n\t    mu: '\\u03BC',\n\t    nu: '\\u03BD',\n\t    xi: '\\u03BE',\n\t    omicron: '\\u03BF',\n\t    pi: '\\u03C0',\n\t    rho: '\\u03C1',\n\t    sigmaf: '\\u03C2',\n\t    sigma: '\\u03C3',\n\t    tau: '\\u03C4',\n\t    upsilon: '\\u03C5',\n\t    phi: '\\u03C6',\n\t    chi: '\\u03C7',\n\t    psi: '\\u03C8',\n\t    omega: '\\u03C9',\n\t    thetasym: '\\u03D1',\n\t    upsih: '\\u03D2',\n\t    piv: '\\u03D6',\n\t    ensp: '\\u2002',\n\t    emsp: '\\u2003',\n\t    thinsp: '\\u2009',\n\t    zwnj: '\\u200C',\n\t    zwj: '\\u200D',\n\t    lrm: '\\u200E',\n\t    rlm: '\\u200F',\n\t    ndash: '\\u2013',\n\t    mdash: '\\u2014',\n\t    lsquo: '\\u2018',\n\t    rsquo: '\\u2019',\n\t    sbquo: '\\u201A',\n\t    ldquo: '\\u201C',\n\t    rdquo: '\\u201D',\n\t    bdquo: '\\u201E',\n\t    dagger: '\\u2020',\n\t    Dagger: '\\u2021',\n\t    bull: '\\u2022',\n\t    hellip: '\\u2026',\n\t    permil: '\\u2030',\n\t    prime: '\\u2032',\n\t    Prime: '\\u2033',\n\t    lsaquo: '\\u2039',\n\t    rsaquo: '\\u203A',\n\t    oline: '\\u203E',\n\t    frasl: '\\u2044',\n\t    euro: '\\u20AC',\n\t    image: '\\u2111',\n\t    weierp: '\\u2118',\n\t    real: '\\u211C',\n\t    trade: '\\u2122',\n\t    alefsym: '\\u2135',\n\t    larr: '\\u2190',\n\t    uarr: '\\u2191',\n\t    rarr: '\\u2192',\n\t    darr: '\\u2193',\n\t    harr: '\\u2194',\n\t    crarr: '\\u21B5',\n\t    lArr: '\\u21D0',\n\t    uArr: '\\u21D1',\n\t    rArr: '\\u21D2',\n\t    dArr: '\\u21D3',\n\t    hArr: '\\u21D4',\n\t    forall: '\\u2200',\n\t    part: '\\u2202',\n\t    exist: '\\u2203',\n\t    empty: '\\u2205',\n\t    nabla: '\\u2207',\n\t    isin: '\\u2208',\n\t    notin: '\\u2209',\n\t    ni: '\\u220B',\n\t    prod: '\\u220F',\n\t    sum: '\\u2211',\n\t    minus: '\\u2212',\n\t    lowast: '\\u2217',\n\t    radic: '\\u221A',\n\t    prop: '\\u221D',\n\t    infin: '\\u221E',\n\t    ang: '\\u2220',\n\t    and: '\\u2227',\n\t    or: '\\u2228',\n\t    cap: '\\u2229',\n\t    cup: '\\u222A',\n\t    int: '\\u222B',\n\t    there4: '\\u2234',\n\t    sim: '\\u223C',\n\t    cong: '\\u2245',\n\t    asymp: '\\u2248',\n\t    ne: '\\u2260',\n\t    equiv: '\\u2261',\n\t    le: '\\u2264',\n\t    ge: '\\u2265',\n\t    sub: '\\u2282',\n\t    sup: '\\u2283',\n\t    nsub: '\\u2284',\n\t    sube: '\\u2286',\n\t    supe: '\\u2287',\n\t    oplus: '\\u2295',\n\t    otimes: '\\u2297',\n\t    perp: '\\u22A5',\n\t    sdot: '\\u22C5',\n\t    lceil: '\\u2308',\n\t    rceil: '\\u2309',\n\t    lfloor: '\\u230A',\n\t    rfloor: '\\u230B',\n\t    loz: '\\u25CA',\n\t    spades: '\\u2660',\n\t    clubs: '\\u2663',\n\t    hearts: '\\u2665',\n\t    diams: '\\u2666',\n\t    lang: '\\u27E8',\n\t    rang: '\\u27E9'\n\t};\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\tvar error_handler_1 = __webpack_require__(10);\n\tvar scanner_1 = __webpack_require__(12);\n\tvar token_1 = __webpack_require__(13);\n\tvar Reader = (function () {\n\t    function Reader() {\n\t        this.values = [];\n\t        this.curly = this.paren = -1;\n\t    }\n\t    // A function following one of those tokens is an expression.\n\t    Reader.prototype.beforeFunctionExpression = function (t) {\n\t        return ['(', '{', '[', 'in', 'typeof', 'instanceof', 'new',\n\t            'return', 'case', 'delete', 'throw', 'void',\n\t            // assignment operators\n\t            '=', '+=', '-=', '*=', '**=', '/=', '%=', '<<=', '>>=', '>>>=',\n\t            '&=', '|=', '^=', ',',\n\t            // binary/unary operators\n\t            '+', '-', '*', '**', '/', '%', '++', '--', '<<', '>>', '>>>', '&',\n\t            '|', '^', '!', '~', '&&', '||', '?', ':', '===', '==', '>=',\n\t            '<=', '<', '>', '!=', '!=='].indexOf(t) >= 0;\n\t    };\n\t    // Determine if forward slash (/) is an operator or part of a regular expression\n\t    // https://github.com/mozilla/sweet.js/wiki/design\n\t    Reader.prototype.isRegexStart = function () {\n\t        var previous = this.values[this.values.length - 1];\n\t        var regex = (previous !== null);\n\t        switch (previous) {\n\t            case 'this':\n\t            case ']':\n\t                regex = false;\n\t                break;\n\t            case ')':\n\t                var keyword = this.values[this.paren - 1];\n\t                regex = (keyword === 'if' || keyword === 'while' || keyword === 'for' || keyword === 'with');\n\t                break;\n\t            case '}':\n\t                // Dividing a function by anything makes little sense,\n\t                // but we have to check for that.\n\t                regex = false;\n\t                if (this.values[this.curly - 3] === 'function') {\n\t                    // Anonymous function, e.g. function(){} /42\n\t                    var check = this.values[this.curly - 4];\n\t                    regex = check ? !this.beforeFunctionExpression(check) : false;\n\t                }\n\t                else if (this.values[this.curly - 4] === 'function') {\n\t                    // Named function, e.g. function f(){} /42/\n\t                    var check = this.values[this.curly - 5];\n\t                    regex = check ? !this.beforeFunctionExpression(check) : true;\n\t                }\n\t                break;\n\t            default:\n\t                break;\n\t        }\n\t        return regex;\n\t    };\n\t    Reader.prototype.push = function (token) {\n\t        if (token.type === 7 /* Punctuator */ || token.type === 4 /* Keyword */) {\n\t            if (token.value === '{') {\n\t                this.curly = this.values.length;\n\t            }\n\t            else if (token.value === '(') {\n\t                this.paren = this.values.length;\n\t            }\n\t            this.values.push(token.value);\n\t        }\n\t        else {\n\t            this.values.push(null);\n\t        }\n\t    };\n\t    return Reader;\n\t}());\n\tvar Tokenizer = (function () {\n\t    function Tokenizer(code, config) {\n\t        this.errorHandler = new error_handler_1.ErrorHandler();\n\t        this.errorHandler.tolerant = config ? (typeof config.tolerant === 'boolean' && config.tolerant) : false;\n\t        this.scanner = new scanner_1.Scanner(code, this.errorHandler);\n\t        this.scanner.trackComment = config ? (typeof config.comment === 'boolean' && config.comment) : false;\n\t        this.trackRange = config ? (typeof config.range === 'boolean' && config.range) : false;\n\t        this.trackLoc = config ? (typeof config.loc === 'boolean' && config.loc) : false;\n\t        this.buffer = [];\n\t        this.reader = new Reader();\n\t    }\n\t    Tokenizer.prototype.errors = function () {\n\t        return this.errorHandler.errors;\n\t    };\n\t    Tokenizer.prototype.getNextToken = function () {\n\t        if (this.buffer.length === 0) {\n\t            var comments = this.scanner.scanComments();\n\t            if (this.scanner.trackComment) {\n\t                for (var i = 0; i < comments.length; ++i) {\n\t                    var e = comments[i];\n\t                    var value = this.scanner.source.slice(e.slice[0], e.slice[1]);\n\t                    var comment = {\n\t                        type: e.multiLine ? 'BlockComment' : 'LineComment',\n\t                        value: value\n\t                    };\n\t                    if (this.trackRange) {\n\t                        comment.range = e.range;\n\t                    }\n\t                    if (this.trackLoc) {\n\t                        comment.loc = e.loc;\n\t                    }\n\t                    this.buffer.push(comment);\n\t                }\n\t            }\n\t            if (!this.scanner.eof()) {\n\t                var loc = void 0;\n\t                if (this.trackLoc) {\n\t                    loc = {\n\t                        start: {\n\t                            line: this.scanner.lineNumber,\n\t                            column: this.scanner.index - this.scanner.lineStart\n\t                        },\n\t                        end: {}\n\t                    };\n\t                }\n\t                var startRegex = (this.scanner.source[this.scanner.index] === '/') && this.reader.isRegexStart();\n\t                var token = startRegex ? this.scanner.scanRegExp() : this.scanner.lex();\n\t                this.reader.push(token);\n\t                var entry = {\n\t                    type: token_1.TokenName[token.type],\n\t                    value: this.scanner.source.slice(token.start, token.end)\n\t                };\n\t                if (this.trackRange) {\n\t                    entry.range = [token.start, token.end];\n\t                }\n\t                if (this.trackLoc) {\n\t                    loc.end = {\n\t                        line: this.scanner.lineNumber,\n\t                        column: this.scanner.index - this.scanner.lineStart\n\t                    };\n\t                    entry.loc = loc;\n\t                }\n\t                if (token.type === 9 /* RegularExpression */) {\n\t                    var pattern = token.pattern;\n\t                    var flags = token.flags;\n\t                    entry.regex = { pattern: pattern, flags: flags };\n\t                }\n\t                this.buffer.push(entry);\n\t            }\n\t        }\n\t        return this.buffer.shift();\n\t    };\n\t    return Tokenizer;\n\t}());\n\texports.Tokenizer = Tokenizer;\n\n\n/***/ }\n/******/ ])\n});\n;","'use strict';\n\nvar isObject = require('is-extendable');\n\nmodule.exports = function extend(o/*, objects*/) {\n  if (!isObject(o)) { o = {}; }\n\n  var len = arguments.length;\n  for (var i = 1; i < len; i++) {\n    var obj = arguments[i];\n\n    if (isObject(obj)) {\n      assign(o, obj);\n    }\n  }\n  return o;\n};\n\nfunction assign(a, b) {\n  for (var key in b) {\n    if (hasOwn(b, key)) {\n      a[key] = b[key];\n    }\n  }\n}\n\n/**\n * Returns true if the given `key` is an own property of `obj`.\n */\n\nfunction hasOwn(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n","'use strict';\n\nconst fs = require('fs');\nconst sections = require('section-matter');\nconst defaults = require('./lib/defaults');\nconst stringify = require('./lib/stringify');\nconst excerpt = require('./lib/excerpt');\nconst engines = require('./lib/engines');\nconst toFile = require('./lib/to-file');\nconst parse = require('./lib/parse');\nconst utils = require('./lib/utils');\n\n/**\n * Takes a string or object with `content` property, extracts\n * and parses front-matter from the string, then returns an object\n * with `data`, `content` and other [useful properties](#returned-object).\n *\n * ```js\n * const matter = require('gray-matter');\n * console.log(matter('---\\ntitle: Home\\n---\\nOther stuff'));\n * //=> { data: { title: 'Home'}, content: 'Other stuff' }\n * ```\n * @param {Object|String} `input` String, or object with `content` string\n * @param {Object} `options`\n * @return {Object}\n * @api public\n */\n\nfunction matter(input, options) {\n  if (input === '') {\n    return { data: {}, content: input, excerpt: '', orig: input };\n  }\n\n  let file = toFile(input);\n  const cached = matter.cache[file.content];\n\n  if (!options) {\n    if (cached) {\n      file = Object.assign({}, cached);\n      file.orig = cached.orig;\n      return file;\n    }\n\n    // only cache if there are no options passed. if we cache when options\n    // are passed, we would need to also cache options values, which would\n    // negate any performance benefits of caching\n    matter.cache[file.content] = file;\n  }\n\n  return parseMatter(file, options);\n}\n\n/**\n * Parse front matter\n */\n\nfunction parseMatter(file, options) {\n  const opts = defaults(options);\n  const open = opts.delimiters[0];\n  const close = '\\n' + opts.delimiters[1];\n  let str = file.content;\n\n  if (opts.language) {\n    file.language = opts.language;\n  }\n\n  // get the length of the opening delimiter\n  const openLen = open.length;\n  if (!utils.startsWith(str, open, openLen)) {\n    excerpt(file, opts);\n    return file;\n  }\n\n  // if the next character after the opening delimiter is\n  // a character from the delimiter, then it's not a front-\n  // matter delimiter\n  if (str.charAt(openLen) === open.slice(-1)) {\n    return file;\n  }\n\n  // strip the opening delimiter\n  str = str.slice(openLen);\n  const len = str.length;\n\n  // use the language defined after first delimiter, if it exists\n  const language = matter.language(str, opts);\n  if (language.name) {\n    file.language = language.name;\n    str = str.slice(language.raw.length);\n  }\n\n  // get the index of the closing delimiter\n  let closeIndex = str.indexOf(close);\n  if (closeIndex === -1) {\n    closeIndex = len;\n  }\n\n  // get the raw front-matter block\n  file.matter = str.slice(0, closeIndex);\n\n  const block = file.matter.replace(/^\\s*#[^\\n]+/gm, '').trim();\n  if (block === '') {\n    file.isEmpty = true;\n    file.empty = file.content;\n    file.data = {};\n  } else {\n\n    // create file.data by parsing the raw file.matter block\n    file.data = parse(file.language, file.matter, opts);\n  }\n\n  // update file.content\n  if (closeIndex === len) {\n    file.content = '';\n  } else {\n    file.content = str.slice(closeIndex + close.length);\n    if (file.content[0] === '\\r') {\n      file.content = file.content.slice(1);\n    }\n    if (file.content[0] === '\\n') {\n      file.content = file.content.slice(1);\n    }\n  }\n\n  excerpt(file, opts);\n\n  if (opts.sections === true || typeof opts.section === 'function') {\n    sections(file, opts.section);\n  }\n  return file;\n}\n\n/**\n * Expose engines\n */\n\nmatter.engines = engines;\n\n/**\n * Stringify an object to YAML or the specified language, and\n * append it to the given string. By default, only YAML and JSON\n * can be stringified. See the [engines](#engines) section to learn\n * how to stringify other languages.\n *\n * ```js\n * console.log(matter.stringify('foo bar baz', {title: 'Home'}));\n * // results in:\n * // ---\n * // title: Home\n * // ---\n * // foo bar baz\n * ```\n * @param {String|Object} `file` The content string to append to stringified front-matter, or a file object with `file.content` string.\n * @param {Object} `data` Front matter to stringify.\n * @param {Object} `options` [Options](#options) to pass to gray-matter and [js-yaml].\n * @return {String} Returns a string created by wrapping stringified yaml with delimiters, and appending that to the given string.\n * @api public\n */\n\nmatter.stringify = function(file, data, options) {\n  if (typeof file === 'string') file = matter(file, options);\n  return stringify(file, data, options);\n};\n\n/**\n * Synchronously read a file from the file system and parse\n * front matter. Returns the same object as the [main function](#matter).\n *\n * ```js\n * const file = matter.read('./content/blog-post.md');\n * ```\n * @param {String} `filepath` file path of the file to read.\n * @param {Object} `options` [Options](#options) to pass to gray-matter.\n * @return {Object} Returns [an object](#returned-object) with `data` and `content`\n * @api public\n */\n\nmatter.read = function(filepath, options) {\n  const str = fs.readFileSync(filepath, 'utf8');\n  const file = matter(str, options);\n  file.path = filepath;\n  return file;\n};\n\n/**\n * Returns true if the given `string` has front matter.\n * @param  {String} `string`\n * @param  {Object} `options`\n * @return {Boolean} True if front matter exists.\n * @api public\n */\n\nmatter.test = function(str, options) {\n  return utils.startsWith(str, defaults(options).delimiters[0]);\n};\n\n/**\n * Detect the language to use, if one is defined after the\n * first front-matter delimiter.\n * @param  {String} `string`\n * @param  {Object} `options`\n * @return {Object} Object with `raw` (actual language string), and `name`, the language with whitespace trimmed\n */\n\nmatter.language = function(str, options) {\n  const opts = defaults(options);\n  const open = opts.delimiters[0];\n\n  if (matter.test(str)) {\n    str = str.slice(open.length);\n  }\n\n  const language = str.slice(0, str.search(/\\r?\\n/));\n  return {\n    raw: language,\n    name: language ? language.trim() : ''\n  };\n};\n\n/**\n * Expose `matter`\n */\n\nmatter.cache = {};\nmatter.clearCache = function() {\n  matter.cache = {};\n};\nmodule.exports = matter;\n","'use strict';\n\nconst engines = require('./engines');\nconst utils = require('./utils');\n\nmodule.exports = function(options) {\n  const opts = Object.assign({}, options);\n\n  // ensure that delimiters are an array\n  opts.delimiters = utils.arrayify(opts.delims || opts.delimiters || '---');\n  if (opts.delimiters.length === 1) {\n    opts.delimiters.push(opts.delimiters[0]);\n  }\n\n  opts.language = (opts.language || opts.lang || 'yaml').toLowerCase();\n  opts.engines = Object.assign({}, engines, opts.parsers, opts.engines);\n  return opts;\n};\n","'use strict';\n\nmodule.exports = function(name, options) {\n  let engine = options.engines[name] || options.engines[aliase(name)];\n  if (typeof engine === 'undefined') {\n    throw new Error('gray-matter engine \"' + name + '\" is not registered');\n  }\n  if (typeof engine === 'function') {\n    engine = { parse: engine };\n  }\n  return engine;\n};\n\nfunction aliase(name) {\n  switch (name.toLowerCase()) {\n    case 'js':\n    case 'javascript':\n      return 'javascript';\n    case 'coffee':\n    case 'coffeescript':\n    case 'cson':\n      return 'coffee';\n    case 'yaml':\n    case 'yml':\n      return 'yaml';\n    default: {\n      return name;\n    }\n  }\n}\n","'use strict';\n\nconst yaml = require('js-yaml');\n\n/**\n * Default engines\n */\n\nconst engines = exports = module.exports;\n\n/**\n * YAML\n */\n\nengines.yaml = {\n  parse: yaml.safeLoad.bind(yaml),\n  stringify: yaml.safeDump.bind(yaml)\n};\n\n/**\n * JSON\n */\n\nengines.json = {\n  parse: JSON.parse.bind(JSON),\n  stringify: function(obj, options) {\n    const opts = Object.assign({replacer: null, space: 2}, options);\n    return JSON.stringify(obj, opts.replacer, opts.space);\n  }\n};\n\n/**\n * JavaScript\n */\n\nengines.javascript = {\n  parse: function parse(str, options, wrap) {\n    /* eslint no-eval: 0 */\n    try {\n      if (wrap !== false) {\n        str = '(function() {\\nreturn ' + str.trim() + ';\\n}());';\n      }\n      return eval(str) || {};\n    } catch (err) {\n      if (wrap !== false && /(unexpected|identifier)/i.test(err.message)) {\n        return parse(str, options, false);\n      }\n      throw new SyntaxError(err);\n    }\n  },\n  stringify: function() {\n    throw new Error('stringifying JavaScript is not supported');\n  }\n};\n","'use strict';\n\nconst defaults = require('./defaults');\n\nmodule.exports = function(file, options) {\n  const opts = defaults(options);\n\n  if (file.data == null) {\n    file.data = {};\n  }\n\n  if (typeof opts.excerpt === 'function') {\n    return opts.excerpt(file, opts);\n  }\n\n  const sep = file.data.excerpt_separator || opts.excerpt_separator;\n  if (sep == null && (opts.excerpt === false || opts.excerpt == null)) {\n    return file;\n  }\n\n  const delimiter = typeof opts.excerpt === 'string'\n    ? opts.excerpt\n    : (sep || opts.delimiters[0]);\n\n  // if enabled, get the excerpt defined after front-matter\n  const idx = file.content.indexOf(delimiter);\n  if (idx !== -1) {\n    file.excerpt = file.content.slice(0, idx);\n  }\n\n  return file;\n};\n","'use strict';\n\nconst getEngine = require('./engine');\nconst defaults = require('./defaults');\n\nmodule.exports = function(language, str, options) {\n  const opts = defaults(options);\n  const engine = getEngine(language, opts);\n  if (typeof engine.parse !== 'function') {\n    throw new TypeError('expected \"' + language + '.parse\" to be a function');\n  }\n  return engine.parse(str, opts);\n};\n","'use strict';\n\nconst typeOf = require('kind-of');\nconst getEngine = require('./engine');\nconst defaults = require('./defaults');\n\nmodule.exports = function(file, data, options) {\n  if (data == null && options == null) {\n    switch (typeOf(file)) {\n      case 'object':\n        data = file.data;\n        options = {};\n        break;\n      case 'string':\n        return file;\n      default: {\n        throw new TypeError('expected file to be a string or object');\n      }\n    }\n  }\n\n  const str = file.content;\n  const opts = defaults(options);\n  if (data == null) {\n    if (!opts.data) return file;\n    data = opts.data;\n  }\n\n  const language = file.language || opts.language;\n  const engine = getEngine(language, opts);\n  if (typeof engine.stringify !== 'function') {\n    throw new TypeError('expected \"' + language + '.stringify\" to be a function');\n  }\n\n  data = Object.assign({}, file.data, data);\n  const open = opts.delimiters[0];\n  const close = opts.delimiters[1];\n  const matter = engine.stringify(data, options).trim();\n  let buf = '';\n\n  if (matter !== '{}') {\n    buf = newline(open) + newline(matter) + newline(close);\n  }\n\n  if (typeof file.excerpt === 'string' && file.excerpt !== '') {\n    if (str.indexOf(file.excerpt.trim()) === -1) {\n      buf += newline(file.excerpt) + newline(close);\n    }\n  }\n\n  return buf + newline(str);\n};\n\nfunction newline(str) {\n  return str.slice(-1) !== '\\n' ? str + '\\n' : str;\n}\n","'use strict';\n\nconst typeOf = require('kind-of');\nconst stringify = require('./stringify');\nconst utils = require('./utils');\n\n/**\n * Normalize the given value to ensure an object is returned\n * with the expected properties.\n */\n\nmodule.exports = function(file) {\n  if (typeOf(file) !== 'object') {\n    file = { content: file };\n  }\n\n  if (typeOf(file.data) !== 'object') {\n    file.data = {};\n  }\n\n  // if file was passed as an object, ensure that\n  // \"file.content\" is set\n  if (file.contents && file.content == null) {\n    file.content = file.contents;\n  }\n\n  // set non-enumerable properties on the file object\n  utils.define(file, 'orig', utils.toBuffer(file.content));\n  utils.define(file, 'language', file.language || '');\n  utils.define(file, 'matter', file.matter || '');\n  utils.define(file, 'stringify', function(data, options) {\n    if (options && options.language) {\n      file.language = options.language;\n    }\n    return stringify(file, data, options);\n  });\n\n  // strip BOM and ensure that \"file.content\" is a string\n  file.content = utils.toString(file.content);\n  file.isEmpty = false;\n  file.excerpt = '';\n  return file;\n};\n","'use strict';\n\nconst stripBom = require('strip-bom-string');\nconst typeOf = require('kind-of');\n\nexports.define = function(obj, key, val) {\n  Reflect.defineProperty(obj, key, {\n    enumerable: false,\n    configurable: true,\n    writable: true,\n    value: val\n  });\n};\n\n/**\n * Returns true if `val` is a buffer\n */\n\nexports.isBuffer = function(val) {\n  return typeOf(val) === 'buffer';\n};\n\n/**\n * Returns true if `val` is an object\n */\n\nexports.isObject = function(val) {\n  return typeOf(val) === 'object';\n};\n\n/**\n * Cast `input` to a buffer\n */\n\nexports.toBuffer = function(input) {\n  return typeof input === 'string' ? Buffer.from(input) : input;\n};\n\n/**\n * Cast `val` to a string.\n */\n\nexports.toString = function(input) {\n  if (exports.isBuffer(input)) return stripBom(String(input));\n  if (typeof input !== 'string') {\n    throw new TypeError('expected input to be a string or buffer');\n  }\n  return stripBom(input);\n};\n\n/**\n * Cast `val` to an array.\n */\n\nexports.arrayify = function(val) {\n  return val ? (Array.isArray(val) ? val : [val]) : [];\n};\n\n/**\n * Returns true if `str` starts with `substr`.\n */\n\nexports.startsWith = function(str, substr, len) {\n  if (typeof len !== 'number') len = substr.length;\n  return str.slice(0, len) === substr;\n};\n","/*!\n * is-extendable <https://github.com/jonschlinkert/is-extendable>\n *\n * Copyright (c) 2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isExtendable(val) {\n  return typeof val !== 'undefined' && val !== null\n    && (typeof val === 'object' || typeof val === 'function');\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.throwIfAborted = exports.AbortError = void 0;\nconst isiterable_1 = require(\"./util/isiterable\");\nclass AbortError extends Error {\n    constructor(message = 'The operation has been aborted') {\n        super(message);\n        Object.setPrototypeOf(this, AbortError.prototype);\n        Error.captureStackTrace(this, this.constructor);\n        this.name = 'AbortError';\n    }\n    get [Symbol.toStringTag]() {\n        return 'AbortError';\n    }\n}\nexports.AbortError = AbortError;\nfunction throwIfAborted(signal) {\n    if (signal && signal.aborted) {\n        throw new AbortError();\n    }\n}\nexports.throwIfAborted = throwIfAborted;\nObject.defineProperty(AbortError, Symbol.hasInstance, {\n    writable: true,\n    configurable: true,\n    value(x) {\n        return ((0, isiterable_1.isObject)(x) && (x.constructor.name === 'AbortError' || x[Symbol.toStringTag] === 'AbortError'));\n    },\n});\n\n//# sourceMappingURL=aborterror.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extremaBy = void 0;\nconst aborterror_1 = require(\"../aborterror\");\nconst withabort_1 = require(\"./operators/withabort\");\nasync function extremaBy(source, selector, comparer, signal) {\n    (0, aborterror_1.throwIfAborted)(signal);\n    let result = [];\n    const it = (0, withabort_1.wrapWithAbort)(source, signal)[Symbol.asyncIterator]();\n    const { value, done } = await it.next();\n    if (done) {\n        throw new Error('Sequence contains no elements');\n    }\n    let resKey = await selector(value, signal);\n    result.push(value);\n    let next;\n    while (!(next = await it.next()).done) {\n        const current = next.value;\n        const key = await selector(current, signal);\n        const cmp = await comparer(key, resKey, signal);\n        if (cmp === 0) {\n            result.push(current);\n        }\n        else if (cmp > 0) {\n            result = [current];\n            resKey = key;\n        }\n    }\n    return result;\n}\nexports.extremaBy = extremaBy;\n\n//# sourceMappingURL=_extremaby.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sleep = void 0;\nconst aborterror_1 = require(\"../aborterror\");\nfunction sleep(dueTime, signal) {\n    return new Promise((resolve, reject) => {\n        if (signal && signal.aborted) {\n            reject(new aborterror_1.AbortError());\n        }\n        const id = setTimeout(() => {\n            if (signal) {\n                signal.removeEventListener('abort', onAbort);\n                if (signal.aborted) {\n                    onAbort();\n                    return;\n                }\n            }\n            resolve();\n        }, dueTime);\n        if (signal) {\n            signal.addEventListener('abort', onAbort, { once: true });\n        }\n        function onAbort() {\n            clearTimeout(id);\n            reject(new aborterror_1.AbortError());\n        }\n    });\n}\nexports.sleep = sleep;\n\n//# sourceMappingURL=_sleep.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asyncify = void 0;\nconst asyncsink_1 = require(\"./asyncsink\");\nconst memoize_1 = require(\"./operators/memoize\");\n/**\n * Converts the callback function into wrapped function which returns an async-iterable.\n *\n * @template TSource The type of the value returned from the callback.\n * @param {Function} func The callback function to wrap as an async-iterable.\n * @returns {(...args: any[]) => AsyncIterableX<TSource>} A function when invoked, returns an async-iterable from the callback.\n */\nfunction asyncify(func) {\n    return function (...args) {\n        const sink = new asyncsink_1.AsyncSink();\n        const handler = function (...innerArgs) {\n            sink.write(innerArgs.length === 1 ? innerArgs[0] : innerArgs);\n            sink.end();\n        };\n        try {\n            func(...args.concat(handler));\n        }\n        catch (e) {\n            sink.error(e);\n            sink.end();\n        }\n        const yielder = async function* () {\n            for (let next; !(next = await sink.next()).done;) {\n                yield next.value;\n            }\n        };\n        return (0, memoize_1.memoize)()(yielder());\n    };\n}\nexports.asyncify = asyncify;\n\n//# sourceMappingURL=asyncify.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asyncifyErrback = void 0;\nconst asyncsink_1 = require(\"./asyncsink\");\nconst memoize_1 = require(\"./operators/memoize\");\n/**\n * Converts a Node.js style error first callback to an async-iterable sequence.\n *\n * @template TSource The type of the returned value from the callback.\n * @param {Function} func The Node.js error first callback to convert to an async-iterable.\n * @returns {(...args: any[]) => AsyncIterableX<TSource>} A function, when invoked, contains the result of the callback as an async-iterable.\n */\nfunction asyncifyErrback(func) {\n    return function (...args) {\n        const sink = new asyncsink_1.AsyncSink();\n        const handler = function (err, ...innerArgs) {\n            if (err) {\n                sink.error(err);\n                sink.end();\n            }\n            else {\n                sink.write(innerArgs.length === 1 ? innerArgs[0] : innerArgs);\n                sink.end();\n            }\n        };\n        try {\n            func(...args.concat(handler));\n        }\n        catch (e) {\n            sink.error(e);\n            sink.end();\n        }\n        const yielder = async function* () {\n            for (let next; !(next = await sink.next()).done;) {\n                yield next.value;\n            }\n        };\n        return (0, memoize_1.memoize)()(yielder());\n    };\n}\nexports.asyncifyErrback = asyncifyErrback;\n\n//# sourceMappingURL=asyncifyerrback.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FromObservableAsyncIterable = exports.FromPromiseIterable = exports.FromAsyncIterable = exports.FromArrayIterable = exports.AsyncSink = exports.AsyncIterableX = void 0;\nconst bindcallback_1 = require(\"../util/bindcallback\");\nconst identity_1 = require(\"../util/identity\");\nconst isiterable_1 = require(\"../util/isiterable\");\nconst tolength_1 = require(\"../util/tolength\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * This class serves as the base for all operations which support [Symbol.asyncIterator].\n */\nclass AsyncIterableX {\n    /** @nocollapse */\n    async forEach(projection, thisArg, signal) {\n        const source = signal ? new WithAbortAsyncIterable(this, signal) : this;\n        let i = 0;\n        for await (const item of source) {\n            await projection.call(thisArg, item, i++, signal);\n        }\n    }\n    pipe(...args) {\n        let i = -1;\n        const n = args.length;\n        let acc = this;\n        while (++i < n) {\n            acc = args[i](AsyncIterableX.as(acc));\n        }\n        return acc;\n    }\n    /** @nocollapse */\n    static from(source, selector = identity_1.identityAsync, thisArg) {\n        const fn = (0, bindcallback_1.bindCallback)(selector, thisArg, 2);\n        if ((0, isiterable_1.isIterable)(source) || (0, isiterable_1.isAsyncIterable)(source)) {\n            return new FromAsyncIterable(source, fn);\n        }\n        if ((0, isiterable_1.isPromise)(source)) {\n            return new FromPromiseIterable(source, fn);\n        }\n        if ((0, isiterable_1.isObservable)(source)) {\n            return new FromObservableAsyncIterable(source, fn);\n        }\n        if ((0, isiterable_1.isArrayLike)(source)) {\n            return new FromArrayIterable(source, fn);\n        }\n        if ((0, isiterable_1.isIterator)(source)) {\n            return new FromAsyncIterable({ [Symbol.asyncIterator]: () => source }, fn);\n        }\n        throw new TypeError('Input type not supported');\n    }\n    /**\n     * Converts the input into an async-iterable sequence.\n     *\n     * @param {*} source The source to convert to an async-iterable sequence.\n     * @returns {AsyncIterableX<*>} An async-iterable containing the input.\n     */\n    /** @nocollapse */\n    static as(source) {\n        if (source instanceof AsyncIterableX) {\n            return source;\n        }\n        if (typeof source === 'string') {\n            return new FromArrayIterable([source], identity_1.identityAsync);\n        }\n        if ((0, isiterable_1.isIterable)(source) || (0, isiterable_1.isAsyncIterable)(source)) {\n            return new FromAsyncIterable(source, identity_1.identityAsync);\n        }\n        if ((0, isiterable_1.isPromise)(source)) {\n            return new FromPromiseIterable(source, identity_1.identityAsync);\n        }\n        if ((0, isiterable_1.isObservable)(source)) {\n            return new FromObservableAsyncIterable(source, identity_1.identityAsync);\n        }\n        if ((0, isiterable_1.isArrayLike)(source)) {\n            return new FromArrayIterable(source, identity_1.identityAsync);\n        }\n        return new FromArrayIterable([source], identity_1.identityAsync);\n    }\n}\nexports.AsyncIterableX = AsyncIterableX;\nAsyncIterableX.prototype[Symbol.toStringTag] = 'AsyncIterableX';\nObject.defineProperty(AsyncIterableX, Symbol.hasInstance, {\n    writable: true,\n    configurable: true,\n    value(inst) {\n        return !!(inst && inst[Symbol.toStringTag] === 'AsyncIterableX');\n    },\n});\nconst ARRAY_VALUE = 'value';\nconst ARRAY_ERROR = 'error';\nclass AsyncSink {\n    _ended;\n    _values;\n    _resolvers;\n    constructor() {\n        this._ended = false;\n        this._values = [];\n        this._resolvers = [];\n    }\n    [Symbol.asyncIterator]() {\n        return this;\n    }\n    write(value) {\n        this._push({ type: ARRAY_VALUE, value });\n    }\n    error(error) {\n        this._push({ type: ARRAY_ERROR, error });\n    }\n    _push(item) {\n        if (this._ended) {\n            throw new Error('AsyncSink already ended');\n        }\n        if (this._resolvers.length > 0) {\n            const { resolve, reject } = this._resolvers.shift();\n            if (item.type === ARRAY_ERROR) {\n                reject(item.error);\n            }\n            else {\n                resolve({ done: false, value: item.value });\n            }\n        }\n        else {\n            this._values.push(item);\n        }\n    }\n    next() {\n        if (this._values.length > 0) {\n            const { type, value, error } = this._values.shift();\n            if (type === ARRAY_ERROR) {\n                return Promise.reject(error);\n            }\n            else {\n                return Promise.resolve({ done: false, value });\n            }\n        }\n        if (this._ended) {\n            return Promise.resolve({ done: true });\n        }\n        return new Promise((resolve, reject) => {\n            this._resolvers.push({ resolve, reject });\n        });\n    }\n    end() {\n        while (this._resolvers.length > 0) {\n            this._resolvers.shift().resolve({ done: true });\n        }\n        this._ended = true;\n    }\n}\nexports.AsyncSink = AsyncSink;\nclass FromArrayIterable extends AsyncIterableX {\n    _source;\n    _selector;\n    constructor(source, selector) {\n        super();\n        this._source = source;\n        this._selector = selector;\n    }\n    async *[Symbol.asyncIterator]() {\n        let i = 0;\n        const length = (0, tolength_1.toLength)(this._source.length);\n        while (i < length) {\n            yield await this._selector(this._source[i], i++);\n        }\n    }\n}\nexports.FromArrayIterable = FromArrayIterable;\nclass FromAsyncIterable extends AsyncIterableX {\n    _source;\n    _selector;\n    constructor(source, selector) {\n        super();\n        this._source = source;\n        this._selector = selector;\n    }\n    async *[Symbol.asyncIterator]() {\n        let i = 0;\n        for await (const item of this._source) {\n            yield await this._selector(item, i++);\n        }\n    }\n}\nexports.FromAsyncIterable = FromAsyncIterable;\nclass FromPromiseIterable extends AsyncIterableX {\n    _source;\n    _selector;\n    constructor(source, selector) {\n        super();\n        this._source = source;\n        this._selector = selector;\n    }\n    async *[Symbol.asyncIterator]() {\n        const item = await this._source;\n        yield await this._selector(item, 0);\n    }\n}\nexports.FromPromiseIterable = FromPromiseIterable;\nclass FromObservableAsyncIterable extends AsyncIterableX {\n    _observable;\n    _selector;\n    constructor(observable, selector) {\n        super();\n        this._observable = observable;\n        this._selector = selector;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        const sink = new AsyncSink();\n        const subscription = this._observable.subscribe({\n            next(value) {\n                sink.write(value);\n            },\n            error(err) {\n                sink.error(err);\n            },\n            complete() {\n                sink.end();\n            },\n        });\n        function onAbort() {\n            sink.error(new aborterror_1.AbortError());\n        }\n        if (signal) {\n            signal.addEventListener('abort', onAbort);\n        }\n        let i = 0;\n        try {\n            for (let next; !(next = await sink.next()).done;) {\n                (0, aborterror_1.throwIfAborted)(signal);\n                yield await this._selector(next.value, i++);\n            }\n        }\n        finally {\n            if (signal) {\n                signal.removeEventListener('abort', onAbort);\n            }\n            subscription.unsubscribe();\n        }\n    }\n}\nexports.FromObservableAsyncIterable = FromObservableAsyncIterable;\nclass WithAbortAsyncIterable {\n    _source;\n    _signal;\n    constructor(source, signal) {\n        this._source = source;\n        this._signal = signal;\n    }\n    [Symbol.asyncIterator]() {\n        // @ts-ignore\n        return this._source[Symbol.asyncIterator](this._signal);\n    }\n}\ntry {\n    ((isBrowser) => {\n        if (isBrowser) {\n            return;\n        }\n        AsyncIterableX.prototype['pipe'] = nodePipe;\n        const readableOpts = (x, opts = x._writableState || { objectMode: true }) => opts;\n        function nodePipe(...args) {\n            let i = -1;\n            let end;\n            const n = args.length;\n            let prev = this;\n            let next;\n            while (++i < n) {\n                next = args[i];\n                if (typeof next === 'function') {\n                    prev = next(AsyncIterableX.as(prev));\n                }\n                else if ((0, isiterable_1.isWritableNodeStream)(next)) {\n                    ({ end = true } = args[i + 1] || {});\n                    // prettier-ignore\n                    return (0, isiterable_1.isReadableNodeStream)(prev) ? prev.pipe(next, { end }) :\n                        AsyncIterableX.as(prev).toNodeStream(readableOpts(next)).pipe(next, { end });\n                }\n            }\n            return prev;\n        }\n    })(typeof window === 'object' && typeof document === 'object' && document.nodeType === 9);\n}\ncatch (e) {\n    /* */\n}\n\n//# sourceMappingURL=asynciterablex.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncSink = void 0;\nconst ARRAY_VALUE = 'value';\nconst ARRAY_ERROR = 'error';\nclass AsyncSink {\n    _ended;\n    _values;\n    _resolvers;\n    constructor() {\n        this._ended = false;\n        this._values = [];\n        this._resolvers = [];\n    }\n    [Symbol.asyncIterator]() {\n        return this;\n    }\n    write(value) {\n        this._push({ type: ARRAY_VALUE, value });\n    }\n    error(error) {\n        this._push({ type: ARRAY_ERROR, error });\n    }\n    _push(item) {\n        if (this._ended) {\n            throw new Error('AsyncSink already ended');\n        }\n        if (this._resolvers.length > 0) {\n            const { resolve, reject } = this._resolvers.shift();\n            if (item.type === ARRAY_ERROR) {\n                reject(item.error);\n            }\n            else {\n                resolve({ done: false, value: item.value });\n            }\n        }\n        else {\n            this._values.push(item);\n        }\n    }\n    next() {\n        if (this._values.length > 0) {\n            const { type, value, error } = this._values.shift();\n            if (type === ARRAY_ERROR) {\n                return Promise.reject(error);\n            }\n            else {\n                return Promise.resolve({ done: false, value });\n            }\n        }\n        if (this._ended) {\n            return Promise.resolve({ done: true });\n        }\n        return new Promise((resolve, reject) => {\n            this._resolvers.push({ resolve, reject });\n        });\n    }\n    end() {\n        while (this._resolvers.length > 0) {\n            this._resolvers.shift().resolve({ done: true });\n        }\n        this._ended = true;\n    }\n}\nexports.AsyncSink = AsyncSink;\n\n//# sourceMappingURL=asyncsink.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.average = void 0;\nconst identity_1 = require(\"../util/identity\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Computes the average of the async-iterable sequence.\n *\n * @param {AsyncIterable<any>} source source async-iterable sequence to compute the average.\n * @param {AverageOptions<any>} [options] The options for calculating the average.\n * @returns {Promise<number>} A Promise which returns the computed average for the async-iterable sequence.\n */\nasync function average(source, options) {\n    const { ['selector']: selector = identity_1.identityAsync, ['signal']: signal, ['thisArg']: thisArg, } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    let sum = 0;\n    let count = 0;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        sum += await selector.call(thisArg, item, signal);\n        count++;\n    }\n    if (count === 0) {\n        throw new Error('Empty collection');\n    }\n    return sum / count;\n}\nexports.average = average;\n\n//# sourceMappingURL=average.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.catchError = exports.catchAll = exports.CatchAllAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst returniterator_1 = require(\"../util/returniterator\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\nclass CatchAllAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _source;\n    constructor(source) {\n        super();\n        this._source = source;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        let error = null;\n        let hasError = false;\n        for (const source of this._source) {\n            const it = (0, withabort_1.wrapWithAbort)(source, signal)[Symbol.asyncIterator]();\n            error = null;\n            hasError = false;\n            while (1) {\n                let c = {};\n                try {\n                    const { done, value } = await it.next();\n                    if (done) {\n                        await (0, returniterator_1.returnAsyncIterator)(it);\n                        break;\n                    }\n                    c = value;\n                }\n                catch (e) {\n                    error = e;\n                    hasError = true;\n                    await (0, returniterator_1.returnAsyncIterator)(it);\n                    break;\n                }\n                yield c;\n            }\n            if (!hasError) {\n                break;\n            }\n        }\n        if (hasError) {\n            throw error;\n        }\n    }\n}\nexports.CatchAllAsyncIterable = CatchAllAsyncIterable;\n/**\n * Continues an async-iterable sequence that is terminated by an exception with the next async-iterable sequence.\n *\n * @template T The type of the elements in the source and handler sequences.\n * @param {Iterable<AsyncIterable<T>>} source async-iterable sequences to catch exceptions for.\n * @returns {AsyncIterableX<T>} An async-iterable sequence containing elements from consecutive source\n * sequences until a source sequence terminates successfully.\n */\nfunction catchAll(source) {\n    return new CatchAllAsyncIterable(source);\n}\nexports.catchAll = catchAll;\n/**\n * Continues an async-iterable sequence that is terminated by an exception with the next async-iterable sequence.\n *\n * @template T The type of the elements in the source and handler sequences.\n * @param {...AsyncIterable<T>[]} args async-iterable sequences to catch exceptions for.\n * @returns {AsyncIterableX<T>} An async-iterable sequence containing elements from consecutive source\n * sequences until a source sequence terminates successfully.\n */\nfunction catchError(...args) {\n    return new CatchAllAsyncIterable(args);\n}\nexports.catchError = catchError;\n\n//# sourceMappingURL=catcherror.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.combineLatest = exports.CombineLatestAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst identity_1 = require(\"../util/identity\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\nconst safeRace_1 = require(\"../util/safeRace\");\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst NEVER_PROMISE = new Promise(() => { });\nfunction wrapPromiseWithIndex(promise, index) {\n    return promise.then((value) => ({ value, index }));\n}\nclass CombineLatestAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _sources;\n    constructor(sources) {\n        super();\n        this._sources = sources;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        const length = this._sources.length;\n        const iterators = new Array(length);\n        const nexts = new Array(length);\n        let hasValueAll = false;\n        const values = new Array(length);\n        const hasValues = new Array(length);\n        let active = length;\n        hasValues.fill(false);\n        for (let i = 0; i < length; i++) {\n            const iterator = (0, withabort_1.wrapWithAbort)(this._sources[i], signal)[Symbol.asyncIterator]();\n            iterators[i] = iterator;\n            nexts[i] = wrapPromiseWithIndex(iterator.next(), i);\n        }\n        while (active > 0) {\n            const next = (0, safeRace_1.safeRace)(nexts);\n            const { value: { value: value$, done: done$ }, index, } = await next;\n            if (done$) {\n                nexts[index] = NEVER_PROMISE;\n                active--;\n            }\n            else {\n                values[index] = value$;\n                hasValues[index] = true;\n                const iterator$ = iterators[index];\n                nexts[index] = wrapPromiseWithIndex(iterator$.next(), index);\n                if (hasValueAll || (hasValueAll = hasValues.every(identity_1.identity))) {\n                    yield values;\n                }\n            }\n        }\n    }\n}\nexports.CombineLatestAsyncIterable = CombineLatestAsyncIterable;\nfunction combineLatest(...sources) {\n    return new CombineLatestAsyncIterable(sources);\n}\nexports.combineLatest = combineLatest;\n\n//# sourceMappingURL=combinelatest.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.concat = exports._concatAll = exports.ConcatAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\nclass ConcatAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _source;\n    constructor(source) {\n        super();\n        this._source = source;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        for (const outer of this._source) {\n            for await (const item of (0, withabort_1.wrapWithAbort)(outer, signal)) {\n                yield item;\n            }\n        }\n    }\n}\nexports.ConcatAsyncIterable = ConcatAsyncIterable;\nfunction _concatAll(source) {\n    return new ConcatAsyncIterable(source);\n}\nexports._concatAll = _concatAll;\n/**\n * Concatenates all async-iterable sequences in the given sequences, as long as the previous async-iterable\n * sequence terminated successfully.\n *\n * @template T The type of the elements in the sequences.\n * @param {...AsyncIterable<T>[]} args The async-iterable sources.\n * @returns {AsyncIterableX<T>} An async-iterable sequence that contains the elements of each given sequence, in sequential order.\n */\nfunction concat(...args) {\n    return new ConcatAsyncIterable(args);\n}\nexports.concat = concat;\n\n//# sourceMappingURL=concat.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.count = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Returns a promise that represents how many elements in the specified async-iterable sequence satisfy a condition\n * otherwise, the number of items in the sequence.\n *\n * @template T The type of elements in the source collection.\n * @param {AsyncIterable<T>} source An async-iterable sequence that contains elements to be counted.\n * @param {OptionalFindOptions<T>} [options] The options for a predicate for filtering, thisArg for binding and AbortSignal for cancellation.\n * @returns {Promise<number>} The number of matching elements for the given condition if provided, otherwise\n * the number of elements in the sequence.\n */\nasync function count(source, options) {\n    const { ['signal']: signal, ['thisArg']: thisArg, ['predicate']: predicate = async () => true } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    let i = 0;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (await predicate.call(thisArg, item, i, signal)) {\n            i++;\n        }\n    }\n    return i;\n}\nexports.count = count;\n\n//# sourceMappingURL=count.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.create = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst aborterror_1 = require(\"../aborterror\");\nclass AnonymousAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _fn;\n    constructor(fn) {\n        super();\n        this._fn = fn;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        const it = await this._fn(signal);\n        let next;\n        while (!(next = await it.next()).done) {\n            yield next.value;\n        }\n    }\n}\n/**\n * Creates a new iterable using the specified function implementing the members of AsyncIterable\n *\n * @template T The type of the elements returned by the enumerable sequence.\n * @param {((signal?: AbortSignal) => AsyncIterator<T> | Promise<AsyncIterator<T>>)} fn The function that creates the [Symbol.asyncIterator]() method\n * @returns {AsyncIterableX<T>} A new async-iterable instance.\n */\nfunction create(fn) {\n    return new AnonymousAsyncIterable(fn);\n}\nexports.create = create;\n\n//# sourceMappingURL=create.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defer = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\nclass DeferAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _fn;\n    constructor(fn) {\n        super();\n        this._fn = fn;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        const items = await this._fn(signal);\n        for await (const item of (0, withabort_1.wrapWithAbort)(items, signal)) {\n            yield item;\n        }\n    }\n}\n/**\n * Returns an async-iterable sequence that invokes the specified factory function whenever a call to [Symbol.asyncIterator] has been made.\n *\n * @template TSource The type of the elements in the sequence returned by the factory function, and in the resulting sequence.\n * @param {((signal?: AbortSignal) => AsyncIterable<TSource> | Promise<AsyncIterable<TSource>>)} factory Async-iterable factory function to\n * invoke for each call to [Symbol.asyncIterator].\n * @returns {AsyncIterableX<TSource>} An async-iterable sequence whose observers trigger an invocation of the given async-iterable factory function.\n */\nfunction defer(factory) {\n    return new DeferAsyncIterable(factory);\n}\nexports.defer = defer;\n\n//# sourceMappingURL=defer.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.elementAt = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Returns the element at a specified index in a sequence or undefined if the index is out of range.\n *\n * @template T The type of the elements in the source sequence.\n * @param {AsyncIterable<T>} source async-iterable sequence to return the element from.\n * @param {number} index The zero-based index of the element to retrieve.\n * @param {AbortSignal} [signal] The optional abort signal to be used for cancelling the sequence at any time.\n * @returns {(Promise<T | undefined>)} An async-iterable sequence that produces the element at the specified\n * position in the source sequence, or undefined if the index is outside the bounds of the source sequence.\n */\nasync function elementAt(source, index, signal) {\n    (0, aborterror_1.throwIfAborted)(signal);\n    let i = index;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (i === 0) {\n            return item;\n        }\n        i--;\n    }\n    return undefined;\n}\nexports.elementAt = elementAt;\n\n//# sourceMappingURL=elementat.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.empty = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst aborterror_1 = require(\"../aborterror\");\nclass EmptyAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n    }\n}\n/**\n * Returns an empty async-iterable sequence.\n *\n * @template TSource The type used for the async-iterable type parameter of the resulting sequence.\n * @returns {AsyncIterableX<never>} An async-iterable sequence with no elements.\n */\nfunction empty() {\n    return new EmptyAsyncIterable();\n}\nexports.empty = empty;\n\n//# sourceMappingURL=empty.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.every = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Determines whether all elements of an async-iterable sequence satisfy a condition.\n *\n * @template T The type of the elements in the source sequence.\n * @param {AsyncIterable<T>} source An async-iterable sequence whose elements to apply the predicate to.\n * @param {FindOptions<T>} options The options for a predicate for filtering, thisArg for binding and AbortSignal for cancellation.\n * @returns {Promise<boolean>} An async-iterable sequence containing a single element determining whether all elements in the\n * source sequence pass the test in the specified predicate.\n */\nasync function every(source, options) {\n    const { ['signal']: signal, ['thisArg']: thisArg, ['predicate']: predicate } = options;\n    (0, aborterror_1.throwIfAborted)(signal);\n    let i = 0;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (!(await predicate.call(thisArg, item, i++, signal))) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.every = every;\n\n//# sourceMappingURL=every.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.find = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Returns the value of the first element in the provided async-iterable that satisfies the provided testing function.\n *\n * @template T The type of the elements in the source sequence.\n * @param {AsyncIterable<T>} source An async-iterable sequence whose elements to apply the predicate to.\n * @param {FindOptions<T>} options The options for a predicate for filtering, thisArg for binding and AbortSignal for cancellation.\n * @returns {(Promise<S | undefined>)} A promise with the value of the first element that matches the predicate.\n */\nasync function find(source, options) {\n    const { ['signal']: signal, ['thisArg']: thisArg, ['predicate']: predicate } = options;\n    (0, aborterror_1.throwIfAborted)(signal);\n    let i = 0;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (await predicate.call(thisArg, item, i++, signal)) {\n            return item;\n        }\n    }\n    return undefined;\n}\nexports.find = find;\n\n//# sourceMappingURL=find.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findIndex = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Returns the a Promise containing the index of the first element in the array that satisfies the provided testing function.\n * Otherwise, it returns a Promise with -1, indicating that no element passed the test.\n *\n * @template T The type of the elements in the source sequence.\n * @param {AsyncIterable<T>} source An async-iterable sequence whose elements to apply the predicate to.\n * @param {FindOptions<T>} options The options for a predicate for filtering, thisArg for binding and AbortSignal for cancellation.\n * @returns {Promise<number>} A promise containing the index of the first element in the array that passes the test. Otherwise, -1.\n */\nasync function findIndex(source, options) {\n    const { ['signal']: signal, ['thisArg']: thisArg, ['predicate']: predicate } = options;\n    (0, aborterror_1.throwIfAborted)(signal);\n    let i = 0;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (await predicate.call(thisArg, item, i++, signal)) {\n            return i;\n        }\n    }\n    return -1;\n}\nexports.findIndex = findIndex;\n\n//# sourceMappingURL=findindex.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.first = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Returns the first element of an async-iterable sequence that matches the predicate if provided, or undefined if no such element exists.\n *\n * @template T The type of the elements in the source sequence.\n * @param {AsyncIterable<T>} source Source async-enumerable sequence.\n * @returns {(Promise<S | undefined>)} A Promise containing the first element in the async-iterable sequence,\n * or a default value if no such element exists.\n */\nasync function first(source, options) {\n    const { ['signal']: signal, ['thisArg']: thisArg, ['predicate']: predicate = async () => true } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    let i = 0;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (await predicate.call(thisArg, item, i++, signal)) {\n            return item;\n        }\n    }\n    return undefined;\n}\nexports.first = first;\n\n//# sourceMappingURL=first.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forkJoin = void 0;\nconst identity_1 = require(\"../util/identity\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst safeRace_1 = require(\"../util/safeRace\");\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst NEVER_PROMISE = new Promise(() => { });\nfunction wrapPromiseWithIndex(promise, index) {\n    return promise.then((value) => ({ value, index }));\n}\n/**\n * Runs all specified async-iterable sequences in parallel and collects their last elements.\n *\n * @template T The type of the elements in the source sequences.\n * @param {...any[]} sources Async-iterable sequence to collect the last elements for.\n * @returns {(Promise<T[] | undefined>)} An async-iterable sequence with an array of all the last elements of all sequences.\n */\nasync function forkJoin(...sources) {\n    let signal = sources.shift();\n    if (!(signal instanceof AbortSignal)) {\n        sources.unshift(signal);\n        signal = undefined;\n    }\n    const length = sources.length;\n    const iterators = new Array(length);\n    const nexts = new Array(length);\n    let active = length;\n    const values = new Array(length);\n    const hasValues = new Array(length);\n    hasValues.fill(false);\n    for (let i = 0; i < length; i++) {\n        const iterator = (0, withabort_1.wrapWithAbort)(sources[i], signal)[Symbol.asyncIterator]();\n        iterators[i] = iterator;\n        nexts[i] = wrapPromiseWithIndex(iterator.next(), i);\n    }\n    while (active > 0) {\n        const next = (0, safeRace_1.safeRace)(nexts);\n        const { value: next$, index } = await next;\n        if (next$.done) {\n            nexts[index] = NEVER_PROMISE;\n            active--;\n        }\n        else {\n            const iterator$ = iterators[index];\n            nexts[index] = wrapPromiseWithIndex(iterator$.next(), index);\n            hasValues[index] = true;\n            values[index] = next$.value;\n        }\n    }\n    if (hasValues.length > 0 && hasValues.every(identity_1.identity)) {\n        return values;\n    }\n    return undefined;\n}\nexports.forkJoin = forkJoin;\n\n//# sourceMappingURL=forkjoin.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromDOMStream = exports.AsyncIterableReadableByteStream = exports.AsyncIterableReadableStream = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\n/** @ignore */\nconst SharedArrayBuf = typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : ArrayBuffer;\nclass AsyncIterableReadableStream extends asynciterablex_1.AsyncIterableX {\n    _stream;\n    constructor(_stream) {\n        super();\n        this._stream = _stream;\n    }\n    [Symbol.asyncIterator]() {\n        const stream = this._stream;\n        const reader = stream['getReader']();\n        return _consumeReader(stream, reader, defaultReaderToAsyncIterator(reader));\n    }\n}\nexports.AsyncIterableReadableStream = AsyncIterableReadableStream;\nclass AsyncIterableReadableByteStream extends AsyncIterableReadableStream {\n    [Symbol.asyncIterator]() {\n        const stream = this._stream;\n        let reader;\n        try {\n            reader = stream['getReader']({ mode: 'byob' });\n        }\n        catch (e) {\n            return super[Symbol.asyncIterator]();\n        }\n        const iterator = _consumeReader(stream, reader, byobReaderToAsyncIterator(reader));\n        // \"pump\" the iterator once so it initializes and is ready to accept a buffer or bytesToRead\n        iterator.next();\n        return iterator;\n    }\n}\nexports.AsyncIterableReadableByteStream = AsyncIterableReadableByteStream;\nasync function* _consumeReader(stream, reader, iterator) {\n    let threw = false;\n    try {\n        yield* iterator;\n    }\n    catch (e) {\n        if ((threw = true) && reader) {\n            await reader['cancel'](e);\n        }\n    }\n    finally {\n        if (reader) {\n            if (!threw) {\n                await reader['cancel']();\n            }\n            if (stream.locked) {\n                try {\n                    reader.closed.catch(() => {\n                        /* */\n                    });\n                    reader.releaseLock();\n                }\n                catch (e) {\n                    /* */\n                }\n            }\n        }\n    }\n}\n/** @ignore */\nasync function* defaultReaderToAsyncIterator(reader) {\n    let r;\n    while (!(r = await reader.read()).done) {\n        yield r.value;\n    }\n}\n/** @ignore */\nasync function* byobReaderToAsyncIterator(reader) {\n    let r;\n    let value = yield null;\n    while (!(r = await readNext(reader, value, 0)).done) {\n        value = yield r.value;\n    }\n}\n/** @ignore */\nasync function readNext(reader, bufferOrLen, offset) {\n    let size;\n    let buffer;\n    if (typeof bufferOrLen === 'number') {\n        buffer = new ArrayBuffer((size = bufferOrLen));\n    }\n    else if (bufferOrLen instanceof ArrayBuffer) {\n        size = (buffer = bufferOrLen).byteLength;\n    }\n    else if (bufferOrLen instanceof SharedArrayBuf) {\n        size = (buffer = bufferOrLen).byteLength;\n    }\n    else {\n        return { done: true, value: undefined };\n    }\n    return await readInto(reader, buffer, offset, size);\n}\n/** @ignore */\nasync function readInto(reader, buffer, offset, size) {\n    let innerOffset = offset;\n    if (innerOffset >= size) {\n        return { done: false, value: new Uint8Array(buffer, 0, size) };\n    }\n    const { done, value } = await reader.read(new Uint8Array(buffer, innerOffset, size - innerOffset));\n    if ((innerOffset += value.byteLength) < size && !done) {\n        return await readInto(reader, value.buffer, innerOffset, size);\n    }\n    return { done, value: new Uint8Array(value.buffer, 0, innerOffset) };\n}\n/**\n * Creates an async-iterable from an existing DOM stream and optional options.\n *\n * @param {ReadableStream} stream The readable stream to convert to an async-iterable.\n * @param {{ mode: 'byob' }} [options] The optional options to set the mode for the DOM stream.\n * @returns {AsyncIterableX<any>} An async-iterable created from the incoming async-iterable.\n */\nfunction fromDOMStream(stream, options) {\n    return !options || options['mode'] !== 'byob'\n        ? new AsyncIterableReadableStream(stream)\n        : new AsyncIterableReadableByteStream(stream);\n}\nexports.fromDOMStream = fromDOMStream;\n\n//# sourceMappingURL=fromdomstream.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromEvent = void 0;\nconst fromeventpattern_1 = require(\"./fromeventpattern\");\nconst isiterable_1 = require(\"../util/isiterable\");\nfunction isMessagePortEventEmitter(obj) {\n    return !!obj && (0, isiterable_1.isFunction)(obj.on) && (0, isiterable_1.isFunction)(obj.off);\n}\nfunction isNodeEventEmitter(obj) {\n    return !!obj && (0, isiterable_1.isFunction)(obj.addListener) && (0, isiterable_1.isFunction)(obj.removeListener);\n}\nfunction isEventTarget(obj) {\n    return !!obj && (0, isiterable_1.isFunction)(obj.addEventListener) && (0, isiterable_1.isFunction)(obj.removeEventListener);\n}\n/**\n * Converts an event emitter event into an async-iterable stream.\n *\n * @template TSource The type of elements in the emitter stream.\n * @param {EventedTarget} obj The object that emits the events to turn into an async-iterable.\n * @param {string} type The name of the event to listen for creation of the async-iterable.\n * @param {EventListenerOptions} [options] The options for listening to the events such as capture, passive and once.\n * @param {(...args: any[]) => TSource} [resultSelector] The result selector for the event.\n * @returns {AsyncIterableX<TSource>} An async-iterable sequence created from the events emitted from the evented target.\n */\nfunction fromEvent(obj, type, options, resultSelector) {\n    if ((0, isiterable_1.isFunction)(options)) {\n        resultSelector = options;\n        options = undefined;\n    }\n    if (isEventTarget(obj)) {\n        const target = obj;\n        return (0, fromeventpattern_1.fromEventPattern)((h) => target.addEventListener(type, h, options), (h) => target.removeEventListener(type, h, options), resultSelector);\n    }\n    else if (isMessagePortEventEmitter(obj)) {\n        const target = obj;\n        return (0, fromeventpattern_1.fromEventPattern)((h) => target.on(type, h), (h) => target.off(type, h), resultSelector);\n    }\n    else if (isNodeEventEmitter(obj)) {\n        const target = obj;\n        return (0, fromeventpattern_1.fromEventPattern)((h) => target.addListener(type, h), (h) => target.removeListener(type, h), resultSelector);\n    }\n    else {\n        throw new TypeError('Unsupported event target');\n    }\n}\nexports.fromEvent = fromEvent;\n\n//# sourceMappingURL=fromevent.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fromEventPattern = void 0;\nconst memoize_1 = require(\"./operators/memoize\");\nconst identity_1 = require(\"../util/identity\");\nconst isiterable_1 = require(\"../util/isiterable\");\nconst asyncsink_1 = require(\"./asyncsink\");\nconst { isArray } = Array;\nfunction callOrApply(fn, args) {\n    return isArray(args) ? fn(...args) : fn(args);\n}\n/**\n * Creates async-iterable from an event emitter by adding handlers for both listening and unsubscribing from events.\n *\n * @template TSource The type of elements in the event emitter.\n * @param {(handler: (...args: any[]) => void) => void} addHandler The function to add a listener to the source.\n * @param {(handler: (...args: any[]) => void) => void} removeHandler The function to remove a listener from the source.\n * @returns {AsyncIterableX<TSource>} An async-iterable which contains the data from the underlying events as wrapped by the handlers.\n */\nfunction fromEventPattern(addHandler, removeHandler, resultSelector) {\n    if (!(0, isiterable_1.isFunction)(resultSelector)) {\n        resultSelector = identity_1.identity;\n    }\n    const sink = new asyncsink_1.AsyncSink();\n    const handler = (...args) => sink.write(callOrApply(resultSelector, args));\n    addHandler(handler);\n    const loop = async function* () {\n        try {\n            for (let next; !(next = await sink.next()).done;) {\n                yield next.value;\n            }\n        }\n        finally {\n            removeHandler(handler);\n            sink.end();\n        }\n    };\n    return (0, memoize_1.memoize)()(loop());\n}\nexports.fromEventPattern = fromEventPattern;\n\n//# sourceMappingURL=fromeventpattern.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generate = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst aborterror_1 = require(\"../aborterror\");\nclass GenerateAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _initialState;\n    _condition;\n    _iterate;\n    _resultSelector;\n    constructor(initialState, condition, iterate, resultSelector) {\n        super();\n        this._initialState = initialState;\n        this._condition = condition;\n        this._iterate = iterate;\n        this._resultSelector = resultSelector;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        for (let i = this._initialState; await this._condition(i, signal); i = await this._iterate(i, signal)) {\n            yield await this._resultSelector(i, signal);\n        }\n    }\n}\n/**\n * Generates an async-iterable sequence by running a state-driven loop producing the sequence's elements.\n *\n * @template TState The type of the state used in the generator loop.\n * @template TResult The type of the elements in the produced sequence.\n * @param {TState} initialState The initial state.\n * @param {((value: TState, signal?: AbortSignal) => boolean | Promise<boolean>)} condition Condition to terminate generation (upon returning false).\n * @param {((value: TState, signal?: AbortSignal) => TState | Promise<TState>)} iterate Iteration step function.\n * @param {((value: TState, signal?: AbortSignal) => TResult | Promise<TResult>)} resultSelector Selector function for results produced in\n * the sequence.\n * @returns {AsyncIterableX<TResult>} The generated async-iterable sequence.\n */\nfunction generate(initialState, condition, iterate, resultSelector) {\n    return new GenerateAsyncIterable(initialState, condition, iterate, resultSelector);\n}\nexports.generate = generate;\n\n//# sourceMappingURL=generate.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateTime = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst _sleep_1 = require(\"./_sleep\");\nconst aborterror_1 = require(\"../aborterror\");\nclass GenerateTimeAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _initialState;\n    _condition;\n    _iterate;\n    _resultSelector;\n    _timeSelector;\n    constructor(initialState, condition, iterate, resultSelector, timeSelector) {\n        super();\n        this._initialState = initialState;\n        this._condition = condition;\n        this._iterate = iterate;\n        this._resultSelector = resultSelector;\n        this._timeSelector = timeSelector;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        for (let i = this._initialState; await this._condition(i, signal); i = await this._iterate(i, signal)) {\n            const time = await this._timeSelector(i, signal);\n            await (0, _sleep_1.sleep)(time, signal);\n            yield await this._resultSelector(i, signal);\n        }\n    }\n}\n/**\n * Generates an async-iterable sequence by running a time-based state-driven loop producing the sequence's elements.\n *\n * @template TState The type of the state used in the generator loop.\n * @template TResult The type of the elements in the produced sequence.\n * @param {TState} initialState The initial state.\n * @param {((value: TState, signal?: AbortSignal) => boolean | Promise<boolean>)} condition Condition to terminate generation (upon returning false).\n * @param {((value: TState, signal?: AbortSignal) => TState | Promise<TState>)} iterate Iteration step function.\n * @param {((value: TState, signal?: AbortSignal) => TResult | Promise<TResult>)} resultSelector Selector function for results produced in\n * the sequence.\n * @param {((value: TState, signal?: AbortSignal) => number | Promise<number>)} timeSelector Selector function for how much time to wait.\n * @returns {AsyncIterableX<TResult>} The generated async-iterable sequence.\n */\nfunction generateTime(initialState, condition, iterate, resultSelector, timeSelector) {\n    return new GenerateTimeAsyncIterable(initialState, condition, iterate, resultSelector, timeSelector);\n}\nexports.generateTime = generateTime;\n\n//# sourceMappingURL=generatetime.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.iif = void 0;\nconst defer_1 = require(\"./defer\");\nconst empty_1 = require(\"./empty\");\n/**\n * If the specified condition evaluates true, select the thenSource sequence.\n * Otherwise, select the elseSource sequence.\n *\n * @template TSource The type of the elements in the result sequence.\n * @param {((signal?: AbortSignal) => boolean | Promise<boolean>)} condition Condition evaluated to decide which sequence to return.\n * @param {AsyncIterable<TSource>} thenSource Sequence returned in case evaluates true.\n * @param {AsyncIterable<TSource>} [elseSource=empty()] Sequence returned in case condition evaluates false.\n * @returns {AsyncIterableX<TSource>} thenSource if condition evaluates true; elseSource otherwise.\n */\nfunction iif(condition, thenSource, elseSource = (0, empty_1.empty)()) {\n    return (0, defer_1.defer)(async (signal) => ((await condition(signal)) ? thenSource : elseSource));\n}\nexports.iif = iif;\n\n//# sourceMappingURL=iif.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.includes = void 0;\nconst comparer_1 = require(\"../util/comparer\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n *  Determines whether an async-itreable includes a certain value among its entries, returning true or false as appropriate.\n *\n * @template T The type of elements in the source sequence.\n * @param {AsyncIterable<T>} source The source sequence to search for the item.\n * @param {T} valueToFind The value to search for.\n * @param {number} [fromIndex=0] The position in this async-iterable at which to begin searching for valueToFind.\n * @param {AbortSignal} [signal] An optional abort signal to cancel the operation at any time.\n * @returns {Promise<boolean>} Returns a promise containing true if the value valueToFind is found within the async-iterable.\n */\nasync function includes(source, valueToFind, fromIndex = 0, signal) {\n    (0, aborterror_1.throwIfAborted)(signal);\n    let fromIdx = fromIndex;\n    let i = 0;\n    if (Math.abs(fromIdx)) {\n        fromIdx = 0;\n    }\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (i++ > fromIdx && (0, comparer_1.comparer)(item, valueToFind)) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.includes = includes;\n\n//# sourceMappingURL=includes.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.from = exports.as = void 0;\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./asyncifyerrback\"), exports);\ntslib_1.__exportStar(require(\"./asyncify\"), exports);\ntslib_1.__exportStar(require(\"./asynciterablex\"), exports);\ntslib_1.__exportStar(require(\"./average\"), exports);\ntslib_1.__exportStar(require(\"./catcherror\"), exports);\ntslib_1.__exportStar(require(\"./combinelatest\"), exports);\ntslib_1.__exportStar(require(\"./concat\"), exports);\ntslib_1.__exportStar(require(\"./count\"), exports);\ntslib_1.__exportStar(require(\"./create\"), exports);\ntslib_1.__exportStar(require(\"./defer\"), exports);\ntslib_1.__exportStar(require(\"./elementat\"), exports);\ntslib_1.__exportStar(require(\"./empty\"), exports);\ntslib_1.__exportStar(require(\"./every\"), exports);\ntslib_1.__exportStar(require(\"./findindex\"), exports);\ntslib_1.__exportStar(require(\"./find\"), exports);\ntslib_1.__exportStar(require(\"./first\"), exports);\ntslib_1.__exportStar(require(\"./forkjoin\"), exports);\ntslib_1.__exportStar(require(\"./fromdomstream\"), exports);\ntslib_1.__exportStar(require(\"./fromeventpattern\"), exports);\ntslib_1.__exportStar(require(\"./fromevent\"), exports);\ntslib_1.__exportStar(require(\"./generate\"), exports);\ntslib_1.__exportStar(require(\"./generatetime\"), exports);\ntslib_1.__exportStar(require(\"./iif\"), exports);\ntslib_1.__exportStar(require(\"./includes\"), exports);\ntslib_1.__exportStar(require(\"./interval\"), exports);\ntslib_1.__exportStar(require(\"./isempty\"), exports);\ntslib_1.__exportStar(require(\"./last\"), exports);\ntslib_1.__exportStar(require(\"./max\"), exports);\ntslib_1.__exportStar(require(\"./maxby\"), exports);\ntslib_1.__exportStar(require(\"./merge\"), exports);\ntslib_1.__exportStar(require(\"./min\"), exports);\ntslib_1.__exportStar(require(\"./minby\"), exports);\ntslib_1.__exportStar(require(\"./never\"), exports);\ntslib_1.__exportStar(require(\"./of\"), exports);\ntslib_1.__exportStar(require(\"./onerrorresumenext\"), exports);\ntslib_1.__exportStar(require(\"./race\"), exports);\ntslib_1.__exportStar(require(\"./range\"), exports);\ntslib_1.__exportStar(require(\"./reduceright\"), exports);\ntslib_1.__exportStar(require(\"./reduce\"), exports);\ntslib_1.__exportStar(require(\"./repeatvalue\"), exports);\ntslib_1.__exportStar(require(\"./sequenceequal\"), exports);\ntslib_1.__exportStar(require(\"./single\"), exports);\ntslib_1.__exportStar(require(\"./some\"), exports);\ntslib_1.__exportStar(require(\"./sum\"), exports);\ntslib_1.__exportStar(require(\"./throwerrror\"), exports);\ntslib_1.__exportStar(require(\"./toarray\"), exports);\ntslib_1.__exportStar(require(\"./todomstream\"), exports);\ntslib_1.__exportStar(require(\"./tomap\"), exports);\ntslib_1.__exportStar(require(\"./toobservable\"), exports);\ntslib_1.__exportStar(require(\"./toset\"), exports);\ntslib_1.__exportStar(require(\"./whiledo\"), exports);\ntslib_1.__exportStar(require(\"./zip\"), exports);\nconst asynciterablex_1 = require(\"./asynciterablex\");\nexports.as = asynciterablex_1.AsyncIterableX.as;\nexports.from = asynciterablex_1.AsyncIterableX.from;\n\n//# sourceMappingURL=index.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.interval = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst _sleep_1 = require(\"./_sleep\");\nconst aborterror_1 = require(\"../aborterror\");\nclass IntervalAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _dueTime;\n    constructor(dueTime) {\n        super();\n        this._dueTime = dueTime;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        let i = 0;\n        while (1) {\n            await (0, _sleep_1.sleep)(this._dueTime, signal);\n            yield i++;\n        }\n    }\n}\n/**\n * Produces a new item in an async-iterable at the given interval cycle time.\n *\n * @param {number} dueTime The due time in milliseconds to spawn a new item.\n * @returns {AsyncIterableX<number>} An async-iterable producing values at the specified interval.\n */\nfunction interval(dueTime) {\n    return new IntervalAsyncIterable(dueTime);\n}\nexports.interval = interval;\n\n//# sourceMappingURL=interval.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEmpty = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Determines whether the given async-iterable is empty.\n *\n * @template T The type of elements in the source sequence.\n * @param {AsyncIterable<T>} source The source async-iterable to determine whether it is empty.\n * @param {AbortSignal} [signal] An optional abort signal to cancel the operation.\n * @returns {Promise<boolean>} Returns a promise containing true if the sequence is empty, otherwise false.\n */\nasync function isEmpty(source, signal) {\n    (0, aborterror_1.throwIfAborted)(signal);\n    for await (const _ of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        return false;\n    }\n    return true;\n}\nexports.isEmpty = isEmpty;\n\n//# sourceMappingURL=isempty.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.last = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Returns the last element of an async-iterable sequence that satisfies the condition in the predicate if given\n * otherwise the last item in the sequence, or a default value if no such element exists.\n *\n * @template T The type of elements in the source sequence.\n * @param {AsyncIterable<T>} source The source async-iterable sequence.\n * @param {OptionalFindOptions<T, S>} [options] The options which include an optional predicate for filtering,\n * thirArg for binding, and abort signal for cancellation\n * @returns {(Promise<S | undefined>)} A promise containing the last value that matches the optional predicate or last item, otherwise undefined.\n */\nasync function last(source, options) {\n    const { ['signal']: signal, ['thisArg']: thisArg, ['predicate']: predicate = async () => true } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    let i = 0;\n    let result;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (await predicate.call(thisArg, item, i++, signal)) {\n            result = item;\n        }\n    }\n    return result;\n}\nexports.last = last;\n\n//# sourceMappingURL=last.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.max = void 0;\nconst comparer_1 = require(\"../util/comparer\");\nconst identity_1 = require(\"../util/identity\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Returns the maximum element with the optional selector.\n *\n * @template TSource The type of the elements in the source sequence.\n * @param {AsyncIterable<TSource>} source An async-iterable sequence to determine the maximum element of.\n * @param {ExtremaByOptions<TKey>} [options] The options which include an optional comparer and abort signal.\n * @returns {Promise<TResult>} The maximum element.\n */\nasync function max(source, options) {\n    const { ['comparer']: comparer = comparer_1.equalityComparerAsync, ['signal']: signal, ['selector']: selector = identity_1.identityAsync, } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    const it = (0, withabort_1.wrapWithAbort)(source, signal)[Symbol.asyncIterator]();\n    let next = await it.next();\n    if (next.done) {\n        throw new Error('Sequence contains no elements');\n    }\n    let maxValue = await selector(next.value);\n    while (!(next = await it.next()).done) {\n        const current = await selector(next.value);\n        if ((await comparer(current, maxValue)) > 0) {\n            maxValue = current;\n        }\n    }\n    return maxValue;\n}\nexports.max = max;\n\n//# sourceMappingURL=max.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.maxBy = void 0;\nconst _extremaby_1 = require(\"./_extremaby\");\nconst comparer_1 = require(\"../util/comparer\");\n/**\n * Returns the elements in an async-iterable sequence with the maximum key value.\n *\n * @template TSource The type of the elements in the source sequence.\n * @template TKey The type of the key computed for each element in the source sequence.\n * @param {AsyncIterable<TSource>} source An async-iterable sequence to get the maximum elements for.\n * @param {ExtremaOptions<TSource, TKey>} [options] The options which include an optional comparer and abort signal.\n * @returns {Promise<TSource[]>} A promise containing a list of zero or more elements that have a maximum key value.\n */\nfunction maxBy(source, options) {\n    const { ['comparer']: comparer = comparer_1.equalityComparerAsync, ['selector']: selector, ['signal']: signal, } = options || {};\n    return (0, _extremaby_1.extremaBy)(source, selector, comparer, signal);\n}\nexports.maxBy = maxBy;\n\n//# sourceMappingURL=maxby.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.merge = exports.MergeAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\nconst safeRace_1 = require(\"../util/safeRace\");\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst NEVER_PROMISE = new Promise(() => { });\nfunction wrapPromiseWithIndex(promise, index) {\n    return promise.then((value) => ({ value, index }));\n}\nclass MergeAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _source;\n    constructor(source) {\n        super();\n        this._source = source;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        const length = this._source.length;\n        const iterators = new Array(length);\n        const nexts = new Array(length);\n        let active = length;\n        for (let i = 0; i < length; i++) {\n            const iterator = (0, withabort_1.wrapWithAbort)(this._source[i], signal)[Symbol.asyncIterator]();\n            iterators[i] = iterator;\n            nexts[i] = wrapPromiseWithIndex(iterator.next(), i);\n        }\n        while (active > 0) {\n            const next = (0, safeRace_1.safeRace)(nexts);\n            const { value: { done: done$, value: value$ }, index, } = await next;\n            if (done$) {\n                nexts[index] = NEVER_PROMISE;\n                active--;\n            }\n            else {\n                const iterator$ = iterators[index];\n                nexts[index] = wrapPromiseWithIndex(iterator$.next(), index);\n                yield value$;\n            }\n        }\n    }\n}\nexports.MergeAsyncIterable = MergeAsyncIterable;\nfunction merge(source, ...args) {\n    return new MergeAsyncIterable([source, ...args]);\n}\nexports.merge = merge;\n\n//# sourceMappingURL=merge.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.min = void 0;\nconst comparer_1 = require(\"../util/comparer\");\nconst identity_1 = require(\"../util/identity\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n *  * Returns the minimum element with the optional selector.\n *\n * @template TSource The type of the elements in the source sequence.\n * @param {AsyncIterable<TSource>} source An async-iterable sequence to determine the minimum element of.\n * @param {ExtremaOptions<TSource, TKey>} [options] The options which include an optional comparer and abort signal.\n * @returns {Promise<TSource>} A promise containing the minimum element.\n */\nasync function min(source, options) {\n    const { ['comparer']: comparer = comparer_1.equalityComparerAsync, ['signal']: signal, ['selector']: selector = identity_1.identityAsync, } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    const it = (0, withabort_1.wrapWithAbort)(source, signal)[Symbol.asyncIterator]();\n    let next = await it.next();\n    if (next.done) {\n        throw new Error('Sequence contains no elements');\n    }\n    let minValue = await selector(next.value);\n    while (!(next = await it.next()).done) {\n        const current = await selector(next.value);\n        if ((await comparer(current, minValue)) < 0) {\n            minValue = current;\n        }\n    }\n    return minValue;\n}\nexports.min = min;\n\n//# sourceMappingURL=min.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.minBy = void 0;\nconst _extremaby_1 = require(\"./_extremaby\");\nconst comparer_1 = require(\"../util/comparer\");\n/**\n * Returns the elements in an async-enumerable sequence with the minimum key value.\n *\n * @template TSource The type of the elements in the source sequence.\n * @template TKey The type of the key computed for each element in the source sequence.\n * @param {AsyncIterable<TSource>} source An async-iterable sequence to get the minimum elements for.\n * @param {ExtremaOptions<TSource, TKey>} options The options which include an optional comparer and abort signal.\n * @returns {Promise<TSource[]>} A promise containing a list of zero or more elements that have a minimum key value.\n */\nfunction minBy(source, options) {\n    const { ['comparer']: comparer = comparer_1.equalityComparerAsync, ['selector']: selector, ['signal']: signal, } = options || {};\n    const newComparer = async (key, minValue) => -(await comparer(key, minValue));\n    return (0, _extremaby_1.extremaBy)(source, selector, newComparer, signal);\n}\nexports.minBy = minBy;\n\n//# sourceMappingURL=minby.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.never = exports.NeverAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst aborterror_1 = require(\"../aborterror\");\nclass NeverAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    constructor() {\n        super();\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        await new Promise((_, reject) => {\n            if (signal) {\n                signal.addEventListener('abort', () => reject(new aborterror_1.AbortError()), { once: true });\n            }\n        });\n    }\n}\nexports.NeverAsyncIterable = NeverAsyncIterable;\n/**\n * An async-iterable sequence that never returns a value.\n *\n * @returns {AsyncIterableX<never>} An async-iterable sequence that never returns a value.\n */\nfunction never() {\n    return new NeverAsyncIterable();\n}\nexports.never = never;\n\n//# sourceMappingURL=never.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.OfAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst aborterror_1 = require(\"../aborterror\");\nclass OfAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _args;\n    constructor(args) {\n        super();\n        this._args = args;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        for (const item of this._args) {\n            yield item;\n        }\n    }\n}\nexports.OfAsyncIterable = OfAsyncIterable;\n/**\n * Creates an async-iterable from the specified elements.\n *\n * @template TSource The type of the elements to create an async-iterable sequence.\n * @param {...TSource[]} args The elements to turn into an async-iterable sequence.\n * @returns {AsyncIterableX<TSource>} The async-iterable sequence created from the elements.\n */\nfunction of(...args) {\n    return new OfAsyncIterable(args);\n}\nexports.of = of;\n\n//# sourceMappingURL=of.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.onErrorResumeNext = exports.OnErrorResumeNextAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\nclass OnErrorResumeNextAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _source;\n    constructor(source) {\n        super();\n        this._source = source;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        for (const item of this._source) {\n            const it = (0, withabort_1.wrapWithAbort)(item, signal)[Symbol.asyncIterator]();\n            while (1) {\n                let next;\n                try {\n                    next = await it.next();\n                }\n                catch (e) {\n                    break;\n                }\n                if (next.done) {\n                    break;\n                }\n                yield next.value;\n            }\n        }\n    }\n}\nexports.OnErrorResumeNextAsyncIterable = OnErrorResumeNextAsyncIterable;\n/**\n * Concatenates all of the specified async-iterable sequences, even if the previous async-iterable sequence terminated exceptionally.\n *\n * @template T The type of the elements in the source sequences.\n * @param {...AsyncIterable<T>[]} args Async-iterable sequences to concatenate.\n * @returns {AsyncIterableX<T>} An async-iterable sequence that concatenates the source sequences, even if a sequence terminates exceptionally.\n */\nfunction onErrorResumeNext(...args) {\n    return new OnErrorResumeNextAsyncIterable(args);\n}\nexports.onErrorResumeNext = onErrorResumeNext;\n\n//# sourceMappingURL=onerrorresumenext.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.map = exports.MapAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"../asynciterablex\");\nconst withabort_1 = require(\"./withabort\");\nconst aborterror_1 = require(\"../../aborterror\");\nclass MapAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _source;\n    _selector;\n    _thisArg;\n    constructor(source, selector, thisArg) {\n        super();\n        this._source = source;\n        this._selector = selector;\n        this._thisArg = thisArg;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        let i = 0;\n        for await (const item of (0, withabort_1.wrapWithAbort)(this._source, signal)) {\n            const result = await this._selector.call(this._thisArg, item, i++, signal);\n            yield result;\n        }\n    }\n}\nexports.MapAsyncIterable = MapAsyncIterable;\n/**\n * Projects each element of an async-enumerable sequence into a new form.\n *\n * @template TSource The type of the elements in the source sequence.\n * @template TResult The type of the elements in the result sequence, obtained by running the selector\n * function for each element in the source sequence.\n * @param {((value: TSource, index: number, signal?: AbortSignal) => Promise<TResult> | TResult)} selector A transform function\n * to apply to each source element.\n * @param {*} [thisArg] Optional this for binding to the selector.\n * @returns {OperatorAsyncFunction<TSource, TResult>} An async-iterable sequence whose elements are the result of invoking the transform\n * function on each element of source.\n */\nfunction map(selector, thisArg) {\n    return function mapOperatorFunction(source) {\n        return new MapAsyncIterable(source, selector, thisArg);\n    };\n}\nexports.map = map;\n\n//# sourceMappingURL=map.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.memoize = exports.MemoizeAsyncBuffer = void 0;\nconst asynciterablex_1 = require(\"../asynciterablex\");\nconst _refcountlist_1 = require(\"../../iterable/operators/_refcountlist\");\nconst create_1 = require(\"../create\");\nconst aborterror_1 = require(\"../../aborterror\");\nclass MemoizeAsyncBuffer extends asynciterablex_1.AsyncIterableX {\n    _source;\n    _buffer;\n    _shared;\n    _error;\n    _stopped;\n    constructor(source, buffer) {\n        super();\n        this._error = null;\n        this._shared = null;\n        this._stopped = false;\n        this._source = source;\n        this._buffer = buffer;\n    }\n    [Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        return this._getIterable(0);\n    }\n    async *_getIterable(offset = 0) {\n        let i = offset - 1;\n        let done = false;\n        const buffer = this._buffer;\n        try {\n            do {\n                if (++i < buffer.count) {\n                    yield buffer.get(i);\n                    continue;\n                }\n                if (this._stopped) {\n                    throw this._error;\n                }\n                if (this._shared === null) {\n                    this._shared = this._source.next().then((r) => {\n                        this._shared = null;\n                        if (!r.done) {\n                            buffer.push(r.value);\n                        }\n                        return r;\n                    });\n                }\n                ({ done } = await this._shared.catch((e) => {\n                    this._error = e;\n                    this._stopped = true;\n                    throw e;\n                }));\n                if (!done) {\n                    yield buffer.get(i);\n                }\n            } while (!done);\n        }\n        finally {\n            buffer.done();\n        }\n    }\n}\nexports.MemoizeAsyncBuffer = MemoizeAsyncBuffer;\n/**\n * Memoizes the source sequence within a selector function where a specified number of iterators can get access\n * to all of the sequence's elements without causing multiple iterations over the source.\n *\n * @template TSource Source sequence element type.\n * @template TResult Result sequence element type.\n * @param {number} [readerCount=-1] Number of iterators that can access the underlying buffer. Once every\n * iterator has obtained an element from the buffer, the element is removed from the buffer.\n * @param {(value: AsyncIterable<TSource>) => AsyncIterable<TResult>} [selector] Selector function with memoized access\n * to the source sequence for a specified number of iterators.\n * @returns {(OperatorAsyncFunction<TSource, TSource | TResult>)} Sequence resulting from applying the selector function to the\n * memoized view over the source sequence.\n */\nfunction memoize(readerCount = -1, selector) {\n    return function memoizeOperatorFunction(source) {\n        if (!selector) {\n            return readerCount === -1\n                ? new MemoizeAsyncBuffer(source[Symbol.asyncIterator](), new _refcountlist_1.MaxRefCountList())\n                : new MemoizeAsyncBuffer(source[Symbol.asyncIterator](), new _refcountlist_1.RefCountList(readerCount));\n        }\n        return (0, create_1.create)(() => selector(memoize(readerCount)(source))[Symbol.asyncIterator]());\n    };\n}\nexports.memoize = memoize;\n\n//# sourceMappingURL=memoize.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.publish = void 0;\nconst _refcountlist_1 = require(\"../../iterable/operators/_refcountlist\");\nconst create_1 = require(\"../create\");\nconst memoize_1 = require(\"./memoize\");\nconst aborterror_1 = require(\"../../aborterror\");\nclass PublishedAsyncBuffer extends memoize_1.MemoizeAsyncBuffer {\n    constructor(source) {\n        super(source, new _refcountlist_1.RefCountList(0));\n    }\n    [Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        this._buffer.readerCount++;\n        return this._getIterable(this._buffer.count)[Symbol.asyncIterator]();\n    }\n}\n/**\n * Buffer enabling each iterator to retrieve elements from the shared source sequence, starting from the\n * index at the point of obtaining the iterator.\n *\n * @template TSource Source sequence element type.\n * @template TResult Result sequence element type.\n * @param {(value: AsyncIterable<TSource>) => AsyncIterable<TResult>} [selector] Selector function with published\n * access to the source sequence for each iterator.\n * @returns {(OperatorAsyncFunction<TSource, TSource | TResult>)} Sequence resulting from applying the selector function to the\n * published view over the source sequence.\n */\nfunction publish(selector) {\n    return function publishOperatorFunction(source) {\n        return selector\n            ? (0, create_1.create)(async () => selector(publish()(source))[Symbol.asyncIterator]())\n            : new PublishedAsyncBuffer(source[Symbol.asyncIterator]());\n    };\n}\nexports.publish = publish;\n\n//# sourceMappingURL=publish.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.wrapWithAbort = exports.withAbort = exports.WithAbortAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"../asynciterablex\");\nclass WithAbortAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _source;\n    _signal;\n    constructor(source, signal) {\n        super();\n        this._source = source;\n        this._signal = signal;\n    }\n    withAbort(signal) {\n        return new WithAbortAsyncIterable(this._source, signal);\n    }\n    [Symbol.asyncIterator]() {\n        return this._source[Symbol.asyncIterator](this._signal);\n    }\n}\nexports.WithAbortAsyncIterable = WithAbortAsyncIterable;\n/**\n * Wraps the existing async-iterable sequence with an abort signal for cancellation.\n *\n * @template TSource The type of the elements in the source sequence.\n * @param {AbortSignal} signal The abort signal used for cancellation.\n * @returns {MonoTypeOperatorAsyncFunction<TSource>} An async-iterable that can be cancelled by the abort signal.\n */\nfunction withAbort(signal) {\n    return function withAbortOperatorFunction(source) {\n        return new WithAbortAsyncIterable(source, signal);\n    };\n}\nexports.withAbort = withAbort;\n/**\n * Wraps an existing async-iterable with a new async-iterable which support cancellation.\n *\n * @template TSource The type of the elements in the source sequence.\n * @param {AsyncIterable<TSource>} source The source sequence to wrap with the abort signal.\n * @param {AbortSignal} [signal] The abort signal used for cancellation.\n * @returns {AsyncIterable<TSource>} The source sequence wrapped with an abort signal for cancellation.\n */\nfunction wrapWithAbort(source, signal) {\n    return signal ? new WithAbortAsyncIterable(source, signal) : source;\n}\nexports.wrapWithAbort = wrapWithAbort;\n\n//# sourceMappingURL=withabort.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.race = exports.RaceAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\nconst safeRace_1 = require(\"../util/safeRace\");\nfunction wrapPromiseWithIndex(promise, index) {\n    return promise.then((value) => ({ value, index }));\n}\nclass RaceAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _sources;\n    constructor(sources) {\n        super();\n        this._sources = sources;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        const sources = this._sources;\n        const length = sources.length;\n        const iterators = new Array(length);\n        const nexts = new Array(length);\n        for (let i = 0; i < length; i++) {\n            const iterator = (0, withabort_1.wrapWithAbort)(sources[i], signal)[Symbol.asyncIterator]();\n            iterators[i] = iterator;\n            nexts[i] = wrapPromiseWithIndex(iterator.next(), i);\n        }\n        const next = (0, safeRace_1.safeRace)(nexts);\n        const { value: next$, index } = await next;\n        if (!next$.done) {\n            yield next$.value;\n        }\n        const iterator$ = iterators[index];\n        // Cancel/finish other iterators\n        for (let i = 0; i < length; i++) {\n            if (i === index) {\n                continue;\n            }\n            const otherIterator = iterators[i];\n            if (otherIterator.return) {\n                otherIterator.return();\n            }\n        }\n        let nextItem;\n        while (!(nextItem = await iterator$.next()).done) {\n            yield nextItem.value;\n        }\n    }\n}\nexports.RaceAsyncIterable = RaceAsyncIterable;\n/**\n * Propagates the async sequence that reacts first.\n *\n * @param {...AsyncIterable<T>[]} sources The source sequences.\n * @return {AsyncIterable<T>} An async sequence that surfaces either of the given sequences, whichever reacted first.\n */\nfunction race(...sources) {\n    return new RaceAsyncIterable(sources);\n}\nexports.race = race;\n\n//# sourceMappingURL=race.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.range = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst aborterror_1 = require(\"../aborterror\");\nclass RangeAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _start;\n    _count;\n    constructor(start, count) {\n        super();\n        this._start = start;\n        this._count = count;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        for (let current = this._start, end = this._start + this._count; current < end; current++) {\n            yield current;\n        }\n    }\n}\n/**\n * Generates an async-iterable sequence of integral numbers within a specified range.\n *\n * @param {number} start The value of the first integer in the sequence.\n * @param {number} count The number of sequential integers to generate.\n * @returns {AsyncIterableX<number>} An async-iterable sequence that contains a range of sequential integral numbers.\n */\nfunction range(start, count) {\n    return new RangeAsyncIterable(start, count);\n}\nexports.range = range;\n\n//# sourceMappingURL=range.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reduce = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Applies an accumulator function over an async-iterable sequence, returning the result of the aggregation as a\n * single element in the result sequence. The seed value, if specified, is used as the initial accumulator value.\n * For aggregation behavior with incremental intermediate results, scan.\n *\n * @template T The type of the elements in the source sequence.\n * @template R The type of the result of the aggregation.\n * @param {AsyncIterable<T>} source An async-iterable sequence to aggregate over.\n * @param {ReduceOptions<T, R>} options The options which contains a callback, with optional seedn and an optional abort signal for cancellation.\n * @returns {Promise<R>} A promise with the final accumulator value.\n */\nasync function reduce(source, options) {\n    const { ['seed']: seed, ['signal']: signal, ['callback']: callback } = options;\n    const hasSeed = options.hasOwnProperty('seed');\n    (0, aborterror_1.throwIfAborted)(signal);\n    let i = 0;\n    let hasValue = false;\n    let acc = seed;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (hasValue || (hasValue = hasSeed)) {\n            acc = await callback(acc, item, i++, signal);\n        }\n        else {\n            acc = item;\n            hasValue = true;\n            i++;\n        }\n    }\n    if (!(hasSeed || hasValue)) {\n        throw new Error('Sequence contains no elements');\n    }\n    return acc;\n}\nexports.reduce = reduce;\n\n//# sourceMappingURL=reduce.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reduceRight = void 0;\nconst toarray_1 = require(\"./toarray\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Applies an accumulator function over an async-iterable sequence from the end, returning the result of the aggregation as a\n * single element in the result sequence. The seed value, if specified, is used as the initial accumulator value.\n * For aggregation behavior with incremental intermediate results, scan.\n *\n * @template T The type of the elements in the source sequence.\n * @template R The type of the result of the aggregation.\n * @param {AsyncIterable<T>} source An async-iterable sequence to aggregate over from the right.\n * @param {ReduceOptions<T, R>} options The options which contains a callback, with optional seed and an optional abort signal for cancellation.\n * @returns {Promise<R>} A promise with the final accumulator value.\n */\nasync function reduceRight(source, options) {\n    const { ['seed']: seed, ['signal']: signal, ['callback']: callback } = options;\n    const hasSeed = options.hasOwnProperty('seed');\n    (0, aborterror_1.throwIfAborted)(signal);\n    const array = await (0, toarray_1.toArray)(source, signal);\n    let hasValue = false;\n    let acc = seed;\n    for (let offset = array.length - 1; offset >= 0; offset--) {\n        const item = array[offset];\n        if (hasValue || (hasValue = hasSeed)) {\n            acc = await callback(acc, item, offset, signal);\n        }\n        else {\n            acc = item;\n            hasValue = true;\n        }\n    }\n    if (!(hasSeed || hasValue)) {\n        throw new Error('Sequence contains no elements');\n    }\n    return acc;\n}\nexports.reduceRight = reduceRight;\n\n//# sourceMappingURL=reduceright.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.repeatValue = exports.RepeatValueAsyncIterable = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst aborterror_1 = require(\"../aborterror\");\nclass RepeatValueAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _value;\n    _count;\n    constructor(value, count) {\n        super();\n        this._value = value;\n        this._count = count;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        if (this._count === -1) {\n            while (1) {\n                (0, aborterror_1.throwIfAborted)(signal);\n                yield this._value;\n            }\n        }\n        else {\n            for (let i = 0; i < this._count; i++) {\n                (0, aborterror_1.throwIfAborted)(signal);\n                yield this._value;\n            }\n        }\n    }\n}\nexports.RepeatValueAsyncIterable = RepeatValueAsyncIterable;\n/**\n * Repeats a given value for the specified number of times as an async-iterable.\n *\n * @template TSource The type of element to repeat.\n * @param {TSource} value The value to repeat as an async-iterable.\n * @param {number} [count=-1] The number of times to repeat the value, infinite if not specified.\n * @returns {AsyncIterableX<TSource>} An async-iterable with a single item that is repeated over the specified times.\n */\nfunction repeatValue(value, count = -1) {\n    return new RepeatValueAsyncIterable(value, count);\n}\nexports.repeatValue = repeatValue;\n\n//# sourceMappingURL=repeatvalue.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sequenceEqual = void 0;\nconst comparer_1 = require(\"../util/comparer\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Determines whether two sequences are equal by comparing the elements pairwise.\n *\n * @template T The type of the elements in the source sequence.\n * @param {AsyncIterable<T>} source First async-iterable sequence to compare.\n * @param {AsyncIterable<T>} other Second async-iterable sequence to compare.\n * @param {SequencEqualOptions<T>} [options] The sequence equal options which include an optional comparer and optional abort signal.\n * @returns {Promise<boolean>} A promise which indicates whether both sequences are of equal length and their\n * corresponding elements are equal.\n */\nasync function sequenceEqual(source, other, options) {\n    const { ['comparer']: comparer = comparer_1.comparerAsync, ['signal']: signal } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    const it1 = (0, withabort_1.wrapWithAbort)(source, signal)[Symbol.asyncIterator]();\n    const it2 = (0, withabort_1.wrapWithAbort)(other, signal)[Symbol.asyncIterator]();\n    let next1;\n    let next2;\n    while (!(next1 = await it1.next()).done) {\n        if (!(!(next2 = await it2.next()).done && (await comparer(next1.value, next2.value)))) {\n            return false;\n        }\n    }\n    return !!(await it2.next()).done;\n}\nexports.sequenceEqual = sequenceEqual;\n\n//# sourceMappingURL=sequenceequal.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.single = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Returns the only element of an async-iterable sequence that matches the predicate if specified,\n * or undefined if no such element exists; this method reports an exception if there is more\n * than one element in the async-iterable sequence.\n *\n * @template T The type of the elements in the source sequence.\n * @param {AsyncIterable<T>} source Source async-iterable sequence.\n * @param {OptionalFindOptions<T>} [options] The optional options which includes a predicate for filtering,\n * thisArg for predicate binding and an abort signal for cancellation.\n * @returns {(Promise<T | undefined>)} A promise with the single element in the async-iterable sequence that satisfies\n * the condition in the predicate, or undefined if no such element exists.\n */\nasync function single(source, options) {\n    const { ['signal']: signal, ['thisArg']: thisArg, ['predicate']: predicate = async () => true } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    let result;\n    let hasResult = false;\n    let i = 0;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (hasResult && (await predicate.call(thisArg, item, i++, signal))) {\n            throw new Error('More than one element was found');\n        }\n        if (await predicate.call(thisArg, item, i++, signal)) {\n            result = item;\n            hasResult = true;\n        }\n    }\n    return result;\n}\nexports.single = single;\n\n//# sourceMappingURL=single.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.some = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Determines whether any element of an async-iterable sequence satisfies a condition.\n *\n * @template T The type of the elements in the source sequence.\n * @param {AsyncIterable<T>} source An async-iterable sequence whose elements to apply the predicate to.\n * @param {FindOptions<T, S>} options The options which includes a required predicate, an optional\n * thisArg for binding, and an abort signal for cancellation.\n * @returns {Promise<boolean>} A promise with a boolean determining whether any elements in the source sequence\n * pass the test in the specified predicate.\n */\nasync function some(source, options) {\n    const { ['signal']: signal, ['thisArg']: thisArg, ['predicate']: predicate } = options;\n    (0, aborterror_1.throwIfAborted)(signal);\n    let i = 0;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        if (await predicate.call(thisArg, item, i++, signal)) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.some = some;\n\n//# sourceMappingURL=some.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sum = void 0;\nconst identity_1 = require(\"../util/identity\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Computes the sum of a sequence of values.\n *\n * @param {AsyncIterable<any>} source A sequence of values to calculate the sum.\n * @param {MathOptions<any>} [options] Optional options for providing a selector, thisArg and abort signal.\n * @returns {Promise<number>} A promise containing the sum of the sequence of values.\n */\nasync function sum(source, options) {\n    const { ['selector']: selector = identity_1.identityAsync, ['signal']: signal, ['thisArg']: thisArg, } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    let value = 0;\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        value += await selector.call(thisArg, item, signal);\n    }\n    return value;\n}\nexports.sum = sum;\n\n//# sourceMappingURL=sum.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.throwError = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst aborterror_1 = require(\"../aborterror\");\nclass ThrowAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _error;\n    constructor(error) {\n        super();\n        this._error = error;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        throw this._error;\n    }\n}\n/**\n * Creates an async-iterable that throws the specified error upon iterating.\n *\n * @param {*} error The error to throw upon iterating the async-iterable.\n * @returns {AsyncIterableX<never>} An async-iterable that throws when iterated.\n */\nfunction throwError(error) {\n    return new ThrowAsyncIterable(error);\n}\nexports.throwError = throwError;\n\n//# sourceMappingURL=throwerrror.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toArray = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Converts an existing async-iterable to a promise containing the array of values.\n *\n * @template TSource The type of elements in the source sequence.\n * @param {AsyncIterable<TSource>} source The source sequence to convert to an array.\n * @param {AbortSignal} [signal] An optional abort signal to cancel the operation at any time.\n * @returns {Promise<TSource[]>} A promise containing all the items from the source sequence as an array.\n */\nasync function toArray(source, signal) {\n    (0, aborterror_1.throwIfAborted)(signal);\n    const results = [];\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        results.push(item);\n    }\n    return results;\n}\nexports.toArray = toArray;\n\n//# sourceMappingURL=toarray.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toDOMStreamProto = exports.toDOMStream = void 0;\nconst publish_1 = require(\"./operators/publish\");\nconst fromdomstream_1 = require(\"./fromdomstream\");\nconst asynciterablex_1 = require(\"./asynciterablex\");\n/** @ignore */\nfunction memcpy(target, source, targetByteOffset = 0, sourceByteLength = source.byteLength) {\n    const targetByteLength = target.byteLength;\n    const dst = new Uint8Array(target.buffer, target.byteOffset, targetByteLength);\n    const src = new Uint8Array(source.buffer, source.byteOffset, Math.min(sourceByteLength, targetByteLength, source.buffer.byteLength - source.byteOffset));\n    dst.set(src, targetByteOffset);\n    return src.byteLength;\n}\nclass AbstractUnderlyingSource {\n    _source;\n    constructor(_source) {\n        this._source = _source;\n    }\n    async cancel() {\n        const source = this._source;\n        if (source && source.return) {\n            await source.return();\n        }\n        this._source = null;\n    }\n}\nclass UnderlyingAsyncIterableDefaultSource extends AbstractUnderlyingSource {\n    constructor(source) {\n        super(source);\n    }\n    // eslint-disable-next-line consistent-return\n    async pull(controller) {\n        const source = this._source;\n        if (source) {\n            const r = await source.next(controller.desiredSize);\n            if (!r.done) {\n                return controller.enqueue(r.value);\n            }\n        }\n        controller.close();\n    }\n}\nclass UnderlyingAsyncIterableByteSource extends AbstractUnderlyingSource {\n    //   public readonly type: 'bytes';\n    autoAllocateChunkSize;\n    // If we can't create a \"byob\" reader (no browsers currently suppor it),\n    // fallback to pulling values from the source iterator and enqueueing like\n    // object streams\n    fallbackDefaultSource;\n    constructor(reader, opts = {}) {\n        super(reader);\n        this.type = 'bytes';\n        this.autoAllocateChunkSize = opts['autoAllocateChunkSize'];\n        this.fallbackDefaultSource = new UnderlyingAsyncIterableDefaultSource(reader);\n    }\n    // eslint-disable-next-line consistent-return\n    async pull(controller) {\n        if (!controller.byobRequest) {\n            return await this.fallbackDefaultSource.pull(controller);\n        }\n        if (this._source) {\n            const { view } = controller.byobRequest;\n            const { done, value } = await this._source.next(view);\n            if (!done) {\n                // Did the source write into the BYOB view itself,\n                // then yield us the `bytesWritten` value? If so,\n                // pass that along\n                if (typeof value === 'number') {\n                    return controller.byobRequest.respond(value);\n                }\n                // otherwise if the source is only producing buffers\n                // but doesn't expect to be given one, we should copy\n                // the produced buffer into the front of the BYOB view\n                if (ArrayBuffer.isView(value)) {\n                    return value.buffer === view.buffer\n                        ? controller.byobRequest.respondWithNewView(value)\n                        : controller.byobRequest.respond(memcpy(view, value));\n                }\n            }\n        }\n        controller.close();\n    }\n}\n// Generate subclasses of ReadableStream that conform to the\n// AsyncIterable protocol. These classes are dynamically created\n// the first time a ReadableStream is produced because ReadableStream\n// is a browser-only API, and closure-compiler won't compile if they're\n// statically defined at the module scope.\n/** @ignore */\nconst asyncIterableReadableStream = (() => {\n    let AsyncIterableReadableByteStream_;\n    let AsyncIterableDefaultReadableStream_;\n    // A function that's called the first time someone creates a\n    // ReadableStream via `toDOMStream()`\n    const createFirstTime = (source, opts) => {\n        // Generate the subclasses with [Symbol.asyncIterator]() methods\n        class AsyncIterableDefaultReadableStream extends ReadableStream {\n            [Symbol.asyncIterator]() {\n                return (0, fromdomstream_1.fromDOMStream)(this)[Symbol.asyncIterator]();\n            }\n        }\n        class AsyncIterableReadableByteStream extends ReadableStream {\n            [Symbol.asyncIterator]() {\n                return (0, fromdomstream_1.fromDOMStream)(this, { mode: 'byob' })[Symbol.asyncIterator]();\n            }\n        }\n        AsyncIterableReadableByteStream_ = AsyncIterableReadableByteStream;\n        AsyncIterableDefaultReadableStream_ = AsyncIterableDefaultReadableStream;\n        // Now point `createAsyncIterableReadableStream` to the function that\n        // instantiates the classes we just created\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define, no-use-before-define\n        createAsyncIterableReadableStream = createAsyncIterableReadableStreamEveryOtherTime;\n        // Create and return the first ReadableStream<T> instance\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define, no-use-before-define\n        return createAsyncIterableReadableStreamEveryOtherTime(source, opts);\n    };\n    // Shared function pointer that's called by the wrapper closure we return\n    let createAsyncIterableReadableStream = createFirstTime;\n    // Create instances of the classes generated by `createFirstTime`\n    const createAsyncIterableReadableStreamEveryOtherTime = (source, opts) => {\n        return source instanceof UnderlyingAsyncIterableByteSource\n            ? new AsyncIterableReadableByteStream_(source, opts)\n            : new AsyncIterableDefaultReadableStream_(source, opts);\n    };\n    return (source, opts) => createAsyncIterableReadableStream(source, opts);\n})();\n/**\n * Converts an async-iterable stream to a DOM stream.\n * @param source The async-iterable stream to convert to a DOM stream.\n * @param options The options to apply to the DOM stream.\n */\nfunction toDOMStream(source, options) {\n    if (!options || !('type' in options) || options['type'] !== 'bytes') {\n        return asyncIterableReadableStream(new UnderlyingAsyncIterableDefaultSource(source[Symbol.asyncIterator]()), options);\n    }\n    return asyncIterableReadableStream(new UnderlyingAsyncIterableByteSource(source[Symbol.asyncIterator](), options), options);\n}\nexports.toDOMStream = toDOMStream;\nasynciterablex_1.AsyncIterableX.prototype.tee = function () {\n    return _getDOMStream(this).tee();\n};\nasynciterablex_1.AsyncIterableX.prototype.pipeTo = function (writable, options) {\n    return _getDOMStream(this).pipeTo(writable, options);\n};\nasynciterablex_1.AsyncIterableX.prototype.pipeThrough = function (duplex, options) {\n    return _getDOMStream(this).pipeThrough(duplex, options);\n};\nfunction _getDOMStream(self) {\n    return self._DOMStream || (self._DOMStream = self.pipe((0, publish_1.publish)(), toDOMStream));\n}\nfunction toDOMStreamProto(options) {\n    return !options ? toDOMStream(this) : toDOMStream(this, options);\n}\nexports.toDOMStreamProto = toDOMStreamProto;\nasynciterablex_1.AsyncIterableX.prototype.toDOMStream = toDOMStreamProto;\n\n//# sourceMappingURL=todomstream.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toMap = void 0;\nconst identity_1 = require(\"../util/identity\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Converts an async-iterable to a map with a key selector and options for an element selector and cancellation.\n *\n * @template TSource The type of elements in the source collection.\n * @template TKey The type of key used for the map.\n * @template TElement The type of element to use for the map.\n * @param {AsyncIterable<TSource>} source The source collection to turn into a map.\n * @param {ToMapOptions<TSource, TElement>} [options]\n * @returns {(Promise<Map<TKey, TElement | TSource>>)}\n */\nasync function toMap(source, options) {\n    const { ['signal']: signal, ['elementSelector']: elementSelector = identity_1.identityAsync, ['keySelector']: keySelector = identity_1.identityAsync, } = options || {};\n    (0, aborterror_1.throwIfAborted)(signal);\n    const map = new Map();\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        const value = await elementSelector(item, signal);\n        const key = await keySelector(item, signal);\n        map.set(key, value);\n    }\n    return map;\n}\nexports.toMap = toMap;\n\n//# sourceMappingURL=tomap.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toObservable = void 0;\nconst toobserver_1 = require(\"../util/toobserver\");\nconst observer_1 = require(\"../observer\");\nclass BooleanSubscription {\n    isUnsubscribed = false;\n    unsubscribe() {\n        this.isUnsubscribed = true;\n    }\n}\nclass AsyncIterableObservable {\n    _source;\n    constructor(source) {\n        this._source = source;\n    }\n    /** @nocollapse */\n    [observer_1.observable]() {\n        return this;\n    }\n    /** @nocollapse */\n    subscribe(next, error, complete) {\n        const observer = (0, toobserver_1.toObserver)(next, error, complete);\n        const subscription = new BooleanSubscription();\n        const it = this._source[Symbol.asyncIterator]();\n        const f = () => {\n            it.next()\n                .then(({ value, done }) => {\n                if (!subscription.isUnsubscribed) {\n                    if (done) {\n                        observer.complete();\n                    }\n                    else {\n                        observer.next(value);\n                        f();\n                    }\n                }\n            })\n                .catch((err) => {\n                if (!subscription.isUnsubscribed) {\n                    observer.error(err);\n                }\n            });\n        };\n        f();\n        return subscription;\n    }\n}\n/**\n * Converts the async-iterable sequence to an observable.\n *\n * @template TSource The type of the elements in the source sequence.\n * @param {AsyncIterable<TSource>} source The async-iterable to convert to an observable.\n * @returns {Observable<TSource>} The observable containing the elements from the async-iterable.\n */\nfunction toObservable(source) {\n    return new AsyncIterableObservable(source);\n}\nexports.toObservable = toObservable;\n\n//# sourceMappingURL=toobservable.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toSet = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\n/**\n * Converts the existing async-iterable into a promise which resolves a Set.\n *\n * @template TSource The type of elements in the source sequence.\n * @param {AsyncIterable<TSource>} source The async-iterable to convert into a set.\n * @param {AbortSignal} [signal] An optional abort signal to cancel the operation at any time.\n * @returns {Promise<Set<TSource>>} A promise which contains a Set with all the elements from the async-iterable.\n */\nasync function toSet(source, signal) {\n    (0, aborterror_1.throwIfAborted)(signal);\n    const set = new Set();\n    for await (const item of (0, withabort_1.wrapWithAbort)(source, signal)) {\n        set.add(item);\n    }\n    return set;\n}\nexports.toSet = toSet;\n\n//# sourceMappingURL=toset.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.whileDo = void 0;\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst withabort_1 = require(\"./operators/withabort\");\nconst aborterror_1 = require(\"../aborterror\");\nclass WhileAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _condition;\n    _source;\n    constructor(condition, source) {\n        super();\n        this._condition = condition;\n        this._source = source;\n    }\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        while (await this._condition(signal)) {\n            for await (const item of (0, withabort_1.wrapWithAbort)(this._source, signal)) {\n                yield item;\n            }\n        }\n    }\n}\n/**\n * Repeats the given source as long as the specified conditions holds, where\n * the condition is evaluated before each repeated source is iterated.\n *\n * @template TSource\n * @param {AsyncIterable<TSource>} source Source to repeat as long as the condition function evaluates to true.\n * @param {((signal?: AbortSignal) => boolean | Promise<boolean>)} condition Condition that will be evaluated before the source sequence is iterated.\n * @returns {AsyncIterableX<TSource>} An async-iterable which is repeated while the condition returns true.\n */\nfunction whileDo(source, condition) {\n    return new WhileAsyncIterable(condition, source);\n}\nexports.whileDo = whileDo;\n\n//# sourceMappingURL=whiledo.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.zip = exports.ZipAsyncIterable = void 0;\nconst withabort_1 = require(\"./operators/withabort\");\nconst asynciterablex_1 = require(\"./asynciterablex\");\nconst returniterator_1 = require(\"../util/returniterator\");\nconst aborterror_1 = require(\"../aborterror\");\nclass ZipAsyncIterable extends asynciterablex_1.AsyncIterableX {\n    _sources;\n    constructor(sources) {\n        super();\n        this._sources = sources;\n    }\n    // eslint-disable-next-line consistent-return\n    async *[Symbol.asyncIterator](signal) {\n        (0, aborterror_1.throwIfAborted)(signal);\n        const sourcesLength = this._sources.length;\n        const its = this._sources.map((x) => (0, withabort_1.wrapWithAbort)(x, signal)[Symbol.asyncIterator]());\n        while (sourcesLength > 0) {\n            const values = new Array(sourcesLength);\n            for (let i = -1; ++i < sourcesLength;) {\n                const { value, done } = await its[i].next();\n                if (done) {\n                    await Promise.all(its.map(returniterator_1.returnAsyncIterator));\n                    return undefined;\n                }\n                values[i] = value;\n            }\n            yield values;\n        }\n    }\n}\nexports.ZipAsyncIterable = ZipAsyncIterable;\nfunction zip(...sources) {\n    return new ZipAsyncIterable(sources);\n}\nexports.zip = zip;\n\n//# sourceMappingURL=zip.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RefCountList = exports.MaxRefCountList = void 0;\n/**\n * @ignore\n */\nclass MaxRefCountList {\n    _list = [];\n    clear() {\n        this._list = [];\n    }\n    get count() {\n        return this._list.length;\n    }\n    get(index) {\n        return this._list[index];\n    }\n    push(value) {\n        this._list.push(value);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    done() { }\n}\nexports.MaxRefCountList = MaxRefCountList;\n/**\n * @ignore\n */\nclass RefCountList {\n    _readerCount;\n    _list;\n    _count = 0;\n    constructor(readerCount) {\n        this._readerCount = readerCount;\n        this._list = new Map();\n    }\n    clear() {\n        this._list.clear();\n    }\n    get count() {\n        return this._count;\n    }\n    get readerCount() {\n        return this._readerCount;\n    }\n    set readerCount(value) {\n        this._readerCount = value;\n    }\n    done() {\n        this._readerCount--;\n    }\n    get(index) {\n        if (!this._list.has(index)) {\n            throw new Error('Element no longer available in the buffer.');\n        }\n        const res = this._list.get(index);\n        const val = res.value;\n        if (--res.count === 0) {\n            this._list.delete(index);\n        }\n        return val;\n    }\n    push(value) {\n        this._list.set(this._count++, { value: value, count: this._readerCount });\n    }\n}\nexports.RefCountList = RefCountList;\n\n//# sourceMappingURL=_refcountlist.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.observable = void 0;\n// Symbol.observable or a string \"@@observable\". Used for interop.\n// Referenced via string indexer so closure-compiler doesn't mangle.\nexports.observable = (typeof Symbol === 'function' && Symbol.observable) || '@@observable';\n\n//# sourceMappingURL=observer.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindCallback = void 0;\n/**\n * @ignore\n */\nfunction bindCallback(func, thisArg, argCount) {\n    if (typeof thisArg === 'undefined') {\n        return func;\n    }\n    switch (argCount) {\n        case 0:\n            return function () {\n                return func.call(thisArg);\n            };\n        case 1:\n            return function (arg) {\n                return func.call(thisArg, arg);\n            };\n        case 2:\n            return function (value, index) {\n                return func.call(thisArg, value, index);\n            };\n        case 3:\n            return function (value, index, collection) {\n                return func.call(thisArg, value, index, collection);\n            };\n        default:\n            return function () {\n                return func.apply(thisArg, arguments);\n            };\n    }\n}\nexports.bindCallback = bindCallback;\n\n//# sourceMappingURL=bindcallback.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.equalityComparerAsync = exports.equalityComparer = exports.comparerAsync = exports.comparer = void 0;\n/**\n * @ignore\n */\nfunction comparer(x, y) {\n    return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\n}\nexports.comparer = comparer;\n/**\n * @ignore\n */\nasync function comparerAsync(x, y) {\n    return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\n}\nexports.comparerAsync = comparerAsync;\n/**\n * @ignore\n */\nfunction equalityComparer(key, minValue) {\n    // eslint-disable-next-line no-nested-ternary\n    return key > minValue ? 1 : key < minValue ? -1 : 0;\n}\nexports.equalityComparer = equalityComparer;\n/**\n * @ignore\n */\nasync function equalityComparerAsync(key, minValue) {\n    // eslint-disable-next-line no-nested-ternary\n    return key > minValue ? 1 : key < minValue ? -1 : 0;\n}\nexports.equalityComparerAsync = equalityComparerAsync;\n\n//# sourceMappingURL=comparer.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.identityAsync = exports.identity = void 0;\n/**\n * @ignore\n */\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n/**\n * @ignore\n */\nasync function identityAsync(x) {\n    return x;\n}\nexports.identityAsync = identityAsync;\n\n//# sourceMappingURL=identity.js.map\n","\"use strict\";\n/* eslint-disable @typescript-eslint/ban-types */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isFetchResponse = exports.isWritableDOMStream = exports.isReadableDOMStream = exports.isWritableNodeStream = exports.isReadableNodeStream = exports.isObservable = exports.isAsyncIterable = exports.isIterator = exports.isIterable = exports.isArrayLike = exports.isPromise = exports.isObject = exports.isFunction = void 0;\n/** @ignore */\nconst isNumber = (x) => typeof x === 'number';\n/** @ignore */\nconst isBoolean = (x) => typeof x === 'boolean';\n/** @ignore */\nconst isFunction = (x) => typeof x === 'function';\nexports.isFunction = isFunction;\n/** @ignore */\nconst isObject = (x) => x != null && Object(x) === x;\nexports.isObject = isObject;\n/** @ignore */\nconst isPromise = (x) => {\n    return (0, exports.isObject)(x) && (0, exports.isFunction)(x.then);\n};\nexports.isPromise = isPromise;\n/** @ignore */\nfunction isArrayLike(x) {\n    return (0, exports.isObject)(x) && isNumber(x['length']);\n}\nexports.isArrayLike = isArrayLike;\n/** @ignore */\nfunction isIterable(x) {\n    return x != null && (0, exports.isFunction)(x[Symbol.iterator]);\n}\nexports.isIterable = isIterable;\n/** @ignore */\nfunction isIterator(x) {\n    return (0, exports.isObject)(x) && !(0, exports.isFunction)(x[Symbol.iterator]) && (0, exports.isFunction)(x['next']);\n}\nexports.isIterator = isIterator;\n/** @ignore */\nfunction isAsyncIterable(x) {\n    return (0, exports.isObject)(x) && (0, exports.isFunction)(x[Symbol.asyncIterator]);\n}\nexports.isAsyncIterable = isAsyncIterable;\n/** @ignore */\nfunction isObservable(x) {\n    return x != null && Object(x) === x && typeof x['subscribe'] === 'function';\n}\nexports.isObservable = isObservable;\n/** @ignore */\nconst isReadableNodeStream = (x) => {\n    return ((0, exports.isObject)(x) &&\n        (0, exports.isFunction)(x['pipe']) &&\n        (0, exports.isFunction)(x['_read']) &&\n        isBoolean(x['readable']) &&\n        (0, exports.isObject)(x['_readableState']));\n};\nexports.isReadableNodeStream = isReadableNodeStream;\n/** @ignore */\nconst isWritableNodeStream = (x) => {\n    return ((0, exports.isObject)(x) &&\n        (0, exports.isFunction)(x['end']) &&\n        (0, exports.isFunction)(x['_write']) &&\n        isBoolean(x['writable']) &&\n        (0, exports.isObject)(x['_writableState']));\n};\nexports.isWritableNodeStream = isWritableNodeStream;\n/** @ignore */\nconst isReadableDOMStream = (x) => {\n    return (0, exports.isObject)(x) && (0, exports.isFunction)(x['cancel']) && (0, exports.isFunction)(x['getReader']);\n};\nexports.isReadableDOMStream = isReadableDOMStream;\n/** @ignore */\nconst isWritableDOMStream = (x) => {\n    return (0, exports.isObject)(x) && (0, exports.isFunction)(x['abort']) && (0, exports.isFunction)(x['getWriter']);\n};\nexports.isWritableDOMStream = isWritableDOMStream;\n/** @ignore */\nconst isFetchResponse = (x) => {\n    return (0, exports.isObject)(x) && (0, exports.isReadableDOMStream)(x['body']);\n};\nexports.isFetchResponse = isFetchResponse;\n\n//# sourceMappingURL=isiterable.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.returnAsyncIterator = exports.returnIterator = void 0;\n/**\n * @ignore\n */\nfunction returnIterator(it) {\n    if (typeof it.return === 'function') {\n        it.return();\n    }\n}\nexports.returnIterator = returnIterator;\n/**\n * @ignore\n */\nasync function returnAsyncIterator(it) {\n    if (typeof it.return === 'function') {\n        await it.return();\n    }\n}\nexports.returnAsyncIterator = returnAsyncIterator;\n\n//# sourceMappingURL=returniterator.js.map\n","\"use strict\";\n/*\nThis is free and unencumbered software released into the public domain.\n\nAnyone is free to copy, modify, publish, use, compile, sell, or\ndistribute this software, either in source code form or as a compiled\nbinary, for any purpose, commercial or non-commercial, and by any\nmeans.\n\nIn jurisdictions that recognize copyright laws, the author or authors\nof this software dedicate any and all copyright interest in the\nsoftware to the public domain. We make this dedication for the benefit\nof the public at large and to the detriment of our heirs and\nsuccessors. We intend this dedication to be an overt act of\nrelinquishment in perpetuity of all present and future rights to this\nsoftware under copyright law.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\nOTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\nARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\n\nFor more information, please refer to <http://unlicense.org/>\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.safeRace = void 0;\n// see: https://github.com/nodejs/node/issues/17469#issuecomment-685216777\n// see: https://github.com/ReactiveX/IxJS/pull/323\nfunction isPrimitive(value) {\n    return value === null || (typeof value !== 'object' && typeof value !== 'function');\n}\n// Keys are the values passed to race, values are a record of data containing a\n// set of deferreds and whether the value has settled.\nconst wm = new WeakMap();\nfunction safeRace(contenders) {\n    let deferred;\n    const result = new Promise((resolve, reject) => {\n        deferred = { resolve, reject };\n        for (const contender of contenders) {\n            if (isPrimitive(contender)) {\n                // If the contender is a primitive, attempting to use it as a key in the\n                // weakmap would throw an error. Luckily, it is safe to call\n                // `Promise.resolve(contender).then` on a primitive value multiple times\n                // because the promise fulfills immediately.\n                Promise.resolve(contender).then(resolve, reject);\n                continue;\n            }\n            let record = wm.get(contender);\n            if (record === undefined) {\n                record = { deferreds: new Set([deferred]), settled: false };\n                wm.set(contender, record);\n                // This call to `then` happens once for the lifetime of the value.\n                Promise.resolve(contender).then((value) => {\n                    // eslint-disable-next-line no-shadow\n                    for (const { resolve } of record.deferreds) {\n                        resolve(value);\n                    }\n                    record.deferreds.clear();\n                    record.settled = true;\n                }, (err) => {\n                    // eslint-disable-next-line no-shadow\n                    for (const { reject } of record.deferreds) {\n                        reject(err);\n                    }\n                    record.deferreds.clear();\n                    record.settled = true;\n                });\n            }\n            else if (record.settled) {\n                // If the value has settled, it is safe to call\n                // `Promise.resolve(contender).then` on it.\n                Promise.resolve(contender).then(resolve, reject);\n            }\n            else {\n                record.deferreds.add(deferred);\n            }\n        }\n    });\n    // The finally callback executes when any value settles, preventing any of\n    // the unresolved values from retaining a reference to the resolved value.\n    return result.finally(() => {\n        for (const contender of contenders) {\n            if (!isPrimitive(contender)) {\n                const record = wm.get(contender);\n                record.deferreds.delete(deferred);\n            }\n        }\n    });\n}\nexports.safeRace = safeRace;\n\n//# sourceMappingURL=safeRace.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toInteger = void 0;\n/**\n * @ignore\n */\nfunction toInteger(value) {\n    const number = Number(value);\n    if (isNaN(number)) {\n        return 0;\n    }\n    if (number === 0 || !isFinite(number)) {\n        return number;\n    }\n    return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n}\nexports.toInteger = toInteger;\n\n//# sourceMappingURL=tointeger.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toLength = void 0;\nconst tointeger_1 = require(\"./tointeger\");\nconst maxSafeInteger = Math.pow(2, 53) - 1;\n/**\n * @ignore\n */\nfunction toLength(value) {\n    const len = (0, tointeger_1.toInteger)(value);\n    return Math.min(Math.max(len, 0), maxSafeInteger);\n}\nexports.toLength = toLength;\n\n//# sourceMappingURL=tolength.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toObserver = void 0;\nconst isiterable_1 = require(\"./isiterable\");\nconst noop = (_) => {\n    /**/\n};\n// eslint-disable-next-line complexity\nfunction toObserver(next, error, complete) {\n    const observer = next;\n    if (observer && typeof observer === 'object') {\n        return {\n            next: (0, isiterable_1.isFunction)(observer.next) ? (x) => observer.next(x) : noop,\n            error: (0, isiterable_1.isFunction)(observer.error) ? (e) => observer.error(e) : noop,\n            complete: (0, isiterable_1.isFunction)(observer.complete) ? () => observer.complete() : noop,\n        };\n    }\n    return {\n        next: (0, isiterable_1.isFunction)(next) ? next : noop,\n        error: (0, isiterable_1.isFunction)(error) ? error : noop,\n        complete: (0, isiterable_1.isFunction)(complete) ? complete : noop,\n    };\n}\nexports.toObserver = toObserver;\n\n//# sourceMappingURL=toobserver.js.map\n","'use strict';\n\n\nvar yaml = require('./lib/js-yaml.js');\n\n\nmodule.exports = yaml;\n","'use strict';\n\n\nvar loader = require('./js-yaml/loader');\nvar dumper = require('./js-yaml/dumper');\n\n\nfunction deprecated(name) {\n  return function () {\n    throw new Error('Function ' + name + ' is deprecated and cannot be used.');\n  };\n}\n\n\nmodule.exports.Type                = require('./js-yaml/type');\nmodule.exports.Schema              = require('./js-yaml/schema');\nmodule.exports.FAILSAFE_SCHEMA     = require('./js-yaml/schema/failsafe');\nmodule.exports.JSON_SCHEMA         = require('./js-yaml/schema/json');\nmodule.exports.CORE_SCHEMA         = require('./js-yaml/schema/core');\nmodule.exports.DEFAULT_SAFE_SCHEMA = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_FULL_SCHEMA = require('./js-yaml/schema/default_full');\nmodule.exports.load                = loader.load;\nmodule.exports.loadAll             = loader.loadAll;\nmodule.exports.safeLoad            = loader.safeLoad;\nmodule.exports.safeLoadAll         = loader.safeLoadAll;\nmodule.exports.dump                = dumper.dump;\nmodule.exports.safeDump            = dumper.safeDump;\nmodule.exports.YAMLException       = require('./js-yaml/exception');\n\n// Deprecated schema names from JS-YAML 2.0.x\nmodule.exports.MINIMAL_SCHEMA = require('./js-yaml/schema/failsafe');\nmodule.exports.SAFE_SCHEMA    = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_SCHEMA = require('./js-yaml/schema/default_full');\n\n// Deprecated functions from JS-YAML 1.x.x\nmodule.exports.scan           = deprecated('scan');\nmodule.exports.parse          = deprecated('parse');\nmodule.exports.compose        = deprecated('compose');\nmodule.exports.addConstructor = deprecated('addConstructor');\n","'use strict';\n\n\nfunction isNothing(subject) {\n  return (typeof subject === 'undefined') || (subject === null);\n}\n\n\nfunction isObject(subject) {\n  return (typeof subject === 'object') && (subject !== null);\n}\n\n\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) return sequence;\n  else if (isNothing(sequence)) return [];\n\n  return [ sequence ];\n}\n\n\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n\n  if (source) {\n    sourceKeys = Object.keys(source);\n\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\nfunction repeat(string, count) {\n  var result = '', cycle;\n\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n\n  return result;\n}\n\n\nfunction isNegativeZero(number) {\n  return (number === 0) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\n\n\nmodule.exports.isNothing      = isNothing;\nmodule.exports.isObject       = isObject;\nmodule.exports.toArray        = toArray;\nmodule.exports.repeat         = repeat;\nmodule.exports.isNegativeZero = isNegativeZero;\nmodule.exports.extend         = extend;\n","'use strict';\n\n/*eslint-disable no-use-before-define*/\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\n\nvar _toString       = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar CHAR_TAB                  = 0x09; /* Tab */\nvar CHAR_LINE_FEED            = 0x0A; /* LF */\nvar CHAR_CARRIAGE_RETURN      = 0x0D; /* CR */\nvar CHAR_SPACE                = 0x20; /* Space */\nvar CHAR_EXCLAMATION          = 0x21; /* ! */\nvar CHAR_DOUBLE_QUOTE         = 0x22; /* \" */\nvar CHAR_SHARP                = 0x23; /* # */\nvar CHAR_PERCENT              = 0x25; /* % */\nvar CHAR_AMPERSAND            = 0x26; /* & */\nvar CHAR_SINGLE_QUOTE         = 0x27; /* ' */\nvar CHAR_ASTERISK             = 0x2A; /* * */\nvar CHAR_COMMA                = 0x2C; /* , */\nvar CHAR_MINUS                = 0x2D; /* - */\nvar CHAR_COLON                = 0x3A; /* : */\nvar CHAR_EQUALS               = 0x3D; /* = */\nvar CHAR_GREATER_THAN         = 0x3E; /* > */\nvar CHAR_QUESTION             = 0x3F; /* ? */\nvar CHAR_COMMERCIAL_AT        = 0x40; /* @ */\nvar CHAR_LEFT_SQUARE_BRACKET  = 0x5B; /* [ */\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */\nvar CHAR_GRAVE_ACCENT         = 0x60; /* ` */\nvar CHAR_LEFT_CURLY_BRACKET   = 0x7B; /* { */\nvar CHAR_VERTICAL_LINE        = 0x7C; /* | */\nvar CHAR_RIGHT_CURLY_BRACKET  = 0x7D; /* } */\n\nvar ESCAPE_SEQUENCES = {};\n\nESCAPE_SEQUENCES[0x00]   = '\\\\0';\nESCAPE_SEQUENCES[0x07]   = '\\\\a';\nESCAPE_SEQUENCES[0x08]   = '\\\\b';\nESCAPE_SEQUENCES[0x09]   = '\\\\t';\nESCAPE_SEQUENCES[0x0A]   = '\\\\n';\nESCAPE_SEQUENCES[0x0B]   = '\\\\v';\nESCAPE_SEQUENCES[0x0C]   = '\\\\f';\nESCAPE_SEQUENCES[0x0D]   = '\\\\r';\nESCAPE_SEQUENCES[0x1B]   = '\\\\e';\nESCAPE_SEQUENCES[0x22]   = '\\\\\"';\nESCAPE_SEQUENCES[0x5C]   = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85]   = '\\\\N';\nESCAPE_SEQUENCES[0xA0]   = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\n\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n  'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\n\nfunction compileStyleMap(schema, map) {\n  var result, keys, index, length, tag, style, type;\n\n  if (map === null) return {};\n\n  result = {};\n  keys = Object.keys(map);\n\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map[tag]);\n\n    if (tag.slice(0, 2) === '!!') {\n      tag = 'tag:yaml.org,2002:' + tag.slice(2);\n    }\n    type = schema.compiledTypeMap['fallback'][tag];\n\n    if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n      style = type.styleAliases[style];\n    }\n\n    result[tag] = style;\n  }\n\n  return result;\n}\n\nfunction encodeHex(character) {\n  var string, handle, length;\n\n  string = character.toString(16).toUpperCase();\n\n  if (character <= 0xFF) {\n    handle = 'x';\n    length = 2;\n  } else if (character <= 0xFFFF) {\n    handle = 'u';\n    length = 4;\n  } else if (character <= 0xFFFFFFFF) {\n    handle = 'U';\n    length = 8;\n  } else {\n    throw new YAMLException('code point within a string may not be greater than 0xFFFFFFFF');\n  }\n\n  return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\n\nfunction State(options) {\n  this.schema        = options['schema'] || DEFAULT_FULL_SCHEMA;\n  this.indent        = Math.max(1, (options['indent'] || 2));\n  this.noArrayIndent = options['noArrayIndent'] || false;\n  this.skipInvalid   = options['skipInvalid'] || false;\n  this.flowLevel     = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n  this.styleMap      = compileStyleMap(this.schema, options['styles'] || null);\n  this.sortKeys      = options['sortKeys'] || false;\n  this.lineWidth     = options['lineWidth'] || 80;\n  this.noRefs        = options['noRefs'] || false;\n  this.noCompatMode  = options['noCompatMode'] || false;\n  this.condenseFlow  = options['condenseFlow'] || false;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n\n  this.tag = null;\n  this.result = '';\n\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n\n// Indents every line in a string. Empty lines (\\n only) are not indented.\nfunction indentString(string, spaces) {\n  var ind = common.repeat(' ', spaces),\n      position = 0,\n      next = -1,\n      result = '',\n      line,\n      length = string.length;\n\n  while (position < length) {\n    next = string.indexOf('\\n', position);\n    if (next === -1) {\n      line = string.slice(position);\n      position = length;\n    } else {\n      line = string.slice(position, next + 1);\n      position = next + 1;\n    }\n\n    if (line.length && line !== '\\n') result += ind;\n\n    result += line;\n  }\n\n  return result;\n}\n\nfunction generateNextLine(state, level) {\n  return '\\n' + common.repeat(' ', state.indent * level);\n}\n\nfunction testImplicitResolving(state, str) {\n  var index, length, type;\n\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type = state.implicitTypes[index];\n\n    if (type.resolve(str)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// [33] s-white ::= s-space | s-tab\nfunction isWhitespace(c) {\n  return c === CHAR_SPACE || c === CHAR_TAB;\n}\n\n// Returns true if the character can be printed without escaping.\n// From YAML 1.2: \"any allowed characters known to be non-printable\n// should also be escaped. [However,] This isnt mandatory\"\n// Derived from nb-char - \\t - #x85 - #xA0 - #x2028 - #x2029.\nfunction isPrintable(c) {\n  return  (0x00020 <= c && c <= 0x00007E)\n      || ((0x000A1 <= c && c <= 0x00D7FF) && c !== 0x2028 && c !== 0x2029)\n      || ((0x0E000 <= c && c <= 0x00FFFD) && c !== 0xFEFF /* BOM */)\n      ||  (0x10000 <= c && c <= 0x10FFFF);\n}\n\n// [34] ns-char ::= nb-char - s-white\n// [27] nb-char ::= c-printable - b-char - c-byte-order-mark\n// [26] b-char  ::= b-line-feed | b-carriage-return\n// [24] b-line-feed       ::=     #xA    /* LF */\n// [25] b-carriage-return ::=     #xD    /* CR */\n// [3]  c-byte-order-mark ::=     #xFEFF\nfunction isNsChar(c) {\n  return isPrintable(c) && !isWhitespace(c)\n    // byte-order-mark\n    && c !== 0xFEFF\n    // b-char\n    && c !== CHAR_CARRIAGE_RETURN\n    && c !== CHAR_LINE_FEED;\n}\n\n// Simplified test for values allowed after the first character in plain style.\nfunction isPlainSafe(c, prev) {\n  // Uses a subset of nb-char - c-flow-indicator - \":\" - \"#\"\n  // where nb-char ::= c-printable - b-char - c-byte-order-mark.\n  return isPrintable(c) && c !== 0xFEFF\n    // - c-flow-indicator\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // - \":\" - \"#\"\n    // /* An ns-char preceding */ \"#\"\n    && c !== CHAR_COLON\n    && ((c !== CHAR_SHARP) || (prev && isNsChar(prev)));\n}\n\n// Simplified test for values allowed as the first character in plain style.\nfunction isPlainSafeFirst(c) {\n  // Uses a subset of ns-char - c-indicator\n  // where ns-char = nb-char - s-white.\n  return isPrintable(c) && c !== 0xFEFF\n    && !isWhitespace(c) // - s-white\n    // - (c-indicator ::=\n    // - | ? | : | , | [ | ] | { | }\n    && c !== CHAR_MINUS\n    && c !== CHAR_QUESTION\n    && c !== CHAR_COLON\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // | # | & | * | ! | | | = | > | ' | \"\n    && c !== CHAR_SHARP\n    && c !== CHAR_AMPERSAND\n    && c !== CHAR_ASTERISK\n    && c !== CHAR_EXCLAMATION\n    && c !== CHAR_VERTICAL_LINE\n    && c !== CHAR_EQUALS\n    && c !== CHAR_GREATER_THAN\n    && c !== CHAR_SINGLE_QUOTE\n    && c !== CHAR_DOUBLE_QUOTE\n    // | % | @ | `)\n    && c !== CHAR_PERCENT\n    && c !== CHAR_COMMERCIAL_AT\n    && c !== CHAR_GRAVE_ACCENT;\n}\n\n// Determines whether block indentation indicator is required.\nfunction needIndentIndicator(string) {\n  var leadingSpaceRe = /^\\n* /;\n  return leadingSpaceRe.test(string);\n}\n\nvar STYLE_PLAIN   = 1,\n    STYLE_SINGLE  = 2,\n    STYLE_LITERAL = 3,\n    STYLE_FOLDED  = 4,\n    STYLE_DOUBLE  = 5;\n\n// Determines which scalar styles are possible and returns the preferred style.\n// lineWidth = -1 => no limit.\n// Pre-conditions: str.length > 0.\n// Post-conditions:\n//    STYLE_PLAIN or STYLE_SINGLE => no \\n are in the string.\n//    STYLE_LITERAL => no lines are suitable for folding (or lineWidth is -1).\n//    STYLE_FOLDED => a line > lineWidth and can be folded (and lineWidth != -1).\nfunction chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth, testAmbiguousType) {\n  var i;\n  var char, prev_char;\n  var hasLineBreak = false;\n  var hasFoldableLine = false; // only checked if shouldTrackWidth\n  var shouldTrackWidth = lineWidth !== -1;\n  var previousLineBreak = -1; // count the first line correctly\n  var plain = isPlainSafeFirst(string.charCodeAt(0))\n          && !isWhitespace(string.charCodeAt(string.length - 1));\n\n  if (singleLineOnly) {\n    // Case: no block styles.\n    // Check for disallowed characters to rule out plain and single.\n    for (i = 0; i < string.length; i++) {\n      char = string.charCodeAt(i);\n      if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      prev_char = i > 0 ? string.charCodeAt(i - 1) : null;\n      plain = plain && isPlainSafe(char, prev_char);\n    }\n  } else {\n    // Case: block styles permitted.\n    for (i = 0; i < string.length; i++) {\n      char = string.charCodeAt(i);\n      if (char === CHAR_LINE_FEED) {\n        hasLineBreak = true;\n        // Check if any line can be folded.\n        if (shouldTrackWidth) {\n          hasFoldableLine = hasFoldableLine ||\n            // Foldable line = too long, and not more-indented.\n            (i - previousLineBreak - 1 > lineWidth &&\n             string[previousLineBreak + 1] !== ' ');\n          previousLineBreak = i;\n        }\n      } else if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      prev_char = i > 0 ? string.charCodeAt(i - 1) : null;\n      plain = plain && isPlainSafe(char, prev_char);\n    }\n    // in case the end is missing a \\n\n    hasFoldableLine = hasFoldableLine || (shouldTrackWidth &&\n      (i - previousLineBreak - 1 > lineWidth &&\n       string[previousLineBreak + 1] !== ' '));\n  }\n  // Although every style can represent \\n without escaping, prefer block styles\n  // for multiline, since they're more readable and they don't add empty lines.\n  // Also prefer folding a super-long line.\n  if (!hasLineBreak && !hasFoldableLine) {\n    // Strings interpretable as another type have to be quoted;\n    // e.g. the string 'true' vs. the boolean true.\n    return plain && !testAmbiguousType(string)\n      ? STYLE_PLAIN : STYLE_SINGLE;\n  }\n  // Edge case: block indentation indicator can only have one digit.\n  if (indentPerLevel > 9 && needIndentIndicator(string)) {\n    return STYLE_DOUBLE;\n  }\n  // At this point we know block styles are valid.\n  // Prefer literal style unless we want to fold.\n  return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;\n}\n\n// Note: line breaking/folding is implemented for only the folded style.\n// NB. We drop the last trailing newline (if any) of a returned block scalar\n//  since the dumper adds its own newline. This always works:\n//     No ending newline => unaffected; already using strip \"-\" chomping.\n//     Ending newline    => removed then restored.\n//  Importantly, this keeps the \"+\" chomp indicator from gaining an extra line.\nfunction writeScalar(state, string, level, iskey) {\n  state.dump = (function () {\n    if (string.length === 0) {\n      return \"''\";\n    }\n    if (!state.noCompatMode &&\n        DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1) {\n      return \"'\" + string + \"'\";\n    }\n\n    var indent = state.indent * Math.max(1, level); // no 0-indent scalars\n    // As indentation gets deeper, let the width decrease monotonically\n    // to the lower bound min(state.lineWidth, 40).\n    // Note that this implies\n    //  state.lineWidth  40 + state.indent: width is fixed at the lower bound.\n    //  state.lineWidth > 40 + state.indent: width decreases until the lower bound.\n    // This behaves better than a constant minimum width which disallows narrower options,\n    // or an indent threshold which causes the width to suddenly increase.\n    var lineWidth = state.lineWidth === -1\n      ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);\n\n    // Without knowing if keys are implicit/explicit, assume implicit for safety.\n    var singleLineOnly = iskey\n      // No block styles in flow mode.\n      || (state.flowLevel > -1 && level >= state.flowLevel);\n    function testAmbiguity(string) {\n      return testImplicitResolving(state, string);\n    }\n\n    switch (chooseScalarStyle(string, singleLineOnly, state.indent, lineWidth, testAmbiguity)) {\n      case STYLE_PLAIN:\n        return string;\n      case STYLE_SINGLE:\n        return \"'\" + string.replace(/'/g, \"''\") + \"'\";\n      case STYLE_LITERAL:\n        return '|' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(string, indent));\n      case STYLE_FOLDED:\n        return '>' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(foldString(string, lineWidth), indent));\n      case STYLE_DOUBLE:\n        return '\"' + escapeString(string, lineWidth) + '\"';\n      default:\n        throw new YAMLException('impossible error: invalid scalar style');\n    }\n  }());\n}\n\n// Pre-conditions: string is valid for a block scalar, 1 <= indentPerLevel <= 9.\nfunction blockHeader(string, indentPerLevel) {\n  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : '';\n\n  // note the special case: the string '\\n' counts as a \"trailing\" empty line.\n  var clip =          string[string.length - 1] === '\\n';\n  var keep = clip && (string[string.length - 2] === '\\n' || string === '\\n');\n  var chomp = keep ? '+' : (clip ? '' : '-');\n\n  return indentIndicator + chomp + '\\n';\n}\n\n// (See the note for writeScalar.)\nfunction dropEndingNewline(string) {\n  return string[string.length - 1] === '\\n' ? string.slice(0, -1) : string;\n}\n\n// Note: a long line without a suitable break point will exceed the width limit.\n// Pre-conditions: every char in str isPrintable, str.length > 0, width > 0.\nfunction foldString(string, width) {\n  // In folded style, $k$ consecutive newlines output as $k+1$ newlines\n  // unless they're before or after a more-indented line, or at the very\n  // beginning or end, in which case $k$ maps to $k$.\n  // Therefore, parse each chunk as newline(s) followed by a content line.\n  var lineRe = /(\\n+)([^\\n]*)/g;\n\n  // first line (possibly an empty line)\n  var result = (function () {\n    var nextLF = string.indexOf('\\n');\n    nextLF = nextLF !== -1 ? nextLF : string.length;\n    lineRe.lastIndex = nextLF;\n    return foldLine(string.slice(0, nextLF), width);\n  }());\n  // If we haven't reached the first content line yet, don't add an extra \\n.\n  var prevMoreIndented = string[0] === '\\n' || string[0] === ' ';\n  var moreIndented;\n\n  // rest of the lines\n  var match;\n  while ((match = lineRe.exec(string))) {\n    var prefix = match[1], line = match[2];\n    moreIndented = (line[0] === ' ');\n    result += prefix\n      + (!prevMoreIndented && !moreIndented && line !== ''\n        ? '\\n' : '')\n      + foldLine(line, width);\n    prevMoreIndented = moreIndented;\n  }\n\n  return result;\n}\n\n// Greedy line breaking.\n// Picks the longest line under the limit each time,\n// otherwise settles for the shortest line over the limit.\n// NB. More-indented lines *cannot* be folded, as that would add an extra \\n.\nfunction foldLine(line, width) {\n  if (line === '' || line[0] === ' ') return line;\n\n  // Since a more-indented line adds a \\n, breaks can't be followed by a space.\n  var breakRe = / [^ ]/g; // note: the match index will always be <= length-2.\n  var match;\n  // start is an inclusive index. end, curr, and next are exclusive.\n  var start = 0, end, curr = 0, next = 0;\n  var result = '';\n\n  // Invariants: 0 <= start <= length-1.\n  //   0 <= curr <= next <= max(0, length-2). curr - start <= width.\n  // Inside the loop:\n  //   A match implies length >= 2, so curr and next are <= length-2.\n  while ((match = breakRe.exec(line))) {\n    next = match.index;\n    // maintain invariant: curr - start <= width\n    if (next - start > width) {\n      end = (curr > start) ? curr : next; // derive end <= length-2\n      result += '\\n' + line.slice(start, end);\n      // skip the space that was output as \\n\n      start = end + 1;                    // derive start <= length-1\n    }\n    curr = next;\n  }\n\n  // By the invariants, start <= length-1, so there is something left over.\n  // It is either the whole string or a part starting from non-whitespace.\n  result += '\\n';\n  // Insert a break if the remainder is too long and there is a break available.\n  if (line.length - start > width && curr > start) {\n    result += line.slice(start, curr) + '\\n' + line.slice(curr + 1);\n  } else {\n    result += line.slice(start);\n  }\n\n  return result.slice(1); // drop extra \\n joiner\n}\n\n// Escapes a double-quoted string.\nfunction escapeString(string) {\n  var result = '';\n  var char, nextChar;\n  var escapeSeq;\n\n  for (var i = 0; i < string.length; i++) {\n    char = string.charCodeAt(i);\n    // Check for surrogate pairs (reference Unicode 3.0 section \"3.7 Surrogates\").\n    if (char >= 0xD800 && char <= 0xDBFF/* high surrogate */) {\n      nextChar = string.charCodeAt(i + 1);\n      if (nextChar >= 0xDC00 && nextChar <= 0xDFFF/* low surrogate */) {\n        // Combine the surrogate pair and store it escaped.\n        result += encodeHex((char - 0xD800) * 0x400 + nextChar - 0xDC00 + 0x10000);\n        // Advance index one extra since we already used that char here.\n        i++; continue;\n      }\n    }\n    escapeSeq = ESCAPE_SEQUENCES[char];\n    result += !escapeSeq && isPrintable(char)\n      ? string[i]\n      : escapeSeq || encodeHex(char);\n  }\n\n  return result;\n}\n\nfunction writeFlowSequence(state, level, object) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level, object[index], false, false)) {\n      if (index !== 0) _result += ',' + (!state.condenseFlow ? ' ' : '');\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = '[' + _result + ']';\n}\n\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level + 1, object[index], true, true)) {\n      if (!compact || index !== 0) {\n        _result += generateNextLine(state, level);\n      }\n\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        _result += '-';\n      } else {\n        _result += '- ';\n      }\n\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '[]'; // Empty sequence if no valid values.\n}\n\nfunction writeFlowMapping(state, level, object) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n\n    pairBuffer = '';\n    if (index !== 0) pairBuffer += ', ';\n\n    if (state.condenseFlow) pairBuffer += '\"';\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue; // Skip this pair because of invalid key;\n    }\n\n    if (state.dump.length > 1024) pairBuffer += '? ';\n\n    pairBuffer += state.dump + (state.condenseFlow ? '\"' : '') + ':' + (state.condenseFlow ? '' : ' ');\n\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = '{' + _result + '}';\n}\n\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      explicitPair,\n      pairBuffer;\n\n  // Allow sorting keys so that the output file is deterministic\n  if (state.sortKeys === true) {\n    // Default sorting\n    objectKeyList.sort();\n  } else if (typeof state.sortKeys === 'function') {\n    // Custom sort function\n    objectKeyList.sort(state.sortKeys);\n  } else if (state.sortKeys) {\n    // Something is wrong\n    throw new YAMLException('sortKeys must be a boolean or a function');\n  }\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (!compact || index !== 0) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level + 1, objectKey, true, true, true)) {\n      continue; // Skip this pair because of invalid key.\n    }\n\n    explicitPair = (state.tag !== null && state.tag !== '?') ||\n                   (state.dump && state.dump.length > 1024);\n\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += '?';\n      } else {\n        pairBuffer += '? ';\n      }\n    }\n\n    pairBuffer += state.dump;\n\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ':';\n    } else {\n      pairBuffer += ': ';\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '{}'; // Empty mapping if no valid pairs.\n}\n\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type, style;\n\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type = typeList[index];\n\n    if ((type.instanceOf  || type.predicate) &&\n        (!type.instanceOf || ((typeof object === 'object') && (object instanceof type.instanceOf))) &&\n        (!type.predicate  || type.predicate(object))) {\n\n      state.tag = explicit ? type.tag : '?';\n\n      if (type.represent) {\n        style = state.styleMap[type.tag] || type.defaultStyle;\n\n        if (_toString.call(type.represent) === '[object Function]') {\n          _result = type.represent(object, style);\n        } else if (_hasOwnProperty.call(type.represent, style)) {\n          _result = type.represent[style](object, style);\n        } else {\n          throw new YAMLException('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n        }\n\n        state.dump = _result;\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Serializes `object` and writes it to global `result`.\n// Returns true on success, or false on invalid object.\n//\nfunction writeNode(state, level, object, block, compact, iskey) {\n  state.tag = null;\n  state.dump = object;\n\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n\n  var type = _toString.call(state.dump);\n\n  if (block) {\n    block = (state.flowLevel < 0 || state.flowLevel > level);\n  }\n\n  var objectOrArray = type === '[object Object]' || type === '[object Array]',\n      duplicateIndex,\n      duplicate;\n\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n\n  if ((state.tag !== null && state.tag !== '?') || duplicate || (state.indent !== 2 && level > 0)) {\n    compact = false;\n  }\n\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = '*ref_' + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if (type === '[object Object]') {\n      if (block && (Object.keys(state.dump).length !== 0)) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object Array]') {\n      var arrayLevel = (state.noArrayIndent && (level > 0)) ? level - 1 : level;\n      if (block && (state.dump.length !== 0)) {\n        writeBlockSequence(state, arrayLevel, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, arrayLevel, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object String]') {\n      if (state.tag !== '?') {\n        writeScalar(state, state.dump, level, iskey);\n      }\n    } else {\n      if (state.skipInvalid) return false;\n      throw new YAMLException('unacceptable kind of an object to dump ' + type);\n    }\n\n    if (state.tag !== null && state.tag !== '?') {\n      state.dump = '!<' + state.tag + '> ' + state.dump;\n    }\n  }\n\n  return true;\n}\n\nfunction getDuplicateReferences(object, state) {\n  var objects = [],\n      duplicatesIndexes = [],\n      index,\n      length;\n\n  inspectNode(object, objects, duplicatesIndexes);\n\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var objectKeyList,\n      index,\n      length;\n\n  if (object !== null && typeof object === 'object') {\n    index = objects.indexOf(object);\n    if (index !== -1) {\n      if (duplicatesIndexes.indexOf(index) === -1) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n\n      if (Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n\nfunction dump(input, options) {\n  options = options || {};\n\n  var state = new State(options);\n\n  if (!state.noRefs) getDuplicateReferences(input, state);\n\n  if (writeNode(state, 0, input, true, true)) return state.dump + '\\n';\n\n  return '';\n}\n\nfunction safeDump(input, options) {\n  return dump(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\nmodule.exports.dump     = dump;\nmodule.exports.safeDump = safeDump;\n","// YAML error class. http://stackoverflow.com/questions/8458984\n//\n'use strict';\n\nfunction YAMLException(reason, mark) {\n  // Super constructor\n  Error.call(this);\n\n  this.name = 'YAMLException';\n  this.reason = reason;\n  this.mark = mark;\n  this.message = (this.reason || '(unknown reason)') + (this.mark ? ' ' + this.mark.toString() : '');\n\n  // Include stack trace in error object\n  if (Error.captureStackTrace) {\n    // Chrome and NodeJS\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    // FF, IE 10+ and Safari 6+. Fallback for others\n    this.stack = (new Error()).stack || '';\n  }\n}\n\n\n// Inherit from Error\nYAMLException.prototype = Object.create(Error.prototype);\nYAMLException.prototype.constructor = YAMLException;\n\n\nYAMLException.prototype.toString = function toString(compact) {\n  var result = this.name + ': ';\n\n  result += this.reason || '(unknown reason)';\n\n  if (!compact && this.mark) {\n    result += ' ' + this.mark.toString();\n  }\n\n  return result;\n};\n\n\nmodule.exports = YAMLException;\n","'use strict';\n\n/*eslint-disable max-len,no-use-before-define*/\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar Mark                = require('./mark');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\n\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\nvar CONTEXT_FLOW_IN   = 1;\nvar CONTEXT_FLOW_OUT  = 2;\nvar CONTEXT_BLOCK_IN  = 3;\nvar CONTEXT_BLOCK_OUT = 4;\n\n\nvar CHOMPING_CLIP  = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP  = 3;\n\n\nvar PATTERN_NON_PRINTABLE         = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS       = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE            = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI               = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction is_EOL(c) {\n  return (c === 0x0A/* LF */) || (c === 0x0D/* CR */);\n}\n\nfunction is_WHITE_SPACE(c) {\n  return (c === 0x09/* Tab */) || (c === 0x20/* Space */);\n}\n\nfunction is_WS_OR_EOL(c) {\n  return (c === 0x09/* Tab */) ||\n         (c === 0x20/* Space */) ||\n         (c === 0x0A/* LF */) ||\n         (c === 0x0D/* CR */);\n}\n\nfunction is_FLOW_INDICATOR(c) {\n  return c === 0x2C/* , */ ||\n         c === 0x5B/* [ */ ||\n         c === 0x5D/* ] */ ||\n         c === 0x7B/* { */ ||\n         c === 0x7D/* } */;\n}\n\nfunction fromHexCode(c) {\n  var lc;\n\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  /*eslint-disable no-bitwise*/\n  lc = c | 0x20;\n\n  if ((0x61/* a */ <= lc) && (lc <= 0x66/* f */)) {\n    return lc - 0x61 + 10;\n  }\n\n  return -1;\n}\n\nfunction escapedHexLen(c) {\n  if (c === 0x78/* x */) { return 2; }\n  if (c === 0x75/* u */) { return 4; }\n  if (c === 0x55/* U */) { return 8; }\n  return 0;\n}\n\nfunction fromDecimalCode(c) {\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  return -1;\n}\n\nfunction simpleEscapeSequence(c) {\n  /* eslint-disable indent */\n  return (c === 0x30/* 0 */) ? '\\x00' :\n        (c === 0x61/* a */) ? '\\x07' :\n        (c === 0x62/* b */) ? '\\x08' :\n        (c === 0x74/* t */) ? '\\x09' :\n        (c === 0x09/* Tab */) ? '\\x09' :\n        (c === 0x6E/* n */) ? '\\x0A' :\n        (c === 0x76/* v */) ? '\\x0B' :\n        (c === 0x66/* f */) ? '\\x0C' :\n        (c === 0x72/* r */) ? '\\x0D' :\n        (c === 0x65/* e */) ? '\\x1B' :\n        (c === 0x20/* Space */) ? ' ' :\n        (c === 0x22/* \" */) ? '\\x22' :\n        (c === 0x2F/* / */) ? '/' :\n        (c === 0x5C/* \\ */) ? '\\x5C' :\n        (c === 0x4E/* N */) ? '\\x85' :\n        (c === 0x5F/* _ */) ? '\\xA0' :\n        (c === 0x4C/* L */) ? '\\u2028' :\n        (c === 0x50/* P */) ? '\\u2029' : '';\n}\n\nfunction charFromCodepoint(c) {\n  if (c <= 0xFFFF) {\n    return String.fromCharCode(c);\n  }\n  // Encode UTF-16 surrogate pair\n  // https://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B010000_to_U.2B10FFFF\n  return String.fromCharCode(\n    ((c - 0x010000) >> 10) + 0xD800,\n    ((c - 0x010000) & 0x03FF) + 0xDC00\n  );\n}\n\nvar simpleEscapeCheck = new Array(256); // integer, for fast access\nvar simpleEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\n\n\nfunction State(input, options) {\n  this.input = input;\n\n  this.filename  = options['filename']  || null;\n  this.schema    = options['schema']    || DEFAULT_FULL_SCHEMA;\n  this.onWarning = options['onWarning'] || null;\n  this.legacy    = options['legacy']    || false;\n  this.json      = options['json']      || false;\n  this.listener  = options['listener']  || null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap       = this.schema.compiledTypeMap;\n\n  this.length     = input.length;\n  this.position   = 0;\n  this.line       = 0;\n  this.lineStart  = 0;\n  this.lineIndent = 0;\n\n  this.documents = [];\n\n  /*\n  this.version;\n  this.checkLineBreaks;\n  this.tagMap;\n  this.anchorMap;\n  this.tag;\n  this.anchor;\n  this.kind;\n  this.result;*/\n\n}\n\n\nfunction generateError(state, message) {\n  return new YAMLException(\n    message,\n    new Mark(state.filename, state.input, state.position, state.line, (state.position - state.lineStart)));\n}\n\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n\nfunction throwWarning(state, message) {\n  if (state.onWarning) {\n    state.onWarning.call(null, generateError(state, message));\n  }\n}\n\n\nvar directiveHandlers = {\n\n  YAML: function handleYamlDirective(state, name, args) {\n\n    var match, major, minor;\n\n    if (state.version !== null) {\n      throwError(state, 'duplication of %YAML directive');\n    }\n\n    if (args.length !== 1) {\n      throwError(state, 'YAML directive accepts exactly one argument');\n    }\n\n    match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n\n    if (match === null) {\n      throwError(state, 'ill-formed argument of the YAML directive');\n    }\n\n    major = parseInt(match[1], 10);\n    minor = parseInt(match[2], 10);\n\n    if (major !== 1) {\n      throwError(state, 'unacceptable YAML version of the document');\n    }\n\n    state.version = args[0];\n    state.checkLineBreaks = (minor < 2);\n\n    if (minor !== 1 && minor !== 2) {\n      throwWarning(state, 'unsupported YAML version of the document');\n    }\n  },\n\n  TAG: function handleTagDirective(state, name, args) {\n\n    var handle, prefix;\n\n    if (args.length !== 2) {\n      throwError(state, 'TAG directive accepts exactly two arguments');\n    }\n\n    handle = args[0];\n    prefix = args[1];\n\n    if (!PATTERN_TAG_HANDLE.test(handle)) {\n      throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n    }\n\n    if (_hasOwnProperty.call(state.tagMap, handle)) {\n      throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n    }\n\n    if (!PATTERN_TAG_URI.test(prefix)) {\n      throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n    }\n\n    state.tagMap[handle] = prefix;\n  }\n};\n\n\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n\n  if (start < end) {\n    _result = state.input.slice(start, end);\n\n    if (checkJson) {\n      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(_character === 0x09 ||\n              (0x20 <= _character && _character <= 0x10FFFF))) {\n          throwError(state, 'expected valid JSON character');\n        }\n      }\n    } else if (PATTERN_NON_PRINTABLE.test(_result)) {\n      throwError(state, 'the stream contains non-printable characters');\n    }\n\n    state.result += _result;\n  }\n}\n\nfunction mergeMappings(state, destination, source, overridableKeys) {\n  var sourceKeys, key, index, quantity;\n\n  if (!common.isObject(source)) {\n    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n  }\n\n  sourceKeys = Object.keys(source);\n\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n\n    if (!_hasOwnProperty.call(destination, key)) {\n      destination[key] = source[key];\n      overridableKeys[key] = true;\n    }\n  }\n}\n\nfunction storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, startLine, startPos) {\n  var index, quantity;\n\n  // The output is a plain object here, so keys can only be strings.\n  // We need to convert keyNode to a string, but doing so can hang the process\n  // (deeply nested arrays that explode exponentially using aliases).\n  if (Array.isArray(keyNode)) {\n    keyNode = Array.prototype.slice.call(keyNode);\n\n    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {\n      if (Array.isArray(keyNode[index])) {\n        throwError(state, 'nested arrays are not supported inside keys');\n      }\n\n      if (typeof keyNode === 'object' && _class(keyNode[index]) === '[object Object]') {\n        keyNode[index] = '[object Object]';\n      }\n    }\n  }\n\n  // Avoid code execution in load() via toString property\n  // (still use its own toString for arrays, timestamps,\n  // and whatever user schema extensions happen to have @@toStringTag)\n  if (typeof keyNode === 'object' && _class(keyNode) === '[object Object]') {\n    keyNode = '[object Object]';\n  }\n\n\n  keyNode = String(keyNode);\n\n  if (_result === null) {\n    _result = {};\n  }\n\n  if (keyTag === 'tag:yaml.org,2002:merge') {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index], overridableKeys);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode, overridableKeys);\n    }\n  } else {\n    if (!state.json &&\n        !_hasOwnProperty.call(overridableKeys, keyNode) &&\n        _hasOwnProperty.call(_result, keyNode)) {\n      state.line = startLine || state.line;\n      state.position = startPos || state.position;\n      throwError(state, 'duplicated mapping key');\n    }\n    _result[keyNode] = valueNode;\n    delete overridableKeys[keyNode];\n  }\n\n  return _result;\n}\n\nfunction readLineBreak(state) {\n  var ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x0A/* LF */) {\n    state.position++;\n  } else if (ch === 0x0D/* CR */) {\n    state.position++;\n    if (state.input.charCodeAt(state.position) === 0x0A/* LF */) {\n      state.position++;\n    }\n  } else {\n    throwError(state, 'a line break is expected');\n  }\n\n  state.line += 1;\n  state.lineStart = state.position;\n}\n\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0,\n      ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    while (is_WHITE_SPACE(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (allowComments && ch === 0x23/* # */) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 0x0A/* LF */ && ch !== 0x0D/* CR */ && ch !== 0);\n    }\n\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n\n      while (ch === 0x20/* Space */) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n    } else {\n      break;\n    }\n  }\n\n  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {\n    throwWarning(state, 'deficient indentation');\n  }\n\n  return lineBreaks;\n}\n\nfunction testDocumentSeparator(state) {\n  var _position = state.position,\n      ch;\n\n  ch = state.input.charCodeAt(_position);\n\n  // Condition state.position === state.lineStart is tested\n  // in parent on each call, for efficiency. No needs to test here again.\n  if ((ch === 0x2D/* - */ || ch === 0x2E/* . */) &&\n      ch === state.input.charCodeAt(_position + 1) &&\n      ch === state.input.charCodeAt(_position + 2)) {\n\n    _position += 3;\n\n    ch = state.input.charCodeAt(_position);\n\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeFoldedLines(state, count) {\n  if (count === 1) {\n    state.result += ' ';\n  } else if (count > 1) {\n    state.result += common.repeat('\\n', count - 1);\n  }\n}\n\n\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding,\n      following,\n      captureStart,\n      captureEnd,\n      hasPendingContent,\n      _line,\n      _lineStart,\n      _lineIndent,\n      _kind = state.kind,\n      _result = state.result,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (is_WS_OR_EOL(ch)      ||\n      is_FLOW_INDICATOR(ch) ||\n      ch === 0x23/* # */    ||\n      ch === 0x26/* & */    ||\n      ch === 0x2A/* * */    ||\n      ch === 0x21/* ! */    ||\n      ch === 0x7C/* | */    ||\n      ch === 0x3E/* > */    ||\n      ch === 0x27/* ' */    ||\n      ch === 0x22/* \" */    ||\n      ch === 0x25/* % */    ||\n      ch === 0x40/* @ */    ||\n      ch === 0x60/* ` */) {\n    return false;\n  }\n\n  if (ch === 0x3F/* ? */ || ch === 0x2D/* - */) {\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (is_WS_OR_EOL(following) ||\n        withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n\n  while (ch !== 0) {\n    if (ch === 0x3A/* : */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following) ||\n          withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n\n    } else if (ch === 0x23/* # */) {\n      preceding = state.input.charCodeAt(state.position - 1);\n\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n\n    } else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n               withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  captureSegment(state, captureStart, captureEnd, false);\n\n  if (state.result) {\n    return true;\n  }\n\n  state.kind = _kind;\n  state.result = _result;\n  return false;\n}\n\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch,\n      captureStart, captureEnd;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x27/* ' */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x27/* ' */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (ch === 0x27/* ' */) {\n        captureStart = state.position;\n        state.position++;\n        captureEnd = state.position;\n      } else {\n        return true;\n      }\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a single quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\n\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart,\n      captureEnd,\n      hexLength,\n      hexResult,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x22/* \" */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x22/* \" */) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n\n    } else if (ch === 0x5C/* \\ */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n\n        // TODO: rework to inline fn with no type cast?\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n\n          } else {\n            throwError(state, 'expected hexadecimal character');\n          }\n        }\n\n        state.result += charFromCodepoint(hexResult);\n\n        state.position++;\n\n      } else {\n        throwError(state, 'unknown escape sequence');\n      }\n\n      captureStart = captureEnd = state.position;\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a double quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\n\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true,\n      _line,\n      _tag     = state.tag,\n      _result,\n      _anchor  = state.anchor,\n      following,\n      terminator,\n      isPair,\n      isExplicitPair,\n      isMapping,\n      overridableKeys = {},\n      keyNode,\n      keyTag,\n      valueNode,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x5B/* [ */) {\n    terminator = 0x5D;/* ] */\n    isMapping = false;\n    _result = [];\n  } else if (ch === 0x7B/* { */) {\n    terminator = 0x7D;/* } */\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  while (ch !== 0) {\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? 'mapping' : 'sequence';\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, 'missed comma between flow collection entries');\n    }\n\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n\n    if (ch === 0x3F/* ? */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((isExplicitPair || state.line === _line) && ch === 0x3A/* : */) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n\n    if (isMapping) {\n      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode));\n    } else {\n      _result.push(keyNode);\n    }\n\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === 0x2C/* , */) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a flow collection');\n}\n\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart,\n      folding,\n      chomping       = CHOMPING_CLIP,\n      didReadContent = false,\n      detectedIndent = false,\n      textIndent     = nodeIndent,\n      emptyLines     = 0,\n      atMoreIndented = false,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x7C/* | */) {\n    folding = false;\n  } else if (ch === 0x3E/* > */) {\n    folding = true;\n  } else {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n\n  while (ch !== 0) {\n    ch = state.input.charCodeAt(++state.position);\n\n    if (ch === 0x2B/* + */ || ch === 0x2D/* - */) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = (ch === 0x2B/* + */) ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, 'repeat of a chomping mode identifier');\n      }\n\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, 'repeat of an indentation width identifier');\n      }\n\n    } else {\n      break;\n    }\n  }\n\n  if (is_WHITE_SPACE(ch)) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (is_WHITE_SPACE(ch));\n\n    if (ch === 0x23/* # */) {\n      do { ch = state.input.charCodeAt(++state.position); }\n      while (!is_EOL(ch) && (ch !== 0));\n    }\n  }\n\n  while (ch !== 0) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n\n    ch = state.input.charCodeAt(state.position);\n\n    while ((!detectedIndent || state.lineIndent < textIndent) &&\n           (ch === 0x20/* Space */)) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n\n    // End of the scalar.\n    if (state.lineIndent < textIndent) {\n\n      // Perform the chomping.\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (didReadContent) { // i.e. only if the scalar is not empty.\n          state.result += '\\n';\n        }\n      }\n\n      // Break this `while` cycle and go to the funciton's epilogue.\n      break;\n    }\n\n    // Folded style: use fancy rules to handle line breaks.\n    if (folding) {\n\n      // Lines starting with white space characters (more-indented lines) are not folded.\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        // except for the first content line (cf. Example 8.1)\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n\n      // End of more-indented block.\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // Just one line break - perceive as the same line.\n      } else if (emptyLines === 0) {\n        if (didReadContent) { // i.e. only if we have already read some scalar content.\n          state.result += ' ';\n        }\n\n      // Several line breaks - perceive as different lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n\n    // Literal style: just add exact number of line breaks between content lines.\n    } else {\n      // Keep all line breaks except the header line break.\n      state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n    }\n\n    didReadContent = true;\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n\n    while (!is_EOL(ch) && (ch !== 0)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    captureSegment(state, captureStart, state.position, false);\n  }\n\n  return true;\n}\n\nfunction readBlockSequence(state, nodeIndent) {\n  var _line,\n      _tag      = state.tag,\n      _anchor   = state.anchor,\n      _result   = [],\n      following,\n      detected  = false,\n      ch;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n\n    if (ch !== 0x2D/* - */) {\n      break;\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n\n    detected = true;\n    state.position++;\n\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a sequence entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'sequence';\n    state.result = _result;\n    return true;\n  }\n  return false;\n}\n\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following,\n      allowCompact,\n      _line,\n      _pos,\n      _tag          = state.tag,\n      _anchor       = state.anchor,\n      _result       = {},\n      overridableKeys = {},\n      keyTag        = null,\n      keyNode       = null,\n      valueNode     = null,\n      atExplicitKey = false,\n      detected      = false,\n      ch;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line; // Save the current line.\n    _pos = state.position;\n\n    //\n    // Explicit notation case. There are two separate blocks:\n    // first for the key (denoted by \"?\") and second for the value (denoted by \":\")\n    //\n    if ((ch === 0x3F/* ? */ || ch === 0x3A/* : */) && is_WS_OR_EOL(following)) {\n\n      if (ch === 0x3F/* ? */) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n          keyTag = keyNode = valueNode = null;\n        }\n\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n\n      } else if (atExplicitKey) {\n        // i.e. 0x3A/* : */ === character after the explicit key.\n        atExplicitKey = false;\n        allowCompact = true;\n\n      } else {\n        throwError(state, 'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');\n      }\n\n      state.position += 1;\n      ch = following;\n\n    //\n    // Implicit notation case. Flow-style node as the key first, then \":\", and the value.\n    //\n    } else if (composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n\n        if (ch === 0x3A/* : */) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n          }\n\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n            keyTag = keyNode = valueNode = null;\n          }\n\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n\n        } else if (detected) {\n          throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true; // Keep the result of `composeNode`.\n        }\n\n      } else if (detected) {\n        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true; // Keep the result of `composeNode`.\n      }\n\n    } else {\n      break; // Reading is done. Go to the epilogue.\n    }\n\n    //\n    // Common reading code for both explicit and implicit notations.\n    //\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _pos);\n        keyTag = keyNode = valueNode = null;\n      }\n\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n\n    if (state.lineIndent > nodeIndent && (ch !== 0)) {\n      throwError(state, 'bad indentation of a mapping entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  //\n  // Epilogue.\n  //\n\n  // Special case: last mapping's node contains only the key in explicit notation.\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n  }\n\n  // Expose the resulting mapping.\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'mapping';\n    state.result = _result;\n  }\n\n  return detected;\n}\n\nfunction readTagProperty(state) {\n  var _position,\n      isVerbatim = false,\n      isNamed    = false,\n      tagHandle,\n      tagName,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x21/* ! */) return false;\n\n  if (state.tag !== null) {\n    throwError(state, 'duplication of a tag property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  if (ch === 0x3C/* < */) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n\n  } else if (ch === 0x21/* ! */) {\n    isNamed = true;\n    tagHandle = '!!';\n    ch = state.input.charCodeAt(++state.position);\n\n  } else {\n    tagHandle = '!';\n  }\n\n  _position = state.position;\n\n  if (isVerbatim) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (ch !== 0 && ch !== 0x3E/* > */);\n\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, 'unexpected end of the stream within a verbatim tag');\n    }\n  } else {\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n\n      if (ch === 0x21/* ! */) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, 'named tag handle cannot contain such characters');\n          }\n\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, 'tag suffix cannot contain exclamation marks');\n        }\n      }\n\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    tagName = state.input.slice(_position, state.position);\n\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, 'tag suffix cannot contain flow indicator characters');\n    }\n  }\n\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, 'tag name cannot contain such characters: ' + tagName);\n  }\n\n  if (isVerbatim) {\n    state.tag = tagName;\n\n  } else if (_hasOwnProperty.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n\n  } else if (tagHandle === '!') {\n    state.tag = '!' + tagName;\n\n  } else if (tagHandle === '!!') {\n    state.tag = 'tag:yaml.org,2002:' + tagName;\n\n  } else {\n    throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n  }\n\n  return true;\n}\n\nfunction readAnchorProperty(state) {\n  var _position,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x26/* & */) return false;\n\n  if (state.anchor !== null) {\n    throwError(state, 'duplication of an anchor property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an anchor node must contain at least one character');\n  }\n\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n\nfunction readAlias(state) {\n  var _position, alias,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x2A/* * */) return false;\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an alias node must contain at least one character');\n  }\n\n  alias = state.input.slice(_position, state.position);\n\n  if (!_hasOwnProperty.call(state.anchorMap, alias)) {\n    throwError(state, 'unidentified alias \"' + alias + '\"');\n  }\n\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles,\n      allowBlockScalars,\n      allowBlockCollections,\n      indentStatus = 1, // 1: this>parent, 0: this=parent, -1: this<parent\n      atNewLine  = false,\n      hasContent = false,\n      typeIndex,\n      typeQuantity,\n      type,\n      flowIndent,\n      blockIndent;\n\n  if (state.listener !== null) {\n    state.listener('open', state);\n  }\n\n  state.tag    = null;\n  state.anchor = null;\n  state.kind   = null;\n  state.result = null;\n\n  allowBlockStyles = allowBlockScalars = allowBlockCollections =\n    CONTEXT_BLOCK_OUT === nodeContext ||\n    CONTEXT_BLOCK_IN  === nodeContext;\n\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n\n      if (state.lineIndent > parentIndent) {\n        indentStatus = 1;\n      } else if (state.lineIndent === parentIndent) {\n        indentStatus = 0;\n      } else if (state.lineIndent < parentIndent) {\n        indentStatus = -1;\n      }\n    }\n  }\n\n  if (indentStatus === 1) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n        allowBlockCollections = allowBlockStyles;\n\n        if (state.lineIndent > parentIndent) {\n          indentStatus = 1;\n        } else if (state.lineIndent === parentIndent) {\n          indentStatus = 0;\n        } else if (state.lineIndent < parentIndent) {\n          indentStatus = -1;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n\n  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n\n    blockIndent = state.position - state.lineStart;\n\n    if (indentStatus === 1) {\n      if (allowBlockCollections &&\n          (readBlockSequence(state, blockIndent) ||\n           readBlockMapping(state, blockIndent, flowIndent)) ||\n          readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n            readSingleQuotedScalar(state, flowIndent) ||\n            readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n\n        } else if (readAlias(state)) {\n          hasContent = true;\n\n          if (state.tag !== null || state.anchor !== null) {\n            throwError(state, 'alias node should not have any properties');\n          }\n\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n\n          if (state.tag === null) {\n            state.tag = '?';\n          }\n        }\n\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else if (indentStatus === 0) {\n      // Special case: block sequences are allowed to have same indentation level as the parent.\n      // http://www.yaml.org/spec/1.2/spec.html#id2799784\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n\n  if (state.tag !== null && state.tag !== '!') {\n    if (state.tag === '?') {\n      // Implicit resolving is not allowed for non-scalar types, and '?'\n      // non-specific tag is only automatically assigned to plain scalars.\n      //\n      // We only need to check kind conformity in case user explicitly assigns '?'\n      // tag, for example like this: \"!<?> [0]\"\n      //\n      if (state.result !== null && state.kind !== 'scalar') {\n        throwError(state, 'unacceptable node kind for !<?> tag; it should be \"scalar\", not \"' + state.kind + '\"');\n      }\n\n      for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n        type = state.implicitTypes[typeIndex];\n\n        if (type.resolve(state.result)) { // `state.result` updated in resolver if matched\n          state.result = type.construct(state.result);\n          state.tag = type.tag;\n          if (state.anchor !== null) {\n            state.anchorMap[state.anchor] = state.result;\n          }\n          break;\n        }\n      }\n    } else if (_hasOwnProperty.call(state.typeMap[state.kind || 'fallback'], state.tag)) {\n      type = state.typeMap[state.kind || 'fallback'][state.tag];\n\n      if (state.result !== null && type.kind !== state.kind) {\n        throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n      }\n\n      if (!type.resolve(state.result)) { // `state.result` updated in resolver if matched\n        throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n      } else {\n        state.result = type.construct(state.result);\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else {\n      throwError(state, 'unknown tag !<' + state.tag + '>');\n    }\n  }\n\n  if (state.listener !== null) {\n    state.listener('close', state);\n  }\n  return state.tag !== null ||  state.anchor !== null || hasContent;\n}\n\nfunction readDocument(state) {\n  var documentStart = state.position,\n      _position,\n      directiveName,\n      directiveArgs,\n      hasDirectives = false,\n      ch;\n\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = {};\n  state.anchorMap = {};\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (state.lineIndent > 0 || ch !== 0x25/* % */) {\n      break;\n    }\n\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n\n    if (directiveName.length < 1) {\n      throwError(state, 'directive name must not be less than one character in length');\n    }\n\n    while (ch !== 0) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (ch === 0x23/* # */) {\n        do { ch = state.input.charCodeAt(++state.position); }\n        while (ch !== 0 && !is_EOL(ch));\n        break;\n      }\n\n      if (is_EOL(ch)) break;\n\n      _position = state.position;\n\n      while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n\n    if (ch !== 0) readLineBreak(state);\n\n    if (_hasOwnProperty.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n    }\n  }\n\n  skipSeparationSpace(state, true, -1);\n\n  if (state.lineIndent === 0 &&\n      state.input.charCodeAt(state.position)     === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 1) === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 2) === 0x2D/* - */) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n\n  } else if (hasDirectives) {\n    throwError(state, 'directives end mark is expected');\n  }\n\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n\n  if (state.checkLineBreaks &&\n      PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n  }\n\n  state.documents.push(state.result);\n\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n\n    if (state.input.charCodeAt(state.position) === 0x2E/* . */) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n\n  if (state.position < (state.length - 1)) {\n    throwError(state, 'end of the stream or a document separator is expected');\n  } else {\n    return;\n  }\n}\n\n\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n\n  if (input.length !== 0) {\n\n    // Add tailing `\\n` if not exists\n    if (input.charCodeAt(input.length - 1) !== 0x0A/* LF */ &&\n        input.charCodeAt(input.length - 1) !== 0x0D/* CR */) {\n      input += '\\n';\n    }\n\n    // Strip BOM\n    if (input.charCodeAt(0) === 0xFEFF) {\n      input = input.slice(1);\n    }\n  }\n\n  var state = new State(input, options);\n\n  var nullpos = input.indexOf('\\0');\n\n  if (nullpos !== -1) {\n    state.position = nullpos;\n    throwError(state, 'null byte is not allowed in input');\n  }\n\n  // Use 0 as string terminator. That significantly simplifies bounds check.\n  state.input += '\\0';\n\n  while (state.input.charCodeAt(state.position) === 0x20/* Space */) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n\n  while (state.position < (state.length - 1)) {\n    readDocument(state);\n  }\n\n  return state.documents;\n}\n\n\nfunction loadAll(input, iterator, options) {\n  if (iterator !== null && typeof iterator === 'object' && typeof options === 'undefined') {\n    options = iterator;\n    iterator = null;\n  }\n\n  var documents = loadDocuments(input, options);\n\n  if (typeof iterator !== 'function') {\n    return documents;\n  }\n\n  for (var index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n\n\nfunction load(input, options) {\n  var documents = loadDocuments(input, options);\n\n  if (documents.length === 0) {\n    /*eslint-disable no-undefined*/\n    return undefined;\n  } else if (documents.length === 1) {\n    return documents[0];\n  }\n  throw new YAMLException('expected a single document in the stream, but found more');\n}\n\n\nfunction safeLoadAll(input, iterator, options) {\n  if (typeof iterator === 'object' && iterator !== null && typeof options === 'undefined') {\n    options = iterator;\n    iterator = null;\n  }\n\n  return loadAll(input, iterator, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\n\nfunction safeLoad(input, options) {\n  return load(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\n\nmodule.exports.loadAll     = loadAll;\nmodule.exports.load        = load;\nmodule.exports.safeLoadAll = safeLoadAll;\nmodule.exports.safeLoad    = safeLoad;\n","'use strict';\n\n\nvar common = require('./common');\n\n\nfunction Mark(name, buffer, position, line, column) {\n  this.name     = name;\n  this.buffer   = buffer;\n  this.position = position;\n  this.line     = line;\n  this.column   = column;\n}\n\n\nMark.prototype.getSnippet = function getSnippet(indent, maxLength) {\n  var head, start, tail, end, snippet;\n\n  if (!this.buffer) return null;\n\n  indent = indent || 4;\n  maxLength = maxLength || 75;\n\n  head = '';\n  start = this.position;\n\n  while (start > 0 && '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(start - 1)) === -1) {\n    start -= 1;\n    if (this.position - start > (maxLength / 2 - 1)) {\n      head = ' ... ';\n      start += 5;\n      break;\n    }\n  }\n\n  tail = '';\n  end = this.position;\n\n  while (end < this.buffer.length && '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(end)) === -1) {\n    end += 1;\n    if (end - this.position > (maxLength / 2 - 1)) {\n      tail = ' ... ';\n      end -= 5;\n      break;\n    }\n  }\n\n  snippet = this.buffer.slice(start, end);\n\n  return common.repeat(' ', indent) + head + snippet + tail + '\\n' +\n         common.repeat(' ', indent + this.position - start + head.length) + '^';\n};\n\n\nMark.prototype.toString = function toString(compact) {\n  var snippet, where = '';\n\n  if (this.name) {\n    where += 'in \"' + this.name + '\" ';\n  }\n\n  where += 'at line ' + (this.line + 1) + ', column ' + (this.column + 1);\n\n  if (!compact) {\n    snippet = this.getSnippet();\n\n    if (snippet) {\n      where += ':\\n' + snippet;\n    }\n  }\n\n  return where;\n};\n\n\nmodule.exports = Mark;\n","'use strict';\n\n/*eslint-disable max-len*/\n\nvar common        = require('./common');\nvar YAMLException = require('./exception');\nvar Type          = require('./type');\n\n\nfunction compileList(schema, name, result) {\n  var exclude = [];\n\n  schema.include.forEach(function (includedSchema) {\n    result = compileList(includedSchema, name, result);\n  });\n\n  schema[name].forEach(function (currentType) {\n    result.forEach(function (previousType, previousIndex) {\n      if (previousType.tag === currentType.tag && previousType.kind === currentType.kind) {\n        exclude.push(previousIndex);\n      }\n    });\n\n    result.push(currentType);\n  });\n\n  return result.filter(function (type, index) {\n    return exclude.indexOf(index) === -1;\n  });\n}\n\n\nfunction compileMap(/* lists... */) {\n  var result = {\n        scalar: {},\n        sequence: {},\n        mapping: {},\n        fallback: {}\n      }, index, length;\n\n  function collectType(type) {\n    result[type.kind][type.tag] = result['fallback'][type.tag] = type;\n  }\n\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n  return result;\n}\n\n\nfunction Schema(definition) {\n  this.include  = definition.include  || [];\n  this.implicit = definition.implicit || [];\n  this.explicit = definition.explicit || [];\n\n  this.implicit.forEach(function (type) {\n    if (type.loadKind && type.loadKind !== 'scalar') {\n      throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n    }\n  });\n\n  this.compiledImplicit = compileList(this, 'implicit', []);\n  this.compiledExplicit = compileList(this, 'explicit', []);\n  this.compiledTypeMap  = compileMap(this.compiledImplicit, this.compiledExplicit);\n}\n\n\nSchema.DEFAULT = null;\n\n\nSchema.create = function createSchema() {\n  var schemas, types;\n\n  switch (arguments.length) {\n    case 1:\n      schemas = Schema.DEFAULT;\n      types = arguments[0];\n      break;\n\n    case 2:\n      schemas = arguments[0];\n      types = arguments[1];\n      break;\n\n    default:\n      throw new YAMLException('Wrong number of arguments for Schema.create function');\n  }\n\n  schemas = common.toArray(schemas);\n  types = common.toArray(types);\n\n  if (!schemas.every(function (schema) { return schema instanceof Schema; })) {\n    throw new YAMLException('Specified list of super schemas (or a single Schema object) contains a non-Schema object.');\n  }\n\n  if (!types.every(function (type) { return type instanceof Type; })) {\n    throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n  }\n\n  return new Schema({\n    include: schemas,\n    explicit: types\n  });\n};\n\n\nmodule.exports = Schema;\n","// Standard YAML's Core schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2804923\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, Core schema has no distinctions from JSON schema is JS-YAML.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./json')\n  ]\n});\n","// JS-YAML's default schema for `load` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on JS-YAML's default safe schema and includes\n// JavaScript-specific types: !!js/undefined, !!js/regexp and !!js/function.\n//\n// Also this schema is used as default base schema at `Schema.create` function.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = Schema.DEFAULT = new Schema({\n  include: [\n    require('./default_safe')\n  ],\n  explicit: [\n    require('../type/js/undefined'),\n    require('../type/js/regexp'),\n    require('../type/js/function')\n  ]\n});\n","// JS-YAML's default schema for `safeLoad` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on standard YAML's Core schema and includes most of\n// extra types described at YAML tag repository. (http://yaml.org/type/)\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./core')\n  ],\n  implicit: [\n    require('../type/timestamp'),\n    require('../type/merge')\n  ],\n  explicit: [\n    require('../type/binary'),\n    require('../type/omap'),\n    require('../type/pairs'),\n    require('../type/set')\n  ]\n});\n","// Standard YAML's Failsafe schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2802346\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  explicit: [\n    require('../type/str'),\n    require('../type/seq'),\n    require('../type/map')\n  ]\n});\n","// Standard YAML's JSON schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2803231\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, this schema is not such strict as defined in the YAML specification.\n// It allows numbers in binary notaion, use `Null` and `NULL` as `null`, etc.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./failsafe')\n  ],\n  implicit: [\n    require('../type/null'),\n    require('../type/bool'),\n    require('../type/int'),\n    require('../type/float')\n  ]\n});\n","'use strict';\n\nvar YAMLException = require('./exception');\n\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  'kind',\n  'resolve',\n  'construct',\n  'instanceOf',\n  'predicate',\n  'represent',\n  'defaultStyle',\n  'styleAliases'\n];\n\nvar YAML_NODE_KINDS = [\n  'scalar',\n  'sequence',\n  'mapping'\n];\n\nfunction compileStyleAliases(map) {\n  var result = {};\n\n  if (map !== null) {\n    Object.keys(map).forEach(function (style) {\n      map[style].forEach(function (alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction Type(tag, options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function (name) {\n    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {\n      throw new YAMLException('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n    }\n  });\n\n  // TODO: Add tag format check.\n  this.tag          = tag;\n  this.kind         = options['kind']         || null;\n  this.resolve      = options['resolve']      || function () { return true; };\n  this.construct    = options['construct']    || function (data) { return data; };\n  this.instanceOf   = options['instanceOf']   || null;\n  this.predicate    = options['predicate']    || null;\n  this.represent    = options['represent']    || null;\n  this.defaultStyle = options['defaultStyle'] || null;\n  this.styleAliases = compileStyleAliases(options['styleAliases'] || null);\n\n  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {\n    throw new YAMLException('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n  }\n}\n\nmodule.exports = Type;\n","'use strict';\n\n/*eslint-disable no-bitwise*/\n\nvar NodeBuffer;\n\ntry {\n  // A trick for browserified version, to not include `Buffer` shim\n  var _require = require;\n  NodeBuffer = _require('buffer').Buffer;\n} catch (__) {}\n\nvar Type       = require('../type');\n\n\n// [ 64, 65, 66 ] -> [ padding, CR, LF ]\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\n\n\nfunction resolveYamlBinary(data) {\n  if (data === null) return false;\n\n  var code, idx, bitlen = 0, max = data.length, map = BASE64_MAP;\n\n  // Convert one by one.\n  for (idx = 0; idx < max; idx++) {\n    code = map.indexOf(data.charAt(idx));\n\n    // Skip CR/LF\n    if (code > 64) continue;\n\n    // Fail on illegal characters\n    if (code < 0) return false;\n\n    bitlen += 6;\n  }\n\n  // If there are any bits left, source was corrupted\n  return (bitlen % 8) === 0;\n}\n\nfunction constructYamlBinary(data) {\n  var idx, tailbits,\n      input = data.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max = input.length,\n      map = BASE64_MAP,\n      bits = 0,\n      result = [];\n\n  // Collect by 6*4 bits (3 bytes)\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      result.push((bits >> 16) & 0xFF);\n      result.push((bits >> 8) & 0xFF);\n      result.push(bits & 0xFF);\n    }\n\n    bits = (bits << 6) | map.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    result.push((bits >> 16) & 0xFF);\n    result.push((bits >> 8) & 0xFF);\n    result.push(bits & 0xFF);\n  } else if (tailbits === 18) {\n    result.push((bits >> 10) & 0xFF);\n    result.push((bits >> 2) & 0xFF);\n  } else if (tailbits === 12) {\n    result.push((bits >> 4) & 0xFF);\n  }\n\n  // Wrap into Buffer for NodeJS and leave Array for browser\n  if (NodeBuffer) {\n    // Support node 6.+ Buffer API when available\n    return NodeBuffer.from ? NodeBuffer.from(result) : new NodeBuffer(result);\n  }\n\n  return result;\n}\n\nfunction representYamlBinary(object /*, style*/) {\n  var result = '', bits = 0, idx, tail,\n      max = object.length,\n      map = BASE64_MAP;\n\n  // Convert every three bytes to 4 ASCII characters.\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 3 === 0) && idx) {\n      result += map[(bits >> 18) & 0x3F];\n      result += map[(bits >> 12) & 0x3F];\n      result += map[(bits >> 6) & 0x3F];\n      result += map[bits & 0x3F];\n    }\n\n    bits = (bits << 8) + object[idx];\n  }\n\n  // Dump tail\n\n  tail = max % 3;\n\n  if (tail === 0) {\n    result += map[(bits >> 18) & 0x3F];\n    result += map[(bits >> 12) & 0x3F];\n    result += map[(bits >> 6) & 0x3F];\n    result += map[bits & 0x3F];\n  } else if (tail === 2) {\n    result += map[(bits >> 10) & 0x3F];\n    result += map[(bits >> 4) & 0x3F];\n    result += map[(bits << 2) & 0x3F];\n    result += map[64];\n  } else if (tail === 1) {\n    result += map[(bits >> 2) & 0x3F];\n    result += map[(bits << 4) & 0x3F];\n    result += map[64];\n    result += map[64];\n  }\n\n  return result;\n}\n\nfunction isBinary(object) {\n  return NodeBuffer && NodeBuffer.isBuffer(object);\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:binary', {\n  kind: 'scalar',\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\n","'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlBoolean(data) {\n  if (data === null) return false;\n\n  var max = data.length;\n\n  return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n         (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\n\nfunction constructYamlBoolean(data) {\n  return data === 'true' ||\n         data === 'True' ||\n         data === 'TRUE';\n}\n\nfunction isBoolean(object) {\n  return Object.prototype.toString.call(object) === '[object Boolean]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:bool', {\n  kind: 'scalar',\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: function (object) { return object ? 'true' : 'false'; },\n    uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n    camelcase: function (object) { return object ? 'True' : 'False'; }\n  },\n  defaultStyle: 'lowercase'\n});\n","'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nvar YAML_FLOAT_PATTERN = new RegExp(\n  // 2.5e4, 2.5 and integers\n  '^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?' +\n  // .2e4, .2\n  // special case, seems not from spec\n  '|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?' +\n  // 20:59\n  '|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*' +\n  // .inf\n  '|[-+]?\\\\.(?:inf|Inf|INF)' +\n  // .nan\n  '|\\\\.(?:nan|NaN|NAN))$');\n\nfunction resolveYamlFloat(data) {\n  if (data === null) return false;\n\n  if (!YAML_FLOAT_PATTERN.test(data) ||\n      // Quick hack to not allow integers end with `_`\n      // Probably should update regexp & check speed\n      data[data.length - 1] === '_') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlFloat(data) {\n  var value, sign, base, digits;\n\n  value  = data.replace(/_/g, '').toLowerCase();\n  sign   = value[0] === '-' ? -1 : 1;\n  digits = [];\n\n  if ('+-'.indexOf(value[0]) >= 0) {\n    value = value.slice(1);\n  }\n\n  if (value === '.inf') {\n    return (sign === 1) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n\n  } else if (value === '.nan') {\n    return NaN;\n\n  } else if (value.indexOf(':') >= 0) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseFloat(v, 10));\n    });\n\n    value = 0.0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += d * base;\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n  return sign * parseFloat(value, 10);\n}\n\n\nvar SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;\n\nfunction representYamlFloat(object, style) {\n  var res;\n\n  if (isNaN(object)) {\n    switch (style) {\n      case 'lowercase': return '.nan';\n      case 'uppercase': return '.NAN';\n      case 'camelcase': return '.NaN';\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '.inf';\n      case 'uppercase': return '.INF';\n      case 'camelcase': return '.Inf';\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '-.inf';\n      case 'uppercase': return '-.INF';\n      case 'camelcase': return '-.Inf';\n    }\n  } else if (common.isNegativeZero(object)) {\n    return '-0.0';\n  }\n\n  res = object.toString(10);\n\n  // JS stringifier can build scientific format without dots: 5e-100,\n  // while YAML requres dot: 5.e-100. Fix it with simple hack\n\n  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace('e', '.e') : res;\n}\n\nfunction isFloat(object) {\n  return (Object.prototype.toString.call(object) === '[object Number]') &&\n         (object % 1 !== 0 || common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:float', {\n  kind: 'scalar',\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: 'lowercase'\n});\n","'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) return false;\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index + 1 === max) return true;\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (ch !== '0' && ch !== '1') return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n    // base 8\n    for (; index < max; index++) {\n      ch = data[index];\n      if (ch === '_') continue;\n      if (!isOctCode(data.charCodeAt(index))) return false;\n      hasDigits = true;\n    }\n    return hasDigits && ch !== '_';\n  }\n\n  // base 10 (except 0) or base 60\n\n  // value should not start with `_`;\n  if (ch === '_') return false;\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') continue;\n    if (ch === ':') break;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  // Should have digits and should not end with `_`\n  if (!hasDigits || ch === '_') return false;\n\n  // if !base60 - done;\n  if (ch !== ':') return true;\n\n  // base60 almost not used, no needs to optimize\n  return /^(:[0-5]?[0-9])+$/.test(data.slice(index));\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch, base, digits = [];\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if (value === '0') return 0;\n\n  if (ch === '0') {\n    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);\n    if (value[1] === 'x') return sign * parseInt(value, 16);\n    return sign * parseInt(value, 8);\n  }\n\n  if (value.indexOf(':') !== -1) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseInt(v, 10));\n    });\n\n    value = 0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += (d * base);\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return (Object.prototype.toString.call(object)) === '[object Number]' &&\n         (object % 1 === 0 && !common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (obj) { return obj >= 0 ? '0b' + obj.toString(2) : '-0b' + obj.toString(2).slice(1); },\n    octal:       function (obj) { return obj >= 0 ? '0'  + obj.toString(8) : '-0'  + obj.toString(8).slice(1); },\n    decimal:     function (obj) { return obj.toString(10); },\n    /* eslint-disable max-len */\n    hexadecimal: function (obj) { return obj >= 0 ? '0x' + obj.toString(16).toUpperCase() :  '-0x' + obj.toString(16).toUpperCase().slice(1); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n","'use strict';\n\nvar esprima;\n\n// Browserified version does not have esprima\n//\n// 1. For node.js just require module as deps\n// 2. For browser try to require mudule via external AMD system.\n//    If not found - try to fallback to window.esprima. If not\n//    found too - then fail to parse.\n//\ntry {\n  // workaround to exclude package from browserify list.\n  var _require = require;\n  esprima = _require('esprima');\n} catch (_) {\n  /* eslint-disable no-redeclare */\n  /* global window */\n  if (typeof window !== 'undefined') esprima = window.esprima;\n}\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptFunction(data) {\n  if (data === null) return false;\n\n  try {\n    var source = '(' + data + ')',\n        ast    = esprima.parse(source, { range: true });\n\n    if (ast.type                    !== 'Program'             ||\n        ast.body.length             !== 1                     ||\n        ast.body[0].type            !== 'ExpressionStatement' ||\n        (ast.body[0].expression.type !== 'ArrowFunctionExpression' &&\n          ast.body[0].expression.type !== 'FunctionExpression')) {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\nfunction constructJavascriptFunction(data) {\n  /*jslint evil:true*/\n\n  var source = '(' + data + ')',\n      ast    = esprima.parse(source, { range: true }),\n      params = [],\n      body;\n\n  if (ast.type                    !== 'Program'             ||\n      ast.body.length             !== 1                     ||\n      ast.body[0].type            !== 'ExpressionStatement' ||\n      (ast.body[0].expression.type !== 'ArrowFunctionExpression' &&\n        ast.body[0].expression.type !== 'FunctionExpression')) {\n    throw new Error('Failed to resolve function');\n  }\n\n  ast.body[0].expression.params.forEach(function (param) {\n    params.push(param.name);\n  });\n\n  body = ast.body[0].expression.body.range;\n\n  // Esprima's ranges include the first '{' and the last '}' characters on\n  // function expressions. So cut them out.\n  if (ast.body[0].expression.body.type === 'BlockStatement') {\n    /*eslint-disable no-new-func*/\n    return new Function(params, source.slice(body[0] + 1, body[1] - 1));\n  }\n  // ES6 arrow functions can omit the BlockStatement. In that case, just return\n  // the body.\n  /*eslint-disable no-new-func*/\n  return new Function(params, 'return ' + source.slice(body[0], body[1]));\n}\n\nfunction representJavascriptFunction(object /*, style*/) {\n  return object.toString();\n}\n\nfunction isFunction(object) {\n  return Object.prototype.toString.call(object) === '[object Function]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/function', {\n  kind: 'scalar',\n  resolve: resolveJavascriptFunction,\n  construct: constructJavascriptFunction,\n  predicate: isFunction,\n  represent: representJavascriptFunction\n});\n","'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptRegExp(data) {\n  if (data === null) return false;\n  if (data.length === 0) return false;\n\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // if regexp starts with '/' it can have modifiers and must be properly closed\n  // `/foo/gim` - modifiers tail can be maximum 3 chars\n  if (regexp[0] === '/') {\n    if (tail) modifiers = tail[1];\n\n    if (modifiers.length > 3) return false;\n    // if expression starts with /, is should be properly terminated\n    if (regexp[regexp.length - modifiers.length - 1] !== '/') return false;\n  }\n\n  return true;\n}\n\nfunction constructJavascriptRegExp(data) {\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // `/foo/gim` - tail can be maximum 4 chars\n  if (regexp[0] === '/') {\n    if (tail) modifiers = tail[1];\n    regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n  }\n\n  return new RegExp(regexp, modifiers);\n}\n\nfunction representJavascriptRegExp(object /*, style*/) {\n  var result = '/' + object.source + '/';\n\n  if (object.global) result += 'g';\n  if (object.multiline) result += 'm';\n  if (object.ignoreCase) result += 'i';\n\n  return result;\n}\n\nfunction isRegExp(object) {\n  return Object.prototype.toString.call(object) === '[object RegExp]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/regexp', {\n  kind: 'scalar',\n  resolve: resolveJavascriptRegExp,\n  construct: constructJavascriptRegExp,\n  predicate: isRegExp,\n  represent: representJavascriptRegExp\n});\n","'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptUndefined() {\n  return true;\n}\n\nfunction constructJavascriptUndefined() {\n  /*eslint-disable no-undefined*/\n  return undefined;\n}\n\nfunction representJavascriptUndefined() {\n  return '';\n}\n\nfunction isUndefined(object) {\n  return typeof object === 'undefined';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/undefined', {\n  kind: 'scalar',\n  resolve: resolveJavascriptUndefined,\n  construct: constructJavascriptUndefined,\n  predicate: isUndefined,\n  represent: representJavascriptUndefined\n});\n","'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:map', {\n  kind: 'mapping',\n  construct: function (data) { return data !== null ? data : {}; }\n});\n","'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlMerge(data) {\n  return data === '<<' || data === null;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:merge', {\n  kind: 'scalar',\n  resolve: resolveYamlMerge\n});\n","'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlNull(data) {\n  if (data === null) return true;\n\n  var max = data.length;\n\n  return (max === 1 && data === '~') ||\n         (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\n\nfunction constructYamlNull() {\n  return null;\n}\n\nfunction isNull(object) {\n  return object === null;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:null', {\n  kind: 'scalar',\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: function () { return '~';    },\n    lowercase: function () { return 'null'; },\n    uppercase: function () { return 'NULL'; },\n    camelcase: function () { return 'Null'; }\n  },\n  defaultStyle: 'lowercase'\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar _toString       = Object.prototype.toString;\n\nfunction resolveYamlOmap(data) {\n  if (data === null) return true;\n\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey,\n      object = data;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n\n    if (_toString.call(pair) !== '[object Object]') return false;\n\n    for (pairKey in pair) {\n      if (_hasOwnProperty.call(pair, pairKey)) {\n        if (!pairHasKey) pairHasKey = true;\n        else return false;\n      }\n    }\n\n    if (!pairHasKey) return false;\n\n    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);\n    else return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlOmap(data) {\n  return data !== null ? data : [];\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:omap', {\n  kind: 'sequence',\n  resolve: resolveYamlOmap,\n  construct: constructYamlOmap\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar _toString = Object.prototype.toString;\n\nfunction resolveYamlPairs(data) {\n  if (data === null) return true;\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    if (_toString.call(pair) !== '[object Object]') return false;\n\n    keys = Object.keys(pair);\n\n    if (keys.length !== 1) return false;\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return true;\n}\n\nfunction constructYamlPairs(data) {\n  if (data === null) return [];\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    keys = Object.keys(pair);\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return result;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:pairs', {\n  kind: 'sequence',\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\n","'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:seq', {\n  kind: 'sequence',\n  construct: function (data) { return data !== null ? data : []; }\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction resolveYamlSet(data) {\n  if (data === null) return true;\n\n  var key, object = data;\n\n  for (key in object) {\n    if (_hasOwnProperty.call(object, key)) {\n      if (object[key] !== null) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction constructYamlSet(data) {\n  return data !== null ? data : {};\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:set', {\n  kind: 'mapping',\n  resolve: resolveYamlSet,\n  construct: constructYamlSet\n});\n","'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:str', {\n  kind: 'scalar',\n  construct: function (data) { return data !== null ? data : ''; }\n});\n","'use strict';\n\nvar Type = require('../type');\n\nvar YAML_DATE_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9])'                    + // [2] month\n  '-([0-9][0-9])$');                   // [3] day\n\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9]?)'                   + // [2] month\n  '-([0-9][0-9]?)'                   + // [3] day\n  '(?:[Tt]|[ \\\\t]+)'                 + // ...\n  '([0-9][0-9]?)'                    + // [4] hour\n  ':([0-9][0-9])'                    + // [5] minute\n  ':([0-9][0-9])'                    + // [6] second\n  '(?:\\\\.([0-9]*))?'                 + // [7] fraction\n  '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' + // [8] tz [9] tz_sign [10] tz_hour\n  '(?::([0-9][0-9]))?))?$');           // [11] tz_minute\n\nfunction resolveYamlTimestamp(data) {\n  if (data === null) return false;\n  if (YAML_DATE_REGEXP.exec(data) !== null) return true;\n  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;\n  return false;\n}\n\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_DATE_REGEXP.exec(data);\n  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (match === null) throw new Error('Date resolve error');\n\n  // match: [1] year [2] month [3] day\n\n  year = +(match[1]);\n  month = +(match[2]) - 1; // JS month starts with 0\n  day = +(match[3]);\n\n  if (!match[4]) { // no hour\n    return new Date(Date.UTC(year, month, day));\n  }\n\n  // match: [4] hour [5] minute [6] second [7] fraction\n\n  hour = +(match[4]);\n  minute = +(match[5]);\n  second = +(match[6]);\n\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) { // milli-seconds\n      fraction += '0';\n    }\n    fraction = +fraction;\n  }\n\n  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute\n\n  if (match[9]) {\n    tz_hour = +(match[10]);\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds\n    if (match[9] === '-') delta = -delta;\n  }\n\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n\n  if (delta) date.setTime(date.getTime() - delta);\n\n  return date;\n}\n\nfunction representYamlTimestamp(object /*, style*/) {\n  return object.toISOString();\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:timestamp', {\n  kind: 'scalar',\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\n","var toString = Object.prototype.toString;\n\nmodule.exports = function kindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n\n  var type = typeof val;\n  if (type === 'boolean') return 'boolean';\n  if (type === 'string') return 'string';\n  if (type === 'number') return 'number';\n  if (type === 'symbol') return 'symbol';\n  if (type === 'function') {\n    return isGeneratorFn(val) ? 'generatorfunction' : 'function';\n  }\n\n  if (isArray(val)) return 'array';\n  if (isBuffer(val)) return 'buffer';\n  if (isArguments(val)) return 'arguments';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  if (isRegexp(val)) return 'regexp';\n\n  switch (ctorName(val)) {\n    case 'Symbol': return 'symbol';\n    case 'Promise': return 'promise';\n\n    // Set, Map, WeakSet, WeakMap\n    case 'WeakMap': return 'weakmap';\n    case 'WeakSet': return 'weakset';\n    case 'Map': return 'map';\n    case 'Set': return 'set';\n\n    // 8-bit typed arrays\n    case 'Int8Array': return 'int8array';\n    case 'Uint8Array': return 'uint8array';\n    case 'Uint8ClampedArray': return 'uint8clampedarray';\n\n    // 16-bit typed arrays\n    case 'Int16Array': return 'int16array';\n    case 'Uint16Array': return 'uint16array';\n\n    // 32-bit typed arrays\n    case 'Int32Array': return 'int32array';\n    case 'Uint32Array': return 'uint32array';\n    case 'Float32Array': return 'float32array';\n    case 'Float64Array': return 'float64array';\n  }\n\n  if (isGeneratorObj(val)) {\n    return 'generator';\n  }\n\n  // Non-plain objects\n  type = toString.call(val);\n  switch (type) {\n    case '[object Object]': return 'object';\n    // iterators\n    case '[object Map Iterator]': return 'mapiterator';\n    case '[object Set Iterator]': return 'setiterator';\n    case '[object String Iterator]': return 'stringiterator';\n    case '[object Array Iterator]': return 'arrayiterator';\n  }\n\n  // other\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n};\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isArray(val) {\n  if (Array.isArray) return Array.isArray(val);\n  return val instanceof Array;\n}\n\nfunction isError(val) {\n  return val instanceof Error || (typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number');\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function'\n    && typeof val.getDate === 'function'\n    && typeof val.setDate === 'function';\n}\n\nfunction isRegexp(val) {\n  if (val instanceof RegExp) return true;\n  return typeof val.flags === 'string'\n    && typeof val.ignoreCase === 'boolean'\n    && typeof val.multiline === 'boolean'\n    && typeof val.global === 'boolean';\n}\n\nfunction isGeneratorFn(name, val) {\n  return ctorName(name) === 'GeneratorFunction';\n}\n\nfunction isGeneratorObj(val) {\n  return typeof val.throw === 'function'\n    && typeof val.return === 'function'\n    && typeof val.next === 'function';\n}\n\nfunction isArguments(val) {\n  try {\n    if (typeof val.length === 'number' && typeof val.callee === 'function') {\n      return true;\n    }\n  } catch (err) {\n    if (err.message.indexOf('callee') !== -1) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * If you need to support Safari 5-7 (8-10 yr-old browser),\n * take a look at https://github.com/feross/is-buffer\n */\n\nfunction isBuffer(val) {\n  if (val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var toString = require('./toString');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n    reHasRegExpChar = RegExp(reRegExpChar.source);\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = toString(string);\n  return (string && reHasRegExpChar.test(string))\n    ? string.replace(reRegExpChar, '\\\\$&')\n    : string;\n}\n\nmodule.exports = escapeRegExp;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","'use strict';\n\nvar typeOf = require('kind-of');\nvar extend = require('extend-shallow');\n\n/**\n * Parse sections in `input` with the given `options`.\n *\n * ```js\n * var sections = require('{%= name %}');\n * var result = sections(input, options);\n * // { content: 'Content before sections', sections: [] }\n * ```\n * @param {String|Buffer|Object} `input` If input is an object, it's `content` property must be a string or buffer.\n * @param {Object} options\n * @return {Object} Returns an object with a `content` string and an array of `sections` objects.\n * @api public\n */\n\nmodule.exports = function(input, options) {\n  if (typeof options === 'function') {\n    options = { parse: options };\n  }\n\n  var file = toObject(input);\n  var defaults = {section_delimiter: '---', parse: identity};\n  var opts = extend({}, defaults, options);\n  var delim = opts.section_delimiter;\n  var lines = file.content.split(/\\r?\\n/);\n  var sections = null;\n  var section = createSection();\n  var content = [];\n  var stack = [];\n\n  function initSections(val) {\n    file.content = val;\n    sections = [];\n    content = [];\n  }\n\n  function closeSection(val) {\n    if (stack.length) {\n      section.key = getKey(stack[0], delim);\n      section.content = val;\n      opts.parse(section, sections);\n      sections.push(section);\n      section = createSection();\n      content = [];\n      stack = [];\n    }\n  }\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n    var len = stack.length;\n    var ln = line.trim();\n\n    if (isDelimiter(ln, delim)) {\n      if (ln.length === 3 && i !== 0) {\n        if (len === 0 || len === 2) {\n          content.push(line);\n          continue;\n        }\n        stack.push(ln);\n        section.data = content.join('\\n');\n        content = [];\n        continue;\n      }\n\n      if (sections === null) {\n        initSections(content.join('\\n'));\n      }\n\n      if (len === 2) {\n        closeSection(content.join('\\n'));\n      }\n\n      stack.push(ln);\n      continue;\n    }\n\n    content.push(line);\n  }\n\n  if (sections === null) {\n    initSections(content.join('\\n'));\n  } else {\n    closeSection(content.join('\\n'));\n  }\n\n  file.sections = sections;\n  return file;\n};\n\nfunction isDelimiter(line, delim) {\n  if (line.slice(0, delim.length) !== delim) {\n    return false;\n  }\n  if (line.charAt(delim.length + 1) === delim.slice(-1)) {\n    return false;\n  }\n  return true;\n}\n\nfunction toObject(input) {\n  if (typeOf(input) !== 'object') {\n    input = { content: input };\n  }\n\n  if (typeof input.content !== 'string' && !isBuffer(input.content)) {\n    throw new TypeError('expected a buffer or string');\n  }\n\n  input.content = input.content.toString();\n  input.sections = [];\n  return input;\n}\n\nfunction getKey(val, delim) {\n  return val ? val.slice(delim.length).trim() : '';\n}\n\nfunction createSection() {\n  return { key: '', data: '', content: '' };\n}\n\nfunction identity(val) {\n  return val;\n}\n\nfunction isBuffer(val) {\n  if (val && val.constructor && typeof val.constructor.isBuffer === 'function') {\n    return val.constructor.isBuffer(val);\n  }\n  return false;\n}\n","/*!\n * strip-bom-string <https://github.com/jonschlinkert/strip-bom-string>\n *\n * Copyright (c) 2015, 2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(str) {\n  if (typeof str === 'string' && str.charAt(0) === '\\ufeff') {\n    return str.slice(1);\n  }\n  return str;\n};\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","module.exports = require(\"vscode\");","module.exports = require(\"buffer\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"fs/promises\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"node:process\");","module.exports = require(\"node:stream/web\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"punycode\");","module.exports = require(\"stream\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"worker_threads\");","module.exports = require(\"zlib\");","\"use strict\";\n// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decode = exports.encode = void 0;\nfunction encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\nexports.encode = encode;\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nfunction decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\nexports.decode = decode;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = void 0;\n// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nfunction parse(str) {\n    if (str.length > 2000) {\n        throw \"URI too long\";\n    }\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nexports.parse = parse;\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.yeast = exports.decode = exports.encode = void 0;\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\nexports.encode = encode;\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\nexports.decode = decode;\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\nexports.yeast = yeast;\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.globalThisShim = void 0;\nexports.globalThisShim = global;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextTick = exports.parse = exports.installTimerFunctions = exports.transports = exports.TransportError = exports.Transport = exports.protocol = exports.Socket = void 0;\nconst socket_js_1 = require(\"./socket.js\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_js_1.Socket; } });\nexports.protocol = socket_js_1.Socket.protocol;\nvar transport_js_1 = require(\"./transport.js\");\nObject.defineProperty(exports, \"Transport\", { enumerable: true, get: function () { return transport_js_1.Transport; } });\nObject.defineProperty(exports, \"TransportError\", { enumerable: true, get: function () { return transport_js_1.TransportError; } });\nvar index_js_1 = require(\"./transports/index.js\");\nObject.defineProperty(exports, \"transports\", { enumerable: true, get: function () { return index_js_1.transports; } });\nvar util_js_1 = require(\"./util.js\");\nObject.defineProperty(exports, \"installTimerFunctions\", { enumerable: true, get: function () { return util_js_1.installTimerFunctions; } });\nvar parseuri_js_1 = require(\"./contrib/parseuri.js\");\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return parseuri_js_1.parse; } });\nvar websocket_constructor_js_1 = require(\"./transports/websocket-constructor.js\");\nObject.defineProperty(exports, \"nextTick\", { enumerable: true, get: function () { return websocket_constructor_js_1.nextTick; } });\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst index_js_1 = require(\"./transports/index.js\");\nconst util_js_1 = require(\"./util.js\");\nconst parseqs_js_1 = require(\"./contrib/parseqs.js\");\nconst parseuri_js_1 = require(\"./contrib/parseuri.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst websocket_constructor_js_1 = require(\"./transports/websocket-constructor.js\");\nconst debug = (0, debug_1.default)(\"engine.io-client:socket\"); // debug()\nclass Socket extends component_emitter_1.Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.binaryType = websocket_constructor_js_1.defaultBinaryType;\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = (0, parseuri_js_1.parse)(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = (0, parseuri_js_1.parse)(opts.host).host;\n        }\n        (0, util_js_1.installTimerFunctions)(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\n            \"polling\",\n            \"websocket\",\n            \"webtransport\",\n        ];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: false,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = (0, parseqs_js_1.decode)(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        debug('creating transport \"%s\"', name);\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = engine_io_parser_1.protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        }, this.opts.transportOptions[name]);\n        debug(\"options: %j\", opts);\n        return new index_js_1.transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            debug(\"error while creating transport: %s\", e);\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        debug(\"setting transport %s\", transport.name);\n        if (this.transport) {\n            debug(\"clearing existing transport %s\", this.transport.name);\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        debug('probing transport \"%s\"', name);\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            debug('probe transport \"%s\" opened', name);\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    debug('probe transport \"%s\" pong', name);\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    debug('pausing current transport \"%s\"', this.transport.name);\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        debug(\"changing transport and sending upgrade packet\");\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    debug('probe transport \"%s\" failed', name);\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            debug('probe transport \"%s\" failed because of error: %s', name, err);\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        if (this.upgrades.indexOf(\"webtransport\") !== -1 &&\n            name !== \"webtransport\") {\n            // favor WebTransport\n            this.setTimeoutFn(() => {\n                if (!failed) {\n                    transport.open();\n                }\n            }, 200);\n        }\n        else {\n            transport.open();\n        }\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        debug(\"socket open\");\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            debug(\"starting upgrade probes\");\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            this.resetPingTimeout();\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n            debug('packet received with socket readyState \"%s\"', this.readyState);\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            debug(\"flushing %d packets in socket\", packets.length);\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += (0, util_js_1.byteLength)(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                debug(\"only send %d out of %d packets\", i, this.writeBuffer.length);\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        debug(\"payload size is %d (max: %d)\", payloadSize, this.maxPayload);\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            debug(\"socket closing - telling transport to close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        debug(\"socket error %j\", err);\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            debug('socket close with reason: \"%s\"', reason);\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nexports.Socket = Socket;\nSocket.protocol = engine_io_parser_1.protocol;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Transport = exports.TransportError = void 0;\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst util_js_1 = require(\"./util.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst parseqs_js_1 = require(\"./contrib/parseqs.js\");\nconst debug = (0, debug_1.default)(\"engine.io-client:transport\"); // debug()\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexports.TransportError = TransportError;\nclass Transport extends component_emitter_1.Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        (0, util_js_1.installTimerFunctions)(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n            debug(\"transport is not open, discarding packets\");\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = (0, engine_io_parser_1.decodePacket)(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n    createUri(schema, query = {}) {\n        return (schema +\n            \"://\" +\n            this._hostname() +\n            this._port() +\n            this.opts.path +\n            this._query(query));\n    }\n    _hostname() {\n        const hostname = this.opts.hostname;\n        return hostname.indexOf(\":\") === -1 ? hostname : \"[\" + hostname + \"]\";\n    }\n    _port() {\n        if (this.opts.port &&\n            ((this.opts.secure && Number(this.opts.port !== 443)) ||\n                (!this.opts.secure && Number(this.opts.port) !== 80))) {\n            return \":\" + this.opts.port;\n        }\n        else {\n            return \"\";\n        }\n    }\n    _query(query) {\n        const encodedQuery = (0, parseqs_js_1.encode)(query);\n        return encodedQuery.length ? \"?\" + encodedQuery : \"\";\n    }\n}\nexports.Transport = Transport;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transports = void 0;\nconst polling_js_1 = require(\"./polling.js\");\nconst websocket_js_1 = require(\"./websocket.js\");\nconst webtransport_js_1 = require(\"./webtransport.js\");\nexports.transports = {\n    websocket: websocket_js_1.WS,\n    webtransport: webtransport_js_1.WT,\n    polling: polling_js_1.Polling,\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Request = exports.Polling = void 0;\nconst transport_js_1 = require(\"../transport.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst yeast_js_1 = require(\"../contrib/yeast.js\");\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst xmlhttprequest_js_1 = require(\"./xmlhttprequest.js\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst util_js_1 = require(\"../util.js\");\nconst globalThis_js_1 = require(\"../globalThis.js\");\nconst debug = (0, debug_1.default)(\"engine.io-client:polling\"); // debug()\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new xmlhttprequest_js_1.XHR({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nclass Polling extends transport_js_1.Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n        if (this.opts.withCredentials) {\n            this.cookieJar = (0, xmlhttprequest_js_1.createCookieJar)();\n        }\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            debug(\"paused\");\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                debug(\"we are currently polling - waiting to pause\");\n                total++;\n                this.once(\"pollComplete\", function () {\n                    debug(\"pre-pause polling complete\");\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                debug(\"we are currently writing - waiting to pause\");\n                total++;\n                this.once(\"drain\", function () {\n                    debug(\"pre-pause writing complete\");\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        debug(\"polling\");\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        debug(\"polling got data %s\", data);\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        (0, engine_io_parser_1.decodePayload)(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n                debug('ignoring poll - transport state \"%s\"', this.readyState);\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            debug(\"writing close packet\");\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            debug(\"transport open - closing\");\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            debug(\"transport not open - deferring close\");\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        (0, engine_io_parser_1.encodePayload)(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        const query = this.query || {};\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0, yeast_js_1.yeast)();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, cookieJar: this.cookieJar }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        debug(\"xhr poll\");\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexports.Polling = Polling;\nclass Request extends component_emitter_1.Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        (0, util_js_1.installTimerFunctions)(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        var _a;\n        const opts = (0, util_js_1.pick)(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        const xhr = (this.xhr = new xmlhttprequest_js_1.XHR(opts));\n        try {\n            debug(\"xhr open %s: %s\", this.method, this.uri);\n            xhr.open(this.method, this.uri, true);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.addCookies(xhr);\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                var _a;\n                if (xhr.readyState === 3) {\n                    (_a = this.opts.cookieJar) === null || _a === void 0 ? void 0 : _a.parseCookies(xhr);\n                }\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            debug(\"xhr data %s\", this.data);\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nexports.Request = Request;\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis_js_1.globalThisShim ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextTick = exports.defaultBinaryType = exports.usingBrowserWebSocket = exports.WebSocket = void 0;\nconst ws_1 = __importDefault(require(\"ws\"));\nexports.WebSocket = ws_1.default;\nexports.usingBrowserWebSocket = false;\nexports.defaultBinaryType = \"nodebuffer\";\nexports.nextTick = process.nextTick;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WS = void 0;\nconst transport_js_1 = require(\"../transport.js\");\nconst yeast_js_1 = require(\"../contrib/yeast.js\");\nconst util_js_1 = require(\"../util.js\");\nconst websocket_constructor_js_1 = require(\"./websocket-constructor.js\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst debug = (0, debug_1.default)(\"engine.io-client:websocket\"); // debug()\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nclass WS extends transport_js_1.Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : (0, util_js_1.pick)(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                websocket_constructor_js_1.usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new websocket_constructor_js_1.WebSocket(uri, protocols)\n                        : new websocket_constructor_js_1.WebSocket(uri)\n                    : new websocket_constructor_js_1.WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            (0, engine_io_parser_1.encodePacket)(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!websocket_constructor_js_1.usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (websocket_constructor_js_1.usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                    debug(\"websocket closed before onclose event\");\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    (0, websocket_constructor_js_1.nextTick)(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        const query = this.query || {};\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = (0, yeast_js_1.yeast)();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        return this.createUri(schema, query);\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!websocket_constructor_js_1.WebSocket;\n    }\n}\nexports.WS = WS;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WT = void 0;\nconst transport_js_1 = require(\"../transport.js\");\nconst websocket_constructor_js_1 = require(\"./websocket-constructor.js\");\nconst engine_io_parser_1 = require(\"engine.io-parser\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = (0, debug_1.default)(\"engine.io-client:webtransport\"); // debug()\nclass WT extends transport_js_1.Transport {\n    get name() {\n        return \"webtransport\";\n    }\n    doOpen() {\n        // @ts-ignore\n        if (typeof WebTransport !== \"function\") {\n            return;\n        }\n        // @ts-ignore\n        this.transport = new WebTransport(this.createUri(\"https\"), this.opts.transportOptions[this.name]);\n        this.transport.closed\n            .then(() => {\n            debug(\"transport closed gracefully\");\n            this.onClose();\n        })\n            .catch((err) => {\n            debug(\"transport closed due to %s\", err);\n            this.onError(\"webtransport error\", err);\n        });\n        // note: we could have used async/await, but that would require some additional polyfills\n        this.transport.ready.then(() => {\n            this.transport.createBidirectionalStream().then((stream) => {\n                const decoderStream = (0, engine_io_parser_1.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER, this.socket.binaryType);\n                const reader = stream.readable.pipeThrough(decoderStream).getReader();\n                const encoderStream = (0, engine_io_parser_1.createPacketEncoderStream)();\n                encoderStream.readable.pipeTo(stream.writable);\n                this.writer = encoderStream.writable.getWriter();\n                const read = () => {\n                    reader\n                        .read()\n                        .then(({ done, value }) => {\n                        if (done) {\n                            debug(\"session is closed\");\n                            return;\n                        }\n                        debug(\"received chunk: %o\", value);\n                        this.onPacket(value);\n                        read();\n                    })\n                        .catch((err) => {\n                        debug(\"an error occurred while reading: %s\", err);\n                    });\n                };\n                read();\n                const packet = { type: \"open\" };\n                if (this.query.sid) {\n                    packet.data = `{\"sid\":\"${this.query.sid}\"}`;\n                }\n                this.writer.write(packet).then(() => this.onOpen());\n            });\n        });\n    }\n    write(packets) {\n        this.writable = false;\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            this.writer.write(packet).then(() => {\n                if (lastPacket) {\n                    (0, websocket_constructor_js_1.nextTick)(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        var _a;\n        (_a = this.transport) === null || _a === void 0 ? void 0 : _a.close();\n    }\n}\nexports.WT = WT;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CookieJar = exports.parse = exports.createCookieJar = exports.XHR = void 0;\nconst XMLHttpRequestModule = __importStar(require(\"xmlhttprequest-ssl\"));\nexports.XHR = XMLHttpRequestModule.default || XMLHttpRequestModule;\nfunction createCookieJar() {\n    return new CookieJar();\n}\nexports.createCookieJar = createCookieJar;\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie\n */\nfunction parse(setCookieString) {\n    const parts = setCookieString.split(\"; \");\n    const i = parts[0].indexOf(\"=\");\n    if (i === -1) {\n        return;\n    }\n    const name = parts[0].substring(0, i).trim();\n    if (!name.length) {\n        return;\n    }\n    let value = parts[0].substring(i + 1).trim();\n    if (value.charCodeAt(0) === 0x22) {\n        // remove double quotes\n        value = value.slice(1, -1);\n    }\n    const cookie = {\n        name,\n        value,\n    };\n    for (let j = 1; j < parts.length; j++) {\n        const subParts = parts[j].split(\"=\");\n        if (subParts.length !== 2) {\n            continue;\n        }\n        const key = subParts[0].trim();\n        const value = subParts[1].trim();\n        switch (key) {\n            case \"Expires\":\n                cookie.expires = new Date(value);\n                break;\n            case \"Max-Age\":\n                const expiration = new Date();\n                expiration.setUTCSeconds(expiration.getUTCSeconds() + parseInt(value, 10));\n                cookie.expires = expiration;\n                break;\n            default:\n            // ignore other keys\n        }\n    }\n    return cookie;\n}\nexports.parse = parse;\nclass CookieJar {\n    constructor() {\n        this.cookies = new Map();\n    }\n    parseCookies(xhr) {\n        const values = xhr.getResponseHeader(\"set-cookie\");\n        if (!values) {\n            return;\n        }\n        values.forEach((value) => {\n            const parsed = parse(value);\n            if (parsed) {\n                this.cookies.set(parsed.name, parsed);\n            }\n        });\n    }\n    addCookies(xhr) {\n        const cookies = [];\n        this.cookies.forEach((cookie, name) => {\n            var _a;\n            if (((_a = cookie.expires) === null || _a === void 0 ? void 0 : _a.getTime()) < Date.now()) {\n                this.cookies.delete(name);\n            }\n            else {\n                cookies.push(`${name}=${cookie.value}`);\n            }\n        });\n        if (cookies.length) {\n            xhr.setDisableHeaderCheck(true);\n            xhr.setRequestHeader(\"cookie\", cookies.join(\"; \"));\n        }\n    }\n}\nexports.CookieJar = CookieJar;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.byteLength = exports.installTimerFunctions = exports.pick = void 0;\nconst globalThis_js_1 = require(\"./globalThis.js\");\nfunction pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\nexports.pick = pick;\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis_js_1.globalThisShim.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis_js_1.globalThisShim.clearTimeout;\nfunction installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis_js_1.globalThisShim);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis_js_1.globalThisShim);\n    }\n    else {\n        obj.setTimeoutFn = globalThis_js_1.globalThisShim.setTimeout.bind(globalThis_js_1.globalThisShim);\n        obj.clearTimeoutFn = globalThis_js_1.globalThisShim.clearTimeout.bind(globalThis_js_1.globalThisShim);\n    }\n}\nexports.installTimerFunctions = installTimerFunctions;\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nfunction byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nexports.byteLength = byteLength;\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ERROR_PACKET = exports.PACKET_TYPES_REVERSE = exports.PACKET_TYPES = void 0;\nconst PACKET_TYPES = Object.create(null); // no Map = no polyfill\nexports.PACKET_TYPES = PACKET_TYPES;\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nexports.PACKET_TYPES_REVERSE = PACKET_TYPES_REVERSE;\nObject.keys(PACKET_TYPES).forEach((key) => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexports.ERROR_PACKET = ERROR_PACKET;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodePacket = void 0;\nconst commons_js_1 = require(\"./commons.js\");\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType),\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        const buffer = Buffer.from(encodedPacket.substring(1), \"base64\");\n        return {\n            type: \"message\",\n            data: mapBinary(buffer, binaryType),\n        };\n    }\n    if (!commons_js_1.PACKET_TYPES_REVERSE[type]) {\n        return commons_js_1.ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: commons_js_1.PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1),\n        }\n        : {\n            type: commons_js_1.PACKET_TYPES_REVERSE[type],\n        };\n};\nexports.decodePacket = decodePacket;\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"arraybuffer\":\n            if (data instanceof ArrayBuffer) {\n                // from WebSocket & binaryType \"arraybuffer\"\n                return data;\n            }\n            else if (Buffer.isBuffer(data)) {\n                // from HTTP long-polling\n                return data.buffer.slice(data.byteOffset, data.byteOffset + data.byteLength);\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return data.buffer;\n            }\n        case \"nodebuffer\":\n        default:\n            if (Buffer.isBuffer(data)) {\n                // from HTTP long-polling or WebSocket & binaryType \"nodebuffer\" (default)\n                return data;\n            }\n            else {\n                // from WebTransport (Uint8Array)\n                return Buffer.from(data);\n            }\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encodePacketToBinary = exports.encodePacket = void 0;\nconst commons_js_1 = require(\"./commons.js\");\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (data instanceof ArrayBuffer || ArrayBuffer.isView(data)) {\n        return callback(supportsBinary ? data : \"b\" + toBuffer(data, true).toString(\"base64\"));\n    }\n    // plain string\n    return callback(commons_js_1.PACKET_TYPES[type] + (data || \"\"));\n};\nexports.encodePacket = encodePacket;\nconst toBuffer = (data, forceBufferConversion) => {\n    if (Buffer.isBuffer(data) ||\n        (data instanceof Uint8Array && !forceBufferConversion)) {\n        return data;\n    }\n    else if (data instanceof ArrayBuffer) {\n        return Buffer.from(data);\n    }\n    else {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n    }\n};\nlet TEXT_ENCODER;\nfunction encodePacketToBinary(packet, callback) {\n    if (packet.data instanceof ArrayBuffer || ArrayBuffer.isView(packet.data)) {\n        return callback(toBuffer(packet.data, false));\n    }\n    (0, exports.encodePacket)(packet, true, (encoded) => {\n        if (!TEXT_ENCODER) {\n            // lazily created for compatibility with Node.js 10\n            TEXT_ENCODER = new TextEncoder();\n        }\n        callback(TEXT_ENCODER.encode(encoded));\n    });\n}\nexports.encodePacketToBinary = encodePacketToBinary;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodePayload = exports.decodePacket = exports.encodePayload = exports.encodePacket = exports.protocol = exports.createPacketDecoderStream = exports.createPacketEncoderStream = void 0;\nconst encodePacket_js_1 = require(\"./encodePacket.js\");\nObject.defineProperty(exports, \"encodePacket\", { enumerable: true, get: function () { return encodePacket_js_1.encodePacket; } });\nconst decodePacket_js_1 = require(\"./decodePacket.js\");\nObject.defineProperty(exports, \"decodePacket\", { enumerable: true, get: function () { return decodePacket_js_1.decodePacket; } });\nconst commons_js_1 = require(\"./commons.js\");\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        (0, encodePacket_js_1.encodePacket)(packet, false, (encodedPacket) => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nexports.encodePayload = encodePayload;\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = (0, decodePacket_js_1.decodePacket)(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexports.decodePayload = decodePayload;\nfunction createPacketEncoderStream() {\n    // @ts-expect-error\n    return new TransformStream({\n        transform(packet, controller) {\n            (0, encodePacket_js_1.encodePacketToBinary)(packet, (encodedPacket) => {\n                const payloadLength = encodedPacket.length;\n                let header;\n                // inspired by the WebSocket format: https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#decoding_payload_length\n                if (payloadLength < 126) {\n                    header = new Uint8Array(1);\n                    new DataView(header.buffer).setUint8(0, payloadLength);\n                }\n                else if (payloadLength < 65536) {\n                    header = new Uint8Array(3);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 126);\n                    view.setUint16(1, payloadLength);\n                }\n                else {\n                    header = new Uint8Array(9);\n                    const view = new DataView(header.buffer);\n                    view.setUint8(0, 127);\n                    view.setBigUint64(1, BigInt(payloadLength));\n                }\n                // first bit indicates whether the payload is plain text (0) or binary (1)\n                if (packet.data && typeof packet.data !== \"string\") {\n                    header[0] |= 0x80;\n                }\n                controller.enqueue(header);\n                controller.enqueue(encodedPacket);\n            });\n        },\n    });\n}\nexports.createPacketEncoderStream = createPacketEncoderStream;\nlet TEXT_DECODER;\nfunction totalLength(chunks) {\n    return chunks.reduce((acc, chunk) => acc + chunk.length, 0);\n}\nfunction concatChunks(chunks, size) {\n    if (chunks[0].length === size) {\n        return chunks.shift();\n    }\n    const buffer = new Uint8Array(size);\n    let j = 0;\n    for (let i = 0; i < size; i++) {\n        buffer[i] = chunks[0][j++];\n        if (j === chunks[0].length) {\n            chunks.shift();\n            j = 0;\n        }\n    }\n    if (chunks.length && j < chunks[0].length) {\n        chunks[0] = chunks[0].slice(j);\n    }\n    return buffer;\n}\nfunction createPacketDecoderStream(maxPayload, binaryType) {\n    if (!TEXT_DECODER) {\n        TEXT_DECODER = new TextDecoder();\n    }\n    const chunks = [];\n    let state = 0 /* READ_HEADER */;\n    let expectedLength = -1;\n    let isBinary = false;\n    // @ts-expect-error\n    return new TransformStream({\n        transform(chunk, controller) {\n            chunks.push(chunk);\n            while (true) {\n                if (state === 0 /* READ_HEADER */) {\n                    if (totalLength(chunks) < 1) {\n                        break;\n                    }\n                    const header = concatChunks(chunks, 1);\n                    isBinary = (header[0] & 0x80) === 0x80;\n                    expectedLength = header[0] & 0x7f;\n                    if (expectedLength < 126) {\n                        state = 3 /* READ_PAYLOAD */;\n                    }\n                    else if (expectedLength === 126) {\n                        state = 1 /* READ_EXTENDED_LENGTH_16 */;\n                    }\n                    else {\n                        state = 2 /* READ_EXTENDED_LENGTH_64 */;\n                    }\n                }\n                else if (state === 1 /* READ_EXTENDED_LENGTH_16 */) {\n                    if (totalLength(chunks) < 2) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 2);\n                    expectedLength = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length).getUint16(0);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else if (state === 2 /* READ_EXTENDED_LENGTH_64 */) {\n                    if (totalLength(chunks) < 8) {\n                        break;\n                    }\n                    const headerArray = concatChunks(chunks, 8);\n                    const view = new DataView(headerArray.buffer, headerArray.byteOffset, headerArray.length);\n                    const n = view.getUint32(0);\n                    if (n > Math.pow(2, 53 - 32) - 1) {\n                        // the maximum safe integer in JavaScript is 2^53 - 1\n                        controller.enqueue(commons_js_1.ERROR_PACKET);\n                        break;\n                    }\n                    expectedLength = n * Math.pow(2, 32) + view.getUint32(4);\n                    state = 3 /* READ_PAYLOAD */;\n                }\n                else {\n                    if (totalLength(chunks) < expectedLength) {\n                        break;\n                    }\n                    const data = concatChunks(chunks, expectedLength);\n                    controller.enqueue((0, decodePacket_js_1.decodePacket)(isBinary ? data : TEXT_DECODER.decode(data), binaryType));\n                    state = 0 /* READ_HEADER */;\n                }\n                if (expectedLength === 0 || expectedLength > maxPayload) {\n                    controller.enqueue(commons_js_1.ERROR_PACKET);\n                    break;\n                }\n            }\n        },\n    });\n}\nexports.createPacketDecoderStream = createPacketDecoderStream;\nexports.protocol = 4;\n","/* c8 ignore start */\n// 64 KiB (same size chrome slice theirs blob into Uint8array's)\nconst POOL_SIZE = 65536\n\nif (!globalThis.ReadableStream) {\n  // `node:stream/web` got introduced in v16.5.0 as experimental\n  // and it's preferred over the polyfilled version. So we also\n  // suppress the warning that gets emitted by NodeJS for using it.\n  try {\n    const process = require('node:process')\n    const { emitWarning } = process\n    try {\n      process.emitWarning = () => {}\n      Object.assign(globalThis, require('node:stream/web'))\n      process.emitWarning = emitWarning\n    } catch (error) {\n      process.emitWarning = emitWarning\n      throw error\n    }\n  } catch (error) {\n    // fallback to polyfill implementation\n    Object.assign(globalThis, require('web-streams-polyfill/dist/ponyfill.es2018.js'))\n  }\n}\n\ntry {\n  // Don't use node: prefix for this, require+node: is not supported until node v14.14\n  // Only `import()` can use prefix in 12.20 and later\n  const { Blob } = require('buffer')\n  if (Blob && !Blob.prototype.stream) {\n    Blob.prototype.stream = function name (params) {\n      let position = 0\n      const blob = this\n\n      return new ReadableStream({\n        type: 'bytes',\n        async pull (ctrl) {\n          const chunk = blob.slice(position, Math.min(blob.size, position + POOL_SIZE))\n          const buffer = await chunk.arrayBuffer()\n          position += buffer.byteLength\n          ctrl.enqueue(new Uint8Array(buffer))\n\n          if (position === blob.size) {\n            ctrl.close()\n          }\n        }\n      })\n    }\n  }\n} catch (error) {}\n/* c8 ignore end */\n","\"use strict\";\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Backoff = void 0;\nfunction Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\nexports.Backoff = Backoff;\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.connect = exports.io = exports.Socket = exports.Manager = exports.protocol = void 0;\nconst url_js_1 = require(\"./url.js\");\nconst manager_js_1 = require(\"./manager.js\");\nObject.defineProperty(exports, \"Manager\", { enumerable: true, get: function () { return manager_js_1.Manager; } });\nconst socket_js_1 = require(\"./socket.js\");\nObject.defineProperty(exports, \"Socket\", { enumerable: true, get: function () { return socket_js_1.Socket; } });\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client\"); // debug()\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url_js_1.url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        debug(\"ignoring socket cache for %s\", source);\n        io = new manager_js_1.Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            debug(\"new io instance for %s\", source);\n            cache[id] = new manager_js_1.Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\nexports.io = lookup;\nexports.connect = lookup;\nexports.default = lookup;\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager: manager_js_1.Manager,\n    Socket: socket_js_1.Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nvar socket_io_parser_1 = require(\"socket.io-parser\");\nObject.defineProperty(exports, \"protocol\", { enumerable: true, get: function () { return socket_io_parser_1.protocol; } });\n\nmodule.exports = lookup;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Manager = void 0;\nconst engine_io_client_1 = require(\"engine.io-client\");\nconst socket_js_1 = require(\"./socket.js\");\nconst parser = __importStar(require(\"socket.io-parser\"));\nconst on_js_1 = require(\"./on.js\");\nconst backo2_js_1 = require(\"./contrib/backo2.js\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client:manager\"); // debug()\nclass Manager extends component_emitter_1.Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        engine_io_client_1.installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new backo2_js_1.Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        debug(\"readyState %s\", this._readyState);\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        debug(\"opening %s\", this.uri);\n        this.engine = new engine_io_client_1.Socket(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on_js_1.on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            debug(\"error\");\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on_js_1.on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            debug(\"connect attempt will timeout after %d\", timeout);\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                debug(\"connect attempt timed out after %d\", timeout);\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"open\");\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on_js_1.on(socket, \"ping\", this.onping.bind(this)), on_js_1.on(socket, \"data\", this.ondata.bind(this)), on_js_1.on(socket, \"error\", this.onerror.bind(this)), on_js_1.on(socket, \"close\", this.onclose.bind(this)), on_js_1.on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        engine_io_client_1.nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        debug(\"error\", err);\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new socket_js_1.Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                debug(\"socket %s is still active, skipping close\", nsp);\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        debug(\"writing packet %j\", packet);\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        debug(\"cleanup\");\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        debug(\"disconnect\");\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n        if (this.engine)\n            this.engine.close();\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called upon engine close.\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"closed due to %s\", reason);\n        this.cleanup();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            debug(\"reconnect failed\");\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            debug(\"will wait %dms before reconnect attempt\", delay);\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                debug(\"attempting reconnect\");\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        debug(\"reconnect attempt error\");\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        debug(\"reconnect success\");\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\nexports.Manager = Manager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.on = void 0;\nfunction on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\nexports.on = on;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Socket = void 0;\nconst socket_io_parser_1 = require(\"socket.io-parser\");\nconst on_js_1 = require(\"./on.js\");\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client:socket\"); // debug()\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nclass Socket extends component_emitter_1.Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on_js_1.on(io, \"open\", this.onopen.bind(this)),\n            on_js_1.on(io, \"packet\", this.onpacket.bind(this)),\n            on_js_1.on(io, \"error\", this.onerror.bind(this)),\n            on_js_1.on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: socket_io_parser_1.PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            debug(\"emitting packet with ack id %d\", id);\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = this.io.engine &&\n            this.io.engine.transport &&\n            this.io.engine.transport.writable;\n        const discardPacket = this.flags.volatile && (!isTransportWritable || !this.connected);\n        if (discardPacket) {\n            debug(\"discard packet as the transport is not currently writable\");\n        }\n        else if (this.connected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    debug(\"removing packet with ack id %d from the buffer\", id);\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            debug(\"event with ack id %d has timed out after %d ms\", id, timeout);\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        this.acks[id] = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, [null, ...args]);\n        };\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        // the timeout flag is optional\n        const withErr = this.flags.timeout !== undefined || this._opts.ackTimeout !== undefined;\n        return new Promise((resolve, reject) => {\n            args.push((arg1, arg2) => {\n                if (withErr) {\n                    return arg1 ? reject(arg1) : resolve(arg2);\n                }\n                else {\n                    return resolve(arg1);\n                }\n            });\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    debug(\"packet [%d] is discarded after %d tries\", packet.id, packet.tryCount);\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                debug(\"packet [%d] was successfully sent\", packet.id);\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        debug(\"draining queue\");\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            debug(\"packet [%d] has already been sent and is waiting for an ack\", packet.id);\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        debug(\"sending packet [%d] (try n%d)\", packet.id, packet.tryCount);\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        debug(\"transport is open - connecting\");\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: socket_io_parser_1.PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        debug(\"close (%s)\", reason);\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case socket_io_parser_1.PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case socket_io_parser_1.PacketType.EVENT:\n            case socket_io_parser_1.PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case socket_io_parser_1.PacketType.ACK:\n            case socket_io_parser_1.PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case socket_io_parser_1.PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case socket_io_parser_1.PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        debug(\"emitting event %j\", args);\n        if (null != packet.id) {\n            debug(\"attaching ack callback to event\");\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            debug(\"sending ack %j\", args);\n            self.packet({\n                type: socket_io_parser_1.PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowlegement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (\"function\" === typeof ack) {\n            debug(\"calling ack %s with %j\", packet.id, packet.data);\n            ack.apply(this, packet.data);\n            delete this.acks[packet.id];\n        }\n        else {\n            debug(\"bad ack %s\", packet.id);\n        }\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        debug(\"socket connected with id %s\", id);\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        debug(\"server disconnect (%s)\", this.nsp);\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            debug(\"performing disconnect (%s)\", this.nsp);\n            this.packet({ type: socket_io_parser_1.PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\nexports.Socket = Socket;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.url = void 0;\nconst engine_io_client_1 = require(\"engine.io-client\");\nconst debug_1 = __importDefault(require(\"debug\")); // debug()\nconst debug = debug_1.default(\"socket.io-client:url\"); // debug()\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nfunction url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            debug(\"protocol-less url %s\", uri);\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        debug(\"parse %s\", uri);\n        obj = engine_io_client_1.parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\nexports.url = url;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reconstructPacket = exports.deconstructPacket = void 0;\nconst is_binary_js_1 = require(\"./is-binary.js\");\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nfunction deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nexports.deconstructPacket = deconstructPacket;\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if ((0, is_binary_js_1.isBinary)(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nfunction reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nexports.reconstructPacket = reconstructPacket;\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Decoder = exports.Encoder = exports.PacketType = exports.protocol = void 0;\nconst component_emitter_1 = require(\"@socket.io/component-emitter\");\nconst binary_js_1 = require(\"./binary.js\");\nconst is_binary_js_1 = require(\"./is-binary.js\");\nconst debug_1 = require(\"debug\"); // debug()\nconst debug = (0, debug_1.default)(\"socket.io-parser\"); // debug()\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexports.protocol = 5;\nvar PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType = exports.PacketType || (exports.PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nclass Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        debug(\"encoding packet %j\", obj);\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if ((0, is_binary_js_1.hasBinary)(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        debug(\"encoded %j as %s\", obj, str);\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = (0, binary_js_1.deconstructPacket)(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\nexports.Encoder = Encoder;\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nclass Decoder extends component_emitter_1.Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if ((0, is_binary_js_1.isBinary)(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        debug(\"decoded %s as %j\", str, p);\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\nexports.Decoder = Decoder;\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = (0, binary_js_1.reconstructPacket)(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasBinary = exports.isBinary = void 0;\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nfunction isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexports.isBinary = isBinary;\nfunction hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasBinary = hasBinary;\n","var matter = require('gray-matter');\nvar asynciterable = require('ix/asynciterable');\nvar last$1 = require('ix/asynciterable/last');\nvar map$1 = require('ix/asynciterable/operators/map');\nvar memoize = require('ix/asynciterable/operators/memoize');\nvar toarray = require('ix/asynciterable/toarray');\nvar escapeRegExp = require('lodash/escapeRegExp');\nvar events = require('events');\nrequire('path');\nrequire('fs');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar matter__default = /*#__PURE__*/_interopDefaultLegacy(matter);\nvar escapeRegExp__default = /*#__PURE__*/_interopDefaultLegacy(escapeRegExp);\n\nvar ArrayProto = Array.prototype;\nvar ObjProto = Object.prototype;\nvar escapeMap = {\n  '&': '&amp;',\n  '\"': '&quot;',\n  '\\'': '&#39;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\\\\': '&#92;'\n};\nvar escapeRegex = /[&\"'<>\\\\]/g;\nfunction hasOwnProp(obj, k) {\n  return ObjProto.hasOwnProperty.call(obj, k);\n}\nfunction lookupEscape(ch) {\n  return escapeMap[ch];\n}\nfunction _prettifyError(path, withInternals, err) {\n  if (!err.Update) {\n    // not one of ours, cast it\n    err = new TemplateError(err);\n  }\n  err.Update(path);\n\n  // Unless they marked the dev flag, show them a trace from here\n  if (!withInternals) {\n    const old = err;\n    err = new Error(old.message);\n    err.name = old.name;\n  }\n  return err;\n}\nfunction TemplateError(message, lineno, colno) {\n  var err;\n  var cause;\n  if (message instanceof Error) {\n    cause = message;\n    message = `${cause.name}: ${cause.message}`;\n  }\n  if (Object.setPrototypeOf) {\n    err = new Error(message);\n    Object.setPrototypeOf(err, TemplateError.prototype);\n  } else {\n    err = this;\n    Object.defineProperty(err, 'message', {\n      enumerable: false,\n      writable: true,\n      value: message\n    });\n  }\n  Object.defineProperty(err, 'name', {\n    value: 'Template render error'\n  });\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(err, this.constructor);\n  }\n  let getStack;\n  if (cause) {\n    const stackDescriptor = Object.getOwnPropertyDescriptor(cause, 'stack');\n    getStack = stackDescriptor && (stackDescriptor.get || (() => stackDescriptor.value));\n    if (!getStack) {\n      getStack = () => cause.stack;\n    }\n  } else {\n    const stack = new Error(message).stack;\n    getStack = () => stack;\n  }\n  Object.defineProperty(err, 'stack', {\n    get: () => getStack.call(err)\n  });\n  Object.defineProperty(err, 'cause', {\n    value: cause\n  });\n  err.lineno = lineno;\n  err.colno = colno;\n  err.firstUpdate = true;\n  err.Update = function Update(path) {\n    let msg = '(' + (path || 'unknown path') + ')';\n\n    // only show lineno + colno next to path of template\n    // where error occurred\n    if (this.firstUpdate) {\n      if (this.lineno && this.colno) {\n        msg += ` [Line ${this.lineno}, Column ${this.colno}]`;\n      } else if (this.lineno) {\n        msg += ` [Line ${this.lineno}]`;\n      }\n    }\n    msg += '\\n ';\n    if (this.firstUpdate) {\n      msg += ' ';\n    }\n    this.message = msg + (this.message || '');\n    this.firstUpdate = false;\n    return this;\n  };\n  return err;\n}\nif (Object.setPrototypeOf) {\n  Object.setPrototypeOf(TemplateError.prototype, Error.prototype);\n} else {\n  TemplateError.prototype = Object.create(Error.prototype, {\n    constructor: {\n      value: TemplateError\n    }\n  });\n}\nfunction escape$1(val) {\n  return val.replace(escapeRegex, lookupEscape);\n}\nfunction isFunction(obj) {\n  return ObjProto.toString.call(obj) === '[object Function]';\n}\nfunction isArray$1(obj) {\n  return ObjProto.toString.call(obj) === '[object Array]';\n}\nfunction isString(obj) {\n  return ObjProto.toString.call(obj) === '[object String]';\n}\nfunction isObject(obj) {\n  return ObjProto.toString.call(obj) === '[object Object]';\n}\n\n/**\n * @param {string|number} attr\n * @returns {(string|number)[]}\n * @private\n */\nfunction _prepareAttributeParts(attr) {\n  if (!attr) {\n    return [];\n  }\n  if (typeof attr === 'string') {\n    return attr.split('.');\n  }\n  return [attr];\n}\n\n/**\n * @param {string}   attribute      Attribute value. Dots allowed.\n * @returns {function(Object): *}\n */\nfunction getAttrGetter(attribute) {\n  const parts = _prepareAttributeParts(attribute);\n  return function attrGetter(item) {\n    let _item = item;\n    for (let i = 0; i < parts.length; i++) {\n      const part = parts[i];\n\n      // If item is not an object, and we still got parts to handle, it means\n      // that something goes wrong. Just roll out to undefined in that case.\n      if (hasOwnProp(_item, part)) {\n        _item = _item[part];\n      } else {\n        return undefined;\n      }\n    }\n    return _item;\n  };\n}\nfunction groupBy(obj, val, throwOnUndefined) {\n  const result = {};\n  const iterator = isFunction(val) ? val : getAttrGetter(val);\n  for (let i = 0; i < obj.length; i++) {\n    const value = obj[i];\n    const key = iterator(value, i);\n    if (key === undefined && throwOnUndefined === true) {\n      throw new TypeError(`groupby: attribute \"${val}\" resolved to undefined`);\n    }\n    (result[key] || (result[key] = [])).push(value);\n  }\n  return result;\n}\nfunction toArray(obj) {\n  return Array.prototype.slice.call(obj);\n}\nfunction without(array) {\n  const result = [];\n  if (!array) {\n    return result;\n  }\n  const length = array.length;\n  const contains = toArray(arguments).slice(1);\n  let index = -1;\n  while (++index < length) {\n    if (indexOf(contains, array[index]) === -1) {\n      result.push(array[index]);\n    }\n  }\n  return result;\n}\nfunction repeat(char_, n) {\n  var str = '';\n  for (let i = 0; i < n; i++) {\n    str += char_;\n  }\n  return str;\n}\nfunction each(obj, func, context) {\n  if (obj == null) {\n    return;\n  }\n  if (ArrayProto.forEach && obj.forEach === ArrayProto.forEach) {\n    obj.forEach(func, context);\n  } else if (obj.length === +obj.length) {\n    for (let i = 0, l = obj.length; i < l; i++) {\n      func.call(context, obj[i], i, obj);\n    }\n  }\n}\nfunction map(obj, func) {\n  var results = [];\n  if (obj == null) {\n    return results;\n  }\n  if (ArrayProto.map && obj.map === ArrayProto.map) {\n    return obj.map(func);\n  }\n  for (let i = 0; i < obj.length; i++) {\n    results[results.length] = func(obj[i], i);\n  }\n  if (obj.length === +obj.length) {\n    results.length = obj.length;\n  }\n  return results;\n}\nfunction asyncIter(arr, iter, cb) {\n  let i = -1;\n  function next() {\n    i++;\n    if (i < arr.length) {\n      iter(arr[i], i, next, cb);\n    } else {\n      cb();\n    }\n  }\n  next();\n}\nfunction asyncFor(obj, iter, cb) {\n  const keys = keys_(obj || {});\n  const len = keys.length;\n  let i = -1;\n  function next() {\n    i++;\n    const k = keys[i];\n    if (i < len) {\n      iter(k, obj[k], i, len, next);\n    } else {\n      cb();\n    }\n  }\n  next();\n}\nfunction indexOf(arr, searchElement, fromIndex) {\n  return Array.prototype.indexOf.call(arr || [], searchElement, fromIndex);\n}\nfunction keys_(obj) {\n  /* eslint-disable no-restricted-syntax */\n  const arr = [];\n  for (let k in obj) {\n    if (hasOwnProp(obj, k)) {\n      arr.push(k);\n    }\n  }\n  return arr;\n}\nfunction _entries(obj) {\n  return keys_(obj).map(k => [k, obj[k]]);\n}\nfunction _values(obj) {\n  return keys_(obj).map(k => obj[k]);\n}\nfunction extend(obj1, obj2) {\n  obj1 = obj1 || {};\n  keys_(obj2).forEach(k => {\n    obj1[k] = obj2[k];\n  });\n  return obj1;\n}\nfunction inOperator$1(key, val) {\n  if (isArray$1(val) || isString(val)) {\n    return val.indexOf(key) !== -1;\n  } else if (isObject(val)) {\n    return key in val;\n  }\n  throw new Error('Cannot use \"in\" operator to search for \"' + key + '\" in unexpected types.');\n}\n\nvar lib = {\n  __proto__: null,\n  hasOwnProp: hasOwnProp,\n  _prettifyError: _prettifyError,\n  TemplateError: TemplateError,\n  escape: escape$1,\n  isFunction: isFunction,\n  isArray: isArray$1,\n  isString: isString,\n  isObject: isObject,\n  getAttrGetter: getAttrGetter,\n  groupBy: groupBy,\n  toArray: toArray,\n  without: without,\n  repeat: repeat,\n  each: each,\n  map: map,\n  asyncIter: asyncIter,\n  asyncFor: asyncFor,\n  indexOf: indexOf,\n  keys: keys_,\n  _entries: _entries,\n  _values: _values,\n  extend: extend,\n  _assign: extend,\n  inOperator: inOperator$1\n};\n\nlet whitespaceChars = ' \\n\\t\\r\\u00A0';\nlet delimChars = '()[]{}%*-+~/#,:|.<>=!';\nlet intChars = '0123456789';\nlet BLOCK_START = '{%';\nlet BLOCK_END = '%}';\nlet VARIABLE_START = '{{';\nlet VARIABLE_END = '}}';\nlet COMMENT_START = '{#';\nlet COMMENT_END = '#}';\nlet TOKEN_STRING = 'string';\nlet TOKEN_WHITESPACE = 'whitespace';\nlet TOKEN_DATA = 'data';\nlet TOKEN_BLOCK_START = 'block-start';\nlet TOKEN_BLOCK_END = 'block-end';\nlet TOKEN_VARIABLE_START = 'variable-start';\nlet TOKEN_VARIABLE_END = 'variable-end';\nlet TOKEN_COMMENT = 'comment';\nlet TOKEN_LEFT_PAREN = 'left-paren';\nlet TOKEN_RIGHT_PAREN = 'right-paren';\nlet TOKEN_LEFT_BRACKET = 'left-bracket';\nlet TOKEN_RIGHT_BRACKET = 'right-bracket';\nlet TOKEN_LEFT_CURLY = 'left-curly';\nlet TOKEN_RIGHT_CURLY = 'right-curly';\nlet TOKEN_OPERATOR = 'operator';\nlet TOKEN_COMMA = 'comma';\nlet TOKEN_COLON = 'colon';\nlet TOKEN_TILDE = 'tilde';\nlet TOKEN_PIPE = 'pipe';\nlet TOKEN_INT = 'int';\nlet TOKEN_FLOAT = 'float';\nlet TOKEN_BOOLEAN = 'boolean';\nlet TOKEN_NONE = 'none';\nlet TOKEN_SYMBOL = 'symbol';\nlet TOKEN_SPECIAL = 'special';\nlet TOKEN_REGEX = 'regex';\nfunction token(type, value, lineno, colno) {\n  return {\n    type: type,\n    value: value,\n    lineno: lineno,\n    colno: colno\n  };\n}\nclass Tokenizer {\n  constructor(str, opts) {\n    this.str = str;\n    this.index = 0;\n    this.len = str.length;\n    this.lineno = 0;\n    this.colno = 0;\n    this.in_code = false;\n    opts = opts || {};\n    let tags = opts.tags || {};\n    this.tags = {\n      BLOCK_START: tags.blockStart || BLOCK_START,\n      BLOCK_END: tags.blockEnd || BLOCK_END,\n      VARIABLE_START: tags.variableStart || VARIABLE_START,\n      VARIABLE_END: tags.variableEnd || VARIABLE_END,\n      COMMENT_START: tags.commentStart || COMMENT_START,\n      COMMENT_END: tags.commentEnd || COMMENT_END\n    };\n    this.trimBlocks = !!opts.trimBlocks;\n    this.lstripBlocks = !!opts.lstripBlocks;\n  }\n  nextToken() {\n    let lineno = this.lineno;\n    let colno = this.colno;\n    let tok;\n    if (this.in_code) {\n      // Otherwise, if we are in a block parse it as code\n      let cur = this.current();\n      if (this.isFinished()) {\n        // We have nothing else to parse\n        return null;\n      } else if (cur === '\"' || cur === '\\'') {\n        // We've hit a string\n        return token(TOKEN_STRING, this._parseString(cur), lineno, colno);\n      } else if (tok = this._extract(whitespaceChars)) {\n        // We hit some whitespace\n        return token(TOKEN_WHITESPACE, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.BLOCK_END)) || (tok = this._extractString('-' + this.tags.BLOCK_END))) {\n        // Special check for the block end tag\n        //\n        // It is a requirement that start and end tags are composed of\n        // delimiter characters (%{}[] etc), and our code always\n        // breaks on delimiters so we can assume the token parsing\n        // doesn't consume these elsewhere\n        this.in_code = false;\n        if (this.trimBlocks) {\n          cur = this.current();\n          if (cur === '\\n') {\n            // Skip newline\n            this.forward();\n          } else if (cur === '\\r') {\n            // Skip CRLF newline\n            this.forward();\n            cur = this.current();\n            if (cur === '\\n') {\n              this.forward();\n            } else {\n              // Was not a CRLF, so go back\n              this.back();\n            }\n          }\n        }\n        return token(TOKEN_BLOCK_END, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.VARIABLE_END)) || (tok = this._extractString('-' + this.tags.VARIABLE_END))) {\n        // Special check for variable end tag (see above)\n        this.in_code = false;\n        return token(TOKEN_VARIABLE_END, tok, lineno, colno);\n      } else if (cur === 'r' && this.str.charAt(this.index + 1) === '/') {\n        // Skip past 'r/'.\n        this.forwardN(2);\n\n        // Extract until the end of the regex -- / ends it, \\/ does not.\n        let regexBody = '';\n        while (!this.isFinished()) {\n          if (this.current() === '/' && this.previous() !== '\\\\') {\n            this.forward();\n            break;\n          } else {\n            regexBody += this.current();\n            this.forward();\n          }\n        }\n\n        // Check for flags.\n        // The possible flags are according to https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/RegExp)\n        let POSSIBLE_FLAGS = ['g', 'i', 'm', 'y'];\n        let regexFlags = '';\n        while (!this.isFinished()) {\n          let isCurrentAFlag = POSSIBLE_FLAGS.indexOf(this.current()) !== -1;\n          if (isCurrentAFlag) {\n            regexFlags += this.current();\n            this.forward();\n          } else {\n            break;\n          }\n        }\n        return token(TOKEN_REGEX, {\n          body: regexBody,\n          flags: regexFlags\n        }, lineno, colno);\n      } else if (delimChars.indexOf(cur) !== -1) {\n        // We've hit a delimiter (a special char like a bracket)\n        this.forward();\n        let complexOps = ['==', '===', '!=', '!==', '<=', '>=', '//', '**'];\n        let curComplex = cur + this.current();\n        let type;\n        if (indexOf(complexOps, curComplex) !== -1) {\n          this.forward();\n          cur = curComplex;\n\n          // See if this is a strict equality/inequality comparator\n          if (indexOf(complexOps, curComplex + this.current()) !== -1) {\n            cur = curComplex + this.current();\n            this.forward();\n          }\n        }\n        switch (cur) {\n          case '(':\n            type = TOKEN_LEFT_PAREN;\n            break;\n          case ')':\n            type = TOKEN_RIGHT_PAREN;\n            break;\n          case '[':\n            type = TOKEN_LEFT_BRACKET;\n            break;\n          case ']':\n            type = TOKEN_RIGHT_BRACKET;\n            break;\n          case '{':\n            type = TOKEN_LEFT_CURLY;\n            break;\n          case '}':\n            type = TOKEN_RIGHT_CURLY;\n            break;\n          case ',':\n            type = TOKEN_COMMA;\n            break;\n          case ':':\n            type = TOKEN_COLON;\n            break;\n          case '~':\n            type = TOKEN_TILDE;\n            break;\n          case '|':\n            type = TOKEN_PIPE;\n            break;\n          default:\n            type = TOKEN_OPERATOR;\n        }\n        return token(type, cur, lineno, colno);\n      } else {\n        // We are not at whitespace or a delimiter, so extract the\n        // text and parse it\n        tok = this._extractUntil(whitespaceChars + delimChars);\n        if (tok.match(/^[-+]?[0-9]+$/)) {\n          if (this.current() === '.') {\n            this.forward();\n            let dec = this._extract(intChars);\n            return token(TOKEN_FLOAT, tok + '.' + dec, lineno, colno);\n          } else {\n            return token(TOKEN_INT, tok, lineno, colno);\n          }\n        } else if (tok.match(/^(true|false)$/)) {\n          return token(TOKEN_BOOLEAN, tok, lineno, colno);\n        } else if (tok === 'none') {\n          return token(TOKEN_NONE, tok, lineno, colno);\n          /*\n           * Added to make the test `null is null` evaluate truthily.\n           * Otherwise, Nunjucks will look up null in the context and\n           * return `undefined`, which is not what we want. This *may* have\n           * consequences is someone is using null in their templates as a\n           * variable.\n           */\n        } else if (tok === 'null') {\n          return token(TOKEN_NONE, tok, lineno, colno);\n        } else if (tok) {\n          return token(TOKEN_SYMBOL, tok, lineno, colno);\n        } else {\n          throw new Error('Unexpected value while parsing: ' + tok);\n        }\n      }\n    } else {\n      // Parse out the template text, breaking on tag\n      // delimiters because we need to look for block/variable start\n      // tags (don't use the full delimChars for optimization)\n      let beginChars = this.tags.BLOCK_START.charAt(0) + this.tags.VARIABLE_START.charAt(0) + this.tags.COMMENT_START.charAt(0) + this.tags.COMMENT_END.charAt(0);\n      if (this.isFinished()) {\n        return null;\n      } else if ((tok = this._extractString(this.tags.BLOCK_START + '-')) || (tok = this._extractString(this.tags.BLOCK_START))) {\n        this.in_code = true;\n        return token(TOKEN_BLOCK_START, tok, lineno, colno);\n      } else if ((tok = this._extractString(this.tags.VARIABLE_START + '-')) || (tok = this._extractString(this.tags.VARIABLE_START))) {\n        this.in_code = true;\n        return token(TOKEN_VARIABLE_START, tok, lineno, colno);\n      } else {\n        tok = '';\n        let data;\n        let inComment = false;\n        if (this._matches(this.tags.COMMENT_START)) {\n          inComment = true;\n          tok = this._extractString(this.tags.COMMENT_START);\n        }\n\n        // Continually consume text, breaking on the tag delimiter\n        // characters and checking to see if it's a start tag.\n        //\n        // We could hit the end of the template in the middle of\n        // our looping, so check for the null return value from\n        // _extractUntil\n        while ((data = this._extractUntil(beginChars)) !== null) {\n          tok += data;\n          if ((this._matches(this.tags.BLOCK_START) || this._matches(this.tags.VARIABLE_START) || this._matches(this.tags.COMMENT_START)) && !inComment) {\n            if (this.lstripBlocks && this._matches(this.tags.BLOCK_START) && this.colno > 0 && this.colno <= tok.length) {\n              let lastLine = tok.slice(-this.colno);\n              if (/^\\s+$/.test(lastLine)) {\n                // Remove block leading whitespace from beginning of the string\n                tok = tok.slice(0, -this.colno);\n                if (!tok.length) {\n                  // All data removed, collapse to avoid unnecessary nodes\n                  // by returning next token (block start)\n                  return this.nextToken();\n                }\n              }\n            }\n            // If it is a start tag, stop looping\n            break;\n          } else if (this._matches(this.tags.COMMENT_END)) {\n            if (!inComment) {\n              throw new Error('unexpected end of comment');\n            }\n            tok += this._extractString(this.tags.COMMENT_END);\n            break;\n          } else {\n            // It does not match any tag, so add the character and\n            // carry on\n            tok += this.current();\n            this.forward();\n          }\n        }\n        if (data === null && inComment) {\n          throw new Error('expected end of comment, got end of file');\n        }\n        return token(inComment ? TOKEN_COMMENT : TOKEN_DATA, tok, lineno, colno);\n      }\n    }\n  }\n  _parseString(delimiter) {\n    this.forward();\n    let str = '';\n    while (!this.isFinished() && this.current() !== delimiter) {\n      let cur = this.current();\n      if (cur === '\\\\') {\n        this.forward();\n        switch (this.current()) {\n          case 'n':\n            str += '\\n';\n            break;\n          case 't':\n            str += '\\t';\n            break;\n          case 'r':\n            str += '\\r';\n            break;\n          default:\n            str += this.current();\n        }\n        this.forward();\n      } else {\n        str += cur;\n        this.forward();\n      }\n    }\n    this.forward();\n    return str;\n  }\n  _matches(str) {\n    if (this.index + str.length > this.len) {\n      return null;\n    }\n    let m = this.str.slice(this.index, this.index + str.length);\n    return m === str;\n  }\n  _extractString(str) {\n    if (this._matches(str)) {\n      this.forwardN(str.length);\n      return str;\n    }\n    return null;\n  }\n  _extractUntil(charString) {\n    // Extract all non-matching chars, with the default matching set\n    // to everything\n    return this._extractMatching(true, charString || '');\n  }\n  _extract(charString) {\n    // Extract all matching chars (no default, so charString must be\n    // explicit)\n    return this._extractMatching(false, charString);\n  }\n  _extractMatching(breakOnMatch, charString) {\n    // Pull out characters until a breaking char is hit.\n    // If breakOnMatch is false, a non-matching char stops it.\n    // If breakOnMatch is true, a matching char stops it.\n\n    if (this.isFinished()) {\n      return null;\n    }\n    let first = charString.indexOf(this.current());\n\n    // Only proceed if the first character doesn't meet our condition\n    if (breakOnMatch && first === -1 || !breakOnMatch && first !== -1) {\n      let t = this.current();\n      this.forward();\n\n      // And pull out all the chars one at a time until we hit a\n      // breaking char\n      let idx = charString.indexOf(this.current());\n      while ((breakOnMatch && idx === -1 || !breakOnMatch && idx !== -1) && !this.isFinished()) {\n        t += this.current();\n        this.forward();\n        idx = charString.indexOf(this.current());\n      }\n      return t;\n    }\n    return '';\n  }\n  _extractRegex(regex) {\n    let matches = this.currentStr().match(regex);\n    if (!matches) {\n      return null;\n    }\n\n    // Move forward whatever was matched\n    this.forwardN(matches[0].length);\n    return matches;\n  }\n  isFinished() {\n    return this.index >= this.len;\n  }\n  forwardN(n) {\n    for (let i = 0; i < n; i++) {\n      this.forward();\n    }\n  }\n  forward() {\n    this.index++;\n    if (this.previous() === '\\n') {\n      this.lineno++;\n      this.colno = 0;\n    } else {\n      this.colno++;\n    }\n  }\n  backN(n) {\n    for (let i = 0; i < n; i++) {\n      this.back();\n    }\n  }\n  back() {\n    this.index--;\n    if (this.current() === '\\n') {\n      this.lineno--;\n      let idx = this.src.lastIndexOf('\\n', this.index - 1);\n      if (idx === -1) {\n        this.colno = this.index;\n      } else {\n        this.colno = this.index - idx;\n      }\n    } else {\n      this.colno--;\n    }\n  }\n\n  // current returns current character\n  current() {\n    if (!this.isFinished()) {\n      return this.str.charAt(this.index);\n    }\n    return '';\n  }\n\n  // currentStr returns what's left of the unparsed string\n  currentStr() {\n    if (!this.isFinished()) {\n      return this.str.substr(this.index);\n    }\n    return '';\n  }\n  previous() {\n    return this.str.charAt(this.index - 1);\n  }\n}\nfunction lex(src, opts) {\n  return new Tokenizer(src, opts);\n}\n\nvar lexer = {\n  __proto__: null,\n  lex: lex,\n  TOKEN_STRING: TOKEN_STRING,\n  TOKEN_WHITESPACE: TOKEN_WHITESPACE,\n  TOKEN_DATA: TOKEN_DATA,\n  TOKEN_BLOCK_START: TOKEN_BLOCK_START,\n  TOKEN_BLOCK_END: TOKEN_BLOCK_END,\n  TOKEN_VARIABLE_START: TOKEN_VARIABLE_START,\n  TOKEN_VARIABLE_END: TOKEN_VARIABLE_END,\n  TOKEN_COMMENT: TOKEN_COMMENT,\n  TOKEN_LEFT_PAREN: TOKEN_LEFT_PAREN,\n  TOKEN_RIGHT_PAREN: TOKEN_RIGHT_PAREN,\n  TOKEN_LEFT_BRACKET: TOKEN_LEFT_BRACKET,\n  TOKEN_RIGHT_BRACKET: TOKEN_RIGHT_BRACKET,\n  TOKEN_LEFT_CURLY: TOKEN_LEFT_CURLY,\n  TOKEN_RIGHT_CURLY: TOKEN_RIGHT_CURLY,\n  TOKEN_OPERATOR: TOKEN_OPERATOR,\n  TOKEN_COMMA: TOKEN_COMMA,\n  TOKEN_COLON: TOKEN_COLON,\n  TOKEN_TILDE: TOKEN_TILDE,\n  TOKEN_PIPE: TOKEN_PIPE,\n  TOKEN_INT: TOKEN_INT,\n  TOKEN_FLOAT: TOKEN_FLOAT,\n  TOKEN_BOOLEAN: TOKEN_BOOLEAN,\n  TOKEN_NONE: TOKEN_NONE,\n  TOKEN_SYMBOL: TOKEN_SYMBOL,\n  TOKEN_SPECIAL: TOKEN_SPECIAL,\n  TOKEN_REGEX: TOKEN_REGEX\n};\n\n// A simple class system, more documentation to come\nfunction parentWrap(parent, prop) {\n  if (typeof parent !== 'function' || typeof prop !== 'function') {\n    return prop;\n  }\n  return function wrap() {\n    // Save the current parent method\n    const tmp = this.parent;\n\n    // Set parent to the previous method, call, and restore\n    this.parent = parent;\n    const res = prop.apply(this, arguments);\n    this.parent = tmp;\n    return res;\n  };\n}\nfunction extendClass(cls, name, props) {\n  props = props || {};\n  keys_(props).forEach(k => {\n    props[k] = parentWrap(cls.prototype[k], props[k]);\n  });\n  class subclass extends cls {\n    get typename() {\n      return name;\n    }\n  }\n  extend(subclass.prototype, props);\n  return subclass;\n}\nclass Obj {\n  constructor(...args) {\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n  init() {}\n  get typename() {\n    return this.constructor.name;\n  }\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\nclass EmitterObj extends events.EventEmitter {\n  constructor(...args) {\n    super();\n    // Unfortunately necessary for backwards compatibility\n    this.init(...args);\n  }\n  init() {}\n  get typename() {\n    return this.constructor.name;\n  }\n  static extend(name, props) {\n    if (typeof name === 'object') {\n      props = name;\n      name = 'anonymous';\n    }\n    return extendClass(this, name, props);\n  }\n}\n\nfunction traverseAndCheck(obj, type, results) {\n  if (obj instanceof type) {\n    results.push(obj);\n  }\n  if (obj instanceof Node) {\n    obj.findAll(type, results);\n  }\n}\nclass Node extends Obj {\n  init(lineno, colno, ...args) {\n    this.lineno = lineno;\n    this.colno = colno;\n    this.fields.forEach((field, i) => {\n      // The first two args are line/col numbers, so offset by 2\n      var val = arguments[i + 2];\n\n      // Fields should never be undefined, but null. It makes\n      // testing easier to normalize values.\n      if (val === undefined) {\n        val = null;\n      }\n      this[field] = val;\n    });\n  }\n  findAll(type, results) {\n    results = results || [];\n    if (this instanceof NodeList) {\n      this.children.forEach(child => traverseAndCheck(child, type, results));\n    } else {\n      this.fields.forEach(field => traverseAndCheck(this[field], type, results));\n    }\n    return results;\n  }\n  iterFields(func) {\n    this.fields.forEach(field => {\n      func(this[field], field);\n    });\n  }\n}\n\n// Abstract nodes\nclass Value extends Node {\n  get typename() {\n    return 'Value';\n  }\n  get fields() {\n    return ['value'];\n  }\n}\n\n// Concrete nodes\nclass NodeList extends Node {\n  get typename() {\n    return 'NodeList';\n  }\n  get fields() {\n    return ['children'];\n  }\n  init(lineno, colno, nodes) {\n    super.init(lineno, colno, nodes || []);\n  }\n  addChild(node) {\n    this.children.push(node);\n  }\n}\nconst Root = NodeList.extend('Root');\nconst Literal = Value.extend('Literal');\nconst Symbol$1 = Value.extend('Symbol');\nconst Group = NodeList.extend('Group');\nconst ArrayNode = NodeList.extend('Array');\nconst Pair = Node.extend('Pair', {\n  fields: ['key', 'value']\n});\nconst Dict = NodeList.extend('Dict');\nconst LookupVal = Node.extend('LookupVal', {\n  fields: ['target', 'val']\n});\nconst If = Node.extend('If', {\n  fields: ['cond', 'body', 'else_']\n});\nconst IfAsync = If.extend('IfAsync');\nconst InlineIf = Node.extend('InlineIf', {\n  fields: ['cond', 'body', 'else_']\n});\nconst For = Node.extend('For', {\n  fields: ['arr', 'name', 'body', 'else_']\n});\nconst AsyncEach = For.extend('AsyncEach');\nconst AsyncAll = For.extend('AsyncAll');\nconst Macro = Node.extend('Macro', {\n  fields: ['name', 'args', 'body']\n});\nconst Caller = Macro.extend('Caller');\nconst Import = Node.extend('Import', {\n  fields: ['template', 'target', 'withContext']\n});\nclass FromImport extends Node {\n  get typename() {\n    return 'FromImport';\n  }\n  get fields() {\n    return ['template', 'names', 'withContext'];\n  }\n  init(lineno, colno, template, names, withContext) {\n    super.init(lineno, colno, template, names || new NodeList(), withContext);\n  }\n}\nconst FunCall = Node.extend('FunCall', {\n  fields: ['name', 'args']\n});\nconst Filter = FunCall.extend('Filter');\nconst FilterAsync = Filter.extend('FilterAsync', {\n  fields: ['name', 'args', 'symbol']\n});\nconst KeywordArgs = Dict.extend('KeywordArgs');\nconst Block = Node.extend('Block', {\n  fields: ['name', 'body']\n});\nconst Super = Node.extend('Super', {\n  fields: ['blockName', 'symbol']\n});\nconst TemplateRef = Node.extend('TemplateRef', {\n  fields: ['template']\n});\nconst Extends = TemplateRef.extend('Extends');\nconst Include = Node.extend('Include', {\n  fields: ['template', 'ignoreMissing']\n});\nconst Set$1 = Node.extend('Set', {\n  fields: ['targets', 'value']\n});\nconst Switch = Node.extend('Switch', {\n  fields: ['expr', 'cases', 'default']\n});\nconst Case = Node.extend('Case', {\n  fields: ['cond', 'body']\n});\nconst Output = NodeList.extend('Output');\nconst Capture = Node.extend('Capture', {\n  fields: ['body']\n});\nconst TemplateData = Literal.extend('TemplateData');\nconst UnaryOp = Node.extend('UnaryOp', {\n  fields: ['target']\n});\nconst BinOp = Node.extend('BinOp', {\n  fields: ['left', 'right']\n});\nconst In = BinOp.extend('In');\nconst Is = BinOp.extend('Is');\nconst Or = BinOp.extend('Or');\nconst And = BinOp.extend('And');\nconst Not = UnaryOp.extend('Not');\nconst Add = BinOp.extend('Add');\nconst Concat = BinOp.extend('Concat');\nconst Sub = BinOp.extend('Sub');\nconst Mul = BinOp.extend('Mul');\nconst Div = BinOp.extend('Div');\nconst FloorDiv = BinOp.extend('FloorDiv');\nconst Mod = BinOp.extend('Mod');\nconst Pow = BinOp.extend('Pow');\nconst Neg = UnaryOp.extend('Neg');\nconst Pos = UnaryOp.extend('Pos');\nconst Compare = Node.extend('Compare', {\n  fields: ['expr', 'ops']\n});\nconst CompareOperand = Node.extend('CompareOperand', {\n  fields: ['expr', 'type']\n});\nconst CallExtension = Node.extend('CallExtension', {\n  init(ext, prop, args, contentArgs) {\n    this.parent();\n    this.extName = ext.__name || ext;\n    this.prop = prop;\n    this.args = args || new NodeList();\n    this.contentArgs = contentArgs || [];\n    this.autoescape = ext.autoescape;\n  },\n  fields: ['extName', 'prop', 'args', 'contentArgs']\n});\nconst CallExtensionAsync = CallExtension.extend('CallExtensionAsync');\n\n// This is hacky, but this is just a debugging function anyway\nfunction print(str, indent, inline) {\n  var lines = str.split('\\n');\n  lines.forEach((line, i) => {\n    if (line && (inline && i > 0 || !inline)) {\n      process.stdout.write(' '.repeat(indent));\n    }\n    const nl = i === lines.length - 1 ? '' : '\\n';\n    process.stdout.write(`${line}${nl}`);\n  });\n}\n\n// Print the AST in a nicely formatted tree format for debuggin\nfunction printNodes(node, indent) {\n  indent = indent || 0;\n  print(node.typename + ': ', indent);\n  if (node instanceof NodeList) {\n    print('\\n');\n    node.children.forEach(n => {\n      printNodes(n, indent + 2);\n    });\n  } else if (node instanceof CallExtension) {\n    print(`${node.extName}.${node.prop}\\n`);\n    if (node.args) {\n      printNodes(node.args, indent + 2);\n    }\n    if (node.contentArgs) {\n      node.contentArgs.forEach(n => {\n        printNodes(n, indent + 2);\n      });\n    }\n  } else {\n    let nodes = [];\n    let props = null;\n    node.iterFields((val, fieldName) => {\n      if (val instanceof Node) {\n        nodes.push([fieldName, val]);\n      } else {\n        props = props || {};\n        props[fieldName] = val;\n      }\n    });\n    if (props) {\n      print(JSON.stringify(props, null, 2) + '\\n', null, true);\n    } else {\n      print('\\n');\n    }\n    nodes.forEach(([fieldName, n]) => {\n      print(`[${fieldName}] =>`, indent + 2);\n      printNodes(n, indent + 4);\n    });\n  }\n}\n\nvar nodes = {\n  __proto__: null,\n  Node: Node,\n  Root: Root,\n  NodeList: NodeList,\n  Value: Value,\n  Literal: Literal,\n  Symbol: Symbol$1,\n  Group: Group,\n  Array: ArrayNode,\n  Pair: Pair,\n  Dict: Dict,\n  Output: Output,\n  Capture: Capture,\n  TemplateData: TemplateData,\n  If: If,\n  IfAsync: IfAsync,\n  InlineIf: InlineIf,\n  For: For,\n  AsyncEach: AsyncEach,\n  AsyncAll: AsyncAll,\n  Macro: Macro,\n  Caller: Caller,\n  Import: Import,\n  FromImport: FromImport,\n  FunCall: FunCall,\n  Filter: Filter,\n  FilterAsync: FilterAsync,\n  KeywordArgs: KeywordArgs,\n  Block: Block,\n  Super: Super,\n  Extends: Extends,\n  Include: Include,\n  Set: Set$1,\n  Switch: Switch,\n  Case: Case,\n  LookupVal: LookupVal,\n  BinOp: BinOp,\n  In: In,\n  Is: Is,\n  Or: Or,\n  And: And,\n  Not: Not,\n  Add: Add,\n  Concat: Concat,\n  Sub: Sub,\n  Mul: Mul,\n  Div: Div,\n  FloorDiv: FloorDiv,\n  Mod: Mod,\n  Pow: Pow,\n  Neg: Neg,\n  Pos: Pos,\n  Compare: Compare,\n  CompareOperand: CompareOperand,\n  CallExtension: CallExtension,\n  CallExtensionAsync: CallExtensionAsync,\n  printNodes: printNodes\n};\n\nclass Parser extends Obj {\n  init(tokens) {\n    this.tokens = tokens;\n    this.peeked = null;\n    this.breakOnBlocks = null;\n    this.dropLeadingWhitespace = false;\n    this.extensions = [];\n  }\n  nextToken(withWhitespace) {\n    var tok;\n    if (this.peeked) {\n      if (!withWhitespace && this.peeked.type === TOKEN_WHITESPACE) {\n        this.peeked = null;\n      } else {\n        tok = this.peeked;\n        this.peeked = null;\n        return tok;\n      }\n    }\n    tok = this.tokens.nextToken();\n    if (!withWhitespace) {\n      while (tok && tok.type === TOKEN_WHITESPACE) {\n        tok = this.tokens.nextToken();\n      }\n    }\n    return tok;\n  }\n  peekToken() {\n    this.peeked = this.peeked || this.nextToken();\n    return this.peeked;\n  }\n  pushToken(tok) {\n    if (this.peeked) {\n      throw new Error('pushToken: can only push one token on between reads');\n    }\n    this.peeked = tok;\n  }\n  error(msg, lineno, colno) {\n    if (lineno === undefined || colno === undefined) {\n      const tok = this.peekToken() || {};\n      lineno = tok.lineno;\n      colno = tok.colno;\n    }\n    if (lineno !== undefined) {\n      lineno += 1;\n    }\n    if (colno !== undefined) {\n      colno += 1;\n    }\n    return new TemplateError(msg, lineno, colno);\n  }\n  fail(msg, lineno, colno) {\n    throw this.error(msg, lineno, colno);\n  }\n  skip(type) {\n    var tok = this.nextToken();\n    if (!tok || tok.type !== type) {\n      this.pushToken(tok);\n      return false;\n    }\n    return true;\n  }\n  expect(type) {\n    var tok = this.nextToken();\n    if (tok.type !== type) {\n      this.fail('expected ' + type + ', got ' + tok.type, tok.lineno, tok.colno);\n    }\n    return tok;\n  }\n  skipValue(type, val) {\n    var tok = this.nextToken();\n    if (!tok || tok.type !== type || tok.value !== val) {\n      this.pushToken(tok);\n      return false;\n    }\n    return true;\n  }\n  skipSymbol(val) {\n    return this.skipValue(TOKEN_SYMBOL, val);\n  }\n  advanceAfterBlockEnd(name) {\n    var tok;\n    if (!name) {\n      tok = this.peekToken();\n      if (!tok) {\n        this.fail('unexpected end of file');\n      }\n      if (tok.type !== TOKEN_SYMBOL) {\n        this.fail('advanceAfterBlockEnd: expected symbol token or ' + 'explicit name to be passed');\n      }\n      name = this.nextToken().value;\n    }\n    tok = this.nextToken();\n    if (tok && tok.type === TOKEN_BLOCK_END) {\n      if (tok.value.charAt(0) === '-') {\n        this.dropLeadingWhitespace = true;\n      }\n    } else {\n      this.fail('expected block end in ' + name + ' statement');\n    }\n    return tok;\n  }\n  advanceAfterVariableEnd() {\n    var tok = this.nextToken();\n    if (tok && tok.type === TOKEN_VARIABLE_END) {\n      this.dropLeadingWhitespace = tok.value.charAt(tok.value.length - this.tokens.tags.VARIABLE_END.length - 1) === '-';\n    } else {\n      this.pushToken(tok);\n      this.fail('expected variable end');\n    }\n  }\n  parseFor() {\n    var forTok = this.peekToken();\n    var node;\n    var endBlock;\n    if (this.skipSymbol('for')) {\n      node = new For(forTok.lineno, forTok.colno);\n      endBlock = 'endfor';\n    } else if (this.skipSymbol('asyncEach')) {\n      node = new AsyncEach(forTok.lineno, forTok.colno);\n      endBlock = 'endeach';\n    } else if (this.skipSymbol('asyncAll')) {\n      node = new AsyncAll(forTok.lineno, forTok.colno);\n      endBlock = 'endall';\n    } else {\n      this.fail('parseFor: expected for{Async}', forTok.lineno, forTok.colno);\n    }\n    node.name = this.parsePrimary();\n    if (!(node.name instanceof Symbol$1)) {\n      this.fail('parseFor: variable name expected for loop');\n    }\n    const type = this.peekToken().type;\n    if (type === TOKEN_COMMA) {\n      // key/value iteration\n      const key = node.name;\n      node.name = new ArrayNode(key.lineno, key.colno);\n      node.name.addChild(key);\n      while (this.skip(TOKEN_COMMA)) {\n        const prim = this.parsePrimary();\n        node.name.addChild(prim);\n      }\n    }\n    if (!this.skipSymbol('in')) {\n      this.fail('parseFor: expected \"in\" keyword for loop', forTok.lineno, forTok.colno);\n    }\n    node.arr = this.parseExpression();\n    this.advanceAfterBlockEnd(forTok.value);\n    node.body = this.parseUntilBlocks(endBlock, 'else');\n    if (this.skipSymbol('else')) {\n      this.advanceAfterBlockEnd('else');\n      node.else_ = this.parseUntilBlocks(endBlock);\n    }\n    this.advanceAfterBlockEnd();\n    return node;\n  }\n  parseMacro() {\n    const macroTok = this.peekToken();\n    if (!this.skipSymbol('macro')) {\n      this.fail('expected macro');\n    }\n    const name = this.parsePrimary(true);\n    const args = this.parseSignature();\n    const node = new Macro(macroTok.lineno, macroTok.colno, name, args);\n    this.advanceAfterBlockEnd(macroTok.value);\n    node.body = this.parseUntilBlocks('endmacro');\n    this.advanceAfterBlockEnd();\n    return node;\n  }\n  parseCall() {\n    // a call block is parsed as a normal FunCall, but with an added\n    // 'caller' kwarg which is a Caller node.\n    var callTok = this.peekToken();\n    if (!this.skipSymbol('call')) {\n      this.fail('expected call');\n    }\n    const callerArgs = this.parseSignature(true) || new NodeList();\n    const macroCall = this.parsePrimary();\n    this.advanceAfterBlockEnd(callTok.value);\n    const body = this.parseUntilBlocks('endcall');\n    this.advanceAfterBlockEnd();\n    const callerName = new Symbol$1(callTok.lineno, callTok.colno, 'caller');\n    const callerNode = new Caller(callTok.lineno, callTok.colno, callerName, callerArgs, body);\n\n    // add the additional caller kwarg, adding kwargs if necessary\n    const args = macroCall.args.children;\n    if (!(args[args.length - 1] instanceof KeywordArgs)) {\n      args.push(new KeywordArgs());\n    }\n    const kwargs = args[args.length - 1];\n    kwargs.addChild(new Pair(callTok.lineno, callTok.colno, callerName, callerNode));\n    return new Output(callTok.lineno, callTok.colno, [macroCall]);\n  }\n  parseWithContext() {\n    var tok = this.peekToken();\n    var withContext = null;\n    if (this.skipSymbol('with')) {\n      withContext = true;\n    } else if (this.skipSymbol('without')) {\n      withContext = false;\n    }\n    if (withContext !== null) {\n      if (!this.skipSymbol('context')) {\n        this.fail('parseFrom: expected context after with/without', tok.lineno, tok.colno);\n      }\n    }\n    return withContext;\n  }\n  parseImport() {\n    var importTok = this.peekToken();\n    if (!this.skipSymbol('import')) {\n      this.fail('parseImport: expected import', importTok.lineno, importTok.colno);\n    }\n    const template = this.parseExpression();\n    if (!this.skipSymbol('as')) {\n      this.fail('parseImport: expected \"as\" keyword', importTok.lineno, importTok.colno);\n    }\n    const target = this.parseExpression();\n    const withContext = this.parseWithContext();\n    const node = new Import(importTok.lineno, importTok.colno, template, target, withContext);\n    this.advanceAfterBlockEnd(importTok.value);\n    return node;\n  }\n  parseFrom() {\n    const fromTok = this.peekToken();\n    if (!this.skipSymbol('from')) {\n      this.fail('parseFrom: expected from');\n    }\n    const template = this.parseExpression();\n    if (!this.skipSymbol('import')) {\n      this.fail('parseFrom: expected import', fromTok.lineno, fromTok.colno);\n    }\n    const names = new NodeList();\n    let withContext;\n    while (1) {\n      // eslint-disable-line no-constant-condition\n      const nextTok = this.peekToken();\n      if (nextTok.type === TOKEN_BLOCK_END) {\n        if (!names.children.length) {\n          this.fail('parseFrom: Expected at least one import name', fromTok.lineno, fromTok.colno);\n        }\n\n        // Since we are manually advancing past the block end,\n        // need to keep track of whitespace control (normally\n        // this is done in `advanceAfterBlockEnd`\n        if (nextTok.value.charAt(0) === '-') {\n          this.dropLeadingWhitespace = true;\n        }\n        this.nextToken();\n        break;\n      }\n      if (names.children.length > 0 && !this.skip(TOKEN_COMMA)) {\n        this.fail('parseFrom: expected comma', fromTok.lineno, fromTok.colno);\n      }\n      const name = this.parsePrimary();\n      if (name.value.charAt(0) === '_') {\n        this.fail('parseFrom: names starting with an underscore cannot be imported', name.lineno, name.colno);\n      }\n      if (this.skipSymbol('as')) {\n        const alias = this.parsePrimary();\n        names.addChild(new Pair(name.lineno, name.colno, name, alias));\n      } else {\n        names.addChild(name);\n      }\n      withContext = this.parseWithContext();\n    }\n    return new FromImport(fromTok.lineno, fromTok.colno, template, names, withContext);\n  }\n  parseBlock() {\n    const tag = this.peekToken();\n    if (!this.skipSymbol('block')) {\n      this.fail('parseBlock: expected block', tag.lineno, tag.colno);\n    }\n    const node = new Block(tag.lineno, tag.colno);\n    node.name = this.parsePrimary();\n    if (!(node.name instanceof Symbol$1)) {\n      this.fail('parseBlock: variable name expected', tag.lineno, tag.colno);\n    }\n    this.advanceAfterBlockEnd(tag.value);\n    node.body = this.parseUntilBlocks('endblock');\n    this.skipSymbol('endblock');\n    this.skipSymbol(node.name.value);\n    const tok = this.peekToken();\n    if (!tok) {\n      this.fail('parseBlock: expected endblock, got end of file');\n    }\n    this.advanceAfterBlockEnd(tok.value);\n    return node;\n  }\n  parseExtends() {\n    const tagName = 'extends';\n    const tag = this.peekToken();\n    if (!this.skipSymbol(tagName)) {\n      this.fail('parseTemplateRef: expected ' + tagName);\n    }\n    const node = new Extends(tag.lineno, tag.colno);\n    node.template = this.parseExpression();\n    this.advanceAfterBlockEnd(tag.value);\n    return node;\n  }\n  parseInclude() {\n    const tagName = 'include';\n    const tag = this.peekToken();\n    if (!this.skipSymbol(tagName)) {\n      this.fail('parseInclude: expected ' + tagName);\n    }\n    const node = new Include(tag.lineno, tag.colno);\n    node.template = this.parseExpression();\n    if (this.skipSymbol('ignore') && this.skipSymbol('missing')) {\n      node.ignoreMissing = true;\n    }\n    this.advanceAfterBlockEnd(tag.value);\n    return node;\n  }\n  parseIf() {\n    const tag = this.peekToken();\n    let node;\n    if (this.skipSymbol('if') || this.skipSymbol('elif') || this.skipSymbol('elseif')) {\n      node = new If(tag.lineno, tag.colno);\n    } else if (this.skipSymbol('ifAsync')) {\n      node = new IfAsync(tag.lineno, tag.colno);\n    } else {\n      this.fail('parseIf: expected if, elif, or elseif', tag.lineno, tag.colno);\n    }\n    node.cond = this.parseExpression();\n    this.advanceAfterBlockEnd(tag.value);\n    node.body = this.parseUntilBlocks('elif', 'elseif', 'else', 'endif');\n    const tok = this.peekToken();\n    switch (tok && tok.value) {\n      case 'elseif':\n      case 'elif':\n        node.else_ = this.parseIf();\n        break;\n      case 'else':\n        this.advanceAfterBlockEnd();\n        node.else_ = this.parseUntilBlocks('endif');\n        this.advanceAfterBlockEnd();\n        break;\n      case 'endif':\n        node.else_ = null;\n        this.advanceAfterBlockEnd();\n        break;\n      default:\n        this.fail('parseIf: expected elif, else, or endif, got end of file');\n    }\n    return node;\n  }\n  parseSet() {\n    const tag = this.peekToken();\n    if (!this.skipSymbol('set')) {\n      this.fail('parseSet: expected set', tag.lineno, tag.colno);\n    }\n    const node = new Set$1(tag.lineno, tag.colno, []);\n    let target;\n    while (target = this.parsePrimary()) {\n      node.targets.push(target);\n      if (!this.skip(TOKEN_COMMA)) {\n        break;\n      }\n    }\n    if (!this.skipValue(TOKEN_OPERATOR, '=')) {\n      if (!this.skip(TOKEN_BLOCK_END)) {\n        this.fail('parseSet: expected = or block end in set tag', tag.lineno, tag.colno);\n      } else {\n        node.body = new Capture(tag.lineno, tag.colno, this.parseUntilBlocks('endset'));\n        node.value = null;\n        this.advanceAfterBlockEnd();\n      }\n    } else {\n      node.value = this.parseExpression();\n      this.advanceAfterBlockEnd(tag.value);\n    }\n    return node;\n  }\n  parseSwitch() {\n    /*\n     * Store the tag names in variables in case someone ever wants to\n     * customize this.\n     */\n    const switchStart = 'switch';\n    const switchEnd = 'endswitch';\n    const caseStart = 'case';\n    const caseDefault = 'default';\n\n    // Get the switch tag.\n    const tag = this.peekToken();\n\n    // fail early if we get some unexpected tag.\n    if (!this.skipSymbol(switchStart) && !this.skipSymbol(caseStart) && !this.skipSymbol(caseDefault)) {\n      this.fail('parseSwitch: expected \"switch,\" \"case\" or \"default\"', tag.lineno, tag.colno);\n    }\n\n    // parse the switch expression\n    const expr = this.parseExpression();\n\n    // advance until a start of a case, a default case or an endswitch.\n    this.advanceAfterBlockEnd(switchStart);\n    this.parseUntilBlocks(caseStart, caseDefault, switchEnd);\n\n    // this is the first case. it could also be an endswitch, we'll check.\n    let tok = this.peekToken();\n\n    // create new variables for our cases and default case.\n    const cases = [];\n    let defaultCase;\n\n    // while we're dealing with new cases nodes...\n    do {\n      // skip the start symbol and get the case expression\n      this.skipSymbol(caseStart);\n      const cond = this.parseExpression();\n      this.advanceAfterBlockEnd(switchStart);\n      // get the body of the case node and add it to the array of cases.\n      const body = this.parseUntilBlocks(caseStart, caseDefault, switchEnd);\n      cases.push(new Case(tok.line, tok.col, cond, body));\n      // get our next case\n      tok = this.peekToken();\n    } while (tok && tok.value === caseStart);\n\n    // we either have a default case or a switch end.\n    switch (tok.value) {\n      case caseDefault:\n        this.advanceAfterBlockEnd();\n        defaultCase = this.parseUntilBlocks(switchEnd);\n        this.advanceAfterBlockEnd();\n        break;\n      case switchEnd:\n        this.advanceAfterBlockEnd();\n        break;\n      default:\n        // otherwise bail because EOF\n        this.fail('parseSwitch: expected \"case,\" \"default\" or \"endswitch,\" got EOF.');\n    }\n\n    // and return the switch node.\n    return new Switch(tag.lineno, tag.colno, expr, cases, defaultCase);\n  }\n  parseStatement() {\n    var tok = this.peekToken();\n    var node;\n    if (tok.type !== TOKEN_SYMBOL) {\n      this.fail('tag name expected', tok.lineno, tok.colno);\n    }\n    if (this.breakOnBlocks && indexOf(this.breakOnBlocks, tok.value) !== -1) {\n      return null;\n    }\n    switch (tok.value) {\n      case 'raw':\n        return this.parseRaw();\n      case 'verbatim':\n        return this.parseRaw('verbatim');\n      case 'if':\n      case 'ifAsync':\n        return this.parseIf();\n      case 'for':\n      case 'asyncEach':\n      case 'asyncAll':\n        return this.parseFor();\n      case 'block':\n        return this.parseBlock();\n      case 'extends':\n        return this.parseExtends();\n      case 'include':\n        return this.parseInclude();\n      case 'set':\n        return this.parseSet();\n      case 'macro':\n        return this.parseMacro();\n      case 'call':\n        return this.parseCall();\n      case 'import':\n        return this.parseImport();\n      case 'from':\n        return this.parseFrom();\n      case 'filter':\n        return this.parseFilterStatement();\n      case 'switch':\n        return this.parseSwitch();\n      default:\n        if (this.extensions.length) {\n          for (let i = 0; i < this.extensions.length; i++) {\n            const ext = this.extensions[i];\n            if (indexOf(ext.tags || [], tok.value) !== -1) {\n              return ext.parse(this, nodes, lexer);\n            }\n          }\n        }\n        this.fail('unknown block tag: ' + tok.value, tok.lineno, tok.colno);\n    }\n    return node;\n  }\n  parseRaw(tagName) {\n    tagName = tagName || 'raw';\n    const endTagName = 'end' + tagName;\n    // Look for upcoming raw blocks (ignore all other kinds of blocks)\n    const rawBlockRegex = new RegExp('([\\\\s\\\\S]*?){%\\\\s*(' + tagName + '|' + endTagName + ')\\\\s*(?=%})%}');\n    let rawLevel = 1;\n    let str = '';\n    let matches = null;\n\n    // Skip opening raw token\n    // Keep this token to track line and column numbers\n    const begun = this.advanceAfterBlockEnd();\n\n    // Exit when there's nothing to match\n    // or when we've found the matching \"endraw\" block\n    while ((matches = this.tokens._extractRegex(rawBlockRegex)) && rawLevel > 0) {\n      const all = matches[0];\n      const pre = matches[1];\n      const blockName = matches[2];\n\n      // Adjust rawlevel\n      if (blockName === tagName) {\n        rawLevel += 1;\n      } else if (blockName === endTagName) {\n        rawLevel -= 1;\n      }\n\n      // Add to str\n      if (rawLevel === 0) {\n        // We want to exclude the last \"endraw\"\n        str += pre;\n        // Move tokenizer to beginning of endraw block\n        this.tokens.backN(all.length - pre.length);\n      } else {\n        str += all;\n      }\n    }\n    return new Output(begun.lineno, begun.colno, [new TemplateData(begun.lineno, begun.colno, str)]);\n  }\n  parsePostfix(node) {\n    let lookup;\n    let tok = this.peekToken();\n    while (tok) {\n      if (tok.type === TOKEN_LEFT_PAREN) {\n        // Function call\n        node = new FunCall(tok.lineno, tok.colno, node, this.parseSignature());\n      } else if (tok.type === TOKEN_LEFT_BRACKET) {\n        // Reference\n        lookup = this.parseAggregate();\n        if (lookup.children.length > 1) {\n          this.fail('invalid index');\n        }\n        node = new LookupVal(tok.lineno, tok.colno, node, lookup.children[0]);\n      } else if (tok.type === TOKEN_OPERATOR && tok.value === '.') {\n        // Reference\n        this.nextToken();\n        const val = this.nextToken();\n        if (val.type !== TOKEN_SYMBOL) {\n          this.fail('expected name as lookup value, got ' + val.value, val.lineno, val.colno);\n        }\n\n        // Make a literal string because it's not a variable\n        // reference\n        lookup = new Literal(val.lineno, val.colno, val.value);\n        node = new LookupVal(tok.lineno, tok.colno, node, lookup);\n      } else {\n        break;\n      }\n      tok = this.peekToken();\n    }\n    return node;\n  }\n  parseExpression() {\n    var node = this.parseInlineIf();\n    return node;\n  }\n  parseInlineIf() {\n    let node = this.parseOr();\n    if (this.skipSymbol('if')) {\n      const condNode = this.parseOr();\n      const bodyNode = node;\n      node = new InlineIf(node.lineno, node.colno);\n      node.body = bodyNode;\n      node.cond = condNode;\n      if (this.skipSymbol('else')) {\n        node.else_ = this.parseOr();\n      } else {\n        node.else_ = null;\n      }\n    }\n    return node;\n  }\n  parseOr() {\n    let node = this.parseAnd();\n    while (this.skipSymbol('or')) {\n      const node2 = this.parseAnd();\n      node = new Or(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parseAnd() {\n    let node = this.parseNot();\n    while (this.skipSymbol('and')) {\n      const node2 = this.parseNot();\n      node = new And(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parseNot() {\n    const tok = this.peekToken();\n    if (this.skipSymbol('not')) {\n      return new Not(tok.lineno, tok.colno, this.parseNot());\n    }\n    return this.parseIn();\n  }\n  parseIn() {\n    let node = this.parseIs();\n    while (1) {\n      // eslint-disable-line no-constant-condition\n      // check if the next token is 'not'\n      const tok = this.nextToken();\n      if (!tok) {\n        break;\n      }\n      const invert = tok.type === TOKEN_SYMBOL && tok.value === 'not';\n      // if it wasn't 'not', put it back\n      if (!invert) {\n        this.pushToken(tok);\n      }\n      if (this.skipSymbol('in')) {\n        const node2 = this.parseIs();\n        node = new In(node.lineno, node.colno, node, node2);\n        if (invert) {\n          node = new Not(node.lineno, node.colno, node);\n        }\n      } else {\n        // if we'd found a 'not' but this wasn't an 'in', put back the 'not'\n        if (invert) {\n          this.pushToken(tok);\n        }\n        break;\n      }\n    }\n    return node;\n  }\n\n  // I put this right after \"in\" in the operator precedence stack. That can\n  // obviously be changed to be closer to Jinja.\n  parseIs() {\n    let node = this.parseCompare();\n    // look for an is\n    if (this.skipSymbol('is')) {\n      // look for a not\n      const not = this.skipSymbol('not');\n      // get the next node\n      const node2 = this.parseCompare();\n      // create an Is node using the next node and the info from our Is node.\n      node = new Is(node.lineno, node.colno, node, node2);\n      // if we have a Not, create a Not node from our Is node.\n      if (not) {\n        node = new Not(node.lineno, node.colno, node);\n      }\n    }\n    // return the node.\n    return node;\n  }\n  parseCompare() {\n    const compareOps = ['==', '===', '!=', '!==', '<', '>', '<=', '>='];\n    const expr = this.parseConcat();\n    const ops = [];\n    while (1) {\n      // eslint-disable-line no-constant-condition\n      const tok = this.nextToken();\n      if (!tok) {\n        break;\n      } else if (compareOps.indexOf(tok.value) !== -1) {\n        ops.push(new CompareOperand(tok.lineno, tok.colno, this.parseConcat(), tok.value));\n      } else {\n        this.pushToken(tok);\n        break;\n      }\n    }\n    if (ops.length) {\n      return new Compare(ops[0].lineno, ops[0].colno, expr, ops);\n    } else {\n      return expr;\n    }\n  }\n\n  // finds the '~' for string concatenation\n  parseConcat() {\n    let node = this.parseAdd();\n    while (this.skipValue(TOKEN_TILDE, '~')) {\n      const node2 = this.parseAdd();\n      node = new Concat(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parseAdd() {\n    let node = this.parseSub();\n    while (this.skipValue(TOKEN_OPERATOR, '+')) {\n      const node2 = this.parseSub();\n      node = new Add(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parseSub() {\n    let node = this.parseMul();\n    while (this.skipValue(TOKEN_OPERATOR, '-')) {\n      const node2 = this.parseMul();\n      node = new Sub(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parseMul() {\n    let node = this.parseDiv();\n    while (this.skipValue(TOKEN_OPERATOR, '*')) {\n      const node2 = this.parseDiv();\n      node = new Mul(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parseDiv() {\n    let node = this.parseFloorDiv();\n    while (this.skipValue(TOKEN_OPERATOR, '/')) {\n      const node2 = this.parseFloorDiv();\n      node = new Div(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parseFloorDiv() {\n    let node = this.parseMod();\n    while (this.skipValue(TOKEN_OPERATOR, '//')) {\n      const node2 = this.parseMod();\n      node = new FloorDiv(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parseMod() {\n    let node = this.parsePow();\n    while (this.skipValue(TOKEN_OPERATOR, '%')) {\n      const node2 = this.parsePow();\n      node = new Mod(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parsePow() {\n    let node = this.parseUnary();\n    while (this.skipValue(TOKEN_OPERATOR, '**')) {\n      const node2 = this.parseUnary();\n      node = new Pow(node.lineno, node.colno, node, node2);\n    }\n    return node;\n  }\n  parseUnary(noFilters) {\n    const tok = this.peekToken();\n    let node;\n    if (this.skipValue(TOKEN_OPERATOR, '-')) {\n      node = new Neg(tok.lineno, tok.colno, this.parseUnary(true));\n    } else if (this.skipValue(TOKEN_OPERATOR, '+')) {\n      node = new Pos(tok.lineno, tok.colno, this.parseUnary(true));\n    } else {\n      node = this.parsePrimary();\n    }\n    if (!noFilters) {\n      node = this.parseFilter(node);\n    }\n    return node;\n  }\n  parsePrimary(noPostfix) {\n    const tok = this.nextToken();\n    let val;\n    let node = null;\n    if (!tok) {\n      this.fail('expected expression, got end of file');\n    } else if (tok.type === TOKEN_STRING) {\n      val = tok.value;\n    } else if (tok.type === TOKEN_INT) {\n      val = parseInt(tok.value, 10);\n    } else if (tok.type === TOKEN_FLOAT) {\n      val = parseFloat(tok.value);\n    } else if (tok.type === TOKEN_BOOLEAN) {\n      if (tok.value === 'true') {\n        val = true;\n      } else if (tok.value === 'false') {\n        val = false;\n      } else {\n        this.fail('invalid boolean: ' + tok.value, tok.lineno, tok.colno);\n      }\n    } else if (tok.type === TOKEN_NONE) {\n      val = null;\n    } else if (tok.type === TOKEN_REGEX) {\n      val = new RegExp(tok.value.body, tok.value.flags);\n    }\n    if (val !== undefined) {\n      node = new Literal(tok.lineno, tok.colno, val);\n    } else if (tok.type === TOKEN_SYMBOL) {\n      node = new Symbol$1(tok.lineno, tok.colno, tok.value);\n    } else {\n      // See if it's an aggregate type, we need to push the\n      // current delimiter token back on\n      this.pushToken(tok);\n      node = this.parseAggregate();\n    }\n    if (!noPostfix) {\n      node = this.parsePostfix(node);\n    }\n    if (node) {\n      return node;\n    } else {\n      throw this.error(`unexpected token: ${tok.value}`, tok.lineno, tok.colno);\n    }\n  }\n  parseFilterName() {\n    const tok = this.expect(TOKEN_SYMBOL);\n    let name = tok.value;\n    while (this.skipValue(TOKEN_OPERATOR, '.')) {\n      name += '.' + this.expect(TOKEN_SYMBOL).value;\n    }\n    return new Symbol$1(tok.lineno, tok.colno, name);\n  }\n  parseFilterArgs(node) {\n    if (this.peekToken().type === TOKEN_LEFT_PAREN) {\n      // Get a FunCall node and add the parameters to the\n      // filter\n      const call = this.parsePostfix(node);\n      return call.args.children;\n    }\n    return [];\n  }\n  parseFilter(node) {\n    while (this.skip(TOKEN_PIPE)) {\n      const name = this.parseFilterName();\n      node = new Filter(name.lineno, name.colno, name, new NodeList(name.lineno, name.colno, [node].concat(this.parseFilterArgs(node))));\n    }\n    return node;\n  }\n  parseFilterStatement() {\n    var filterTok = this.peekToken();\n    if (!this.skipSymbol('filter')) {\n      this.fail('parseFilterStatement: expected filter');\n    }\n    const name = this.parseFilterName();\n    const args = this.parseFilterArgs(name);\n    this.advanceAfterBlockEnd(filterTok.value);\n    const body = new Capture(name.lineno, name.colno, this.parseUntilBlocks('endfilter'));\n    this.advanceAfterBlockEnd();\n    const node = new Filter(name.lineno, name.colno, name, new NodeList(name.lineno, name.colno, [body].concat(args)));\n    return new Output(name.lineno, name.colno, [node]);\n  }\n  parseAggregate() {\n    var tok = this.nextToken();\n    var node;\n    switch (tok.type) {\n      case TOKEN_LEFT_PAREN:\n        node = new Group(tok.lineno, tok.colno);\n        break;\n      case TOKEN_LEFT_BRACKET:\n        node = new ArrayNode(tok.lineno, tok.colno);\n        break;\n      case TOKEN_LEFT_CURLY:\n        node = new Dict(tok.lineno, tok.colno);\n        break;\n      default:\n        return null;\n    }\n    while (1) {\n      // eslint-disable-line no-constant-condition\n      const type = this.peekToken().type;\n      if (type === TOKEN_RIGHT_PAREN || type === TOKEN_RIGHT_BRACKET || type === TOKEN_RIGHT_CURLY) {\n        this.nextToken();\n        break;\n      }\n      if (node.children.length > 0) {\n        if (!this.skip(TOKEN_COMMA)) {\n          this.fail('parseAggregate: expected comma after expression', tok.lineno, tok.colno);\n        }\n      }\n      if (node instanceof Dict) {\n        // TODO: check for errors\n        const key = this.parsePrimary();\n\n        // We expect a key/value pair for dicts, separated by a\n        // colon\n        if (!this.skip(TOKEN_COLON)) {\n          this.fail('parseAggregate: expected colon after dict key', tok.lineno, tok.colno);\n        }\n\n        // TODO: check for errors\n        const value = this.parseExpression();\n        node.addChild(new Pair(key.lineno, key.colno, key, value));\n      } else {\n        // TODO: check for errors\n        const expr = this.parseExpression();\n        node.addChild(expr);\n      }\n    }\n    return node;\n  }\n  parseSignature(tolerant, noParens) {\n    let tok = this.peekToken();\n    if (!noParens && tok.type !== TOKEN_LEFT_PAREN) {\n      if (tolerant) {\n        return null;\n      } else {\n        this.fail('expected arguments', tok.lineno, tok.colno);\n      }\n    }\n    if (tok.type === TOKEN_LEFT_PAREN) {\n      tok = this.nextToken();\n    }\n    const args = new NodeList(tok.lineno, tok.colno);\n    const kwargs = new KeywordArgs(tok.lineno, tok.colno);\n    let checkComma = false;\n    while (1) {\n      // eslint-disable-line no-constant-condition\n      tok = this.peekToken();\n      if (!noParens && tok.type === TOKEN_RIGHT_PAREN) {\n        this.nextToken();\n        break;\n      } else if (noParens && tok.type === TOKEN_BLOCK_END) {\n        break;\n      }\n      if (checkComma && !this.skip(TOKEN_COMMA)) {\n        this.fail('parseSignature: expected comma after expression', tok.lineno, tok.colno);\n      } else {\n        const arg = this.parseExpression();\n        if (this.skipValue(TOKEN_OPERATOR, '=')) {\n          kwargs.addChild(new Pair(arg.lineno, arg.colno, arg, this.parseExpression()));\n        } else {\n          args.addChild(arg);\n        }\n      }\n      checkComma = true;\n    }\n    if (kwargs.children.length) {\n      args.addChild(kwargs);\n    }\n    return args;\n  }\n  parseUntilBlocks(...blockNames) {\n    const prev = this.breakOnBlocks;\n    this.breakOnBlocks = blockNames;\n    const ret = this.parse();\n    this.breakOnBlocks = prev;\n    return ret;\n  }\n  parseNodes() {\n    let tok;\n    const buf = [];\n    while (tok = this.nextToken()) {\n      if (tok.type === TOKEN_DATA) {\n        let data = tok.value;\n        const nextToken = this.peekToken();\n        const nextVal = nextToken && nextToken.value;\n\n        // If the last token has \"-\" we need to trim the\n        // leading whitespace of the data. This is marked with\n        // the `dropLeadingWhitespace` variable.\n        if (this.dropLeadingWhitespace) {\n          // TODO: this could be optimized (don't use regex)\n          data = data.replace(/^\\s*/, '');\n          this.dropLeadingWhitespace = false;\n        }\n\n        // Same for the succeeding block start token\n        if (nextToken && (nextToken.type === TOKEN_BLOCK_START && nextVal.charAt(nextVal.length - 1) === '-' || nextToken.type === TOKEN_VARIABLE_START && nextVal.charAt(this.tokens.tags.VARIABLE_START.length) === '-' || nextToken.type === TOKEN_COMMENT && nextVal.charAt(this.tokens.tags.COMMENT_START.length) === '-')) {\n          // TODO: this could be optimized (don't use regex)\n          data = data.replace(/\\s*$/, '');\n        }\n        buf.push(new Output(tok.lineno, tok.colno, [new TemplateData(tok.lineno, tok.colno, data)]));\n      } else if (tok.type === TOKEN_BLOCK_START) {\n        this.dropLeadingWhitespace = false;\n        const n = this.parseStatement();\n        if (!n) {\n          break;\n        }\n        buf.push(n);\n      } else if (tok.type === TOKEN_VARIABLE_START) {\n        const e = this.parseExpression();\n        this.dropLeadingWhitespace = false;\n        this.advanceAfterVariableEnd();\n        buf.push(new Output(tok.lineno, tok.colno, [e]));\n      } else if (tok.type === TOKEN_COMMENT) {\n        this.dropLeadingWhitespace = tok.value.charAt(tok.value.length - this.tokens.tags.COMMENT_END.length - 1) === '-';\n      } else {\n        // Ignore comments, otherwise this should be an error\n        this.fail('Unexpected token at top-level: ' + tok.type, tok.lineno, tok.colno);\n      }\n    }\n    return buf;\n  }\n  parse() {\n    return new NodeList(0, 0, this.parseNodes());\n  }\n  parseAsRoot() {\n    return new Root(0, 0, this.parseNodes());\n  }\n}\n\n// var util = require('util');\n\n// var l = lexer.lex('{%- if x -%}\\n hello {% endif %}');\n// var t;\n// while((t = l.nextToken())) {\n//     console.log(util.inspect(t));\n// }\n\n// var p = new Parser(lexer.lex('hello {% filter title %}' +\n//                              'Hello madam how are you' +\n//                              '{% endfilter %}'));\n// var n = p.parseAsRoot();\n// nodes.printNodes(n);\n\nfunction parse(src, extensions, opts) {\n  var p = new Parser(lex(src, opts));\n  if (extensions !== undefined) {\n    p.extensions = extensions;\n  }\n  return p.parseAsRoot();\n}\n\nvar sym = 0;\nfunction gensym() {\n  return 'hole_' + sym++;\n}\n\n// copy-on-write version of map\nfunction mapCOW(arr, func) {\n  var res = null;\n  for (let i = 0; i < arr.length; i++) {\n    const item = func(arr[i]);\n    if (item !== arr[i]) {\n      if (!res) {\n        res = arr.slice();\n      }\n      res[i] = item;\n    }\n  }\n  return res || arr;\n}\nfunction walk$1(ast, func, depthFirst) {\n  if (!(ast instanceof Node)) {\n    return ast;\n  }\n  if (!depthFirst) {\n    const astT = func(ast);\n    if (astT && astT !== ast) {\n      return astT;\n    }\n  }\n  if (ast instanceof NodeList) {\n    const children = mapCOW(ast.children, node => walk$1(node, func, depthFirst));\n    if (children !== ast.children) {\n      ast = new nodes[ast.typename](ast.lineno, ast.colno, children);\n    }\n  } else if (ast instanceof CallExtension) {\n    const args = walk$1(ast.args, func, depthFirst);\n    const contentArgs = mapCOW(ast.contentArgs, node => walk$1(node, func, depthFirst));\n    if (args !== ast.args || contentArgs !== ast.contentArgs) {\n      ast = new nodes[ast.typename](ast.extName, ast.prop, args, contentArgs);\n    }\n  } else {\n    const props = ast.fields.map(field => ast[field]);\n    const propsT = mapCOW(props, prop => walk$1(prop, func, depthFirst));\n    if (propsT !== props) {\n      ast = new nodes[ast.typename](ast.lineno, ast.colno);\n      propsT.forEach((prop, i) => {\n        ast[ast.fields[i]] = prop;\n      });\n    }\n  }\n  return depthFirst ? func(ast) || ast : ast;\n}\nfunction depthWalk(ast, func) {\n  return walk$1(ast, func, true);\n}\nfunction _liftFilters(node, asyncFilters, prop) {\n  var children = [];\n  var walked = depthWalk(prop ? node[prop] : node, descNode => {\n    let symbol;\n    if (descNode instanceof Block) {\n      return descNode;\n    } else if (descNode instanceof Filter && indexOf(asyncFilters, descNode.name.value) !== -1 || descNode instanceof CallExtensionAsync) {\n      symbol = new Symbol$1(descNode.lineno, descNode.colno, gensym());\n      children.push(new FilterAsync(descNode.lineno, descNode.colno, descNode.name, descNode.args, symbol));\n    }\n    return symbol;\n  });\n  if (prop) {\n    node[prop] = walked;\n  } else {\n    node = walked;\n  }\n  if (children.length) {\n    children.push(node);\n    return new NodeList(node.lineno, node.colno, children);\n  } else {\n    return node;\n  }\n}\nfunction liftFilters(ast, asyncFilters) {\n  return depthWalk(ast, node => {\n    if (node instanceof Output) {\n      return _liftFilters(node, asyncFilters);\n    } else if (node instanceof Set$1) {\n      return _liftFilters(node, asyncFilters, 'value');\n    } else if (node instanceof For) {\n      return _liftFilters(node, asyncFilters, 'arr');\n    } else if (node instanceof If) {\n      return _liftFilters(node, asyncFilters, 'cond');\n    } else if (node instanceof CallExtension) {\n      return _liftFilters(node, asyncFilters, 'args');\n    } else {\n      return undefined;\n    }\n  });\n}\nfunction liftSuper(ast) {\n  return walk$1(ast, blockNode => {\n    if (!(blockNode instanceof Block)) {\n      return;\n    }\n    let hasSuper = false;\n    const symbol = gensym();\n    blockNode.body = walk$1(blockNode.body, node => {\n      // eslint-disable-line consistent-return\n      if (node instanceof FunCall && node.name.value === 'super') {\n        hasSuper = true;\n        return new Symbol$1(node.lineno, node.colno, symbol);\n      }\n    });\n    if (hasSuper) {\n      blockNode.body.children.unshift(new Super(0, 0, blockNode.name, new Symbol$1(0, 0, symbol)));\n    }\n  });\n}\nfunction convertStatements(ast) {\n  return depthWalk(ast, node => {\n    if (!(node instanceof If) && !(node instanceof For)) {\n      return undefined;\n    }\n    let async = false;\n    walk$1(node, child => {\n      if (child instanceof FilterAsync || child instanceof IfAsync || child instanceof AsyncEach || child instanceof AsyncAll || child instanceof CallExtensionAsync) {\n        async = true;\n        // Stop iterating by returning the node\n        return child;\n      }\n      return undefined;\n    });\n    if (async) {\n      if (node instanceof If) {\n        return new IfAsync(node.lineno, node.colno, node.cond, node.body, node.else_);\n      } else if (node instanceof For && !(node instanceof AsyncAll)) {\n        return new AsyncEach(node.lineno, node.colno, node.arr, node.name, node.body, node.else_);\n      }\n    }\n    return undefined;\n  });\n}\nfunction cps(ast, asyncFilters) {\n  return convertStatements(liftSuper(liftFilters(ast, asyncFilters)));\n}\nfunction transform(ast, asyncFilters) {\n  return cps(ast, asyncFilters || []);\n}\n\n// var parser = require('./parser');\n// var src = 'hello {% foo %}{% endfoo %} end';\n// var ast = transform(parser.parse(src, [new FooExtension()]), ['bar']);\n// nodes.printNodes(ast);\n\nvar arrayFrom = Array.from;\nvar supportsIterators = typeof Symbol === 'function' && Symbol.iterator && typeof arrayFrom === 'function';\n\n// Frames keep track of scoping both at compile-time and run-time so\n// we know how to access variables. Block tags can introduce special\n// variables, for example.\nclass Frame$1 {\n  constructor(parent, isolateWrites) {\n    this.variables = Object.create(null);\n    this.parent = parent;\n    this.topLevel = false;\n    // if this is true, writes (set) should never propagate upwards past\n    // this frame to its parent (though reads may).\n    this.isolateWrites = isolateWrites;\n  }\n  set(name, val, resolveUp) {\n    // Allow variables with dots by automatically creating the\n    // nested structure\n    var parts = name.split('.');\n    var obj = this.variables;\n    var frame = this;\n    if (resolveUp) {\n      if (frame = this.resolve(parts[0], true)) {\n        frame.set(name, val);\n        return;\n      }\n    }\n    for (let i = 0; i < parts.length - 1; i++) {\n      const id = parts[i];\n      if (!obj[id]) {\n        obj[id] = {};\n      }\n      obj = obj[id];\n    }\n    obj[parts[parts.length - 1]] = val;\n  }\n  get(name) {\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return null;\n  }\n  lookup(name) {\n    var p = this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return val;\n    }\n    return p && p.lookup(name);\n  }\n  resolve(name, forWrite) {\n    var p = forWrite && this.isolateWrites ? undefined : this.parent;\n    var val = this.variables[name];\n    if (val !== undefined) {\n      return this;\n    }\n    return p && p.resolve(name);\n  }\n  push(isolateWrites) {\n    return new Frame$1(this, isolateWrites);\n  }\n  pop() {\n    return this.parent;\n  }\n}\nfunction makeMacro(argNames, kwargNames, func) {\n  return function macro(...macroArgs) {\n    var argCount = numArgs(macroArgs);\n    var args;\n    var kwargs = getKeywordArgs(macroArgs);\n    if (argCount > argNames.length) {\n      args = macroArgs.slice(0, argNames.length);\n\n      // Positional arguments that should be passed in as\n      // keyword arguments (essentially default values)\n      macroArgs.slice(args.length, argCount).forEach((val, i) => {\n        if (i < kwargNames.length) {\n          kwargs[kwargNames[i]] = val;\n        }\n      });\n      args.push(kwargs);\n    } else if (argCount < argNames.length) {\n      args = macroArgs.slice(0, argCount);\n      for (let i = argCount; i < argNames.length; i++) {\n        const arg = argNames[i];\n\n        // Keyword arguments that should be passed as\n        // positional arguments, i.e. the caller explicitly\n        // used the name of a positional arg\n        args.push(kwargs[arg]);\n        delete kwargs[arg];\n      }\n      args.push(kwargs);\n    } else {\n      args = macroArgs;\n    }\n    return func.apply(this, args);\n  };\n}\nfunction makeKeywordArgs(obj) {\n  obj.__keywords = true;\n  return obj;\n}\nfunction isKeywordArgs(obj) {\n  return obj && Object.prototype.hasOwnProperty.call(obj, '__keywords');\n}\nfunction getKeywordArgs(args) {\n  var len = args.length;\n  if (len) {\n    const lastArg = args[len - 1];\n    if (isKeywordArgs(lastArg)) {\n      return lastArg;\n    }\n  }\n  return {};\n}\nfunction numArgs(args) {\n  var len = args.length;\n  if (len === 0) {\n    return 0;\n  }\n  const lastArg = args[len - 1];\n  if (isKeywordArgs(lastArg)) {\n    return len - 1;\n  } else {\n    return len;\n  }\n}\n\n// A SafeString object indicates that the string should not be\n// autoescaped. This happens magically because autoescaping only\n// occurs on primitive string objects.\nfunction SafeString(val) {\n  if (typeof val !== 'string') {\n    return val;\n  }\n  this.val = val;\n  this.length = val.length;\n}\nSafeString.prototype = Object.create(String.prototype, {\n  length: {\n    writable: true,\n    configurable: true,\n    value: 0\n  }\n});\nSafeString.prototype.valueOf = function valueOf() {\n  return this.val;\n};\nSafeString.prototype.toString = function toString() {\n  return this.val;\n};\nfunction copySafeness(dest, target) {\n  if (dest instanceof SafeString) {\n    return new SafeString(target);\n  }\n  return target.toString();\n}\nfunction markSafe(val) {\n  var type = typeof val;\n  if (type === 'string') {\n    return new SafeString(val);\n  } else if (type !== 'function') {\n    return val;\n  } else {\n    return function wrapSafe(args) {\n      var ret = val.apply(this, arguments);\n      if (typeof ret === 'string') {\n        return new SafeString(ret);\n      }\n      return ret;\n    };\n  }\n}\nfunction suppressValue(val, autoescape) {\n  val = val !== undefined && val !== null ? val : '';\n  if (autoescape && !(val instanceof SafeString)) {\n    val = escape$1(val.toString());\n  }\n  return val;\n}\nfunction ensureDefined(val, lineno, colno) {\n  if (val === null || val === undefined) {\n    throw new TemplateError('attempted to output null or undefined value', lineno + 1, colno + 1);\n  }\n  return val;\n}\nfunction memberLookup(obj, val) {\n  if (obj === undefined || obj === null) {\n    return undefined;\n  }\n  if (typeof obj[val] === 'function') {\n    return (...args) => obj[val].apply(obj, args);\n  }\n  return obj[val];\n}\nfunction callWrap(obj, name, context, args) {\n  if (!obj) {\n    throw new Error('Unable to call `' + name + '`, which is undefined or falsey');\n  } else if (typeof obj !== 'function') {\n    throw new Error('Unable to call `' + name + '`, which is not a function');\n  }\n  return obj.apply(context, args);\n}\nfunction contextOrFrameLookup(context, frame, name) {\n  var val = frame.lookup(name);\n  return val !== undefined ? val : context.lookup(name);\n}\n\n// nunjucks-stream: Cache async iterables so they can be read multiple times\nfunction wrapAsyncIterable(context, v) {\n  if (typeof v !== 'object' || typeof v[Symbol.asyncIterator] !== 'function') {\n    return v;\n  }\n  context.itermap = context.itermap || new Map();\n  let existing = context.itermap.get(v);\n  if (existing) {\n    return existing;\n  }\n  let chunkPromises = []; // across all iterators\n  let rootIterator = v[Symbol.asyncIterator]();\n  let cachedIterable = {\n    [Symbol.asyncIterator]() {\n      let current = 0; // just this iterator\n      return {\n        next() {\n          // called every iteration, to get the next value\n          if (current < chunkPromises.length) {\n            return chunkPromises[current++];\n          }\n          let chunkPromise = rootIterator.next();\n          chunkPromises.push(chunkPromise);\n          ++current;\n          return chunkPromise;\n        }\n      };\n    }\n  };\n  context.itermap.set(v, cachedIterable);\n  return cachedIterable;\n}\n\n// nunjucks-stream: Flatten async iterators to string to allow string operations on them\nfunction flattenAsyncIterable(v) {\n  if (typeof v !== 'object' || typeof v[Symbol.asyncIterator] !== 'function') {\n    return v;\n  }\n  return new Promise(async resolve => {\n    let s = [];\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n      // eslint-disable-next-line no-await-in-loop\n      let {\n        done,\n        value\n      } = await v.next();\n      if (done) {\n        break;\n      }\n      // eslint-disable-next-line no-await-in-loop\n      s.push(String(value));\n    }\n    resolve(s.join(''));\n  });\n}\nfunction handleError$1(error, lineno, colno) {\n  if (error.lineno) {\n    return error;\n  } else {\n    // nunjucks-stream modification: fix incorrect line numbers being reported in runtime errors\n    if (lineno !== undefined) {\n      lineno += 1;\n    }\n    if (colno !== undefined) {\n      colno += 1;\n    }\n    return new TemplateError(error, lineno, colno);\n  }\n}\nfunction asyncEach(arr, dimen, iter, cb) {\n  if (isArray$1(arr)) {\n    const len = arr.length;\n    asyncIter(arr, function iterCallback(item, i, next) {\n      switch (dimen) {\n        case 1:\n          iter(item, i, len, next);\n          break;\n        case 2:\n          iter(item[0], item[1], i, len, next);\n          break;\n        case 3:\n          iter(item[0], item[1], item[2], i, len, next);\n          break;\n        default:\n          item.push(i, len, next);\n          iter.apply(this, item);\n      }\n    }, cb);\n  } else {\n    asyncFor(arr, function iterCallback(key, val, i, len, next) {\n      iter(key, val, i, len, next);\n    }, cb);\n  }\n}\nfunction asyncAll(arr, dimen, func, cb) {\n  var finished = 0;\n  var len;\n  var outputArr;\n  function done(i, output) {\n    finished++;\n    outputArr[i] = output;\n    if (finished === len) {\n      cb(null, outputArr.join(''));\n    }\n  }\n  if (isArray$1(arr)) {\n    len = arr.length;\n    outputArr = new Array(len);\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < arr.length; i++) {\n        const item = arr[i];\n        switch (dimen) {\n          case 1:\n            func(item, i, len, done);\n            break;\n          case 2:\n            func(item[0], item[1], i, len, done);\n            break;\n          case 3:\n            func(item[0], item[1], item[2], i, len, done);\n            break;\n          default:\n            item.push(i, len, done);\n            func.apply(this, item);\n        }\n      }\n    }\n  } else {\n    const keys = keys_(arr || {});\n    len = keys.length;\n    outputArr = new Array(len);\n    if (len === 0) {\n      cb(null, '');\n    } else {\n      for (let i = 0; i < keys.length; i++) {\n        const k = keys[i];\n        func(k, arr[k], i, len, done);\n      }\n    }\n  }\n}\nfunction fromIterator(arr) {\n  if (typeof arr !== 'object' || arr === null || isArray$1(arr)) {\n    return arr;\n  } else if (supportsIterators && Symbol.iterator in arr) {\n    return arrayFrom(arr);\n  } else {\n    return arr;\n  }\n}\nlet {\n  isArray,\n  keys,\n  inOperator\n} = lib;\n\nvar globalRuntime = {\n  __proto__: null,\n  Frame: Frame$1,\n  makeMacro: makeMacro,\n  makeKeywordArgs: makeKeywordArgs,\n  numArgs: numArgs,\n  suppressValue: suppressValue,\n  ensureDefined: ensureDefined,\n  memberLookup: memberLookup,\n  contextOrFrameLookup: contextOrFrameLookup,\n  callWrap: callWrap,\n  handleError: handleError$1,\n  isArray: isArray,\n  keys: keys,\n  SafeString: SafeString,\n  copySafeness: copySafeness,\n  markSafe: markSafe,\n  asyncEach: asyncEach,\n  asyncAll: asyncAll,\n  inOperator: inOperator,\n  fromIterator: fromIterator,\n  flattenAsyncIterable: flattenAsyncIterable,\n  wrapAsyncIterable: wrapAsyncIterable\n};\n\n// These are all the same for now, but shouldn't be passed straight\n// through\nconst compareOps = {\n  '==': '==',\n  '===': '===',\n  '!=': '!=',\n  '!==': '!==',\n  '<': '<',\n  '>': '>',\n  '<=': '<=',\n  '>=': '>='\n};\nclass Compiler extends Obj {\n  init(templateName, throwOnUndefined) {\n    this.templateName = templateName;\n    this.codebuf = [];\n    this.lastId = 0;\n    this.buffer = null;\n    this.bufferStack = [];\n    this._scopeClosers = '';\n    this.inBlock = false;\n    this.throwOnUndefined = throwOnUndefined;\n  }\n  fail(msg, lineno, colno) {\n    if (lineno !== undefined) {\n      lineno += 1;\n    }\n    if (colno !== undefined) {\n      colno += 1;\n    }\n    throw new TemplateError(msg, lineno, colno);\n  }\n  _pushBuffer() {\n    const id = this._tmpid();\n    this.bufferStack.push(this.buffer);\n    this.buffer = id;\n    this._emit('\\n\\n// pushing buffer\\n\\n');\n    this._emit(`var ${this.buffer} = [];`);\n    this._emitPushBuffer(this.buffer);\n    return id;\n  }\n  _popBuffer() {\n    this.buffer = this.bufferStack.pop();\n    this._emitPopBuffer();\n  }\n  _emit(code) {\n    this.codebuf.push(code);\n  }\n  _emitLine(code) {\n    this._emit(code + '\\n');\n  }\n  _emitLines(...lines) {\n    lines.forEach(line => this._emitLine(line));\n  }\n  _emitPushBuffer() {\n    this._emitLine(`__buffers.push(${this.buffer});`);\n  }\n  _emitPopBuffer() {\n    this._emitLine('__buffers.pop();');\n  }\n  _emitFuncBegin(node, name, noEmitPushBuffer) {\n    this.buffer = 'output';\n    this._scopeClosers = '';\n    this._emitLine(`async function* ${name}(env, context, frame, runtime) {`);\n    this._emitLine(`var lineno = ${node.lineno};`);\n    this._emitLine(`var colno = ${node.colno};`);\n    this._emitLine(`var ${this.buffer} = [];`);\n    if (!noEmitPushBuffer) {\n      this._emitPushBuffer();\n    }\n    this._emitLine('try {');\n  }\n  _emitFuncEnd(noReturn) {\n    // if (!noReturn) {\n    //   this._emitLine('cb(null, ' + this.buffer + ');');\n    // }\n\n    this._emitPopBuffer();\n    this._closeScopeLevels();\n    this._emitLine('} catch (e) {');\n    this._emitLine('  throw runtime.handleError(e, lineno, colno);');\n    this._emitLine('}');\n    this._emitLine('}');\n    this.buffer = null;\n  }\n  _addScopeLevel() {\n    this._scopeClosers += '})';\n  }\n  _closeScopeLevels() {\n    this._emitLine(this._scopeClosers + ';');\n    this._scopeClosers = '';\n  }\n  _withScopedSyntax(func) {\n    var _scopeClosers = this._scopeClosers;\n    this._scopeClosers = '';\n    func.call(this);\n    this._closeScopeLevels();\n    this._scopeClosers = _scopeClosers;\n  }\n  _makeCallback(res) {\n    var err = this._tmpid();\n    return 'async function(' + err + (res ? ',' + res : '') + ') {\\n' + 'if(' + err + ') { cb(' + err + '); return; }';\n  }\n  _tmpid() {\n    this.lastId++;\n    return 't_' + this.lastId;\n  }\n  _templateName() {\n    return this.templateName == null ? 'undefined' : JSON.stringify(this.templateName);\n  }\n  _compileChildren(node, frame) {\n    node.children.forEach(child => {\n      this.compile(child, frame);\n    });\n  }\n  _compileAggregate(node, frame, startChar, endChar) {\n    if (startChar) {\n      this._emit(startChar);\n    }\n    node.children.forEach((child, i) => {\n      if (i > 0) {\n        this._emit(',');\n      }\n      this.compile(child, frame);\n    });\n    if (endChar) {\n      this._emit(endChar);\n    }\n  }\n  _compileExpression(node, frame) {\n    // TODO: I'm not really sure if this type check is worth it or\n    // not.\n    this.assertType(node, Literal, Symbol$1, Group, ArrayNode, Dict, FunCall, Caller, Filter, LookupVal, Compare, InlineIf, In, Is, And, Or, Not, Add, Concat, Sub, Mul, Div, FloorDiv, Mod, Pow, Neg, Pos, Compare, NodeList);\n    this.compile(node, frame);\n  }\n  assertType(node, ...types) {\n    if (!types.some(t => node instanceof t)) {\n      this.fail(`assertType: invalid type: ${node.typename}`, node.lineno, node.colno);\n    }\n  }\n  compileCallExtension(node, frame, async) {\n    var args = node.args;\n    var contentArgs = node.contentArgs;\n    var autoescape = typeof node.autoescape === 'boolean' ? node.autoescape : true;\n\n    // TODO: this needs to move to a getter somehow in the compiled code\n    // this._emit('context.__buffer = [');\n    // this._emit([...this.bufferStack, this.buffer].join(','));\n    // this._emit('].join(\"\");');\n\n    if (!async) {\n      this._emit(`yield* yy(${this.buffer},`);\n      this._emit('await runtime.suppressValue(');\n    }\n    this._emit(`env.getExtension(\"${node.extName}\")[\"${node.prop}\"](`);\n    this._emit('context');\n    if (args || contentArgs) {\n      this._emit(',');\n    }\n    if (args) {\n      if (!(args instanceof NodeList)) {\n        this.fail('compileCallExtension: arguments must be a NodeList, ' + 'use `parser.parseSignature`');\n      }\n      args.children.forEach((arg, i) => {\n        // Tag arguments are passed normally to the call. Note\n        // that keyword arguments are turned into a single js\n        // object as the last argument, if they exist.\n        this._compileExpression(arg, frame);\n        if (i !== args.children.length - 1 || contentArgs.length) {\n          this._emit(',');\n        }\n      });\n    }\n    if (contentArgs.length) {\n      contentArgs.forEach((arg, i) => {\n        if (i > 0) {\n          this._emit(',');\n        }\n        if (arg) {\n          this._emitLine('async function* (cb) {');\n          this._emitLine('if(!cb) { cb = async function(err) { if(err) { throw err; }}}');\n          const id = this._pushBuffer();\n          this._withScopedSyntax(() => {\n            this.compile(arg, frame);\n            this._emitLine(`cb(null, ${id});`);\n          });\n          this._popBuffer();\n          this._emitLine(`return ${id};`);\n          this._emitLine('}');\n        } else {\n          this._emit('null');\n        }\n      });\n    }\n    if (async) {\n      // TODO: nunjucks-stream: kill any specially async code since everything is async\n      const res = this._tmpid();\n      this._emitLine(', ' + this._makeCallback(res));\n      this._emitLine(`yield* yy(${this.buffer},runtime.suppressValue(${res}, ${autoescape} && env.opts.autoescape));`);\n      this._addScopeLevel();\n    } else {\n      this._emit(')'); // suppressValue\n      this._emit(')'); // yy\n      this._emit(`, ${autoescape} && env.opts.autoescape);\\n`);\n    }\n  }\n  compileCallExtensionAsync(node, frame) {\n    this.compileCallExtension(node, frame, true);\n  }\n  compileNodeList(node, frame) {\n    this._compileChildren(node, frame);\n  }\n  compileLiteral(node) {\n    if (typeof node.value === 'string') {\n      let val = node.value.replace(/\\\\/g, '\\\\\\\\');\n      val = val.replace(/\"/g, '\\\\\"');\n      val = val.replace(/\\n/g, '\\\\n');\n      val = val.replace(/\\r/g, '\\\\r');\n      val = val.replace(/\\t/g, '\\\\t');\n      val = val.replace(/\\u2028/g, '\\\\u2028');\n      this._emit(`\"${val}\"`);\n    } else if (node.value === null) {\n      this._emit('null');\n    } else {\n      this._emit(node.value.toString());\n    }\n  }\n  compileSymbol(node, frame) {\n    var name = node.value;\n    var v = frame.lookup(name);\n    if (v) {\n      this._emit(v);\n    } else {\n      this._emit('runtime.contextOrFrameLookup(' + 'context, frame, \"' + name + '\")');\n    }\n  }\n  compileGroup(node, frame) {\n    this._compileAggregate(node, frame, '(', ')');\n  }\n  compileArray(node, frame) {\n    this._compileAggregate(node, frame, '[', ']');\n  }\n  compileDict(node, frame) {\n    this._compileAggregate(node, frame, '{', '}');\n  }\n  compilePair(node, frame) {\n    var key = node.key;\n    var val = node.value;\n    if (key instanceof Symbol$1) {\n      key = new Literal(key.lineno, key.colno, key.value);\n    } else if (!(key instanceof Literal && typeof key.value === 'string')) {\n      this.fail('compilePair: Dict keys must be strings or names', key.lineno, key.colno);\n    }\n    this.compile(key, frame);\n    this._emit(': ');\n    this._compileExpression(val, frame);\n  }\n  compileInlineIf(node, frame) {\n    this._emit('(');\n    this.compile(node.cond, frame);\n    this._emit('?');\n    this.compile(node.body, frame);\n    this._emit(':');\n    if (node.else_ !== null) {\n      this.compile(node.else_, frame);\n    } else {\n      this._emit('\"\"');\n    }\n    this._emit(')');\n  }\n  compileIn(node, frame) {\n    this._emit('runtime.inOperator(');\n    this.compile(node.left, frame);\n    this._emit(',');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n  compileIs(node, frame) {\n    // first, we need to try to get the name of the test function, if it's a\n    // callable (i.e., has args) and not a symbol.\n    var right = node.right.name ? node.right.name.value\n    // otherwise go with the symbol value\n    : node.right.value;\n    this._emit('env.getTest(\"' + right + '\").call(context, ');\n    this.compile(node.left, frame);\n    // compile the arguments for the callable if they exist\n    if (node.right.args) {\n      this._emit(',');\n      this.compile(node.right.args, frame);\n    }\n    this._emit(') === true');\n  }\n  _binOpEmitter(node, frame, str) {\n    this._emit('await runtime.flattenAsyncIterable(');\n    this.compile(node.left, frame);\n    this._emit(')');\n    this._emit(str);\n    this._emit('await runtime.flattenAsyncIterable(');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n\n  // ensure concatenation instead of addition\n  // by adding empty string in between\n  compileOr(node, frame) {\n    return this._binOpEmitter(node, frame, ' || ');\n  }\n  compileAnd(node, frame) {\n    return this._binOpEmitter(node, frame, ' && ');\n  }\n  compileAdd(node, frame) {\n    return this._binOpEmitter(node, frame, ' + ');\n  }\n  compileConcat(node, frame) {\n    return this._binOpEmitter(node, frame, ' + \"\" + ');\n  }\n  compileSub(node, frame) {\n    return this._binOpEmitter(node, frame, ' - ');\n  }\n  compileMul(node, frame) {\n    return this._binOpEmitter(node, frame, ' * ');\n  }\n  compileDiv(node, frame) {\n    return this._binOpEmitter(node, frame, ' / ');\n  }\n  compileMod(node, frame) {\n    return this._binOpEmitter(node, frame, ' % ');\n  }\n  compileNot(node, frame) {\n    this._emit('!');\n    this.compile(node.target, frame);\n  }\n  compileFloorDiv(node, frame) {\n    this._emit('Math.floor(');\n    this.compile(node.left, frame);\n    this._emit(' / ');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n  compilePow(node, frame) {\n    this._emit('Math.pow(');\n    this.compile(node.left, frame);\n    this._emit(', ');\n    this.compile(node.right, frame);\n    this._emit(')');\n  }\n  compileNeg(node, frame) {\n    this._emit('-');\n    this.compile(node.target, frame);\n  }\n  compilePos(node, frame) {\n    this._emit('+');\n    this.compile(node.target, frame);\n  }\n  compileCompare(node, frame) {\n    this.compile(node.expr, frame);\n    node.ops.forEach(op => {\n      this._emit(` ${compareOps[op.type]} `);\n      this.compile(op.expr, frame);\n    });\n  }\n  compileLookupVal(node, frame) {\n    this._emit('runtime.memberLookup((');\n    this._compileExpression(node.target, frame);\n    this._emit('),');\n    this._compileExpression(node.val, frame);\n    this._emit(')');\n  }\n  _getNodeName(node) {\n    switch (node.typename) {\n      case 'Symbol':\n        return node.value;\n      case 'FunCall':\n        return 'the return value of (' + this._getNodeName(node.name) + ')';\n      case 'LookupVal':\n        return this._getNodeName(node.target) + '[\"' + this._getNodeName(node.val) + '\"]';\n      case 'Literal':\n        return node.value.toString();\n      default:\n        return '--expression--';\n    }\n  }\n  compileFunCall(node, frame) {\n    // Keep track of line/col info at runtime by settings\n    // variables within an expression. An expression in javascript\n    // like (x, y, z) returns the last value, and x and y can be\n    // anything\n    this._emit('(lineno = ' + node.lineno + ', colno = ' + node.colno + ', ');\n    this._emit('await runtime.callWrap(');\n    // Compile it as normal.\n    this._compileExpression(node.name, frame);\n\n    // Output the name of what we're calling so we can get friendly errors\n    // if the lookup fails.\n    this._emit(', \"' + this._getNodeName(node.name).replace(/\"/g, '\\\\\"') + '\", context, ');\n    this._compileAggregate(node.args, frame, '[', '])');\n    this._emit(')'); // callWrap\n  }\n\n  compileFilter(node, frame) {\n    var name = node.name;\n    this.assertType(name, Symbol$1);\n    this._emit('(lineno = ' + node.lineno + ', colno = ' + node.colno + ', ');\n    this._emit('await env.getFilter(\"' + name.value + '\").call(context, ');\n    // this._emit('await runtime.flattenAsyncIterable(');\n    this._compileAggregate(node.args, frame);\n    // this._emit(')'); // flattenAsyncIterable\n    this._emit(')'); // getFilter.call\n    this._emit(')'); // line numbers\n  }\n\n  compileFilterAsync(node, frame) {\n    var name = node.name;\n    var symbol = node.symbol.value;\n    this.assertType(name, Symbol$1);\n    frame.set(symbol, symbol);\n    this._emit('env.getFilter(\"' + name.value + '\").call(context, ');\n    this._compileAggregate(node.args, frame);\n    this._emitLine(', ' + this._makeCallback(symbol));\n    this._addScopeLevel();\n  }\n  compileKeywordArgs(node, frame) {\n    this._emit('runtime.makeKeywordArgs(');\n    this.compileDict(node, frame);\n    this._emit(')');\n  }\n  compileSet(node, frame) {\n    var ids = [];\n\n    // Lookup the variable names for each identifier and create\n    // new ones if necessary\n    node.targets.forEach(target => {\n      var name = target.value;\n      var id = frame.lookup(name);\n      if (id === null || id === undefined) {\n        id = this._tmpid();\n\n        // Note: This relies on js allowing scope across\n        // blocks, in case this is created inside an `if`\n        this._emitLine('var ' + id + ';');\n      }\n      ids.push(id);\n    });\n    if (node.value) {\n      this._emit(ids.join(' = ') + ' = ');\n      this._compileExpression(node.value, frame);\n      this._emitLine(';');\n    } else {\n      this._emit(ids.join(' = ') + ' = ');\n      this.compile(node.body, frame);\n      this._emitLine(';');\n    }\n    node.targets.forEach((target, i) => {\n      var id = ids[i];\n      var name = target.value;\n\n      // We are running this for every var, but it's very\n      // uncommon to assign to multiple vars anyway\n      this._emitLine(`frame.set(\"${name}\", ${id}, true);`);\n      this._emitLine('if(frame.topLevel) {');\n      this._emitLine(`context.setVariable(\"${name}\", ${id});`);\n      this._emitLine('}');\n      if (name.charAt(0) !== '_') {\n        this._emitLine('if(frame.topLevel) {');\n        this._emitLine(`context.addExport(\"${name}\", ${id});`);\n        this._emitLine('}');\n      }\n    });\n  }\n  compileSwitch(node, frame) {\n    this._emit('switch (');\n    this.compile(node.expr, frame);\n    this._emit(') {');\n    node.cases.forEach((c, i) => {\n      this._emit('case ');\n      this.compile(c.cond, frame);\n      this._emit(': ');\n      this.compile(c.body, frame);\n      // preserve fall-throughs\n      if (c.body.children.length) {\n        this._emitLine('break;');\n      }\n    });\n    if (node.default) {\n      this._emit('default:');\n      this.compile(node.default, frame);\n    }\n    this._emit('}');\n  }\n  compileIf(node, frame, async) {\n    this._emit('if(');\n    this._compileExpression(node.cond, frame);\n    this._emitLine(') {');\n    this._withScopedSyntax(() => {\n      this.compile(node.body, frame);\n      if (async) {\n        this._emit('cb()');\n      }\n    });\n    if (node.else_) {\n      this._emitLine('}\\nelse {');\n      this._withScopedSyntax(() => {\n        this.compile(node.else_, frame);\n        if (async) {\n          this._emit('cb()');\n        }\n      });\n    } else if (async) {\n      this._emitLine('}\\nelse {');\n      this._emit('cb()');\n    }\n    this._emitLine('}');\n  }\n  compileIfAsync(node, frame) {\n    throw new Error(\"Don't use async if with nunjucks-stream\");\n  }\n  _emitLoopBindings(node, arr, i, len) {\n    const bindings = [{\n      name: 'index',\n      val: `${i} + 1`\n    }, {\n      name: 'index0',\n      val: i\n    }, {\n      name: 'revindex',\n      val: `${len} - ${i}`\n    }, {\n      name: 'revindex0',\n      val: `${len} - ${i} - 1`\n    }, {\n      name: 'first',\n      val: `${i} === 0`\n    }, {\n      name: 'last',\n      val: `${i} === ${len} - 1`\n    }, {\n      name: 'length',\n      val: len\n    }];\n    bindings.forEach(b => {\n      this._emitLine(`frame.set(\"loop.${b.name}\", ${b.val});`);\n    });\n  }\n  compileFor(node, frame) {\n    // Some of this code is ugly, but it keeps the generated code\n    // as fast as possible. ForAsync also shares some of this, but\n    // not much.\n\n    const i = this._tmpid();\n    const len = this._tmpid();\n    const arr = this._tmpid();\n    frame = frame.push();\n    this._emitLine('frame = frame.push();');\n    this._emit(`var ${arr} = `);\n    this._compileExpression(node.arr, frame);\n    this._emitLine(';');\n    this._emit(`if(${arr}) {`);\n    this._emitLine(arr + ' = runtime.fromIterator(' + arr + ');');\n\n    // If multiple names are passed, we need to bind them\n    // appropriately\n    if (node.name instanceof ArrayNode) {\n      this._emitLine(`var ${i};`);\n\n      // The object could be an arroy or object. Note that the\n      // body of the loop is duplicated for each condition, but\n      // we are optimizing for speed over size.\n      this._emitLine(`if(runtime.isArray(${arr})) {`);\n      this._emitLine(`var ${len} = ${arr}.length;`);\n      this._emitLine(`for(${i}=0; ${i} < ${arr}.length; ${i}++) {`);\n\n      // Bind each declared var\n      node.name.children.forEach((child, u) => {\n        var tid = this._tmpid();\n        this._emitLine(`var ${tid} = ${arr}[${i}][${u}];`);\n        this._emitLine(`frame.set(\"${child}\", ${arr}[${i}][${u}]);`);\n        frame.set(node.name.children[u].value, tid);\n      });\n      this._emitLoopBindings(node, arr, i, len);\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n      this._emitLine('}');\n      this._emitLine('} else {');\n      // Iterate over the key/values of an object\n      const [key, val] = node.name.children;\n      const k = this._tmpid();\n      const v = this._tmpid();\n      frame.set(key.value, k);\n      frame.set(val.value, v);\n      this._emitLine(`${i} = -1;`);\n      this._emitLine(`var ${len} = runtime.keys(${arr}).length;`);\n      this._emitLine(`for(var ${k} in ${arr}) {`);\n      this._emitLine(`${i}++;`);\n      this._emitLine(`var ${v} = ${arr}[${k}];`);\n      this._emitLine(`frame.set(\"${key.value}\", ${k});`);\n      this._emitLine(`frame.set(\"${val.value}\", ${v});`);\n      this._emitLoopBindings(node, arr, i, len);\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n      this._emitLine('}');\n      this._emitLine('}');\n    } else {\n      // Generate a typical array iteration\n      const v = this._tmpid();\n      frame.set(node.name.value, v);\n      this._emitLine(`var ${len} = ${arr}.length;`);\n      this._emitLine(`for(var ${i}=0; ${i} < ${arr}.length; ${i}++) {`);\n      this._emitLine(`var ${v} = ${arr}[${i}];`);\n      this._emitLine(`frame.set(\"${node.name.value}\", ${v});`);\n      this._emitLoopBindings(node, arr, i, len);\n      this._withScopedSyntax(() => {\n        this.compile(node.body, frame);\n      });\n      this._emitLine('}');\n    }\n    this._emitLine('}');\n    if (node.else_) {\n      this._emitLine('if (!' + len + ') {');\n      this.compile(node.else_, frame);\n      this._emitLine('}');\n    }\n    this._emitLine('frame = frame.pop();');\n  }\n  _compileAsyncLoop(node, frame, parallel) {\n    throw new Error(\"Don't use async loops with nunjucks-stream\");\n  }\n  compileAsyncEach(node, frame) {\n    this._compileAsyncLoop(node, frame);\n  }\n  compileAsyncAll(node, frame) {\n    this._compileAsyncLoop(node, frame, true);\n  }\n  _compileMacro(node, frame) {\n    var args = [];\n    var kwargs = null;\n    var funcId = 'macro_' + this._tmpid();\n    var keepFrame = frame !== undefined;\n\n    // Type check the definition of the args\n    node.args.children.forEach((arg, i) => {\n      if (i === node.args.children.length - 1 && arg instanceof Dict) {\n        kwargs = arg;\n      } else {\n        this.assertType(arg, Symbol$1);\n        args.push(arg);\n      }\n    });\n    const realNames = [...args.map(n => `l_${n.value}`), 'kwargs'];\n\n    // Quoted argument names\n    const argNames = args.map(n => `\"${n.value}\"`);\n    const kwargNames = (kwargs && kwargs.children || []).map(n => `\"${n.key.value}\"`);\n\n    // We pass a function to makeMacro which destructures the\n    // arguments so support setting positional args with keywords\n    // args and passing keyword args as positional args\n    // (essentially default values). See runtime.js.\n    let currFrame;\n    if (keepFrame) {\n      currFrame = frame.push(true);\n    } else {\n      currFrame = new Frame$1();\n    }\n    this._emitLines(`var ${funcId} = runtime.makeMacro(`, `[${argNames.join(', ')}], `, `[${kwargNames.join(', ')}], `, `async function* (${realNames.join(', ')}) {`, 'var callerFrame = frame;', 'frame = ' + (keepFrame ? 'frame.push(true);' : 'new runtime.Frame();'), 'kwargs = kwargs || {};', 'if (Object.prototype.hasOwnProperty.call(kwargs, \"caller\")) {', 'frame.set(\"caller\", kwargs.caller); }');\n\n    // Expose the arguments to the template. Don't need to use\n    // random names because the function\n    // will create a new run-time scope for us\n    args.forEach(arg => {\n      this._emitLine(`frame.set(\"${arg.value}\", l_${arg.value});`);\n      currFrame.set(arg.value, `l_${arg.value}`);\n    });\n\n    // Expose the keyword arguments\n    if (kwargs) {\n      kwargs.children.forEach(pair => {\n        const name = pair.key.value;\n        this._emit(`frame.set(\"${name}\", `);\n        this._emit(`Object.prototype.hasOwnProperty.call(kwargs, \"${name}\")`);\n        this._emit(` ? kwargs[\"${name}\"] : `);\n        this._compileExpression(pair.value, currFrame);\n        this._emit(');');\n      });\n    }\n\n    // const bufferId =\n    this._pushBuffer();\n    this._withScopedSyntax(() => {\n      this.compile(node.body, currFrame);\n    });\n    this._emitLine('frame = ' + (keepFrame ? 'frame.pop();' : 'callerFrame;'));\n    this._popBuffer();\n    // this._emitLine(`return new runtime.SafeString(${bufferId});`);\n    this._emitLine('});');\n    return funcId;\n  }\n  compileMacro(node, frame) {\n    var funcId = this._compileMacro(node);\n\n    // Expose the macro to the templates\n    var name = node.name.value;\n    frame.set(name, funcId);\n    if (frame.parent) {\n      this._emitLine(`frame.set(\"${name}\", ${funcId});`);\n    } else {\n      if (node.name.value.charAt(0) !== '_') {\n        this._emitLine(`context.addExport(\"${name}\");`);\n      }\n      this._emitLine(`context.setVariable(\"${name}\", ${funcId});`);\n    }\n  }\n  compileCaller(node, frame) {\n    // basically an anonymous \"macro expression\"\n    this._emit('(async function (){');\n    const funcId = this._compileMacro(node, frame);\n    this._emit(`return ${funcId};})()`);\n  }\n  _compilePromisifyCallback(fn) {\n    const id = this._tmpid();\n    const callback = this._tmpid();\n    this._emitLine(`var ${id} = await new Promise((resolve, reject) => {`);\n    this._emitLine(`function ${callback}(err, res) { if (err) reject(err); else resolve(res); }`);\n    fn(callback);\n    this._emitLine('});'); // new Promise\n    return id;\n  }\n  _compileGetTemplate(node, frame, eagerCompile, ignoreMissing) {\n    return this._compilePromisifyCallback(cb => {\n      this._emit('env.getTemplate(');\n      this._compileExpression(node.template, frame);\n      const parentName = this._templateName();\n      const eagerCompileArg = eagerCompile ? 'true' : 'false';\n      const ignoreMissingArg = ignoreMissing ? 'true' : 'false';\n      this._emitLine(`, ${eagerCompileArg}, ${parentName}, ${ignoreMissingArg}, ${cb});`);\n    });\n  }\n  _compileGetExported(node, templateVariable) {\n    return this._compilePromisifyCallback(cb => {\n      this._emitLine(templateVariable + '.getExported(' + (node.withContext ? 'context.getVariables(), frame, ' : '') + cb + ');');\n    });\n  }\n  compileImport(node, frame) {\n    const target = node.target.value;\n    const template = this._compileGetTemplate(node, frame, false, node.ignoreMissing);\n    const exported = this._compileGetExported(node, template);\n    frame.set(target, exported);\n    if (frame.parent) {\n      this._emitLine(`frame.set(\"${target}\", ${exported});`);\n    } else {\n      this._emitLine(`context.setVariable(\"${target}\", ${exported});`);\n    }\n  }\n  compileFromImport(node, frame) {\n    const template = this._compileGetTemplate(node, frame, false, false);\n    const exported = this._compileGetExported(node, template);\n    node.names.children.forEach(nameNode => {\n      var name;\n      var alias;\n      var id = this._tmpid();\n      if (nameNode instanceof Pair) {\n        name = nameNode.key.value;\n        alias = nameNode.value.value;\n      } else {\n        name = nameNode.value;\n        alias = name;\n      }\n      this._emitLine(`if(Object.prototype.hasOwnProperty.call(${exported}, \"${name}\")) {`);\n      this._emitLine(`var ${id} = ${exported}.${name};`);\n      this._emitLine('} else {');\n      this._emitLine(`throw new Error(\"cannot import '${name}'\");`);\n      this._emitLine('}');\n      frame.set(alias, id);\n      if (frame.parent) {\n        this._emitLine(`frame.set(\"${alias}\", ${id});`);\n      } else {\n        this._emitLine(`context.setVariable(\"${alias}\", ${id});`);\n      }\n    });\n  }\n  compileBlock(node) {\n    var id = this._tmpid();\n\n    // If we are executing outside a block (creating a top-level\n    // block), we really don't want to execute its code because it\n    // will execute twice: once when the child template runs and\n    // again when the parent template runs. Note that blocks\n    // within blocks will *always* execute immediately *and*\n    // wherever else they are invoked (like used in a parent\n    // template). This may have behavioral differences from jinja\n    // because blocks can have side effects, but it seems like a\n    // waste of performance to always execute huge top-level\n    // blocks twice\n    this._emit('await');\n    if (!this.inBlock) {\n      this._emit('(parentTemplate ? async function(e, c, f, r, cb) { cb(\"\"); } : ');\n    }\n    this._emit(`context.getBlock(\"${node.name.value}\")`);\n    if (!this.inBlock) {\n      this._emit(')');\n    }\n    this._emitLine('(env, context, frame, runtime, ' + this._makeCallback(id));\n\n    // TODO: removed as part of async generators\n    // this._emitLine(`${this.buffer} += ${id};`);\n\n    // because we're now await'ing, we don't need to move everything after\n    // the block call into the callback, we can end right here\n    // this._addScopeLevel();\n    this._emitLine('});');\n  }\n  compileSuper(node, frame) {\n    var name = node.blockName.value;\n    var id = node.symbol.value;\n    const cb = this._makeCallback(id);\n    this._emitLine(`context.getSuper(env, \"${name}\", b_${name}, frame, runtime, ${cb}`);\n    this._emitLine(`${id} = runtime.markSafe(${id});`);\n    this._addScopeLevel();\n    frame.set(id, id);\n  }\n  compileExtends(node, frame) {\n    throw new Error('{% extends %} not yet supported');\n  }\n  compileInclude(node, frame) {\n    const template = this._compileGetTemplate(node, frame, false, node.ignoreMissing);\n\n    // const result = this._tmpid();\n    // this._emitLine(`var ${result} = await`);\n    this._emit(`yield* yy(${this.buffer},await `);\n    this._emitLine(template + '.render(context.getVariables(), frame)');\n    this._emit(');');\n    // this._emitLine(`${this.buffer} += ${result};`);\n  }\n\n  compileTemplateData(node, frame) {\n    this.compileLiteral(node, frame);\n  }\n  compileCapture(node, frame) {\n    // we need to temporarily override the current buffer id as 'output'\n    // so the set block writes to the capture output instead of the buffer\n    var buffer = this.buffer;\n    this.buffer = 'output';\n    this._emitLine('(async function *() {');\n    this._emitLine('var output = [];');\n    this._withScopedSyntax(() => {\n      this.compile(node.body, frame);\n    });\n    // and of course, revert back to the old buffer id\n    this.buffer = buffer;\n    // this._emitLine('return output;');\n    this._emitLine('})()');\n  }\n  compileOutput(node, frame) {\n    const children = node.children;\n    children.forEach(child => {\n      // TemplateData is a special case because it is never\n      // autoescaped, so simply output it for optimization\n      if (child instanceof TemplateData) {\n        if (child.value) {\n          this._emit(`yield* yy(${this.buffer},await `);\n          this.compileLiteral(child, frame);\n          this._emitLine(');');\n        }\n      } else {\n        this._emit(`yield* yy(${this.buffer},runtime.suppressValue(`);\n        if (this.throwOnUndefined) {\n          this._emit('runtime.ensureDefined(');\n        }\n        this._emit('await ');\n        this.compile(child, frame);\n        if (this.throwOnUndefined) {\n          this._emit(`,${node.lineno},${node.colno})`); // ensureDefined\n        }\n\n        this._emit(')'); // yy\n        this._emit(', env.opts.autoescape);\\n');\n      }\n    });\n  }\n  compileRoot(node, frame) {\n    if (frame) {\n      this.fail('compileRoot: root node can\\'t have frame');\n    }\n    frame = new Frame$1();\n    this._emitFuncBegin(node, 'root', true);\n    this._emit(`\n    var __buffers = [];\n    async function* yy(buffer, v) {\n      if (\n        typeof v === 'object' &&\n        !Array.isArray(v) &&\n        typeof v[Symbol.asyncIterator] === 'function'\n      ) {\n        v = runtime.wrapAsyncIterable(context, v);\n        for await (let c of v) {\n          buffer.push(c);\n          yield c;\n        }\n        return;\n      }\n    \n      buffer.push(v);\n      yield v;\n    }\n    `.split('\\n').map(s => s.trim()).filter(s => !!s).join('\\n'));\n    this._emitPushBuffer(); // because we told _emitFuncBegin not to\n    this._emitLine('var parentTemplate = null;');\n    this._compileChildren(node, frame);\n    this._emitLine('if(parentTemplate) {');\n    this._emitLine(`yield* yy(${this.buffer}, await parentTemplate.rootRenderFunc(env, context, frame, runtime));`);\n    this._emitLine('}');\n    this._emitFuncEnd(true);\n    this.inBlock = true;\n    const blockNames = [];\n    const blocks = node.findAll(Block);\n    blocks.forEach((block, i) => {\n      const name = block.name.value;\n      if (blockNames.indexOf(name) !== -1) {\n        throw new Error(`Block \"${name}\" defined more than once.`);\n      }\n      blockNames.push(name);\n      this._emitFuncBegin(block, `b_${name}`);\n      const tmpFrame = new Frame$1();\n      this._emitLine('var frame = frame.push(true);');\n      this.compile(block.body, tmpFrame);\n      this._emitFuncEnd();\n    });\n    this._emitLine('return {');\n    blocks.forEach((block, i) => {\n      const blockName = `b_${block.name.value}`;\n      this._emitLine(`${blockName}: ${blockName},`);\n    });\n    this._emitLine('root: root\\n};');\n  }\n  compile(node, frame) {\n    var _compile = this['compile' + node.typename];\n    if (_compile) {\n      _compile.call(this, node, frame);\n    } else {\n      this.fail(`compile: Cannot compile node: ${node.typename}`, node.lineno, node.colno);\n    }\n  }\n  getCode() {\n    return this.codebuf.join('');\n  }\n}\nfunction compile(src, asyncFilters, extensions, name, opts = {}) {\n  const c = new Compiler(name, opts.throwOnUndefined);\n\n  // Run the extension preprocessors against the source.\n  const preprocessors = (extensions || []).map(ext => ext.preprocess).filter(f => !!f);\n  const processedSrc = preprocessors.reduce((s, processor) => processor(s), src);\n  c.compile(transform(parse(processedSrc, extensions, opts), asyncFilters));\n  return c.getCode();\n}\n\nfunction normalize(value, defaultValue) {\n  if (value === null || value === undefined || value === false) {\n    return defaultValue;\n  }\n  return value;\n}\nconst abs = Math.abs;\nfunction isNaN(num) {\n  return num !== num; // eslint-disable-line no-self-compare\n}\n\nfunction batch(arr, linecount, fillWith) {\n  var i;\n  var res = [];\n  var tmp = [];\n  for (i = 0; i < arr.length; i++) {\n    if (i % linecount === 0 && tmp.length) {\n      res.push(tmp);\n      tmp = [];\n    }\n    tmp.push(arr[i]);\n  }\n  if (tmp.length) {\n    if (fillWith) {\n      for (i = tmp.length; i < linecount; i++) {\n        tmp.push(fillWith);\n      }\n    }\n    res.push(tmp);\n  }\n  return res;\n}\nfunction capitalize(str) {\n  str = normalize(str, '');\n  const ret = str.toLowerCase();\n  return copySafeness(str, ret.charAt(0).toUpperCase() + ret.slice(1));\n}\nfunction center(str, width) {\n  str = normalize(str, '');\n  width = width || 80;\n  if (str.length >= width) {\n    return str;\n  }\n  const spaces = width - str.length;\n  const pre = repeat(' ', spaces / 2 - spaces % 2);\n  const post = repeat(' ', spaces / 2);\n  return copySafeness(str, pre + str + post);\n}\nfunction default_(val, def, bool) {\n  if (bool) {\n    return val || def;\n  } else {\n    return val !== undefined ? val : def;\n  }\n}\n// exports['default'] = default_; // eslint-disable-line dot-notation\n\nfunction dictsort(val, caseSensitive, by) {\n  if (!isObject(val)) {\n    throw new TemplateError('dictsort filter: val must be an object');\n  }\n  let array = [];\n  // deliberately include properties from the object's prototype\n  for (let k in val) {\n    // eslint-disable-line guard-for-in, no-restricted-syntax\n    array.push([k, val[k]]);\n  }\n  let si;\n  if (by === undefined || by === 'key') {\n    si = 0;\n  } else if (by === 'value') {\n    si = 1;\n  } else {\n    throw new TemplateError('dictsort filter: You can only sort by either key or value');\n  }\n  array.sort((t1, t2) => {\n    var a = t1[si];\n    var b = t2[si];\n    if (!caseSensitive) {\n      if (isString(a)) {\n        a = a.toUpperCase();\n      }\n      if (isString(b)) {\n        b = b.toUpperCase();\n      }\n    }\n    return a > b ? 1 : a === b ? 0 : -1; // eslint-disable-line no-nested-ternary\n  });\n\n  return array;\n}\nfunction dump(obj, spaces) {\n  return JSON.stringify(obj, null, spaces);\n}\nfunction escape(str) {\n  if (str instanceof SafeString) {\n    return str;\n  }\n  str = str === null || str === undefined ? '' : str;\n  return markSafe(escape$1(str.toString()));\n}\nfunction safe(str) {\n  if (str instanceof SafeString) {\n    return str;\n  }\n  str = str === null || str === undefined ? '' : str;\n  return markSafe(str.toString());\n}\nfunction first(arr) {\n  return arr[0];\n}\nfunction forceescape(str) {\n  str = str === null || str === undefined ? '' : str;\n  return markSafe(escape$1(str.toString()));\n}\nfunction groupby(arr, attr) {\n  return groupBy(arr, attr, this.env.opts.throwOnUndefined);\n}\nfunction indent(str, width, indentfirst) {\n  str = normalize(str, '');\n  if (str === '') {\n    return '';\n  }\n  width = width || 4;\n  // let res = '';\n  const lines = str.split('\\n');\n  const sp = repeat(' ', width);\n  const res = lines.map((l, i) => {\n    return i === 0 && !indentfirst ? l : `${sp}${l}`;\n  }).join('\\n');\n  return copySafeness(str, res);\n}\nfunction join(arr, del, attr) {\n  del = del || '';\n  if (attr) {\n    arr = map(arr, v => v[attr]);\n  }\n  return arr.join(del);\n}\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\nfunction lengthFilter(val) {\n  var value = normalize(val, '');\n  if (value !== undefined) {\n    if (typeof Map === 'function' && value instanceof Map || typeof Set === 'function' && value instanceof Set) {\n      // ECMAScript 2015 Maps and Sets\n      return value.size;\n    }\n    if (isObject(value) && !(value instanceof SafeString)) {\n      // Objects (besides SafeStrings), non-primative Arrays\n      return keys_(value).length;\n    }\n    return value.length;\n  }\n  return 0;\n}\nfunction list(val) {\n  if (isString(val)) {\n    return val.split('');\n  } else if (isObject(val)) {\n    return _entries(val || {}).map(([key, value]) => ({\n      key,\n      value\n    }));\n  } else if (isArray$1(val)) {\n    return val;\n  } else {\n    throw new TemplateError('list filter: type not iterable');\n  }\n}\nfunction lower$1(str) {\n  str = normalize(str, '');\n  return str.toLowerCase();\n}\nfunction nl2br(str) {\n  if (str === null || str === undefined) {\n    return '';\n  }\n  return copySafeness(str, str.replace(/\\r\\n|\\n/g, '<br />\\n'));\n}\nfunction random(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\n/**\n * Construct select or reject filter\n *\n * @param {boolean} expectedTestResult\n * @returns {function(array, string, *): array}\n */\nfunction getSelectOrReject(expectedTestResult) {\n  function filter(arr, testName = 'truthy', secondArg) {\n    const context = this;\n    const test = context.env.getTest(testName);\n    return toArray(arr).filter(function examineTestResult(item) {\n      return test.call(context, item, secondArg) === expectedTestResult;\n    });\n  }\n  return filter;\n}\nlet reject = getSelectOrReject(false);\nfunction rejectattr(arr, attr) {\n  return arr.filter(item => !item[attr]);\n}\nlet select = getSelectOrReject(true);\nfunction selectattr(arr, attr) {\n  return arr.filter(item => !!item[attr]);\n}\nfunction replace(str, old, new_, maxCount) {\n  var originalStr = str;\n  if (old instanceof RegExp) {\n    return str.replace(old, new_);\n  }\n  if (typeof maxCount === 'undefined') {\n    maxCount = -1;\n  }\n  let res = ''; // Output\n\n  // Cast Numbers in the search term to string\n  if (typeof old === 'number') {\n    old = '' + old;\n  } else if (typeof old !== 'string') {\n    // If it is something other than number or string,\n    // return the original string\n    return str;\n  }\n\n  // Cast numbers in the replacement to string\n  if (typeof str === 'number') {\n    str = '' + str;\n  }\n\n  // If by now, we don't have a string, throw it back\n  if (typeof str !== 'string' && !(str instanceof SafeString)) {\n    return str;\n  }\n\n  // ShortCircuits\n  if (old === '') {\n    // Mimic the python behaviour: empty string is replaced\n    // by replacement e.g. \"abc\"|replace(\"\", \".\") -> .a.b.c.\n    res = new_ + str.split('').join(new_) + new_;\n    return copySafeness(str, res);\n  }\n  let nextIndex = str.indexOf(old);\n  // if # of replacements to perform is 0, or the string to does\n  // not contain the old value, return the string\n  if (maxCount === 0 || nextIndex === -1) {\n    return str;\n  }\n  let pos = 0;\n  let count = 0; // # of replacements made\n\n  while (nextIndex > -1 && (maxCount === -1 || count < maxCount)) {\n    // Grab the next chunk of src string and add it with the\n    // replacement, to the result\n    res += str.substring(pos, nextIndex) + new_;\n    // Increment our pointer in the src string\n    pos = nextIndex + old.length;\n    count++;\n    // See if there are any more replacements to be made\n    nextIndex = str.indexOf(old, pos);\n  }\n\n  // We've either reached the end, or done the max # of\n  // replacements, tack on any remaining string\n  if (pos < str.length) {\n    res += str.substring(pos);\n  }\n  return copySafeness(originalStr, res);\n}\nfunction reverse(val) {\n  var arr;\n  if (isString(val)) {\n    arr = list(val);\n  } else {\n    // Copy it\n    arr = map(val, v => v);\n  }\n  arr.reverse();\n  if (isString(val)) {\n    return copySafeness(val, arr.join(''));\n  }\n  return arr;\n}\nfunction round(val, precision, method) {\n  precision = precision || 0;\n  const factor = Math.pow(10, precision);\n  let rounder;\n  if (method === 'ceil') {\n    rounder = Math.ceil;\n  } else if (method === 'floor') {\n    rounder = Math.floor;\n  } else {\n    rounder = Math.round;\n  }\n  return rounder(val * factor) / factor;\n}\nfunction slice(arr, slices, fillWith) {\n  const sliceLength = Math.floor(arr.length / slices);\n  const extra = arr.length % slices;\n  const res = [];\n  let offset = 0;\n  for (let i = 0; i < slices; i++) {\n    const start = offset + i * sliceLength;\n    if (i < extra) {\n      offset++;\n    }\n    const end = offset + (i + 1) * sliceLength;\n    const currSlice = arr.slice(start, end);\n    if (fillWith && i >= extra) {\n      currSlice.push(fillWith);\n    }\n    res.push(currSlice);\n  }\n  return res;\n}\nfunction sum(arr, attr, start = 0) {\n  if (attr) {\n    arr = map(arr, v => v[attr]);\n  }\n  return start + arr.reduce((a, b) => a + b, 0);\n}\nlet sort = makeMacro(['value', 'reverse', 'case_sensitive', 'attribute'], [], function sortFilter(arr, reversed, caseSens, attr) {\n  // Copy it\n  let array = map(arr, v => v);\n  let getAttribute = getAttrGetter(attr);\n  array.sort((a, b) => {\n    let x = attr ? getAttribute(a) : a;\n    let y = attr ? getAttribute(b) : b;\n    if (this.env.opts.throwOnUndefined && attr && (x === undefined || y === undefined)) {\n      throw new TypeError(`sort: attribute \"${attr}\" resolved to undefined`);\n    }\n    if (!caseSens && isString(x) && isString(y)) {\n      x = x.toLowerCase();\n      y = y.toLowerCase();\n    }\n    if (x < y) {\n      return reversed ? 1 : -1;\n    } else if (x > y) {\n      return reversed ? -1 : 1;\n    } else {\n      return 0;\n    }\n  });\n  return array;\n});\nfunction string$1(obj) {\n  return copySafeness(obj, obj);\n}\nfunction striptags(input, preserveLinebreaks) {\n  input = normalize(input, '');\n  let tags = /<\\/?([a-z][a-z0-9]*)\\b[^>]*>|<!--[\\s\\S]*?-->/gi;\n  let trimmedInput = trim(input.replace(tags, ''));\n  let res = '';\n  if (preserveLinebreaks) {\n    res = trimmedInput.replace(/^ +| +$/gm, '') // remove leading and trailing spaces\n    .replace(/ +/g, ' ') // squash adjacent spaces\n    .replace(/(\\r\\n)/g, '\\n') // normalize linebreaks (CRLF -> LF)\n    .replace(/\\n\\n\\n+/g, '\\n\\n'); // squash abnormal adjacent linebreaks\n  } else {\n    res = trimmedInput.replace(/\\s+/gi, ' ');\n  }\n  return copySafeness(input, res);\n}\nfunction title(str) {\n  str = normalize(str, '');\n  let words = str.split(' ').map(word => capitalize(word));\n  return copySafeness(str, words.join(' '));\n}\nfunction trim(str) {\n  return copySafeness(str, str.replace(/^\\s*|\\s*$/g, ''));\n}\nfunction truncate(input, length, killwords, end) {\n  var orig = input;\n  input = normalize(input, '');\n  length = length || 255;\n  if (input.length <= length) {\n    return input;\n  }\n  if (killwords) {\n    input = input.substring(0, length);\n  } else {\n    let idx = input.lastIndexOf(' ', length);\n    if (idx === -1) {\n      idx = length;\n    }\n    input = input.substring(0, idx);\n  }\n  input += end !== undefined && end !== null ? end : '...';\n  return copySafeness(orig, input);\n}\nfunction upper$1(str) {\n  str = normalize(str, '');\n  return str.toUpperCase();\n}\nfunction urlencode(obj) {\n  var enc = encodeURIComponent;\n  if (isString(obj)) {\n    return enc(obj);\n  } else {\n    let keyvals = isArray$1(obj) ? obj : _entries(obj);\n    return keyvals.map(([k, v]) => `${enc(k)}=${enc(v)}`).join('&');\n  }\n}\n\n// For the jinja regexp, see\n// https://github.com/mitsuhiko/jinja2/blob/f15b814dcba6aa12bc74d1f7d0c881d55f7126be/jinja2/utils.py#L20-L23\nconst puncRe = /^(?:\\(|<|&lt;)?(.*?)(?:\\.|,|\\)|\\n|&gt;)?$/;\n// from http://blog.gerv.net/2011/05/html5_email_address_regexp/\nconst emailRe = /^[\\w.!#$%&'*+\\-\\/=?\\^`{|}~]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)+$/i;\nconst httpHttpsRe = /^https?:\\/\\/.*$/;\nconst wwwRe = /^www\\./;\nconst tldRe = /\\.(?:org|net|com)(?:\\:|\\/|$)/;\nfunction urlize(str, length, nofollow) {\n  if (isNaN(length)) {\n    length = Infinity;\n  }\n  const noFollowAttr = nofollow === true ? ' rel=\"nofollow\"' : '';\n  const words = str.split(/(\\s+)/).filter(word => {\n    // If the word has no length, bail. This can happen for str with\n    // trailing whitespace.\n    return word && word.length;\n  }).map(word => {\n    var matches = word.match(puncRe);\n    var possibleUrl = matches ? matches[1] : word;\n    var shortUrl = possibleUrl.substr(0, length);\n\n    // url that starts with http or https\n    if (httpHttpsRe.test(possibleUrl)) {\n      return `<a href=\"${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // url that starts with www.\n    if (wwwRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n\n    // an email address of the form username@domain.tld\n    if (emailRe.test(possibleUrl)) {\n      return `<a href=\"mailto:${possibleUrl}\">${possibleUrl}</a>`;\n    }\n\n    // url that ends in .com, .org or .net that is not an email address\n    if (tldRe.test(possibleUrl)) {\n      return `<a href=\"http://${possibleUrl}\"${noFollowAttr}>${shortUrl}</a>`;\n    }\n    return word;\n  });\n  return words.join('');\n}\nfunction wordcount(str) {\n  str = normalize(str, '');\n  const words = str ? str.match(/\\w+/g) : null;\n  return words ? words.length : null;\n}\nfunction float(val, def) {\n  var res = parseFloat(val);\n  return isNaN(res) ? def : res;\n}\nconst intFilter = makeMacro(['value', 'default', 'base'], [], function doInt(value, defaultValue, base = 10) {\n  var res = parseInt(value, base);\n  return isNaN(res) ? defaultValue : res;\n});\n\nvar filters = {\n  __proto__: null,\n  abs: abs,\n  batch: batch,\n  capitalize: capitalize,\n  center: center,\n  'default': default_,\n  dictsort: dictsort,\n  dump: dump,\n  escape: escape,\n  safe: safe,\n  first: first,\n  forceescape: forceescape,\n  groupby: groupby,\n  indent: indent,\n  join: join,\n  last: last,\n  length: lengthFilter,\n  list: list,\n  lower: lower$1,\n  nl2br: nl2br,\n  random: random,\n  reject: reject,\n  rejectattr: rejectattr,\n  select: select,\n  selectattr: selectattr,\n  replace: replace,\n  reverse: reverse,\n  round: round,\n  slice: slice,\n  sum: sum,\n  sort: sort,\n  string: string$1,\n  striptags: striptags,\n  title: title,\n  trim: trim,\n  truncate: truncate,\n  upper: upper$1,\n  urlencode: urlencode,\n  urlize: urlize,\n  wordcount: wordcount,\n  float: float,\n  int: intFilter,\n  d: default_,\n  e: escape\n};\n\nfunction cycler(items) {\n  var index = -1;\n  return {\n    current: null,\n    reset() {\n      index = -1;\n      this.current = null;\n    },\n    next() {\n      index++;\n      if (index >= items.length) {\n        index = 0;\n      }\n      this.current = items[index];\n      return this.current;\n    }\n  };\n}\nfunction joiner(sep) {\n  sep = sep || ',';\n  let first = true;\n  return () => {\n    const val = first ? '' : sep;\n    first = false;\n    return val;\n  };\n}\n\n// Making this a function instead so it returns a new object\n// each time it's called. That way, if something like an environment\n// uses it, they will each have their own copy.\nfunction globals() {\n  return {\n    range(start, stop, step) {\n      if (typeof stop === 'undefined') {\n        stop = start;\n        start = 0;\n        step = 1;\n      } else if (!step) {\n        step = 1;\n      }\n      const arr = [];\n      if (step > 0) {\n        for (let i = start; i < stop; i += step) {\n          arr.push(i);\n        }\n      } else {\n        for (let i = start; i > stop; i += step) {\n          // eslint-disable-line for-direction\n          arr.push(i);\n        }\n      }\n      return arr;\n    },\n    cycler() {\n      return cycler(Array.prototype.slice.call(arguments));\n    },\n    joiner(sep) {\n      return joiner(sep);\n    }\n  };\n}\n\n/**\n * Returns `true` if the object is a function, otherwise `false`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction callable(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Returns `true` if the object is strictly not `undefined`.\n * @param { any } value\n * @returns { boolean }\n */\nfunction defined(value) {\n  return value !== undefined;\n}\n\n/**\n * Returns `true` if the operand (one) is divisble by the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction divisibleby(one, two) {\n  return one % two === 0;\n}\n\n/**\n * Returns true if the string has been escaped (i.e., is a SafeString).\n * @param { any } value\n * @returns { boolean }\n */\nfunction escaped(value) {\n  return value instanceof SafeString;\n}\n\n/**\n * Returns `true` if the arguments are strictly equal.\n * @param { any } one\n * @param { any } two\n */\nfunction equalto(one, two) {\n  return one === two;\n}\n\n/**\n * Returns `true` if the value is evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction even(value) {\n  return value % 2 === 0;\n}\n\n/**\n * Returns `true` if the value is falsy - if I recall correctly, '', 0, false,\n * undefined, NaN or null. I don't know if we should stick to the default JS\n * behavior or attempt to replicate what Python believes should be falsy (i.e.,\n * empty arrays, empty dicts, not 0...).\n * @param { any } value\n * @returns { boolean }\n */\nfunction falsy(value) {\n  return !value;\n}\n\n/**\n * Returns `true` if the operand (one) is greater or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ge(one, two) {\n  return one >= two;\n}\n\n/**\n * Returns `true` if the operand (one) is greater than the test's argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction greaterthan(one, two) {\n  return one > two;\n}\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction le(one, two) {\n  return one <= two;\n}\n\n/**\n * Returns `true` if the operand (one) is less than the test's passed argument\n * (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction lessthan(one, two) {\n  return one < two;\n}\n\n/**\n * Returns `true` if the string is lowercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction lower(value) {\n  return value.toLowerCase() === value;\n}\n\n/**\n * Returns `true` if the operand (one) is less than or equal to the test's\n * argument (two).\n * @param { number } one\n * @param { number } two\n * @returns { boolean }\n */\nfunction ne(one, two) {\n  return one !== two;\n}\n\n/**\n * Returns true if the value is strictly equal to `null`.\n * @param { any }\n * @returns { boolean }\n */\nfunction nullTest(value) {\n  return value === null;\n}\n\n/**\n * Returns true if value is a number.\n * @param { any }\n * @returns { boolean }\n */\nfunction number(value) {\n  return typeof value === 'number';\n}\n\n/**\n * Returns `true` if the value is *not* evenly divisible by 2.\n * @param { number } value\n * @returns { boolean }\n */\nfunction odd(value) {\n  return value % 2 === 1;\n}\n\n/**\n * Returns `true` if the value is a string, `false` if not.\n * @param { any } value\n * @returns { boolean }\n */\nfunction string(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Returns `true` if the value is not in the list of things considered falsy:\n * '', null, undefined, 0, NaN and false.\n * @param { any } value\n * @returns { boolean }\n */\nfunction truthy(value) {\n  return !!value;\n}\n\n/**\n * Returns `true` if the value is undefined.\n * @param { any } value\n * @returns { boolean }\n */\nfunction undefinedTest(value) {\n  return value === undefined;\n}\n\n/**\n * Returns `true` if the string is uppercased.\n * @param { string } value\n * @returns { boolean }\n */\nfunction upper(value) {\n  return value.toUpperCase() === value;\n}\n\n/**\n * If ES6 features are available, returns `true` if the value implements the\n * `Symbol.iterator` method. If not, it's a string or Array.\n *\n * Could potentially cause issues if a browser exists that has Set and Map but\n * not Symbol.\n *\n * @param { any } value\n * @returns { boolean }\n */\nfunction iterable(value) {\n  if (typeof Symbol !== 'undefined') {\n    return !!value[Symbol.iterator];\n  } else {\n    return Array.isArray(value) || typeof value === 'string';\n  }\n}\n\n/**\n * If ES6 features are available, returns `true` if the value is an object hash\n * or an ES6 Map. Otherwise just return if it's an object hash.\n * @param { any } value\n * @returns { boolean }\n */\nfunction mapping(value) {\n  // only maps and object hashes\n  var bool = value !== null && value !== undefined && typeof value === 'object' && !Array.isArray(value);\n  if (Set) {\n    return bool && !(value instanceof Set);\n  } else {\n    return bool;\n  }\n}\n\nvar tests = {\n  __proto__: null,\n  callable: callable,\n  defined: defined,\n  divisibleby: divisibleby,\n  escaped: escaped,\n  equalto: equalto,\n  eq: equalto,\n  sameas: equalto,\n  even: even,\n  falsy: falsy,\n  ge: ge,\n  greaterthan: greaterthan,\n  gt: greaterthan,\n  le: le,\n  lessthan: lessthan,\n  lt: lessthan,\n  lower: lower,\n  ne: ne,\n  nullTest: nullTest,\n  number: number,\n  odd: odd,\n  string: string,\n  truthy: truthy,\n  undefinedTest: undefinedTest,\n  upper: upper,\n  iterable: iterable,\n  mapping: mapping\n};\n\nconst {\n  handleError,\n  Frame\n} = globalRuntime;\n\n/**\n * A no-op template, for use with {% include ignore missing %}\n */\nconst noopTmplSrc = {\n  type: 'code',\n  obj: {\n    root(env, context, frame, runtime, cb) {\n      try {\n        cb(null, '');\n      } catch (e) {\n        cb(handleError(e, null, null));\n      }\n    }\n  }\n};\nclass Environment extends EmitterObj {\n  init(loaders, opts) {\n    // The dev flag determines the trace that'll be shown on errors.\n    // If set to true, returns the full trace from the error point,\n    // otherwise will return trace starting from Template.render\n    // (the full trace from within nunjucks may confuse developers using\n    //  the library)\n    // defaults to false\n    opts = this.opts = opts || {};\n    this.opts.dev = !!opts.dev;\n\n    // The autoescape flag sets global autoescaping. If true,\n    // every string variable will be escaped by default.\n    // If false, strings can be manually escaped using the `escape` filter.\n    // defaults to true\n    this.opts.autoescape = opts.autoescape != null ? opts.autoescape : true;\n\n    // If true, this will make the system throw errors if trying\n    // to output a null or undefined value\n    this.opts.throwOnUndefined = !!opts.throwOnUndefined;\n    this.opts.trimBlocks = !!opts.trimBlocks;\n    this.opts.lstripBlocks = !!opts.lstripBlocks;\n    this.loaders = [];\n    if (loaders) {\n      this.loaders = isArray$1(loaders) ? loaders : [loaders];\n    }\n    this._initLoaders();\n    this.globals = globals();\n    this.filters = {};\n    this.tests = {};\n    this.asyncFilters = [];\n    this.extensions = {};\n    this.extensionsList = [];\n    _entries(filters).forEach(([name, filter]) => this.addFilter(name, filter));\n    _entries(tests).forEach(([name, test]) => this.addTest(name, test));\n  }\n  _initLoaders() {\n    this.loaders.forEach(loader => {\n      // Caching and cache busting\n      loader.cache = {};\n      if (typeof loader.on === 'function') {\n        loader.on('update', (name, fullname) => {\n          loader.cache[name] = null;\n          this.emit('update', name, fullname, loader);\n        });\n        loader.on('load', (name, source) => {\n          this.emit('load', name, source, loader);\n        });\n      }\n    });\n  }\n  invalidateCache() {\n    this.loaders.forEach(loader => {\n      loader.cache = {};\n    });\n  }\n  addExtension(name, extension) {\n    extension.__name = name;\n    this.extensions[name] = extension;\n    this.extensionsList.push(extension);\n    return this;\n  }\n  removeExtension(name) {\n    var extension = this.getExtension(name);\n    if (!extension) {\n      return;\n    }\n    this.extensionsList = without(this.extensionsList, extension);\n    delete this.extensions[name];\n  }\n  getExtension(name) {\n    return this.extensions[name];\n  }\n  hasExtension(name) {\n    return !!this.extensions[name];\n  }\n  addGlobal(name, value) {\n    this.globals[name] = value;\n    return this;\n  }\n  getGlobal(name) {\n    if (typeof this.globals[name] === 'undefined') {\n      throw new Error('global not found: ' + name);\n    }\n    return this.globals[name];\n  }\n  addFilter(name, func, async) {\n    var wrapped = func;\n    if (async) {\n      this.asyncFilters.push(name);\n    }\n    this.filters[name] = wrapped;\n    return this;\n  }\n  getFilter(name) {\n    if (!this.filters[name]) {\n      throw new Error('filter not found: ' + name);\n    }\n    return this.filters[name];\n  }\n  addTest(name, func) {\n    this.tests[name] = func;\n    return this;\n  }\n  getTest(name) {\n    if (!this.tests[name]) {\n      throw new Error('test not found: ' + name);\n    }\n    return this.tests[name];\n  }\n  resolveTemplate(loader, parentName, filename) {\n    var isRelative = loader.isRelative && parentName ? loader.isRelative(filename) : false;\n    return isRelative && loader.resolve ? loader.resolve(parentName, filename) : filename;\n  }\n  getTemplate(name, eagerCompile, parentName, ignoreMissing, cb) {\n    var that = this;\n    var tmpl = null;\n    if (name && name.raw) {\n      // this fixes autoescape for templates referenced in symbols\n      name = name.raw;\n    }\n    if (isFunction(parentName)) {\n      cb = parentName;\n      parentName = null;\n      eagerCompile = eagerCompile || false;\n    }\n    if (isFunction(eagerCompile)) {\n      cb = eagerCompile;\n      eagerCompile = false;\n    }\n    if (name instanceof Template) {\n      tmpl = name;\n    } else if (typeof name !== 'string') {\n      throw new Error('template names must be a string: ' + name);\n    } else {\n      for (let i = 0; i < this.loaders.length; i++) {\n        const loader = this.loaders[i];\n        tmpl = loader.cache[this.resolveTemplate(loader, parentName, name)];\n        if (tmpl) {\n          break;\n        }\n      }\n    }\n    if (tmpl) {\n      if (eagerCompile) {\n        tmpl.compile();\n      }\n      if (cb) {\n        cb(null, tmpl);\n        return undefined;\n      } else {\n        return tmpl;\n      }\n    }\n    let syncResult;\n    const createTemplate = (err, info) => {\n      if (!info && !err && !ignoreMissing) {\n        err = new Error('template not found: ' + name);\n      }\n      if (err) {\n        if (cb) {\n          cb(err);\n          return;\n        } else {\n          throw err;\n        }\n      }\n      let newTmpl;\n      if (!info) {\n        newTmpl = new Template(noopTmplSrc, this, '', eagerCompile);\n      } else {\n        newTmpl = new Template(info.src, this, info.path, eagerCompile);\n        if (!info.noCache) {\n          info.loader.cache[name] = newTmpl;\n        }\n      }\n      if (cb) {\n        cb(null, newTmpl);\n      } else {\n        syncResult = newTmpl;\n      }\n    };\n    asyncIter(this.loaders, (loader, i, next, done) => {\n      function handle(err, src) {\n        if (err) {\n          done(err);\n        } else if (src) {\n          src.loader = loader;\n          done(null, src);\n        } else {\n          next();\n        }\n      }\n\n      // Resolve name relative to parentName\n      name = that.resolveTemplate(loader, parentName, name);\n      if (loader.async) {\n        loader.getSource(name, handle);\n      } else {\n        handle(null, loader.getSource(name));\n      }\n    }, createTemplate);\n    return syncResult;\n  }\n  async render(name, ctx, cb) {\n    if (isFunction(ctx)) {\n      ctx = null;\n    }\n    let tmpl = await new Promise((resolve, reject) => {\n      this.getTemplate(name, (err, _tmpl) => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(_tmpl);\n      });\n    });\n    return tmpl.render(ctx);\n  }\n  renderString(src, ctx, opts, cb) {\n    if (isFunction(opts)) {\n      opts = {};\n    }\n    opts = opts || {};\n    const tmpl = new Template(src, this, opts.path);\n    return tmpl.render(ctx);\n  }\n}\nclass Context extends Obj {\n  init(ctx, blocks, env) {\n    // Has to be tied to an environment so we can tap into its globals.\n    this.env = env || new Environment();\n\n    // Make a duplicate of ctx\n    this.ctx = extend({}, ctx);\n    this.blocks = {};\n    this.exported = [];\n    keys_(blocks).forEach(name => {\n      this.addBlock(name, blocks[name]);\n    });\n  }\n  lookup(name) {\n    // This is one of the most called functions, so optimize for\n    // the typical case where the name isn't in the globals\n    if (name in this.env.globals && !(name in this.ctx)) {\n      return this.env.globals[name];\n    } else {\n      return this.ctx[name];\n    }\n  }\n  setVariable(name, val) {\n    this.ctx[name] = val;\n  }\n  getVariables() {\n    return this.ctx;\n  }\n  addBlock(name, block) {\n    this.blocks[name] = this.blocks[name] || [];\n    this.blocks[name].push(block);\n    return this;\n  }\n  getBlock(name) {\n    if (!this.blocks[name]) {\n      throw new Error('unknown block \"' + name + '\"');\n    }\n    return this.blocks[name][0];\n  }\n  getSuper(env, name, block, frame, runtime, cb) {\n    var idx = indexOf(this.blocks[name] || [], block);\n    var blk = this.blocks[name][idx + 1];\n    var context = this;\n    if (idx === -1 || !blk) {\n      throw new Error('no super block available for \"' + name + '\"');\n    }\n    blk(env, context, frame, runtime, cb);\n  }\n  addExport(name) {\n    this.exported.push(name);\n  }\n  getExported() {\n    var exported = {};\n    this.exported.forEach(name => {\n      exported[name] = this.ctx[name];\n    });\n    return exported;\n  }\n}\nclass Template extends Obj {\n  init(src, env, path, eagerCompile) {\n    this.env = env || new Environment();\n    if (isObject(src)) {\n      switch (src.type) {\n        case 'code':\n          this.tmplProps = src.obj;\n          break;\n        case 'string':\n          this.tmplStr = src.obj;\n          break;\n        default:\n          throw new Error(`Unexpected template object type ${src.type}; expected 'code', or 'string'`);\n      }\n    } else if (isString(src)) {\n      this.tmplStr = src;\n    } else {\n      throw new Error('src must be a string or an object describing the source');\n    }\n    this.path = path;\n    if (eagerCompile) {\n      try {\n        this._compile();\n      } catch (err) {\n        throw _prettifyError(this.path, this.env.opts.dev, err);\n      }\n    } else {\n      this.compiled = false;\n    }\n  }\n  render(ctx, parentFrame) {\n    if (typeof ctx === 'function') {\n      ctx = {};\n    } else if (typeof parentFrame === 'function') {\n      parentFrame = null;\n    }\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      const err = _prettifyError(this.path, this.env.opts.dev, e);\n      throw err;\n    }\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    const frame = parentFrame ? parentFrame.push(true) : new Frame();\n    frame.topLevel = true;\n    try {\n      return this.rootRenderFunc(this.env, context, frame, globalRuntime);\n    } catch (err) {\n      throw _prettifyError(this.path, this.env.opts.dev, err);\n    }\n  }\n  async getExported(ctx, parentFrame, cb) {\n    // eslint-disable-line consistent-return\n    if (typeof ctx === 'function') {\n      cb = ctx;\n      ctx = {};\n    }\n    if (typeof parentFrame === 'function') {\n      cb = parentFrame;\n      parentFrame = null;\n    }\n\n    // Catch compile errors for async rendering\n    try {\n      this.compile();\n    } catch (e) {\n      if (cb) {\n        return cb(e);\n      } else {\n        throw e;\n      }\n    }\n    const frame = parentFrame ? parentFrame.push() : new Frame();\n    frame.topLevel = true;\n\n    // Run the rootRenderFunc to populate the context with exported vars\n    const context = new Context(ctx || {}, this.blocks, this.env);\n    try {\n      let gen = this.rootRenderFunc(this.env, context, frame, globalRuntime);\n      for await (let _ of gen);\n      cb(null, context.getExported());\n    } catch (err) {\n      cb(err);\n    }\n  }\n  compile() {\n    if (!this.compiled) {\n      this._compile();\n    }\n  }\n  _compile() {\n    var props;\n    if (this.tmplProps) {\n      props = this.tmplProps;\n    } else {\n      const source = compile(this.tmplStr, this.env.asyncFilters, this.env.extensionsList, this.path, this.env.opts);\n      if (this.env.opts.__PRINT_SOURCE) {\n        // eslint-disable-next-line no-console\n        console.log(source);\n      }\n      const func = new Function(source); // eslint-disable-line no-new-func\n      props = func();\n    }\n    this.blocks = this._getBlocks(props);\n    this.rootRenderFunc = props.root;\n    this.compiled = true;\n  }\n  _getBlocks(props) {\n    var blocks = {};\n    keys_(props).forEach(k => {\n      if (k.slice(0, 2) === 'b_') {\n        blocks[k.slice(2)] = props[k];\n      }\n    });\n    return blocks;\n  }\n}\n\nfunction pushNode(node) {\n  return hideFromBuffers({\n    type: 'push',\n    node\n  });\n}\nfunction popNode() {\n  return hideFromBuffers({\n    type: 'pop'\n  });\n}\nfunction hideFromBuffers(a) {\n  if (typeof a === 'object') {\n    a.toString = () => '';\n  }\n  return a;\n}\nfunction text(text) {\n  return {\n    type: 'text',\n    text\n  };\n}\nfunction isInstructionToken(obj) {\n  return typeof obj === 'object' && obj.type === 'push' || obj.type === 'pop';\n}\n\nclass CaptureFeature {\n  onSetupEnvironment(env, config) {\n    env.addExtension('CaptureExtension', new class {\n      constructor() {\n        this.tags = ['capture'];\n      }\n      parse(parser, nodes, lexer) {\n        let tagToken = parser.nextToken();\n        parser.parseSignature(null, true); // do nothing with args\n        parser.advanceAfterBlockEnd(tagToken.value);\n        // parse the rest of the body as part of the capture\n        let captureBody = parser.parse();\n        return new nodes.CallExtension(this, 'run', null, [captureBody]);\n      }\n      async *run(context, captureBody) {\n        yield pushNode({\n          type: 'capture',\n          children: []\n        });\n        yield* captureBody();\n        // intentionally don't yield a pop since from this point forward we don't ever leave the\n        // capture (capture runs til the end of the source)\n      }\n    }());\n\n    env.addExtension('MatchExtension', new class {\n      constructor() {\n        this.tags = ['match'];\n      }\n      parse(parser, nodes, lexer) {\n        let tagToken = parser.nextToken();\n        parser.parseSignature(null, true); // do nothing with args\n        parser.advanceAfterBlockEnd(tagToken.value);\n        let body = parser.parseUntilBlocks('endmatch');\n        parser.advanceAfterBlockEnd();\n        return new nodes.CallExtension(this, 'run', null, [body]);\n      }\n      async *run(context, matchBody) {\n        let buffer = [];\n        for await (let chunk of matchBody()) {\n          buffer.push(String(chunk));\n        }\n        yield pushNode({\n          type: 'match',\n          matchBody: buffer.join('')\n        });\n        yield popNode();\n        return ''; // don't emit anything\n      }\n    }());\n\n    env.addExtension('PartExtension', new class {\n      constructor() {\n        this.tags = ['part'];\n      }\n      parse(parser, nodes, lexer) {\n        let tagToken = parser.nextToken();\n        let args = parser.parseSignature(null, true);\n        parser.advanceAfterBlockEnd(tagToken.value);\n        return new nodes.CallExtension(this, 'run', args);\n      }\n      run(context, partName) {\n        return `<<${partName}>>`;\n      }\n    }());\n  }\n}\n\nclass CodeSnippetsFeature {\n  onSetupEnvironment(env, config) {\n    env.addFilter('format_snippet', formatSnippetFilter);\n  }\n}\nfunction formatSnippetFilter(snippetOrStr, ...args) {\n  let argSet = new Set(args.map(s => String(s)));\n  let snippet = snippetOrStr ? typeof snippetOrStr === 'string' ? {\n    snippet: snippetOrStr\n  } : snippetOrStr : {\n    snippet: ''\n  };\n  snippet.startLine = snippet.startLine || 1;\n  let lines = (snippet.snippet || '').split('\\n');\n  if (lines[lines.length - 1] === '') {\n    lines.pop();\n  }\n  let lineNumDigitsNeeded = String(snippet.startLine + lines.length).length;\n  const formatLine = argSet.has('line-numbers') ? (line, idx) => `${(snippet.startLine || 1) + idx}`.padEnd(lineNumDigitsNeeded, ' ') + ':' + line : line => line;\n  let text = lines.map(formatLine).join('\\n');\n  text = [`\\`\\`\\`${snippet.language || ''}`, text.replace(/`/g, '\\\\`'), '```'].filter(s => !!s).join('\\n');\n  if (argSet.has('only-line-numbers')) {\n    return lines.length === 1 ? `Line ${snippet.startLine || 1}` : `Lines ${snippet.startLine || 1} to ${(snippet.startLine || 1) + lines.length - 1}`;\n  }\n  if (snippet.heading && !argSet.has('no-heading')) {\n    text = snippet.heading + ':\\n' + text;\n  }\n  return text;\n}\n\nclass CollectionsFeature {\n  onSetupEnvironment(env, config) {\n    env.addFilter('mapattr', (arr, prop) => {\n      if (!arr) return arr;\n      if (!Array.isArray(arr)) {\n        throw new Error(`mapattr can only be used with arrays`);\n      }\n      if (typeof prop !== 'string' && typeof prop !== 'number') {\n        throw new Error(`Invalid property/indexer used with mapattr`);\n      }\n      return arr.map(o => o[prop]);\n    });\n  }\n}\n\nclass IteratorsFeature {\n  onSetupEnvironment(env, config) {\n    env.addFilter('gather', async valOrAsyncIterable => {\n      if (valOrAsyncIterable && typeof valOrAsyncIterable[Symbol.asyncIterator] === 'function') {\n        let buffer = [];\n        for await (let chunk of valOrAsyncIterable) {\n          if (!isInstructionToken(chunk)) {\n            buffer.push(String(chunk));\n          }\n        }\n        return buffer.join('');\n      }\n      return valOrAsyncIterable;\n    });\n  }\n}\n\nfunction nodeTextContent(node) {\n  if (!node) {\n    return '';\n  }\n  let s = '';\n  if (node.type === 'text') {\n    s += node.text;\n  } else if ('children' in node) {\n    s += node.children.map(c => nodeTextContent(c)).join('');\n  }\n  return s;\n}\nfunction walk(root, visit) {\n  let descend = visit(root);\n  if (descend !== undefined && !descend) return;\n  if ('children' in root) {\n    for (let child of root.children) {\n      walk(child, visit);\n    }\n  }\n}\nasync function walkAsync(root, visit) {\n  let descend = await visit(root);\n  if (descend !== undefined && !descend) return;\n  if ('children' in root) {\n    for (let child of root.children) {\n      await walkAsync(child, visit);\n    }\n  }\n}\nfunction findNodesOfType(root, type) {\n  let results = [];\n  walk(root, node => {\n    if (node.type === type) {\n      results.push(node);\n    }\n  });\n  return results;\n}\n/**\n * Transforms a simple token stream to a structured prompt stream; the actual structured prompt object doesn't change\n * in each iteration.\n */\nasync function* structuredPromptIterable(tokenIterable) {\n  let root = {\n    type: 'root',\n    children: []\n  };\n  // output dom\n  let nodeStack = [root];\n  for await (let token of tokenIterable) {\n    let currentNode = nodeStack[nodeStack.length - 1];\n    if (token.type === 'push') {\n      if (!('children' in currentNode)) {\n        throw new Error('DOM error - pushing to a leaf node');\n      }\n      let node = token.node;\n      currentNode.children.push(node);\n      nodeStack.push(node);\n    } else if (token.type === 'pop') {\n      nodeStack.length && nodeStack.pop();\n    } else if (token.type === 'text') {\n      var _currentNode$children;\n      if (!('children' in currentNode)) {\n        throw new Error('DOM error - pushing to a leaf node');\n      }\n      // push to the current structured prompt node\n      let lastChild = (_currentNode$children = currentNode.children) == null ? void 0 : _currentNode$children[currentNode.children.length - 1];\n      if ((lastChild == null ? void 0 : lastChild.type) === 'text') {\n        // flatten adjacent text chunks\n        lastChild.text += token.text;\n      } else {\n        currentNode.children.push({\n          type: 'text',\n          text: token.text\n        });\n      }\n    } else {\n      throw new Error(`Unknown chunk: ${JSON.stringify(token)}`);\n    }\n    yield root;\n  }\n}\n/**\n * Transforms a simple token stream to a text stream.\n */\nasync function* textIterable(tokenStream) {\n  for await (let token of tokenStream) {\n    if (token.type === 'text') {\n      yield token.text;\n    }\n  }\n}\n\n// - choose() - like LLM but constrains output; should take advantage of logit_bias to bias\n// generation\nclass LlmFeature {\n  onPreHydrate({\n    env,\n    config,\n    metadata,\n    signal,\n    currentBuffer,\n    onProvideAttachment\n  }) {\n    env.addGlobal('llm', async function* ({\n      stop = [],\n      maxTokens = undefined,\n      temperature = undefined,\n      ...more\n    } = {}) {\n      var _response$candidates;\n      if (!metadata.flow) {\n        throw new Error('The llm() command should only be used in flow mode');\n      }\n      if (!config.llm) {\n        throw new Error('Calling llm() but no LLM module specified in config');\n      }\n      let prefix = await toarray.toArray(textIterable(currentBuffer)).then(a => a.join(''));\n      let structuredPrompt = await last$1.last(structuredPromptIterable(currentBuffer));\n      let input = {\n        ...more,\n        prompt: prefix,\n        structuredPrompt,\n        stopSequences: Array.isArray(stop) ? stop : [stop],\n        maxTokens,\n        temperature,\n        onProvideAttachment\n      };\n      yield pushNode({\n        type: 'generic-tagged',\n        tag: 'llm',\n        richBody: prefix,\n        extras: {\n          llm: config.llm.title\n        },\n        children: []\n      });\n      if (config.llm.completeStream) {\n        for await (let chunk of config.llm.completeStream(input)) {\n          signal == null || signal.throwIfAborted();\n          yield chunk;\n        }\n        yield popNode();\n        return;\n      }\n      let response = await config.llm.complete(input);\n      yield (_response$candidates = response.candidates) == null || (_response$candidates = _response$candidates[0]) == null ? void 0 : _response$candidates.text;\n      yield popNode();\n    });\n  }\n}\n\nclass MultimodalFeature {\n  onSetupEnvironment(env, config) {\n    env.addExtension('AttachmentExtension', new class {\n      constructor() {\n        this.tags = ['attachment'];\n      }\n      parse(parser, nodes, lexer) {\n        let tagToken = parser.nextToken();\n        let args = parser.parseSignature(null, true);\n        parser.advanceAfterBlockEnd(tagToken.value);\n        return new nodes.CallExtension(this, 'run', args);\n      }\n      async *run(context, attachmentId) {\n        yield pushNode({\n          type: 'attachment',\n          attachmentId\n        });\n        yield popNode();\n      }\n    }());\n  }\n}\n\nclass RetrievalFeature {\n  onPreHydrate({\n    env,\n    config,\n    templateContext\n  }) {\n    // Debouncing behavior - each retriever (see the retrieval feature) can specify its suggested\n    // debounce time, to throttle retrieval in a live editor environment like Prompt Studio. Here,\n    // we set up a private method on the environment (hacky due to the Nunjucks architecture) that\n    // accumulates the largest debounce time across all retrievers, BUT only for this specific\n    // hydration run.\n    templateContext.__debounceMs = 0;\n    templateContext.__debounceId = Math.floor(999999 * Math.random());\n    env['__pushDebounceMs'] = ms => {\n      if (env['__pushDebounceMs'].debouncerId !== templateContext.__debounceId) return;\n      templateContext.__debounceMs = Math.max(ms, templateContext.__debounceMs);\n    };\n    env['__pushDebounceMs'].debouncerId = templateContext.__debounceId;\n    // set up simpel retrieve function on the context\n    env.addGlobal('retrieve', this.makeRetrieveFunction(env, config));\n  }\n  onPostHydrate({\n    templateContext\n  }, hydratedPrompt) {\n    hydratedPrompt.debounceMs = templateContext.__debounceMs;\n    delete templateContext.__debounceMs;\n    delete templateContext.__debounceId;\n  }\n  onSetupEnvironment(env, config) {\n    // add a filter option\n    env.addFilter('retrieve', this.makeRetrieveFunction(env, config));\n  }\n  makeRetrieveFunction(env, config) {\n    return async function (query, retrieverId, kwargs) {\n      var _config$retrievers;\n      let retriever = (_config$retrievers = config.retrievers) == null ? void 0 : _config$retrievers[retrieverId];\n      if (!retriever) {\n        throw new Error(retrieverId ? `Retriever not found: ${retrieverId}` : 'No retriever specified');\n      }\n      let response = await retriever.retrieve({\n        ...kwargs,\n        query\n      });\n      if (response.debounceMs) {\n        env['__pushDebounceMs'](response.debounceMs);\n      }\n      return response.results;\n    };\n  }\n}\n\nclass RolesFeature {\n  onSetupEnvironment(env, config) {\n    env.addExtension('RolesExtension', new class {\n      constructor() {\n        this.tags = ['role'];\n      }\n      parse(parser, nodes, lexer) {\n        // get the tag token\n        let tok = parser.nextToken();\n        // parse the args and move after the block end. passing true\n        // as the second arg is required if there are no parentheses\n        let args = parser.parseSignature(null, true);\n        parser.advanceAfterBlockEnd(tok.value);\n        // transform args from a Symbol to a Literal ...\n        // i.e. we'll make {% role ai %} parse as {% role 'ai' %}\n        if (args.children.length !== 1 || args.children[0].typename !== 'Symbol') {\n          throw new Error('Role requires exactly one identifier argument e.g. {% role foo %}.');\n        }\n        let role = args.children[0].value;\n        args = new nodes.NodeList(args.children[0].lineno, args.children[0].colno, [new nodes.Literal(args.children[0].lineno, args.children[0].colno, role)]);\n        // parse the body and possibly the error block, which is optional\n        let body = parser.parseUntilBlocks('endrole');\n        parser.advanceAfterBlockEnd();\n        // spit out with decorator\n        let [prefix = '', suffix = ''] = (config.roleDecorator == null ? void 0 : config.roleDecorator(role)) || [];\n        // building the prefix and suffix into the node tree (as opposed to being added post-hoc\n        // in the run function below) ensures they are included in calls to getBuffer()\n        return new nodes.NodeList(0, 0, [new nodes.Output(0, 0, [new nodes.Literal(0, 0, prefix)]), new nodes.CallExtension(this, 'run', args, [body]), new nodes.Output(0, 0, [new nodes.Literal(0, 0, suffix)])]);\n      }\n      async *run(context, role, matchBody) {\n        yield pushNode({\n          type: 'role',\n          role: role,\n          children: []\n        });\n        let buffer = [];\n        for await (let chunk of matchBody()) {\n          yield chunk;\n          buffer.push(chunk);\n        }\n        yield popNode();\n        return buffer.map(s => String(s)).join('');\n      }\n    }());\n  }\n}\n\nclass StoreFeature {\n  onPreHydrate({\n    env,\n    templateContext\n  }) {\n    templateContext.__storedVars = {\n      current: {}\n    };\n    env.addGlobal('store', async function* (varName, value) {\n      let promisedValue = await value;\n      let sanitizedValue = promisedValue;\n      if (typeof value[Symbol.asyncIterator] === 'function') {\n        let buffer = [];\n        for await (let chunk of value) {\n          yield chunk;\n          if (!isInstructionToken(chunk)) {\n            buffer.push(String(chunk));\n          }\n        }\n        sanitizedValue = buffer.join('');\n      } else {\n        yield sanitizedValue;\n      }\n      this.ctx[varName] = sanitizedValue;\n      templateContext.__storedVars.current[varName] = sanitizedValue;\n    });\n  }\n  onPostHydrate({\n    templateContext\n  }, hydratedPrompt) {\n    hydratedPrompt.storedVars = templateContext.__storedVars.current;\n    delete templateContext.__storedVars;\n  }\n}\n\nclass ToolUseFeature {\n  onPreHydrate({\n    env,\n    config\n  }) {\n    env.addGlobal('tools', Object.entries(config.tools).map(([id, {\n      description\n    }]) => ({\n      id,\n      description: description || ''\n    })));\n    env.addGlobal('tool', async function* (toolId, input) {\n      if (!config) {\n        throw new Error('Calling llm() but no LLM module specified in config');\n      }\n      let tool = config.tools[toolId.trim()];\n      if (!tool) {\n        throw new Error(`Unknown tool ${toolId}`);\n      }\n      yield pushNode({\n        type: 'generic-tagged',\n        tag: 'tool-use',\n        extras: {\n          toolId\n        },\n        richBody: input,\n        children: []\n      });\n      yield tool.run(input || '');\n      yield popNode();\n    });\n  }\n}\n\n/**\n * Returns the given [typically LLM-generated] text, with the given stop sequences applied.\n */\nfunction stop(text, stopSequences) {\n  text = text || '';\n  stopSequences = stopSequences || [];\n  let firstStop = Infinity;\n  for (let seq of stopSequences) {\n    let ind = text.indexOf(seq);\n    if (ind < 0) continue;\n    firstStop = Math.min(firstStop, ind);\n  }\n  return firstStop === Infinity ? text : text.substring(0, firstStop);\n}\n\n/**\n * Creates an instance of the templating engine with the given config\n */\nfunction makePromptEngine(config = {}) {\n  let features = [new CodeSnippetsFeature(), new RetrievalFeature(), new CollectionsFeature(), new CaptureFeature(), new RolesFeature(), new StoreFeature(), new LlmFeature(), new ToolUseFeature(), new MultimodalFeature(), new IteratorsFeature()];\n  config.retrievers = config.retrievers || {};\n  config.tools = config.tools || {};\n  let env = new Environment([], {\n    autoescape: false\n  });\n  features.forEach(feature => feature.onSetupEnvironment == null ? void 0 : feature.onSetupEnvironment(env, config));\n  return new class {\n    /**\n     * Hydrates the given template, in Nunjucks-with-YAML-frontmatter format, along with the provided\n     * parameters, and returns a hydrated prompt.\n     */\n    async hydrate(template, params, {\n      signal\n    } = {}) {\n      let {\n        nunjucksSource,\n        metadata\n      } = this._parse(template);\n      if (metadata.flow) {\n        // TODO: throw a hard error?\n        console.warn('For flow-mode prompt templates, you should call execute() instead of hydrate()');\n      }\n      return await this._hydrate(nunjucksSource, metadata, params, signal, undefined).then(r => r.result);\n    }\n    /**\n     * Hydrates and executes a prompt template with the given parameters. For flow-mode templates,\n     * hydration and execution are a single process. This is the non-streaming version.\n     */\n    async execute(template, params, options = {}) {\n      return await this.executeStream(template, params, options).then(r => r.result);\n    }\n    /**\n     * Hydrates and executes a prompt template with the given parameters. For flow-mode templates,\n     * hydration and execution are a single process. This returns a stream response (AsyncIterator).\n     * Also make sure to `result.catch()` to avoid unhandled promises-related errors.\n     */\n    async executeStream(template, params, {\n      signal,\n      onProvideAttachment\n    } = {}) {\n      let {\n        nunjucksSource,\n        metadata\n      } = this._parse(template);\n      let {\n        stream,\n        result\n      } = await this._hydrate(nunjucksSource, metadata, params, signal, onProvideAttachment);\n      if (metadata.flow) {\n        // in flow mode, execution and hydration are one thing\n        return {\n          stream,\n          result: result.then(hydratedPrompt => ({\n            hydratedPrompt: hydratedPrompt\n          }))\n        };\n      }\n      // TODO: splice in streaming LLM into the stream instead of just returning the\n      // hydration stream\n      return {\n        stream,\n        result: result.then(async hydratedPrompt => {\n          // for regular mode, call the LLM after hydrating\n          if (!config.llm) {\n            throw new Error('No LLM module specified in config');\n          }\n          // TODO: abortable LLM calls as well\n          let llmResponse = await config.llm.complete({\n            prompt: hydratedPrompt.prompt,\n            stopSequences: hydratedPrompt.stopSequences,\n            structuredPrompt: hydratedPrompt.structuredPrompt\n          });\n          return {\n            llmResponse,\n            hydratedPrompt\n          };\n        })\n      };\n    }\n    // Internal hydrater used by hydrate and execute\n    async _hydrate(nunjucksSource, metadata, params, signal, onProvideAttachment) {\n      // pick environment and feature set based on template's mode (flow or regular)\n      let templateContext = {\n        ...metadata,\n        ...params\n      };\n      let prompt = {\n        prompt: '',\n        structuredPrompt: {\n          type: 'root',\n          children: []\n        },\n        ...metadata\n      };\n      // normalize all chunks into StreamTokens and cache the generator\n      let tokenStream = asynciterable.from(env.renderString(nunjucksSource, templateContext)).pipe(map$1.map(chunk => !!chunk['type'] ? chunk : {\n        type: 'text',\n        text: String(chunk)\n      }), memoize.memoize());\n      // console.log(nunjucks.precompileString(nunjucksSource, { name: 'a', env }));\n      let tokenBuffer = [];\n      let hydrateContext = {\n        env,\n        config,\n        templateContext,\n        metadata,\n        signal,\n        currentBuffer: tokenBuffer,\n        onProvideAttachment\n      };\n      features.forEach(feature => feature.onPreHydrate == null ? void 0 : feature.onPreHydrate(hydrateContext));\n      let donePromise = (async () => {\n        for await (let token of tokenStream) {\n          signal == null || signal.throwIfAborted(); // primary aborting mechanism\n          tokenBuffer.push(token);\n        }\n      })();\n      return {\n        stream: tokenStream,\n        result: donePromise.then(async () => {\n          prompt.prompt = await toarray.toArray(textIterable(tokenBuffer)).then(a => a.join(''));\n          prompt.structuredPrompt = await last$1.last(structuredPromptIterable(tokenBuffer));\n          signal == null || signal.throwIfAborted();\n          features.forEach(feature => feature.onPostHydrate == null ? void 0 : feature.onPostHydrate(hydrateContext, prompt));\n          return prompt;\n        })\n      };\n    }\n    /**\n     * Parses LLM output for possible matches to {% match %} blocks in the hydrated prompt.\n     */\n    matchOutput(output, prompt) {\n      const partRegexp = /<<(\\w+)>>/g;\n      let matchRegexps = [];\n      let matchNodes = findNodesOfType(prompt.structuredPrompt, 'match');\n      for (let {\n        matchBody\n      } of matchNodes || []) {\n        // turn this match block into a regular expression\n        const regexpParts = [];\n        let pos = 0;\n        let partMatches = [...matchBody.matchAll(partRegexp)];\n        for (const [i, partMatch] of partMatches.entries()) {\n          // match literal text\n          regexpParts.push(escapeRegExp__default[\"default\"](matchBody.substring(pos, partMatch.index)));\n          // match part id\n          regexpParts.push(i === partMatches.length - 1 ? `(?<${partMatch[1]}>.*)` : `(?<${partMatch[1]}>.*?)`);\n          pos = partMatch.index + partMatch[0].length;\n        }\n        regexpParts.push(escapeRegExp__default[\"default\"](matchBody.substring(pos)));\n        matchRegexps.push(new RegExp(regexpParts.join(''), 'su'));\n      }\n      for (let regexp of matchRegexps) {\n        let m = output.match(regexp);\n        if (!m) continue;\n        return m.groups;\n      }\n      return null;\n    }\n    /**\n     * Extracts metadata from the given template source\n     */\n    async parse(template) {\n      return this._parse(template).metadata;\n    }\n    /**\n     * Check for syntax errors in the given nunjucks code\n     */\n    async parseAndCheckForSyntaxErrors(template) {\n      let {\n        metadata,\n        nunjucksSource\n      } = this._parse(template);\n      let error = undefined;\n      try {\n        new Template(nunjucksSource, env, '', true);\n      } catch (e) {\n        error = e;\n      }\n      return {\n        metadata,\n        error\n      };\n    }\n    /**\n     * Separates the given template source into parsed YAML frontmatter metadata\n     * (with lightweight post-processing) and the Nunjucks sources.\n     */\n    _parse(template) {\n      let metadata = {\n        frontmatterLength: 0\n      };\n      let {\n        content: nunjucksSource,\n        data\n      } = matter__default[\"default\"](template);\n      metadata.frontmatter = data;\n      metadata.frontmatterLength = template.length - nunjucksSource.length;\n      if (Array.isArray(data == null ? void 0 : data.stop_sequences)) {\n        metadata.stopSequences = data.stop_sequences.map(v => String(v));\n      }\n      if (!!(data != null && data.flow)) {\n        metadata.flow = true;\n      }\n      return {\n        nunjucksSource,\n        metadata\n      };\n    }\n  }();\n}\n\nexports.findNodesOfType = findNodesOfType;\nexports.isInstructionToken = isInstructionToken;\nexports.makePromptEngine = makePromptEngine;\nexports.nodeTextContent = nodeTextContent;\nexports.popNode = popNode;\nexports.pushNode = pushNode;\nexports.stop = stop;\nexports.structuredPromptIterable = structuredPromptIterable;\nexports.text = text;\nexports.textIterable = textIterable;\nexports.walk = walk;\nexports.walkAsync = walkAsync;\n//# sourceMappingURL=prompt-engine.cjs.map\n","var fetch = require('node-fetch');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar fetch__default = /*#__PURE__*/_interopDefaultLegacy(fetch);\n\n/**\n * Simple least-recently-used cache. Uses === for key comparison.\n */\nclass SimpleLruCache {\n  constructor(size) {\n    this.cache = new Map();\n    this.lruKeys = [];\n    this.size = 10;\n    this.size = size;\n  }\n  has(key) {\n    return this.cache.has(key);\n  }\n  get(key) {\n    return this.cache.get(key);\n  }\n  set(key, value) {\n    this.cache.set(key, value);\n    this.lruKeys = [...this.lruKeys.filter(k => k !== key), key];\n    if (this.lruKeys.length > this.size) {\n      let key = this.lruKeys.shift();\n      this.cache.delete(key);\n    }\n  }\n}\n\nconst TIMEOUT_MS = 5000;\nconst DEBOUNCE_MS = 1000;\nconst EMPTY_RESPONSE = {\n  results: []\n};\n/**\n * A retriever for the Semantic Retrieval API:\n * https://ai.google.dev/docs/semantic_retriever#query_the_corpus\n */\nfunction retrieverIdxRaDocs ({\n  apiKey,\n  corpusId\n}) {\n  const responseCache = new SimpleLruCache(5);\n  return {\n    async retrieve({\n      query,\n      maxDocs = 4\n    }) {\n      try {\n        let cacheKey = JSON.stringify({\n          query,\n          maxDocs\n        });\n        if (responseCache.has(cacheKey)) {\n          return {\n            ...responseCache.get(cacheKey),\n            debounceMs: 0\n          };\n        }\n        let {\n          relevantChunks,\n          error\n        } = await fetch__default[\"default\"](`https://generativelanguage.googleapis.com/v1beta/corpora/${corpusId}:query`, {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json',\n            'X-Goog-Api-Key': apiKey != null ? apiKey : ''\n          },\n          body: JSON.stringify({\n            query,\n            resultsCount: maxDocs,\n            metadataFilters: []\n          }),\n          signal: AbortSignal.timeout(TIMEOUT_MS)\n        }).then(t => t.json());\n        if (error) {\n          return EMPTY_RESPONSE;\n        }\n        let response = {\n          results: relevantChunks.map(({\n            chunkRelevanceScore,\n            chunk\n          }) => {\n            var _chunk$data;\n            return {\n              snippet: chunk == null || (_chunk$data = chunk.data) == null ? void 0 : _chunk$data.stringValue,\n              sourceFile: 'IDX Documentation',\n              score: chunkRelevanceScore\n            };\n          }).slice(0, maxDocs),\n          debounceMs: DEBOUNCE_MS\n        };\n        responseCache.set(cacheKey, response);\n        return response;\n      } catch (e) {\n        return EMPTY_RESPONSE;\n      }\n    }\n  };\n}\n\nmodule.exports = retrieverIdxRaDocs;\n//# sourceMappingURL=retriever-idx-ra-docs.cjs.map\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:http\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:https\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:zlib\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:stream\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:buffer\");","/**\n * Returns a `Buffer` instance from the given data URI `uri`.\n *\n * @param {String} uri Data URI to turn into a Buffer instance\n * @returns {Buffer} Buffer instance from Data URI\n * @api public\n */\nexport function dataUriToBuffer(uri) {\n    if (!/^data:/i.test(uri)) {\n        throw new TypeError('`uri` does not appear to be a Data URI (must begin with \"data:\")');\n    }\n    // strip newlines\n    uri = uri.replace(/\\r?\\n/g, '');\n    // split the URI up into the \"metadata\" and the \"data\" portions\n    const firstComma = uri.indexOf(',');\n    if (firstComma === -1 || firstComma <= 4) {\n        throw new TypeError('malformed data: URI');\n    }\n    // remove the \"data:\" scheme and parse the metadata\n    const meta = uri.substring(5, firstComma).split(';');\n    let charset = '';\n    let base64 = false;\n    const type = meta[0] || 'text/plain';\n    let typeFull = type;\n    for (let i = 1; i < meta.length; i++) {\n        if (meta[i] === 'base64') {\n            base64 = true;\n        }\n        else if (meta[i]) {\n            typeFull += `;${meta[i]}`;\n            if (meta[i].indexOf('charset=') === 0) {\n                charset = meta[i].substring(8);\n            }\n        }\n    }\n    // defaults to US-ASCII only if type is not provided\n    if (!meta[0] && !charset.length) {\n        typeFull += ';charset=US-ASCII';\n        charset = 'US-ASCII';\n    }\n    // get the encoded data portion and decode URI-encoded chars\n    const encoding = base64 ? 'base64' : 'ascii';\n    const data = unescape(uri.substring(firstComma + 1));\n    const buffer = Buffer.from(data, encoding);\n    // set `.type` and `.typeFull` properties to MIME type\n    buffer.type = type;\n    buffer.typeFull = typeFull;\n    // set the `.charset` property\n    buffer.charset = charset;\n    return buffer;\n}\nexport default dataUriToBuffer;\n//# sourceMappingURL=index.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:util\");","export class FetchBaseError extends Error {\n\tconstructor(message, type) {\n\t\tsuper(message);\n\t\t// Hide custom error implementation details from end-users\n\t\tError.captureStackTrace(this, this.constructor);\n\n\t\tthis.type = type;\n\t}\n\n\tget name() {\n\t\treturn this.constructor.name;\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.name;\n\t}\n}\n","\nimport {FetchBaseError} from './base.js';\n\n/**\n * @typedef {{ address?: string, code: string, dest?: string, errno: number, info?: object, message: string, path?: string, port?: number, syscall: string}} SystemError\n*/\n\n/**\n * FetchError interface for operational errors\n */\nexport class FetchError extends FetchBaseError {\n\t/**\n\t * @param  {string} message -      Error message for human\n\t * @param  {string} [type] -        Error type for machine\n\t * @param  {SystemError} [systemError] - For Node.js system error\n\t */\n\tconstructor(message, type, systemError) {\n\t\tsuper(message, type);\n\t\t// When err.type is `system`, err.erroredSysCall contains system error and err.code contains system error code\n\t\tif (systemError) {\n\t\t\t// eslint-disable-next-line no-multi-assign\n\t\t\tthis.code = this.errno = systemError.code;\n\t\t\tthis.erroredSysCall = systemError.syscall;\n\t\t}\n\t}\n}\n","/**\n * Is.js\n *\n * Object type checks.\n */\n\nconst NAME = Symbol.toStringTag;\n\n/**\n * Check if `obj` is a URLSearchParams object\n * ref: https://github.com/node-fetch/node-fetch/issues/296#issuecomment-307598143\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nexport const isURLSearchParameters = object => {\n\treturn (\n\t\ttypeof object === 'object' &&\n\t\ttypeof object.append === 'function' &&\n\t\ttypeof object.delete === 'function' &&\n\t\ttypeof object.get === 'function' &&\n\t\ttypeof object.getAll === 'function' &&\n\t\ttypeof object.has === 'function' &&\n\t\ttypeof object.set === 'function' &&\n\t\ttypeof object.sort === 'function' &&\n\t\tobject[NAME] === 'URLSearchParams'\n\t);\n};\n\n/**\n * Check if `object` is a W3C `Blob` object (which `File` inherits from)\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nexport const isBlob = object => {\n\treturn (\n\t\tobject &&\n\t\ttypeof object === 'object' &&\n\t\ttypeof object.arrayBuffer === 'function' &&\n\t\ttypeof object.type === 'string' &&\n\t\ttypeof object.stream === 'function' &&\n\t\ttypeof object.constructor === 'function' &&\n\t\t/^(Blob|File)$/.test(object[NAME])\n\t);\n};\n\n/**\n * Check if `obj` is an instance of AbortSignal.\n * @param {*} object - Object to check for\n * @return {boolean}\n */\nexport const isAbortSignal = object => {\n\treturn (\n\t\ttypeof object === 'object' && (\n\t\t\tobject[NAME] === 'AbortSignal' ||\n\t\t\tobject[NAME] === 'EventTarget'\n\t\t)\n\t);\n};\n\n/**\n * isDomainOrSubdomain reports whether sub is a subdomain (or exact match) of\n * the parent domain.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nexport const isDomainOrSubdomain = (destination, original) => {\n\tconst orig = new URL(original).hostname;\n\tconst dest = new URL(destination).hostname;\n\n\treturn orig === dest || orig.endsWith(`.${dest}`);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nexport const isSameProtocol = (destination, original) => {\n\tconst orig = new URL(original).protocol;\n\tconst dest = new URL(destination).protocol;\n\n\treturn orig === dest;\n};\n","\n/**\n * Body.js\n *\n * Body interface provides common methods for Request and Response\n */\n\nimport Stream, {PassThrough} from 'node:stream';\nimport {types, deprecate, promisify} from 'node:util';\nimport {Buffer} from 'node:buffer';\n\nimport Blob from 'fetch-blob';\nimport {FormData, formDataToBlob} from 'formdata-polyfill/esm.min.js';\n\nimport {FetchError} from './errors/fetch-error.js';\nimport {FetchBaseError} from './errors/base.js';\nimport {isBlob, isURLSearchParameters} from './utils/is.js';\n\nconst pipeline = promisify(Stream.pipeline);\nconst INTERNALS = Symbol('Body internals');\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nexport default class Body {\n\tconstructor(body, {\n\t\tsize = 0\n\t} = {}) {\n\t\tlet boundary = null;\n\n\t\tif (body === null) {\n\t\t\t// Body is undefined or null\n\t\t\tbody = null;\n\t\t} else if (isURLSearchParameters(body)) {\n\t\t\t// Body is a URLSearchParams\n\t\t\tbody = Buffer.from(body.toString());\n\t\t} else if (isBlob(body)) {\n\t\t\t// Body is blob\n\t\t} else if (Buffer.isBuffer(body)) {\n\t\t\t// Body is Buffer\n\t\t} else if (types.isAnyArrayBuffer(body)) {\n\t\t\t// Body is ArrayBuffer\n\t\t\tbody = Buffer.from(body);\n\t\t} else if (ArrayBuffer.isView(body)) {\n\t\t\t// Body is ArrayBufferView\n\t\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t\t} else if (body instanceof Stream) {\n\t\t\t// Body is stream\n\t\t} else if (body instanceof FormData) {\n\t\t\t// Body is FormData\n\t\t\tbody = formDataToBlob(body);\n\t\t\tboundary = body.type.split('=')[1];\n\t\t} else {\n\t\t\t// None of the above\n\t\t\t// coerce to string then buffer\n\t\t\tbody = Buffer.from(String(body));\n\t\t}\n\n\t\tlet stream = body;\n\n\t\tif (Buffer.isBuffer(body)) {\n\t\t\tstream = Stream.Readable.from(body);\n\t\t} else if (isBlob(body)) {\n\t\t\tstream = Stream.Readable.from(body.stream());\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\tbody,\n\t\t\tstream,\n\t\t\tboundary,\n\t\t\tdisturbed: false,\n\t\t\terror: null\n\t\t};\n\t\tthis.size = size;\n\n\t\tif (body instanceof Stream) {\n\t\t\tbody.on('error', error_ => {\n\t\t\t\tconst error = error_ instanceof FetchBaseError ?\n\t\t\t\t\terror_ :\n\t\t\t\t\tnew FetchError(`Invalid response body while trying to fetch ${this.url}: ${error_.message}`, 'system', error_);\n\t\t\t\tthis[INTERNALS].error = error;\n\t\t\t});\n\t\t}\n\t}\n\n\tget body() {\n\t\treturn this[INTERNALS].stream;\n\t}\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t}\n\n\t/**\n\t * Decode response as ArrayBuffer\n\t *\n\t * @return  Promise\n\t */\n\tasync arrayBuffer() {\n\t\tconst {buffer, byteOffset, byteLength} = await consumeBody(this);\n\t\treturn buffer.slice(byteOffset, byteOffset + byteLength);\n\t}\n\n\tasync formData() {\n\t\tconst ct = this.headers.get('content-type');\n\n\t\tif (ct.startsWith('application/x-www-form-urlencoded')) {\n\t\t\tconst formData = new FormData();\n\t\t\tconst parameters = new URLSearchParams(await this.text());\n\n\t\t\tfor (const [name, value] of parameters) {\n\t\t\t\tformData.append(name, value);\n\t\t\t}\n\n\t\t\treturn formData;\n\t\t}\n\n\t\tconst {toFormData} = await import('./utils/multipart-parser.js');\n\t\treturn toFormData(this.body, ct);\n\t}\n\n\t/**\n\t * Return raw response as Blob\n\t *\n\t * @return Promise\n\t */\n\tasync blob() {\n\t\tconst ct = (this.headers && this.headers.get('content-type')) || (this[INTERNALS].body && this[INTERNALS].body.type) || '';\n\t\tconst buf = await this.arrayBuffer();\n\n\t\treturn new Blob([buf], {\n\t\t\ttype: ct\n\t\t});\n\t}\n\n\t/**\n\t * Decode response as json\n\t *\n\t * @return  Promise\n\t */\n\tasync json() {\n\t\tconst text = await this.text();\n\t\treturn JSON.parse(text);\n\t}\n\n\t/**\n\t * Decode response as text\n\t *\n\t * @return  Promise\n\t */\n\tasync text() {\n\t\tconst buffer = await consumeBody(this);\n\t\treturn new TextDecoder().decode(buffer);\n\t}\n\n\t/**\n\t * Decode response as buffer (non-spec api)\n\t *\n\t * @return  Promise\n\t */\n\tbuffer() {\n\t\treturn consumeBody(this);\n\t}\n}\n\nBody.prototype.buffer = deprecate(Body.prototype.buffer, 'Please use \\'response.arrayBuffer()\\' instead of \\'response.buffer()\\'', 'node-fetch#buffer');\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: {enumerable: true},\n\tbodyUsed: {enumerable: true},\n\tarrayBuffer: {enumerable: true},\n\tblob: {enumerable: true},\n\tjson: {enumerable: true},\n\ttext: {enumerable: true},\n\tdata: {get: deprecate(() => {},\n\t\t'data doesn\\'t exist, use json(), text(), arrayBuffer(), or body instead',\n\t\t'https://github.com/node-fetch/node-fetch/issues/1000 (response)')}\n});\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return Promise\n */\nasync function consumeBody(data) {\n\tif (data[INTERNALS].disturbed) {\n\t\tthrow new TypeError(`body used already for: ${data.url}`);\n\t}\n\n\tdata[INTERNALS].disturbed = true;\n\n\tif (data[INTERNALS].error) {\n\t\tthrow data[INTERNALS].error;\n\t}\n\n\tconst {body} = data;\n\n\t// Body is null\n\tif (body === null) {\n\t\treturn Buffer.alloc(0);\n\t}\n\n\t/* c8 ignore next 3 */\n\tif (!(body instanceof Stream)) {\n\t\treturn Buffer.alloc(0);\n\t}\n\n\t// Body is stream\n\t// get ready to actually consume the body\n\tconst accum = [];\n\tlet accumBytes = 0;\n\n\ttry {\n\t\tfor await (const chunk of body) {\n\t\t\tif (data.size > 0 && accumBytes + chunk.length > data.size) {\n\t\t\t\tconst error = new FetchError(`content size at ${data.url} over limit: ${data.size}`, 'max-size');\n\t\t\t\tbody.destroy(error);\n\t\t\t\tthrow error;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t}\n\t} catch (error) {\n\t\tconst error_ = error instanceof FetchBaseError ? error : new FetchError(`Invalid response body while trying to fetch ${data.url}: ${error.message}`, 'system', error);\n\t\tthrow error_;\n\t}\n\n\tif (body.readableEnded === true || body._readableState.ended === true) {\n\t\ttry {\n\t\t\tif (accum.every(c => typeof c === 'string')) {\n\t\t\t\treturn Buffer.from(accum.join(''));\n\t\t\t}\n\n\t\t\treturn Buffer.concat(accum, accumBytes);\n\t\t} catch (error) {\n\t\t\tthrow new FetchError(`Could not create Buffer from response body for ${data.url}: ${error.message}`, 'system', error);\n\t\t}\n\t} else {\n\t\tthrow new FetchError(`Premature close of server response while trying to fetch ${data.url}`);\n\t}\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed   instance       Response or Request instance\n * @param   String  highWaterMark  highWaterMark for both PassThrough body streams\n * @return  Mixed\n */\nexport const clone = (instance, highWaterMark) => {\n\tlet p1;\n\tlet p2;\n\tlet {body} = instance[INTERNALS];\n\n\t// Don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// Check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif ((body instanceof Stream) && (typeof body.getBoundary !== 'function')) {\n\t\t// Tee instance body\n\t\tp1 = new PassThrough({highWaterMark});\n\t\tp2 = new PassThrough({highWaterMark});\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// Set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].stream = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n};\n\nconst getNonSpecFormDataBoundary = deprecate(\n\tbody => body.getBoundary(),\n\t'form-data doesn\\'t follow the spec and requires special treatment. Use alternative package',\n\t'https://github.com/node-fetch/node-fetch/issues/1167'\n);\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param {any} body Any options.body input\n * @returns {string | null}\n */\nexport const extractContentType = (body, request) => {\n\t// Body is null or undefined\n\tif (body === null) {\n\t\treturn null;\n\t}\n\n\t// Body is string\n\tif (typeof body === 'string') {\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n\n\t// Body is a URLSearchParams\n\tif (isURLSearchParameters(body)) {\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t}\n\n\t// Body is blob\n\tif (isBlob(body)) {\n\t\treturn body.type || null;\n\t}\n\n\t// Body is a Buffer (Buffer, ArrayBuffer or ArrayBufferView)\n\tif (Buffer.isBuffer(body) || types.isAnyArrayBuffer(body) || ArrayBuffer.isView(body)) {\n\t\treturn null;\n\t}\n\n\tif (body instanceof FormData) {\n\t\treturn `multipart/form-data; boundary=${request[INTERNALS].boundary}`;\n\t}\n\n\t// Detect form data input from form-data module\n\tif (body && typeof body.getBoundary === 'function') {\n\t\treturn `multipart/form-data;boundary=${getNonSpecFormDataBoundary(body)}`;\n\t}\n\n\t// Body is stream - can't really do much about this\n\tif (body instanceof Stream) {\n\t\treturn null;\n\t}\n\n\t// Body constructor defaults other things to string\n\treturn 'text/plain;charset=UTF-8';\n};\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param {any} obj.body Body object from the Body instance.\n * @returns {number | null}\n */\nexport const getTotalBytes = request => {\n\tconst {body} = request[INTERNALS];\n\n\t// Body is null or undefined\n\tif (body === null) {\n\t\treturn 0;\n\t}\n\n\t// Body is Blob\n\tif (isBlob(body)) {\n\t\treturn body.size;\n\t}\n\n\t// Body is Buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn body.length;\n\t}\n\n\t// Detect form data input from form-data module\n\tif (body && typeof body.getLengthSync === 'function') {\n\t\treturn body.hasKnownLength && body.hasKnownLength() ? body.getLengthSync() : null;\n\t}\n\n\t// Body is stream\n\treturn null;\n};\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param {Stream.Writable} dest The stream to write to.\n * @param obj.body Body object from the Body instance.\n * @returns {Promise<void>}\n */\nexport const writeToStream = async (dest, {body}) => {\n\tif (body === null) {\n\t\t// Body is null\n\t\tdest.end();\n\t} else {\n\t\t// Body is stream\n\t\tawait pipeline(body, dest);\n\t}\n};\n","/**\n * Headers.js\n *\n * Headers class offers convenient helpers\n */\n\nimport {types} from 'node:util';\nimport http from 'node:http';\n\n/* c8 ignore next 9 */\nconst validateHeaderName = typeof http.validateHeaderName === 'function' ?\n\thttp.validateHeaderName :\n\tname => {\n\t\tif (!/^[\\^`\\-\\w!#$%&'*+.|~]+$/.test(name)) {\n\t\t\tconst error = new TypeError(`Header name must be a valid HTTP token [${name}]`);\n\t\t\tObject.defineProperty(error, 'code', {value: 'ERR_INVALID_HTTP_TOKEN'});\n\t\t\tthrow error;\n\t\t}\n\t};\n\n/* c8 ignore next 9 */\nconst validateHeaderValue = typeof http.validateHeaderValue === 'function' ?\n\thttp.validateHeaderValue :\n\t(name, value) => {\n\t\tif (/[^\\t\\u0020-\\u007E\\u0080-\\u00FF]/.test(value)) {\n\t\t\tconst error = new TypeError(`Invalid character in header content [\"${name}\"]`);\n\t\t\tObject.defineProperty(error, 'code', {value: 'ERR_INVALID_CHAR'});\n\t\t\tthrow error;\n\t\t}\n\t};\n\n/**\n * @typedef {Headers | Record<string, string> | Iterable<readonly [string, string]> | Iterable<Iterable<string>>} HeadersInit\n */\n\n/**\n * This Fetch API interface allows you to perform various actions on HTTP request and response headers.\n * These actions include retrieving, setting, adding to, and removing.\n * A Headers object has an associated header list, which is initially empty and consists of zero or more name and value pairs.\n * You can add to this using methods like append() (see Examples.)\n * In all methods of this interface, header names are matched by case-insensitive byte sequence.\n *\n */\nexport default class Headers extends URLSearchParams {\n\t/**\n\t * Headers class\n\t *\n\t * @constructor\n\t * @param {HeadersInit} [init] - Response headers\n\t */\n\tconstructor(init) {\n\t\t// Validate and normalize init object in [name, value(s)][]\n\t\t/** @type {string[][]} */\n\t\tlet result = [];\n\t\tif (init instanceof Headers) {\n\t\t\tconst raw = init.raw();\n\t\t\tfor (const [name, values] of Object.entries(raw)) {\n\t\t\t\tresult.push(...values.map(value => [name, value]));\n\t\t\t}\n\t\t} else if (init == null) { // eslint-disable-line no-eq-null, eqeqeq\n\t\t\t// No op\n\t\t} else if (typeof init === 'object' && !types.isBoxedPrimitive(init)) {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\t\tif (method == null) {\n\t\t\t\t// Record<ByteString, ByteString>\n\t\t\t\tresult.push(...Object.entries(init));\n\t\t\t} else {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// Sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tresult = [...init]\n\t\t\t\t\t.map(pair => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof pair !== 'object' || types.isBoxedPrimitive(pair)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthrow new TypeError('Each header pair must be an iterable object');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [...pair];\n\t\t\t\t\t}).map(pair => {\n\t\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn [...pair];\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Failed to construct \\'Headers\\': The provided value is not of type \\'(sequence<sequence<ByteString>> or record<ByteString, ByteString>)');\n\t\t}\n\n\t\t// Validate and lowercase\n\t\tresult =\n\t\t\tresult.length > 0 ?\n\t\t\t\tresult.map(([name, value]) => {\n\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\treturn [String(name).toLowerCase(), String(value)];\n\t\t\t\t}) :\n\t\t\t\tundefined;\n\n\t\tsuper(result);\n\n\t\t// Returning a Proxy that will lowercase key names, validate parameters and sort keys\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn new Proxy(this, {\n\t\t\tget(target, p, receiver) {\n\t\t\t\tswitch (p) {\n\t\t\t\t\tcase 'append':\n\t\t\t\t\tcase 'set':\n\t\t\t\t\t\treturn (name, value) => {\n\t\t\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\t\t\treturn URLSearchParams.prototype[p].call(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tString(name).toLowerCase(),\n\t\t\t\t\t\t\t\tString(value)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'delete':\n\t\t\t\t\tcase 'has':\n\t\t\t\t\tcase 'getAll':\n\t\t\t\t\t\treturn name => {\n\t\t\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\t\t\treturn URLSearchParams.prototype[p].call(\n\t\t\t\t\t\t\t\ttarget,\n\t\t\t\t\t\t\t\tString(name).toLowerCase()\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t};\n\n\t\t\t\t\tcase 'keys':\n\t\t\t\t\t\treturn () => {\n\t\t\t\t\t\t\ttarget.sort();\n\t\t\t\t\t\t\treturn new Set(URLSearchParams.prototype.keys.call(target)).keys();\n\t\t\t\t\t\t};\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn Reflect.get(target, p, receiver);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t/* c8 ignore next */\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn this.constructor.name;\n\t}\n\n\ttoString() {\n\t\treturn Object.prototype.toString.call(this);\n\t}\n\n\tget(name) {\n\t\tconst values = this.getAll(name);\n\t\tif (values.length === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet value = values.join(', ');\n\t\tif (/^content-encoding$/i.test(name)) {\n\t\t\tvalue = value.toLowerCase();\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tforEach(callback, thisArg = undefined) {\n\t\tfor (const name of this.keys()) {\n\t\t\tReflect.apply(callback, thisArg, [this.get(name), name, this]);\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const name of this.keys()) {\n\t\t\tyield this.get(name);\n\t\t}\n\t}\n\n\t/**\n\t * @type {() => IterableIterator<[string, string]>}\n\t */\n\t* entries() {\n\t\tfor (const name of this.keys()) {\n\t\t\tyield [name, this.get(name)];\n\t\t}\n\t}\n\n\t[Symbol.iterator]() {\n\t\treturn this.entries();\n\t}\n\n\t/**\n\t * Node-fetch non-spec method\n\t * returning all headers and their values as array\n\t * @returns {Record<string, string[]>}\n\t */\n\traw() {\n\t\treturn [...this.keys()].reduce((result, key) => {\n\t\t\tresult[key] = this.getAll(key);\n\t\t\treturn result;\n\t\t}, {});\n\t}\n\n\t/**\n\t * For better console.log(headers) and also to convert Headers into Node.js Request compatible format\n\t */\n\t[Symbol.for('nodejs.util.inspect.custom')]() {\n\t\treturn [...this.keys()].reduce((result, key) => {\n\t\t\tconst values = this.getAll(key);\n\t\t\t// Http.request() only supports string as Host header.\n\t\t\t// This hack makes specifying custom Host header possible.\n\t\t\tif (key === 'host') {\n\t\t\t\tresult[key] = values[0];\n\t\t\t} else {\n\t\t\t\tresult[key] = values.length > 1 ? values : values[0];\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}, {});\n\t}\n}\n\n/**\n * Re-shaping object for Web IDL tests\n * Only need to do it for overridden methods\n */\nObject.defineProperties(\n\tHeaders.prototype,\n\t['get', 'entries', 'forEach', 'values'].reduce((result, property) => {\n\t\tresult[property] = {enumerable: true};\n\t\treturn result;\n\t}, {})\n);\n\n/**\n * Create a Headers object from an http.IncomingMessage.rawHeaders, ignoring those that do\n * not conform to HTTP grammar productions.\n * @param {import('http').IncomingMessage['rawHeaders']} headers\n */\nexport function fromRawHeaders(headers = []) {\n\treturn new Headers(\n\t\theaders\n\t\t\t// Split into pairs\n\t\t\t.reduce((result, value, index, array) => {\n\t\t\t\tif (index % 2 === 0) {\n\t\t\t\t\tresult.push(array.slice(index, index + 2));\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, [])\n\t\t\t.filter(([name, value]) => {\n\t\t\t\ttry {\n\t\t\t\t\tvalidateHeaderName(name);\n\t\t\t\t\tvalidateHeaderValue(name, String(value));\n\t\t\t\t\treturn true;\n\t\t\t\t} catch {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\n\t);\n}\n","const redirectStatus = new Set([301, 302, 303, 307, 308]);\n\n/**\n * Redirect code matching\n *\n * @param {number} code - Status code\n * @return {boolean}\n */\nexport const isRedirect = code => {\n\treturn redirectStatus.has(code);\n};\n","/**\n * Response.js\n *\n * Response class provides content decoding\n */\n\nimport Headers from './headers.js';\nimport Body, {clone, extractContentType} from './body.js';\nimport {isRedirect} from './utils/is-redirect.js';\n\nconst INTERNALS = Symbol('Response internals');\n\n/**\n * Response class\n *\n * Ref: https://fetch.spec.whatwg.org/#response-class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nexport default class Response extends Body {\n\tconstructor(body = null, options = {}) {\n\t\tsuper(body, options);\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq, no-negated-condition\n\t\tconst status = options.status != null ? options.status : 200;\n\n\t\tconst headers = new Headers(options.headers);\n\n\t\tif (body !== null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body, this);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\ttype: 'default',\n\t\t\turl: options.url,\n\t\t\tstatus,\n\t\t\tstatusText: options.statusText || '',\n\t\t\theaders,\n\t\t\tcounter: options.counter,\n\t\t\thighWaterMark: options.highWaterMark\n\t\t};\n\t}\n\n\tget type() {\n\t\treturn this[INTERNALS].type;\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS].status;\n\t}\n\n\t/**\n\t * Convenience property representing if the request ended normally\n\t */\n\tget ok() {\n\t\treturn this[INTERNALS].status >= 200 && this[INTERNALS].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS].headers;\n\t}\n\n\tget highWaterMark() {\n\t\treturn this[INTERNALS].highWaterMark;\n\t}\n\n\t/**\n\t * Clone this response\n\t *\n\t * @return  Response\n\t */\n\tclone() {\n\t\treturn new Response(clone(this, this.highWaterMark), {\n\t\t\ttype: this.type,\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected,\n\t\t\tsize: this.size,\n\t\t\thighWaterMark: this.highWaterMark\n\t\t});\n\t}\n\n\t/**\n\t * @param {string} url    The URL that the new response is to originate from.\n\t * @param {number} status An optional status code for the response (e.g., 302.)\n\t * @returns {Response}    A Response object.\n\t */\n\tstatic redirect(url, status = 302) {\n\t\tif (!isRedirect(status)) {\n\t\t\tthrow new RangeError('Failed to execute \"redirect\" on \"response\": Invalid status code');\n\t\t}\n\n\t\treturn new Response(null, {\n\t\t\theaders: {\n\t\t\t\tlocation: new URL(url).toString()\n\t\t\t},\n\t\t\tstatus\n\t\t});\n\t}\n\n\tstatic error() {\n\t\tconst response = new Response(null, {status: 0, statusText: ''});\n\t\tresponse[INTERNALS].type = 'error';\n\t\treturn response;\n\t}\n\n\tstatic json(data = undefined, init = {}) {\n\t\tconst body = JSON.stringify(data);\n\n\t\tif (body === undefined) {\n\t\t\tthrow new TypeError('data is not JSON serializable');\n\t\t}\n\n\t\tconst headers = new Headers(init && init.headers);\n\n\t\tif (!headers.has('content-type')) {\n\t\t\theaders.set('content-type', 'application/json');\n\t\t}\n\n\t\treturn new Response(body, {\n\t\t\t...init,\n\t\t\theaders\n\t\t});\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'Response';\n\t}\n}\n\nObject.defineProperties(Response.prototype, {\n\ttype: {enumerable: true},\n\turl: {enumerable: true},\n\tstatus: {enumerable: true},\n\tok: {enumerable: true},\n\tredirected: {enumerable: true},\n\tstatusText: {enumerable: true},\n\theaders: {enumerable: true},\n\tclone: {enumerable: true}\n});\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:url\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:net\");","import {isIP} from 'node:net';\n\n/**\n * @external URL\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/URL|URL}\n */\n\n/**\n * @module utils/referrer\n * @private\n */\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#strip-url|Referrer Policy 8.4. Strip url for use as a referrer}\n * @param {string} URL\n * @param {boolean} [originOnly=false]\n */\nexport function stripURLForUseAsAReferrer(url, originOnly = false) {\n\t// 1. If url is null, return no referrer.\n\tif (url == null) { // eslint-disable-line no-eq-null, eqeqeq\n\t\treturn 'no-referrer';\n\t}\n\n\turl = new URL(url);\n\n\t// 2. If url's scheme is a local scheme, then return no referrer.\n\tif (/^(about|blob|data):$/.test(url.protocol)) {\n\t\treturn 'no-referrer';\n\t}\n\n\t// 3. Set url's username to the empty string.\n\turl.username = '';\n\n\t// 4. Set url's password to null.\n\t// Note: `null` appears to be a mistake as this actually results in the password being `\"null\"`.\n\turl.password = '';\n\n\t// 5. Set url's fragment to null.\n\t// Note: `null` appears to be a mistake as this actually results in the fragment being `\"#null\"`.\n\turl.hash = '';\n\n\t// 6. If the origin-only flag is true, then:\n\tif (originOnly) {\n\t\t// 6.1. Set url's path to null.\n\t\t// Note: `null` appears to be a mistake as this actually results in the path being `\"/null\"`.\n\t\turl.pathname = '';\n\n\t\t// 6.2. Set url's query to null.\n\t\t// Note: `null` appears to be a mistake as this actually results in the query being `\"?null\"`.\n\t\turl.search = '';\n\t}\n\n\t// 7. Return url.\n\treturn url;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#enumdef-referrerpolicy|enum ReferrerPolicy}\n */\nexport const ReferrerPolicy = new Set([\n\t'',\n\t'no-referrer',\n\t'no-referrer-when-downgrade',\n\t'same-origin',\n\t'origin',\n\t'strict-origin',\n\t'origin-when-cross-origin',\n\t'strict-origin-when-cross-origin',\n\t'unsafe-url'\n]);\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#default-referrer-policy|default referrer policy}\n */\nexport const DEFAULT_REFERRER_POLICY = 'strict-origin-when-cross-origin';\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#referrer-policies|Referrer Policy 3. Referrer Policies}\n * @param {string} referrerPolicy\n * @returns {string} referrerPolicy\n */\nexport function validateReferrerPolicy(referrerPolicy) {\n\tif (!ReferrerPolicy.has(referrerPolicy)) {\n\t\tthrow new TypeError(`Invalid referrerPolicy: ${referrerPolicy}`);\n\t}\n\n\treturn referrerPolicy;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-secure-contexts/#is-origin-trustworthy|Referrer Policy 3.2. Is origin potentially trustworthy?}\n * @param {external:URL} url\n * @returns `true`: \"Potentially Trustworthy\", `false`: \"Not Trustworthy\"\n */\nexport function isOriginPotentiallyTrustworthy(url) {\n\t// 1. If origin is an opaque origin, return \"Not Trustworthy\".\n\t// Not applicable\n\n\t// 2. Assert: origin is a tuple origin.\n\t// Not for implementations\n\n\t// 3. If origin's scheme is either \"https\" or \"wss\", return \"Potentially Trustworthy\".\n\tif (/^(http|ws)s:$/.test(url.protocol)) {\n\t\treturn true;\n\t}\n\n\t// 4. If origin's host component matches one of the CIDR notations 127.0.0.0/8 or ::1/128 [RFC4632], return \"Potentially Trustworthy\".\n\tconst hostIp = url.host.replace(/(^\\[)|(]$)/g, '');\n\tconst hostIPVersion = isIP(hostIp);\n\n\tif (hostIPVersion === 4 && /^127\\./.test(hostIp)) {\n\t\treturn true;\n\t}\n\n\tif (hostIPVersion === 6 && /^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(hostIp)) {\n\t\treturn true;\n\t}\n\n\t// 5. If origin's host component is \"localhost\" or falls within \".localhost\", and the user agent conforms to the name resolution rules in [let-localhost-be-localhost], return \"Potentially Trustworthy\".\n\t// We are returning FALSE here because we cannot ensure conformance to\n\t// let-localhost-be-loalhost (https://tools.ietf.org/html/draft-west-let-localhost-be-localhost)\n\tif (url.host === 'localhost' || url.host.endsWith('.localhost')) {\n\t\treturn false;\n\t}\n\n\t// 6. If origin's scheme component is file, return \"Potentially Trustworthy\".\n\tif (url.protocol === 'file:') {\n\t\treturn true;\n\t}\n\n\t// 7. If origin's scheme component is one which the user agent considers to be authenticated, return \"Potentially Trustworthy\".\n\t// Not supported\n\n\t// 8. If origin has been configured as a trustworthy origin, return \"Potentially Trustworthy\".\n\t// Not supported\n\n\t// 9. Return \"Not Trustworthy\".\n\treturn false;\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-secure-contexts/#is-url-trustworthy|Referrer Policy 3.3. Is url potentially trustworthy?}\n * @param {external:URL} url\n * @returns `true`: \"Potentially Trustworthy\", `false`: \"Not Trustworthy\"\n */\nexport function isUrlPotentiallyTrustworthy(url) {\n\t// 1. If url is \"about:blank\" or \"about:srcdoc\", return \"Potentially Trustworthy\".\n\tif (/^about:(blank|srcdoc)$/.test(url)) {\n\t\treturn true;\n\t}\n\n\t// 2. If url's scheme is \"data\", return \"Potentially Trustworthy\".\n\tif (url.protocol === 'data:') {\n\t\treturn true;\n\t}\n\n\t// Note: The origin of blob: and filesystem: URLs is the origin of the context in which they were\n\t// created. Therefore, blobs created in a trustworthy origin will themselves be potentially\n\t// trustworthy.\n\tif (/^(blob|filesystem):$/.test(url.protocol)) {\n\t\treturn true;\n\t}\n\n\t// 3. Return the result of executing 3.2 Is origin potentially trustworthy? on url's origin.\n\treturn isOriginPotentiallyTrustworthy(url);\n}\n\n/**\n * Modifies the referrerURL to enforce any extra security policy considerations.\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy 8.3. Determine request's Referrer}, step 7\n * @callback module:utils/referrer~referrerURLCallback\n * @param {external:URL} referrerURL\n * @returns {external:URL} modified referrerURL\n */\n\n/**\n * Modifies the referrerOrigin to enforce any extra security policy considerations.\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy 8.3. Determine request's Referrer}, step 7\n * @callback module:utils/referrer~referrerOriginCallback\n * @param {external:URL} referrerOrigin\n * @returns {external:URL} modified referrerOrigin\n */\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#determine-requests-referrer|Referrer Policy 8.3. Determine request's Referrer}\n * @param {Request} request\n * @param {object} o\n * @param {module:utils/referrer~referrerURLCallback} o.referrerURLCallback\n * @param {module:utils/referrer~referrerOriginCallback} o.referrerOriginCallback\n * @returns {external:URL} Request's referrer\n */\nexport function determineRequestsReferrer(request, {referrerURLCallback, referrerOriginCallback} = {}) {\n\t// There are 2 notes in the specification about invalid pre-conditions.  We return null, here, for\n\t// these cases:\n\t// > Note: If request's referrer is \"no-referrer\", Fetch will not call into this algorithm.\n\t// > Note: If request's referrer policy is the empty string, Fetch will not call into this\n\t// > algorithm.\n\tif (request.referrer === 'no-referrer' || request.referrerPolicy === '') {\n\t\treturn null;\n\t}\n\n\t// 1. Let policy be request's associated referrer policy.\n\tconst policy = request.referrerPolicy;\n\n\t// 2. Let environment be request's client.\n\t// not applicable to node.js\n\n\t// 3. Switch on request's referrer:\n\tif (request.referrer === 'about:client') {\n\t\treturn 'no-referrer';\n\t}\n\n\t// \"a URL\": Let referrerSource be request's referrer.\n\tconst referrerSource = request.referrer;\n\n\t// 4. Let request's referrerURL be the result of stripping referrerSource for use as a referrer.\n\tlet referrerURL = stripURLForUseAsAReferrer(referrerSource);\n\n\t// 5. Let referrerOrigin be the result of stripping referrerSource for use as a referrer, with the\n\t//    origin-only flag set to true.\n\tlet referrerOrigin = stripURLForUseAsAReferrer(referrerSource, true);\n\n\t// 6. If the result of serializing referrerURL is a string whose length is greater than 4096, set\n\t//    referrerURL to referrerOrigin.\n\tif (referrerURL.toString().length > 4096) {\n\t\treferrerURL = referrerOrigin;\n\t}\n\n\t// 7. The user agent MAY alter referrerURL or referrerOrigin at this point to enforce arbitrary\n\t//    policy considerations in the interests of minimizing data leakage. For example, the user\n\t//    agent could strip the URL down to an origin, modify its host, replace it with an empty\n\t//    string, etc.\n\tif (referrerURLCallback) {\n\t\treferrerURL = referrerURLCallback(referrerURL);\n\t}\n\n\tif (referrerOriginCallback) {\n\t\treferrerOrigin = referrerOriginCallback(referrerOrigin);\n\t}\n\n\t// 8.Execute the statements corresponding to the value of policy:\n\tconst currentURL = new URL(request.url);\n\n\tswitch (policy) {\n\t\tcase 'no-referrer':\n\t\t\treturn 'no-referrer';\n\n\t\tcase 'origin':\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'unsafe-url':\n\t\t\treturn referrerURL;\n\n\t\tcase 'strict-origin':\n\t\t\t// 1. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 2. Return referrerOrigin.\n\t\t\treturn referrerOrigin.toString();\n\n\t\tcase 'strict-origin-when-cross-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// 2. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 3. Return referrerOrigin.\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'same-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// 2. Return no referrer.\n\t\t\treturn 'no-referrer';\n\n\t\tcase 'origin-when-cross-origin':\n\t\t\t// 1. If the origin of referrerURL and the origin of request's current URL are the same, then\n\t\t\t//    return referrerURL.\n\t\t\tif (referrerURL.origin === currentURL.origin) {\n\t\t\t\treturn referrerURL;\n\t\t\t}\n\n\t\t\t// Return referrerOrigin.\n\t\t\treturn referrerOrigin;\n\n\t\tcase 'no-referrer-when-downgrade':\n\t\t\t// 1. If referrerURL is a potentially trustworthy URL and request's current URL is not a\n\t\t\t//    potentially trustworthy URL, then return no referrer.\n\t\t\tif (isUrlPotentiallyTrustworthy(referrerURL) && !isUrlPotentiallyTrustworthy(currentURL)) {\n\t\t\t\treturn 'no-referrer';\n\t\t\t}\n\n\t\t\t// 2. Return referrerURL.\n\t\t\treturn referrerURL;\n\n\t\tdefault:\n\t\t\tthrow new TypeError(`Invalid referrerPolicy: ${policy}`);\n\t}\n}\n\n/**\n * @see {@link https://w3c.github.io/webappsec-referrer-policy/#parse-referrer-policy-from-header|Referrer Policy 8.1. Parse a referrer policy from a Referrer-Policy header}\n * @param {Headers} headers Response headers\n * @returns {string} policy\n */\nexport function parseReferrerPolicyFromHeader(headers) {\n\t// 1. Let policy-tokens be the result of extracting header list values given `Referrer-Policy`\n\t//    and responses header list.\n\tconst policyTokens = (headers.get('referrer-policy') || '').split(/[,\\s]+/);\n\n\t// 2. Let policy be the empty string.\n\tlet policy = '';\n\n\t// 3. For each token in policy-tokens, if token is a referrer policy and token is not the empty\n\t//    string, then set policy to token.\n\t// Note: This algorithm loops over multiple policy values to allow deployment of new policy\n\t// values with fallbacks for older user agents, as described in  11.1 Unknown Policy Values.\n\tfor (const token of policyTokens) {\n\t\tif (token && ReferrerPolicy.has(token)) {\n\t\t\tpolicy = token;\n\t\t}\n\t}\n\n\t// 4. Return policy.\n\treturn policy;\n}\n","/**\n * Request.js\n *\n * Request class contains server only options\n *\n * All spec algorithm step numbers are based on https://fetch.spec.whatwg.org/commit-snapshots/ae716822cb3a61843226cd090eefc6589446c1d2/.\n */\n\nimport {format as formatUrl} from 'node:url';\nimport {deprecate} from 'node:util';\nimport Headers from './headers.js';\nimport Body, {clone, extractContentType, getTotalBytes} from './body.js';\nimport {isAbortSignal} from './utils/is.js';\nimport {getSearch} from './utils/get-search.js';\nimport {\n\tvalidateReferrerPolicy, determineRequestsReferrer, DEFAULT_REFERRER_POLICY\n} from './utils/referrer.js';\n\nconst INTERNALS = Symbol('Request internals');\n\n/**\n * Check if `obj` is an instance of Request.\n *\n * @param  {*} object\n * @return {boolean}\n */\nconst isRequest = object => {\n\treturn (\n\t\ttypeof object === 'object' &&\n\t\ttypeof object[INTERNALS] === 'object'\n\t);\n};\n\nconst doBadDataWarn = deprecate(() => {},\n\t'.data is not a valid RequestInit property, use .body instead',\n\t'https://github.com/node-fetch/node-fetch/issues/1000 (request)');\n\n/**\n * Request class\n *\n * Ref: https://fetch.spec.whatwg.org/#request-class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nexport default class Request extends Body {\n\tconstructor(input, init = {}) {\n\t\tlet parsedURL;\n\n\t\t// Normalize input and force URL to be encoded as UTF-8 (https://github.com/node-fetch/node-fetch/issues/245)\n\t\tif (isRequest(input)) {\n\t\t\tparsedURL = new URL(input.url);\n\t\t} else {\n\t\t\tparsedURL = new URL(input);\n\t\t\tinput = {};\n\t\t}\n\n\t\tif (parsedURL.username !== '' || parsedURL.password !== '') {\n\t\t\tthrow new TypeError(`${parsedURL} is an url with embedded credentials.`);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tif (/^(delete|get|head|options|post|put)$/i.test(method)) {\n\t\t\tmethod = method.toUpperCase();\n\t\t}\n\n\t\tif (!isRequest(init) && 'data' in init) {\n\t\t\tdoBadDataWarn();\n\t\t}\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tif ((init.body != null || (isRequest(input) && input.body !== null)) &&\n\t\t\t(method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tconst inputBody = init.body ?\n\t\t\tinit.body :\n\t\t\t(isRequest(input) && input.body !== null ?\n\t\t\t\tclone(input) :\n\t\t\t\tnull);\n\n\t\tsuper(inputBody, {\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody !== null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody, this);\n\t\t\tif (contentType) {\n\t\t\t\theaders.set('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ?\n\t\t\tinput.signal :\n\t\t\tnull;\n\t\tif ('signal' in init) {\n\t\t\tsignal = init.signal;\n\t\t}\n\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal or EventTarget');\n\t\t}\n\n\t\t// 5.4, Request constructor steps, step 15.1\n\t\t// eslint-disable-next-line no-eq-null, eqeqeq\n\t\tlet referrer = init.referrer == null ? input.referrer : init.referrer;\n\t\tif (referrer === '') {\n\t\t\t// 5.4, Request constructor steps, step 15.2\n\t\t\treferrer = 'no-referrer';\n\t\t} else if (referrer) {\n\t\t\t// 5.4, Request constructor steps, step 15.3.1, 15.3.2\n\t\t\tconst parsedReferrer = new URL(referrer);\n\t\t\t// 5.4, Request constructor steps, step 15.3.3, 15.3.4\n\t\t\treferrer = /^about:(\\/\\/)?client$/.test(parsedReferrer) ? 'client' : parsedReferrer;\n\t\t} else {\n\t\t\treferrer = undefined;\n\t\t}\n\n\t\tthis[INTERNALS] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal,\n\t\t\treferrer\n\t\t};\n\n\t\t// Node-fetch-only options\n\t\tthis.follow = init.follow === undefined ? (input.follow === undefined ? 20 : input.follow) : init.follow;\n\t\tthis.compress = init.compress === undefined ? (input.compress === undefined ? true : input.compress) : init.compress;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t\tthis.highWaterMark = init.highWaterMark || input.highWaterMark || 16384;\n\t\tthis.insecureHTTPParser = init.insecureHTTPParser || input.insecureHTTPParser || false;\n\n\t\t// 5.4, Request constructor steps, step 16.\n\t\t// Default is empty string per https://fetch.spec.whatwg.org/#concept-request-referrer-policy\n\t\tthis.referrerPolicy = init.referrerPolicy || input.referrerPolicy || '';\n\t}\n\n\t/** @returns {string} */\n\tget method() {\n\t\treturn this[INTERNALS].method;\n\t}\n\n\t/** @returns {string} */\n\tget url() {\n\t\treturn formatUrl(this[INTERNALS].parsedURL);\n\t}\n\n\t/** @returns {Headers} */\n\tget headers() {\n\t\treturn this[INTERNALS].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS].redirect;\n\t}\n\n\t/** @returns {AbortSignal} */\n\tget signal() {\n\t\treturn this[INTERNALS].signal;\n\t}\n\n\t// https://fetch.spec.whatwg.org/#dom-request-referrer\n\tget referrer() {\n\t\tif (this[INTERNALS].referrer === 'no-referrer') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (this[INTERNALS].referrer === 'client') {\n\t\t\treturn 'about:client';\n\t\t}\n\n\t\tif (this[INTERNALS].referrer) {\n\t\t\treturn this[INTERNALS].referrer.toString();\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tget referrerPolicy() {\n\t\treturn this[INTERNALS].referrerPolicy;\n\t}\n\n\tset referrerPolicy(referrerPolicy) {\n\t\tthis[INTERNALS].referrerPolicy = validateReferrerPolicy(referrerPolicy);\n\t}\n\n\t/**\n\t * Clone this request\n\t *\n\t * @return  Request\n\t */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn 'Request';\n\t}\n}\n\nObject.defineProperties(Request.prototype, {\n\tmethod: {enumerable: true},\n\turl: {enumerable: true},\n\theaders: {enumerable: true},\n\tredirect: {enumerable: true},\n\tclone: {enumerable: true},\n\tsignal: {enumerable: true},\n\treferrer: {enumerable: true},\n\treferrerPolicy: {enumerable: true}\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param {Request} request - A Request instance\n * @return The options object to be passed to http.request\n */\nexport const getNodeRequestOptions = request => {\n\tconst {parsedURL} = request[INTERNALS];\n\tconst headers = new Headers(request[INTERNALS].headers);\n\n\t// Fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body === null && /^(post|put)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\n\tif (request.body !== null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\t// Set Content-Length if totalBytes is a number (that is not NaN)\n\t\tif (typeof totalBytes === 'number' && !Number.isNaN(totalBytes)) {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// 4.1. Main fetch, step 2.6\n\t// > If request's referrer policy is the empty string, then set request's referrer policy to the\n\t// > default referrer policy.\n\tif (request.referrerPolicy === '') {\n\t\trequest.referrerPolicy = DEFAULT_REFERRER_POLICY;\n\t}\n\n\t// 4.1. Main fetch, step 2.7\n\t// > If request's referrer is not \"no-referrer\", set request's referrer to the result of invoking\n\t// > determine request's referrer.\n\tif (request.referrer && request.referrer !== 'no-referrer') {\n\t\trequest[INTERNALS].referrer = determineRequestsReferrer(request);\n\t} else {\n\t\trequest[INTERNALS].referrer = 'no-referrer';\n\t}\n\n\t// 4.5. HTTP-network-or-cache fetch, step 6.9\n\t// > If httpRequest's referrer is a URL, then append `Referer`/httpRequest's referrer, serialized\n\t// >  and isomorphic encoded, to httpRequest's header list.\n\tif (request[INTERNALS].referrer instanceof URL) {\n\t\theaders.set('Referer', request.referrer);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip, deflate, br');\n\t}\n\n\tlet {agent} = request;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\tconst search = getSearch(parsedURL);\n\n\t// Pass the full URL directly to request(), but overwrite the following\n\t// options:\n\tconst options = {\n\t\t// Overwrite search to retain trailing ? (issue #776)\n\t\tpath: parsedURL.pathname + search,\n\t\t// The following options are not expressed in the URL\n\t\tmethod: request.method,\n\t\theaders: headers[Symbol.for('nodejs.util.inspect.custom')](),\n\t\tinsecureHTTPParser: request.insecureHTTPParser,\n\t\tagent\n\t};\n\n\treturn {\n\t\t/** @type {URL} */\n\t\tparsedURL,\n\t\toptions\n\t};\n};\n","export const getSearch = parsedURL => {\n\tif (parsedURL.search) {\n\t\treturn parsedURL.search;\n\t}\n\n\tconst lastOffset = parsedURL.href.length - 1;\n\tconst hash = parsedURL.hash || (parsedURL.href[lastOffset] === '#' ? '#' : '');\n\treturn parsedURL.href[lastOffset - hash.length] === '?' ? '?' : '';\n};\n","import {FetchBaseError} from './base.js';\n\n/**\n * AbortError interface for cancelled requests\n */\nexport class AbortError extends FetchBaseError {\n\tconstructor(message, type = 'aborted') {\n\t\tsuper(message, type);\n\t}\n}\n","/**\n * Index.js\n *\n * a request API compatible with window.fetch\n *\n * All spec algorithm step numbers are based on https://fetch.spec.whatwg.org/commit-snapshots/ae716822cb3a61843226cd090eefc6589446c1d2/.\n */\n\nimport http from 'node:http';\nimport https from 'node:https';\nimport zlib from 'node:zlib';\nimport Stream, {PassThrough, pipeline as pump} from 'node:stream';\nimport {Buffer} from 'node:buffer';\n\nimport dataUriToBuffer from 'data-uri-to-buffer';\n\nimport {writeToStream, clone} from './body.js';\nimport Response from './response.js';\nimport Headers, {fromRawHeaders} from './headers.js';\nimport Request, {getNodeRequestOptions} from './request.js';\nimport {FetchError} from './errors/fetch-error.js';\nimport {AbortError} from './errors/abort-error.js';\nimport {isRedirect} from './utils/is-redirect.js';\nimport {FormData} from 'formdata-polyfill/esm.min.js';\nimport {isDomainOrSubdomain, isSameProtocol} from './utils/is.js';\nimport {parseReferrerPolicyFromHeader} from './utils/referrer.js';\nimport {\n\tBlob,\n\tFile,\n\tfileFromSync,\n\tfileFrom,\n\tblobFromSync,\n\tblobFrom\n} from 'fetch-blob/from.js';\n\nexport {FormData, Headers, Request, Response, FetchError, AbortError, isRedirect};\nexport {Blob, File, fileFromSync, fileFrom, blobFromSync, blobFrom};\n\nconst supportedSchemas = new Set(['data:', 'http:', 'https:']);\n\n/**\n * Fetch function\n *\n * @param   {string | URL | import('./request').default} url - Absolute url or Request instance\n * @param   {*} [options_] - Fetch options\n * @return  {Promise<import('./response').default>}\n */\nexport default async function fetch(url, options_) {\n\treturn new Promise((resolve, reject) => {\n\t\t// Build request object\n\t\tconst request = new Request(url, options_);\n\t\tconst {parsedURL, options} = getNodeRequestOptions(request);\n\t\tif (!supportedSchemas.has(parsedURL.protocol)) {\n\t\t\tthrow new TypeError(`node-fetch cannot load ${url}. URL scheme \"${parsedURL.protocol.replace(/:$/, '')}\" is not supported.`);\n\t\t}\n\n\t\tif (parsedURL.protocol === 'data:') {\n\t\t\tconst data = dataUriToBuffer(request.url);\n\t\t\tconst response = new Response(data, {headers: {'Content-Type': data.typeFull}});\n\t\t\tresolve(response);\n\t\t\treturn;\n\t\t}\n\n\t\t// Wrap http.request into fetch\n\t\tconst send = (parsedURL.protocol === 'https:' ? https : http).request;\n\t\tconst {signal} = request;\n\t\tlet response = null;\n\n\t\tconst abort = () => {\n\t\t\tconst error = new AbortError('The operation was aborted.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\n\t\t\tif (!response || !response.body) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = () => {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// Send request\n\t\tconst request_ = send(parsedURL.toString(), options);\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tconst finalize = () => {\n\t\t\trequest_.abort();\n\t\t\tif (signal) {\n\t\t\t\tsignal.removeEventListener('abort', abortAndFinalize);\n\t\t\t}\n\t\t};\n\n\t\trequest_.on('error', error => {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${error.message}`, 'system', error));\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(request_, error => {\n\t\t\tif (response && response.body) {\n\t\t\t\tresponse.body.destroy(error);\n\t\t\t}\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (process.version < 'v14') {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\trequest_.on('socket', s => {\n\t\t\t\tlet endedWithEventsCount;\n\t\t\t\ts.prependListener('end', () => {\n\t\t\t\t\tendedWithEventsCount = s._eventsCount;\n\t\t\t\t});\n\t\t\t\ts.prependListener('close', hadError => {\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && endedWithEventsCount < s._eventsCount && !hadError) {\n\t\t\t\t\t\tconst error = new Error('Premature close');\n\t\t\t\t\t\terror.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\trequest_.on('response', response_ => {\n\t\t\trequest_.setTimeout(0);\n\t\t\tconst headers = fromRawHeaders(response_.rawHeaders);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (isRedirect(response_.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL(location, request.url);\n\t\t\t\t} catch {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// Nothing to do\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow': {\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOptions = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: clone(request),\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\tsize: request.size,\n\t\t\t\t\t\t\treferrer: request.referrer,\n\t\t\t\t\t\t\treferrerPolicy: request.referrerPolicy\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// when forwarding sensitive headers like \"Authorization\",\n\t\t\t\t\t\t// \"WWW-Authenticate\", and \"Cookie\" to untrusted targets,\n\t\t\t\t\t\t// headers will be ignored when following a redirect to a domain\n\t\t\t\t\t\t// that is not a subdomain match or exact match of the initial domain.\n\t\t\t\t\t\t// For example, a redirect from \"foo.com\" to either \"foo.com\" or \"sub.foo.com\"\n\t\t\t\t\t\t// will forward the sensitive headers, but a redirect to \"bar.com\" will not.\n\t\t\t\t\t\t// headers will also be ignored when following a redirect to a domain using\n\t\t\t\t\t\t// a different protocol. For example, a redirect from \"https://foo.com\" to \"http://foo.com\"\n\t\t\t\t\t\t// will not forward the sensitive headers\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOptions.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (response_.statusCode !== 303 && request.body && options_.body instanceof Stream.Readable) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (response_.statusCode === 303 || ((response_.statusCode === 301 || response_.statusCode === 302) && request.method === 'POST')) {\n\t\t\t\t\t\t\trequestOptions.method = 'GET';\n\t\t\t\t\t\t\trequestOptions.body = undefined;\n\t\t\t\t\t\t\trequestOptions.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 14\n\t\t\t\t\t\tconst responseReferrerPolicy = parseReferrerPolicyFromHeader(headers);\n\t\t\t\t\t\tif (responseReferrerPolicy) {\n\t\t\t\t\t\t\trequestOptions.referrerPolicy = responseReferrerPolicy;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOptions)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn reject(new TypeError(`Redirect option '${request.redirect}' is not a valid value of RequestRedirect`));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Prepare response\n\t\t\tif (signal) {\n\t\t\t\tresponse_.once('end', () => {\n\t\t\t\t\tsignal.removeEventListener('abort', abortAndFinalize);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet body = pump(response_, new PassThrough(), error => {\n\t\t\t\tif (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t});\n\t\t\t// see https://github.com/nodejs/node/pull/29376\n\t\t\t/* c8 ignore next 3 */\n\t\t\tif (process.version < 'v12.10') {\n\t\t\t\tresponse_.on('aborted', abortAndFinalize);\n\t\t\t}\n\n\t\t\tconst responseOptions = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: response_.statusCode,\n\t\t\t\tstatusText: response_.statusMessage,\n\t\t\t\theaders,\n\t\t\t\tsize: request.size,\n\t\t\t\tcounter: request.counter,\n\t\t\t\thighWaterMark: request.highWaterMark\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || response_.statusCode === 204 || response_.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// For gzip\n\t\t\tif (codings === 'gzip' || codings === 'x-gzip') {\n\t\t\t\tbody = pump(body, zlib.createGunzip(zlibOptions), error => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For deflate\n\t\t\tif (codings === 'deflate' || codings === 'x-deflate') {\n\t\t\t\t// Handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = pump(response_, new PassThrough(), error => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\traw.once('data', chunk => {\n\t\t\t\t\t// See http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = pump(body, zlib.createInflate(), error => {\n\t\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = pump(body, zlib.createInflateRaw(), error => {\n\t\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.once('end', () => {\n\t\t\t\t\t// Some old IIS servers return zero-length OK deflate responses, so\n\t\t\t\t\t// 'data' is never emitted. See https://github.com/node-fetch/node-fetch/pull/903\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For br\n\t\t\tif (codings === 'br') {\n\t\t\t\tbody = pump(body, zlib.createBrotliDecompress(), error => {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tresponse = new Response(body, responseOptions);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Otherwise, use response as-is\n\t\t\tresponse = new Response(body, responseOptions);\n\t\t\tresolve(response);\n\t\t});\n\n\t\t// eslint-disable-next-line promise/prefer-await-to-then\n\t\twriteToStream(request_, request).catch(reject);\n\t});\n}\n\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tconst LAST_CHUNK = Buffer.from('0\\r\\n\\r\\n');\n\n\tlet isChunkedTransfer = false;\n\tlet properLastChunkReceived = false;\n\tlet previousChunk;\n\n\trequest.on('response', response => {\n\t\tconst {headers} = response;\n\t\tisChunkedTransfer = headers['transfer-encoding'] === 'chunked' && !headers['content-length'];\n\t});\n\n\trequest.on('socket', socket => {\n\t\tconst onSocketClose = () => {\n\t\t\tif (isChunkedTransfer && !properLastChunkReceived) {\n\t\t\t\tconst error = new Error('Premature close');\n\t\t\t\terror.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\terrorCallback(error);\n\t\t\t}\n\t\t};\n\n\t\tconst onData = buf => {\n\t\t\tproperLastChunkReceived = Buffer.compare(buf.slice(-5), LAST_CHUNK) === 0;\n\n\t\t\t// Sometimes final 0-length chunk and end of message code are in separate packets\n\t\t\tif (!properLastChunkReceived && previousChunk) {\n\t\t\t\tproperLastChunkReceived = (\n\t\t\t\t\tBuffer.compare(previousChunk.slice(-3), LAST_CHUNK.slice(0, 3)) === 0 &&\n\t\t\t\t\tBuffer.compare(buf.slice(-2), LAST_CHUNK.slice(3)) === 0\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tpreviousChunk = buf;\n\t\t};\n\n\t\tsocket.prependListener('close', onSocketClose);\n\t\tsocket.on('data', onData);\n\n\t\trequest.on('close', () => {\n\t\t\tsocket.removeListener('close', onSocketClose);\n\t\t\tsocket.removeListener('data', onData);\n\t\t});\n\t});\n}\n","/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nexport function Emitter(obj) {\n  if (obj) return mixin(obj);\n}\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n\n  // Remove event specific arrays for event types that no\n  // one is subscribed for to avoid memory leak.\n  if (callbacks.length === 0) {\n    delete this._callbacks['$' + event];\n  }\n\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n\n  var args = new Array(arguments.length - 1)\n    , callbacks = this._callbacks['$' + event];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args[i - 1] = arguments[i];\n  }\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n// alias used for reserved events (protected method)\nEmitter.prototype.emitReserved = Emitter.prototype.emit;\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","import Blob from './index.js'\n\nconst _File = class File extends Blob {\n  #lastModified = 0\n  #name = ''\n\n  /**\n   * @param {*[]} fileBits\n   * @param {string} fileName\n   * @param {{lastModified?: number, type?: string}} options\n   */// @ts-ignore\n  constructor (fileBits, fileName, options = {}) {\n    if (arguments.length < 2) {\n      throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`)\n    }\n    super(fileBits, options)\n\n    if (options === null) options = {}\n\n    // Simulate WebIDL type casting for NaN value in lastModified option.\n    const lastModified = options.lastModified === undefined ? Date.now() : Number(options.lastModified)\n    if (!Number.isNaN(lastModified)) {\n      this.#lastModified = lastModified\n    }\n\n    this.#name = String(fileName)\n  }\n\n  get name () {\n    return this.#name\n  }\n\n  get lastModified () {\n    return this.#lastModified\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'File'\n  }\n\n  static [Symbol.hasInstance] (object) {\n    return !!object && object instanceof Blob &&\n      /^(File)$/.test(object[Symbol.toStringTag])\n  }\n}\n\n/** @type {typeof globalThis.File} */// @ts-ignore\nexport const File = _File\nexport default File\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:fs\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:path\");","import { statSync, createReadStream, promises as fs } from 'node:fs'\nimport { basename } from 'node:path'\nimport DOMException from 'node-domexception'\n\nimport File from './file.js'\nimport Blob from './index.js'\n\nconst { stat } = fs\n\n/**\n * @param {string} path filepath on the disk\n * @param {string} [type] mimetype to use\n */\nconst blobFromSync = (path, type) => fromBlob(statSync(path), path, type)\n\n/**\n * @param {string} path filepath on the disk\n * @param {string} [type] mimetype to use\n * @returns {Promise<Blob>}\n */\nconst blobFrom = (path, type) => stat(path).then(stat => fromBlob(stat, path, type))\n\n/**\n * @param {string} path filepath on the disk\n * @param {string} [type] mimetype to use\n * @returns {Promise<File>}\n */\nconst fileFrom = (path, type) => stat(path).then(stat => fromFile(stat, path, type))\n\n/**\n * @param {string} path filepath on the disk\n * @param {string} [type] mimetype to use\n */\nconst fileFromSync = (path, type) => fromFile(statSync(path), path, type)\n\n// @ts-ignore\nconst fromBlob = (stat, path, type = '') => new Blob([new BlobDataItem({\n  path,\n  size: stat.size,\n  lastModified: stat.mtimeMs,\n  start: 0\n})], { type })\n\n// @ts-ignore\nconst fromFile = (stat, path, type = '') => new File([new BlobDataItem({\n  path,\n  size: stat.size,\n  lastModified: stat.mtimeMs,\n  start: 0\n})], basename(path), { type, lastModified: stat.mtimeMs })\n\n/**\n * This is a blob backed up by a file on the disk\n * with minium requirement. Its wrapped around a Blob as a blobPart\n * so you have no direct access to this.\n *\n * @private\n */\nclass BlobDataItem {\n  #path\n  #start\n\n  constructor (options) {\n    this.#path = options.path\n    this.#start = options.start\n    this.size = options.size\n    this.lastModified = options.lastModified\n  }\n\n  /**\n   * Slicing arguments is first validated and formatted\n   * to not be out of range by Blob.prototype.slice\n   */\n  slice (start, end) {\n    return new BlobDataItem({\n      path: this.#path,\n      lastModified: this.lastModified,\n      size: end - start,\n      start: this.#start + start\n    })\n  }\n\n  async * stream () {\n    const { mtimeMs } = await stat(this.#path)\n    if (mtimeMs > this.lastModified) {\n      throw new DOMException('The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.', 'NotReadableError')\n    }\n    yield * createReadStream(this.#path, {\n      start: this.#start,\n      end: this.#start + this.size - 1\n    })\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'Blob'\n  }\n}\n\nexport default blobFromSync\nexport { File, Blob, blobFrom, blobFromSync, fileFrom, fileFromSync }\n","/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */\n\n// TODO (jimmywarting): in the feature use conditional loading with top level await (requires 14.x)\n// Node has recently added whatwg stream into core\n\nimport './streams.cjs'\n\n// 64 KiB (same size chrome slice theirs blob into Uint8array's)\nconst POOL_SIZE = 65536\n\n/** @param {(Blob | Uint8Array)[]} parts */\nasync function * toIterator (parts, clone = true) {\n  for (const part of parts) {\n    if ('stream' in part) {\n      yield * (/** @type {AsyncIterableIterator<Uint8Array>} */ (part.stream()))\n    } else if (ArrayBuffer.isView(part)) {\n      if (clone) {\n        let position = part.byteOffset\n        const end = part.byteOffset + part.byteLength\n        while (position !== end) {\n          const size = Math.min(end - position, POOL_SIZE)\n          const chunk = part.buffer.slice(position, position + size)\n          position += chunk.byteLength\n          yield new Uint8Array(chunk)\n        }\n      } else {\n        yield part\n      }\n    /* c8 ignore next 10 */\n    } else {\n      // For blobs that have arrayBuffer but no stream method (nodes buffer.Blob)\n      let position = 0, b = (/** @type {Blob} */ (part))\n      while (position !== b.size) {\n        const chunk = b.slice(position, Math.min(b.size, position + POOL_SIZE))\n        const buffer = await chunk.arrayBuffer()\n        position += buffer.byteLength\n        yield new Uint8Array(buffer)\n      }\n    }\n  }\n}\n\nconst _Blob = class Blob {\n  /** @type {Array.<(Blob|Uint8Array)>} */\n  #parts = []\n  #type = ''\n  #size = 0\n  #endings = 'transparent'\n\n  /**\n   * The Blob() constructor returns a new Blob object. The content\n   * of the blob consists of the concatenation of the values given\n   * in the parameter array.\n   *\n   * @param {*} blobParts\n   * @param {{ type?: string, endings?: string }} [options]\n   */\n  constructor (blobParts = [], options = {}) {\n    if (typeof blobParts !== 'object' || blobParts === null) {\n      throw new TypeError('Failed to construct \\'Blob\\': The provided value cannot be converted to a sequence.')\n    }\n\n    if (typeof blobParts[Symbol.iterator] !== 'function') {\n      throw new TypeError('Failed to construct \\'Blob\\': The object must have a callable @@iterator property.')\n    }\n\n    if (typeof options !== 'object' && typeof options !== 'function') {\n      throw new TypeError('Failed to construct \\'Blob\\': parameter 2 cannot convert to dictionary.')\n    }\n\n    if (options === null) options = {}\n\n    const encoder = new TextEncoder()\n    for (const element of blobParts) {\n      let part\n      if (ArrayBuffer.isView(element)) {\n        part = new Uint8Array(element.buffer.slice(element.byteOffset, element.byteOffset + element.byteLength))\n      } else if (element instanceof ArrayBuffer) {\n        part = new Uint8Array(element.slice(0))\n      } else if (element instanceof Blob) {\n        part = element\n      } else {\n        part = encoder.encode(`${element}`)\n      }\n\n      this.#size += ArrayBuffer.isView(part) ? part.byteLength : part.size\n      this.#parts.push(part)\n    }\n\n    this.#endings = `${options.endings === undefined ? 'transparent' : options.endings}`\n    const type = options.type === undefined ? '' : String(options.type)\n    this.#type = /^[\\x20-\\x7E]*$/.test(type) ? type : ''\n  }\n\n  /**\n   * The Blob interface's size property returns the\n   * size of the Blob in bytes.\n   */\n  get size () {\n    return this.#size\n  }\n\n  /**\n   * The type property of a Blob object returns the MIME type of the file.\n   */\n  get type () {\n    return this.#type\n  }\n\n  /**\n   * The text() method in the Blob interface returns a Promise\n   * that resolves with a string containing the contents of\n   * the blob, interpreted as UTF-8.\n   *\n   * @return {Promise<string>}\n   */\n  async text () {\n    // More optimized than using this.arrayBuffer()\n    // that requires twice as much ram\n    const decoder = new TextDecoder()\n    let str = ''\n    for await (const part of toIterator(this.#parts, false)) {\n      str += decoder.decode(part, { stream: true })\n    }\n    // Remaining\n    str += decoder.decode()\n    return str\n  }\n\n  /**\n   * The arrayBuffer() method in the Blob interface returns a\n   * Promise that resolves with the contents of the blob as\n   * binary data contained in an ArrayBuffer.\n   *\n   * @return {Promise<ArrayBuffer>}\n   */\n  async arrayBuffer () {\n    // Easier way... Just a unnecessary overhead\n    // const view = new Uint8Array(this.size);\n    // await this.stream().getReader({mode: 'byob'}).read(view);\n    // return view.buffer;\n\n    const data = new Uint8Array(this.size)\n    let offset = 0\n    for await (const chunk of toIterator(this.#parts, false)) {\n      data.set(chunk, offset)\n      offset += chunk.length\n    }\n\n    return data.buffer\n  }\n\n  stream () {\n    const it = toIterator(this.#parts, true)\n\n    return new globalThis.ReadableStream({\n      // @ts-ignore\n      type: 'bytes',\n      async pull (ctrl) {\n        const chunk = await it.next()\n        chunk.done ? ctrl.close() : ctrl.enqueue(chunk.value)\n      },\n\n      async cancel () {\n        await it.return()\n      }\n    })\n  }\n\n  /**\n   * The Blob interface's slice() method creates and returns a\n   * new Blob object which contains data from a subset of the\n   * blob on which it's called.\n   *\n   * @param {number} [start]\n   * @param {number} [end]\n   * @param {string} [type]\n   */\n  slice (start = 0, end = this.size, type = '') {\n    const { size } = this\n\n    let relativeStart = start < 0 ? Math.max(size + start, 0) : Math.min(start, size)\n    let relativeEnd = end < 0 ? Math.max(size + end, 0) : Math.min(end, size)\n\n    const span = Math.max(relativeEnd - relativeStart, 0)\n    const parts = this.#parts\n    const blobParts = []\n    let added = 0\n\n    for (const part of parts) {\n      // don't add the overflow to new blobParts\n      if (added >= span) {\n        break\n      }\n\n      const size = ArrayBuffer.isView(part) ? part.byteLength : part.size\n      if (relativeStart && size <= relativeStart) {\n        // Skip the beginning and change the relative\n        // start & end position as we skip the unwanted parts\n        relativeStart -= size\n        relativeEnd -= size\n      } else {\n        let chunk\n        if (ArrayBuffer.isView(part)) {\n          chunk = part.subarray(relativeStart, Math.min(size, relativeEnd))\n          added += chunk.byteLength\n        } else {\n          chunk = part.slice(relativeStart, Math.min(size, relativeEnd))\n          added += chunk.size\n        }\n        relativeEnd -= size\n        blobParts.push(chunk)\n        relativeStart = 0 // All next sequential parts should start at 0\n      }\n    }\n\n    const blob = new Blob([], { type: String(type).toLowerCase() })\n    blob.#size = span\n    blob.#parts = blobParts\n\n    return blob\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'Blob'\n  }\n\n  static [Symbol.hasInstance] (object) {\n    return (\n      object &&\n      typeof object === 'object' &&\n      typeof object.constructor === 'function' &&\n      (\n        typeof object.stream === 'function' ||\n        typeof object.arrayBuffer === 'function'\n      ) &&\n      /^(Blob|File)$/.test(object[Symbol.toStringTag])\n    )\n  }\n}\n\nObject.defineProperties(_Blob.prototype, {\n  size: { enumerable: true },\n  type: { enumerable: true },\n  slice: { enumerable: true }\n})\n\n/** @type {typeof globalThis.Blob} */\nexport const Blob = _Blob\nexport default Blob\n","/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */\n\nimport C from 'fetch-blob'\nimport F from 'fetch-blob/file.js'\n\nvar {toStringTag:t,iterator:i,hasInstance:h}=Symbol,\nr=Math.random,\nm='append,set,get,getAll,delete,keys,values,entries,forEach,constructor'.split(','),\nf=(a,b,c)=>(a+='',/^(Blob|File)$/.test(b && b[t])?[(c=c!==void 0?c+'':b[t]=='File'?b.name:'blob',a),b.name!==c||b[t]=='blob'?new F([b],c,b):b]:[a,b+'']),\ne=(c,f)=>(f?c:c.replace(/\\r?\\n|\\r/g,'\\r\\n')).replace(/\\n/g,'%0A').replace(/\\r/g,'%0D').replace(/\"/g,'%22'),\nx=(n, a, e)=>{if(a.length<e){throw new TypeError(`Failed to execute '${n}' on 'FormData': ${e} arguments required, but only ${a.length} present.`)}}\n\nexport const File = F\n\n/** @type {typeof globalThis.FormData} */\nexport const FormData = class FormData {\n#d=[];\nconstructor(...a){if(a.length)throw new TypeError(`Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.`)}\nget [t]() {return 'FormData'}\n[i](){return this.entries()}\nstatic [h](o) {return o&&typeof o==='object'&&o[t]==='FormData'&&!m.some(m=>typeof o[m]!='function')}\nappend(...a){x('append',arguments,2);this.#d.push(f(...a))}\ndelete(a){x('delete',arguments,1);a+='';this.#d=this.#d.filter(([b])=>b!==a)}\nget(a){x('get',arguments,1);a+='';for(var b=this.#d,l=b.length,c=0;c<l;c++)if(b[c][0]===a)return b[c][1];return null}\ngetAll(a,b){x('getAll',arguments,1);b=[];a+='';this.#d.forEach(c=>c[0]===a&&b.push(c[1]));return b}\nhas(a){x('has',arguments,1);a+='';return this.#d.some(b=>b[0]===a)}\nforEach(a,b){x('forEach',arguments,1);for(var [c,d]of this)a.call(b,d,c,this)}\nset(...a){x('set',arguments,2);var b=[],c=!0;a=f(...a);this.#d.forEach(d=>{d[0]===a[0]?c&&(c=!b.push(a)):b.push(d)});c&&b.push(a);this.#d=b}\n*entries(){yield*this.#d}\n*keys(){for(var[a]of this)yield a}\n*values(){for(var[,a]of this)yield a}}\n\n/** @param {FormData} F */\nexport function formDataToBlob (F,B=C){\nvar b=`${r()}${r()}`.replace(/\\./g, '').slice(-28).padStart(32, '-'),c=[],p=`--${b}\\r\\nContent-Disposition: form-data; name=\"`\nF.forEach((v,n)=>typeof v=='string'\n?c.push(p+e(n)+`\"\\r\\n\\r\\n${v.replace(/\\r(?!\\n)|(?<!\\r)\\n/g, '\\r\\n')}\\r\\n`)\n:c.push(p+e(n)+`\"; filename=\"${e(v.name, 1)}\"\\r\\nContent-Type: ${v.type||\"application/octet-stream\"}\\r\\n\\r\\n`, v, '\\r\\n'))\nc.push(`--${b}--`)\nreturn new B(c,{type:\"multipart/form-data; boundary=\"+b})}\n","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\tif (!headers.has('Connection') && !agent) {\n\t\theaders.set('Connection', 'close');\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\trequest.body.destroy(error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\t\t\tfinalize();\n\t\t});\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError };\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"loaded\", otherwise not loaded yet\nvar installedChunks = {\n\t179: 1\n};\n\n// no on chunks loaded\n\nvar installChunk = (chunk) => {\n\tvar moreModules = chunk.modules, chunkIds = chunk.ids, runtime = chunk.runtime;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tfor(var i = 0; i < chunkIds.length; i++)\n\t\tinstalledChunks[chunkIds[i]] = 1;\n\n};\n\n// require() chunk loading for javascript\n__webpack_require__.f.require = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\tinstallChunk(require(\"./\" + __webpack_require__.u(chunkId)));\n\t\t} else installedChunks[chunkId] = 1;\n\t}\n};\n\n// no external install chunk\n\n// no HMR\n\n// no HMR manifest","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".extension.js\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(8311);\n"],"names":["Object","defineProperty","exports","value","createFileSystemAdapter","FILE_SYSTEM_ADAPTER","fs","lstat","stat","lstatSync","statSync","readdir","readdirSync","fsMethods","undefined","assign","IS_SUPPORT_READDIR_WITH_FILE_TYPES","NODE_PROCESS_VERSION_PARTS","process","versions","node","split","Error","MAJOR_VERSION","Number","parseInt","MINOR_VERSION","IS_MATCHED_BY_MAJOR","IS_MATCHED_BY_MAJOR_AND_MINOR","Settings","scandirSync","scandir","async","sync","settings_1","getSettings","settingsOrOptions","default","path","optionsOrSettingsOrCallback","callback","read","optionsOrSettings","settings","readdirWithFileTypes","fsStat","rpl","constants_1","utils","common","directory","withFileTypes","readdirError","dirents","callFailureCallback","entries","map","dirent","name","joinPathSegments","pathSegmentSeparator","followSymbolicLinks","callSuccessCallback","tasks","entry","done","isSymbolicLink","statError","stats","throwErrorOnBrokenSymbolicLink","createDirentFromStats","makeRplTaskEntry","rplError","rplEntries","names","fsStatSettings","error","result","a","b","separator","endsWith","entryPath","constructor","_options","this","_getValue","sep","followSymbolicLink","option","DirentFromStats","isBlockDevice","bind","isCharacterDevice","isDirectory","isFIFO","isFile","isSocket","lstatError","markSymbolicLink","walkStream","walkSync","walk","async_1","stream_1","sync_1","_root","_settings","_reader","_storage","onError","onEntry","push","onEnd","_stream","Readable","objectMode","destroy","isDestroyed","emit","events_1","fsScandir","fastq","reader_1","AsyncReader","super","_scandir","_emitter","EventEmitter","_queue","_worker","concurrency","_isFatalError","_isDestroyed","drain","setImmediate","_pushToQueue","basePath","killAndDrain","on","once","base","queueItem","_handleError","item","fsScandirSettings","_handleEntry","isFatalError","fullpath","isAppliedFilter","entryFilter","_emitEntry","deepFilter","replacePathSegmentSeparator","errorFilter","filter","filepath","join","SyncReader","arguments","Set","_handleQueue","add","values","_handleDirectory","_pushToStorage","POSITIVE_INFINITY","module","arguments_","concat","stringify","compile","expand","parse","braces","input","options","output","Array","isArray","pattern","create","nodupes","noempty","Boolean","length","fill","ast","parent","invalidBlock","isInvalidBrace","invalidNode","invalid","escapeInvalid","prefix","isOpen","isClose","type","prev","nodes","ranges","args","reduce","range","wrap","toRegex","child","MAX_LENGTH","CHAR_0","CHAR_9","CHAR_UPPERCASE_A","CHAR_LOWERCASE_A","CHAR_UPPERCASE_Z","CHAR_LOWERCASE_Z","CHAR_LEFT_PARENTHESES","CHAR_RIGHT_PARENTHESES","CHAR_ASTERISK","CHAR_AMPERSAND","CHAR_AT","CHAR_BACKSLASH","CHAR_BACKTICK","CHAR_CARRIAGE_RETURN","CHAR_CIRCUMFLEX_ACCENT","CHAR_COLON","CHAR_COMMA","CHAR_DOLLAR","CHAR_DOT","CHAR_DOUBLE_QUOTE","CHAR_EQUAL","CHAR_EXCLAMATION_MARK","CHAR_FORM_FEED","CHAR_FORWARD_SLASH","CHAR_HASH","CHAR_HYPHEN_MINUS","CHAR_LEFT_ANGLE_BRACKET","CHAR_LEFT_CURLY_BRACE","CHAR_LEFT_SQUARE_BRACKET","CHAR_LINE_FEED","CHAR_NO_BREAK_SPACE","CHAR_PERCENT","CHAR_PLUS","CHAR_QUESTION_MARK","CHAR_RIGHT_ANGLE_BRACKET","CHAR_RIGHT_CURLY_BRACE","CHAR_RIGHT_SQUARE_BRACKET","CHAR_SEMICOLON","CHAR_SINGLE_QUOTE","CHAR_SPACE","CHAR_TAB","CHAR_UNDERSCORE","CHAR_VERTICAL_LINE","CHAR_ZERO_WIDTH_NOBREAK_SPACE","append","queue","stash","enclose","flatten","ele","rangeLimit","p","q","dollar","pop","exceedsLimit","step","RangeError","encloseBrace","block","i","TypeError","opts","max","maxLength","Math","min","SyntaxError","stack","brackets","index","depth","advance","open","shift","commas","siblings","before","close","slice","next","keepQuotes","keepEscaping","forEach","indexOf","splice","isOpenOrClose","isInteger","num","trim","find","limit","escapeNode","n","escaped","acc","flat","arr","mask","source","offset","unmask","buffer","__dirname","e","formatArgs","useColors","namespace","humanize","diff","c","color","lastC","replace","match","save","namespaces","storage","setItem","removeItem","load","r","getItem","env","DEBUG","window","__nwjs","navigator","userAgent","toLowerCase","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","RegExp","$1","localStorage","localstorage","warned","warn","colors","log","debug","formatters","j","v","JSON","message","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","self","curr","Date","ms","coerce","unshift","format","formatter","val","call","apply","selectColor","extend","enumerable","configurable","get","set","init","delimiter","newDebug","toNamespace","regexp","toString","substring","disable","skips","enable","len","test","keys","key","hash","charCodeAt","abs","browser","tty","util","inspectOpts","stderr","write","colorCode","hideDate","toISOString","isatty","fd","deprecate","supportsColor","level","obj","prop","_","k","toUpperCase","o","inspect","str","O","pathType","getExtensions","extensions","getPath","cwd","pth","isAbsolute","getGlob","files","x","posix","file","extname","globs","Promise","all","isDirectorySync","buf","WebSocket","createWebSocketStream","Server","Receiver","Sender","WebSocketServer","EMPTY_BUFFER","_mask","_unmask","list","totalLength","target","Buffer","allocUnsafe","toArrayBuffer","byteLength","byteOffset","toBuffer","data","readOnly","isBuffer","ArrayBuffer","from","isView","WS_NO_BUFFER_UTIL","bufferUtil","BINARY_TYPES","alloc","GUID","kForOnEventAttribute","Symbol","kListener","kStatusCode","kWebSocket","NOOP","kCode","kData","kError","kMessage","kReason","kTarget","kType","kWasClean","Event","prototype","CloseEvent","code","reason","wasClean","ErrorEvent","MessageEvent","EventTarget","addEventListener","handler","listener","listeners","wrapper","isBinary","event","callListener","_closeFrameReceived","_closeFrameSent","removeEventListener","removeListener","thisArg","handleEvent","tokenChars","dest","elem","extension","configurations","params","header","offers","extensionName","paramName","mustUnescape","isEscaping","inQuotes","start","end","token","kDone","kRun","pending","Infinity","jobs","job","zlib","Limiter","TRAILER","kPerMessageDeflate","kTotalLength","kCallback","kBuffers","zlibLimiter","deflateOnData","chunk","inflateOnData","_maxPayload","reset","inflateOnError","err","_inflate","isServer","maxPayload","_threshold","threshold","_isServer","_deflate","concurrencyLimit","offer","serverNoContextTakeover","server_no_context_takeover","clientNoContextTakeover","client_no_context_takeover","serverMaxWindowBits","server_max_window_bits","clientMaxWindowBits","client_max_window_bits","accept","normalizeParams","acceptAsServer","acceptAsClient","cleanup","accepted","response","decompress","fin","_decompress","compress","_compress","endpoint","windowBits","Z_DEFAULT_WINDOWBITS","createInflateRaw","zlibInflateOptions","flush","_readableState","endEmitted","createDeflateRaw","zlibDeflateOptions","Z_SYNC_FLUSH","Writable","PerMessageDeflate","isValidStatusCode","isValidUTF8","ErrorCtor","statusCode","errorCode","captureStackTrace","_binaryType","binaryType","_extensions","_skipUTF8Validation","skipUTF8Validation","_bufferedBytes","_buffers","_compressed","_payloadLength","_fragmented","_masked","_fin","_opcode","_totalPayloadLength","_messageLength","_fragments","_state","_loop","_write","encoding","cb","startLoop","consume","dst","Uint8Array","getInfo","getPayloadLength16","getPayloadLength64","getMask","getData","compressed","haveLength","readUInt16BE","readUInt32BE","pow","controlMessage","dataMessage","er","messageLength","fragments","randomFillSync","applyMask","kByteLength","maskBuffer","socket","generateMask","_generateMask","_maskBuffer","_socket","_firstFragment","_deflating","static","dataLength","merge","skipMasking","payloadLength","opcode","rsv1","writeUInt16BE","writeUIntBE","enqueue","dispatch","sendFrame","frame","ping","pong","send","perMessageDeflate","binary","destroyed","dequeue","Reflect","cork","uncork","Duplex","emitClose","stream","duplexOnEnd","_writableState","finished","duplexOnError","listenerCount","ws","terminateOnDestroy","duplex","autoDestroy","writableObjectMode","msg","pause","_destroy","readyState","CLOSED","nextTick","called","terminate","_final","CONNECTING","_read","isPaused","resume","protocols","protocol","has","_isValidUTF8","WS_NO_UTF_8_VALIDATE","http","createHash","subprotocol","keyRegex","server","socketOnError","abortHandshake","headers","STATUS_CODES","Connection","h","abortHandshakeOrEmitwsClientError","req","handleProtocols","clientTracking","verifyClient","noServer","backlog","host","port","_server","createServer","res","body","writeHead","listen","emitConnection","_removeListeners","addListeners","listening","upgrade","head","handleUpgrade","clients","_shouldEmitClose","address","size","shouldHandle","url","version","method","secWebSocketProtocol","secWebSocketExtensions","info","origin","secure","authorized","encrypted","verified","completeUpgrade","readable","writable","update","digest","_protocol","setSocket","delete","https","net","tls","randomBytes","URL","kAborted","protocolVersions","readyStates","subprotocolRegex","_closeCode","_closeMessage","_closeTimer","_paused","_readyState","_receiver","_sender","_bufferedAmount","_redirects","initAsClient","includes","bufferedAmount","onclose","onerror","onopen","onmessage","_url","receiver","receiverOnConclude","receiverOnDrain","receiverOnError","receiverOnMessage","receiverOnPing","receiverOnPong","setTimeout","setNoDelay","socketOnClose","socketOnData","socketOnEnd","OPEN","removeAllListeners","_req","CLOSING","errorEmitted","sendAfterClose","needDrain","websocket","protocolVersion","followRedirects","maxRedirects","createConnection","socketPath","hostname","timeout","parsedUrl","href","isSecure","isIpcUrl","invalidUrlMessage","pathname","emitErrorAndClose","defaultPort","request","protocolSet","tlsConnect","netConnect","startsWith","Upgrade","search","handshakeTimeout","Origin","username","password","auth","parts","_originalIpc","_originalSecure","_originalHostOrSocketPath","isSameHost","authorization","cookie","location","addr","abort","serverProt","protError","extensionNames","connect","servername","isIP","setHeader","receiverOnFinish","clearTimeout","property","isGlob","pathPosixDirname","dirname","isWin32","backslash","enclosure","globby","flipBackslashes","taskManager","patternManager","FastGlob","assertPatternsInput","works","getWorks","array","_Provider","patterns","transform","generate","provider","every","string","isString","isEmpty","generateTasks","isDynamicPattern","escapePath","escape","removeDuplicateSlashes","DOUBLE_SLASH_RE","convertPatternGroupToTask","convertPatternGroupsToTasks","groupPatternsByBaseDirectory","getNegativePatternsAsPositive","getPositivePatterns","convertPatternsToTasks","positive","negative","dynamic","patternsOutsideCurrentDirectory","getPatternsOutsideCurrentDirectory","patternsInsideCurrentDirectory","getPatternsInsideCurrentDirectory","outsideCurrentDirectoryGroup","insideCurrentDirectoryGroup","ignore","getNegativePatterns","convertToPositivePattern","collection","getBaseDirectory","convertToNegativePattern","positivePatterns","negativePatterns","staticPatterns","isStaticPattern","dynamicPatterns","staticTasks","dynamicTasks","provider_1","ProviderAsync","task","root","_getRootDirectory","_getReaderOptions","api","partial_1","_micromatchOptions","getFilter","matcher","_getMatcher","negativeRe","_getNegativePatternsRe","_filter","affectDepthOfReadingPatterns","isAffectDepthOfReadingPattern","convertPatternsToRe","_isSkippedByDeep","_isSkippedSymbolicLink","removeLeadingDotSegment","_isSkippedByPositivePatterns","_isSkippedByNegativePatterns","deep","_getEntryLevel","entryPathDepth","baseNameMatch","patternsRe","matchAny","Map","positiveRe","unique","_isDuplicateEntry","_onlyFileFilter","_onlyDirectoryFilter","_isSkippedByAbsoluteNegativePatterns","isMatched","_isMatchToPatterns","_createIndexRecord","onlyFiles","onlyDirectories","absolute","makeAbsolute","_isNonFatalError","errno","isEnoentCodeError","suppressErrors","_patterns","_fillStorage","expandPatternsWithBraceExpansion","segments","_getPatternSegments","sections","_splitSegmentsIntoSections","complete","getPatternParts","part","patternRe","makeRe","splitWhen","segment","hasGlobStar","matcher_1","PartialMatcher","levels","section","deep_1","entry_1","error_1","entry_2","_getMicromatchOptions","entryTransformer","resolve","getTransformer","dot","matchBase","nobrace","braceExpansion","nocase","caseSensitiveMatch","noext","extglob","noglobstar","globstar","strictSlashes","stream_2","ProviderStream","destination","ProviderSync","_transform","unixify","markDirectories","fsWalk","ReaderAsync","_walkAsync","_readerStream","reject","_fsStatSettings","_getFullEntryPath","_makeEntry","ReaderStream","_walkStream","_stat","filepaths","PassThrough","_enc","_getEntry","then","catch","_getStat","ReaderSync","_walkSync","_statSync","DEFAULT_FILE_SYSTEM_ADAPTER","os","CPU_COUNT","cpus","_getFileSystemMethods","methods","items","predicate","groupIndex","UNESCAPED_GLOB_SYMBOLS_RE","charAt","secondCharactery","expandBraceExpansion","endsWithSlashGlobStar","isPatternRelatedToParentDirectory","isPositivePattern","isNegativePattern","globParent","micromatch","ESCAPE_SYMBOL","COMMON_GLOB_SYMBOLS_RE","REGEX_CHARACTER_CLASS_SYMBOLS_RE","REGEX_GROUP_SYMBOLS_RE","GLOB_EXTENSION_SYMBOLS_RE","BRACE_EXPANSION_SEPARATORS_RE","openingBraceIndex","closingBraceIndex","braceContent","hasBraceExpansion","basename","scan","some","merge2","propagateCloseEventToSources","streams","mergedStream","reusify","fastqueue","context","worker","cache","Task","queueHead","queueTail","_running","errorHandler","current","release","noop","paused","saturated","worked","running","idle","counter","getQueue","empty","kill","holder","promise","arg","pushCb","unshiftCb","drained","previousDrain","toRegexRange","isObject","isValidValue","isNumber","zeros","pad","toNumber","dash","padStart","String","toMaxLen","toRange","isNumbers","fromCharCode","capture","rangeError","invalidRange","strictRanges","descending","startString","endString","stepString","padded","maxLen","negatives","positives","sort","toSequence","fillNumbers","fillLetters","invalidStep","glob","reStr","extended","inGroup","flags","prevChar","starCount","nextChar","promisify","fastGlob","gitIgnore","slash","DEFAULT_IGNORE","readFileP","readFile","parseGitIgnore","content","relative","fileName","line","mapGitIgnorePatternTo","reduceIgnore","ignores","filePath","getIsIgnoredPredecate","ensureAbsolutePathForCwd","normalizeOptions","paths","getFile","readFileSync","getFileSync","arrayUnion","dirGlob","gitignore","FilterStream","UniqueStream","DEFAULT_FILTER","isNegative","generateGlobTasks","taskOptions","checkCwdOption","globTasks","expandDirectories","getPattern","fn","globDirs","getFilterSync","globToTask","getTasks","path_","Stats","newTask","matches","filterStream","uniqueStream","pipe","hasMagic","Transform","ObjectTransform","_pushed","flag","argv","position","terminatorPosition","makeArray","subject","REGEX_TEST_BLANK_LINE","REGEX_INVALID_TRAILING_BACKSLASH","REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION","REGEX_REPLACE_LEADING_EXCAPED_HASH","REGEX_SPLITALL_CRLF","REGEX_TEST_INVALID_PATH","TMP_KEY_IGNORE","for","KEY_IGNORE","REGEX_REGEXP_RANGE","RETURN_FALSE","REPLACERS","p1","p2","leadEscape","endEscape","slashes","cleanRangeBackSlash","to","sanitizeRange","regexCache","IgnoreRule","regex","throwError","Ctor","checkPath","originalPath","doThrow","isNotRelative","convert","Ignore","ignorecase","ignoreCase","allowRelativePaths","_rules","_ignoreCase","_allowRelativePaths","_initCache","_ignoreCache","_testCache","_addPattern","_added","checkPattern","rule","substr","makeRegex","createRule","splitPattern","addPattern","_testOne","checkUnignored","ignored","unignored","_test","slices","_t","createFilter","factory","isPathValid","IGNORE_TEST_WIN32","platform","makePosix","REGIX_IS_WINDOWS_PATH_ABSOLUTE","exec","isExtglob","chars","strictCheck","pipeIndex","closeSquareIndex","closeCurlyIndex","closeParenIndex","backSlashIndex","relaxedCheck","check","strict","isFinite","pauseStreams","streamsQueue","merging","doEnd","doPipeError","pipeError","highWaterMark","addStream","mergeStream","endStream","pipesCount","onend","setMaxListeners","picomatch","isEmptyString","omit","keep","onResult","state","isMatch","negated","negatedExtglob","matched","failglob","nonull","nullglob","unescape","any","not","contains","matchKeys","isWindows","toPosixSlashes","braceExpand","s","m","d","plural","msAbs","isPlural","round","parseFloat","long","fmtShort","globalThis","DOMException","MessageChannel","port1","ab","postMessage","runtimeRequire","addon","vars","config","variables","prebuildsOnly","PREBUILDS_ONLY","abi","modules","runtime","electron","ELECTRON_RUN_AS_NODE","nw","arch","npm_config_arch","npm_config_platform","libc","LIBC","existsSync","isAlpine","armv","ARM_VERSION","arm_version","uv","dir","getFirst","matchBuild","parseTuple","architectures","matchTuple","tuple","compareTuples","parseTags","tags","specificity","tag","napi","matchTags","runtimeAgnostic","compareTags","prebuild","nearby","execPath","prebuilds","winner","isType","fsStatType","statsMethodName","isTypeSync","isSymlink","isFileSync","isSymlinkSync","WIN_SLASH","WIN_NO_SLASH","DOT_LITERAL","SLASH_LITERAL","QMARK","END_ANCHOR","START_ANCHOR","DOTS_SLASH","POSIX_CHARS","PLUS_LITERAL","QMARK_LITERAL","ONE_CHAR","NO_DOT","NO_DOTS","NO_DOT_SLASH","NO_DOTS_SLASH","QMARK_NO_DOT","STAR","WINDOWS_CHARS","POSIX_REGEX_SOURCE","alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit","REGEX_BACKSLASH","REGEX_NON_SPECIAL_CHARS","REGEX_SPECIAL_CHARS","REGEX_SPECIAL_CHARS_BACKREF","REGEX_SPECIAL_CHARS_GLOBAL","REGEX_REMOVE_BACKSLASH","REPLACEMENTS","CHAR_BACKWARD_SLASH","CHAR_GRAVE_ACCENT","SEP","extglobChars","globChars","win32","constants","expandRange","ex","escapeRegex","syntaxError","char","bos","prepend","tokens","PLATFORM_CHARS","EXTGLOB_CHARS","nodot","qmarkNoDot","star","bash","noextglob","consumed","backtrack","parens","quotes","removePrefix","extglobs","eos","peek","remaining","negate","count","increment","decrement","tok","isBrace","inner","extglobOpen","conditions","extglobClose","rest","extglobStar","expression","fastpaths","backslashes","esc","first","repeat","wrapOutput","idx","lastIndexOf","pre","strictBrackets","nobracket","prevValue","literalBrackets","hasRegexChars","outputIndex","tokensIndex","brace","dots","comma","out","toks","t","supportsLookbehinds","nonegate","prior","isStart","afterStar","after","escapeLast","suffix","slashDot","returnState","fns","arrayMatcher","isState","compileRe","isIgnored","ignoreOpts","onMatch","returnObject","onIgnore","returnOutput","parsed","isPathSeparator","isPrefix","isGlobstar","scanToEnd","lastIndex","isBracket","braceEscaped","noparen","removeBackslashes","maxDepth","prevIndex","isRegexChar","segs","windows","lastIdx","queueMicrotask","global","Constructor","tail","results","isSync","each","isExtendedLengthPath","hasNonAscii","hasFlag","forceColor","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","osRelease","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","FORCE_COLOR","isTTY","stdout","relaxZeros","strictZeros","cacheKey","shorthand","hasOwnProperty","isPadded","hasPadding","splitToPatterns","neg","pos","onlyNegative","filterPatterns","onlyPositive","intersected","collatePatterns","rangeToPattern","stop","digits","zipped","zip","startDigit","stopDigit","nines","countNines","stops","countZeros","compare","splitToRanges","padZeros","toQuantifier","comparison","intersection","integer","relax","clearCache","AI_EXCLUDE_FILENAME","IGNORE_ALL_PATTERN","ALWAYS_IGNORE","contentRoot","homedir","globbyOptions","aiExcludeFiles","searchAiExcludeFiles","aiExcludeFilesMap","contents","allPatterns","getCleanPattern","getPatternsFromFileContent","filename","getPatternsToExclude","excludeFilePath","isUndefined","registerReceiver","addListener","executeListeners","broker","sendMessage","FunctionState","thread","functionFrame","frames","genericFromLastFrame","lastFrameWhichRequiresPermission","framesWhichRequirePermission","fromFrame","metadata","functionResult","status","followup","followupOnlyIfShowing","showFollowup","readFiles","readUrls","requiresPermission","anyRequiresPermission","hasReadFiles","hasReadUrls","hasSources","framesRequiringPermission","ChatStatus","newThreadID","newThreadWithActionsID","retryErrorStrings","lerp","idxAgentSettings","disableContentLogging","fileLogger","functionManager","llm","systemInstruction","facts","history","functionState","lastKnownGoodPoint","aidaCredentials","handleValidResponse","notifyChatHistory","allowLastFunctionCall","abortSignal","failedResponses","candidateRetries","initialCandidateRetries","urlIsAida","originalLastUserMessage","internal","text","originalUserPreamble","originalAgentPreamble","validateResponse","validationFailure","candidates","externalPart","functionCall","validateFunctionCall","validationSuccess","restoreHistoryIfNecessary","errorMessage","rpcGlobalId","logRetryFailed","lastUserMessage","speaker","pushUserMessage","functionThreadState","handleStreamFailure","popBack","handleRetry","isChunk","corrections","logRetry","responseMetadata","newLastUserMessage","currentUserPreamble","currentAgentPreamble","newUserPreamble","newAgentPreamble","succeeded","ValidationResultStatus","Success","handleRetryFailure","randomInt","getGenerationConfig","temperature","llmMinTemperature","llmMaxTemperature","topK","floor","llmMinTopK","llmMaxTopK","topP","llmMinTopP","llmMaxTopP","candidateCount","generationConfig","tools","allowTools","functionDeclarations","toolDefinitions","urlNeedsProjectId","requestMetadata","projectId","role","useStreaming","streamingResponseReader","streamGenerateContent","getReader","handleResponse","generateContent","sleep","lastFunctionState","stateIs","callLoop","errorString","aborted","validationFailures","Failure","previous","debugLogger","logs","correction","userContent","modelContent","functionResponseToContent","functionResponse","readFileResponse","runTerminalCommandResponse","writeFileResponse","listProjectFilesResponse","command","isDoNotTrackRegion","systemInterface","getAidaCredentials","usePlaybackLlm","PlaybackLLM","LiveLLM","teeName","fileLogToChannel","outsideOfIDX","FileLogger","TaskManager","retrieval","Retrieval","ragSelfAwarenessApiKey","ragSelfAwarenessCorpusId","initializeDefaultFunctionManager","chatHistory","user","notifyPreparingResponse","PreparingResponse","notifyReady","Ready","functions","ReadFileFunction","WriteFileFunction","DeleteFileFunction","RunTerminalCommandFunction","ListProjectFilesFunction","webSearchIsEnabled","WebSearchFunction","FunctionManager","action","makeRemoteCall","performAction","logFunctionActionTaken","processContextualSlashCommands","slashCommand","prompt","interactiveCommand","INTERACTIVE_PROMPT","interactiveSlashCommand","questionCommand","QUESTION_PROMPT","questionSlashCommand","promptWithoutSlashCommands","alwaysAllowTools","systemInstructionFile","fileExists","ctx","originalPrompt","promptWithoutSlashCommand","initializeSystemInstruction","scripts","initializeAida","initializeGenAi","useLocalRAG","useRetrieval","isRetrievalEnabled","useSelfAwarenessRAG","ragSelfAwareness","historyMark","userPrompt","retrievedSnippets","retrieveSnippets","ragMaxDistance","ragMaxResults","activeEditorString","activeEditorSnippets","relevantSnippet","relevantSnippets","retrieve","snippet","userInfo","getCurrentUserInfo","rejectLastFunctionCall","pushInternalMessage","conversation_utils","userText","updateFunctionArgs","updateFunctionMetadata","addCall","functionCallToUserMessage","setFollowup","usedRag","lastInternalMessage","ApiCallHelper","wrappedCallLoop","executing","callFunction","rejectFunctionCall","logActionRejected","LLM","generateContentRequest","bodyJsonString","llmModel","fetch","Authorization","apiKey","signal","json","responseReader","pipeThrough","TextDecoderStream","ReadableStream","controller","overrideConfig","maxOutputTokens","llmMaxOutputTokens","stopSequences","abortableSleep","visitScriptNames","scriptNames","onScript","onUnrecognized","scriptName","cleanScriptName","StreamingResponse","payload","scriptList","currentScriptIndex","currentScriptName","currentScriptListIndex","systemMessage","textMessage","scriptString","getOwnPropertyNames","helpMessage","unrecognizedScripts","unrecognizedScriptsString","nextScriptMessage","lastMessage","ensureScriptInitialized","currentScript","unrecognizedScript","scriptIteration","handleErrorSentinel","errorSentinel","streamingResponse","that","pump","badResponse","badFunctionArgumentsScript","responses","writeFile","runTerminalCommand","badResponsesFromLLMScript","badFunctionCallsScript","badArg1","badArg2","textForFile","tooManyRetriesScript","retryWithRecoverScript","explicitCasesScript","helloWorldScript","implicitWithExplicitCasesScript","implicitCasesScript","replyToUserScript","originalResponses","convertedResponses","responseText","replyToUser","convertImplicitCasesScript","script","errorMidStreamScript","streamingMessageScript","makeScripts","streamingTextMessage","apiResponse","texts","reply","corpusId","query","maxDocs","relevantChunks","resultsCount","metadataFilters","AbortSignal","stringValue","score","chunkRelevanceScore","encodedQuery","encodeURIComponent","webSearchUrl","webSearchCx","webSearchApiKey","Accept","chunks","functionMap","buildFunctionActions","buildToolDefinitions","f","description","parameters","getFunction","getFunctionFromCall","recursivelyValidate","schema","retryMessages","enum","isValid","requiredNames","required","properties","propertyScheme","functionName","theFunction","updateArgs","populateMetadata","logFunctionCallExecution","failure","actions","ExternalFunction","deleteFile","success","shared","detach","setResult","addUrl","ignoredNames","folderExists","listFilesRecursive","fileContent","stringWorkaround","uri","relativePathToWorkspaceUri","doesFileExist","fileUriExists","uriTo","vscode","Uri","now","workspace","TextEncoder","encode","uriFrom","commands","executeCommand","idxAgentSetting","webSearchEngine","WebSearchEngine","rawSearchResults","webSearch","link","open_diff_view","openDiffView","newFile","currentFileContent","filesString","filesJSONString","listProjectFilesCall","listProjectFilesSuccess","modelText","RunningTask","taskId","originalCommand","notifyDetached","notifyFinished","isDetached","isFinished","logFile","runningCommand","initialize","taskExecution","readFileAsString","finish","terminalTaskType","taskTimeoutMs","runningTasks","getTaskId","runningTask","executingTask","id","TaskScope","Workspace","ShellExecution","onDidEndTaskProcess","execution","definition","exitCode","executeTask","race","monospaceextension","getExtension","ignoreAiExclude","disableRAG","bypassEula","DO_SOMETHING_RECENTS_KEY","AIDA_TAB","AICHAT_VIEW_TYPE","stopGeneratingController","isPrivacyNoticeAccepted","isCurrentCountrySupported","socketIoClient","chatStatus","aiChatPanel","setupStatusbarText","statusBarItem","globalState","ThemeColor","navigateToFullFile","ref","wf","workspaceFolders","fullUri","joinPath","fsPath","viewColumn","ViewColumn","One","callAi","actionText","skippedChat","isFileExcluded","activeTextEditor","aiExclude","isExcluded","selectedCode","selText","getText","selection","showInformationMessage","currentLanguage","languageId","currentLine","hydrated","engine","hydrate","promptPromise","handleConversationPrompt","ensureAndShowAiChatPanel","extensionContext","activeEditor","stopGenerating","telemetry","logTelemetryEvent","threadManager","currentThread","clear","sendChatHistory","displayBody","parseCommand","template","prompts","byCommand","errors","errorsForRange","active","AbortController","areActionsEnabled","promptMessage","conversationalAgent","handleActionsInChatPrompt","setChatStatus","FAKE_AI_RESPONSE","indexedRepoFiles","getIndexedFiles","preamble","createPreambleFromPrompt","fileReferences","streamingConversationRpc","acquireStreamingRpc","aidaObservable","chatHistoryUpdate","trySaveThread","responseFromAida","handleBoqPrompt","responseMessage","debugInfo","vsc","reveal","createWebviewPanel","Two","retainContextWhenHidden","iconPath","extensionUri","onDidDispose","webview","enableScripts","localResourceRoots","html","getHtmlForWebview","setupWebView","internalHistory","logger","threadId","areSuggestedPromptsEnabled","cancelSuggestNextPrompt","_suggestNextPromptTimeouts","getThread","execute","suggestNextPromptPrompt","nextPrompt","llmResponse","suggestedNextPrompt","enqueueSuggestNextPrompt","errorIfHasNoSelection","setupAiRetrieval","io","INDEXSERVER_BASE_URL","currentResolve","currentReport","contentRootsInProgress","updateIndexingText","withProgress","ProgressLocation","Window","cancellable","title","report","logIndexingStarted","amountOfFiles","timeTaken","cr","logIndexingFinished","setupIndexingStatusBar","subscriptions","registerCommand","label","kind","QuickPickItemKind","Separator","showQuickPick","openNewThread","explainSelection","recents","quickPick","createQuickPick","refreshItems","buttons","ThemeIcon","tooltip","placeholder","selected","choseClear","onDidChangeValue","onDidChangeSelection","show","onDidAccept","hide","dispose","onDidTriggerItemButton","onDidHide","showDoSomethingDialog","chatEdit","chatAddComments","onDidChangeTextEditorSelectionDisposable","createStatusBarItem","StatusBarAlignment","Right","isAccepted","getPrivacyNoticeStatus","acceptAiPrivacyNotice","CONFIG_AI_ENABLE_INLINE_COMPLETION","getConfiguration","ConfigurationTarget","CONFIG_AI_ENABLE_RETRIEVAL","threads","listThreads","onDidChangeActiveTextEditor","scheme","onDidChangeTextEditorSelection","textEditor","features","isSlashCommandsEnabled","hasErrors","hasErrorsForRange","hasSelection","chatPrompts","actionsInChatAreEnabled","changeCurrentThread","doStreamingConversation","subscribe","modal","isCloseAffordance","confirm","deleteCurrentThread","allow","truncateToPosition","logthumbsUpOrDown","citations","editor","visibleTextEditors","comment","insertRecitation","recitation","edit","replaceSelectionWithCode","updateAIMetrics","updateLastCopiedCodeFromAIChat","openExternal","isActionsInChatEnabledFromBackend","isActionsInChatEnabled","isDefault","devtoolsDebug","chatHistoryToSet","CONFIG_AI_ENABLE_SUGGESTED_PROMPTS","isSaving","saveCurrentThread","nameThreadPrompt","StreamingConversationRpc","useSelfawareFacts","chatMessagesToSend","chatResponse","conversationResponses","allCitations","whenDone","startIndex","textForCurrent","isNotEmpty","endIndex","citationStr","seen","dedupedArray","citation","repository","license","dedupe","mergeWithExistingCodeBlockIfPresent","chatHistoryItem","firstResponse","startTime","observer","responseTime","duration","getTime","logLatencyEvent","getMilliseconds","entity","elapsedTime","start_time","end_time","details","AiExclude","isWatching","performance","watchAiExcludeFiles","watcher","createFileSystemWatcher","onDidChange","onDidCreate","onDidDelete","recitationPanel","focusId","sendRecitationLogToWebview","attributionsList","getLicenseAttributionList","ensureAndShowRecitationPanel","anchor","userFacing","internalFacing","internalMarks","lastInternalPart","lastInternalFunctionCall","fromLastFrame","popTo","targetRange","wholeRange","Range","diagnostics","languages","getDiagnostics","isIdxPluginReady","waitForIDXPluginToBeReady","createBroker","ExtensionBroker","OutputChannel","makePromptEngine","generateCode","summary","roleDecorator","retrievers","idxdocs","defaultEngine","FeatureFlags","AiExcludeProvider","initializeIdxAgentSettings","ConversationalAgent","initializeIdxAgentSystemInterface","getProjectId","getToken","initializeThreadManager","setupPromptProvider","aiExport","setupAiChat","setupSidekick","setupAiRecitation","setupWebViewThemingSync","initializeTelemetryLogger","isEnabled","isFeatureEnabled","relativePath","fileTypeUriExists","fileType","fileTypeExists","workspaceUri","openDocument","openTextDocument","showTextDocument","collectFilesRecursive","rootUri","collectedFiles","configPath","readDirectory","FileType","File","Directory","decoder","TextDecoder","decode","encoder","entryName","globals","scriptUri","asWebviewUri","styleUri","moniconWoffUri","codiconCssUri","codiconTtfUri","rootExtensionUri","nonce","possible","random","getNonce","cspSource","defaultLlmUrl","defaultAidaLlmUrl","getProperty","CONFIG_AI_ACTIONS_IN_CHAT_URL","CONFIG_AI_ACTIONS_IN_CHAT_URL_IS_AIDA","CONFIG_AI_ACTIONS_IN_CHAT_API_KEY","CONFIG_AI_ACTIONS_IN_CHAT_MODEL","CONFIG_AI_ACTIONS_IN_CHAT_MIN_TEMPERATURE","CONFIG_AI_ACTIONS_IN_CHAT_MAX_TEMPERATURE","CONFIG_AI_ACTIONS_IN_CHAT_MIN_TOP_K","CONFIG_AI_ACTIONS_IN_CHAT_MAX_TOP_K","CONFIG_AI_ACTIONS_IN_CHAT_MIN_TOP_P","CONFIG_AI_ACTIONS_IN_CHAT_MAX_TOP_P","CONFIG_AI_ACTIONS_IN_CHAT_MAX_OUTPUT_TOKENS","CONFIG_AI_ACTIONS_IN_CHAT_AIDA_CANDIDATE_COUNT","CONFIG_AI_ACTIONS_IN_CHAT_DEFAULT","CONFIG_AI_ACTIONS_IN_CHAT_USE_RETRIEVAL","CONFIG_AI_ACTIONS_IN_CHAT_ALWAYS_ALLOW_TOOLS","CONFIG_AI_ACTIONS_IN_CHAT_CANDIDATE_RETRIES","CONFIG_AI_ACTIONS_IN_CHAT_FILE_LOG_TO_CHANNEL","CONFIG_AI_ACTIONS_IN_CHAT_USE_PLAYBACK_LLM","CONFIG_AI_ACTIONS_IN_CHAT_USE_STREAMING","CONFIG_AI_ENABLE_WEB_SEARCH","CONFIG_AI_WEB_SEARCH_CX","CONFIG_AI_WEB_SEARCH_API_KEY","CONFIG_AI_WEB_SEARCH_URL","CONFIG_AI_ACTIONS_IN_CHAT_INDEXSERVER_MAX_DISTANCE","CONFIG_AI_ACTIONS_IN_CHAT_INDEXSERVER_MAX_RESULTS","CONFIG_AI_ACTIONS_IN_CHAT_ENABLE_SELF_AWARENESS","CONFIG_AI_SLASH_IDX_RETRIEVAL_API_KEY","CONFIG_AI_SLASH_IDX_RETRIEVAL_CORPUS_ID","updateConfiguration","channel","createOutputChannel","logLevel","appendLine","tee","createFileDescriptor","mkdirSync","recursive","rmSync","force","fileDescriptor","openSync","logString","writeSync","Broker","webviews","onDidReceiveMessage","ext","isPreviewCommandsEnabled","CONFIG_AI_ENABLE_PREVIEW_COMMANDS","selfawareFacts","sidekickPrompts","availability","requiredContext","extensionPath","workspaceDir","watchForChanges","dirs","isEarlyAccessCommandsEnabled","workspaceTemplates","parseTemplates","watchTemplates","sidekickPrompt","requestPrompt","doesDirectoryExist","meta","frontmatter","preview","earlyAccess","watch","PromptProvider","frontmatterLength","disposables","onChange","RelativePattern","manager","PromptManager","w","INDEXSERVER_PORT","indexServerPort","SNIPPET_WRAP_IN_TICKS","SNIPPET_LINE_NUMBERS","CONFIG_AI_USE_LINE_NUMBERS_IN_RETRIEVAL","DEFAULT_MAX_DISTANCE","CONFIG_AI_INDEXSERVER_MAX_DISTANCE","DEFAULT_MAX_RESULTS","CONFIG_AI_INDEXSERVER_MAX_RESULTS","debugChannel","scope","CONFIG_AI_INDEXSERVER_PORT","sendSnippets","maxDistance","maxResults","searchResults","getContentRootsForIndexServer","roots","searchForRelevantSnippets","startLine","sourceFile","formatSnippet","heading","asRelativePath","sourceDescription","visibleRanges","getEditorContext","startIndexerForContentRoot","stopAndDeleteCurrentIndexer","formatLine","padEnd","updateWorkspaceFolderIndexing","onDidChangeConfiguration","affectsConfiguration","fullId","onDidChangeWorkspaceFolders","distance","toFixed","SidekickTelemetryReporter","feedback","SidekickFeedbackReporter","interactive","registerInteractiveEditorSessionProvider","SidekickProvider","isExcludedFile","pauseCompletions","slashCommands","telemetryMessage","detail","session","progress","edits","keepThread","setChatStatusToPreparingResponse","openFilename","openFileContent","getErrorList","generateCodeResponse","codeReponse","MarkdownString","setChatStatusToReady","setChatHistory","extractedCode","extractFirstCodeBlock","getRecitation","Position","newText","handleInteractiveEditorResponseFeedback","sentiment","InteractiveEditorResponseFeedbackKind","Helpful","Unhelpful","Undone","resumeCompletions","Accepted","latencyMs","logGenerateInteractionEvent","firstDelimieterIndex","lastDelimiterIndex","firstBreak","TelemetryLogger","monospaceExtension","logTelemetryEventWithJsonable","logChatInteractionEvent","feedbackIssueType","feedbackMessage","chatMessage","refreshTheme","themeName","themeObj","getThemeObj","editorFontFamily","onDidChangeActiveColorTheme","currentThemePath","themes","packageJSON","contributes","currentTheme","theme","themePaths","themePath","idToTimestamp","timestamp","isNaN","lastEditTimestampSentinel","ChatThread","uuid","lastEditTimestamp","isSaved","crypto","randomUUID","ChatHistory","toReadOnly","CHAT_THREAD_TIMESTAMPS_FILLED_IN","CHAT_THREAD_LIST_KEY","CHAT_THREAD_DETAIL_PREFIX","ThreadManager","actionsInChatAreDefault","updated","fillin","newThreads","deleteThread","existingThread","generateTitle","generatedTitle","toLocaleString","saveThread","retrieved","fromReadOnly","enableActionsInChat","defaultNew","cachedUserInfo","userMetadata","getUserMetadata","displayName","userDisplayName","photoUrl","userPhotoUrl","CODE_END","timeMs","configProperty","defaultValue","licenseAttributionFile","emptyAttributionList","attributions","attribution","writeFileSync","CONFIG_CORGI_MODE","CONFIG_WEB_DEV_TOOLS","CONFIG_ENABLE_NEW_MAIN_PANEL","CONFIG_AI_ENABLE_ACTIONS_IN_CHAT","CONFIG_AI_ACTIONS_IN_CHAT_SYSTEM_INSTRUCTION_FILE","CONFIG_AI_ACTIONS_IN_CHAT_FILE_LOG_LEVEL","SymbolPolyfill","iterator","typeIsObject","rethrowAssertionErrorRejection","setFunctionName","_a","originalPromise","originalPromiseThen","originalPromiseReject","newPromise","executor","promiseResolvedWith","promiseRejectedWith","PerformPromiseThen","onFulfilled","onRejected","uponPromise","uponFulfillment","uponRejection","transformPromiseWith","fulfillmentHandler","rejectionHandler","setPromiseIsHandledToTrue","_queueMicrotask","resolvedPromise","reflectCall","F","V","Function","promiseCall","SimpleQueue","_cursor","_size","_front","_elements","_next","_back","element","oldBack","newBack","QUEUE_MAX_ARRAY_SIZE","oldFront","newFront","oldCursor","newCursor","elements","front","cursor","AbortSteps","ErrorSteps","CancelSteps","PullSteps","ReleaseSteps","ReadableStreamReaderGenericInitialize","reader","_ownerReadableStream","defaultReaderClosedPromiseInitialize","defaultReaderClosedPromiseResolve","defaultReaderClosedPromiseInitializeAsResolved","defaultReaderClosedPromiseInitializeAsRejected","_storedError","ReadableStreamReaderGenericCancel","ReadableStreamCancel","ReadableStreamReaderGenericRelease","defaultReaderClosedPromiseReject","defaultReaderClosedPromiseResetToRejected","_readableStreamController","readerLockException","_closedPromise","_closedPromise_resolve","_closedPromise_reject","NumberIsFinite","MathTrunc","trunc","ceil","assertDictionary","assertFunction","assertObject","assertRequiredArgument","assertRequiredField","field","convertUnrestrictedDouble","censorNegativeZero","convertUnsignedLongLongWithEnforceRange","upperBound","MAX_SAFE_INTEGER","integerPart","assertReadableStream","IsReadableStream","AcquireReadableStreamDefaultReader","ReadableStreamDefaultReader","ReadableStreamAddReadRequest","readRequest","_readRequests","ReadableStreamFulfillReadRequest","_closeSteps","_chunkSteps","ReadableStreamGetNumReadRequests","ReadableStreamHasDefaultReader","IsReadableStreamDefaultReader","IsReadableStreamLocked","closed","defaultReaderBrandCheckException","cancel","resolvePromise","rejectPromise","ReadableStreamDefaultReaderRead","_errorSteps","releaseLock","ReadableStreamDefaultReaderErrorReadRequests","ReadableStreamDefaultReaderRelease","_disturbed","readRequests","defineProperties","toStringTag","AsyncIteratorPrototype","getPrototypeOf","ReadableStreamAsyncIteratorImpl","preventCancel","_ongoingPromise","_isFinished","_preventCancel","nextSteps","_nextSteps","return","returnSteps","_returnSteps","ReadableStreamAsyncIteratorPrototype","IsReadableStreamAsyncIterator","_asyncIteratorImpl","streamAsyncIteratorBrandCheckException","setPrototypeOf","NumberIsNaN","CreateArrayFromList","CopyDataBlockBytes","destOffset","src","srcOffset","TransferArrayBuffer","transfer","structuredClone","IsDetachedBuffer","detached","ArrayBufferSlice","begin","GetMethod","func","GetIterator","hint","asyncIterator","syncIteratorRecord","syncIterable","nextMethod","CreateAsyncFromSyncIterator","CloneAsUint8Array","DequeueValue","container","pair","_queueTotalSize","EnqueueValueWithSize","ResetQueue","isDataViewConstructor","ctor","DataView","ReadableStreamBYOBRequest","view","IsReadableStreamBYOBRequest","byobRequestBrandCheckException","_view","respond","bytesWritten","_associatedReadableByteStreamController","ReadableByteStreamControllerRespond","respondWithNewView","ReadableByteStreamControllerRespondWithNewView","ReadableByteStreamController","byobRequest","IsReadableByteStreamController","byteStreamControllerBrandCheckException","ReadableByteStreamControllerGetBYOBRequest","desiredSize","ReadableByteStreamControllerGetDesiredSize","_closeRequested","_controlledReadableByteStream","ReadableByteStreamControllerClose","ReadableByteStreamControllerEnqueue","ReadableByteStreamControllerError","ReadableByteStreamControllerClearPendingPullIntos","_cancelAlgorithm","ReadableByteStreamControllerClearAlgorithms","ReadableByteStreamControllerFillReadRequestFromQueue","autoAllocateChunkSize","_autoAllocateChunkSize","bufferE","pullIntoDescriptor","bufferByteLength","bytesFilled","minimumFill","elementSize","viewConstructor","readerType","_pendingPullIntos","ReadableByteStreamControllerCallPullIfNeeded","firstPullInto","shouldPull","_started","ReadableStreamHasBYOBReader","ReadableStreamGetNumReadIntoRequests","ReadableByteStreamControllerShouldCallPull","_pulling","_pullAgain","_pullAlgorithm","ReadableByteStreamControllerInvalidateBYOBRequest","ReadableByteStreamControllerCommitPullIntoDescriptor","filledView","ReadableByteStreamControllerConvertPullIntoDescriptor","readIntoRequest","_readIntoRequests","ReadableStreamFulfillReadIntoRequest","ReadableByteStreamControllerEnqueueChunkToQueue","ReadableByteStreamControllerEnqueueClonedChunkToQueue","clonedChunk","cloneE","ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue","firstDescriptor","ReadableByteStreamControllerShiftPendingPullInto","ReadableByteStreamControllerFillPullIntoDescriptorFromQueue","maxBytesToCopy","maxBytesFilled","totalBytesToCopyRemaining","ready","maxAlignedBytes","headOfQueue","bytesToCopy","destStart","ReadableByteStreamControllerFillHeadPullIntoDescriptor","ReadableByteStreamControllerHandleQueueDrain","ReadableStreamClose","_byobRequest","ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue","ReadableByteStreamControllerRespondInternal","ReadableByteStreamControllerRespondInClosedState","remainderSize","ReadableByteStreamControllerRespondInReadableState","firstPendingPullInto","transferredBuffer","ReadableByteStreamControllerProcessReadRequestsUsingQueue","ReadableStreamError","SetUpReadableStreamBYOBRequest","_strategyHWM","viewByteLength","SetUpReadableByteStreamController","startAlgorithm","pullAlgorithm","cancelAlgorithm","convertReadableStreamReaderMode","mode","AcquireReadableStreamBYOBReader","ReadableStreamBYOBReader","ReadableStreamAddReadIntoRequest","IsReadableStreamBYOBReader","byobReaderBrandCheckException","rawOptions","convertByobReadOptions","isDataView","ReadableStreamBYOBReaderRead","ReadableStreamBYOBReaderErrorReadIntoRequests","ReadableStreamBYOBReaderRelease","BYTES_PER_ELEMENT","arrayBufferViewElementSize","emptyView","ReadableByteStreamControllerPullInto","readIntoRequests","ExtractHighWaterMark","strategy","defaultHWM","ExtractSizeAlgorithm","convertQueuingStrategy","convertQueuingStrategySize","convertUnderlyingSinkAbortCallback","original","convertUnderlyingSinkCloseCallback","convertUnderlyingSinkStartCallback","convertUnderlyingSinkWriteCallback","assertWritableStream","IsWritableStream","supportsAbortController","WritableStream","rawUnderlyingSink","rawStrategy","underlyingSink","convertUnderlyingSink","InitializeWritableStream","sizeAlgorithm","WritableStreamDefaultController","writeAlgorithm","closeAlgorithm","abortAlgorithm","SetUpWritableStreamDefaultController","SetUpWritableStreamDefaultControllerFromUnderlyingSink","locked","streamBrandCheckException$2","IsWritableStreamLocked","WritableStreamAbort","WritableStreamCloseQueuedOrInFlight","WritableStreamClose","getWriter","AcquireWritableStreamDefaultWriter","WritableStreamDefaultWriter","_writer","_writableStreamController","_writeRequests","_inFlightWriteRequest","_closeRequest","_inFlightCloseRequest","_pendingAbortRequest","_backpressure","_abortReason","_abortController","_promise","wasAlreadyErroring","_resolve","_reject","_reason","_wasAlreadyErroring","WritableStreamStartErroring","closeRequest","writer","defaultWriterReadyPromiseResolve","closeSentinel","WritableStreamDefaultControllerAdvanceQueueIfNeeded","WritableStreamDealWithRejection","WritableStreamFinishErroring","WritableStreamDefaultWriterEnsureReadyPromiseRejected","WritableStreamHasOperationMarkedInFlight","storedError","writeRequest","WritableStreamRejectCloseAndClosedPromiseIfNeeded","abortRequest","defaultWriterClosedPromiseReject","WritableStreamUpdateBackpressure","backpressure","defaultWriterReadyPromiseInitialize","defaultWriterReadyPromiseReset","_ownerWritableStream","defaultWriterReadyPromiseInitializeAsResolved","defaultWriterClosedPromiseInitialize","defaultWriterReadyPromiseInitializeAsRejected","defaultWriterClosedPromiseResolve","defaultWriterClosedPromiseInitializeAsRejected","IsWritableStreamDefaultWriter","defaultWriterBrandCheckException","defaultWriterLockException","WritableStreamDefaultControllerGetDesiredSize","WritableStreamDefaultWriterGetDesiredSize","_readyPromise","WritableStreamDefaultWriterAbort","WritableStreamDefaultWriterClose","WritableStreamDefaultWriterRelease","WritableStreamDefaultWriterWrite","_readyPromiseState","defaultWriterReadyPromiseReject","defaultWriterReadyPromiseResetToRejected","releasedError","_closedPromiseState","defaultWriterClosedPromiseResetToRejected","WritableStreamDefaultWriterEnsureClosedPromiseRejected","chunkSize","_strategySizeAlgorithm","chunkSizeE","WritableStreamDefaultControllerErrorIfNeeded","WritableStreamDefaultControllerGetChunkSize","WritableStreamAddWriteRequest","enqueueE","_controlledWritableStream","WritableStreamDefaultControllerGetBackpressure","WritableStreamDefaultControllerWrite","abortReason","IsWritableStreamDefaultController","defaultControllerBrandCheckException$2","WritableStreamDefaultControllerError","_abortAlgorithm","WritableStreamDefaultControllerClearAlgorithms","createAbortController","_writeAlgorithm","_closeAlgorithm","WritableStreamMarkCloseRequestInFlight","sinkClosePromise","WritableStreamFinishInFlightClose","WritableStreamFinishInFlightCloseWithError","WritableStreamDefaultControllerProcessClose","WritableStreamMarkFirstWriteRequestInFlight","WritableStreamFinishInFlightWrite","WritableStreamFinishInFlightWriteWithError","WritableStreamDefaultControllerProcessWrite","_readyPromise_resolve","_readyPromise_reject","isDOMExceptionConstructor","getFromGlobal","createPolyfill","ReadableStreamPipeTo","preventClose","preventAbort","shuttingDown","currentWrite","shutdownWithAction","isOrBecomesErrored","shutdown","WritableStreamDefaultWriterCloseWithErrorPropagation","destClosed","waitForWritesToFinish","oldCurrentWrite","originalIsError","originalError","doTheRest","finalize","newError","isError","resolveLoop","rejectLoop","resolveRead","rejectRead","ReadableStreamDefaultController","IsReadableStreamDefaultController","defaultControllerBrandCheckException$1","ReadableStreamDefaultControllerGetDesiredSize","ReadableStreamDefaultControllerCanCloseOrEnqueue","ReadableStreamDefaultControllerClose","ReadableStreamDefaultControllerEnqueue","ReadableStreamDefaultControllerError","ReadableStreamDefaultControllerClearAlgorithms","_controlledReadableStream","ReadableStreamDefaultControllerCallPullIfNeeded","ReadableStreamDefaultControllerShouldCallPull","SetUpReadableStreamDefaultController","ReadableStreamFrom","CreateReadableStream","readPromise","readResult","ReadableStreamFromDefaultReader","asyncIterable","iteratorRecord","nextResult","IteratorNext","iterResult","IteratorComplete","IteratorValue","returnMethod","returnResult","ReadableStreamFromIterable","convertUnderlyingSourceCancelCallback","convertUnderlyingSourcePullCallback","convertUnderlyingSourceStartCallback","convertReadableStreamType","convertPipeOptions","isAbortSignal","assertAbortSignal","rawUnderlyingSource","underlyingSource","pull","convertUnderlyingDefaultOrByteSource","InitializeReadableStream","underlyingByteSource","SetUpReadableByteStreamControllerFromUnderlyingSource","SetUpReadableStreamDefaultControllerFromUnderlyingSource","streamBrandCheckException$1","convertReaderOptions","rawTransform","convertReadableWritablePair","pipeTo","reason1","reason2","branch1","branch2","resolveCancelPromise","reading","readAgainForBranch1","readAgainForBranch2","canceled1","canceled2","cancelPromise","forwardReaderError","thisReader","pullWithDefaultReader","chunk1","chunk2","pull1Algorithm","pull2Algorithm","pullWithBYOBReader","forBranch2","byobBranch","otherBranch","byobCanceled","otherCanceled","CreateReadableByteStream","compositeReason","cancelResult","ReadableByteStreamTee","cloneForBranch2","readAgain","ReadableStreamDefaultTee","impl","AcquireReadableStreamAsyncIterator","convertIteratorOptions","convertQueuingStrategyInit","byteLengthSizeFunction","ByteLengthQueuingStrategy","_byteLengthQueuingStrategyHighWaterMark","IsByteLengthQueuingStrategy","byteLengthBrandCheckException","countSizeFunction","CountQueuingStrategy","_countQueuingStrategyHighWaterMark","IsCountQueuingStrategy","countBrandCheckException","convertTransformerFlushCallback","convertTransformerStartCallback","convertTransformerTransformCallback","convertTransformerCancelCallback","TransformStream","rawTransformer","rawWritableStrategy","rawReadableStrategy","writableStrategy","readableStrategy","transformer","readableType","writableType","convertTransformer","readableHighWaterMark","readableSizeAlgorithm","writableHighWaterMark","writableSizeAlgorithm","startPromise_resolve","startPromise","_writable","CreateWritableStream","_transformStreamController","_backpressureChangePromise","TransformStreamDefaultControllerPerformTransform","TransformStreamDefaultSinkWriteAlgorithm","_finishPromise","_readable","_finishPromise_resolve","_finishPromise_reject","flushPromise","_flushAlgorithm","TransformStreamDefaultControllerClearAlgorithms","defaultControllerFinishPromiseReject","defaultControllerFinishPromiseResolve","TransformStreamDefaultSinkCloseAlgorithm","TransformStreamDefaultSinkAbortAlgorithm","TransformStreamSetBackpressure","TransformStreamDefaultSourcePullAlgorithm","TransformStreamUnblockWrite","TransformStreamDefaultSourceCancelAlgorithm","_backpressureChangePromise_resolve","InitializeTransformStream","TransformStreamDefaultController","transformAlgorithm","flushAlgorithm","TransformStreamDefaultControllerEnqueue","transformResultE","_controlledTransformStream","_transformAlgorithm","SetUpTransformStreamDefaultController","SetUpTransformStreamDefaultControllerFromTransformer","IsTransformStream","streamBrandCheckException","TransformStreamError","TransformStreamErrorWritableAndUnblockWrite","IsTransformStreamDefaultController","defaultControllerBrandCheckException","TransformStreamDefaultControllerTerminate","readableController","ReadableStreamDefaultControllerHasBackpressure","Url","spawn","XMLHttpRequest","disableHeaderCheck","defaultHeaders","forbiddenRequestHeaders","forbiddenRequestMethods","sendFlag","errorFlag","abortedFlag","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","onreadystatechange","responseXML","statusText","isAllowedHttpMethod","setState","setDisableHeaderCheck","setRequestHeader","isAllowedHttpHeader","getResponseHeader","getAllResponseHeaders","getRequestHeader","ssl","local","handleError","authBuf","agent","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","doRequest","dispatchEvent","responseHandler","resp","newOptions","setEncoding","autoUnref","unref","contentFile","pid","syncFile","execString","syncProc","stdin","unlinkSync","errorObj","ev","fire","installedModules","moduleId","loaded","comment_handler_1","jsx_parser_1","parser_1","tokenizer_1","delegate","commentHandler","proxyDelegate","visit","parserDelegate","collectComment","attachComment","CommentHandler","attach","parser","isModule","sourceType","jsx","JSXParser","Parser","parseModule","parseScript","comments","tolerant","parsingOptions","tokenize","tokenizer","Tokenizer","getNextToken","tolerate","syntax_1","Syntax","leading","trailing","insertInnerComments","BlockStatement","innerComments","findTrailingComments","trailingComments","firstComment","findLeadingComments","leadingComments","visitNode","Program","visitComment","loc","AssignmentExpression","AssignmentPattern","ArrayExpression","ArrayPattern","ArrowFunctionExpression","AwaitExpression","BinaryExpression","BreakStatement","CallExpression","CatchClause","ClassBody","ClassDeclaration","ClassExpression","ConditionalExpression","ContinueStatement","DoWhileStatement","DebuggerStatement","EmptyStatement","ExportAllDeclaration","ExportDefaultDeclaration","ExportNamedDeclaration","ExportSpecifier","ExpressionStatement","ForStatement","ForOfStatement","ForInStatement","FunctionDeclaration","FunctionExpression","Identifier","IfStatement","ImportDeclaration","ImportDefaultSpecifier","ImportNamespaceSpecifier","ImportSpecifier","Literal","LabeledStatement","LogicalExpression","MemberExpression","MetaProperty","MethodDefinition","NewExpression","ObjectExpression","ObjectPattern","Property","RestElement","ReturnStatement","SequenceExpression","SpreadElement","Super","SwitchCase","SwitchStatement","TaggedTemplateExpression","TemplateElement","TemplateLiteral","ThisExpression","ThrowStatement","TryStatement","UnaryExpression","UpdateExpression","VariableDeclaration","VariableDeclarator","WhileStatement","WithStatement","YieldExpression","extendStatics","__extends","__proto__","__","character_1","JSXNode","jsx_syntax_1","Node","token_1","xhtml_entities_1","getQualifiedElementName","elementName","qualifiedName","JSXSyntax","JSXIdentifier","JSXNamespacedName","ns","JSXMemberExpression","expr","object","TokenName","_super","parsePrimaryExpression","parseJSXRoot","startJSX","scanner","startMarker","lineNumber","lineStart","column","finishJSX","nextToken","reenterJSX","expectJSX","createJSXNode","collectComments","createJSXChildNode","scanXHTMLEntity","quote","valid","terminated","numeric","hex","eof","ch","Character","isDecimalDigit","isHexDigit","XHTMLEntities","lexJSX","cp","n1","n2","isIdentifierStart","isIdentifierPart","lex","nextJSXToken","lastMarker","convertToken","nextJSXText","isLineTerminator","peekJSXToken","saveState","scanComments","restoreState","throwUnexpectedToken","matchJSX","parseJSXIdentifier","parseJSXElementName","name_1","parseJSXAttributeName","attributeName","identifier","name_2","parseJSXStringLiteralAttribute","raw","getTokenRaw","parseJSXExpressionAttribute","tolerateError","parseAssignmentExpression","JSXExpressionContainer","parseJSXAttributeValue","parseJSXElement","parseJSXNameValueAttribute","JSXAttribute","parseJSXSpreadAttribute","argument","JSXSpreadAttribute","parseJSXAttributes","attributes","attribute","parseJSXOpeningElement","selfClosing","JSXOpeningElement","parseJSXBoundaryElement","name_3","JSXClosingElement","parseJSXEmptyExpression","JSXEmptyExpression","parseJSXExpressionContainer","parseJSXChildren","children","JSXText","parseComplexJSXElement","el","opening","JSXElement","closing","open_1","isStartOfExpression","Regex","NonAsciiIdentifierStart","NonAsciiIdentifierPart","fromCodePoint","isWhiteSpace","isOctalDigit","openingElement","closingElement","generator","operator","left","right","AsyncArrowFunctionExpression","AsyncFunctionDeclaration","AsyncFunctionExpression","logical","callee","param","superClass","ComputedMemberExpression","computed","consequent","alternate","Directive","directive","declaration","specifiers","exported","imported","isStatic","Module","RegexLiteral","Script","expressions","StaticMemberExpression","discriminant","cases","quasi","quasis","finalizer","declarations","assert_1","error_handler_1","messages_1","scanner_1","ArrowParameterPlaceHolder","ErrorHandler","Scanner","trackComment","operatorPrecedence","lookahead","hasLineTerminator","await","allowIn","allowStrictDirective","allowYield","firstCoverInitializedNameError","isAssignmentTarget","isBindingElement","inFunctionBody","inIteration","inSwitch","labelSet","messageFormat","_i","whole","assert","createError","unexpectedTokenError","Messages","UnexpectedToken","UnexpectedEOS","UnexpectedIdentifier","UnexpectedNumber","UnexpectedString","UnexpectedTemplate","isFutureReservedWord","UnexpectedReserved","isStrictModeReservedWord","StrictReservedWord","lastMarkerLineStart","tolerateUnexpectedToken","multiLine","nextRegexToken","scanRegExp","createNode","startNode","lastLineStart","marker","expect","expectCommaSeparator","expectKeyword","keyword","matchKeyword","matchContextualKeyword","matchAssign","op","isolateCoverGrammar","parseFunction","previousIsBindingElement","previousIsAssignmentTarget","previousFirstCoverInitializedNameError","inheritCoverGrammar","consumeSemicolon","matchAsyncFunction","parseFunctionExpression","octal","StrictOctalLiteral","parseTemplateLiteral","parseGroupExpression","parseArrayInitializer","parseObjectInitializer","parseIdentifierName","parseClassExpression","parseSpreadElement","parsePropertyMethod","previousStrict","previousAllowStrictDirective","simple","parseFunctionSourceElements","firstRestricted","stricted","parsePropertyMethodFunction","previousAllowYield","parseFormalParameters","parsePropertyMethodAsyncFunction","previousAwait","parseObjectPropertyKey","isPropertyKey","parseObjectProperty","hasProto","isAsync","lookaheadPropertyKey","qualifiedPropertyName","parseGetterMethod","parseSetterMethod","parseGeneratorMethod","DuplicateProtoProperty","parseTemplateHead","cooked","parseTemplateElement","parseExpression","reinterpretExpressionAsPattern","startToken","parseRestElement","arrow","parseArguments","isIdentifierName","parseNewExpression","parseLeftHandSideExpression","parseAsyncArgument","parseAsyncArguments","parseLeftHandSideExpressionAllowCall","maybeAsync","previousAllowIn","asyncArrow","parseSuper","parseUpdateExpression","parseUnaryExpression","isRestrictedWord","StrictLHSPrefix","InvalidLHSInAssignment","StrictLHSPostfix","parseAwaitExpression","StrictDelete","parseExponentiationExpression","binaryPrecedence","parseBinaryExpression","prec","markers","precedences","parseConditionalExpression","checkPatternParam","validateParam","reinterpretAsCoverFormalsList","paramSet","StrictParamDupe","parseYieldExpression","StrictLHSAssignment","parseStatementListItem","statement","IllegalExportDeclaration","parseExportDeclaration","IllegalImportDeclaration","parseImportDeclaration","parseLexicalDeclaration","inFor","parseFunctionDeclaration","parseClassDeclaration","isLexicalDeclaration","parseStatement","parseBlock","parseLexicalBinding","parsePattern","StrictVarName","DeclarationMissingInitializer","parseBindingList","parseBindingRestElement","parseArrayPattern","parsePatternWithDefault","parsePropertyPattern","keyToken","parseVariableIdentifier","parseObjectPattern","LetInLexicalBinding","parseVariableDeclaration","parseVariableDeclarationList","opt","parseVariableStatement","parseEmptyStatement","parseExpressionStatement","parseIfClause","StrictFunction","parseIfStatement","parseDoWhileStatement","previousInIteration","parseWhileStatement","parseForStatement","forIn","decl","ForInOfLoopInitializer","initStartToken","InvalidLHSInForIn","InvalidLHSInForLoop","initSeq","parseContinueStatement","UnknownLabel","IllegalContinue","parseBreakStatement","IllegalBreak","parseReturnStatement","IllegalReturn","parseWithStatement","StrictModeWith","parseSwitchCase","parseSwitchStatement","previousInSwitch","defaultFound","clause","MultipleDefaultsInSwitch","parseLabelledStatement","Redeclaration","GeneratorInLegacyContext","parseThrowStatement","NewlineAfterThrow","parseCatchClause","paramMap","DuplicateBinding","StrictCatchVariable","parseFinallyClause","parseTryStatement","NoCatchOrFinally","parseDebuggerStatement","parseDirectivePrologues","previousLabelSet","previousInFunctionBody","StrictParamName","DefaultRestParameter","ParameterAfterRestParameter","parseFormalParameter","identifierIsOptional","isGenerator","StrictFunctionName","previousAllowAwait","formalParameters","parseDirective","IllegalLanguageModeDirective","BadGetterArity","BadSetterArity","BadSetterRestParameter","parseClassElement","hasConstructor","punctuator","ConstructorIsAsync","StaticPrototype","ConstructorSpecialMethod","DuplicateConstructor","parseClassElementList","parseClassBody","elementList","classBody","parseModuleSpecifier","InvalidModuleSpecifier","parseImportSpecifier","parseNamedImports","parseImportDefaultSpecifier","parseImportNamespaceSpecifier","NoAsAfterImportNamespace","MissingFromClause","parseExportSpecifier","exportDeclaration","isExportFromIdentifier","condition","recordError","constructError","col","InvalidEscapedReservedWord","InvalidHexEscapeSequence","InvalidRegExp","TemplateOctalLiteral","UnexpectedTokenIllegal","UnterminatedRegExp","hexValue","octalValue","curlyStack","skipSingleLineComment","skipMultiLineComment","isKeyword","codePointAt","second","scanHexEscape","scanUnicodeCodePointEscape","getIdentifier","getComplexIdentifier","octalToDecimal","scanIdentifier","restore","scanPunctuator","scanHexLiteral","scanBinaryLiteral","scanOctalLiteral","isImplicitOctalLiteral","scanNumericLiteral","scanStringLiteral","unescaped_1","unescaped","octToDec","scanTemplate","rawOffset","unescaped_2","testRegExp","tmp","$0","$2","codePoint","scanRegExpBody","classMarker","scanRegExpFlags","quot","amp","apos","gt","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","exist","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","lang","rang","Reader","curly","paren","beforeFunctionExpression","isRegexStart","trackRange","trackLoc","hasOwn","defaults","excerpt","engines","toFile","matter","orig","cached","delimiters","language","openLen","closeIndex","parseMatter","arrayify","delims","parsers","aliase","yaml","safeLoad","safeDump","replacer","javascript","eval","excerpt_separator","getEngine","typeOf","newline","define","stripBom","throwIfAborted","AbortError","isiterable_1","hasInstance","extremaBy","aborterror_1","withabort_1","selector","comparer","it","wrapWithAbort","resKey","cmp","dueTime","onAbort","asyncify","asyncsink_1","memoize_1","sink","AsyncSink","innerArgs","memoize","yielder","asyncifyErrback","FromObservableAsyncIterable","FromPromiseIterable","FromAsyncIterable","FromArrayIterable","AsyncIterableX","bindcallback_1","identity_1","tolength_1","projection","WithAbortAsyncIterable","as","identityAsync","bindCallback","isIterable","isAsyncIterable","isPromise","isObservable","isArrayLike","isIterator","inst","ARRAY_ERROR","_ended","_values","_resolvers","_push","_source","_selector","toLength","_observable","observable","subscription","unsubscribe","_signal","isBrowser","nodeType","isWritableNodeStream","isReadableNodeStream","toNodeStream","readableOpts","average","catchError","catchAll","CatchAllAsyncIterable","asynciterablex_1","returniterator_1","hasError","returnAsyncIterator","combineLatest","CombineLatestAsyncIterable","safeRace_1","NEVER_PROMISE","wrapPromiseWithIndex","_sources","sources","iterators","nexts","hasValueAll","hasValues","safeRace","value$","done$","iterator$","identity","_concatAll","ConcatAsyncIterable","outer","AnonymousAsyncIterable","_fn","defer","DeferAsyncIterable","elementAt","EmptyAsyncIterable","findIndex","forkJoin","next$","fromDOMStream","AsyncIterableReadableByteStream","AsyncIterableReadableStream","SharedArrayBuf","SharedArrayBuffer","_consumeReader","defaultReaderToAsyncIterator","readNext","byobReaderToAsyncIterator","threw","bufferOrLen","readInto","innerOffset","fromEvent","fromeventpattern_1","resultSelector","isFunction","isEventTarget","fromEventPattern","off","isMessagePortEventEmitter","isNodeEventEmitter","addHandler","removeHandler","callOrApply","loop","GenerateAsyncIterable","_initialState","_condition","_iterate","_resultSelector","initialState","iterate","generateTime","_sleep_1","GenerateTimeAsyncIterable","_timeSelector","timeSelector","time","iif","defer_1","empty_1","thenSource","elseSource","comparer_1","valueToFind","fromIndex","fromIdx","tslib_1","__exportStar","interval","IntervalAsyncIterable","_dueTime","last","equalityComparerAsync","maxValue","maxBy","_extremaby_1","MergeAsyncIterable","minValue","minBy","never","NeverAsyncIterable","of","OfAsyncIterable","_args","onErrorResumeNext","OnErrorResumeNextAsyncIterable","MapAsyncIterable","_thisArg","MemoizeAsyncBuffer","_refcountlist_1","create_1","_buffer","_shared","_error","_stopped","_getIterable","readerCount","MaxRefCountList","RefCountList","publish","PublishedAsyncBuffer","withAbort","RaceAsyncIterable","otherIterator","nextItem","RangeAsyncIterable","_start","_count","seed","hasSeed","hasValue","reduceRight","toarray_1","toArray","repeatValue","RepeatValueAsyncIterable","_value","sequenceEqual","other","comparerAsync","it1","it2","next1","next2","single","hasResult","ThrowAsyncIterable","toDOMStreamProto","toDOMStream","publish_1","fromdomstream_1","AbstractUnderlyingSource","UnderlyingAsyncIterableDefaultSource","UnderlyingAsyncIterableByteSource","fallbackDefaultSource","targetByteOffset","sourceByteLength","targetByteLength","memcpy","asyncIterableReadableStream","AsyncIterableReadableByteStream_","AsyncIterableDefaultReadableStream_","createAsyncIterableReadableStream","AsyncIterableDefaultReadableStream","createAsyncIterableReadableStreamEveryOtherTime","_getDOMStream","_DOMStream","toMap","elementSelector","keySelector","toObservable","toobserver_1","observer_1","BooleanSubscription","isUnsubscribed","AsyncIterableObservable","toObserver","toSet","whileDo","WhileAsyncIterable","ZipAsyncIterable","sourcesLength","its","_list","_readerCount","argCount","equalityComparer","y","isFetchResponse","isWritableDOMStream","isReadableDOMStream","isBoolean","returnIterator","isPrimitive","wm","WeakMap","contenders","deferred","contender","record","deferreds","settled","finally","toInteger","number","tointeger_1","maxSafeInteger","loader","dumper","deprecated","Type","Schema","FAILSAFE_SCHEMA","JSON_SCHEMA","CORE_SCHEMA","DEFAULT_SAFE_SCHEMA","DEFAULT_FULL_SCHEMA","loadAll","safeLoadAll","dump","YAMLException","MINIMAL_SCHEMA","SAFE_SCHEMA","DEFAULT_SCHEMA","compose","addConstructor","isNothing","sequence","cycle","isNegativeZero","NEGATIVE_INFINITY","sourceKeys","_toString","_hasOwnProperty","CHAR_EXCLAMATION","CHAR_SHARP","CHAR_MINUS","CHAR_EQUALS","CHAR_GREATER_THAN","CHAR_QUESTION","CHAR_COMMERCIAL_AT","CHAR_LEFT_CURLY_BRACKET","CHAR_RIGHT_CURLY_BRACKET","ESCAPE_SEQUENCES","DEPRECATED_BOOLEANS_SYNTAX","encodeHex","character","handle","State","indent","noArrayIndent","skipInvalid","flowLevel","styleMap","compiledTypeMap","styleAliases","compileStyleMap","sortKeys","lineWidth","noRefs","noCompatMode","condenseFlow","implicitTypes","compiledImplicit","explicitTypes","compiledExplicit","duplicates","usedDuplicates","indentString","spaces","ind","generateNextLine","isWhitespace","isPrintable","isPlainSafe","isNsChar","needIndentIndicator","STYLE_PLAIN","STYLE_SINGLE","STYLE_LITERAL","STYLE_FOLDED","STYLE_DOUBLE","writeScalar","iskey","singleLineOnly","indentPerLevel","testAmbiguousType","prev_char","hasLineBreak","hasFoldableLine","shouldTrackWidth","previousLineBreak","plain","chooseScalarStyle","testImplicitResolving","blockHeader","dropEndingNewline","width","moreIndented","nextLF","lineRe","foldLine","prevMoreIndented","foldString","escapeSeq","escapeString","indentIndicator","clip","breakRe","detectType","explicit","_result","typeList","instanceOf","represent","defaultStyle","writeNode","compact","duplicateIndex","duplicate","objectOrArray","objectKey","objectValue","explicitPair","pairBuffer","_tag","objectKeyList","writeBlockMapping","writeFlowMapping","arrayLevel","writeBlockSequence","writeFlowSequence","getDuplicateReferences","objects","duplicatesIndexes","inspectNode","mark","Mark","CONTEXT_FLOW_IN","CONTEXT_FLOW_OUT","CONTEXT_BLOCK_IN","CONTEXT_BLOCK_OUT","CHOMPING_CLIP","CHOMPING_STRIP","CHOMPING_KEEP","PATTERN_NON_PRINTABLE","PATTERN_NON_ASCII_LINE_BREAKS","PATTERN_FLOW_INDICATORS","PATTERN_TAG_HANDLE","PATTERN_TAG_URI","_class","is_EOL","is_WHITE_SPACE","is_WS_OR_EOL","is_FLOW_INDICATOR","fromHexCode","lc","simpleEscapeSequence","charFromCodepoint","simpleEscapeCheck","simpleEscapeMap","onWarning","legacy","typeMap","lineIndent","documents","generateError","throwWarning","directiveHandlers","YAML","major","minor","checkLineBreaks","TAG","tagMap","captureSegment","checkJson","_position","_length","_character","mergeMappings","overridableKeys","quantity","storeMappingPair","keyTag","keyNode","valueNode","startPos","readLineBreak","skipSeparationSpace","allowComments","checkIndent","lineBreaks","testDocumentSeparator","writeFoldedLines","readBlockSequence","nodeIndent","_line","_anchor","detected","anchorMap","composeNode","readTagProperty","tagHandle","tagName","isVerbatim","isNamed","readAnchorProperty","parentIndent","nodeContext","allowToSeek","allowCompact","allowBlockStyles","allowBlockScalars","allowBlockCollections","typeIndex","typeQuantity","flowIndent","blockIndent","indentStatus","atNewLine","hasContent","following","_pos","atExplicitKey","readBlockMapping","terminator","isPair","isExplicitPair","isMapping","readFlowCollection","captureStart","folding","chomping","didReadContent","detectedIndent","textIndent","emptyLines","atMoreIndented","readBlockScalar","captureEnd","readSingleQuotedScalar","hexLength","hexResult","readDoubleQuotedScalar","alias","readAlias","withinFlowCollection","hasPendingContent","_lineStart","_lineIndent","_kind","readPlainScalar","construct","readDocument","directiveName","directiveArgs","documentStart","hasDirectives","loadDocuments","nullpos","getSnippet","where","compileList","exclude","include","includedSchema","currentType","previousType","previousIndex","implicit","loadKind","scalar","mapping","fallback","collectType","compileMap","DEFAULT","schemas","types","TYPE_CONSTRUCTOR_OPTIONS","YAML_NODE_KINDS","NodeBuffer","BASE64_MAP","bitlen","tailbits","bits","lowercase","uppercase","camelcase","YAML_FLOAT_PATTERN","SCIENTIFIC_WITHOUT_DOT","NaN","isOctCode","isDecCode","hasDigits","decimal","hexadecimal","esprima","modifiers","multiline","canonical","pairKey","pairHasKey","objectKeys","YAML_DATE_REGEXP","YAML_TIMESTAMP_REGEXP","year","month","day","hour","minute","date","fraction","UTC","setTime","ctorName","isArguments","toDateString","getDate","setDate","isDate","stackTraceLimit","isRegexp","throw","isGeneratorObj","iteratee","getRawTag","objectToString","symToStringTag","arrayMap","isSymbol","symbolProto","symbolToString","baseToString","freeGlobal","objectProto","nativeObjectToString","isOwn","unmasked","freeSelf","reRegExpChar","reHasRegExpChar","baseGetTag","isObjectLike","isDelimiter","delim","toObject","section_delimiter","lines","initSections","closeSection","getKey","ln","punycode","mappingTable","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","normalize","findStatus","mid","regexAstralSymbols","countSymbols","combiningMarksRegex","validateLabel","processing_option","toUnicode","processing","domain_name","useSTD3","processed","mapChars","labels","validation","toASCII","verifyDnsLength","l","total","domain","conversions","createNumberConversion","bitLength","typeOpts","unsigned","lowerBound","moduloVal","moduloBitLength","moduloBound","enforceRange","clamp","evenRound","treatNullAsEmptyString","S","U","usm","implementation","constructorArgs","parsedBase","basicURLParse","parsedURL","baseURL","serializeURL","serializeURLOrigin","stateOverride","cannotHaveAUsernamePasswordPort","setTheUsername","setThePassword","serializeHost","serializeInteger","cannotBeABaseURL","fragment","toJSON","Impl","implSymbol","setup","is","privateData","wrapperSymbol","interface","expose","Worker","tr46","specialSchemes","ftp","gopher","wss","ucs2","at","isASCIIDigit","isASCIIAlpha","isASCIIHex","isSingleDot","isWindowsDriveLetterString","isSpecialScheme","isSpecial","percentEncode","isC0ControlPercentEncode","extraPathPercentEncodeSet","isPathPercentEncode","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","utf8PercentEncode","parseIPv4Number","R","parseHost","isSpecialArg","pieceIndex","pointer","numbersSeen","ipv4Piece","swaps","temp","parseIPv6","decoded","parseOpaqueHost","utf8PercentDecode","asciiDomain","ipv4Host","numbers","ipv4","parseIPv4","serializeIPv4","maxIdx","currStart","currLen","findLongestZeroSequence","ignore0","serializeIPv6","shortenPath","includesCredentials","URLStateMachine","encodingOverride","parseError","trimControlChars","trimTabAndNewline","atFlag","arrFlag","passwordTokenSeenFlag","ret","isASCIIAlphanumeric","encodedCodePoints","fileOtherwiseCodePoints","cp1","cp2","excludeFragment","parseURL","serializeOrigin","mixin","getOwnPropertyDescriptor","wrapperForImpl","implForWrapper","require","qs","qry","pairs","decodeURIComponent","re","authority","ipv6uri","pathNames","queryKey","yeast","alphabet","encoded","globalThisShim","installTimerFunctions","transports","TransportError","Transport","Socket","socket_js_1","transport_js_1","index_js_1","util_js_1","parseuri_js_1","websocket_constructor_js_1","__importDefault","mod","__esModule","parseqs_js_1","debug_1","component_emitter_1","engine_io_parser_1","Emitter","defaultBinaryType","writeBuffer","prevBufferLen","withCredentials","timestampParam","rememberUpgrade","addTrailingSlash","transportOptions","closeOnBeforeunload","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","transport","offlineEventListener","onClose","createTransport","EIO","sid","priorWebsocketSuccess","setTimeoutFn","emitReserved","setTransport","onDrain","onPacket","probe","failed","onTransportOpen","upgrading","freezeTransport","onTransportClose","onupgrade","onOpen","packet","resetPingTimeout","onHandshake","sendPacket","filterUpgrades","clearTimeoutFn","packets","getWritablePackets","payloadSize","cleanupAndClose","waitForUpgrade","filteredUpgrades","doOpen","doClose","onData","decodePacket","onPause","createUri","_hostname","_port","_query","polling_js_1","websocket_js_1","webtransport_js_1","WS","webtransport","WT","polling","Polling","Request","yeast_js_1","xmlhttprequest_js_1","globalThis_js_1","hasXHR2","XHR","xdomain","responseType","isSSL","xd","forceBase64","supportsBinary","cookieJar","createCookieJar","poll","doPoll","decodePayload","encodePayload","doWrite","timestampRequests","b64","xhrStatus","pollXhr","pick","xhr","extraHeaders","addCookies","requestTimeout","parseCookies","onLoad","requestsCount","requests","fromError","attachEvent","unloadHandler","terminationEvent","usingBrowserWebSocket","ws_1","isReactNative","product","addEventListeners","closeEvent","lastPacket","encodePacket","WebTransport","createBidirectionalStream","decoderStream","createPacketDecoderStream","encoderStream","createPacketEncoderStream","__createBinding","k2","desc","__setModuleDefault","__importStar","CookieJar","XMLHttpRequestModule","setCookieString","subParts","expires","expiration","setUTCSeconds","getUTCSeconds","cookies","attr","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","useNativeTimers","utf8Length","ERROR_PACKET","PACKET_TYPES_REVERSE","PACKET_TYPES","commons_js_1","encodedPacket","mapBinary","encodePacketToBinary","forceBufferConversion","TEXT_ENCODER","encodePacket_js_1","decodePacket_js_1","SEPARATOR","TEXT_DECODER","concatChunks","encodedPackets","encodedPayload","decodedPacket","setUint8","setUint16","setBigUint64","BigInt","expectedLength","headerArray","getUint16","getUint32","emitWarning","Blob","blob","ctrl","arrayBuffer","Backoff","factor","jitter","attempts","rand","deviation","setMin","setMax","setJitter","Manager","url_js_1","manager_js_1","lookup","sameNamespace","forceNew","multiplex","socket_io_parser_1","engine_io_client_1","on_js_1","backo2_js_1","nsps","subs","reconnection","reconnectionAttempts","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","Encoder","Decoder","_autoConnect","autoConnect","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","_reconnecting","reconnect","skipReconnect","openSubDestroy","errorSub","timer","onping","ondata","ondecoded","nsp","_close","_packet","subDestroy","disconnect","delay","onreconnect","attempt","RESERVED_EVENTS","freeze","connect_error","disconnecting","newListener","connected","recovered","receiveBuffer","sendBuffer","_queueSeq","ids","acks","_opts","disconnected","subEvents","onpacket","retries","fromQueue","volatile","_addToQueue","PacketType","EVENT","ack","_registerAckCallback","isTransportWritable","notifyOutgoingListeners","ackTimeout","emitWithAck","withErr","arg1","arg2","tryCount","responseArgs","_drainQueue","_sendConnectPacket","CONNECT","_pid","_lastOffset","onconnect","BINARY_EVENT","onevent","ACK","BINARY_ACK","onack","DISCONNECT","ondisconnect","CONNECT_ERROR","emitEvent","_anyListeners","sent","emitBuffered","onAny","prependAny","offAny","listenersAny","onAnyOutgoing","_anyOutgoingListeners","prependAnyOutgoing","offAnyOutgoing","listenersAnyOutgoing","reconstructPacket","deconstructPacket","is_binary_js_1","_deconstructPacket","buffers","_placeholder","newData","_reconstructPacket","packetData","pack","attachments","binary_js_1","hasBinary","encodeAsString","encodeAsBinary","deconstruction","reviver","reconstructor","decodeString","isBinaryEvent","BinaryReconstructor","base64","takeBinaryData","tryParse","isPayloadValid","finishedReconstruction","reconPack","binData","withNativeArrayBuffer","withNativeBlob","withNativeFile","asynciterable","last$1","map$1","toarray","escapeRegExp","events","_interopDefaultLegacy","matter__default","escapeRegExp__default","ArrayProto","ObjProto","escapeMap","hasOwnProp","lookupEscape","_prettifyError","withInternals","Update","TemplateError","old","lineno","colno","cause","getStack","stackDescriptor","firstUpdate","escape$1","isArray$1","getAttrGetter","_item","groupBy","throwOnUndefined","without","char_","asyncIter","iter","asyncFor","keys_","searchElement","_entries","obj1","obj2","lib","_assign","inOperator","whitespaceChars","delimChars","TOKEN_STRING","TOKEN_WHITESPACE","TOKEN_DATA","TOKEN_BLOCK_START","TOKEN_BLOCK_END","TOKEN_VARIABLE_START","TOKEN_VARIABLE_END","TOKEN_COMMENT","TOKEN_LEFT_PAREN","TOKEN_RIGHT_PAREN","TOKEN_LEFT_BRACKET","TOKEN_RIGHT_BRACKET","TOKEN_LEFT_CURLY","TOKEN_RIGHT_CURLY","TOKEN_OPERATOR","TOKEN_COMMA","TOKEN_COLON","TOKEN_TILDE","TOKEN_PIPE","TOKEN_INT","TOKEN_FLOAT","TOKEN_BOOLEAN","TOKEN_NONE","TOKEN_SYMBOL","TOKEN_REGEX","in_code","BLOCK_START","blockStart","BLOCK_END","blockEnd","VARIABLE_START","variableStart","VARIABLE_END","variableEnd","COMMENT_START","commentStart","COMMENT_END","commentEnd","trimBlocks","lstripBlocks","cur","_parseString","_extract","_extractString","forward","back","forwardN","regexBody","POSSIBLE_FLAGS","regexFlags","complexOps","curComplex","_extractUntil","dec","beginChars","inComment","_matches","lastLine","charString","_extractMatching","breakOnMatch","_extractRegex","currentStr","backN","lexer","TOKEN_SPECIAL","extendClass","cls","props","subclass","typename","Obj","EmitterObj","traverseAndCheck","findAll","fields","NodeList","iterFields","Value","addChild","Root","Symbol$1","Group","ArrayNode","Pair","Dict","LookupVal","If","IfAsync","InlineIf","For","AsyncEach","AsyncAll","Macro","Caller","Import","FromImport","withContext","FunCall","Filter","FilterAsync","KeywordArgs","Block","Extends","Include","Set$1","Switch","Case","Output","Capture","TemplateData","UnaryOp","BinOp","In","Is","Or","And","Not","Add","Concat","Sub","Mul","Div","FloorDiv","Mod","Pow","Neg","Pos","Compare","CompareOperand","CallExtension","contentArgs","extName","__name","autoescape","CallExtensionAsync","inline","nl","printNodes","fieldName","peeked","breakOnBlocks","dropLeadingWhitespace","withWhitespace","peekToken","pushToken","fail","skip","skipValue","skipSymbol","advanceAfterBlockEnd","advanceAfterVariableEnd","parseFor","endBlock","forTok","parsePrimary","prim","parseUntilBlocks","else_","parseMacro","macroTok","parseSignature","parseCall","callTok","callerArgs","macroCall","callerName","callerNode","parseWithContext","parseImport","importTok","parseFrom","fromTok","nextTok","parseExtends","parseInclude","ignoreMissing","parseIf","cond","parseSet","targets","parseSwitch","switchStart","switchEnd","caseStart","caseDefault","defaultCase","parseRaw","parseFilterStatement","endTagName","rawBlockRegex","rawLevel","begun","blockName","parsePostfix","parseAggregate","parseInlineIf","parseOr","condNode","bodyNode","parseAnd","node2","parseNot","parseIn","parseIs","invert","parseCompare","compareOps","parseConcat","ops","parseAdd","parseSub","parseMul","parseDiv","parseFloorDiv","parseMod","parsePow","parseUnary","noFilters","parseFilter","noPostfix","parseFilterName","parseFilterArgs","filterTok","noParens","kwargs","checkComma","blockNames","parseNodes","nextVal","parseAsRoot","sym","gensym","mapCOW","walk$1","depthFirst","astT","propsT","depthWalk","_liftFilters","asyncFilters","walked","descNode","symbol","arrayFrom","supportsIterators","Frame$1","isolateWrites","topLevel","resolveUp","forWrite","makeMacro","argNames","kwargNames","macroArgs","numArgs","lastArg","isKeywordArgs","getKeywordArgs","SafeString","copySafeness","markSafe","valueOf","globalRuntime","Frame","makeKeywordArgs","__keywords","suppressValue","ensureDefined","memberLookup","contextOrFrameLookup","callWrap","asyncEach","dimen","asyncAll","outputArr","fromIterator","flattenAsyncIterable","wrapAsyncIterable","itermap","existing","chunkPromises","rootIterator","cachedIterable","chunkPromise","Compiler","templateName","codebuf","lastId","bufferStack","_scopeClosers","inBlock","_pushBuffer","_tmpid","_emit","_emitPushBuffer","_popBuffer","_emitPopBuffer","_emitLine","_emitLines","_emitFuncBegin","noEmitPushBuffer","_emitFuncEnd","noReturn","_closeScopeLevels","_addScopeLevel","_withScopedSyntax","_makeCallback","_templateName","_compileChildren","_compileAggregate","startChar","endChar","_compileExpression","assertType","compileCallExtension","compileCallExtensionAsync","compileNodeList","compileLiteral","compileSymbol","compileGroup","compileArray","compileDict","compilePair","compileInlineIf","compileIn","compileIs","_binOpEmitter","compileOr","compileAnd","compileAdd","compileConcat","compileSub","compileMul","compileDiv","compileMod","compileNot","compileFloorDiv","compilePow","compileNeg","compilePos","compileCompare","compileLookupVal","_getNodeName","compileFunCall","compileFilter","compileFilterAsync","compileKeywordArgs","compileSet","compileSwitch","compileIf","compileIfAsync","_emitLoopBindings","compileFor","u","tid","_compileAsyncLoop","parallel","compileAsyncEach","compileAsyncAll","_compileMacro","funcId","keepFrame","realNames","currFrame","compileMacro","compileCaller","_compilePromisifyCallback","_compileGetTemplate","eagerCompile","parentName","eagerCompileArg","ignoreMissingArg","_compileGetExported","templateVariable","compileImport","compileFromImport","nameNode","compileBlock","compileSuper","compileExtends","compileInclude","compileTemplateData","compileCapture","compileOutput","compileRoot","blocks","tmpFrame","_compile","getCode","processedSrc","preprocess","processor","convertStatements","blockNode","hasSuper","liftSuper","liftFilters","cps","capitalize","default_","def","bool","getSelectOrReject","expectedTestResult","testName","secondArg","getTest","select","reversed","caseSens","getAttribute","puncRe","emailRe","httpHttpsRe","wwwRe","tldRe","filters","batch","linecount","fillWith","center","dictsort","caseSensitive","by","si","t1","t2","safe","forceescape","groupby","indentfirst","sp","del","nl2br","rejectattr","selectattr","new_","maxCount","originalStr","nextIndex","reverse","precision","rounder","sliceLength","extra","currSlice","striptags","preserveLinebreaks","trimmedInput","words","truncate","killwords","urlencode","enc","urlize","nofollow","noFollowAttr","possibleUrl","shortUrl","wordcount","float","equalto","one","two","greaterthan","lessthan","tests","callable","defined","divisibleby","eq","sameas","even","falsy","lt","nullTest","odd","truthy","undefinedTest","iterable","noopTmplSrc","Environment","loaders","dev","_initLoaders","cycler","joiner","extensionsList","addFilter","addTest","fullname","invalidateCache","addExtension","removeExtension","hasExtension","addGlobal","getGlobal","wrapped","resolveTemplate","isRelative","getTemplate","tmpl","Template","syncResult","getSource","newTmpl","noCache","_tmpl","render","renderString","Context","addBlock","setVariable","getVariables","getBlock","getSuper","blk","addExport","getExported","tmplProps","tmplStr","compiled","parentFrame","rootRenderFunc","gen","__PRINT_SOURCE","_getBlocks","pushNode","hideFromBuffers","popNode","isInstructionToken","CaptureFeature","onSetupEnvironment","tagToken","captureBody","matchBody","run","partName","CodeSnippetsFeature","formatSnippetFilter","snippetOrStr","argSet","lineNumDigitsNeeded","CollectionsFeature","IteratorsFeature","valOrAsyncIterable","descend","findNodesOfType","structuredPromptIterable","tokenIterable","nodeStack","currentNode","_currentNode$children","lastChild","textIterable","tokenStream","LlmFeature","onPreHydrate","currentBuffer","onProvideAttachment","maxTokens","more","_response$candidates","flow","structuredPrompt","richBody","extras","completeStream","MultimodalFeature","attachmentId","RetrievalFeature","templateContext","__debounceMs","__debounceId","debouncerId","makeRetrieveFunction","onPostHydrate","hydratedPrompt","debounceMs","retrieverId","_config$retrievers","retriever","RolesFeature","StoreFeature","__storedVars","varName","sanitizedValue","storedVars","ToolUseFeature","toolId","tool","feature","nunjucksSource","_parse","_hydrate","executeStream","tokenBuffer","hydrateContext","donePromise","matchOutput","partRegexp","matchRegexps","matchNodes","regexpParts","partMatches","matchAll","partMatch","groups","stop_sequences","nodeTextContent","firstStop","seq","walkAsync","fetch__default","SimpleLruCache","lruKeys","EMPTY_RESPONSE","responseCache","_chunk$data","firstComma","charset","typeFull","FetchBaseError","FetchError","systemError","erroredSysCall","syscall","NAME","isURLSearchParameters","getAll","isBlob","isDomainOrSubdomain","isSameProtocol","pipeline","INTERNALS","Body","boundary","isAnyArrayBuffer","disturbed","error_","bodyUsed","consumeBody","ct","formData","URLSearchParams","toFormData","accum","accumBytes","readableEnded","ended","clone","instance","getBoundary","getNonSpecFormDataBoundary","extractContentType","writeToStream","validateHeaderName","validateHeaderValue","Headers","isBoxedPrimitive","Proxy","redirectStatus","isRedirect","Response","contentType","ok","redirected","stripURLForUseAsAReferrer","originOnly","ReferrerPolicy","isUrlPotentiallyTrustworthy","hostIp","hostIPVersion","isOriginPotentiallyTrustworthy","isRequest","doBadDataWarn","inputBody","referrer","parsedReferrer","redirect","follow","insecureHTTPParser","referrerPolicy","validateReferrerPolicy","getNodeRequestOptions","contentLengthValue","totalBytes","getLengthSync","hasKnownLength","getTotalBytes","referrerURLCallback","referrerOriginCallback","policy","referrerSource","referrerURL","referrerOrigin","currentURL","determineRequestsReferrer","lastOffset","getSearch","supportedSchemas","options_","abortAndFinalize","request_","errorCallback","LAST_CHUNK","previousChunk","isChunkedTransfer","properLastChunkReceived","onSocketClose","prependListener","fixResponseChunkedTransferBadEnding","endedWithEventsCount","_eventsCount","hadError","response_","fromRawHeaders","rawHeaders","locationURL","requestOptions","responseReferrerPolicy","policyTokens","parseReferrerPolicyFromHeader","responseOptions","statusMessage","codings","zlibOptions","finishFlush","_callbacks","callbacks","hasListeners","fileBits","lastModified","blobFromSync","fromBlob","blobFrom","fileFrom","fromFile","fileFromSync","BlobDataItem","mtimeMs","createReadStream","toIterator","_Blob","blobParts","endings","relativeStart","relativeEnd","span","added","subarray","FormData","formDataToBlob","B","BUFFER","TYPE","slicedBuffer","_this","_ref","_ref$size","_ref$timeout","isURLSearchParams","_this4","resTimeout","_lengthRetrievers","_this2","textConverted","_this3","convertBody","mixIn","proto","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","MAP","headerNames","headerName","getHeaders","_pairs$i","createHeadersIterator","INTERNAL","HeadersIteratorPrototype","_INTERNAL","exportNodeCompatibleHeaders","hostHeaderKey","INTERNALS$1","INTERNALS$2","parse_url","format_url","urlStr","streamDestructionSupported","URL$1","PassThrough$1","reqTimeout","createHeadersLenient","requestOpts","response_options","__assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","decorate","__param","paramIndex","decorator","__esDecorate","descriptorIn","contextIn","initializers","extraInitializers","descriptor","access","addInitializer","__runInitializers","useValue","__propKey","__setFunctionName","__metadata","metadataKey","metadataValue","__awaiter","_arguments","P","fulfilled","rejected","__generator","g","trys","verb","__values","__read","ar","__spread","__spreadArrays","il","jl","__spreadArray","__await","__asyncGenerator","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","__classPrivateFieldGet","__classPrivateFieldSet","__classPrivateFieldIn","__addDisposableResource","asyncDispose","_SuppressedError","SuppressedError","suppressed","__disposeResources","rec","__webpack_module_cache__","installedChunks","__webpack_require__","cachedModule","__webpack_modules__","chunkId","promises","moreModules","chunkIds","installChunk","__webpack_exports__"],"sourceRoot":""}
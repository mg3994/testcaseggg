/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var rt=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/errors","vs/base/common/path","vs/base/common/buffer","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/network","vs/base/common/uri","vs/base/common/stream","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/instantiation","vs/platform/contextkey/common/contextkey","vs/workbench/contrib/notebook/common/notebookCommon","vs/base/common/lazy","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/map","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],lt=function(st){for(var t=[],W=0,z=st.length;W<z;W++)t[W]=rt[st[W]];return t};define(rt[13],lt([0,1,4,7]),function(st,t,W,z){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$$d=t.$0d=t.$9d=t.$8d=t.$7d=t.$6d=t.$5d=t.$4d=t.$3d=t.$2d=t.$1d=t.$Zd=t.$Yd=t.$Xd=t.$Wd=void 0;function D(i){const l=i;return l?typeof l.read=="function":!1}t.$Wd=D;function S(i){const l=i;return l?[l.on,l.pause,l.resume,l.destroy].every(u=>typeof u=="function"):!1}t.$Xd=S;function U(i){const l=i;return l?S(l.stream)&&Array.isArray(l.buffer)&&typeof l.ended=="boolean":!1}t.$Yd=U;function H(i,l){return new v(i,l)}t.$Zd=H;class v{constructor(l,u){this.e=l,this.f=u,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(l){if(!this.a.destroyed){if(this.a.flowing)this.g(l);else if(this.b.data.push(l),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(u=>this.d.push(u))}}error(l){this.a.destroyed||(this.a.flowing?this.h(l):this.b.error.push(l))}end(l){this.a.destroyed||(typeof l<"u"&&this.write(l),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(l){this.c.data.slice(0).forEach(u=>u(l))}h(l){this.c.error.length===0?(0,W.$Y)(l):this.c.error.slice(0).forEach(u=>u(l))}i(){this.c.end.slice(0).forEach(l=>l())}on(l,u){if(!this.a.destroyed)switch(l){case"data":this.c.data.push(u),this.resume();break;case"end":this.c.end.push(u),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(u),this.a.flowing&&this.k();break}}removeListener(l,u){if(this.a.destroyed)return;let p;switch(l){case"data":p=this.c.data;break;case"end":p=this.c.end;break;case"error":p=this.c.error;break}if(p){const L=p.indexOf(u);L>=0&&p.splice(L,1)}}j(){if(this.b.data.length>0){const l=this.e(this.b.data);this.g(l),this.b.data.length=0;const u=[...this.d];this.d.length=0,u.forEach(p=>p())}}k(){if(this.c.error.length>0){for(const l of this.b.error)this.h(l);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function d(i,l){const u=[];let p;for(;(p=i.read())!==null;)u.push(p);return l(u)}t.$1d=d;function b(i,l,u){const p=[];let L;for(;(L=i.read())!==null&&p.length<u;)p.push(L);return L===null&&p.length>0?l(p):{read:()=>{if(p.length>0)return p.shift();if(typeof L<"u"){const E=L;return L=void 0,E}return i.read()}}}t.$2d=b;function k(i,l){return new Promise((u,p)=>{const L=[];m(i,{onData:E=>{l&&L.push(E)},onError:E=>{l?p(E):u(void 0)},onEnd:()=>{u(l?l(L):void 0)}})})}t.$3d=k;function m(i,l,u){i.on("error",p=>{u?.isCancellationRequested||l.onError(p)}),i.on("end",()=>{u?.isCancellationRequested||l.onEnd()}),i.on("data",p=>{u?.isCancellationRequested||l.onData(p)})}t.$4d=m;function A(i,l){return new Promise((u,p)=>{const L=new z.$Pc,E=[],P=B=>{if(E.push(B),E.length>l)return L.dispose(),i.pause(),u({stream:i,buffer:E,ended:!1})},a=B=>(L.dispose(),p(B)),y=()=>(L.dispose(),u({stream:i,buffer:E,ended:!0}));L.add((0,z.$Oc)(()=>i.removeListener("error",a))),i.on("error",a),L.add((0,z.$Oc)(()=>i.removeListener("end",y))),i.on("end",y),L.add((0,z.$Oc)(()=>i.removeListener("data",P))),i.on("data",P)})}t.$5d=A;function $(i,l){const u=H(l);return u.end(i),u}t.$6d=$;function f(){const i=H(()=>{throw new Error("not supported")});return i.end(),i}t.$7d=f;function c(i){let l=!1;return{read:()=>l?null:(l=!0,i)}}t.$8d=c;function h(i,l,u){const p=H(u);return m(i,{onData:L=>p.write(l.data(L)),onError:L=>p.error(l.error?l.error(L):L),onEnd:()=>p.end()}),p}t.$9d=h;function n(i,l,u){let p=!1;return{read:()=>{const L=l.read();return p?L:(p=!0,L!==null?u([i,L]):i)}}}t.$0d=n;function r(i,l,u){let p=!1;const L=H(u);return m(l,{onData:E=>p?L.write(E):(p=!0,L.write(u([i,E]))),onError:E=>L.error(E),onEnd:()=>{p||(p=!0,L.write(i)),L.end()}}),L}t.$$d=r}),define(rt[6],lt([0,1,36,13]),function(st,t,W,z){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$te=t.$se=t.$re=t.$qe=t.$pe=t.$oe=t.$ne=t.$me=t.$le=t.$ke=t.$je=t.$ie=t.$he=t.$ge=t.$fe=t.$ee=t.$de=t.$ce=t.$be=t.$ae=t.$_d=void 0;const D=typeof Buffer<"u",S=new W.$T(()=>new Uint8Array(256));let U,H;class v{static alloc(w){return D?new v(Buffer.allocUnsafe(w)):new v(new Uint8Array(w))}static wrap(w){return D&&!Buffer.isBuffer(w)&&(w=Buffer.from(w.buffer,w.byteOffset,w.byteLength)),new v(w)}static fromString(w,F){return!(F?.dontUseNodeBuffer||!1)&&D?new v(Buffer.from(w)):(U||(U=new TextEncoder),new v(U.encode(w)))}static fromByteArray(w){const F=v.alloc(w.length);for(let J=0,_=w.length;J<_;J++)F.buffer[J]=w[J];return F}static concat(w,F){if(typeof F>"u"){F=0;for(let x=0,et=w.length;x<et;x++)F+=w[x].byteLength}const J=v.alloc(F);let _=0;for(let x=0,et=w.length;x<et;x++){const tt=w[x];J.set(tt,_),_+=tt.byteLength}return J}constructor(w){this.buffer=w,this.byteLength=this.buffer.byteLength}clone(){const w=v.alloc(this.byteLength);return w.set(this),w}toString(){return D?this.buffer.toString():(H||(H=new TextDecoder),H.decode(this.buffer))}slice(w,F){return new v(this.buffer.subarray(w,F))}set(w,F){if(w instanceof v)this.buffer.set(w.buffer,F);else if(w instanceof Uint8Array)this.buffer.set(w,F);else if(w instanceof ArrayBuffer)this.buffer.set(new Uint8Array(w),F);else if(ArrayBuffer.isView(w))this.buffer.set(new Uint8Array(w.buffer,w.byteOffset,w.byteLength),F);else throw new Error("Unknown argument 'array'")}readUInt32BE(w){return m(this.buffer,w)}writeUInt32BE(w,F){A(this.buffer,w,F)}readUInt32LE(w){return $(this.buffer,w)}writeUInt32LE(w,F){f(this.buffer,w,F)}readUInt8(w){return c(this.buffer,w)}writeUInt8(w,F){h(this.buffer,w,F)}indexOf(w,F=0){return d(this.buffer,w instanceof v?w.buffer:w,F)}}t.$_d=v;function d(O,w,F=0){const J=w.byteLength,_=O.byteLength;if(J===0)return 0;if(J===1)return O.indexOf(w[0]);if(J>_-F)return-1;const x=S.value;x.fill(w.length);for(let X=0;X<w.length;X++)x[w[X]]=w.length-X-1;let et=F+w.length-1,tt=et,C=-1;for(;et<_;)if(O[et]===w[tt]){if(tt===0){C=et;break}et--,tt--}else et+=Math.max(w.length-tt,x[O[et]]),tt=w.length-1;return C}t.$ae=d;function b(O,w){return O[w+0]<<0>>>0|O[w+1]<<8>>>0}t.$be=b;function k(O,w,F){O[F+0]=w&255,w=w>>>8,O[F+1]=w&255}t.$ce=k;function m(O,w){return O[w]*2**24+O[w+1]*2**16+O[w+2]*2**8+O[w+3]}t.$de=m;function A(O,w,F){O[F+3]=w,w=w>>>8,O[F+2]=w,w=w>>>8,O[F+1]=w,w=w>>>8,O[F]=w}t.$ee=A;function $(O,w){return O[w+0]<<0>>>0|O[w+1]<<8>>>0|O[w+2]<<16>>>0|O[w+3]<<24>>>0}t.$fe=$;function f(O,w,F){O[F+0]=w&255,w=w>>>8,O[F+1]=w&255,w=w>>>8,O[F+2]=w&255,w=w>>>8,O[F+3]=w&255}t.$ge=f;function c(O,w){return O[w]}t.$he=c;function h(O,w,F){O[F]=w}t.$ie=h;function n(O){return z.$1d(O,w=>v.concat(w))}t.$je=n;function r(O){return z.$8d(O)}t.$ke=r;function i(O){return z.$3d(O,w=>v.concat(w))}t.$le=i;async function l(O){return O.ended?v.concat(O.buffer):v.concat([...O.buffer,await i(O.stream)])}t.$me=l;function u(O){return z.$6d(O,w=>v.concat(w))}t.$ne=u;function p(O){return z.$9d(O,{data:w=>typeof w=="string"?v.fromString(w):v.wrap(w)},w=>v.concat(w))}t.$oe=p;function L(O){return z.$Zd(w=>v.concat(w),O)}t.$pe=L;function E(O,w){return z.$0d(O,w,F=>v.concat(F))}t.$qe=E;function P(O,w){return z.$$d(O,w,F=>v.concat(F))}t.$re=P;function a(O){let w=0,F=0,J=0;const _=new Uint8Array(Math.floor(O.length/4*3)),x=tt=>{switch(F){case 3:_[J++]=w|tt,F=0;break;case 2:_[J++]=w|tt>>>2,w=tt<<6,F=3;break;case 1:_[J++]=w|tt>>>4,w=tt<<4,F=2;break;default:w=tt<<2,F=1}};for(let tt=0;tt<O.length;tt++){const C=O.charCodeAt(tt);if(C>=65&&C<=90)x(C-65);else if(C>=97&&C<=122)x(C-97+26);else if(C>=48&&C<=57)x(C-48+52);else if(C===43||C===45)x(62);else if(C===47||C===95)x(63);else{if(C===61)break;throw new SyntaxError(`Unexpected base64 character ${O[tt]}`)}}const et=J;for(;F>0;)x(0);return v.wrap(_).slice(0,et)}t.$se=a;const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function V({buffer:O},w=!0,F=!1){const J=F?B:y;let _="";const x=O.byteLength%3;let et=0;for(;et<O.byteLength-x;et+=3){const tt=O[et+0],C=O[et+1],X=O[et+2];_+=J[tt>>>2],_+=J[(tt<<4|C>>>4)&63],_+=J[(C<<2|X>>>6)&63],_+=J[X&63]}if(x===1){const tt=O[et+0];_+=J[tt>>>2],_+=J[tt<<4&63],w&&(_+="==")}else if(x===2){const tt=O[et+0],C=O[et+1];_+=J[tt>>>2],_+=J[(tt<<4|C>>>4)&63],_+=J[C<<2&63],w&&(_+="=")}return _}t.$te=V}),define(rt[14],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Id=void 0,t.$Id=Symbol("MicrotaskDelay")}),define(rt[15],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Ys=t.StringEOL=void 0;var W;(function(D){D[D.Unknown=0]="Unknown",D[D.Invalid=3]="Invalid",D[D.LF=1]="LF",D[D.CRLF=2]="CRLF"})(W||(t.StringEOL=W={}));function z(D){let S=0,U=0,H=0,v=0;for(let d=0,b=D.length;d<b;d++){const k=D.charCodeAt(d);k===13?(S===0&&(U=d),S++,d+1<b&&D.charCodeAt(d+1)===10?(v|=2,d++):v|=3,H=d+1):k===10&&(v|=1,S===0&&(U=d),S++,H=d+1)}return S===0&&(U=D.length),[S,U,D.length-H,v]}t.$Ys=z}),define(rt[16],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$kB=t.$jB=t.$iB=t.$hB=t.$gB=t.$fB=t.$eB=t.$dB=t.$cB=t.NodeColor=t.$bB=void 0;class W{constructor(c,h){this.piece=c,this.color=h,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==t.$cB)return D(this.right);let c=this;for(;c.parent!==t.$cB&&c.parent.left!==c;)c=c.parent;return c.parent===t.$cB?t.$cB:c.parent}prev(){if(this.left!==t.$cB)return S(this.left);let c=this;for(;c.parent!==t.$cB&&c.parent.right!==c;)c=c.parent;return c.parent===t.$cB?t.$cB:c.parent}detach(){this.parent=null,this.left=null,this.right=null}}t.$bB=W;var z;(function(f){f[f.Black=0]="Black",f[f.Red=1]="Red"})(z||(t.NodeColor=z={})),t.$cB=new W(null,0),t.$cB.parent=t.$cB,t.$cB.left=t.$cB,t.$cB.right=t.$cB,t.$cB.color=0;function D(f){for(;f.left!==t.$cB;)f=f.left;return f}t.$dB=D;function S(f){for(;f.right!==t.$cB;)f=f.right;return f}t.$eB=S;function U(f){return f===t.$cB?0:f.size_left+f.piece.length+U(f.right)}function H(f){return f===t.$cB?0:f.lf_left+f.piece.lineFeedCnt+H(f.right)}function v(){t.$cB.parent=t.$cB}function d(f,c){const h=c.right;h.size_left+=c.size_left+(c.piece?c.piece.length:0),h.lf_left+=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),c.right=h.left,h.left!==t.$cB&&(h.left.parent=c),h.parent=c.parent,c.parent===t.$cB?f.root=h:c.parent.left===c?c.parent.left=h:c.parent.right=h,h.left=c,c.parent=h}t.$fB=d;function b(f,c){const h=c.left;c.left=h.right,h.right!==t.$cB&&(h.right.parent=c),h.parent=c.parent,c.size_left-=h.size_left+(h.piece?h.piece.length:0),c.lf_left-=h.lf_left+(h.piece?h.piece.lineFeedCnt:0),c.parent===t.$cB?f.root=h:c===c.parent.right?c.parent.right=h:c.parent.left=h,h.right=c,c.parent=h}t.$gB=b;function k(f,c){let h,n;if(c.left===t.$cB?(n=c,h=n.right):c.right===t.$cB?(n=c,h=n.left):(n=D(c.right),h=n.right),n===f.root){f.root=h,h.color=0,c.detach(),v(),f.root.parent=t.$cB;return}const r=n.color===1;if(n===n.parent.left?n.parent.left=h:n.parent.right=h,n===c?(h.parent=n.parent,$(f,h)):(n.parent===c?h.parent=n:h.parent=n.parent,$(f,h),n.left=c.left,n.right=c.right,n.parent=c.parent,n.color=c.color,c===f.root?f.root=n:c===c.parent.left?c.parent.left=n:c.parent.right=n,n.left!==t.$cB&&(n.left.parent=n),n.right!==t.$cB&&(n.right.parent=n),n.size_left=c.size_left,n.lf_left=c.lf_left,$(f,n)),c.detach(),h.parent.left===h){const l=U(h),u=H(h);if(l!==h.parent.size_left||u!==h.parent.lf_left){const p=l-h.parent.size_left,L=u-h.parent.lf_left;h.parent.size_left=l,h.parent.lf_left=u,A(f,h.parent,p,L)}}if($(f,h.parent),r){v();return}let i;for(;h!==f.root&&h.color===0;)h===h.parent.left?(i=h.parent.right,i.color===1&&(i.color=0,h.parent.color=1,d(f,h.parent),i=h.parent.right),i.left.color===0&&i.right.color===0?(i.color=1,h=h.parent):(i.right.color===0&&(i.left.color=0,i.color=1,b(f,i),i=h.parent.right),i.color=h.parent.color,h.parent.color=0,i.right.color=0,d(f,h.parent),h=f.root)):(i=h.parent.left,i.color===1&&(i.color=0,h.parent.color=1,b(f,h.parent),i=h.parent.left),i.left.color===0&&i.right.color===0?(i.color=1,h=h.parent):(i.left.color===0&&(i.right.color=0,i.color=1,d(f,i),i=h.parent.left),i.color=h.parent.color,h.parent.color=0,i.left.color=0,b(f,h.parent),h=f.root));h.color=0,v()}t.$hB=k;function m(f,c){for($(f,c);c!==f.root&&c.parent.color===1;)if(c.parent===c.parent.parent.left){const h=c.parent.parent.right;h.color===1?(c.parent.color=0,h.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.right&&(c=c.parent,d(f,c)),c.parent.color=0,c.parent.parent.color=1,b(f,c.parent.parent))}else{const h=c.parent.parent.left;h.color===1?(c.parent.color=0,h.color=0,c.parent.parent.color=1,c=c.parent.parent):(c===c.parent.left&&(c=c.parent,b(f,c)),c.parent.color=0,c.parent.parent.color=1,d(f,c.parent.parent))}f.root.color=0}t.$iB=m;function A(f,c,h,n){for(;c!==f.root&&c!==t.$cB;)c.parent.left===c&&(c.parent.size_left+=h,c.parent.lf_left+=n),c=c.parent}t.$jB=A;function $(f,c){let h=0,n=0;if(c!==f.root){for(;c!==f.root&&c===c.parent.right;)c=c.parent;if(c!==f.root)for(c=c.parent,h=U(c.left)-c.size_left,n=H(c.left)-c.lf_left,c.size_left+=h,c.lf_left+=n;c!==f.root&&(h!==0||n!==0);)c.parent.left===c&&(c.parent.size_left+=h,c.parent.lf_left+=n),c=c.parent}}t.$kB=$}),define(rt[8],lt([0,1,37,9,17,16,18]),function(st,t,W,z,D,S,U){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$vB=t.$uB=t.$tB=t.$sB=t.$rB=void 0;const H=65535;function v(h){let n;return h[h.length-1]<65536?n=new Uint16Array(h.length):n=new Uint32Array(h.length),n.set(h,0),n}class d{constructor(n,r,i,l,u){this.lineStarts=n,this.cr=r,this.lf=i,this.crlf=l,this.isBasicASCII=u}}function b(h,n=!0){const r=[0];let i=1;for(let l=0,u=h.length;l<u;l++){const p=h.charCodeAt(l);p===13?l+1<u&&h.charCodeAt(l+1)===10?(r[i++]=l+2,l++):r[i++]=l+1:p===10&&(r[i++]=l+1)}return n?v(r):r}t.$rB=b;function k(h,n){h.length=0,h[0]=0;let r=1,i=0,l=0,u=0,p=!0;for(let E=0,P=n.length;E<P;E++){const a=n.charCodeAt(E);a===13?E+1<P&&n.charCodeAt(E+1)===10?(u++,h[r++]=E+2,E++):(i++,h[r++]=E+1):a===10?(l++,h[r++]=E+1):p&&a!==9&&(a<32||a>126)&&(p=!1)}const L=new d(v(h),i,l,u,p);return h.length=0,L}t.$sB=k;class m{constructor(n,r,i,l,u){this.bufferIndex=n,this.start=r,this.end=i,this.lineFeedCnt=l,this.length=u}}t.$tB=m;class A{constructor(n,r){this.buffer=n,this.lineStarts=r}}t.$uB=A;class ${constructor(n,r){this.a=[],this.c=n,this.d=r,this.b=0,n.root!==S.$cB&&n.iterate(n.root,i=>(i!==S.$cB&&this.a.push(i.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class f{constructor(n){this.a=n,this.b=[]}get(n){for(let r=this.b.length-1;r>=0;r--){const i=this.b[r];if(i.nodeStartOffset<=n&&i.nodeStartOffset+i.node.piece.length>=n)return i}return null}get2(n){for(let r=this.b.length-1;r>=0;r--){const i=this.b[r];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<n&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=n)return i}return null}set(n){this.b.length>=this.a&&this.b.shift(),this.b.push(n)}validate(n){let r=!1;const i=this.b;for(let l=0;l<i.length;l++){const u=i[l];if(u.node.parent===null||u.nodeStartOffset>=n){i[l]=null,r=!0;continue}}if(r){const l=[];for(const u of i)u!==null&&l.push(u);this.b=l}}}class c{constructor(n,r,i){this.create(n,r,i)}create(n,r,i){this.a=[new A("",[0])],this.g={line:0,column:0},this.root=S.$cB,this.b=1,this.c=0,this.d=r,this.e=r.length,this.f=i;let l=null;for(let u=0,p=n.length;u<p;u++)if(n[u].buffer.length>0){n[u].lineStarts||(n[u].lineStarts=b(n[u].buffer));const L=new m(u+1,{line:0,column:0},{line:n[u].lineStarts.length-1,column:n[u].buffer.length-n[u].lineStarts[n[u].lineStarts.length-1]},n[u].lineStarts.length-1,n[u].buffer.length);this.a.push(n[u]),l=this.S(l,L)}this.h=new f(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(n){const r=H,i=r-Math.floor(r/3),l=i*2;let u="",p=0;const L=[];if(this.iterate(this.root,E=>{const P=this.R(E),a=P.length;if(p<=i||p+a<l)return u+=P,p+=a,!0;const y=u.replace(/\r\n|\r|\n/g,n);return L.push(new A(y,b(y))),u=P,p=a,!0}),p>0){const E=u.replace(/\r\n|\r|\n/g,n);L.push(new A(E,b(E)))}this.create(L,n,!0)}getEOL(){return this.d}setEOL(n){this.d=n,this.e=this.d.length,this.normalizeEOL(n)}createSnapshot(n){return new $(this,n)}equal(n){if(this.getLength()!==n.getLength()||this.getLineCount()!==n.getLineCount())return!1;let r=0;return this.iterate(this.root,l=>{if(l===S.$cB)return!0;const u=this.R(l),p=u.length,L=n.G(r),E=n.G(r+p),P=n.getValueInRange2(L,E);return r+=p,u===P})}getOffsetAt(n,r){let i=0,l=this.root;for(;l!==S.$cB;)if(l.left!==S.$cB&&l.lf_left+1>=n)l=l.left;else if(l.lf_left+l.piece.lineFeedCnt+1>=n){i+=l.size_left;const u=this.B(l,n-l.lf_left-2);return i+=u+r-1}else n-=l.lf_left+l.piece.lineFeedCnt,i+=l.size_left+l.piece.length,l=l.right;return i}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let r=this.root,i=0;const l=n;for(;r!==S.$cB;)if(r.size_left!==0&&r.size_left>=n)r=r.left;else if(r.size_left+r.piece.length>=n){const u=this.A(r,n-r.size_left);if(i+=r.lf_left+u.index,u.index===0){const p=this.getOffsetAt(i+1,1),L=l-p;return new W.$ls(i+1,L+1)}return new W.$ls(i+1,u.remainder+1)}else if(n-=r.size_left+r.piece.length,i+=r.lf_left+r.piece.lineFeedCnt,r.right===S.$cB){const u=this.getOffsetAt(i+1,1),p=l-n-u;return new W.$ls(i+1,p+1)}else r=r.right;return new W.$ls(1,1)}getValueInRange(n,r){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";const i=this.H(n.startLineNumber,n.startColumn),l=this.H(n.endLineNumber,n.endColumn),u=this.getValueInRange2(i,l);return r?r!==this.d||!this.f?u.replace(/\r\n|\r|\n/g,r):r===this.getEOL()&&this.f?u:u.replace(/\r\n|\r|\n/g,r):u}getValueInRange2(n,r){if(n.node===r.node){const L=n.node,E=this.a[L.piece.bufferIndex].buffer,P=this.u(L.piece.bufferIndex,L.piece.start);return E.substring(P+n.remainder,P+r.remainder)}let i=n.node;const l=this.a[i.piece.bufferIndex].buffer,u=this.u(i.piece.bufferIndex,i.piece.start);let p=l.substring(u+n.remainder,u+i.piece.length);for(i=i.next();i!==S.$cB;){const L=this.a[i.piece.bufferIndex].buffer,E=this.u(i.piece.bufferIndex,i.piece.start);if(i===r.node){p+=L.substring(E,E+r.remainder);break}else p+=L.substr(E,i.piece.length);i=i.next()}return p}getLinesContent(){const n=[];let r=0,i="",l=!1;return this.iterate(this.root,u=>{if(u===S.$cB)return!0;const p=u.piece;let L=p.length;if(L===0)return!0;const E=this.a[p.bufferIndex].buffer,P=this.a[p.bufferIndex].lineStarts,a=p.start.line,y=p.end.line;let B=P[a]+p.start.column;if(l&&(E.charCodeAt(B)===10&&(B++,L--),n[r++]=i,i="",l=!1,L===0))return!0;if(a===y)return!this.f&&E.charCodeAt(B+L-1)===13?(l=!0,i+=E.substr(B,L-1)):i+=E.substr(B,L),!0;i+=this.f?E.substring(B,Math.max(B,P[a+1]-this.e)):E.substring(B,P[a+1]).replace(/(\r\n|\r|\n)$/,""),n[r++]=i;for(let V=a+1;V<y;V++)i=this.f?E.substring(P[V],P[V+1]-this.e):E.substring(P[V],P[V+1]).replace(/(\r\n|\r|\n)$/,""),n[r++]=i;return!this.f&&E.charCodeAt(P[y]+p.end.column-1)===13?(l=!0,p.end.column===0?r--:i=E.substr(P[y],p.end.column-1)):i=E.substr(P[y],p.end.column),!0}),l&&(n[r++]=i,i=""),n[r++]=i,n}getLength(){return this.c}getLineCount(){return this.b}getLineContent(n){return this.j.lineNumber===n?this.j.value:(this.j.lineNumber=n,n===this.b?this.j.value=this.getLineRawContent(n):this.f?this.j.value=this.getLineRawContent(n,this.e):this.j.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(n){if(n.remainder===n.node.piece.length){const r=n.node.next();if(!r)return 0;const i=this.a[r.piece.bufferIndex],l=this.u(r.piece.bufferIndex,r.piece.start);return i.buffer.charCodeAt(l)}else{const r=this.a[n.node.piece.bufferIndex],l=this.u(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return r.buffer.charCodeAt(l)}}getLineCharCode(n,r){const i=this.H(n,r+1);return this.l(i)}getLineLength(n){if(n===this.getLineCount()){const r=this.getOffsetAt(n,1);return this.getLength()-r}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this.e}getCharCode(n){const r=this.G(n);return this.l(r)}findMatchesInNode(n,r,i,l,u,p,L,E,P,a,y){const B=this.a[n.piece.bufferIndex],V=this.u(n.piece.bufferIndex,n.piece.start),O=this.u(n.piece.bufferIndex,u),w=this.u(n.piece.bufferIndex,p);let F;const J={line:0,column:0};let _,x;r._wordSeparators?(_=B.buffer.substring(O,w),x=et=>et+O,r.reset(0)):(_=B.buffer,x=et=>et,r.reset(O));do if(F=r.next(_),F){if(x(F.index)>=w)return a;this.s(n,x(F.index)-V,J);const et=this.t(n.piece.bufferIndex,u,J),tt=J.line===u.line?J.column-u.column+l:J.column+1,C=tt+F[0].length;if(y[a++]=(0,U.$nB)(new z.$ms(i+et,tt,i+et,C),F,E),x(F.index)+F[0].length>=w||a>=P)return a}while(F);return a}findMatchesLineByLine(n,r,i,l){const u=[];let p=0;const L=new U.$qB(r.wordSeparators,r.regex);let E=this.H(n.startLineNumber,n.startColumn);if(E===null)return[];const P=this.H(n.endLineNumber,n.endColumn);if(P===null)return[];let a=this.s(E.node,E.remainder);const y=this.s(P.node,P.remainder);if(E.node===P.node)return this.findMatchesInNode(E.node,L,n.startLineNumber,n.startColumn,a,y,r,i,l,p,u),u;let B=n.startLineNumber,V=E.node;for(;V!==P.node;){const w=this.t(V.piece.bufferIndex,a,V.piece.end);if(w>=1){const J=this.a[V.piece.bufferIndex].lineStarts,_=this.u(V.piece.bufferIndex,V.piece.start),x=J[a.line+w],et=B===n.startLineNumber?n.startColumn:1;if(p=this.findMatchesInNode(V,L,B,et,a,this.s(V,x-_),r,i,l,p,u),p>=l)return u;B+=w}const F=B===n.startLineNumber?n.startColumn-1:0;if(B===n.endLineNumber){const J=this.getLineContent(B).substring(F,n.endColumn-1);return p=this.n(r,L,J,n.endLineNumber,F,p,u,i,l),u}if(p=this.n(r,L,this.getLineContent(B).substr(F),B,F,p,u,i,l),p>=l)return u;B++,E=this.H(B,1),V=E.node,a=this.s(E.node,E.remainder)}if(B===n.endLineNumber){const w=B===n.startLineNumber?n.startColumn-1:0,F=this.getLineContent(B).substring(w,n.endColumn-1);return p=this.n(r,L,F,n.endLineNumber,w,p,u,i,l),u}const O=B===n.startLineNumber?n.startColumn:1;return p=this.findMatchesInNode(P.node,L,B,O,a,y,r,i,l,p,u),u}n(n,r,i,l,u,p,L,E,P){const a=n.wordSeparators;if(!E&&n.simpleSearch){const B=n.simpleSearch,V=B.length,O=i.length;let w=-V;for(;(w=i.indexOf(B,w+V))!==-1;)if((!a||(0,U.$pB)(a,i,O,w,V))&&(L[p++]=new D.$Du(new z.$ms(l,w+1+u,l,w+1+V+u),null),p>=P))return p;return p}let y;r.reset(0);do if(y=r.next(i),y&&(L[p++]=(0,U.$nB)(new z.$ms(l,y.index+1+u,l,y.index+1+y[0].length+u),y,E),p>=P))return p;while(y);return p}insert(n,r,i=!1){if(this.f=this.f&&i,this.j.lineNumber=0,this.j.value="",this.root!==S.$cB){const{node:l,remainder:u,nodeStartOffset:p}=this.G(n),L=l.piece,E=L.bufferIndex,P=this.s(l,u);if(l.piece.bufferIndex===0&&L.end.line===this.g.line&&L.end.column===this.g.column&&p+L.length===n&&r.length<H){this.F(l,r),this.y();return}if(p===n)this.o(r,l),this.h.validate(n);else if(p+l.piece.length>n){const a=[];let y=new m(L.bufferIndex,P,L.end,this.t(L.bufferIndex,P,L.end),this.u(E,L.end)-this.u(E,P));if(this.K()&&this.M(r)&&this.I(l,u)===10){const w={line:y.start.line+1,column:0};y=new m(y.bufferIndex,w,y.end,this.t(y.bufferIndex,w,y.end),y.length-1),r+=`
`}if(this.K()&&this.L(r))if(this.I(l,u-1)===13){const w=this.s(l,u-1);this.C(l,w),r="\r"+r,l.piece.length===0&&a.push(l)}else this.C(l,P);else this.C(l,P);const B=this.w(r);y.length>0&&this.S(l,y);let V=l;for(let O=0;O<B.length;O++)V=this.S(V,B[O]);this.v(a)}else this.q(r,l)}else{const l=this.w(r);let u=this.T(null,l[0]);for(let p=1;p<l.length;p++)u=this.S(u,l[p])}this.y()}delete(n,r){if(this.j.lineNumber=0,this.j.value="",r<=0||this.root===S.$cB)return;const i=this.G(n),l=this.G(n+r),u=i.node,p=l.node;if(u===p){const B=this.s(u,i.remainder),V=this.s(u,l.remainder);if(i.nodeStartOffset===n){if(r===u.piece.length){const O=u.next();(0,S.$hB)(this,u),this.N(O),this.y();return}this.D(u,V),this.h.validate(n),this.N(u),this.y();return}if(i.nodeStartOffset+u.piece.length===n+r){this.C(u,B),this.O(u),this.y();return}this.E(u,B,V),this.y();return}const L=[],E=this.s(u,i.remainder);this.C(u,E),this.h.validate(n),u.piece.length===0&&L.push(u);const P=this.s(p,l.remainder);this.D(p,P),p.piece.length===0&&L.push(p);const a=u.next();for(let B=a;B!==S.$cB&&B!==p;B=B.next())L.push(B);const y=u.piece.length===0?u.prev():u;this.v(L),this.O(y),this.y()}o(n,r){const i=[];if(this.K()&&this.M(n)&&this.L(r)){const p=r.piece,L={line:p.start.line+1,column:0},E=new m(p.bufferIndex,L,p.end,this.t(p.bufferIndex,L,p.end),p.length-1);r.piece=E,n+=`
`,(0,S.$jB)(this,r,-1,-1),r.piece.length===0&&i.push(r)}const l=this.w(n);let u=this.T(r,l[l.length-1]);for(let p=l.length-2;p>=0;p--)u=this.T(u,l[p]);this.N(u),this.v(i)}q(n,r){this.Q(n,r)&&(n+=`
`);const i=this.w(n),l=this.S(r,i[0]);let u=l;for(let p=1;p<i.length;p++)u=this.S(u,i[p]);this.N(l)}s(n,r,i){const l=n.piece,u=n.piece.bufferIndex,p=this.a[u].lineStarts,E=p[l.start.line]+l.start.column+r;let P=l.start.line,a=l.end.line,y=0,B=0,V=0;for(;P<=a&&(y=P+(a-P)/2|0,V=p[y],y!==a);)if(B=p[y+1],E<V)a=y-1;else if(E>=B)P=y+1;else break;return i?(i.line=y,i.column=E-V,null):{line:y,column:E-V}}t(n,r,i){if(i.column===0)return i.line-r.line;const l=this.a[n].lineStarts;if(i.line===l.length-1)return i.line-r.line;const u=l[i.line+1],p=l[i.line]+i.column;if(u>p+1)return i.line-r.line;const L=p-1;return this.a[n].buffer.charCodeAt(L)===13?i.line-r.line+1:i.line-r.line}u(n,r){return this.a[n].lineStarts[r.line]+r.column}v(n){for(let r=0;r<n.length;r++)(0,S.$hB)(this,n[r])}w(n){if(n.length>H){const a=[];for(;n.length>H;){const B=n.charCodeAt(H-1);let V;B===13||B>=55296&&B<=56319?(V=n.substring(0,H-1),n=n.substring(H-1)):(V=n.substring(0,H),n=n.substring(H));const O=b(V);a.push(new m(this.a.length,{line:0,column:0},{line:O.length-1,column:V.length-O[O.length-1]},O.length-1,V.length)),this.a.push(new A(V,O))}const y=b(n);return a.push(new m(this.a.length,{line:0,column:0},{line:y.length-1,column:n.length-y[y.length-1]},y.length-1,n.length)),this.a.push(new A(n,y)),a}let r=this.a[0].buffer.length;const i=b(n,!1);let l=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===r&&r!==0&&this.L(n)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},l=this.g;for(let a=0;a<i.length;a++)i[a]+=r+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+="_"+n,r+=1}else{if(r!==0)for(let a=0;a<i.length;a++)i[a]+=r;this.a[0].lineStarts=this.a[0].lineStarts.concat(i.slice(1)),this.a[0].buffer+=n}const u=this.a[0].buffer.length,p=this.a[0].lineStarts.length-1,L=u-this.a[0].lineStarts[p],E={line:p,column:L},P=new m(0,l,E,this.t(0,l,E),u-r);return this.g=E,[P]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(n,r=0){let i=this.root,l="";const u=this.h.get2(n);if(u){i=u.node;const p=this.B(i,n-u.nodeStartLineNumber-1),L=this.a[i.piece.bufferIndex].buffer,E=this.u(i.piece.bufferIndex,i.piece.start);if(u.nodeStartLineNumber+i.piece.lineFeedCnt===n)l=L.substring(E+p,E+i.piece.length);else{const P=this.B(i,n-u.nodeStartLineNumber);return L.substring(E+p,E+P-r)}}else{let p=0;const L=n;for(;i!==S.$cB;)if(i.left!==S.$cB&&i.lf_left>=n-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>n-1){const E=this.B(i,n-i.lf_left-2),P=this.B(i,n-i.lf_left-1),a=this.a[i.piece.bufferIndex].buffer,y=this.u(i.piece.bufferIndex,i.piece.start);return p+=i.size_left,this.h.set({node:i,nodeStartOffset:p,nodeStartLineNumber:L-(n-1-i.lf_left)}),a.substring(y+E,y+P-r)}else if(i.lf_left+i.piece.lineFeedCnt===n-1){const E=this.B(i,n-i.lf_left-2),P=this.a[i.piece.bufferIndex].buffer,a=this.u(i.piece.bufferIndex,i.piece.start);l=P.substring(a+E,a+i.piece.length);break}else n-=i.lf_left+i.piece.lineFeedCnt,p+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==S.$cB;){const p=this.a[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const L=this.B(i,0),E=this.u(i.piece.bufferIndex,i.piece.start);return l+=p.substring(E,E+L-r),l}else{const L=this.u(i.piece.bufferIndex,i.piece.start);l+=p.substr(L,i.piece.length)}i=i.next()}return l}y(){let n=this.root,r=1,i=0;for(;n!==S.$cB;)r+=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right;this.b=r,this.c=i,this.h.validate(this.c)}A(n,r){const i=n.piece,l=this.s(n,r),u=l.line-i.start.line;if(this.u(i.bufferIndex,i.end)-this.u(i.bufferIndex,i.start)===r){const p=this.t(n.piece.bufferIndex,i.start,l);if(p!==u)return{index:p,remainder:0}}return{index:u,remainder:l.column}}B(n,r){if(r<0)return 0;const i=n.piece,l=this.a[i.bufferIndex].lineStarts,u=i.start.line+r+1;return u>i.end.line?l[i.end.line]+i.end.column-l[i.start.line]-i.start.column:l[u]-l[i.start.line]-i.start.column}C(n,r){const i=n.piece,l=i.lineFeedCnt,u=this.u(i.bufferIndex,i.end),p=r,L=this.u(i.bufferIndex,p),E=this.t(i.bufferIndex,i.start,p),P=E-l,a=L-u,y=i.length+a;n.piece=new m(i.bufferIndex,i.start,p,E,y),(0,S.$jB)(this,n,a,P)}D(n,r){const i=n.piece,l=i.lineFeedCnt,u=this.u(i.bufferIndex,i.start),p=r,L=this.t(i.bufferIndex,p,i.end),E=this.u(i.bufferIndex,p),P=L-l,a=u-E,y=i.length+a;n.piece=new m(i.bufferIndex,p,i.end,L,y),(0,S.$jB)(this,n,a,P)}E(n,r,i){const l=n.piece,u=l.start,p=l.end,L=l.length,E=l.lineFeedCnt,P=r,a=this.t(l.bufferIndex,l.start,P),y=this.u(l.bufferIndex,r)-this.u(l.bufferIndex,u);n.piece=new m(l.bufferIndex,l.start,P,a,y),(0,S.$jB)(this,n,y-L,a-E);const B=new m(l.bufferIndex,i,p,this.t(l.bufferIndex,i,p),this.u(l.bufferIndex,p)-this.u(l.bufferIndex,i)),V=this.S(n,B);this.N(V)}F(n,r){this.Q(r,n)&&(r+=`
`);const i=this.K()&&this.L(r)&&this.M(n),l=this.a[0].buffer.length;this.a[0].buffer+=r;const u=b(r,!1);for(let V=0;V<u.length;V++)u[V]+=l;if(i){const V=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:l-V}}this.a[0].lineStarts=this.a[0].lineStarts.concat(u.slice(1));const p=this.a[0].lineStarts.length-1,L=this.a[0].buffer.length-this.a[0].lineStarts[p],E={line:p,column:L},P=n.piece.length+r.length,a=n.piece.lineFeedCnt,y=this.t(0,n.piece.start,E),B=y-a;n.piece=new m(n.piece.bufferIndex,n.piece.start,E,y,P),this.g=E,(0,S.$jB)(this,n,r.length,B)}G(n){let r=this.root;const i=this.h.get(n);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:n-i.nodeStartOffset};let l=0;for(;r!==S.$cB;)if(r.size_left>n)r=r.left;else if(r.size_left+r.piece.length>=n){l+=r.size_left;const u={node:r,remainder:n-r.size_left,nodeStartOffset:l};return this.h.set(u),u}else n-=r.size_left+r.piece.length,l+=r.size_left+r.piece.length,r=r.right;return null}H(n,r){let i=this.root,l=0;for(;i!==S.$cB;)if(i.left!==S.$cB&&i.lf_left>=n-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>n-1){const u=this.B(i,n-i.lf_left-2),p=this.B(i,n-i.lf_left-1);return l+=i.size_left,{node:i,remainder:Math.min(u+r-1,p),nodeStartOffset:l}}else if(i.lf_left+i.piece.lineFeedCnt===n-1){const u=this.B(i,n-i.lf_left-2);if(u+r-1<=i.piece.length)return{node:i,remainder:u+r-1,nodeStartOffset:l};r-=i.piece.length-u;break}else n-=i.lf_left+i.piece.lineFeedCnt,l+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==S.$cB;){if(i.piece.lineFeedCnt>0){const u=this.B(i,0),p=this.J(i);return{node:i,remainder:Math.min(r-1,u),nodeStartOffset:p}}else if(i.piece.length>=r-1){const u=this.J(i);return{node:i,remainder:r-1,nodeStartOffset:u}}else r-=i.piece.length;i=i.next()}return null}I(n,r){if(n.piece.lineFeedCnt<1)return-1;const i=this.a[n.piece.bufferIndex],l=this.u(n.piece.bufferIndex,n.piece.start)+r;return i.buffer.charCodeAt(l)}J(n){if(!n)return 0;let r=n.size_left;for(;n!==this.root;)n.parent.right===n&&(r+=n.parent.size_left+n.parent.piece.length),n=n.parent;return r}K(){return!(this.f&&this.d===`
`)}L(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===S.$cB||n.piece.lineFeedCnt===0)return!1;const r=n.piece,i=this.a[r.bufferIndex].lineStarts,l=r.start.line,u=i[l]+r.start.column;return l===i.length-1||i[l+1]>u+1?!1:this.a[r.bufferIndex].buffer.charCodeAt(u)===10}M(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===S.$cB||n.piece.lineFeedCnt===0?!1:this.I(n,n.piece.length-1)===13}N(n){if(this.K()&&this.L(n)){const r=n.prev();this.M(r)&&this.P(r,n)}}O(n){if(this.K()&&this.M(n)){const r=n.next();this.L(r)&&this.P(n,r)}}P(n,r){const i=[],l=this.a[n.piece.bufferIndex].lineStarts;let u;n.piece.end.column===0?u={line:n.piece.end.line-1,column:l[n.piece.end.line]-l[n.piece.end.line-1]-1}:u={line:n.piece.end.line,column:n.piece.end.column-1};const p=n.piece.length-1,L=n.piece.lineFeedCnt-1;n.piece=new m(n.piece.bufferIndex,n.piece.start,u,L,p),(0,S.$jB)(this,n,-1,-1),n.piece.length===0&&i.push(n);const E={line:r.piece.start.line+1,column:0},P=r.piece.length-1,a=this.t(r.piece.bufferIndex,E,r.piece.end);r.piece=new m(r.piece.bufferIndex,E,r.piece.end,a,P),(0,S.$jB)(this,r,-1,-1),r.piece.length===0&&i.push(r);const y=this.w(`\r
`);this.S(n,y[0]);for(let B=0;B<i.length;B++)(0,S.$hB)(this,i[B])}Q(n,r){if(this.K()&&this.M(n)){const i=r.next();if(this.L(i)){if(n+=`
`,i.piece.length===1)(0,S.$hB)(this,i);else{const l=i.piece,u={line:l.start.line+1,column:0},p=l.length-1,L=this.t(l.bufferIndex,u,l.end);i.piece=new m(l.bufferIndex,u,l.end,L,p),(0,S.$jB)(this,i,-1,-1)}return!0}}return!1}iterate(n,r){if(n===S.$cB)return r(S.$cB);const i=this.iterate(n.left,r);return i&&r(n)&&this.iterate(n.right,r)}R(n){if(n===S.$cB)return"";const r=this.a[n.piece.bufferIndex],i=n.piece,l=this.u(i.bufferIndex,i.start),u=this.u(i.bufferIndex,i.end);return r.buffer.substring(l,u)}getPieceContent(n){const r=this.a[n.bufferIndex],i=this.u(n.bufferIndex,n.start),l=this.u(n.bufferIndex,n.end);return r.buffer.substring(i,l)}S(n,r){const i=new S.$bB(r,1);if(i.left=S.$cB,i.right=S.$cB,i.parent=S.$cB,i.size_left=0,i.lf_left=0,this.root===S.$cB)this.root=i,i.color=0;else if(n.right===S.$cB)n.right=i,i.parent=n;else{const u=(0,S.$dB)(n.right);u.left=i,i.parent=u}return(0,S.$iB)(this,i),i}T(n,r){const i=new S.$bB(r,1);if(i.left=S.$cB,i.right=S.$cB,i.parent=S.$cB,i.size_left=0,i.lf_left=0,this.root===S.$cB)this.root=i,i.color=0;else if(n.left===S.$cB)n.left=i,i.parent=n;else{const l=(0,S.$eB)(n.left);l.right=i,i.parent=l}return(0,S.$iB)(this,i),i}U(n){let r="";return this.iterate(n,i=>(r+=this.R(i),!0)),r}}t.$vB=c}),define(rt[10],lt([0,1,5,2,3,38]),function(st,t,W,z,D,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$4f=t.$3f=t.$2f=t.$1f=t.$Zf=t.$Yf=t.$Xf=t.$Wf=t.$Vf=t.$Uf=t.$Tf=t.$Sf=t.$Rf=t.$Qf=t.$Pf=t.$Of=void 0;function U(a){return a===47||a===92}t.$Of=U;function H(a){return a.replace(/[\\/]/g,W.$ec.sep)}t.$Pf=H;function v(a){return a.indexOf("/")===-1&&(a=H(a)),/^[a-zA-Z]:(\/|$)/.test(a)&&(a="/"+a),a}t.$Qf=v;function d(a,y=W.$ec.sep){if(!a)return"";const B=a.length,V=a.charCodeAt(0);if(U(V)){if(U(a.charCodeAt(1))&&!U(a.charCodeAt(2))){let w=3;const F=w;for(;w<B&&!U(a.charCodeAt(w));w++);if(F!==w&&!U(a.charCodeAt(w+1))){for(w+=1;w<B;w++)if(U(a.charCodeAt(w)))return a.slice(0,w+1).replace(/[\\/]/g,y)}}return y}else if(h(V)&&a.charCodeAt(1)===58)return U(a.charCodeAt(2))?a.slice(0,2)+y:a.slice(0,2);let O=a.indexOf("://");if(O!==-1){for(O+=3;O<B;O++)if(U(a.charCodeAt(O)))return a.slice(0,O+1)}return""}t.$Rf=d;function b(a){if(!z.$i||!a||a.length<5)return!1;let y=a.charCodeAt(0);if(y!==92||(y=a.charCodeAt(1),y!==92))return!1;let B=2;const V=B;for(;B<a.length&&(y=a.charCodeAt(B),y!==92);B++);return!(V===B||(y=a.charCodeAt(B+1),isNaN(y)||y===92))}t.$Sf=b;const k=/[\\/:\*\?"<>\|]/g,m=/[\\/]/g,A=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function $(a,y=z.$i){const B=y?k:m;return!(!a||a.length===0||/^\s+$/.test(a)||(B.lastIndex=0,B.test(a))||y&&A.test(a)||a==="."||a===".."||y&&a[a.length-1]==="."||y&&a.length!==a.trim().length||a.length>255)}t.$Tf=$;function f(a,y,B){const V=a===y;return!B||V?V:!a||!y?!1:(0,D.$Ze)(a,y)}t.$Uf=f;function c(a,y,B,V=W.sep){if(a===y)return!0;if(!a||!y||y.length>a.length)return!1;if(B){if(!(0,D.$1e)(a,y))return!1;if(y.length===a.length)return!0;let w=y.length;return y.charAt(y.length-1)===V&&w--,a.charAt(w)===V}return y.charAt(y.length-1)!==V&&(y+=V),a.indexOf(y)===0}t.$Vf=c;function h(a){return a>=65&&a<=90||a>=97&&a<=122}t.$Wf=h;function n(a,y){return z.$i&&a.endsWith(":")&&(a+=W.sep),(0,W.$gc)(a)||(a=(0,W.$hc)(y,a)),a=(0,W.$fc)(a),z.$i?(a=(0,D.$Ie)(a,W.sep),a.endsWith(":")&&(a+=W.sep)):(a=(0,D.$Ie)(a,W.sep),a||(a=W.sep)),a}t.$Xf=n;function r(a){const y=(0,W.$fc)(a);return z.$i?a.length>3?!1:i(y)&&(a.length===2||y.charCodeAt(2)===92):y===W.$ec.sep}t.$Yf=r;function i(a,y=z.$i){return y?h(a.charCodeAt(0))&&a.charCodeAt(1)===58:!1}t.$Zf=i;function l(a,y=z.$i){return i(a,y)?a[0]:void 0}t.$1f=l;function u(a,y,B){return y.length>a.length?-1:a===y?0:(B&&(a=a.toLowerCase(),y=y.toLowerCase()),a.indexOf(y))}t.$2f=u;function p(a){const y=a.split(":");let B,V,O;for(const w of y){const F=Number(w);(0,S.$Af)(F)?V===void 0?V=F:O===void 0&&(O=F):B=B?[B,w].join(":"):w}if(!B)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:B,line:V!==void 0?V:void 0,column:O!==void 0?O:V!==void 0?1:void 0}}t.$3f=p;const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",E="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function P(a,y,B=8){let V="";for(let w=0;w<B;w++){let F;w===0&&z.$i&&!y&&(B===3||B===4)?F=E:F=L,V+=F.charAt(Math.floor(Math.random()*F.length))}let O;return y?O=`${y}-${V}`:O=V,a?(0,W.$hc)(a,O):O}t.$4f=P}),define(rt[19],lt([0,1,5]),function(st,t,W){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Nr=t.$Mr=t.$Lr=t.$Kr=t.$Jr=void 0,t.$Jr=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const z={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},D={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function S(b){const k=(0,W.$mc)(b),m=z[k.toLowerCase()];return m!==void 0?m:U(b)}t.$Kr=S;function U(b){const k=(0,W.$mc)(b);return D[k.toLowerCase()]}t.$Lr=U;function H(b){for(const k in D)if(D[k]===b)return k}t.$Mr=H;const v=/^(.+)\/(.+?)(;.+)?$/;function d(b,k){const m=v.exec(b);return m?`${m[1].toLowerCase()}/${m[2].toLowerCase()}${m[3]??""}`:k?void 0:b}t.$Nr=d}),define(rt[11],lt([0,1,4,2,12]),function(st,t,W,z,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COI=t.$_f=t.$$f=t.$0f=t.$9f=t.$8f=t.$7f=t.$6f=t.$5f=t.Schemas=void 0;var S;(function(d){d.inMemory="inmemory",d.vscode="vscode",d.internal="private",d.walkThrough="walkThrough",d.walkThroughSnippet="walkThroughSnippet",d.http="http",d.https="https",d.file="file",d.mailto="mailto",d.untitled="untitled",d.data="data",d.command="command",d.vscodeRemote="vscode-remote",d.vscodeRemoteResource="vscode-remote-resource",d.vscodeManagedRemoteResource="vscode-managed-remote-resource",d.vscodeUserData="vscode-userdata",d.vscodeCustomEditor="vscode-custom-editor",d.vscodeNotebookCell="vscode-notebook-cell",d.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",d.vscodeNotebookCellOutput="vscode-notebook-cell-output",d.vscodeInteractiveInput="vscode-interactive-input",d.vscodeSettings="vscode-settings",d.vscodeWorkspaceTrust="vscode-workspace-trust",d.vscodeTerminal="vscode-terminal",d.vscodeChatSesssion="vscode-chat-editor",d.webviewPanel="webview-panel",d.vscodeWebview="vscode-webview",d.extension="extension",d.vscodeFileResource="vscode-file",d.tmp="tmp",d.vsls="vsls",d.vscodeSourceControl="vscode-scm"})(S||(t.Schemas=S={})),t.$5f="vscode-tkn",t.$6f="tkn";class U{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${S.vscodeRemoteResource}`}setPreferredWebSchema(b){this.d=b}setDelegate(b){this.e=b}setServerRootPath(b){this.f=`${b}/${S.vscodeRemoteResource}`}set(b,k,m){this.a[b]=k,this.b[b]=m}setConnectionToken(b,k){this.c[b]=k}getPreferredWebSchema(){return this.d}rewrite(b){if(this.e)try{return this.e(b)}catch(c){return W.$Y(c),b}const k=b.authority;let m=this.a[k];m&&m.indexOf(":")!==-1&&m.indexOf("[")===-1&&(m=`[${m}]`);const A=this.b[k],$=this.c[k];let f=`path=${encodeURIComponent(b.path)}`;return typeof $=="string"&&(f+=`&${t.$6f}=${encodeURIComponent($)}`),D.URI.from({scheme:z.$o?this.d:S.vscodeRemoteResource,authority:`${m}:${A}`,path:this.f,query:f})}}t.$7f=new U,t.$8f="vs/../../extensions",t.$9f="vs/../../node_modules",t.$0f="vs/../../node_modules.asar",t.$$f="vs/../../node_modules.asar.unpacked";class H{static{this.a="vscode-app"}asBrowserUri(b){const k=this.b(b,st);return this.uriToBrowserUri(k)}uriToBrowserUri(b){return b.scheme===S.vscodeRemote?t.$7f.rewrite(b):b.scheme===S.file&&(z.$m||z.$p&&z.$g.origin===`${S.vscodeFileResource}://${H.a}`)?b.with({scheme:S.vscodeFileResource,authority:b.authority||H.a,query:null,fragment:null}):b}asFileUri(b){const k=this.b(b,st);return this.uriToFileUri(k)}uriToFileUri(b){return b.scheme===S.vscodeFileResource?b.with({scheme:S.file,authority:b.authority!==H.a?b.authority:null,query:null,fragment:null}):b}b(b,k){return D.URI.isUri(b)?b:D.URI.parse(k.toUrl(b))}}t.$_f=new H;var v;(function(d){const b=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);d.CoopAndCoep=Object.freeze(b.get("3"));const k="vscode-coi";function m($){let f;typeof $=="string"?f=new URL($).searchParams:$ instanceof URL?f=$.searchParams:D.URI.isUri($)&&(f=new URL($.toString(!0)).searchParams);const c=f?.get(k);if(c)return b.get(c)}d.getHeadersFromQuery=m;function A($,f,c){if(!globalThis.crossOriginIsolated)return;const h=f&&c?"3":c?"2":"1";$ instanceof URLSearchParams?$.set(k,h):$[k]=h}d.addSearchParam=A})(v||(t.COI=v={}))}),define(rt[20],lt([0,1,10,11,5,2,3,12]),function(st,t,W,z,D,S,U,H){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Cg=t.DataUri=t.$Bg=t.$Ag=t.$zg=t.$yg=t.$xg=t.$wg=t.$vg=t.$ug=t.$tg=t.$sg=t.$rg=t.$qg=t.$pg=t.$og=t.$ng=t.$mg=t.$lg=t.$kg=t.$jg=t.$ig=t.$hg=t.$gg=void 0;function v(A){return(0,H.$uc)(A,!0)}t.$gg=v;class d{constructor($){this.a=$}compare($,f,c=!1){return $===f?0:(0,U.$Se)(this.getComparisonKey($,c),this.getComparisonKey(f,c))}isEqual($,f,c=!1){return $===f?!0:!$||!f?!1:this.getComparisonKey($,c)===this.getComparisonKey(f,c)}getComparisonKey($,f=!1){return $.with({path:this.a($)?$.path.toLowerCase():void 0,fragment:f?null:void 0}).toString()}ignorePathCasing($){return this.a($)}isEqualOrParent($,f,c=!1){if($.scheme===f.scheme){if($.scheme===z.Schemas.file)return W.$Vf(v($),v(f),this.a($))&&$.query===f.query&&(c||$.fragment===f.fragment);if((0,t.$xg)($.authority,f.authority))return W.$Vf($.path,f.path,this.a($),"/")&&$.query===f.query&&(c||$.fragment===f.fragment)}return!1}joinPath($,...f){return H.URI.joinPath($,...f)}basenameOrAuthority($){return(0,t.$pg)($)||$.authority}basename($){return D.$ec.basename($.path)}extname($){return D.$ec.extname($.path)}dirname($){if($.path.length===0)return $;let f;return $.scheme===z.Schemas.file?f=H.URI.file(D.$kc(v($))).path:(f=D.$ec.dirname($.path),$.authority&&f.length&&f.charCodeAt(0)!==47&&(console.error(`dirname("${$.toString})) resulted in a relative path`),f="/")),$.with({path:f})}normalizePath($){if(!$.path.length)return $;let f;return $.scheme===z.Schemas.file?f=H.URI.file(D.$fc(v($))).path:f=D.$ec.normalize($.path),$.with({path:f})}relativePath($,f){if($.scheme!==f.scheme||!(0,t.$xg)($.authority,f.authority))return;if($.scheme===z.Schemas.file){const n=D.$jc(v($),v(f));return S.$i?W.$Pf(n):n}let c=$.path||"/";const h=f.path||"/";if(this.a($)){let n=0;for(const r=Math.min(c.length,h.length);n<r&&!(c.charCodeAt(n)!==h.charCodeAt(n)&&c.charAt(n).toLowerCase()!==h.charAt(n).toLowerCase());n++);c=h.substr(0,n)+c.substr(n)}return D.$ec.relative(c,h)}resolvePath($,f){if($.scheme===z.Schemas.file){const c=H.URI.file(D.$ic(v($),f));return $.with({authority:c.authority,path:c.path})}return f=W.$Qf(f),$.with({path:D.$ec.resolve($.path,f)})}isAbsolutePath($){return!!$.path&&$.path[0]==="/"}isEqualAuthority($,f){return $===f||$!==void 0&&f!==void 0&&(0,U.$Ze)($,f)}hasTrailingPathSeparator($,f=D.sep){if($.scheme===z.Schemas.file){const c=v($);return c.length>W.$Rf(c).length&&c[c.length-1]===f}else{const c=$.path;return c.length>1&&c.charCodeAt(c.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test($.fsPath)}}removeTrailingPathSeparator($,f=D.sep){return(0,t.$yg)($,f)?$.with({path:$.path.substr(0,$.path.length-1)}):$}addTrailingPathSeparator($,f=D.sep){let c=!1;if($.scheme===z.Schemas.file){const h=v($);c=h!==void 0&&h.length===W.$Rf(h).length&&h[h.length-1]===f}else{f="/";const h=$.path;c=h.length===1&&h.charCodeAt(h.length-1)===47}return!c&&!(0,t.$yg)($,f)?$.with({path:$.path+"/"}):$}}t.$hg=d,t.$ig=new d(()=>!1),t.$jg=new d(A=>A.scheme===z.Schemas.file?!S.$k:!0),t.$kg=new d(A=>!0),t.$lg=t.$ig.isEqual.bind(t.$ig),t.$mg=t.$ig.isEqualOrParent.bind(t.$ig),t.$ng=t.$ig.getComparisonKey.bind(t.$ig),t.$og=t.$ig.basenameOrAuthority.bind(t.$ig),t.$pg=t.$ig.basename.bind(t.$ig),t.$qg=t.$ig.extname.bind(t.$ig),t.$rg=t.$ig.dirname.bind(t.$ig),t.$sg=t.$ig.joinPath.bind(t.$ig),t.$tg=t.$ig.normalizePath.bind(t.$ig),t.$ug=t.$ig.relativePath.bind(t.$ig),t.$vg=t.$ig.resolvePath.bind(t.$ig),t.$wg=t.$ig.isAbsolutePath.bind(t.$ig),t.$xg=t.$ig.isEqualAuthority.bind(t.$ig),t.$yg=t.$ig.hasTrailingPathSeparator.bind(t.$ig),t.$zg=t.$ig.removeTrailingPathSeparator.bind(t.$ig),t.$Ag=t.$ig.addTrailingPathSeparator.bind(t.$ig);function b(A,$){const f=[];for(let c=0;c<A.length;c++){const h=$(A[c]);A.some((n,r)=>r===c?!1:(0,t.$mg)(h,$(n)))||f.push(A[c])}return f}t.$Bg=b;var k;(function(A){A.META_DATA_LABEL="label",A.META_DATA_DESCRIPTION="description",A.META_DATA_SIZE="size",A.META_DATA_MIME="mime";function $(f){const c=new Map;f.path.substring(f.path.indexOf(";")+1,f.path.lastIndexOf(";")).split(";").forEach(r=>{const[i,l]=r.split(":");i&&l&&c.set(i,l)});const n=f.path.substring(0,f.path.indexOf(";"));return n&&c.set(A.META_DATA_MIME,n),c}A.parseMetaData=$})(k||(t.DataUri=k={}));function m(A,$,f){if($){let c=A.path;return c&&c[0]!==D.$ec.sep&&(c=D.$ec.sep+c),A.with({scheme:f,authority:$,path:c})}return A.with({scheme:f})}t.$Cg=m}),define(rt[21],lt([0,1,39,4,22,7,20,2,14]),function(st,t,W,z,D,S,U,H,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$ch=t.$bh=t.$ah=t.Promises=t.$_g=t.$$g=t.$0g=t.$9g=t.$8g=t.$7g=t.$6g=t.$5g=t.$4g=t.$3g=t.$2g=t.$1g=t.$Zg=t.$Yg=t.$Xg=t.$Wg=t.$Vg=t.$Ug=t.$Tg=t.$Sg=t.$Rg=t.$Qg=t.$Pg=t.$Og=t.$Ng=t.$Mg=t.$Lg=t.$Kg=t.$Jg=t.$Ig=t.$Hg=t.$Gg=t.$Fg=t.$Eg=t.$Dg=void 0;function d(e){return!!e&&typeof e.then=="function"}t.$Dg=d;function b(e){const s=new W.$Vd,o=e(s.token),g=new Promise((R,q)=>{const Q=s.token.onCancellationRequested(()=>{Q.dispose(),s.dispose(),q(new z.$3)});Promise.resolve(o).then(it=>{Q.dispose(),s.dispose(),R(it)},it=>{Q.dispose(),s.dispose(),q(it)})});return new class{cancel(){s.cancel()}then(R,q){return g.then(R,q)}catch(R){return this.then(void 0,R)}finally(R){return g.finally(R)}}}t.$Eg=b;function k(e,s,o){return new Promise((g,R)=>{const q=s.onCancellationRequested(()=>{q.dispose(),g(o)});e.then(g,R).finally(()=>q.dispose())})}t.$Fg=k;function m(e,s){return new Promise((o,g)=>{const R=s.onCancellationRequested(()=>{R.dispose(),g(new z.$3)});e.then(o,g).finally(()=>R.dispose())})}t.$Gg=m;async function A(e){let s=-1;const o=e.map((g,R)=>g.then(q=>(s=R,q)));try{return await Promise.race(o)}finally{e.forEach((g,R)=>{R!==s&&g.cancel()})}}t.$Hg=A;function $(e,s,o){let g;const R=setTimeout(()=>{g?.(void 0),o?.()},s);return Promise.race([e.finally(()=>clearTimeout(R)),new Promise(q=>g=q)])}t.$Ig=$;function f(e){return new Promise((s,o)=>{const g=e();d(g)?g.then(s,o):s(g)})}t.$Jg=f;class c{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(s){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=s,!this.b){const o=()=>{if(this.b=null,this.f)return;const g=this.queue(this.d);return this.d=null,g};this.b=new Promise(g=>{this.a.then(o,o).then(g)})}return new Promise((o,g)=>{this.b.then(o,g)})}return this.a=s(),new Promise((o,g)=>{this.a.then(R=>{this.a=null,o(R)},R=>{this.a=null,g(R)})})}dispose(){this.f=!0}}t.$Kg=c;class h{constructor(){this.a=Promise.resolve(null)}queue(s){return this.a=this.a.then(()=>s(),()=>s())}}t.$Lg=h;class n{constructor(){this.a=new Map}queue(s,o){const R=(this.a.get(s)??Promise.resolve()).catch(()=>{}).then(o).finally(()=>{this.a.get(s)===R&&this.a.delete(s)});return this.a.set(s,R),R}}t.$Mg=n;const r=(e,s)=>{let o=!0;const g=setTimeout(()=>{o=!1,s()},e);return{isTriggered:()=>o,dispose:()=>{clearTimeout(g),o=!1}}},i=e=>{let s=!0;return queueMicrotask(()=>{s&&(s=!1,e())}),{isTriggered:()=>s,dispose:()=>{s=!1}}};class l{constructor(s){this.defaultDelay=s,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(s,o=this.defaultDelay){this.g=s,this.h(),this.b||(this.b=new Promise((R,q)=>{this.d=R,this.f=q}).then(()=>{if(this.b=null,this.d=null,this.g){const R=this.g;return this.g=null,R()}}));const g=()=>{this.a=null,this.d?.(null)};return this.a=o===v.$Id?i(g):r(o,g),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new z.$3),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}t.$Ng=l;class u{constructor(s){this.a=new l(s),this.b=new c}trigger(s,o){return this.a.trigger(()=>this.b.queue(s),o)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}t.$Og=u;class p{constructor(){this.a=!1,this.b=new Promise((s,o)=>{this.d=s})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}t.$Pg=p;class L extends p{constructor(s){super(),this.f=setTimeout(()=>this.open(),s)}open(){clearTimeout(this.f),super.open()}}t.$Qg=L;function E(e,s){return s?new Promise((o,g)=>{const R=setTimeout(()=>{q.dispose(),o()},e),q=s.onCancellationRequested(()=>{clearTimeout(R),q.dispose(),g(new z.$3)})}):b(o=>E(e,o))}t.$Rg=E;function P(e,s=0,o){const g=setTimeout(()=>{e(),o&&R.dispose()},s),R=(0,S.$Oc)(()=>{clearTimeout(g),o?.deleteAndLeak(R)});return o?.add(R),R}t.$Sg=P;function a(e){const s=[];let o=0;const g=e.length;function R(){return o<g?e[o++]():null}function q(Q){Q!=null&&s.push(Q);const it=R();return it?it.then(q):Promise.resolve(s)}return Promise.resolve(null).then(q)}t.$Tg=a;function y(e,s=g=>!!g,o=null){let g=0;const R=e.length,q=()=>{if(g>=R)return Promise.resolve(o);const Q=e[g++];return Promise.resolve(Q()).then(ct=>s(ct)?Promise.resolve(ct):q())};return q()}t.$Ug=y;function B(e,s=g=>!!g,o=null){if(e.length===0)return Promise.resolve(o);let g=e.length;const R=()=>{g=-1;for(const q of e)q.cancel?.()};return new Promise((q,Q)=>{for(const it of e)it.then(ct=>{--g>=0&&s(ct)?(R(),q(ct)):g===0&&q(o)}).catch(ct=>{--g>=0&&(R(),Q(ct))})})}t.$Vg=B;class V{constructor(s){this.a=0,this.d=s,this.f=[],this.b=0,this.g=new D.$Ld}get onDrained(){return this.g.event}get size(){return this.a}queue(s){return this.a++,new Promise((o,g)=>{this.f.push({factory:s,c:o,e:g}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const s=this.f.shift();this.b++;const o=s.factory();o.then(s.c,s.e),o.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}t.$Wg=V;class O extends V{constructor(){super(1)}}t.$Xg=O;class w{constructor(){this.a=new N,this.b=0}queue(s){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,s())):this.a.run(this.b++,s())}}t.$Yg=w;class F{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const s=new G;return this.b.add(s),s.p}g(){for(const[,s]of this.a)if(s.size>0)return!1;return!0}queueFor(s,o=U.$ig){const g=o.getComparisonKey(s);let R=this.a.get(g);if(!R){R=new O;const q=this.f++,Q=D.Event.once(R.onDrained)(()=>{R?.dispose(),this.a.delete(g),this.h(),this.d?.deleteAndDispose(q),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new S.$Yc),this.d.set(q,Q),this.a.set(g,R)}return R}h(){this.g()&&this.j()}j(){for(const s of this.b)s.complete();this.b.clear()}dispose(){for(const[,s]of this.a)s.dispose();this.a.clear(),this.j(),this.d?.dispose()}}t.$Zg=F;class J{constructor(s,o){this.a=-1,typeof s=="function"&&typeof o=="number"&&this.setIfNotSet(s,o)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(s,o){this.cancel(),this.a=setTimeout(()=>{this.a=-1,s()},o)}setIfNotSet(s,o){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,s()},o))}}t.$1g=J;class _{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(s,o){this.cancel(),this.a=setInterval(()=>{s()},o)}}t.$2g=_;class x{constructor(s,o){this.b=-1,this.a=s,this.d=o,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(s=this.d){this.cancel(),this.b=setTimeout(this.f,s)}get delay(){return this.d}set delay(s){this.d=s}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}t.$3g=x;class et{constructor(s,o){o%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${o}ms is not a multiple of 1000ms.`),this.a=s,this.b=o,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(s=this.b){s%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${s}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(s/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}t.$4g=et;class tt extends x{constructor(s,o){super(s,o),this.j=[]}work(s){this.j.push(s),this.isScheduled()||this.schedule()}h(){const s=this.j;this.j=[],this.a?.(s)}dispose(){this.j=[],super.dispose()}}t.$5g=tt;class C extends S.$Qc{constructor(s,o){super(),this.g=s,this.h=o,this.a=[],this.b=this.B(new S.$Rc),this.f=!1}get pending(){return this.a.length}work(s){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+s.length>this.g.maxBufferedWork)return!1}else if(this.pending+s.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const o of s)this.a.push(o);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new x(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}t.$6g=C,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?t.$7g=e=>{(0,H.$A)(()=>{if(s)return;const o=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,o-Date.now())}}))});let s=!1;return{dispose(){s||(s=!0)}}}:t.$7g=(e,s)=>{const o=requestIdleCallback(e,typeof s=="number"?{timeout:s}:void 0);let g=!1;return{dispose(){g||(g=!0,cancelIdleCallback(o))}}}}();class X{constructor(s){this.d=!1,this.a=()=>{try{this.f=s()}catch(o){this.g=o}finally{this.d=!0}},this.b=(0,t.$7g)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}t.$8g=X;async function nt(e,s,o){let g;for(let R=0;R<o;R++)try{return await e()}catch(q){g=q,await E(s)}throw g}t.$9g=nt;class N{isRunning(s){return typeof s=="number"?this.a?.taskId===s:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(s,o,g){return this.a={taskId:s,cancel:()=>g?.(),promise:o},o.then(()=>this.d(s),()=>this.d(s)),o}d(s){this.a&&s===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const s=this.b;this.b=void 0,s.run().then(s.promiseResolve,s.promiseReject)}}queue(s){if(this.b)this.b.run=s;else{let o,g;const R=new Promise((q,Q)=>{o=q,g=Q});this.b={run:s,promise:R,promiseResolve:o,promiseReject:g}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}t.$0g=N;class M{constructor(s,o=()=>Date.now()){this.d=s,this.f=o,this.a=0,this.b=0}increment(){const s=this.f();return s-this.a>this.d&&(this.a=s,this.b=0),this.b++,this.b}}t.$$g=M;var j;(function(e){e[e.Resolved=0]="Resolved",e[e.Rejected=1]="Rejected"})(j||(j={}));class G{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((s,o)=>{this.a=s,this.b=o})}complete(s){return new Promise(o=>{this.a(s),this.d={outcome:0,value:s},o()})}error(s){return new Promise(o=>{this.b(s),this.d={outcome:1,value:s},o()})}cancel(){return this.error(new z.$3)}}t.$_g=G;var Y;(function(e){async function s(g){let R;const q=await Promise.all(g.map(Q=>Q.then(it=>it,it=>{R||(R=it)})));if(typeof R<"u")throw R;return q}e.settled=s;function o(g){return new Promise(async(R,q)=>{try{await g(R,q)}catch(Q){q(Q)}})}e.withAsyncBody=o})(Y||(t.Promises=Y={}));var Z;(function(e){e[e.Initial=0]="Initial",e[e.DoneOK=1]="DoneOK",e[e.DoneError=2]="DoneError"})(Z||(Z={}));class K{static fromArray(s){return new K(o=>{o.emitMany(s)})}static fromPromise(s){return new K(async o=>{o.emitMany(await s)})}static fromPromises(s){return new K(async o=>{await Promise.all(s.map(async g=>o.emitOne(await g)))})}static merge(s){return new K(async o=>{await Promise.all(s.map(async g=>{for await(const R of g)o.emitOne(R)}))})}static{this.EMPTY=K.fromArray([])}constructor(s){this.a=0,this.b=[],this.d=null,this.f=new D.$Ld,queueMicrotask(async()=>{const o={emitOne:g=>this.g(g),emitMany:g=>this.h(g),reject:g=>this.k(g)};try{await Promise.resolve(s(o)),this.j()}catch(g){this.k(g)}finally{o.emitOne=void 0,o.emitMany=void 0,o.reject=void 0}})}[Symbol.asyncIterator](){let s=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(s<this.b.length)return{done:!1,value:this.b[s++]};if(this.a===1)return{done:!0,value:void 0};await D.Event.toPromise(this.f.event)}while(!0)}}}static map(s,o){return new K(async g=>{for await(const R of s)g.emitOne(o(R))})}map(s){return K.map(this,s)}static filter(s,o){return new K(async g=>{for await(const R of s)o(R)&&g.emitOne(R)})}filter(s){return K.filter(this,s)}static coalesce(s){return K.filter(s,o=>!!o)}coalesce(){return K.coalesce(this)}static async toPromise(s){const o=[];for await(const g of s)o.push(g);return o}toPromise(){return K.toPromise(this)}g(s){this.a===0&&(this.b.push(s),this.f.fire())}h(s){this.a===0&&(this.b=this.b.concat(s),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(s){this.a===0&&(this.a=2,this.d=s,this.f.fire())}}t.$ah=K;class T extends K{constructor(s,o){super(o),this.l=s}cancel(){this.l.cancel()}}t.$bh=T;function I(e){const s=new W.$Vd,o=e(s.token);return new T(s,async g=>{const R=s.token.onCancellationRequested(()=>{R.dispose(),s.dispose(),g.reject(new z.$3)});try{for await(const q of o){if(s.token.isCancellationRequested)return;g.emitOne(q)}R.dispose(),s.dispose()}catch(q){R.dispose(),s.dispose(),g.reject(q)}})}t.$ch=I}),define(rt[23],lt([0,1,40,21,10,41,5,2,3]),function(st,t,W,z,D,S,U,H,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$wj=t.$vj=t.$uj=t.$tj=t.$sj=t.$rj=t.$qj=t.$pj=t.$oj=t.$nj=void 0;function d(){return Object.create(null)}t.$nj=d,t.$oj="**",t.$pj="/";const b="[/\\\\]",k="[^/\\\\]",m=/\//g;function A(N,M){switch(N){case 0:return"";case 1:return`${k}*?`;default:return`(?:${b}|${k}+${b}${M?`|${b}${k}+`:""})*?`}}function $(N,M){if(!N)return[];const j=[];let G=!1,Y=!1,Z="";for(const K of N){switch(K){case M:if(!G&&!Y){j.push(Z),Z="";continue}break;case"{":G=!0;break;case"}":G=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}Z+=K}return Z&&j.push(Z),j}t.$qj=$;function f(N){if(!N)return"";let M="";const j=$(N,t.$pj);if(j.every(G=>G===t.$oj))M=".*";else{let G=!1;j.forEach((Y,Z)=>{if(Y===t.$oj){if(G)return;M+=A(2,Z===j.length-1)}else{let K=!1,T="",I=!1,e="";for(const s of Y){if(s!=="}"&&K){T+=s;continue}if(I&&(s!=="]"||!e)){let o;s==="-"?o=s:(s==="^"||s==="!")&&!e?o="^":s===t.$pj?o="":o=(0,v.$De)(s),e+=o;continue}switch(s){case"{":K=!0;continue;case"[":I=!0;continue;case"}":{const g=`(?:${$(T,",").map(R=>f(R)).join("|")})`;M+=g,K=!1,T="";break}case"]":{M+="["+e+"]",I=!1,e="";break}case"?":M+=k;continue;case"*":M+=A(1);continue;default:M+=(0,v.$De)(s)}}Z<j.length-1&&(j[Z+1]!==t.$oj||Z+2<j.length)&&(M+=b)}G=Y===t.$oj})}return M}const c=/^\*\*\/\*\.[\w\.-]+$/,h=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,r=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,i=/^\*\*((\/[\w\.-]+)+)\/?$/,l=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,u=new S.$Bc(1e4),p=function(){return!1},L=function(){return null};function E(N,M){if(!N)return L;let j;typeof N!="string"?j=N.pattern:j=N,j=j.trim();const G=`${j}_${!!M.trimForExclusions}`;let Y=u.get(G);if(Y)return P(Y,N);let Z;return c.test(j)?Y=y(j.substr(4),j):(Z=h.exec(a(j,M)))?Y=B(Z[1],j):(M.trimForExclusions?r:n).test(j)?Y=V(j,M):(Z=i.exec(a(j,M)))?Y=O(Z[1].substr(1),j,!0):(Z=l.exec(a(j,M)))?Y=O(Z[1],j,!1):Y=w(j),u.set(G,Y),P(Y,N)}function P(N,M){if(typeof M=="string")return N;const j=function(G,Y){return(0,D.$Vf)(G,M.base,!H.$k)?N((0,v.$He)(G.substr(M.base.length),U.sep),Y):null};return j.allBasenames=N.allBasenames,j.allPaths=N.allPaths,j.basenames=N.basenames,j.patterns=N.patterns,j}function a(N,M){return M.trimForExclusions&&N.endsWith("/**")?N.substr(0,N.length-2):N}function y(N,M){return function(j,G){return typeof j=="string"&&j.endsWith(N)?M:null}}function B(N,M){const j=`/${N}`,G=`\\${N}`,Y=function(K,T){return typeof K!="string"?null:T?T===N?M:null:K===N||K.endsWith(j)||K.endsWith(G)?M:null},Z=[N];return Y.basenames=Z,Y.patterns=[M],Y.allBasenames=Z,Y}function V(N,M){const j=X(N.slice(1,-1).split(",").map(T=>E(T,M)).filter(T=>T!==L),N),G=j.length;if(!G)return L;if(G===1)return j[0];const Y=function(T,I){for(let e=0,s=j.length;e<s;e++)if(j[e](T,I))return N;return null},Z=j.find(T=>!!T.allBasenames);Z&&(Y.allBasenames=Z.allBasenames);const K=j.reduce((T,I)=>I.allPaths?T.concat(I.allPaths):T,[]);return K.length&&(Y.allPaths=K),Y}function O(N,M,j){const G=U.sep===U.$ec.sep,Y=G?N:N.replace(m,U.sep),Z=U.sep+Y,K=U.$ec.sep+N;let T;return j?T=function(I,e){return typeof I=="string"&&(I===Y||I.endsWith(Z)||!G&&(I===N||I.endsWith(K)))?M:null}:T=function(I,e){return typeof I=="string"&&(I===Y||!G&&I===N)?M:null},T.allPaths=[(j?"*/":"./")+N],T}function w(N){try{const M=new RegExp(`^${f(N)}$`);return function(j){return M.lastIndex=0,typeof j=="string"&&M.test(j)?N:null}}catch{return L}}function F(N,M,j){return!N||typeof M!="string"?!1:J(N)(M,void 0,j)}t.$rj=F;function J(N,M={}){if(!N)return p;if(typeof N=="string"||_(N)){const j=E(N,M);if(j===L)return p;const G=function(Y,Z){return!!j(Y,Z)};return j.allBasenames&&(G.allBasenames=j.allBasenames),j.allPaths&&(G.allPaths=j.allPaths),G}return tt(N,M)}t.$sj=J;function _(N){const M=N;return M?typeof M.base=="string"&&typeof M.pattern=="string":!1}t.$tj=_;function x(N){return N.allBasenames||[]}t.$uj=x;function et(N){return N.allPaths||[]}t.$vj=et;function tt(N,M){const j=X(Object.getOwnPropertyNames(N).map(T=>C(T,N[T],M)).filter(T=>T!==L)),G=j.length;if(!G)return L;if(!j.some(T=>!!T.requiresSiblings)){if(G===1)return j[0];const T=function(s,o){let g;for(let R=0,q=j.length;R<q;R++){const Q=j[R](s,o);if(typeof Q=="string")return Q;(0,z.$Dg)(Q)&&(g||(g=[]),g.push(Q))}return g?(async()=>{for(const R of g){const q=await R;if(typeof q=="string")return q}return null})():null},I=j.find(s=>!!s.allBasenames);I&&(T.allBasenames=I.allBasenames);const e=j.reduce((s,o)=>o.allPaths?s.concat(o.allPaths):s,[]);return e.length&&(T.allPaths=e),T}const Y=function(T,I,e){let s,o;for(let g=0,R=j.length;g<R;g++){const q=j[g];q.requiresSiblings&&e&&(I||(I=(0,U.$lc)(T)),s||(s=I.substr(0,I.length-(0,U.$mc)(T).length)));const Q=q(T,I,s,e);if(typeof Q=="string")return Q;(0,z.$Dg)(Q)&&(o||(o=[]),o.push(Q))}return o?(async()=>{for(const g of o){const R=await g;if(typeof R=="string")return R}return null})():null},Z=j.find(T=>!!T.allBasenames);Z&&(Y.allBasenames=Z.allBasenames);const K=j.reduce((T,I)=>I.allPaths?T.concat(I.allPaths):T,[]);return K.length&&(Y.allPaths=K),Y}function C(N,M,j){if(M===!1)return L;const G=E(N,j);if(G===L)return L;if(typeof M=="boolean")return G;if(M){const Y=M.when;if(typeof Y=="string"){const Z=(K,T,I,e)=>{if(!e||!G(K,T))return null;const s=Y.replace("$(basename)",()=>I),o=e(s);return(0,z.$Dg)(o)?o.then(g=>g?N:null):o?N:null};return Z.requiresSiblings=!0,Z}}return G}function X(N,M){const j=N.filter(T=>!!T.basenames);if(j.length<2)return N;const G=j.reduce((T,I)=>{const e=I.basenames;return e?T.concat(e):T},[]);let Y;if(M){Y=[];for(let T=0,I=G.length;T<I;T++)Y.push(M)}else Y=j.reduce((T,I)=>{const e=I.patterns;return e?T.concat(e):T},[]);const Z=function(T,I){if(typeof T!="string")return null;if(!I){let s;for(s=T.length;s>0;s--){const o=T.charCodeAt(s-1);if(o===47||o===92)break}I=T.substr(s)}const e=G.indexOf(I);return e!==-1?Y[e]:null};Z.basenames=G,Z.patterns=Y,Z.allBasenames=G;const K=N.filter(T=>!T.basenames);return K.push(Z),K}function nt(N,M){return(0,W.$sb)(N,M,(j,G)=>typeof j=="string"&&typeof G=="string"?j===G:typeof j!="string"&&typeof G!="string"?j.base===G.base&&j.pattern===G.pattern:!1)}t.$wj=nt}),define(rt[24],lt([0,1,3,2,6]),function(st,t,W,z,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Gs=t.$Fs=t.$Es=void 0;let S;function U(){return S||(S=new TextDecoder("UTF-16LE")),S}let H;function v(){return H||(H=new TextDecoder("UTF-16BE")),H}let d;function b(){return d||(d=z.$C()?U():v()),d}t.$Es=b;function k($,f,c){const h=new Uint16Array($.buffer,f,c);return c>0&&(h[0]===65279||h[0]===65534)?m($,f,c):U().decode(h)}t.$Fs=k;function m($,f,c){const h=[];let n=0;for(let r=0;r<c;r++){const i=D.$be($,f);f+=2,h[n++]=String.fromCharCode(i)}return h.join("")}class A{constructor(f){this.a=f|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const f=new Uint16Array(this.b.buffer,0,this.d);return b().decode(f)}f(){const f=this.e();this.d=0,this.c===null?this.c=[f]:this.c[this.c.length]=f}appendCharCode(f){const c=this.a-this.d;c<=1&&(c===0||W.$4e(f))&&this.f(),this.b[this.d++]=f}appendASCIICharCode(f){this.d===this.a&&this.f(),this.b[this.d++]=f}appendString(f){const c=f.length;if(this.d+c>=this.a){this.f(),this.c[this.c.length]=f;return}for(let h=0;h<c;h++)this.b[this.d++]=f.charCodeAt(h)}}t.$Gs=A}),define(rt[25],lt([0,1,6,24]),function(st,t,W,z){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Is=t.$Hs=void 0;function D(v){return v.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class S{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(d,b,k,m){this.oldPosition=d,this.oldText=b,this.newPosition=k,this.newText=m}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${D(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${D(this.oldText)}")`:`(replace@${this.oldPosition} "${D(this.oldText)}" with "${D(this.newText)}")`}static a(d){return 4+2*d.length}static c(d,b,k){const m=b.length;W.$ee(d,m,k),k+=4;for(let A=0;A<m;A++)W.$ce(d,b.charCodeAt(A),k),k+=2;return k}static d(d,b){const k=W.$de(d,b);return b+=4,(0,z.$Fs)(d,b,k)}writeSize(){return 4+4+S.a(this.oldText)+S.a(this.newText)}write(d,b){return W.$ee(d,this.oldPosition,b),b+=4,W.$ee(d,this.newPosition,b),b+=4,b=S.c(d,this.oldText,b),b=S.c(d,this.newText,b),b}static read(d,b,k){const m=W.$de(d,b);b+=4;const A=W.$de(d,b);b+=4;const $=S.d(d,b);b+=S.a($);const f=S.d(d,b);return b+=S.a(f),k.push(new S(m,$,A,f)),b}}t.$Hs=S;function U(v,d){return v===null||v.length===0?d:new H(v,d).compress()}t.$Is=U;class H{constructor(d,b){this.a=d,this.c=b,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let d=0,b=0,k=this.n(d),m=this.l(b);for(;d<this.f||b<this.h;){if(k===null){this.k(m),m=this.l(++b);continue}if(m===null){this.m(k),k=this.n(++d);continue}if(m.oldEnd<=k.newPosition){this.k(m),m=this.l(++b);continue}if(k.newEnd<=m.oldPosition){this.m(k),k=this.n(++d);continue}if(m.oldPosition<k.newPosition){const[h,n]=H.r(m,k.newPosition-m.oldPosition);this.k(h),m=n;continue}if(k.newPosition<m.oldPosition){const[h,n]=H.q(k,m.oldPosition-k.newPosition);this.m(h),k=n;continue}let f,c;if(m.oldEnd===k.newEnd)f=k,c=m,k=this.n(++d),m=this.l(++b);else if(m.oldEnd<k.newEnd){const[h,n]=H.q(k,m.oldLength);f=h,c=m,k=n,m=this.l(++b)}else{const[h,n]=H.r(m,k.newLength);f=k,c=h,k=this.n(++d),m=n}this.d[this.e++]=new S(f.oldPosition,f.oldText,c.newPosition,c.newText),this.g+=f.newLength-f.oldLength,this.j+=c.newLength-c.oldLength}const A=H.s(this.d);return H.t(A)}k(d){this.d[this.e++]=H.o(this.g,d),this.j+=d.newLength-d.oldLength}l(d){return d<this.h?this.c[d]:null}m(d){this.d[this.e++]=H.p(this.j,d),this.g+=d.newLength-d.oldLength}n(d){return d<this.f?this.a[d]:null}static o(d,b){return new S(b.oldPosition-d,b.oldText,b.newPosition,b.newText)}static p(d,b){return new S(b.oldPosition,b.oldText,b.newPosition+d,b.newText)}static q(d,b){const k=d.newText.substr(0,b),m=d.newText.substr(b);return[new S(d.oldPosition,d.oldText,d.newPosition,k),new S(d.oldEnd,"",d.newPosition+b,m)]}static r(d,b){const k=d.oldText.substr(0,b),m=d.oldText.substr(b);return[new S(d.oldPosition,k,d.newPosition,d.newText),new S(d.oldPosition+b,m,d.newEnd,"")]}static s(d){if(d.length===0)return d;const b=[];let k=0,m=d[0];for(let A=1;A<d.length;A++){const $=d[A];m.oldEnd===$.oldPosition?m=new S(m.oldPosition,m.oldText+$.oldText,m.newPosition,m.newText+$.newText):(b[k++]=m,m=$)}return b[k++]=m,b}static t(d){if(d.length===0)return d;const b=[];let k=0;for(let m=0;m<d.length;m++){const A=d[m];A.oldText!==A.newText&&(b[k++]=A)}return b}}}),define(rt[26],lt([0,1,22,3,9,17,8,15,25,7]),function(st,t,W,z,D,S,U,H,v,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$wB=void 0;class b extends d.$Qc{constructor(m,A,$,f,c,h,n){super(),this.m=this.B(new W.$Ld),this.onDidChangeContent=this.m.event,this.f=A,this.j=!h,this.g=f,this.h=c,this.c=new U.$vB(m,$,n)}equals(m){return!(m instanceof b)||this.f!==m.f||this.getEOL()!==m.getEOL()?!1:this.c.equal(m.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(m){return this.c.createSnapshot(m?this.f:"")}getOffsetAt(m,A){return this.c.getOffsetAt(m,A)}getPositionAt(m){return this.c.getPositionAt(m)}getRangeAt(m,A){const $=m+A,f=this.getPositionAt(m),c=this.getPositionAt($);return new D.$ms(f.lineNumber,f.column,c.lineNumber,c.column)}getValueInRange(m,A=0){if(m.isEmpty())return"";const $=this.n(A);return this.c.getValueInRange(m,$)}getValueLengthInRange(m,A=0){if(m.isEmpty())return 0;if(m.startLineNumber===m.endLineNumber)return m.endColumn-m.startColumn;const $=this.getOffsetAt(m.startLineNumber,m.startColumn),f=this.getOffsetAt(m.endLineNumber,m.endColumn);let c=0;const h=this.n(A),n=this.getEOL();if(h.length!==n.length){const r=h.length-n.length,i=m.endLineNumber-m.startLineNumber;c=r*i}return f-$+c}getCharacterCountInRange(m,A=0){if(this.j){let $=0;const f=m.startLineNumber,c=m.endLineNumber;for(let h=f;h<=c;h++){const n=this.getLineContent(h),r=h===f?m.startColumn-1:0,i=h===c?m.endColumn-1:n.length;for(let l=r;l<i;l++)z.$4e(n.charCodeAt(l))?($=$+1,l=l+1):$=$+1}return $+=this.n(A).length*(c-f),$}return this.getValueLengthInRange(m,A)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(m){return this.c.getLineContent(m)}getLineCharCode(m,A){return this.c.getLineCharCode(m,A)}getCharCode(m){return this.c.getCharCode(m)}getLineLength(m){return this.c.getLineLength(m)}getLineMinColumn(m){return 1}getLineMaxColumn(m){return this.getLineLength(m)+1}getLineFirstNonWhitespaceColumn(m){const A=z.$Oe(this.getLineContent(m));return A===-1?0:A+1}getLineLastNonWhitespaceColumn(m){const A=z.$Qe(this.getLineContent(m));return A===-1?0:A+2}n(m){switch(m){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(m){this.c.setEOL(m)}applyEdits(m,A,$){let f=this.g,c=this.h,h=this.j,n=!0,r=[];for(let P=0;P<m.length;P++){const a=m[P];n&&a._isTracked&&(n=!1);const y=a.range;if(a.text){let F=!0;h||(F=!z.$cf(a.text),h=F),!f&&F&&(f=z.$bf(a.text)),!c&&F&&(c=z.$ef(a.text))}let B="",V=0,O=0,w=0;if(a.text){let F;[V,O,w,F]=(0,H.$Ys)(a.text);const J=this.getEOL();F===0||F===(J===`\r
`?2:1)?B=a.text:B=a.text.replace(/\r\n|\r|\n/g,J)}r[P]={sortIndex:P,identifier:a.identifier||null,range:y,rangeOffset:this.getOffsetAt(y.startLineNumber,y.startColumn),rangeLength:this.getValueLengthInRange(y),text:B,eolCount:V,firstLineLength:O,lastLineLength:w,forceMoveMarkers:!!a.forceMoveMarkers,isAutoWhitespaceEdit:a.isAutoWhitespaceEdit||!1}}r.sort(b.u);let i=!1;for(let P=0,a=r.length-1;P<a;P++){const y=r[P].range.getEndPosition(),B=r[P+1].range.getStartPosition();if(B.isBeforeOrEqual(y)){if(B.isBefore(y))throw new Error("Overlapping ranges are not allowed!");i=!0}}n&&(r=this.s(r));const l=$||A?b._getInverseEditRanges(r):[],u=[];if(A)for(let P=0;P<r.length;P++){const a=r[P],y=l[P];if(a.isAutoWhitespaceEdit&&a.range.isEmpty())for(let B=y.startLineNumber;B<=y.endLineNumber;B++){let V="";B===y.startLineNumber&&(V=this.getLineContent(a.range.startLineNumber),z.$Oe(V)!==-1)||u.push({lineNumber:B,oldContent:V})}}let p=null;if($){let P=0;p=[];for(let a=0;a<r.length;a++){const y=r[a],B=l[a],V=this.getValueInRange(y.range),O=y.rangeOffset+P;P+=y.text.length-V.length,p[a]={sortIndex:y.sortIndex,identifier:y.identifier,range:B,text:V,textChange:new v.$Hs(y.rangeOffset,V,O,y.text)}}i||p.sort((a,y)=>a.sortIndex-y.sortIndex)}this.g=f,this.h=c,this.j=h;const L=this.t(r);let E=null;if(A&&u.length>0){u.sort((P,a)=>a.lineNumber-P.lineNumber),E=[];for(let P=0,a=u.length;P<a;P++){const y=u[P].lineNumber;if(P>0&&u[P-1].lineNumber===y)continue;const B=u[P].oldContent,V=this.getLineContent(y);V.length===0||V===B||z.$Oe(V)!==-1||E.push(y)}}return this.m.fire(),new S.$Hu(p,L,E)}s(m){return m.length<1e3?m:[this._toSingleEditOperation(m)]}_toSingleEditOperation(m){let A=!1;const $=m[0].range,f=m[m.length-1].range,c=new D.$ms($.startLineNumber,$.startColumn,f.endLineNumber,f.endColumn);let h=$.startLineNumber,n=$.startColumn;const r=[];for(let L=0,E=m.length;L<E;L++){const P=m[L],a=P.range;A=A||P.forceMoveMarkers,r.push(this.getValueInRange(new D.$ms(h,n,a.startLineNumber,a.startColumn))),P.text.length>0&&r.push(P.text),h=a.endLineNumber,n=a.endColumn}const i=r.join(""),[l,u,p]=(0,H.$Ys)(i);return{sortIndex:0,identifier:m[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:i,eolCount:l,firstLineLength:u,lastLineLength:p,forceMoveMarkers:A,isAutoWhitespaceEdit:!1}}t(m){m.sort(b.w);const A=[];for(let $=0;$<m.length;$++){const f=m[$],c=f.range.startLineNumber,h=f.range.startColumn,n=f.range.endLineNumber,r=f.range.endColumn;if(c===n&&h===r&&f.text.length===0)continue;f.text?(this.c.delete(f.rangeOffset,f.rangeLength),this.c.insert(f.rangeOffset,f.text,!0)):this.c.delete(f.rangeOffset,f.rangeLength);const i=new D.$ms(c,h,n,r);A.push({range:i,rangeLength:f.rangeLength,text:f.text,rangeOffset:f.rangeOffset,forceMoveMarkers:f.forceMoveMarkers})}return A}findMatchesLineByLine(m,A,$,f){return this.c.findMatchesLineByLine(m,A,$,f)}getPieceTree(){return this.c}static _getInverseEditRange(m,A){const $=m.startLineNumber,f=m.startColumn,[c,h,n]=(0,H.$Ys)(A);let r;if(A.length>0){const i=c+1;i===1?r=new D.$ms($,f,$,f+h):r=new D.$ms($,f,$+i-1,n+1)}else r=new D.$ms($,f,$,f);return r}static _getInverseEditRanges(m){const A=[];let $=0,f=0,c=null;for(let h=0,n=m.length;h<n;h++){const r=m[h];let i,l;c?c.range.endLineNumber===r.range.startLineNumber?(i=$,l=f+(r.range.startColumn-c.range.endColumn)):(i=$+(r.range.startLineNumber-c.range.endLineNumber),l=r.range.startColumn):(i=r.range.startLineNumber,l=r.range.startColumn);let u;if(r.text.length>0){const p=r.eolCount+1;p===1?u=new D.$ms(i,l,i,l+r.firstLineLength):u=new D.$ms(i,l,i+p-1,r.lastLineLength+1)}else u=new D.$ms(i,l,i,l);$=u.endLineNumber,f=u.endColumn,A.push(u),c=r}return A}static u(m,A){const $=D.$ms.compareRangesUsingEnds(m.range,A.range);return $===0?m.sortIndex-A.sortIndex:$}static w(m,A){const $=D.$ms.compareRangesUsingEnds(m.range,A.range);return $===0?A.sortIndex-m.sortIndex:-$}}t.$wB=b}),define(rt[27],lt([0,1,3,8,26]),function(st,t,W,z,D){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$xB=void 0;class S{constructor(v,d,b,k,m,A,$,f,c){this.a=v,this.b=d,this.c=b,this.d=k,this.e=m,this.f=A,this.g=$,this.h=f,this.j=c}k(v){const d=this.c+this.d+this.e,b=this.c+this.e;return d===0?v===1?`
`:`\r
`:b>d/2?`\r
`:`
`}create(v){const d=this.k(v),b=this.a;if(this.j&&(d===`\r
`&&(this.c>0||this.d>0)||d===`
`&&(this.c>0||this.e>0)))for(let m=0,A=b.length;m<A;m++){const $=b[m].buffer.replace(/\r\n|\r|\n/g,d),f=(0,z.$rB)($);b[m]=new z.$uB($,f)}const k=new D.$wB(b,this.b,d,this.f,this.g,this.h,this.j);return{textBuffer:k,disposable:k}}getFirstLineText(v){return this.a[0].buffer.substr(0,v).split(/\r\n|\r|\n/)[0]}}class U{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(v){if(v.length===0)return;this.a.length===0&&W.$kf(v)&&(this.b=W.$jf,v=v.substr(1));const d=v.charCodeAt(v.length-1);d===13||d>=55296&&d<=56319?(this.m(v.substr(0,v.length-1),!1),this.c=!0,this.d=d):(this.m(v,!1),this.c=!1,this.d=d)}m(v,d){!d&&v.length===0||(this.c?this.n(String.fromCharCode(this.d)+v):this.n(v))}n(v){const d=(0,z.$sB)(this.e,v);this.a.push(new z.$uB(v,d.lineStarts)),this.f+=d.cr,this.g+=d.lf,this.h+=d.crlf,d.isBasicASCII||(this.l=!1,this.j||(this.j=W.$bf(v)),this.k||(this.k=W.$ef(v)))}finish(v=!0){return this.o(),new S(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,v)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const v=this.a[this.a.length-1];v.buffer+=String.fromCharCode(this.d);const d=(0,z.$rB)(v.buffer);v.lineStarts=d,this.d===13&&this.f++}}}t.$xB=U}),define(rt[28],lt([29,30]),function(st,t){return st.create("vs/platform/contextkey/common/contextkey",t)}),define(rt[31],lt([29,30]),function(st,t){return st.create("vs/platform/contextkey/common/scanner",t)}),define(rt[32],lt([0,1,4,31]),function(st,t,W,z){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Gi=t.TokenType=void 0;var D;(function(d){d[d.LParen=0]="LParen",d[d.RParen=1]="RParen",d[d.Neg=2]="Neg",d[d.Eq=3]="Eq",d[d.NotEq=4]="NotEq",d[d.Lt=5]="Lt",d[d.LtEq=6]="LtEq",d[d.Gt=7]="Gt",d[d.GtEq=8]="GtEq",d[d.RegexOp=9]="RegexOp",d[d.RegexStr=10]="RegexStr",d[d.True=11]="True",d[d.False=12]="False",d[d.In=13]="In",d[d.Not=14]="Not",d[d.And=15]="And",d[d.Or=16]="Or",d[d.Str=17]="Str",d[d.QuotedStr=18]="QuotedStr",d[d.Error=19]="Error",d[d.EOF=20]="EOF"})(D||(t.TokenType=D={}));function S(...d){switch(d.length){case 1:return(0,z.localize)(0,null,d[0]);case 2:return(0,z.localize)(1,null,d[0],d[1]);case 3:return(0,z.localize)(2,null,d[0],d[1],d[2]);default:return}}const U=(0,z.localize)(3,null),H=(0,z.localize)(4,null);class v{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,W.$6)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(b=>b.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(b){return this.c=b,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const k=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:k})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const k=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:k})}else this.h(126)?this.k(9):this.l(S("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(S("&&"));break;case 124:this.h(124)?this.k(16):this.l(S("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(b){return this.r()||this.c.charCodeAt(this.e)!==b?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(b){this.f.push({type:b,offset:this.d})}l(b){const k=this.d,m=this.c.substring(this.d,this.e),A={type:19,offset:this.d,lexeme:m};this.g.push({offset:k,lexeme:m,additionalInfo:b}),this.f.push(A)}n(){this.m.lastIndex=this.d;const b=this.m.exec(this.c);if(b){this.e=this.d+b[0].length;const k=this.c.substring(this.d,this.e),m=v.b.get(k);m?this.k(m):this.f.push({type:17,lexeme:k,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(U);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let b=this.e,k=!1,m=!1;for(;;){if(b>=this.c.length){this.e=b,this.l(H);return}const $=this.c.charCodeAt(b);if(k)k=!1;else if($===47&&!m){b++;break}else $===91?m=!0:$===92?k=!0:$===93&&(m=!1);b++}for(;b<this.c.length&&v.a.has(this.c.charCodeAt(b));)b++;this.e=b;const A=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:A,offset:this.d})}r(){return this.e>=this.c.length}}t.$Gi=v}),define(rt[33],lt([0,1]),function(st,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$Mh=t.$Lh=t.$Kh=t._util=void 0;var W;(function(U){U.serviceIds=new Map,U.DI_TARGET="$di$target",U.DI_DEPENDENCIES="$di$dependencies";function H(v){return v[U.DI_DEPENDENCIES]||[]}U.getServiceDependencies=H})(W||(t._util=W={})),t.$Kh=D("instantiationService");function z(U,H,v){H[W.DI_TARGET]===H?H[W.DI_DEPENDENCIES].push({id:U,index:v}):(H[W.DI_DEPENDENCIES]=[{id:U,index:v}],H[W.DI_TARGET]=H)}function D(U){if(W.serviceIds.has(U))return W.serviceIds.get(U);const H=function(v,d,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");z(H,v,b)};return H.toString=()=>U,W.serviceIds.set(U,H),H}t.$Lh=D;function S(U){return U}t.$Mh=S}),define(rt[34],lt([0,1,2,3,32,33,28,4]),function(st,t,W,z,D,S,U,H){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$5i=t.$4i=t.$3i=t.$2i=t.$1i=t.$Zi=t.$Yi=t.$Xi=t.$Wi=t.$Vi=t.$Ui=t.$Ti=t.$Si=t.$Ri=t.$Qi=t.$Pi=t.$Oi=t.$Ni=t.$Mi=t.$Li=t.$Ki=t.$Ji=t.$Ii=t.ContextKeyExprType=t.$Hi=void 0;const v=new Map;v.set("false",!1),v.set("true",!0),v.set("isMac",W.$j),v.set("isLinux",W.$k),v.set("isWindows",W.$i),v.set("isWeb",W.$o),v.set("isMacNative",W.$j&&!W.$o),v.set("isEdge",W.$G),v.set("isFirefox",W.$E),v.set("isChrome",W.$D),v.set("isSafari",W.$F);function d(I,e){if(v.get(I)!==void 0)throw(0,H.$5)("contextkey.setConstant(k, v) invoked with already set constant `k`");v.set(I,e)}t.$Hi=d;const b=Object.prototype.hasOwnProperty;var k;(function(I){I[I.False=0]="False",I[I.True=1]="True",I[I.Defined=2]="Defined",I[I.Not=3]="Not",I[I.Equals=4]="Equals",I[I.NotEquals=5]="NotEquals",I[I.And=6]="And",I[I.Regex=7]="Regex",I[I.NotRegex=8]="NotRegex",I[I.Or=9]="Or",I[I.In=10]="In",I[I.NotIn=11]="NotIn",I[I.Greater=12]="Greater",I[I.GreaterEquals=13]="GreaterEquals",I[I.Smaller=14]="Smaller",I[I.SmallerEquals=15]="SmallerEquals"})(k||(t.ContextKeyExprType=k={}));const m={regexParsingWithErrorRecovery:!0},A=(0,U.localize)(0,null),$=(0,U.localize)(1,null),f=(0,U.localize)(2,null),c=(0,U.localize)(3,null),h=(0,U.localize)(4,null),n=(0,U.localize)(5,null),r=(0,U.localize)(6,null),i=(0,U.localize)(7,null);class l{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(e=m){this.k=e,this.d=new D.$Gi,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(e){if(e===""){this.h.push({message:A,offset:0,lexeme:"",additionalInfo:$});return}this.f=this.d.reset(e).scan(),this.g=0,this.h=[];try{const s=this.l();if(!this.E()){const o=this.D(),g=o.type===17?n:void 0;throw this.h.push({message:h,offset:o.offset,lexeme:D.$Gi.getLexeme(o),additionalInfo:g}),l.c}return s}catch(s){if(s!==l.c)throw s;return}}l(){return this.m()}m(){const e=[this.o()];for(;this.y(16);){const s=this.o();e.push(s)}return e.length===1?e[0]:u.or(...e)}o(){const e=[this.s()];for(;this.y(15);){const s=this.s();e.push(s)}return e.length===1?e[0]:u.and(...e)}s(){if(this.y(2)){const e=this.D();switch(e.type){case 11:return this.z(),P.INSTANCE;case 12:return this.z(),a.INSTANCE;case 0:{this.z();const s=this.l();return this.A(1,c),s?.negate()}case 17:return this.z(),F.create(e.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",e)}}return this.t()}t(){const e=this.D();switch(e.type){case 11:return this.z(),u.true();case 12:return this.z(),u.false();case 0:{this.z();const s=this.l();return this.A(1,c),s}case 17:{const s=e.lexeme;if(this.z(),this.y(9)){const g=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),g.type!==10)throw this.B("REGEX",g);const R=g.lexeme,q=R.lastIndexOf("/"),Q=q===R.length-1?void 0:this.w(R.substring(q+1));let it;try{it=new RegExp(R.substring(1,q),Q)}catch{throw this.B("REGEX",g)}return C.create(s,it)}switch(g.type){case 10:case 19:{const R=[g.lexeme];this.z();let q=this.D(),Q=0;for(let ut=0;ut<g.lexeme.length;ut++)g.lexeme.charCodeAt(ut)===40?Q++:g.lexeme.charCodeAt(ut)===41&&Q--;for(;!this.E()&&q.type!==15&&q.type!==16;){switch(q.type){case 0:Q++;break;case 1:Q--;break;case 10:case 18:for(let ut=0;ut<q.lexeme.length;ut++)q.lexeme.charCodeAt(ut)===40?Q++:g.lexeme.charCodeAt(ut)===41&&Q--}if(Q<0)break;R.push(D.$Gi.getLexeme(q)),this.z(),q=this.D()}const it=R.join(""),ct=it.lastIndexOf("/"),ht=ct===it.length-1?void 0:this.w(it.substring(ct+1));let ot;try{ot=new RegExp(it.substring(1,ct),ht)}catch{throw this.B("REGEX",g)}return u.regex(s,ot)}case 18:{const R=g.lexeme;this.z();let q=null;if(!(0,z.$ze)(R)){const Q=R.indexOf("/"),it=R.lastIndexOf("/");if(Q!==it&&Q>=0){const ct=R.slice(Q+1,it),ht=R[it+1]==="i"?"i":"";try{q=new RegExp(ct,ht)}catch{throw this.B("REGEX",g)}}}if(q===null)throw this.B("REGEX",g);return C.create(s,q)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,f);const g=this.u();return u.notIn(s,g)}switch(this.D().type){case 3:{this.z();const g=this.u();if(this.x().type===18)return u.equals(s,g);switch(g){case"true":return u.has(s);case"false":return u.not(s);default:return u.equals(s,g)}}case 4:{this.z();const g=this.u();if(this.x().type===18)return u.notEquals(s,g);switch(g){case"true":return u.not(s);case"false":return u.has(s);default:return u.notEquals(s,g)}}case 5:return this.z(),et.create(s,this.u());case 6:return this.z(),tt.create(s,this.u());case 7:return this.z(),_.create(s,this.u());case 8:return this.z(),x.create(s,this.u());case 13:return this.z(),u.in(s,this.u());default:return u.has(s)}}case 20:throw this.h.push({message:r,offset:e.offset,lexeme:"",additionalInfo:i}),l.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const e=this.D();switch(e.type){case 17:case 18:return this.z(),e.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(e){return e.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(e){return this.C(e)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(e,s){if(this.C(e))return this.z();throw this.B(s,this.D())}B(e,s,o){const g=(0,U.localize)(8,null,e,D.$Gi.getLexeme(s)),R=s.offset,q=D.$Gi.getLexeme(s);return this.h.push({message:g,offset:R,lexeme:q,additionalInfo:o}),l.c}C(e){return this.D().type===e}D(){return this.f[this.g]}E(){return this.D().type===20}}t.$Ii=l;class u{static false(){return P.INSTANCE}static true(){return a.INSTANCE}static has(e){return y.create(e)}static equals(e,s){return B.create(e,s)}static notEquals(e,s){return w.create(e,s)}static regex(e,s){return C.create(e,s)}static in(e,s){return V.create(e,s)}static notIn(e,s){return O.create(e,s)}static not(e){return F.create(e)}static and(...e){return N.create(e,null,!0)}static or(...e){return M.create(e,null,!0)}static greater(e,s){return _.create(e,s)}static greaterEquals(e,s){return x.create(e,s)}static smaller(e,s){return et.create(e,s)}static smallerEquals(e,s){return tt.create(e,s)}static{this.c=new l({regexParsingWithErrorRecovery:!1})}static deserialize(e){return e==null?void 0:this.c.parse(e)}}t.$Ji=u;function p(I){const e=new l({regexParsingWithErrorRecovery:!1});return I.map(s=>(e.parse(s),e.lexingErrors.length>0?e.lexingErrors.map(o=>({errorMessage:o.additionalInfo?(0,U.localize)(9,null,o.additionalInfo):(0,U.localize)(10,null),offset:o.offset,length:o.lexeme.length})):e.parsingErrors.length>0?e.parsingErrors.map(o=>({errorMessage:o.additionalInfo?`${o.message}. ${o.additionalInfo}`:o.message,offset:o.offset,length:o.lexeme.length})):[]))}t.$Ki=p;function L(I,e){const s=I?I.substituteConstants():void 0,o=e?e.substituteConstants():void 0;return!s&&!o?!0:!s||!o?!1:s.equals(o)}t.$Li=L;function E(I,e){return I.cmp(e)}class P{static{this.INSTANCE=new P}constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return a.INSTANCE}}t.$Mi=P;class a{static{this.INSTANCE=new a}constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return P.INSTANCE}}t.$Ni=a;class y{static create(e,s=null){const o=v.get(e);return typeof o=="boolean"?o?a.INSTANCE:P.INSTANCE:new y(e,s)}constructor(e,s){this.key=e,this.c=s,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:G(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=v.get(this.key);return typeof e=="boolean"?e?a.INSTANCE:P.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.c||(this.c=F.create(this.key,this)),this.c}}t.$Oi=y;class B{static create(e,s,o=null){if(typeof s=="boolean")return s?y.create(e,o):F.create(e,o);const g=v.get(e);return typeof g=="boolean"?s===(g?"true":"false")?a.INSTANCE:P.INSTANCE:new B(e,s,o)}constructor(e,s,o){this.c=e,this.d=s,this.f=o,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:Y(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){const e=v.get(this.c);if(typeof e=="boolean"){const s=e?"true":"false";return this.d===s?a.INSTANCE:P.INSTANCE}return this}evaluate(e){return e.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(e){return e.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=w.create(this.c,this.d,this)),this.f}}t.$Pi=B;class V{static create(e,s){return new V(e,s)}constructor(e,s){this.d=e,this.f=s,this.type=10,this.c=null}cmp(e){return e.type!==this.type?this.type-e.type:Y(this.d,this.f,e.d,e.f)}equals(e){return e.type===this.type?this.d===e.d&&this.f===e.f:!1}substituteConstants(){return this}evaluate(e){const s=e.getValue(this.f),o=e.getValue(this.d);return Array.isArray(s)?s.includes(o):typeof o=="string"&&typeof s=="object"&&s!==null?b.call(s,o):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(e){return e.mapIn(this.d,this.f)}negate(){return this.c||(this.c=O.create(this.d,this.f)),this.c}}t.$Qi=V;class O{static create(e,s){return new O(e,s)}constructor(e,s){this.d=e,this.f=s,this.type=11,this.c=V.create(e,s)}cmp(e){return e.type!==this.type?this.type-e.type:this.c.cmp(e.c)}equals(e){return e.type===this.type?this.c.equals(e.c):!1}substituteConstants(){return this}evaluate(e){return!this.c.evaluate(e)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(e){return e.mapNotIn(this.d,this.f)}negate(){return this.c}}t.$Ri=O;class w{static create(e,s,o=null){if(typeof s=="boolean")return s?F.create(e,o):y.create(e,o);const g=v.get(e);return typeof g=="boolean"?s===(g?"true":"false")?P.INSTANCE:a.INSTANCE:new w(e,s,o)}constructor(e,s,o){this.c=e,this.d=s,this.f=o,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:Y(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){const e=v.get(this.c);if(typeof e=="boolean"){const s=e?"true":"false";return this.d===s?P.INSTANCE:a.INSTANCE}return this}evaluate(e){return e.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(e){return e.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=B.create(this.c,this.d,this)),this.f}}t.$Si=w;class F{static create(e,s=null){const o=v.get(e);return typeof o=="boolean"?o?P.INSTANCE:a.INSTANCE:new F(e,s)}constructor(e,s){this.c=e,this.d=s,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:G(this.c,e.c)}equals(e){return e.type===this.type?this.c===e.c:!1}substituteConstants(){const e=v.get(this.c);return typeof e=="boolean"?e?P.INSTANCE:a.INSTANCE:this}evaluate(e){return!e.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(e){return e.mapNot(this.c)}negate(){return this.d||(this.d=y.create(this.c,this)),this.d}}t.$Ti=F;function J(I,e){if(typeof I=="string"){const s=parseFloat(I);isNaN(s)||(I=s)}return typeof I=="string"||typeof I=="number"?e(I):P.INSTANCE}class _{static create(e,s,o=null){return J(s,g=>new _(e,g,o))}constructor(e,s,o){this.c=e,this.d=s,this.f=o,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:Y(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){return this}evaluate(e){return typeof this.d=="string"?!1:parseFloat(e.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(e){return e.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=tt.create(this.c,this.d,this)),this.f}}t.$Ui=_;class x{static create(e,s,o=null){return J(s,g=>new x(e,g,o))}constructor(e,s,o){this.c=e,this.d=s,this.f=o,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:Y(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){return this}evaluate(e){return typeof this.d=="string"?!1:parseFloat(e.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(e){return e.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=et.create(this.c,this.d,this)),this.f}}t.$Vi=x;class et{static create(e,s,o=null){return J(s,g=>new et(e,g,o))}constructor(e,s,o){this.c=e,this.d=s,this.f=o,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:Y(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){return this}evaluate(e){return typeof this.d=="string"?!1:parseFloat(e.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(e){return e.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=x.create(this.c,this.d,this)),this.f}}t.$Wi=et;class tt{static create(e,s,o=null){return J(s,g=>new tt(e,g,o))}constructor(e,s,o){this.c=e,this.d=s,this.f=o,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:Y(this.c,this.d,e.c,e.d)}equals(e){return e.type===this.type?this.c===e.c&&this.d===e.d:!1}substituteConstants(){return this}evaluate(e){return typeof this.d=="string"?!1:parseFloat(e.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(e){return e.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=_.create(this.c,this.d,this)),this.f}}t.$Xi=tt;class C{static create(e,s){return new C(e,s)}constructor(e,s){this.d=e,this.f=s,this.type=7,this.c=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.d<e.d)return-1;if(this.d>e.d)return 1;const s=this.f?this.f.source:"",o=e.f?e.f.source:"";return s<o?-1:s>o?1:0}equals(e){if(e.type===this.type){const s=this.f?this.f.source:"",o=e.f?e.f.source:"";return this.d===e.d&&s===o}return!1}substituteConstants(){return this}evaluate(e){const s=e.getValue(this.d);return this.f?this.f.test(s):!1}serialize(){const e=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${e}`}keys(){return[this.d]}map(e){return e.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=X.create(this)),this.c}}t.$Yi=C;class X{static create(e){return new X(e)}constructor(e){this.c=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this.c.cmp(e.c)}equals(e){return e.type===this.type?this.c.equals(e.c):!1}substituteConstants(){return this}evaluate(e){return!this.c.evaluate(e)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(e){return new X(this.c.map(e))}negate(){return this.c}}t.$Zi=X;function nt(I){let e=null;for(let s=0,o=I.length;s<o;s++){const g=I[s].substituteConstants();if(I[s]!==g&&e===null){e=[];for(let R=0;R<s;R++)e[R]=I[R]}e!==null&&(e[s]=g)}return e===null?I:e}class N{static create(e,s,o){return N.d(e,s,o)}constructor(e,s){this.expr=e,this.c=s,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let s=0,o=this.expr.length;s<o;s++){const g=E(this.expr[s],e.expr[s]);if(g!==0)return g}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let s=0,o=this.expr.length;s<o;s++)if(!this.expr[s].equals(e.expr[s]))return!1;return!0}return!1}substituteConstants(){const e=nt(this.expr);return e===this.expr?this:N.create(e,this.c,!1)}evaluate(e){for(let s=0,o=this.expr.length;s<o;s++)if(!this.expr[s].evaluate(e))return!1;return!0}static d(e,s,o){const g=[];let R=!1;for(const q of e)if(q){if(q.type===1){R=!0;continue}if(q.type===0)return P.INSTANCE;if(q.type===6){g.push(...q.expr);continue}g.push(q)}if(g.length===0&&R)return a.INSTANCE;if(g.length!==0){if(g.length===1)return g[0];g.sort(E);for(let q=1;q<g.length;q++)g[q-1].equals(g[q])&&(g.splice(q,1),q--);if(g.length===1)return g[0];for(;g.length>1;){const q=g[g.length-1];if(q.type!==9)break;g.pop();const Q=g.pop(),it=g.length===0,ct=M.create(q.expr.map(ht=>N.create([ht,Q],null,o)),null,it);ct&&(g.push(ct),g.sort(E))}if(g.length===1)return g[0];if(o){for(let q=0;q<g.length;q++)for(let Q=q+1;Q<g.length;Q++)if(g[q].negate().equals(g[Q]))return P.INSTANCE;if(g.length===1)return g[0]}return new N(g,s)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const s of this.expr)e.push(...s.keys());return e}map(e){return new N(this.expr.map(s=>s.map(e)),null)}negate(){if(!this.c){const e=[];for(const s of this.expr)e.push(s.negate());this.c=M.create(e,this,!0)}return this.c}}t.$1i=N;class M{static create(e,s,o){return M.d(e,s,o)}constructor(e,s){this.expr=e,this.c=s,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let s=0,o=this.expr.length;s<o;s++){const g=E(this.expr[s],e.expr[s]);if(g!==0)return g}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let s=0,o=this.expr.length;s<o;s++)if(!this.expr[s].equals(e.expr[s]))return!1;return!0}return!1}substituteConstants(){const e=nt(this.expr);return e===this.expr?this:M.create(e,this.c,!1)}evaluate(e){for(let s=0,o=this.expr.length;s<o;s++)if(this.expr[s].evaluate(e))return!0;return!1}static d(e,s,o){let g=[],R=!1;if(e){for(let q=0,Q=e.length;q<Q;q++){const it=e[q];if(it){if(it.type===0){R=!0;continue}if(it.type===1)return a.INSTANCE;if(it.type===9){g=g.concat(it.expr);continue}g.push(it)}}if(g.length===0&&R)return P.INSTANCE;g.sort(E)}if(g.length!==0){if(g.length===1)return g[0];for(let q=1;q<g.length;q++)g[q-1].equals(g[q])&&(g.splice(q,1),q--);if(g.length===1)return g[0];if(o){for(let q=0;q<g.length;q++)for(let Q=q+1;Q<g.length;Q++)if(g[q].negate().equals(g[Q]))return a.INSTANCE;if(g.length===1)return g[0]}return new M(g,s)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const s of this.expr)e.push(...s.keys());return e}map(e){return new M(this.expr.map(s=>s.map(e)),null)}negate(){if(!this.c){const e=[];for(const s of this.expr)e.push(s.negate());for(;e.length>1;){const s=e.shift(),o=e.shift(),g=[];for(const R of T(s))for(const q of T(o))g.push(N.create([R,q],null,!1));e.unshift(M.create(g,null,!1))}this.c=M.create(e,this,!0)}return this.c}}t.$2i=M;class j extends y{static{this.d=[]}static all(){return j.d.values()}constructor(e,s,o){super(e,null),this.f=s,typeof o=="object"?j.d.push({...o,key:e}):o!==!0&&j.d.push({key:e,description:o,type:s!=null?typeof s:void 0})}bindTo(e){return e.createKey(this.key,this.f)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return B.create(this.key,e)}notEqualsTo(e){return w.create(this.key,e)}}t.$3i=j,t.$4i=(0,S.$Lh)("contextKeyService");function G(I,e){return I<e?-1:I>e?1:0}function Y(I,e,s,o){return I<s?-1:I>s?1:e<o?-1:e>o?1:0}function Z(I,e){if(I.type===0||e.type===1)return!0;if(I.type===9)return e.type===9?K(I.expr,e.expr):!1;if(e.type===9){for(const s of e.expr)if(Z(I,s))return!0;return!1}if(I.type===6){if(e.type===6)return K(e.expr,I.expr);for(const s of I.expr)if(Z(s,e))return!0;return!1}return I.equals(e)}t.$5i=Z;function K(I,e){let s=0,o=0;for(;s<I.length&&o<e.length;){const g=I[s].cmp(e[o]);if(g<0)return!1;g===0&&s++,o++}return s===I.length}function T(I){return I.type===9?I.expr:[I]}}),define(rt[35],lt([0,1,6,23,42,19,11,5,2,34]),function(st,t,W,z,D,S,U,H,v,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$kI=t.$jI=t.$iI=t.$hI=t.CellStatusbarAlignment=t.$gI=t.$fI=t.$eI=t.NotebookEditorPriority=t.$dI=t.$cI=t.$bI=t.$aI=t.CellUri=t.CellEditType=t.SelectionStateType=t.NotebookCellsChangeType=t.RendererMessagingSpec=t.NotebookRendererMatch=t.NotebookExecutionState=t.NotebookCellExecutionState=t.NotebookRunState=t.$_H=t.$$H=t.$0H=t.$9H=t.CellKind=t.$8H=t.$7H=t.$6H=void 0,t.$6H="workbench.editor.notebook",t.$7H="workbench.editor.notebookTextDiffEditor",t.$8H="workbench.editor.interactive";var b;(function(C){C[C.Markup=1]="Markup",C[C.Code=2]="Code"})(b||(t.CellKind=b={})),t.$9H=["application/json","application/javascript","text/html","image/svg+xml",S.$Jr.latex,S.$Jr.markdown,"image/png","image/jpeg",S.$Jr.text],t.$0H=[S.$Jr.latex,S.$Jr.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",S.$Jr.text],t.$$H=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),t.$_H="_notAvailable";var k;(function(C){C[C.Running=1]="Running",C[C.Idle=2]="Idle"})(k||(t.NotebookRunState=k={}));var m;(function(C){C[C.Unconfirmed=1]="Unconfirmed",C[C.Pending=2]="Pending",C[C.Executing=3]="Executing"})(m||(t.NotebookCellExecutionState=m={}));var A;(function(C){C[C.Unconfirmed=1]="Unconfirmed",C[C.Pending=2]="Pending",C[C.Executing=3]="Executing"})(A||(t.NotebookExecutionState=A={}));var $;(function(C){C[C.WithHardKernelDependency=0]="WithHardKernelDependency",C[C.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",C[C.Pure=2]="Pure",C[C.Never=3]="Never"})($||(t.NotebookRendererMatch=$={}));var f;(function(C){C.Always="always",C.Never="never",C.Optional="optional"})(f||(t.RendererMessagingSpec=f={}));var c;(function(C){C[C.ModelChange=1]="ModelChange",C[C.Move=2]="Move",C[C.ChangeCellLanguage=5]="ChangeCellLanguage",C[C.Initialize=6]="Initialize",C[C.ChangeCellMetadata=7]="ChangeCellMetadata",C[C.Output=8]="Output",C[C.OutputItem=9]="OutputItem",C[C.ChangeCellContent=10]="ChangeCellContent",C[C.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",C[C.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",C[C.ChangeCellMime=13]="ChangeCellMime",C[C.Unknown=100]="Unknown"})(c||(t.NotebookCellsChangeType=c={}));var h;(function(C){C[C.Handle=0]="Handle",C[C.Index=1]="Index"})(h||(t.SelectionStateType=h={}));var n;(function(C){C[C.Replace=1]="Replace",C[C.Output=2]="Output",C[C.Metadata=3]="Metadata",C[C.CellLanguage=4]="CellLanguage",C[C.DocumentMetadata=5]="DocumentMetadata",C[C.Move=6]="Move",C[C.OutputItems=7]="OutputItems",C[C.PartialMetadata=8]="PartialMetadata",C[C.PartialInternalMetadata=9]="PartialInternalMetadata"})(n||(t.CellEditType=n={}));var r;(function(C){C.scheme=U.Schemas.vscodeNotebookCell;const X=["W","X","Y","Z","a","b","c","d","e","f"],nt=new RegExp(`^[${X.join("")}]+`),N=7;function M(T,I){const e=I.toString(N),o=`${e.length<X.length?X[e.length-1]:"z"}${e}s${(0,W.$te)(W.$_d.fromString(T.scheme),!0,!0)}`;return T.with({scheme:C.scheme,fragment:o})}C.generate=M;function j(T){if(T.scheme!==C.scheme)return;const I=T.fragment.indexOf("s");if(I<0)return;const e=parseInt(T.fragment.substring(0,I).replace(nt,""),N),s=(0,W.$se)(T.fragment.substring(I+1)).toString();if(!isNaN(e))return{handle:e,notebook:T.with({scheme:s,fragment:null})}}C.parse=j;function G(T,I){return T.with({scheme:U.Schemas.vscodeNotebookCellOutput,fragment:`op${I??""},${T.scheme!==U.Schemas.file?T.scheme:""}`})}C.generateCellOutputUri=G;function Y(T){if(T.scheme!==U.Schemas.vscodeNotebookCellOutput)return;const I=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(T.fragment);if(!I)return;const e=I[1]&&I[1]!==""?I[1]:void 0,s=I[2];return{outputId:e,notebook:T.with({scheme:s||U.Schemas.file,fragment:null})}}C.parseCellOutputUri=Y;function Z(T,I,e){return C.generate(T,I).with({scheme:e})}C.generateCellPropertyUri=Z;function K(T,I){if(T.scheme===I)return C.parse(T.with({scheme:C.scheme}))}C.parseCellPropertyUri=K})(r||(t.CellUri=r={}));const i=C=>v.$i?C.replace(/\//g,"\\"):C;class l{constructor(X=[],nt=t.$9H){this.e=nt,this.d=[...new Set(X)].map(N=>({pattern:N,matches:z.$sj(i(N))}))}sort(X){const nt=new Map(D.Iterable.map(X,M=>[M,i(M)]));let N=[];for(const{matches:M}of this.d)for(const[j,G]of nt)if(M(G)){N.push(j),nt.delete(j);break}return nt.size&&(N=N.concat([...nt.keys()].sort((M,j)=>this.e.indexOf(M)-this.e.indexOf(j)))),N}prioritize(X,nt){const N=this.f(X);if(N===-1){this.d.unshift({pattern:X,matches:z.$sj(i(X))});return}const M=new Set(nt.map(G=>this.f(G,N)));M.delete(-1);const j=Array.from(M).sort();this.d.splice(N+1,0,...j.map(G=>this.d[G]));for(let G=j.length-1;G>=0;G--)this.d.splice(j[G],1)}toArray(){return this.d.map(X=>X.pattern)}f(X,nt=this.d.length){const N=i(X);for(let M=0;M<nt;M++)if(this.d[M].matches(N))return M;return-1}}t.$aI=l;function u(C,X,nt,N=(M,j)=>M===j){const M=[];function j(Z,K,T){if(K===0&&T.length===0)return;const I=M[M.length-1];I&&I.start+I.deleteCount===Z?(I.deleteCount+=K,I.toInsert.push(...T)):M.push({start:Z,deleteCount:K,toInsert:T})}let G=0,Y=0;for(;;){if(G===C.length){j(G,0,X.slice(Y));break}if(Y===X.length){j(G,C.length-G,[]);break}const Z=C[G],K=X[Y];if(N(Z,K)){G+=1,Y+=1;continue}nt(K)?(j(G,1,[]),G+=1):(j(G,0,[K]),Y+=1)}return M}t.$bI=u,t.$cI=new d.$3i("notebookEditorCursorAtBoundary","none"),t.$dI=new d.$3i("notebookEditorCursorAtLineBoundary","none");var p;(function(C){C.default="default",C.option="option"})(p||(t.NotebookEditorPriority=p={}));function L(C){const X=C;return!!((typeof X.include=="string"||z.$tj(X.include))&&(typeof X.exclude=="string"||z.$tj(X.exclude)))}t.$eI=L;function E(C,X,nt){if(Array.isArray(C.viewType)&&C.viewType.indexOf(X)>=0||C.viewType===X)return!0;if(C.filenamePattern){const N=L(C.filenamePattern)?C.filenamePattern.include:C.filenamePattern,M=L(C.filenamePattern)?C.filenamePattern.exclude:void 0;if(z.$rj(N,(0,H.$lc)(nt.fsPath).toLowerCase()))return!(M&&z.$rj(M,(0,H.$lc)(nt.fsPath).toLowerCase()))}return!1}t.$fI=E,t.$gI={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScroll:"notebook.stickyScroll.enabled",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",formatOnSave:"notebook.formatOnSave.enabled",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",anchorToFocusedCell:"notebook.scrolling.experimental.anchorToFocusedCell"};var P;(function(C){C[C.Left=1]="Left",C[C.Right=2]="Right"})(P||(t.CellStatusbarAlignment=P={}));class a{static{this.d="notebook/"}static create(X){return`${a.d}${X}`}static parse(X){if(X.startsWith(a.d))return X.substring(a.d.length)}}t.$hI=a;function y(C){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(C)}t.$iI=y;const B=new TextDecoder;function V(C){const X=[];let nt=!1;for(const G of C)(X.length===0||nt)&&(X.push(G),nt=!0);let N=F(X);const M=W.$_d.concat(X.map(G=>W.$_d.wrap(G))),j=tt(M);return N=N||j.byteLength!==M.byteLength,{data:j,didCompression:N}}t.$jI=V,t.$kI=`${String.fromCharCode(27)}[A`;const O=t.$kI.split("").map(C=>C.charCodeAt(0)),w=10;function F(C){let X=!1;return C.forEach((nt,N)=>{if(N===0||nt.length<t.$kI.length)return;const M=C[N-1],j=nt.subarray(0,t.$kI.length);if(j[0]===O[0]&&j[1]===O[1]&&j[2]===O[2]){const G=M.lastIndexOf(w);if(G===-1)return;X=!0,C[N-1]=M.subarray(0,G),C[N]=nt.subarray(t.$kI.length)}}),X}function J(C){let X=C;do C=X,X=C.replace(/[^\n]\x08/gm,"");while(X.length<C.length);return C}function _(C){for(C=C.replace(/\r+\n/gm,`
`);C.search(/\r[^$]/g)>-1;){const X=C.match(/^(.*)\r+/m)[1];let nt=C.match(/\r+(.*)$/m)[1];nt=nt+X.slice(nt.length,X.length),C=C.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,nt)}return C}const x="\b".charCodeAt(0),et="\r".charCodeAt(0);function tt(C){return!C.buffer.includes(x)&&!C.buffer.includes(et)?C:W.$_d.fromString(_(J(B.decode(C.buffer))))}}),define(rt[43],lt([0,1,44,45,12,27,35,9,18]),function(st,t,W,z,D,S,U,H,v){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.NotebookEditorSimpleWorker=void 0;function d(f){let c=(0,z.$Bi)(104579,0);for(let h=0;h<f.buffer.length;h++)c=(0,z.$Ai)(f.buffer[h],c);return c}class b{get textBuffer(){if(this.a)return this.a;const c=new S.$xB;c.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const h=c.finish(!0);return this.a=h.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,z.$zi)(this.getValue())),this.b}constructor(c,h,n,r,i,l,u){this.handle=c,this.d=h,this.language=n,this.cellKind=r,this.outputs=i,this.metadata=l,this.internalMetadata=u,this.b=null,this.c=null}getFullModelRange(){const c=this.textBuffer.getLineCount();return new H.$ms(1,1,c,this.textBuffer.getLineLength(c)+1)}getValue(){const c=this.getFullModelRange();return this.textBuffer.getValueInRange(c,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,z.$zi)([(0,z.$zi)(this.language),(0,z.$zi)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(c=>({outputs:c.outputs.map(h=>({mime:h.mime,data:d(h.data)})),metadata:c.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,z.$zi)([(0,z.$zi)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class k{constructor(c,h,n){this.uri=c,this.cells=h,this.metadata=n}acceptModelChanged(c){c.rawEvents.forEach(h=>{if(h.kind===U.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(h.changes);else if(h.kind===U.NotebookCellsChangeType.Move){const n=this.cells.splice(h.index,1);this.cells.splice(h.newIdx,0,...n)}else if(h.kind===U.NotebookCellsChangeType.Output){const n=this.cells[h.index];n.outputs=h.outputs}else if(h.kind===U.NotebookCellsChangeType.ChangeCellLanguage){this.a(h.index);const n=this.cells[h.index];n.language=h.language}else if(h.kind===U.NotebookCellsChangeType.ChangeCellMetadata){this.a(h.index);const n=this.cells[h.index];n.metadata=h.metadata}else if(h.kind===U.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(h.index);const n=this.cells[h.index];n.internalMetadata=h.internalMetadata}})}a(c){if(c<0||c>=this.cells.length)throw new Error(`Illegal index ${c}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(c){c.reverse().forEach(h=>{const r=h[2].map(i=>new b(i.handle,i.source,i.language,i.cellKind,i.outputs,i.metadata));this.cells.splice(h[0],h[1],...r)})}}class m{constructor(c){this.textModel=c}getElements(){const c=new Int32Array(this.textModel.cells.length);for(let h=0;h<this.textModel.cells.length;h++)c[h]=this.textModel.cells[h].getComparisonValue();return c}getCellHash(c){const h=Array.isArray(c.source)?c.source.join(`
`):c.source;return(0,z.$zi)([(0,z.$zi)(h),c.metadata])}}class A{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(c,h){this.a[c]=new k(D.URI.parse(c),h.cells.map(n=>new b(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata)),h.metadata)}acceptModelChanged(c,h){this.a[c]?.acceptModelChanged(h)}acceptRemovedModel(c){this.a[c]&&delete this.a[c]}computeDiff(c,h){const n=this.b(c),r=this.b(h);return{cellsDiff:new W.$ss(new m(n),new m(r)).ComputeDiff(!1)}}canPromptRecommendation(c){const n=this.b(c).cells;for(let r=0;r<n.length;r++){const i=n[r];if(i.cellKind===U.CellKind.Markup||i.language!=="python")continue;const l=i.textBuffer.getLineCount(),u=Math.min(l,20),p=new H.$ms(1,1,u,i.textBuffer.getLineLength(u)+1),E=new v.$lB("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!E)continue;if(i.textBuffer.findMatchesLineByLine(p,E,!0,1).length>0)return!0}return!1}b(c){return this.a[c]}}t.NotebookEditorSimpleWorker=A;function $(f){return new A}t.create=$})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/70b3ad99742f399fee08e39534bf7e649b81921a/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
